var _I=Object.defineProperty;var kI=(e,t,a)=>t in e?_I(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var vv=(e,t,a)=>kI(e,typeof t!="symbol"?t+"":t,a);function CI(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function Ss(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var yv={exports:{}},nm={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tk;function AI(){if(Tk)return nm;Tk=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return nm.Fragment=t,nm.jsx=a,nm.jsxs=a,nm}var Ek;function TI(){return Ek||(Ek=1,yv.exports=AI()),yv.exports}var n=TI(),jv={exports:{}},bt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ok;function EI(){if(Ok)return bt;Ok=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function S(A,z,$){this.props=A,this.context=z,this.refs=w,this.updater=$||y}S.prototype.isReactComponent={},S.prototype.setState=function(A,z){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,z,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(A,z,$){this.props=A,this.context=z,this.refs=w,this.updater=$||y}var C=_.prototype=new k;C.constructor=_,j(C,S.prototype),C.isPureReactComponent=!0;var O=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function I(A,z,$,G,ue,ee){return $=ee.ref,{$$typeof:e,type:A,key:z,ref:$!==void 0?$:null,props:ee}}function M(A,z){return I(A.type,z,void 0,void 0,void 0,A.props)}function V(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function Y(A){var z={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function($){return z[$]})}var U=/\/+/g;function F(A,z){return typeof A=="object"&&A!==null&&A.key!=null?Y(""+A.key):z.toString(36)}function ie(){}function Se(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ie,ie):(A.status="pending",A.then(function(z){A.status==="pending"&&(A.status="fulfilled",A.value=z)},function(z){A.status==="pending"&&(A.status="rejected",A.reason=z)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function oe(A,z,$,G,ue){var ee=typeof A;(ee==="undefined"||ee==="boolean")&&(A=null);var Z=!1;if(A===null)Z=!0;else switch(ee){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(A.$$typeof){case e:case t:Z=!0;break;case h:return Z=A._init,oe(Z(A._payload),z,$,G,ue)}}if(Z)return ue=ue(A),Z=G===""?"."+F(A,0):G,O(ue)?($="",Z!=null&&($=Z.replace(U,"$&/")+"/"),oe(ue,z,$,"",function(_e){return _e})):ue!=null&&(V(ue)&&(ue=M(ue,$+(ue.key==null||A&&A.key===ue.key?"":(""+ue.key).replace(U,"$&/")+"/")+Z)),z.push(ue)),1;Z=0;var Ae=G===""?".":G+":";if(O(A))for(var ae=0;ae<A.length;ae++)G=A[ae],ee=Ae+F(G,ae),Z+=oe(G,z,$,ee,ue);else if(ae=b(A),typeof ae=="function")for(A=ae.call(A),ae=0;!(G=A.next()).done;)G=G.value,ee=Ae+F(G,ae++),Z+=oe(G,z,$,ee,ue);else if(ee==="object"){if(typeof A.then=="function")return oe(Se(A),z,$,G,ue);throw z=String(A),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return Z}function P(A,z,$){if(A==null)return A;var G=[],ue=0;return oe(A,G,"","",function(ee){return z.call($,ee,ue++)}),G}function K(A){if(A._status===-1){var z=A._result;z=z(),z.then(function($){(A._status===0||A._status===-1)&&(A._status=1,A._result=$)},function($){(A._status===0||A._status===-1)&&(A._status=2,A._result=$)}),A._status===-1&&(A._status=0,A._result=z)}if(A._status===1)return A._result.default;throw A._result}var W=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function B(){}return bt.Children={map:P,forEach:function(A,z,$){P(A,function(){z.apply(this,arguments)},$)},count:function(A){var z=0;return P(A,function(){z++}),z},toArray:function(A){return P(A,function(z){return z})||[]},only:function(A){if(!V(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},bt.Component=S,bt.Fragment=a,bt.Profiler=s,bt.PureComponent=_,bt.StrictMode=r,bt.Suspense=m,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,bt.__COMPILER_RUNTIME={__proto__:null,c:function(A){return T.H.useMemoCache(A)}},bt.cache=function(A){return function(){return A.apply(null,arguments)}},bt.cloneElement=function(A,z,$){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var G=j({},A.props),ue=A.key,ee=void 0;if(z!=null)for(Z in z.ref!==void 0&&(ee=void 0),z.key!==void 0&&(ue=""+z.key),z)!E.call(z,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&z.ref===void 0||(G[Z]=z[Z]);var Z=arguments.length-2;if(Z===1)G.children=$;else if(1<Z){for(var Ae=Array(Z),ae=0;ae<Z;ae++)Ae[ae]=arguments[ae+2];G.children=Ae}return I(A.type,ue,void 0,void 0,ee,G)},bt.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},bt.createElement=function(A,z,$){var G,ue={},ee=null;if(z!=null)for(G in z.key!==void 0&&(ee=""+z.key),z)E.call(z,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(ue[G]=z[G]);var Z=arguments.length-2;if(Z===1)ue.children=$;else if(1<Z){for(var Ae=Array(Z),ae=0;ae<Z;ae++)Ae[ae]=arguments[ae+2];ue.children=Ae}if(A&&A.defaultProps)for(G in Z=A.defaultProps,Z)ue[G]===void 0&&(ue[G]=Z[G]);return I(A,ee,void 0,void 0,null,ue)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(A){return{$$typeof:u,render:A}},bt.isValidElement=V,bt.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:K}},bt.memo=function(A,z){return{$$typeof:f,type:A,compare:z===void 0?null:z}},bt.startTransition=function(A){var z=T.T,$={};T.T=$;try{var G=A(),ue=T.S;ue!==null&&ue($,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(B,W)}catch(ee){W(ee)}finally{T.T=z}},bt.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},bt.use=function(A){return T.H.use(A)},bt.useActionState=function(A,z,$){return T.H.useActionState(A,z,$)},bt.useCallback=function(A,z){return T.H.useCallback(A,z)},bt.useContext=function(A){return T.H.useContext(A)},bt.useDebugValue=function(){},bt.useDeferredValue=function(A,z){return T.H.useDeferredValue(A,z)},bt.useEffect=function(A,z,$){var G=T.H;if(typeof $=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return G.useEffect(A,z)},bt.useId=function(){return T.H.useId()},bt.useImperativeHandle=function(A,z,$){return T.H.useImperativeHandle(A,z,$)},bt.useInsertionEffect=function(A,z){return T.H.useInsertionEffect(A,z)},bt.useLayoutEffect=function(A,z){return T.H.useLayoutEffect(A,z)},bt.useMemo=function(A,z){return T.H.useMemo(A,z)},bt.useOptimistic=function(A,z){return T.H.useOptimistic(A,z)},bt.useReducer=function(A,z,$){return T.H.useReducer(A,z,$)},bt.useRef=function(A){return T.H.useRef(A)},bt.useState=function(A){return T.H.useState(A)},bt.useSyncExternalStore=function(A,z,$){return T.H.useSyncExternalStore(A,z,$)},bt.useTransition=function(){return T.H.useTransition()},bt.version="19.1.0",bt}var Pk;function Hd(){return Pk||(Pk=1,jv.exports=EI()),jv.exports}var x=Hd();const It=Ss(x),OI=CI({__proto__:null,default:It},[x]);var wv={exports:{}},am={},Nv={exports:{}},Sv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mk;function PI(){return Mk||(Mk=1,function(e){function t(P,K){var W=P.length;P.push(K);e:for(;0<W;){var B=W-1>>>1,A=P[B];if(0<s(A,K))P[B]=K,P[W]=A,W=B;else break e}}function a(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var K=P[0],W=P.pop();if(W!==K){P[0]=W;e:for(var B=0,A=P.length,z=A>>>1;B<z;){var $=2*(B+1)-1,G=P[$],ue=$+1,ee=P[ue];if(0>s(G,W))ue<A&&0>s(ee,G)?(P[B]=ee,P[ue]=W,B=ue):(P[B]=G,P[$]=W,B=$);else if(ue<A&&0>s(ee,W))P[B]=ee,P[ue]=W,B=ue;else break e}}return K}function s(P,K){var W=P.sortIndex-K.sortIndex;return W!==0?W:P.id-K.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],f=[],h=1,g=null,b=3,y=!1,j=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function O(P){for(var K=a(f);K!==null;){if(K.callback===null)r(f);else if(K.startTime<=P)r(f),K.sortIndex=K.expirationTime,t(m,K);else break;K=a(f)}}function T(P){if(w=!1,O(P),!j)if(a(m)!==null)j=!0,E||(E=!0,F());else{var K=a(f);K!==null&&oe(T,K.startTime-P)}}var E=!1,I=-1,M=5,V=-1;function Y(){return S?!0:!(e.unstable_now()-V<M)}function U(){if(S=!1,E){var P=e.unstable_now();V=P;var K=!0;try{e:{j=!1,w&&(w=!1,_(I),I=-1),y=!0;var W=b;try{t:{for(O(P),g=a(m);g!==null&&!(g.expirationTime>P&&Y());){var B=g.callback;if(typeof B=="function"){g.callback=null,b=g.priorityLevel;var A=B(g.expirationTime<=P);if(P=e.unstable_now(),typeof A=="function"){g.callback=A,O(P),K=!0;break t}g===a(m)&&r(m),O(P)}else r(m);g=a(m)}if(g!==null)K=!0;else{var z=a(f);z!==null&&oe(T,z.startTime-P),K=!1}}break e}finally{g=null,b=W,y=!1}K=void 0}}finally{K?F():E=!1}}}var F;if(typeof C=="function")F=function(){C(U)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Se=ie.port2;ie.port1.onmessage=U,F=function(){Se.postMessage(null)}}else F=function(){k(U,0)};function oe(P,K){I=k(function(){P(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(P){P.callback=null},e.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<P?Math.floor(1e3/P):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(P){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var W=b;b=K;try{return P()}finally{b=W}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(P,K){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var W=b;b=P;try{return K()}finally{b=W}},e.unstable_scheduleCallback=function(P,K,W){var B=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,P){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=W+A,P={id:h++,callback:K,priorityLevel:P,startTime:W,expirationTime:A,sortIndex:-1},W>B?(P.sortIndex=W,t(f,P),a(m)===null&&P===a(f)&&(w?(_(I),I=-1):w=!0,oe(T,W-B))):(P.sortIndex=A,t(m,P),j||y||(j=!0,E||(E=!0,F()))),P},e.unstable_shouldYield=Y,e.unstable_wrapCallback=function(P){var K=b;return function(){var W=b;b=K;try{return P.apply(this,arguments)}finally{b=W}}}}(Sv)),Sv}var Dk;function MI(){return Dk||(Dk=1,Nv.exports=PI()),Nv.exports}var _v={exports:{}},ka={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rk;function DI(){if(Rk)return ka;Rk=1;var e=Hd();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:m,containerInfo:f,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return ka.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,ka.createPortal=function(m,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(m,f,null,h)},ka.flushSync=function(m){var f=c.T,h=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=f,r.p=h,r.d.f()}},ka.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},ka.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},ka.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(m,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},ka.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},ka.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin);r.d.L(m,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},ka.preloadModule=function(m,f){if(typeof m=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},ka.requestFormReset=function(m){r.d.r(m)},ka.unstable_batchedUpdates=function(m,f){return m(f)},ka.useFormState=function(m,f,h){return c.H.useFormState(m,f,h)},ka.useFormStatus=function(){return c.H.useHostTransitionStatus()},ka.version="19.1.0",ka}var $k;function GO(){if($k)return _v.exports;$k=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_v.exports=DI(),_v.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lk;function RI(){if(Lk)return am;Lk=1;var e=MI(),t=Hd(),a=GO();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(l(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,p=o;;){var v=d.return;if(v===null)break;var N=v.alternate;if(N===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===d)return u(v),i;if(N===p)return u(v),o;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=v,p=N;else{for(var D=!1,H=v.child;H;){if(H===d){D=!0,d=v,p=N;break}if(H===p){D=!0,p=v,d=N;break}H=H.sibling}if(!D){for(H=N.child;H;){if(H===d){D=!0,d=N,p=v;break}if(H===p){D=!0,p=N,d=v;break}H=H.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function f(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=f(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),V=Symbol.for("react.activity"),Y=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function F(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var ie=Symbol.for("react.client.reference");function Se(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ie?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList";case V:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case O:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case I:return o=i.displayName||null,o!==null?o:Se(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return Se(i(o))}catch{}}return null}var oe=Array.isArray,P=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W={pending:!1,data:null,method:null,action:null},B=[],A=-1;function z(i){return{current:i}}function $(i){0>A||(i.current=B[A],B[A]=null,A--)}function G(i,o){A++,B[A]=i.current,i.current=o}var ue=z(null),ee=z(null),Z=z(null),Ae=z(null);function ae(i,o){switch(G(Z,o),G(ee,i),G(ue,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?ak(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=ak(o),i=rk(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}$(ue),G(ue,i)}function _e(){$(ue),$(ee),$(Z)}function Me(i){i.memoizedState!==null&&G(Ae,i);var o=ue.current,d=rk(o,i.type);o!==d&&(G(ee,i),G(ue,d))}function Pe(i){ee.current===i&&($(ue),$(ee)),Ae.current===i&&($(Ae),Zu._currentValue=W)}var ge=Object.prototype.hasOwnProperty,qe=e.unstable_scheduleCallback,Ve=e.unstable_cancelCallback,ye=e.unstable_shouldYield,ce=e.unstable_requestPaint,Ee=e.unstable_now,te=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,$e=e.unstable_UserBlockingPriority,Ke=e.unstable_NormalPriority,Ge=e.unstable_LowPriority,st=e.unstable_IdlePriority,nt=e.log,Oe=e.unstable_setDisableYieldValue,ne=null,ke=null;function xe(i){if(typeof nt=="function"&&Oe(i),ke&&typeof ke.setStrictMode=="function")try{ke.setStrictMode(ne,i)}catch{}}var Be=Math.clz32?Math.clz32:Je,at=Math.log,dt=Math.LN2;function Je(i){return i>>>=0,i===0?32:31-(at(i)/dt|0)|0}var $t=256,Tt=4194304;function Ie(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function We(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var v=0,N=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var H=p&134217727;return H!==0?(p=H&~N,p!==0?v=Ie(p):(D&=H,D!==0?v=Ie(D):d||(d=H&~i,d!==0&&(v=Ie(d))))):(H=p&~N,H!==0?v=Ie(H):D!==0?v=Ie(D):d||(d=p&~i,d!==0&&(v=Ie(d)))),v===0?0:o!==0&&o!==v&&(o&N)===0&&(N=v&-v,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:v}function pt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function En(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function le(){var i=$t;return $t<<=1,($t&4194048)===0&&($t=256),i}function X(){var i=Tt;return Tt<<=1,(Tt&62914560)===0&&(Tt=4194304),i}function se(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function me(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ze(i,o,d,p,v,N){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var H=i.entanglements,re=i.expirationTimes,ve=i.hiddenUpdates;for(d=D&~d;0<d;){var Le=31-Be(d),Ue=1<<Le;H[Le]=0,re[Le]=-1;var je=ve[Le];if(je!==null)for(ve[Le]=null,Le=0;Le<je.length;Le++){var Ce=je[Le];Ce!==null&&(Ce.lane&=-536870913)}d&=~Ue}p!==0&&lt(i,p,0),N!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=N&~(D&~o))}function lt(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Be(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&4194090}function yt(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-Be(d),v=1<<p;v&o|i[p]&o&&(i[p]|=o),d&=~v}}function ut(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Mt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function xt(){var i=K.p;return i!==0?i:(i=window.event,i===void 0?32:Nk(i.type))}function Vn(i,o){var d=K.p;try{return K.p=i,o()}finally{K.p=d}}var rn=Math.random().toString(36).slice(2),Et="__reactFiber$"+rn,Ot="__reactProps$"+rn,On="__reactContainer$"+rn,Jn="__reactEvents$"+rn,Mr="__reactListeners$"+rn,Qs="__reactHandles$"+rn,La="__reactResources$"+rn,ir="__reactMarker$"+rn;function rs(i){delete i[Et],delete i[Ot],delete i[Jn],delete i[Mr],delete i[Qs]}function Q(i){var o=i[Et];if(o)return o;for(var d=i.parentNode;d;){if(o=d[On]||d[Et]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=ok(i);i!==null;){if(d=i[Et])return d;i=ok(i)}return o}i=d,d=i.parentNode}return null}function fe(i){if(i=i[Et]||i[On]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function He(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function q(i){var o=i[La];return o||(o=i[La]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function L(i){i[ir]=!0}var J=new Set,Ne={};function Re(i,o){Fe(i,o),Fe(i+"Capture",o)}function Fe(i,o){for(Ne[i]=o,i=0;i<o.length;i++)J.add(o[i])}var Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wt={},Gt={};function da(i){return ge.call(Gt,i)?!0:ge.call(wt,i)?!1:Xe.test(i)?Gt[i]=!0:(wt[i]=!0,!1)}function ea(i,o,d){if(da(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Js(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function Ia(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}var Cs,Na;function Xi(i){if(Cs===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Cs=o&&o[1]||"",Na=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+i+Na}var cu=!1;function Sa(i,o){if(!i||cu)return"";cu=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ue=function(){throw Error()};if(Object.defineProperty(Ue.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ue,[])}catch(Ce){var je=Ce}Reflect.construct(i,[],Ue)}else{try{Ue.call()}catch(Ce){je=Ce}i.call(Ue.prototype)}}else{try{throw Error()}catch(Ce){je=Ce}(Ue=i())&&typeof Ue.catch=="function"&&Ue.catch(function(){})}}catch(Ce){if(Ce&&je&&typeof Ce.stack=="string")return[Ce.stack,je.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],H=N[1];if(D&&H){var re=D.split(`
`),ve=H.split(`
`);for(v=p=0;p<re.length&&!re[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ve.length&&!ve[v].includes("DetermineComponentFrameRoot");)v++;if(p===re.length||v===ve.length)for(p=re.length-1,v=ve.length-1;1<=p&&0<=v&&re[p]!==ve[v];)v--;for(;1<=p&&0<=v;p--,v--)if(re[p]!==ve[v]){if(p!==1||v!==1)do if(p--,v--,0>v||re[p]!==ve[v]){var Le=`
`+re[p].replace(" at new "," at ");return i.displayName&&Le.includes("<anonymous>")&&(Le=Le.replace("<anonymous>",i.displayName)),Le}while(1<=p&&0<=v);break}}}finally{cu=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Xi(d):""}function vL(i){switch(i.tag){case 26:case 27:case 5:return Xi(i.type);case 16:return Xi("Lazy");case 13:return Xi("Suspense");case 19:return Xi("SuspenseList");case 0:case 15:return Sa(i.type,!1);case 11:return Sa(i.type.render,!1);case 1:return Sa(i.type,!0);case 31:return Xi("Activity");default:return""}}function ZS(i){try{var o="";do o+=vL(i),i=i.return;while(i);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function Dr(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function QS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function yL(i){var o=QS(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,N=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(D){p=""+D,N.call(this,D)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Kf(i){i._valueTracker||(i._valueTracker=yL(i))}function JS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=QS(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function Gf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var jL=/[\n"\\]/g;function Rr(i){return i.replace(jL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function xg(i,o,d,p,v,N,D,H){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Dr(o)):i.value!==""+Dr(o)&&(i.value=""+Dr(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?gg(i,D,Dr(o)):d!=null?gg(i,D,Dr(d)):p!=null&&i.removeAttribute("value"),v==null&&N!=null&&(i.defaultChecked=!!N),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?i.name=""+Dr(H):i.removeAttribute("name")}function e4(i,o,d,p,v,N,D,H){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;d=d!=null?""+Dr(d):"",o=o!=null?""+Dr(o):d,H||o===i.value||(i.value=o),i.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=H?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function gg(i,o,d){o==="number"&&Gf(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function uc(i,o,d,p){if(i=i.options,o){o={};for(var v=0;v<d.length;v++)o["$"+d[v]]=!0;for(d=0;d<i.length;d++)v=o.hasOwnProperty("$"+i[d].value),i[d].selected!==v&&(i[d].selected=v),v&&p&&(i[d].defaultSelected=!0)}else{for(d=""+Dr(d),o=null,v=0;v<i.length;v++){if(i[v].value===d){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function t4(i,o,d){if(o!=null&&(o=""+Dr(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+Dr(d):""}function n4(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(oe(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=Dr(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p)}function mc(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var wL=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function a4(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||wL.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function r4(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&d[v]!==p&&a4(i,v,p)}else for(var N in o)o.hasOwnProperty(N)&&a4(i,N,o[N])}function bg(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NL=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),SL=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yf(i){return SL.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var vg=null;function yg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var fc=null,hc=null;function s4(i){var o=fe(i);if(o&&(i=o.stateNode)){var d=i[Ot]||null;e:switch(i=o.stateNode,o.type){case"input":if(xg(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+Rr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var v=p[Ot]||null;if(!v)throw Error(r(90));xg(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&JS(p)}break e;case"textarea":t4(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&uc(i,!!d.multiple,o,!1)}}}var jg=!1;function i4(i,o,d){if(jg)return i(o,d);jg=!0;try{var p=i(o);return p}finally{if(jg=!1,(fc!==null||hc!==null)&&(Mh(),fc&&(o=fc,i=hc,hc=fc=null,s4(o),i)))for(o=0;o<i.length;o++)s4(i[o])}}function du(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Ot]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wg=!1;if(ei)try{var uu={};Object.defineProperty(uu,"passive",{get:function(){wg=!0}}),window.addEventListener("test",uu,uu),window.removeEventListener("test",uu,uu)}catch{wg=!1}var Zi=null,Ng=null,Wf=null;function l4(){if(Wf)return Wf;var i,o=Ng,d=o.length,p,v="value"in Zi?Zi.value:Zi.textContent,N=v.length;for(i=0;i<d&&o[i]===v[i];i++);var D=d-i;for(p=1;p<=D&&o[d-p]===v[N-p];p++);return Wf=v.slice(i,1<p?1-p:void 0)}function Xf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function Zf(){return!0}function o4(){return!1}function Ya(i){function o(d,p,v,N,D){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var H in i)i.hasOwnProperty(H)&&(d=i[H],this[H]=d?d(N):N[H]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?Zf:o4,this.isPropagationStopped=o4,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=Zf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=Zf)},persist:function(){},isPersistent:Zf}),o}var eo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qf=Ya(eo),mu=h({},eo,{view:0,detail:0}),_L=Ya(mu),Sg,_g,fu,Jf=h({},mu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==fu&&(fu&&i.type==="mousemove"?(Sg=i.screenX-fu.screenX,_g=i.screenY-fu.screenY):_g=Sg=0,fu=i),Sg)},movementY:function(i){return"movementY"in i?i.movementY:_g}}),c4=Ya(Jf),kL=h({},Jf,{dataTransfer:0}),CL=Ya(kL),AL=h({},mu,{relatedTarget:0}),kg=Ya(AL),TL=h({},eo,{animationName:0,elapsedTime:0,pseudoElement:0}),EL=Ya(TL),OL=h({},eo,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),PL=Ya(OL),ML=h({},eo,{data:0}),d4=Ya(ML),DL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},RL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$L={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function LL(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$L[i])?!!o[i]:!1}function Cg(){return LL}var IL=h({},mu,{key:function(i){if(i.key){var o=DL[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Xf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?RL[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cg,charCode:function(i){return i.type==="keypress"?Xf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),BL=Ya(IL),zL=h({},Jf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),u4=Ya(zL),UL=h({},mu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cg}),FL=Ya(UL),VL=h({},eo,{propertyName:0,elapsedTime:0,pseudoElement:0}),HL=Ya(VL),qL=h({},Jf,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),KL=Ya(qL),GL=h({},eo,{newState:0,oldState:0}),YL=Ya(GL),WL=[9,13,27,32],Ag=ei&&"CompositionEvent"in window,hu=null;ei&&"documentMode"in document&&(hu=document.documentMode);var XL=ei&&"TextEvent"in window&&!hu,m4=ei&&(!Ag||hu&&8<hu&&11>=hu),f4=" ",h4=!1;function p4(i,o){switch(i){case"keyup":return WL.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function x4(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var pc=!1;function ZL(i,o){switch(i){case"compositionend":return x4(o);case"keypress":return o.which!==32?null:(h4=!0,f4);case"textInput":return i=o.data,i===f4&&h4?null:i;default:return null}}function QL(i,o){if(pc)return i==="compositionend"||!Ag&&p4(i,o)?(i=l4(),Wf=Ng=Zi=null,pc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return m4&&o.locale!=="ko"?null:o.data;default:return null}}var JL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g4(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!JL[i.type]:o==="textarea"}function b4(i,o,d,p){fc?hc?hc.push(p):hc=[p]:fc=p,o=Bh(o,"onChange"),0<o.length&&(d=new Qf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var pu=null,xu=null;function e9(i){Q5(i,0)}function eh(i){var o=He(i);if(JS(o))return i}function v4(i,o){if(i==="change")return o}var y4=!1;if(ei){var Tg;if(ei){var Eg="oninput"in document;if(!Eg){var j4=document.createElement("div");j4.setAttribute("oninput","return;"),Eg=typeof j4.oninput=="function"}Tg=Eg}else Tg=!1;y4=Tg&&(!document.documentMode||9<document.documentMode)}function w4(){pu&&(pu.detachEvent("onpropertychange",N4),xu=pu=null)}function N4(i){if(i.propertyName==="value"&&eh(xu)){var o=[];b4(o,xu,i,yg(i)),i4(e9,o)}}function t9(i,o,d){i==="focusin"?(w4(),pu=o,xu=d,pu.attachEvent("onpropertychange",N4)):i==="focusout"&&w4()}function n9(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eh(xu)}function a9(i,o){if(i==="click")return eh(o)}function r9(i,o){if(i==="input"||i==="change")return eh(o)}function s9(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var lr=typeof Object.is=="function"?Object.is:s9;function gu(i,o){if(lr(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!ge.call(o,v)||!lr(i[v],o[v]))return!1}return!0}function S4(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _4(i,o){var d=S4(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=S4(d)}}function k4(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?k4(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function C4(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Gf(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Gf(i.document)}return o}function Og(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var i9=ei&&"documentMode"in document&&11>=document.documentMode,xc=null,Pg=null,bu=null,Mg=!1;function A4(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;Mg||xc==null||xc!==Gf(p)||(p=xc,"selectionStart"in p&&Og(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),bu&&gu(bu,p)||(bu=p,p=Bh(Pg,"onSelect"),0<p.length&&(o=new Qf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=xc)))}function to(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var gc={animationend:to("Animation","AnimationEnd"),animationiteration:to("Animation","AnimationIteration"),animationstart:to("Animation","AnimationStart"),transitionrun:to("Transition","TransitionRun"),transitionstart:to("Transition","TransitionStart"),transitioncancel:to("Transition","TransitionCancel"),transitionend:to("Transition","TransitionEnd")},Dg={},T4={};ei&&(T4=document.createElement("div").style,"AnimationEvent"in window||(delete gc.animationend.animation,delete gc.animationiteration.animation,delete gc.animationstart.animation),"TransitionEvent"in window||delete gc.transitionend.transition);function no(i){if(Dg[i])return Dg[i];if(!gc[i])return i;var o=gc[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in T4)return Dg[i]=o[d];return i}var E4=no("animationend"),O4=no("animationiteration"),P4=no("animationstart"),l9=no("transitionrun"),o9=no("transitionstart"),c9=no("transitioncancel"),M4=no("transitionend"),D4=new Map,Rg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rg.push("scrollEnd");function ss(i,o){D4.set(i,o),Re(o,[i])}var R4=new WeakMap;function $r(i,o){if(typeof i=="object"&&i!==null){var d=R4.get(i);return d!==void 0?d:(o={value:i,source:o,stack:ZS(o)},R4.set(i,o),o)}return{value:i,source:o,stack:ZS(o)}}var Lr=[],bc=0,$g=0;function th(){for(var i=bc,o=$g=bc=0;o<i;){var d=Lr[o];Lr[o++]=null;var p=Lr[o];Lr[o++]=null;var v=Lr[o];Lr[o++]=null;var N=Lr[o];if(Lr[o++]=null,p!==null&&v!==null){var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}N!==0&&$4(d,v,N)}}function nh(i,o,d,p){Lr[bc++]=i,Lr[bc++]=o,Lr[bc++]=d,Lr[bc++]=p,$g|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Lg(i,o,d,p){return nh(i,o,d,p),ah(i)}function vc(i,o){return nh(i,null,null,o),ah(i)}function $4(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var v=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(v=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,v&&o!==null&&(v=31-Be(d),i=N.hiddenUpdates,p=i[v],p===null?i[v]=[o]:p.push(o),o.lane=d|536870912),N):null}function ah(i){if(50<Vu)throw Vu=0,Vb=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var yc={};function d9(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function or(i,o,d,p){return new d9(i,o,d,p)}function Ig(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ti(i,o){var d=i.alternate;return d===null?(d=or(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function L4(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function rh(i,o,d,p,v,N){var D=0;if(p=i,typeof i=="function")Ig(i)&&(D=1);else if(typeof i=="string")D=mI(i,d,ue.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case V:return i=or(31,d,o,v),i.elementType=V,i.lanes=N,i;case j:return ao(d.children,v,N,o);case w:D=8,v|=24;break;case S:return i=or(12,d,o,v|2),i.elementType=S,i.lanes=N,i;case T:return i=or(13,d,o,v),i.elementType=T,i.lanes=N,i;case E:return i=or(19,d,o,v),i.elementType=E,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:D=10;break e;case _:D=9;break e;case O:D=11;break e;case I:D=14;break e;case M:D=16,p=null;break e}D=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=or(D,d,o,v),o.elementType=i,o.type=p,o.lanes=N,o}function ao(i,o,d,p){return i=or(7,i,p,o),i.lanes=d,i}function Bg(i,o,d){return i=or(6,i,null,o),i.lanes=d,i}function zg(i,o,d){return o=or(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var jc=[],wc=0,sh=null,ih=0,Ir=[],Br=0,ro=null,ni=1,ai="";function so(i,o){jc[wc++]=ih,jc[wc++]=sh,sh=i,ih=o}function I4(i,o,d){Ir[Br++]=ni,Ir[Br++]=ai,Ir[Br++]=ro,ro=i;var p=ni;i=ai;var v=32-Be(p)-1;p&=~(1<<v),d+=1;var N=32-Be(o)+v;if(30<N){var D=v-v%5;N=(p&(1<<D)-1).toString(32),p>>=D,v-=D,ni=1<<32-Be(o)+v|d<<v|p,ai=N+i}else ni=1<<N|d<<v|p,ai=i}function Ug(i){i.return!==null&&(so(i,1),I4(i,1,0))}function Fg(i){for(;i===sh;)sh=jc[--wc],jc[wc]=null,ih=jc[--wc],jc[wc]=null;for(;i===ro;)ro=Ir[--Br],Ir[Br]=null,ai=Ir[--Br],Ir[Br]=null,ni=Ir[--Br],Ir[Br]=null}var Ba=null,jn=null,Ut=!1,io=null,As=!1,Vg=Error(r(519));function lo(i){var o=Error(r(418,""));throw ju($r(o,i)),Vg}function B4(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[Et]=i,o[Ot]=p,d){case"dialog":Ct("cancel",o),Ct("close",o);break;case"iframe":case"object":case"embed":Ct("load",o);break;case"video":case"audio":for(d=0;d<qu.length;d++)Ct(qu[d],o);break;case"source":Ct("error",o);break;case"img":case"image":case"link":Ct("error",o),Ct("load",o);break;case"details":Ct("toggle",o);break;case"input":Ct("invalid",o),e4(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Kf(o);break;case"select":Ct("invalid",o);break;case"textarea":Ct("invalid",o),n4(o,p.value,p.defaultValue,p.children),Kf(o)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||nk(o.textContent,d)?(p.popover!=null&&(Ct("beforetoggle",o),Ct("toggle",o)),p.onScroll!=null&&Ct("scroll",o),p.onScrollEnd!=null&&Ct("scrollend",o),p.onClick!=null&&(o.onclick=zh),o=!0):o=!1,o||lo(i)}function z4(i){for(Ba=i.return;Ba;)switch(Ba.tag){case 5:case 13:As=!1;return;case 27:case 3:As=!0;return;default:Ba=Ba.return}}function vu(i){if(i!==Ba)return!1;if(!Ut)return z4(i),Ut=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||sv(i.type,i.memoizedProps)),d=!d),d&&jn&&lo(i),z4(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(o===0){jn=ls(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;i=i.nextSibling}jn=null}}else o===27?(o=jn,fl(i.type)?(i=cv,cv=null,jn=i):jn=o):jn=Ba?ls(i.stateNode.nextSibling):null;return!0}function yu(){jn=Ba=null,Ut=!1}function U4(){var i=io;return i!==null&&(Za===null?Za=i:Za.push.apply(Za,i),io=null),i}function ju(i){io===null?io=[i]:io.push(i)}var Hg=z(null),oo=null,ri=null;function Qi(i,o,d){G(Hg,o._currentValue),o._currentValue=d}function si(i){i._currentValue=Hg.current,$(Hg)}function qg(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function Kg(i,o,d,p){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var N=v.dependencies;if(N!==null){var D=v.child;N=N.firstContext;e:for(;N!==null;){var H=N;N=v;for(var re=0;re<o.length;re++)if(H.context===o[re]){N.lanes|=d,H=N.alternate,H!==null&&(H.lanes|=d),qg(N.return,d,i),p||(D=null);break e}N=H.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(r(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),qg(D,d,i),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===i){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function wu(i,o,d,p){i=null;for(var v=o,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var H=v.type;lr(v.pendingProps.value,D.value)||(i!==null?i.push(H):i=[H])}}else if(v===Ae.current){if(D=v.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Zu):i=[Zu])}v=v.return}i!==null&&Kg(o,i,d,p),o.flags|=262144}function lh(i){for(i=i.firstContext;i!==null;){if(!lr(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function co(i){oo=i,ri=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function _a(i){return F4(oo,i)}function oh(i,o){return oo===null&&co(i),F4(i,o)}function F4(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},ri===null){if(i===null)throw Error(r(308));ri=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else ri=ri.next=o;return d}var u9=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},m9=e.unstable_scheduleCallback,f9=e.unstable_NormalPriority,Hn={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Gg(){return{controller:new u9,data:new Map,refCount:0}}function Nu(i){i.refCount--,i.refCount===0&&m9(f9,function(){i.controller.abort()})}var Su=null,Yg=0,Nc=0,Sc=null;function h9(i,o){if(Su===null){var d=Su=[];Yg=0,Nc=Xb(),Sc={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Yg++,o.then(V4,V4),o}function V4(){if(--Yg===0&&Su!==null){Sc!==null&&(Sc.status="fulfilled");var i=Su;Su=null,Nc=0,Sc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function p9(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<d.length;v++)(0,d[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),p}var H4=P.S;P.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&h9(i,o),H4!==null&&H4(i,o)};var uo=z(null);function Wg(){var i=uo.current;return i!==null?i:tn.pooledCache}function ch(i,o){o===null?G(uo,uo.current):G(uo,o.pool)}function q4(){var i=Wg();return i===null?null:{parent:Hn._currentValue,pool:i}}var _u=Error(r(460)),K4=Error(r(474)),dh=Error(r(542)),Xg={then:function(){}};function G4(i){return i=i.status,i==="fulfilled"||i==="rejected"}function uh(){}function Y4(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(uh,uh),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,X4(i),i;default:if(typeof o.status=="string")o.then(uh,uh);else{if(i=tn,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,X4(i),i}throw ku=o,_u}}var ku=null;function W4(){if(ku===null)throw Error(r(459));var i=ku;return ku=null,i}function X4(i){if(i===_u||i===dh)throw Error(r(483))}var Ji=!1;function Zg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Qg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function el(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function tl(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Ht&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=ah(i),$4(i,null,d),o}return nh(i,p,o,d),ah(i)}function Cu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,yt(i,d)}}function Jg(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?v=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?v=N=o:N=N.next=o}else v=N=o;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var eb=!1;function Au(){if(eb){var i=Sc;if(i!==null)throw i}}function Tu(i,o,d,p){eb=!1;var v=i.updateQueue;Ji=!1;var N=v.firstBaseUpdate,D=v.lastBaseUpdate,H=v.shared.pending;if(H!==null){v.shared.pending=null;var re=H,ve=re.next;re.next=null,D===null?N=ve:D.next=ve,D=re;var Le=i.alternate;Le!==null&&(Le=Le.updateQueue,H=Le.lastBaseUpdate,H!==D&&(H===null?Le.firstBaseUpdate=ve:H.next=ve,Le.lastBaseUpdate=re))}if(N!==null){var Ue=v.baseState;D=0,Le=ve=re=null,H=N;do{var je=H.lane&-536870913,Ce=je!==H.lane;if(Ce?(Dt&je)===je:(p&je)===je){je!==0&&je===Nc&&(eb=!0),Le!==null&&(Le=Le.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var ft=i,ct=H;je=o;var Xt=d;switch(ct.tag){case 1:if(ft=ct.payload,typeof ft=="function"){Ue=ft.call(Xt,Ue,je);break e}Ue=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ct.payload,je=typeof ft=="function"?ft.call(Xt,Ue,je):ft,je==null)break e;Ue=h({},Ue,je);break e;case 2:Ji=!0}}je=H.callback,je!==null&&(i.flags|=64,Ce&&(i.flags|=8192),Ce=v.callbacks,Ce===null?v.callbacks=[je]:Ce.push(je))}else Ce={lane:je,tag:H.tag,payload:H.payload,callback:H.callback,next:null},Le===null?(ve=Le=Ce,re=Ue):Le=Le.next=Ce,D|=je;if(H=H.next,H===null){if(H=v.shared.pending,H===null)break;Ce=H,H=Ce.next,Ce.next=null,v.lastBaseUpdate=Ce,v.shared.pending=null}}while(!0);Le===null&&(re=Ue),v.baseState=re,v.firstBaseUpdate=ve,v.lastBaseUpdate=Le,N===null&&(v.shared.lanes=0),cl|=D,i.lanes=D,i.memoizedState=Ue}}function Z4(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function Q4(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)Z4(d[i],o)}var _c=z(null),mh=z(0);function J4(i,o){i=mi,G(mh,i),G(_c,o),mi=i|o.baseLanes}function tb(){G(mh,mi),G(_c,_c.current)}function nb(){mi=mh.current,$(_c),$(mh)}var nl=0,Nt=null,Yt=null,Ln=null,fh=!1,kc=!1,mo=!1,hh=0,Eu=0,Cc=null,x9=0;function Pn(){throw Error(r(321))}function ab(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!lr(i[d],o[d]))return!1;return!0}function rb(i,o,d,p,v,N){return nl=N,Nt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,P.H=i===null||i.memoizedState===null?$_:L_,mo=!1,N=d(p,v),mo=!1,kc&&(N=t_(o,d,p,v)),e_(i),N}function e_(i){P.H=yh;var o=Yt!==null&&Yt.next!==null;if(nl=0,Ln=Yt=Nt=null,fh=!1,Eu=0,Cc=null,o)throw Error(r(300));i===null||ta||(i=i.dependencies,i!==null&&lh(i)&&(ta=!0))}function t_(i,o,d,p){Nt=i;var v=0;do{if(kc&&(Cc=null),Eu=0,kc=!1,25<=v)throw Error(r(301));if(v+=1,Ln=Yt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}P.H=N9,N=o(d,p)}while(kc);return N}function g9(){var i=P.H,o=i.useState()[0];return o=typeof o.then=="function"?Ou(o):o,i=i.useState()[0],(Yt!==null?Yt.memoizedState:null)!==i&&(Nt.flags|=1024),o}function sb(){var i=hh!==0;return hh=0,i}function ib(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function lb(i){if(fh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}fh=!1}nl=0,Ln=Yt=Nt=null,kc=!1,Eu=hh=0,Cc=null}function Wa(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ln===null?Nt.memoizedState=Ln=i:Ln=Ln.next=i,Ln}function In(){if(Yt===null){var i=Nt.alternate;i=i!==null?i.memoizedState:null}else i=Yt.next;var o=Ln===null?Nt.memoizedState:Ln.next;if(o!==null)Ln=o,Yt=i;else{if(i===null)throw Nt.alternate===null?Error(r(467)):Error(r(310));Yt=i,i={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Ln===null?Nt.memoizedState=Ln=i:Ln=Ln.next=i}return Ln}function ob(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ou(i){var o=Eu;return Eu+=1,Cc===null&&(Cc=[]),i=Y4(Cc,i,o),o=Nt,(Ln===null?o.memoizedState:Ln.next)===null&&(o=o.alternate,P.H=o===null||o.memoizedState===null?$_:L_),i}function ph(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Ou(i);if(i.$$typeof===C)return _a(i)}throw Error(r(438,String(i)))}function cb(i){var o=null,d=Nt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=Nt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=ob(),Nt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=Y;return o.index++,d}function ii(i,o){return typeof o=="function"?o(i):o}function xh(i){var o=In();return db(o,Yt,i)}function db(i,o,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var v=i.baseQueue,N=p.pending;if(N!==null){if(v!==null){var D=v.next;v.next=N.next,N.next=D}o.baseQueue=v=N,p.pending=null}if(N=i.baseState,v===null)i.memoizedState=N;else{o=v.next;var H=D=null,re=null,ve=o,Le=!1;do{var Ue=ve.lane&-536870913;if(Ue!==ve.lane?(Dt&Ue)===Ue:(nl&Ue)===Ue){var je=ve.revertLane;if(je===0)re!==null&&(re=re.next={lane:0,revertLane:0,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null}),Ue===Nc&&(Le=!0);else if((nl&je)===je){ve=ve.next,je===Nc&&(Le=!0);continue}else Ue={lane:0,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},re===null?(H=re=Ue,D=N):re=re.next=Ue,Nt.lanes|=je,cl|=je;Ue=ve.action,mo&&d(N,Ue),N=ve.hasEagerState?ve.eagerState:d(N,Ue)}else je={lane:Ue,revertLane:ve.revertLane,action:ve.action,hasEagerState:ve.hasEagerState,eagerState:ve.eagerState,next:null},re===null?(H=re=je,D=N):re=re.next=je,Nt.lanes|=Ue,cl|=Ue;ve=ve.next}while(ve!==null&&ve!==o);if(re===null?D=N:re.next=H,!lr(N,i.memoizedState)&&(ta=!0,Le&&(d=Sc,d!==null)))throw d;i.memoizedState=N,i.baseState=D,i.baseQueue=re,p.lastRenderedState=N}return v===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function ub(i){var o=In(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,v=d.pending,N=o.memoizedState;if(v!==null){d.pending=null;var D=v=v.next;do N=i(N,D.action),D=D.next;while(D!==v);lr(N,o.memoizedState)||(ta=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function n_(i,o,d){var p=Nt,v=In(),N=Ut;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=o();var D=!lr((Yt||v).memoizedState,d);D&&(v.memoizedState=d,ta=!0),v=v.queue;var H=s_.bind(null,p,v,i);if(Pu(2048,8,H,[i]),v.getSnapshot!==o||D||Ln!==null&&Ln.memoizedState.tag&1){if(p.flags|=2048,Ac(9,gh(),r_.bind(null,p,v,d,o),null),tn===null)throw Error(r(349));N||(nl&124)!==0||a_(p,o,d)}return d}function a_(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Nt.updateQueue,o===null?(o=ob(),Nt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function r_(i,o,d,p){o.value=d,o.getSnapshot=p,i_(o)&&l_(i)}function s_(i,o,d){return d(function(){i_(o)&&l_(i)})}function i_(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!lr(i,d)}catch{return!0}}function l_(i){var o=vc(i,2);o!==null&&fr(o,i,2)}function mb(i){var o=Wa();if(typeof i=="function"){var d=i;if(i=d(),mo){xe(!0);try{d()}finally{xe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:i},o}function o_(i,o,d,p){return i.baseState=d,db(i,Yt,typeof p=="function"?p:ii)}function b9(i,o,d,p,v){if(vh(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};P.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,c_(o,N)):(N.next=d.next,o.pending=d.next=N)}}function c_(i,o){var d=o.action,p=o.payload,v=i.state;if(o.isTransition){var N=P.T,D={};P.T=D;try{var H=d(v,p),re=P.S;re!==null&&re(D,H),d_(i,o,H)}catch(ve){fb(i,o,ve)}finally{P.T=N}}else try{N=d(v,p),d_(i,o,N)}catch(ve){fb(i,o,ve)}}function d_(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){u_(i,o,p)},function(p){return fb(i,o,p)}):u_(i,o,d)}function u_(i,o,d){o.status="fulfilled",o.value=d,m_(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,c_(i,d)))}function fb(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,m_(o),o=o.next;while(o!==p)}i.action=null}function m_(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function f_(i,o){return o}function h_(i,o){if(Ut){var d=tn.formState;if(d!==null){e:{var p=Nt;if(Ut){if(jn){t:{for(var v=jn,N=As;v.nodeType!==8;){if(!N){v=null;break t}if(v=ls(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){jn=ls(v.nextSibling),p=v.data==="F!";break e}}lo(p)}p=!1}p&&(o=d[0])}}return d=Wa(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:f_,lastRenderedState:o},d.queue=p,d=M_.bind(null,Nt,p),p.dispatch=d,p=mb(!1),N=bb.bind(null,Nt,!1,p.queue),p=Wa(),v={state:o,dispatch:null,action:i,pending:null},p.queue=v,d=b9.bind(null,Nt,v,N,d),v.dispatch=d,p.memoizedState=i,[o,d,!1]}function p_(i){var o=In();return x_(o,Yt,i)}function x_(i,o,d){if(o=db(i,o,f_)[0],i=xh(ii)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=Ou(o)}catch(D){throw D===_u?dh:D}else p=o;o=In();var v=o.queue,N=v.dispatch;return d!==o.memoizedState&&(Nt.flags|=2048,Ac(9,gh(),v9.bind(null,v,d),null)),[p,N,i]}function v9(i,o){i.action=o}function g_(i){var o=In(),d=Yt;if(d!==null)return x_(o,d,i);In(),o=o.memoizedState,d=In();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function Ac(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=Nt.updateQueue,o===null&&(o=ob(),Nt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function gh(){return{destroy:void 0,resource:void 0}}function b_(){return In().memoizedState}function bh(i,o,d,p){var v=Wa();p=p===void 0?null:p,Nt.flags|=i,v.memoizedState=Ac(1|o,gh(),d,p)}function Pu(i,o,d,p){var v=In();p=p===void 0?null:p;var N=v.memoizedState.inst;Yt!==null&&p!==null&&ab(p,Yt.memoizedState.deps)?v.memoizedState=Ac(o,N,d,p):(Nt.flags|=i,v.memoizedState=Ac(1|o,N,d,p))}function v_(i,o){bh(8390656,8,i,o)}function y_(i,o){Pu(2048,8,i,o)}function j_(i,o){return Pu(4,2,i,o)}function w_(i,o){return Pu(4,4,i,o)}function N_(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function S_(i,o,d){d=d!=null?d.concat([i]):null,Pu(4,4,N_.bind(null,o,i),d)}function hb(){}function __(i,o){var d=In();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&ab(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function k_(i,o){var d=In();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&ab(o,p[1]))return p[0];if(p=i(),mo){xe(!0);try{i()}finally{xe(!1)}}return d.memoizedState=[p,o],p}function pb(i,o,d){return d===void 0||(nl&1073741824)!==0?i.memoizedState=o:(i.memoizedState=d,i=T5(),Nt.lanes|=i,cl|=i,d)}function C_(i,o,d,p){return lr(d,o)?d:_c.current!==null?(i=pb(i,d,p),lr(i,o)||(ta=!0),i):(nl&42)===0?(ta=!0,i.memoizedState=d):(i=T5(),Nt.lanes|=i,cl|=i,o)}function A_(i,o,d,p,v){var N=K.p;K.p=N!==0&&8>N?N:8;var D=P.T,H={};P.T=H,bb(i,!1,o,d);try{var re=v(),ve=P.S;if(ve!==null&&ve(H,re),re!==null&&typeof re=="object"&&typeof re.then=="function"){var Le=p9(re,p);Mu(i,o,Le,mr(i))}else Mu(i,o,p,mr(i))}catch(Ue){Mu(i,o,{then:function(){},status:"rejected",reason:Ue},mr())}finally{K.p=N,P.T=D}}function y9(){}function xb(i,o,d,p){if(i.tag!==5)throw Error(r(476));var v=T_(i).queue;A_(i,v,o,W,d===null?y9:function(){return E_(i),d(p)})}function T_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:W,baseState:W,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:W},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ii,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function E_(i){var o=T_(i).next.queue;Mu(i,o,{},mr())}function gb(){return _a(Zu)}function O_(){return In().memoizedState}function P_(){return In().memoizedState}function j9(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=mr();i=el(d);var p=tl(o,i,d);p!==null&&(fr(p,o,d),Cu(p,o,d)),o={cache:Gg()},i.payload=o;return}o=o.return}}function w9(i,o,d){var p=mr();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},vh(i)?D_(o,d):(d=Lg(i,o,d,p),d!==null&&(fr(d,i,p),R_(d,o,p)))}function M_(i,o,d){var p=mr();Mu(i,o,d,p)}function Mu(i,o,d,p){var v={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(vh(i))D_(o,v);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var D=o.lastRenderedState,H=N(D,d);if(v.hasEagerState=!0,v.eagerState=H,lr(H,D))return nh(i,o,v,0),tn===null&&th(),!1}catch{}finally{}if(d=Lg(i,o,v,p),d!==null)return fr(d,i,p),R_(d,o,p),!0}return!1}function bb(i,o,d,p){if(p={lane:2,revertLane:Xb(),action:p,hasEagerState:!1,eagerState:null,next:null},vh(i)){if(o)throw Error(r(479))}else o=Lg(i,d,p,2),o!==null&&fr(o,i,2)}function vh(i){var o=i.alternate;return i===Nt||o!==null&&o===Nt}function D_(i,o){kc=fh=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function R_(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,yt(i,d)}}var yh={readContext:_a,use:ph,useCallback:Pn,useContext:Pn,useEffect:Pn,useImperativeHandle:Pn,useLayoutEffect:Pn,useInsertionEffect:Pn,useMemo:Pn,useReducer:Pn,useRef:Pn,useState:Pn,useDebugValue:Pn,useDeferredValue:Pn,useTransition:Pn,useSyncExternalStore:Pn,useId:Pn,useHostTransitionStatus:Pn,useFormState:Pn,useActionState:Pn,useOptimistic:Pn,useMemoCache:Pn,useCacheRefresh:Pn},$_={readContext:_a,use:ph,useCallback:function(i,o){return Wa().memoizedState=[i,o===void 0?null:o],i},useContext:_a,useEffect:v_,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,bh(4194308,4,N_.bind(null,o,i),d)},useLayoutEffect:function(i,o){return bh(4194308,4,i,o)},useInsertionEffect:function(i,o){bh(4,2,i,o)},useMemo:function(i,o){var d=Wa();o=o===void 0?null:o;var p=i();if(mo){xe(!0);try{i()}finally{xe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Wa();if(d!==void 0){var v=d(o);if(mo){xe(!0);try{d(o)}finally{xe(!1)}}}else v=o;return p.memoizedState=p.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},p.queue=i,i=i.dispatch=w9.bind(null,Nt,i),[p.memoizedState,i]},useRef:function(i){var o=Wa();return i={current:i},o.memoizedState=i},useState:function(i){i=mb(i);var o=i.queue,d=M_.bind(null,Nt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:hb,useDeferredValue:function(i,o){var d=Wa();return pb(d,i,o)},useTransition:function(){var i=mb(!1);return i=A_.bind(null,Nt,i.queue,!0,!1),Wa().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=Nt,v=Wa();if(Ut){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),tn===null)throw Error(r(349));(Dt&124)!==0||a_(p,o,d)}v.memoizedState=d;var N={value:d,getSnapshot:o};return v.queue=N,v_(s_.bind(null,p,N,i),[i]),p.flags|=2048,Ac(9,gh(),r_.bind(null,p,N,d,o),null),d},useId:function(){var i=Wa(),o=tn.identifierPrefix;if(Ut){var d=ai,p=ni;d=(p&~(1<<32-Be(p)-1)).toString(32)+d,o=""+o+"R"+d,d=hh++,0<d&&(o+="H"+d.toString(32)),o+=""}else d=x9++,o=""+o+"r"+d.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:gb,useFormState:h_,useActionState:h_,useOptimistic:function(i){var o=Wa();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=bb.bind(null,Nt,!0,d),d.dispatch=o,[i,o]},useMemoCache:cb,useCacheRefresh:function(){return Wa().memoizedState=j9.bind(null,Nt)}},L_={readContext:_a,use:ph,useCallback:__,useContext:_a,useEffect:y_,useImperativeHandle:S_,useInsertionEffect:j_,useLayoutEffect:w_,useMemo:k_,useReducer:xh,useRef:b_,useState:function(){return xh(ii)},useDebugValue:hb,useDeferredValue:function(i,o){var d=In();return C_(d,Yt.memoizedState,i,o)},useTransition:function(){var i=xh(ii)[0],o=In().memoizedState;return[typeof i=="boolean"?i:Ou(i),o]},useSyncExternalStore:n_,useId:O_,useHostTransitionStatus:gb,useFormState:p_,useActionState:p_,useOptimistic:function(i,o){var d=In();return o_(d,Yt,i,o)},useMemoCache:cb,useCacheRefresh:P_},N9={readContext:_a,use:ph,useCallback:__,useContext:_a,useEffect:y_,useImperativeHandle:S_,useInsertionEffect:j_,useLayoutEffect:w_,useMemo:k_,useReducer:ub,useRef:b_,useState:function(){return ub(ii)},useDebugValue:hb,useDeferredValue:function(i,o){var d=In();return Yt===null?pb(d,i,o):C_(d,Yt.memoizedState,i,o)},useTransition:function(){var i=ub(ii)[0],o=In().memoizedState;return[typeof i=="boolean"?i:Ou(i),o]},useSyncExternalStore:n_,useId:O_,useHostTransitionStatus:gb,useFormState:g_,useActionState:g_,useOptimistic:function(i,o){var d=In();return Yt!==null?o_(d,Yt,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:cb,useCacheRefresh:P_},Tc=null,Du=0;function jh(i){var o=Du;return Du+=1,Tc===null&&(Tc=[]),Y4(Tc,i,o)}function Ru(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function wh(i,o){throw o.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function I_(i){var o=i._init;return o(i._payload)}function B_(i){function o(he,de){if(i){var be=he.deletions;be===null?(he.deletions=[de],he.flags|=16):be.push(de)}}function d(he,de){if(!i)return null;for(;de!==null;)o(he,de),de=de.sibling;return null}function p(he){for(var de=new Map;he!==null;)he.key!==null?de.set(he.key,he):de.set(he.index,he),he=he.sibling;return de}function v(he,de){return he=ti(he,de),he.index=0,he.sibling=null,he}function N(he,de,be){return he.index=be,i?(be=he.alternate,be!==null?(be=be.index,be<de?(he.flags|=67108866,de):be):(he.flags|=67108866,de)):(he.flags|=1048576,de)}function D(he){return i&&he.alternate===null&&(he.flags|=67108866),he}function H(he,de,be,ze){return de===null||de.tag!==6?(de=Bg(be,he.mode,ze),de.return=he,de):(de=v(de,be),de.return=he,de)}function re(he,de,be,ze){var tt=be.type;return tt===j?Le(he,de,be.props.children,ze,be.key):de!==null&&(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===M&&I_(tt)===de.type)?(de=v(de,be.props),Ru(de,be),de.return=he,de):(de=rh(be.type,be.key,be.props,null,he.mode,ze),Ru(de,be),de.return=he,de)}function ve(he,de,be,ze){return de===null||de.tag!==4||de.stateNode.containerInfo!==be.containerInfo||de.stateNode.implementation!==be.implementation?(de=zg(be,he.mode,ze),de.return=he,de):(de=v(de,be.children||[]),de.return=he,de)}function Le(he,de,be,ze,tt){return de===null||de.tag!==7?(de=ao(be,he.mode,ze,tt),de.return=he,de):(de=v(de,be),de.return=he,de)}function Ue(he,de,be){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return de=Bg(""+de,he.mode,be),de.return=he,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case b:return be=rh(de.type,de.key,de.props,null,he.mode,be),Ru(be,de),be.return=he,be;case y:return de=zg(de,he.mode,be),de.return=he,de;case M:var ze=de._init;return de=ze(de._payload),Ue(he,de,be)}if(oe(de)||F(de))return de=ao(de,he.mode,be,null),de.return=he,de;if(typeof de.then=="function")return Ue(he,jh(de),be);if(de.$$typeof===C)return Ue(he,oh(he,de),be);wh(he,de)}return null}function je(he,de,be,ze){var tt=de!==null?de.key:null;if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return tt!==null?null:H(he,de,""+be,ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case b:return be.key===tt?re(he,de,be,ze):null;case y:return be.key===tt?ve(he,de,be,ze):null;case M:return tt=be._init,be=tt(be._payload),je(he,de,be,ze)}if(oe(be)||F(be))return tt!==null?null:Le(he,de,be,ze,null);if(typeof be.then=="function")return je(he,de,jh(be),ze);if(be.$$typeof===C)return je(he,de,oh(he,be),ze);wh(he,be)}return null}function Ce(he,de,be,ze,tt){if(typeof ze=="string"&&ze!==""||typeof ze=="number"||typeof ze=="bigint")return he=he.get(be)||null,H(de,he,""+ze,tt);if(typeof ze=="object"&&ze!==null){switch(ze.$$typeof){case b:return he=he.get(ze.key===null?be:ze.key)||null,re(de,he,ze,tt);case y:return he=he.get(ze.key===null?be:ze.key)||null,ve(de,he,ze,tt);case M:var St=ze._init;return ze=St(ze._payload),Ce(he,de,be,ze,tt)}if(oe(ze)||F(ze))return he=he.get(be)||null,Le(de,he,ze,tt,null);if(typeof ze.then=="function")return Ce(he,de,be,jh(ze),tt);if(ze.$$typeof===C)return Ce(he,de,be,oh(de,ze),tt);wh(de,ze)}return null}function ft(he,de,be,ze){for(var tt=null,St=null,it=de,mt=de=0,aa=null;it!==null&&mt<be.length;mt++){it.index>mt?(aa=it,it=null):aa=it.sibling;var Bt=je(he,it,be[mt],ze);if(Bt===null){it===null&&(it=aa);break}i&&it&&Bt.alternate===null&&o(he,it),de=N(Bt,de,mt),St===null?tt=Bt:St.sibling=Bt,St=Bt,it=aa}if(mt===be.length)return d(he,it),Ut&&so(he,mt),tt;if(it===null){for(;mt<be.length;mt++)it=Ue(he,be[mt],ze),it!==null&&(de=N(it,de,mt),St===null?tt=it:St.sibling=it,St=it);return Ut&&so(he,mt),tt}for(it=p(it);mt<be.length;mt++)aa=Ce(it,he,mt,be[mt],ze),aa!==null&&(i&&aa.alternate!==null&&it.delete(aa.key===null?mt:aa.key),de=N(aa,de,mt),St===null?tt=aa:St.sibling=aa,St=aa);return i&&it.forEach(function(bl){return o(he,bl)}),Ut&&so(he,mt),tt}function ct(he,de,be,ze){if(be==null)throw Error(r(151));for(var tt=null,St=null,it=de,mt=de=0,aa=null,Bt=be.next();it!==null&&!Bt.done;mt++,Bt=be.next()){it.index>mt?(aa=it,it=null):aa=it.sibling;var bl=je(he,it,Bt.value,ze);if(bl===null){it===null&&(it=aa);break}i&&it&&bl.alternate===null&&o(he,it),de=N(bl,de,mt),St===null?tt=bl:St.sibling=bl,St=bl,it=aa}if(Bt.done)return d(he,it),Ut&&so(he,mt),tt;if(it===null){for(;!Bt.done;mt++,Bt=be.next())Bt=Ue(he,Bt.value,ze),Bt!==null&&(de=N(Bt,de,mt),St===null?tt=Bt:St.sibling=Bt,St=Bt);return Ut&&so(he,mt),tt}for(it=p(it);!Bt.done;mt++,Bt=be.next())Bt=Ce(it,he,mt,Bt.value,ze),Bt!==null&&(i&&Bt.alternate!==null&&it.delete(Bt.key===null?mt:Bt.key),de=N(Bt,de,mt),St===null?tt=Bt:St.sibling=Bt,St=Bt);return i&&it.forEach(function(SI){return o(he,SI)}),Ut&&so(he,mt),tt}function Xt(he,de,be,ze){if(typeof be=="object"&&be!==null&&be.type===j&&be.key===null&&(be=be.props.children),typeof be=="object"&&be!==null){switch(be.$$typeof){case b:e:{for(var tt=be.key;de!==null;){if(de.key===tt){if(tt=be.type,tt===j){if(de.tag===7){d(he,de.sibling),ze=v(de,be.props.children),ze.return=he,he=ze;break e}}else if(de.elementType===tt||typeof tt=="object"&&tt!==null&&tt.$$typeof===M&&I_(tt)===de.type){d(he,de.sibling),ze=v(de,be.props),Ru(ze,be),ze.return=he,he=ze;break e}d(he,de);break}else o(he,de);de=de.sibling}be.type===j?(ze=ao(be.props.children,he.mode,ze,be.key),ze.return=he,he=ze):(ze=rh(be.type,be.key,be.props,null,he.mode,ze),Ru(ze,be),ze.return=he,he=ze)}return D(he);case y:e:{for(tt=be.key;de!==null;){if(de.key===tt)if(de.tag===4&&de.stateNode.containerInfo===be.containerInfo&&de.stateNode.implementation===be.implementation){d(he,de.sibling),ze=v(de,be.children||[]),ze.return=he,he=ze;break e}else{d(he,de);break}else o(he,de);de=de.sibling}ze=zg(be,he.mode,ze),ze.return=he,he=ze}return D(he);case M:return tt=be._init,be=tt(be._payload),Xt(he,de,be,ze)}if(oe(be))return ft(he,de,be,ze);if(F(be)){if(tt=F(be),typeof tt!="function")throw Error(r(150));return be=tt.call(be),ct(he,de,be,ze)}if(typeof be.then=="function")return Xt(he,de,jh(be),ze);if(be.$$typeof===C)return Xt(he,de,oh(he,be),ze);wh(he,be)}return typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint"?(be=""+be,de!==null&&de.tag===6?(d(he,de.sibling),ze=v(de,be),ze.return=he,he=ze):(d(he,de),ze=Bg(be,he.mode,ze),ze.return=he,he=ze),D(he)):d(he,de)}return function(he,de,be,ze){try{Du=0;var tt=Xt(he,de,be,ze);return Tc=null,tt}catch(it){if(it===_u||it===dh)throw it;var St=or(29,it,null,he.mode);return St.lanes=ze,St.return=he,St}finally{}}}var Ec=B_(!0),z_=B_(!1),zr=z(null),Ts=null;function al(i){var o=i.alternate;G(qn,qn.current&1),G(zr,i),Ts===null&&(o===null||_c.current!==null||o.memoizedState!==null)&&(Ts=i)}function U_(i){if(i.tag===22){if(G(qn,qn.current),G(zr,i),Ts===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Ts=i)}}else rl()}function rl(){G(qn,qn.current),G(zr,zr.current)}function li(i){$(zr),Ts===i&&(Ts=null),$(qn)}var qn=z(0);function Nh(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||ov(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function vb(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:h({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var yb={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=mr(),v=el(p);v.payload=o,d!=null&&(v.callback=d),o=tl(i,v,p),o!==null&&(fr(o,i,p),Cu(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=mr(),v=el(p);v.tag=1,v.payload=o,d!=null&&(v.callback=d),o=tl(i,v,p),o!==null&&(fr(o,i,p),Cu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=mr(),p=el(d);p.tag=2,o!=null&&(p.callback=o),o=tl(i,p,d),o!==null&&(fr(o,i,d),Cu(o,i,d))}};function F_(i,o,d,p,v,N,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,D):o.prototype&&o.prototype.isPureReactComponent?!gu(d,p)||!gu(v,N):!0}function V_(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&yb.enqueueReplaceState(o,o.state,null)}function fo(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=h({},d));for(var v in i)d[v]===void 0&&(d[v]=i[v])}return d}var Sh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function H_(i){Sh(i)}function q_(i){console.error(i)}function K_(i){Sh(i)}function _h(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function G_(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function jb(i,o,d){return d=el(d),d.tag=3,d.payload={element:null},d.callback=function(){_h(i,o)},d}function Y_(i){return i=el(i),i.tag=3,i}function W_(i,o,d,p){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var N=p.value;i.payload=function(){return v(N)},i.callback=function(){G_(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){G_(o,d,p),typeof v!="function"&&(dl===null?dl=new Set([this]):dl.add(this));var H=p.stack;this.componentDidCatch(p.value,{componentStack:H!==null?H:""})})}function S9(i,o,d,p,v){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&wu(o,d,v,!0),d=zr.current,d!==null){switch(d.tag){case 13:return Ts===null?qb():d.alternate===null&&wn===0&&(wn=3),d.flags&=-257,d.flags|=65536,d.lanes=v,p===Xg?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),Gb(i,p,v)),!1;case 22:return d.flags|=65536,p===Xg?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),Gb(i,p,v)),!1}throw Error(r(435,d.tag))}return Gb(i,p,v),qb(),!1}if(Ut)return o=zr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Vg&&(i=Error(r(422),{cause:p}),ju($r(i,d)))):(p!==Vg&&(o=Error(r(423),{cause:p}),ju($r(o,d))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,p=$r(p,d),v=jb(i.stateNode,p,v),Jg(i,v),wn!==4&&(wn=2)),!1;var N=Error(r(520),{cause:p});if(N=$r(N,d),Fu===null?Fu=[N]:Fu.push(N),wn!==4&&(wn=2),o===null)return!0;p=$r(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=v&-v,d.lanes|=i,i=jb(d.stateNode,p,i),Jg(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(dl===null||!dl.has(N))))return d.flags|=65536,v&=-v,d.lanes|=v,v=Y_(v),W_(v,i,d,p),Jg(d,v),!1}d=d.return}while(d!==null);return!1}var X_=Error(r(461)),ta=!1;function ua(i,o,d,p){o.child=i===null?z_(o,null,d,p):Ec(o,i.child,d,p)}function Z_(i,o,d,p,v){d=d.render;var N=o.ref;if("ref"in p){var D={};for(var H in p)H!=="ref"&&(D[H]=p[H])}else D=p;return co(o),p=rb(i,o,d,D,N,v),H=sb(),i!==null&&!ta?(ib(i,o,v),oi(i,o,v)):(Ut&&H&&Ug(o),o.flags|=1,ua(i,o,p,v),o.child)}function Q_(i,o,d,p,v){if(i===null){var N=d.type;return typeof N=="function"&&!Ig(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,J_(i,o,N,p,v)):(i=rh(d.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Tb(i,v)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:gu,d(D,p)&&i.ref===o.ref)return oi(i,o,v)}return o.flags|=1,i=ti(N,p),i.ref=o.ref,i.return=o,o.child=i}function J_(i,o,d,p,v){if(i!==null){var N=i.memoizedProps;if(gu(N,p)&&i.ref===o.ref)if(ta=!1,o.pendingProps=p=N,Tb(i,v))(i.flags&131072)!==0&&(ta=!0);else return o.lanes=i.lanes,oi(i,o,v)}return wb(i,o,d,p,v)}function e5(i,o,d){var p=o.pendingProps,v=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|d:d,i!==null){for(v=o.child=i.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return t5(i,o,p,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&ch(o,N!==null?N.cachePool:null),N!==null?J4(o,N):tb(),U_(o);else return o.lanes=o.childLanes=536870912,t5(i,o,N!==null?N.baseLanes|d:d,d)}else N!==null?(ch(o,N.cachePool),J4(o,N),rl(),o.memoizedState=null):(i!==null&&ch(o,null),tb(),rl());return ua(i,o,v,d),o.child}function t5(i,o,d,p){var v=Wg();return v=v===null?null:{parent:Hn._currentValue,pool:v},o.memoizedState={baseLanes:d,cachePool:v},i!==null&&ch(o,null),tb(),U_(o),i!==null&&wu(i,o,p,!0),null}function kh(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function wb(i,o,d,p,v){return co(o),d=rb(i,o,d,p,void 0,v),p=sb(),i!==null&&!ta?(ib(i,o,v),oi(i,o,v)):(Ut&&p&&Ug(o),o.flags|=1,ua(i,o,d,v),o.child)}function n5(i,o,d,p,v,N){return co(o),o.updateQueue=null,d=t_(o,p,d,v),e_(i),p=sb(),i!==null&&!ta?(ib(i,o,N),oi(i,o,N)):(Ut&&p&&Ug(o),o.flags|=1,ua(i,o,d,N),o.child)}function a5(i,o,d,p,v){if(co(o),o.stateNode===null){var N=yc,D=d.contextType;typeof D=="object"&&D!==null&&(N=_a(D)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=yb,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Zg(o),D=d.contextType,N.context=typeof D=="object"&&D!==null?_a(D):yc,N.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(vb(o,d,D,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&yb.enqueueReplaceState(N,N.state,null),Tu(o,p,N,v),Au(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var H=o.memoizedProps,re=fo(d,H);N.props=re;var ve=N.context,Le=d.contextType;D=yc,typeof Le=="object"&&Le!==null&&(D=_a(Le));var Ue=d.getDerivedStateFromProps;Le=typeof Ue=="function"||typeof N.getSnapshotBeforeUpdate=="function",H=o.pendingProps!==H,Le||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(H||ve!==D)&&V_(o,N,p,D),Ji=!1;var je=o.memoizedState;N.state=je,Tu(o,p,N,v),Au(),ve=o.memoizedState,H||je!==ve||Ji?(typeof Ue=="function"&&(vb(o,d,Ue,p),ve=o.memoizedState),(re=Ji||F_(o,d,re,p,je,ve,D))?(Le||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ve),N.props=p,N.state=ve,N.context=D,p=re):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,Qg(i,o),D=o.memoizedProps,Le=fo(d,D),N.props=Le,Ue=o.pendingProps,je=N.context,ve=d.contextType,re=yc,typeof ve=="object"&&ve!==null&&(re=_a(ve)),H=d.getDerivedStateFromProps,(ve=typeof H=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==Ue||je!==re)&&V_(o,N,p,re),Ji=!1,je=o.memoizedState,N.state=je,Tu(o,p,N,v),Au();var Ce=o.memoizedState;D!==Ue||je!==Ce||Ji||i!==null&&i.dependencies!==null&&lh(i.dependencies)?(typeof H=="function"&&(vb(o,d,H,p),Ce=o.memoizedState),(Le=Ji||F_(o,d,Le,p,je,Ce,re)||i!==null&&i.dependencies!==null&&lh(i.dependencies))?(ve||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,Ce,re),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,Ce,re)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&je===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&je===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=Ce),N.props=p,N.state=Ce,N.context=re,p=Le):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&je===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&je===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,kh(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=Ec(o,i.child,null,v),o.child=Ec(o,null,d,v)):ua(i,o,d,v),o.memoizedState=N.state,i=o.child):i=oi(i,o,v),i}function r5(i,o,d,p){return yu(),o.flags|=256,ua(i,o,d,p),o.child}var Nb={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Sb(i){return{baseLanes:i,cachePool:q4()}}function _b(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=Ur),i}function s5(i,o,d){var p=o.pendingProps,v=!1,N=(o.flags&128)!==0,D;if((D=N)||(D=i!==null&&i.memoizedState===null?!1:(qn.current&2)!==0),D&&(v=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if(Ut){if(v?al(o):rl(),Ut){var H=jn,re;if(re=H){e:{for(re=H,H=As;re.nodeType!==8;){if(!H){H=null;break e}if(re=ls(re.nextSibling),re===null){H=null;break e}}H=re}H!==null?(o.memoizedState={dehydrated:H,treeContext:ro!==null?{id:ni,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},re=or(18,null,null,0),re.stateNode=H,re.return=o,o.child=re,Ba=o,jn=null,re=!0):re=!1}re||lo(o)}if(H=o.memoizedState,H!==null&&(H=H.dehydrated,H!==null))return ov(H)?o.lanes=32:o.lanes=536870912,null;li(o)}return H=p.children,p=p.fallback,v?(rl(),v=o.mode,H=Ch({mode:"hidden",children:H},v),p=ao(p,v,d,null),H.return=o,p.return=o,H.sibling=p,o.child=H,v=o.child,v.memoizedState=Sb(d),v.childLanes=_b(i,D,d),o.memoizedState=Nb,p):(al(o),kb(o,H))}if(re=i.memoizedState,re!==null&&(H=re.dehydrated,H!==null)){if(N)o.flags&256?(al(o),o.flags&=-257,o=Cb(i,o,d)):o.memoizedState!==null?(rl(),o.child=i.child,o.flags|=128,o=null):(rl(),v=p.fallback,H=o.mode,p=Ch({mode:"visible",children:p.children},H),v=ao(v,H,d,null),v.flags|=2,p.return=o,v.return=o,p.sibling=v,o.child=p,Ec(o,i.child,null,d),p=o.child,p.memoizedState=Sb(d),p.childLanes=_b(i,D,d),o.memoizedState=Nb,o=v);else if(al(o),ov(H)){if(D=H.nextSibling&&H.nextSibling.dataset,D)var ve=D.dgst;D=ve,p=Error(r(419)),p.stack="",p.digest=D,ju({value:p,source:null,stack:null}),o=Cb(i,o,d)}else if(ta||wu(i,o,d,!1),D=(d&i.childLanes)!==0,ta||D){if(D=tn,D!==null&&(p=d&-d,p=(p&42)!==0?1:ut(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==re.retryLane))throw re.retryLane=p,vc(i,p),fr(D,i,p),X_;H.data==="$?"||qb(),o=Cb(i,o,d)}else H.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=re.treeContext,jn=ls(H.nextSibling),Ba=o,Ut=!0,io=null,As=!1,i!==null&&(Ir[Br++]=ni,Ir[Br++]=ai,Ir[Br++]=ro,ni=i.id,ai=i.overflow,ro=o),o=kb(o,p.children),o.flags|=4096);return o}return v?(rl(),v=p.fallback,H=o.mode,re=i.child,ve=re.sibling,p=ti(re,{mode:"hidden",children:p.children}),p.subtreeFlags=re.subtreeFlags&65011712,ve!==null?v=ti(ve,v):(v=ao(v,H,d,null),v.flags|=2),v.return=o,p.return=o,p.sibling=v,o.child=p,p=v,v=o.child,H=i.child.memoizedState,H===null?H=Sb(d):(re=H.cachePool,re!==null?(ve=Hn._currentValue,re=re.parent!==ve?{parent:ve,pool:ve}:re):re=q4(),H={baseLanes:H.baseLanes|d,cachePool:re}),v.memoizedState=H,v.childLanes=_b(i,D,d),o.memoizedState=Nb,p):(al(o),d=i.child,i=d.sibling,d=ti(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=d,o.memoizedState=null,d)}function kb(i,o){return o=Ch({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Ch(i,o){return i=or(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Cb(i,o,d){return Ec(o,i.child,null,d),i=kb(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function i5(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),qg(i.return,o,d)}function Ab(i,o,d,p,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=d,N.tailMode=v)}function l5(i,o,d){var p=o.pendingProps,v=p.revealOrder,N=p.tail;if(ua(i,o,p.children,d),p=qn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&i5(i,d,o);else if(i.tag===19)i5(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(G(qn,p),v){case"forwards":for(d=o.child,v=null;d!==null;)i=d.alternate,i!==null&&Nh(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=o.child,o.child=null):(v=d.sibling,d.sibling=null),Ab(o,!1,v,d,N);break;case"backwards":for(d=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&Nh(i)===null){o.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}Ab(o,!0,d,null,N);break;case"together":Ab(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function oi(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),cl|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(wu(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=ti(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=ti(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Tb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&lh(i)))}function _9(i,o,d){switch(o.tag){case 3:ae(o,o.stateNode.containerInfo),Qi(o,Hn,i.memoizedState.cache),yu();break;case 27:case 5:Me(o);break;case 4:ae(o,o.stateNode.containerInfo);break;case 10:Qi(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(al(o),o.flags|=128,null):(d&o.child.childLanes)!==0?s5(i,o,d):(al(o),i=oi(i,o,d),i!==null?i.sibling:null);al(o);break;case 19:var v=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(wu(i,o,d,!1),p=(d&o.childLanes)!==0),v){if(p)return l5(i,o,d);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),G(qn,qn.current),p)break;return null;case 22:case 23:return o.lanes=0,e5(i,o,d);case 24:Qi(o,Hn,i.memoizedState.cache)}return oi(i,o,d)}function o5(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)ta=!0;else{if(!Tb(i,d)&&(o.flags&128)===0)return ta=!1,_9(i,o,d);ta=(i.flags&131072)!==0}else ta=!1,Ut&&(o.flags&1048576)!==0&&I4(o,ih,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,v=p._init;if(p=v(p._payload),o.type=p,typeof p=="function")Ig(p)?(i=fo(p,i),o.tag=1,o=a5(null,o,p,i,d)):(o.tag=0,o=wb(null,o,p,i,d));else{if(p!=null){if(v=p.$$typeof,v===O){o.tag=11,o=Z_(null,o,p,i,d);break e}else if(v===I){o.tag=14,o=Q_(null,o,p,i,d);break e}}throw o=Se(p)||p,Error(r(306,o,""))}}return o;case 0:return wb(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,v=fo(p,o.pendingProps),a5(i,o,p,v,d);case 3:e:{if(ae(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;v=N.element,Qg(i,o),Tu(o,p,null,d);var D=o.memoizedState;if(p=D.cache,Qi(o,Hn,p),p!==N.cache&&Kg(o,[Hn],d,!0),Au(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=r5(i,o,p,d);break e}else if(p!==v){v=$r(Error(r(424)),o),ju(v),o=r5(i,o,p,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(jn=ls(i.firstChild),Ba=o,Ut=!0,io=null,As=!0,d=z_(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(yu(),p===v){o=oi(i,o,d);break e}ua(i,o,p,d)}o=o.child}return o;case 26:return kh(i,o),i===null?(d=mk(o.type,null,o.pendingProps,null))?o.memoizedState=d:Ut||(d=o.type,i=o.pendingProps,p=Uh(Z.current).createElement(d),p[Et]=o,p[Ot]=i,fa(p,d,i),L(p),o.stateNode=p):o.memoizedState=mk(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Me(o),i===null&&Ut&&(p=o.stateNode=ck(o.type,o.pendingProps,Z.current),Ba=o,As=!0,v=jn,fl(o.type)?(cv=v,jn=ls(p.firstChild)):jn=v),ua(i,o,o.pendingProps.children,d),kh(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Ut&&((v=p=jn)&&(p=J9(p,o.type,o.pendingProps,As),p!==null?(o.stateNode=p,Ba=o,jn=ls(p.firstChild),As=!1,v=!0):v=!1),v||lo(o)),Me(o),v=o.type,N=o.pendingProps,D=i!==null?i.memoizedProps:null,p=N.children,sv(v,N)?p=null:D!==null&&sv(v,D)&&(o.flags|=32),o.memoizedState!==null&&(v=rb(i,o,g9,null,null,d),Zu._currentValue=v),kh(i,o),ua(i,o,p,d),o.child;case 6:return i===null&&Ut&&((i=d=jn)&&(d=eI(d,o.pendingProps,As),d!==null?(o.stateNode=d,Ba=o,jn=null,i=!0):i=!1),i||lo(o)),null;case 13:return s5(i,o,d);case 4:return ae(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=Ec(o,null,p,d):ua(i,o,p,d),o.child;case 11:return Z_(i,o,o.type,o.pendingProps,d);case 7:return ua(i,o,o.pendingProps,d),o.child;case 8:return ua(i,o,o.pendingProps.children,d),o.child;case 12:return ua(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,Qi(o,o.type,p.value),ua(i,o,p.children,d),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,co(o),v=_a(v),p=p(v),o.flags|=1,ua(i,o,p,d),o.child;case 14:return Q_(i,o,o.type,o.pendingProps,d);case 15:return J_(i,o,o.type,o.pendingProps,d);case 19:return l5(i,o,d);case 31:return p=o.pendingProps,d=o.mode,p={mode:p.mode,children:p.children},i===null?(d=Ch(p,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=ti(i.child,p),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return e5(i,o,d);case 24:return co(o),p=_a(Hn),i===null?(v=Wg(),v===null&&(v=tn,N=Gg(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=d),v=N),o.memoizedState={parent:p,cache:v},Zg(o),Qi(o,Hn,v)):((i.lanes&d)!==0&&(Qg(i,o),Tu(o,null,null,d),Au()),v=i.memoizedState,N=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Qi(o,Hn,p)):(p=N.cache,Qi(o,Hn,p),p!==v.cache&&Kg(o,[Hn],d,!0))),ua(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function ci(i){i.flags|=4}function c5(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!gk(o)){if(o=zr.current,o!==null&&((Dt&4194048)===Dt?Ts!==null:(Dt&62914560)!==Dt&&(Dt&536870912)===0||o!==Ts))throw ku=Xg,K4;i.flags|=8192}}function Ah(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?X():536870912,i.lanes|=o,Dc|=o)}function $u(i,o){if(!Ut)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function gn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function k9(i,o,d){var p=o.pendingProps;switch(Fg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gn(o),null;case 1:return gn(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),si(Hn),_e(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(vu(o)?ci(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,U4())),gn(o),null;case 26:return d=o.memoizedState,i===null?(ci(o),d!==null?(gn(o),c5(o,d)):(gn(o),o.flags&=-16777217)):d?d!==i.memoizedState?(ci(o),gn(o),c5(o,d)):(gn(o),o.flags&=-16777217):(i.memoizedProps!==p&&ci(o),gn(o),o.flags&=-16777217),null;case 27:Pe(o),d=Z.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ci(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return gn(o),null}i=ue.current,vu(o)?B4(o):(i=ck(v,p,d),o.stateNode=i,ci(o))}return gn(o),null;case 5:if(Pe(o),d=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&ci(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return gn(o),null}if(i=ue.current,vu(o))B4(o);else{switch(v=Uh(Z.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?v.createElement(d,{is:p.is}):v.createElement(d)}}i[Et]=o,i[Ot]=p;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(fa(i,d,p),d){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&ci(o)}}return gn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&ci(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Z.current,vu(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,v=Ba,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}i[Et]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||nk(i.nodeValue,d)),i||lo(o)}else i=Uh(i).createTextNode(p),i[Et]=o,o.stateNode=i}return gn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=vu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[Et]=o}else yu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;gn(o),v=!1}else v=U4(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(li(o),o):(li(o),null)}if(li(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=p!==null,i=i!==null&&i.memoizedState!==null,d){p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==v&&(p.flags|=2048)}return d!==i&&d&&(o.child.flags|=8192),Ah(o,o.updateQueue),gn(o),null;case 4:return _e(),i===null&&ev(o.stateNode.containerInfo),gn(o),null;case 10:return si(o.type),gn(o),null;case 19:if($(qn),v=o.memoizedState,v===null)return gn(o),null;if(p=(o.flags&128)!==0,N=v.rendering,N===null)if(p)$u(v,!1);else{if(wn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Nh(i),N!==null){for(o.flags|=128,$u(v,!1),i=N.updateQueue,o.updateQueue=i,Ah(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)L4(d,i),d=d.sibling;return G(qn,qn.current&1|2),o.child}i=i.sibling}v.tail!==null&&Ee()>Oh&&(o.flags|=128,p=!0,$u(v,!1),o.lanes=4194304)}else{if(!p)if(i=Nh(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,Ah(o,i),$u(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!Ut)return gn(o),null}else 2*Ee()-v.renderingStartTime>Oh&&d!==536870912&&(o.flags|=128,p=!0,$u(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(i=v.last,i!==null?i.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Ee(),o.sibling=null,i=qn.current,G(qn,p?i&1|2:i&1),o):(gn(o),null);case 22:case 23:return li(o),nb(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(gn(o),o.subtreeFlags&6&&(o.flags|=8192)):gn(o),d=o.updateQueue,d!==null&&Ah(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&$(uo),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),si(Hn),gn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function C9(i,o){switch(Fg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return si(Hn),_e(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Pe(o),null;case 13:if(li(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));yu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return $(qn),null;case 4:return _e(),null;case 10:return si(o.type),null;case 22:case 23:return li(o),nb(),i!==null&&$(uo),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return si(Hn),null;case 25:return null;default:return null}}function d5(i,o){switch(Fg(o),o.tag){case 3:si(Hn),_e();break;case 26:case 27:case 5:Pe(o);break;case 4:_e();break;case 13:li(o);break;case 19:$(qn);break;case 10:si(o.type);break;case 22:case 23:li(o),nb(),i!==null&&$(uo);break;case 24:si(Hn)}}function Lu(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&i)===i){p=void 0;var N=d.create,D=d.inst;p=N(),D.destroy=p}d=d.next}while(d!==v)}}catch(H){Qt(o,o.return,H)}}function sl(i,o,d){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&i)===i){var D=p.inst,H=D.destroy;if(H!==void 0){D.destroy=void 0,v=o;var re=d,ve=H;try{ve()}catch(Le){Qt(v,re,Le)}}}p=p.next}while(p!==N)}}catch(Le){Qt(o,o.return,Le)}}function u5(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{Q4(o,d)}catch(p){Qt(i,i.return,p)}}}function m5(i,o,d){d.props=fo(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Qt(i,o,p)}}function Iu(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(v){Qt(i,o,v)}}function Es(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(v){Qt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Qt(i,o,v)}else d.current=null}function f5(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(v){Qt(i,i.return,v)}}function Eb(i,o,d){try{var p=i.stateNode;Y9(p,i.type,d,o),p[Ot]=o}catch(v){Qt(i,i.return,v)}}function h5(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&fl(i.type)||i.tag===4}function Ob(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||h5(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&fl(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pb(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=zh));else if(p!==4&&(p===27&&fl(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(Pb(i,o,d),i=i.sibling;i!==null;)Pb(i,o,d),i=i.sibling}function Th(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&fl(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(Th(i,o,d),i=i.sibling;i!==null;)Th(i,o,d),i=i.sibling}function p5(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);fa(o,p,d),o[Et]=i,o[Ot]=d}catch(N){Qt(i,i.return,N)}}var di=!1,Mn=!1,Mb=!1,x5=typeof WeakSet=="function"?WeakSet:Set,na=null;function A9(i,o){if(i=i.containerInfo,av=Gh,i=C4(i),Og(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,H=-1,re=-1,ve=0,Le=0,Ue=i,je=null;t:for(;;){for(var Ce;Ue!==d||v!==0&&Ue.nodeType!==3||(H=D+v),Ue!==N||p!==0&&Ue.nodeType!==3||(re=D+p),Ue.nodeType===3&&(D+=Ue.nodeValue.length),(Ce=Ue.firstChild)!==null;)je=Ue,Ue=Ce;for(;;){if(Ue===i)break t;if(je===d&&++ve===v&&(H=D),je===N&&++Le===p&&(re=D),(Ce=Ue.nextSibling)!==null)break;Ue=je,je=Ue.parentNode}Ue=Ce}d=H===-1||re===-1?null:{start:H,end:re}}else d=null}d=d||{start:0,end:0}}else d=null;for(rv={focusedElem:i,selectionRange:d},Gh=!1,na=o;na!==null;)if(o=na,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,na=i;else for(;na!==null;){switch(o=na,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,v=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var ft=fo(d.type,v,d.elementType===d.type);i=p.getSnapshotBeforeUpdate(ft,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(ct){Qt(d,d.return,ct)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)lv(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":lv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,na=i;break}na=o.return}}function g5(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:il(i,d),p&4&&Lu(5,d);break;case 1:if(il(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(D){Qt(d,d.return,D)}else{var v=fo(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Qt(d,d.return,D)}}p&64&&u5(d),p&512&&Iu(d,d.return);break;case 3:if(il(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{Q4(i,o)}catch(D){Qt(d,d.return,D)}}break;case 27:o===null&&p&4&&p5(d);case 26:case 5:il(i,d),o===null&&p&4&&f5(d),p&512&&Iu(d,d.return);break;case 12:il(i,d);break;case 13:il(i,d),p&4&&y5(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=L9.bind(null,d),tI(i,d))));break;case 22:if(p=d.memoizedState!==null||di,!p){o=o!==null&&o.memoizedState!==null||Mn,v=di;var N=Mn;di=p,(Mn=o)&&!N?ll(i,d,(d.subtreeFlags&8772)!==0):il(i,d),di=v,Mn=N}break;case 30:break;default:il(i,d)}}function b5(i){var o=i.alternate;o!==null&&(i.alternate=null,b5(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&rs(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var un=null,Xa=!1;function ui(i,o,d){for(d=d.child;d!==null;)v5(i,o,d),d=d.sibling}function v5(i,o,d){if(ke&&typeof ke.onCommitFiberUnmount=="function")try{ke.onCommitFiberUnmount(ne,d)}catch{}switch(d.tag){case 26:Mn||Es(d,o),ui(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Mn||Es(d,o);var p=un,v=Xa;fl(d.type)&&(un=d.stateNode,Xa=!1),ui(i,o,d),Gu(d.stateNode),un=p,Xa=v;break;case 5:Mn||Es(d,o);case 6:if(p=un,v=Xa,un=null,ui(i,o,d),un=p,Xa=v,un!==null)if(Xa)try{(un.nodeType===9?un.body:un.nodeName==="HTML"?un.ownerDocument.body:un).removeChild(d.stateNode)}catch(N){Qt(d,o,N)}else try{un.removeChild(d.stateNode)}catch(N){Qt(d,o,N)}break;case 18:un!==null&&(Xa?(i=un,lk(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),tm(i)):lk(un,d.stateNode));break;case 4:p=un,v=Xa,un=d.stateNode.containerInfo,Xa=!0,ui(i,o,d),un=p,Xa=v;break;case 0:case 11:case 14:case 15:Mn||sl(2,d,o),Mn||sl(4,d,o),ui(i,o,d);break;case 1:Mn||(Es(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&m5(d,o,p)),ui(i,o,d);break;case 21:ui(i,o,d);break;case 22:Mn=(p=Mn)||d.memoizedState!==null,ui(i,o,d),Mn=p;break;default:ui(i,o,d)}}function y5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{tm(i)}catch(d){Qt(o,o.return,d)}}function T9(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new x5),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new x5),o;default:throw Error(r(435,i.tag))}}function Db(i,o){var d=T9(i);o.forEach(function(p){var v=I9.bind(null,i,p);d.has(p)||(d.add(p),p.then(v,v))})}function cr(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p],N=i,D=o,H=D;e:for(;H!==null;){switch(H.tag){case 27:if(fl(H.type)){un=H.stateNode,Xa=!1;break e}break;case 5:un=H.stateNode,Xa=!1;break e;case 3:case 4:un=H.stateNode.containerInfo,Xa=!0;break e}H=H.return}if(un===null)throw Error(r(160));v5(N,D,v),un=null,Xa=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)j5(o,i),o=o.sibling}var is=null;function j5(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:cr(o,i),dr(i),p&4&&(sl(3,i,i.return),Lu(3,i),sl(5,i,i.return));break;case 1:cr(o,i),dr(i),p&512&&(Mn||d===null||Es(d,d.return)),p&64&&di&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var v=is;if(cr(o,i),dr(i),p&512&&(Mn||d===null||Es(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":N=v.getElementsByTagName("title")[0],(!N||N[ir]||N[Et]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(p),v.head.insertBefore(N,v.querySelector("head > title"))),fa(N,p,d),N[Et]=i,L(N),p=N;break e;case"link":var D=pk("link","href",v).get(p+(d.href||""));if(D){for(var H=0;H<D.length;H++)if(N=D[H],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(H,1);break t}}N=v.createElement(p),fa(N,p,d),v.head.appendChild(N);break;case"meta":if(D=pk("meta","content",v).get(p+(d.content||""))){for(H=0;H<D.length;H++)if(N=D[H],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(H,1);break t}}N=v.createElement(p),fa(N,p,d),v.head.appendChild(N);break;default:throw Error(r(468,p))}N[Et]=i,L(N),p=N}i.stateNode=p}else xk(v,i.type,i.stateNode);else i.stateNode=hk(v,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?xk(v,i.type,i.stateNode):hk(v,p,i.memoizedProps)):p===null&&i.stateNode!==null&&Eb(i,i.memoizedProps,d.memoizedProps)}break;case 27:cr(o,i),dr(i),p&512&&(Mn||d===null||Es(d,d.return)),d!==null&&p&4&&Eb(i,i.memoizedProps,d.memoizedProps);break;case 5:if(cr(o,i),dr(i),p&512&&(Mn||d===null||Es(d,d.return)),i.flags&32){v=i.stateNode;try{mc(v,"")}catch(Ce){Qt(i,i.return,Ce)}}p&4&&i.stateNode!=null&&(v=i.memoizedProps,Eb(i,v,d!==null?d.memoizedProps:v)),p&1024&&(Mb=!0);break;case 6:if(cr(o,i),dr(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(Ce){Qt(i,i.return,Ce)}}break;case 3:if(Hh=null,v=is,is=Fh(o.containerInfo),cr(o,i),is=v,dr(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{tm(o.containerInfo)}catch(Ce){Qt(i,i.return,Ce)}Mb&&(Mb=!1,w5(i));break;case 4:p=is,is=Fh(i.stateNode.containerInfo),cr(o,i),dr(i),is=p;break;case 12:cr(o,i),dr(i);break;case 13:cr(o,i),dr(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(zb=Ee()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Db(i,p)));break;case 22:v=i.memoizedState!==null;var re=d!==null&&d.memoizedState!==null,ve=di,Le=Mn;if(di=ve||v,Mn=Le||re,cr(o,i),Mn=Le,di=ve,dr(i),p&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(d===null||re||di||Mn||ho(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){re=d=o;try{if(N=re.stateNode,v)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{H=re.stateNode;var Ue=re.memoizedProps.style,je=Ue!=null&&Ue.hasOwnProperty("display")?Ue.display:null;H.style.display=je==null||typeof je=="boolean"?"":(""+je).trim()}}catch(Ce){Qt(re,re.return,Ce)}}}else if(o.tag===6){if(d===null){re=o;try{re.stateNode.nodeValue=v?"":re.memoizedProps}catch(Ce){Qt(re,re.return,Ce)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,Db(i,d))));break;case 19:cr(o,i),dr(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Db(i,p)));break;case 30:break;case 21:break;default:cr(o,i),dr(i)}}function dr(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(h5(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var v=d.stateNode,N=Ob(i);Th(i,N,v);break;case 5:var D=d.stateNode;d.flags&32&&(mc(D,""),d.flags&=-33);var H=Ob(i);Th(i,H,D);break;case 3:case 4:var re=d.stateNode.containerInfo,ve=Ob(i);Pb(i,ve,re);break;default:throw Error(r(161))}}catch(Le){Qt(i,i.return,Le)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function w5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;w5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function il(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)g5(i,o.alternate,o),o=o.sibling}function ho(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:sl(4,o,o.return),ho(o);break;case 1:Es(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&m5(o,o.return,d),ho(o);break;case 27:Gu(o.stateNode);case 26:case 5:Es(o,o.return),ho(o);break;case 22:o.memoizedState===null&&ho(o);break;case 30:ho(o);break;default:ho(o)}i=i.sibling}}function ll(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=i,N=o,D=N.flags;switch(N.tag){case 0:case 11:case 15:ll(v,N,d),Lu(4,N);break;case 1:if(ll(v,N,d),p=N,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ve){Qt(p,p.return,ve)}if(p=N,v=p.updateQueue,v!==null){var H=p.stateNode;try{var re=v.shared.hiddenCallbacks;if(re!==null)for(v.shared.hiddenCallbacks=null,v=0;v<re.length;v++)Z4(re[v],H)}catch(ve){Qt(p,p.return,ve)}}d&&D&64&&u5(N),Iu(N,N.return);break;case 27:p5(N);case 26:case 5:ll(v,N,d),d&&p===null&&D&4&&f5(N),Iu(N,N.return);break;case 12:ll(v,N,d);break;case 13:ll(v,N,d),d&&D&4&&y5(v,N);break;case 22:N.memoizedState===null&&ll(v,N,d),Iu(N,N.return);break;case 30:break;default:ll(v,N,d)}o=o.sibling}}function Rb(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&Nu(d))}function $b(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i))}function Os(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)N5(i,o,d,p),o=o.sibling}function N5(i,o,d,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:Os(i,o,d,p),v&2048&&Lu(9,o);break;case 1:Os(i,o,d,p);break;case 3:Os(i,o,d,p),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Nu(i)));break;case 12:if(v&2048){Os(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,D=N.id,H=N.onPostCommit;typeof H=="function"&&H(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(re){Qt(o,o.return,re)}}else Os(i,o,d,p);break;case 13:Os(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,D=o.alternate,o.memoizedState!==null?N._visibility&2?Os(i,o,d,p):Bu(i,o):N._visibility&2?Os(i,o,d,p):(N._visibility|=2,Oc(i,o,d,p,(o.subtreeFlags&10256)!==0)),v&2048&&Rb(D,o);break;case 24:Os(i,o,d,p),v&2048&&$b(o.alternate,o);break;default:Os(i,o,d,p)}}function Oc(i,o,d,p,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,D=o,H=d,re=p,ve=D.flags;switch(D.tag){case 0:case 11:case 15:Oc(N,D,H,re,v),Lu(8,D);break;case 23:break;case 22:var Le=D.stateNode;D.memoizedState!==null?Le._visibility&2?Oc(N,D,H,re,v):Bu(N,D):(Le._visibility|=2,Oc(N,D,H,re,v)),v&&ve&2048&&Rb(D.alternate,D);break;case 24:Oc(N,D,H,re,v),v&&ve&2048&&$b(D.alternate,D);break;default:Oc(N,D,H,re,v)}o=o.sibling}}function Bu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,v=p.flags;switch(p.tag){case 22:Bu(d,p),v&2048&&Rb(p.alternate,p);break;case 24:Bu(d,p),v&2048&&$b(p.alternate,p);break;default:Bu(d,p)}o=o.sibling}}var zu=8192;function Pc(i){if(i.subtreeFlags&zu)for(i=i.child;i!==null;)S5(i),i=i.sibling}function S5(i){switch(i.tag){case 26:Pc(i),i.flags&zu&&i.memoizedState!==null&&hI(is,i.memoizedState,i.memoizedProps);break;case 5:Pc(i);break;case 3:case 4:var o=is;is=Fh(i.stateNode.containerInfo),Pc(i),is=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=zu,zu=16777216,Pc(i),zu=o):Pc(i));break;default:Pc(i)}}function _5(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Uu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];na=p,C5(p,i)}_5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)k5(i),i=i.sibling}function k5(i){switch(i.tag){case 0:case 11:case 15:Uu(i),i.flags&2048&&sl(9,i,i.return);break;case 3:Uu(i);break;case 12:Uu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Eh(i)):Uu(i);break;default:Uu(i)}}function Eh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];na=p,C5(p,i)}_5(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:sl(8,o,o.return),Eh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,Eh(o));break;default:Eh(o)}i=i.sibling}}function C5(i,o){for(;na!==null;){var d=na;switch(d.tag){case 0:case 11:case 15:sl(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Nu(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,na=p;else e:for(d=i;na!==null;){p=na;var v=p.sibling,N=p.return;if(b5(p),p===d){na=null;break e}if(v!==null){v.return=N,na=v;break e}na=N}}}var E9={getCacheForType:function(i){var o=_a(Hn),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d}},O9=typeof WeakMap=="function"?WeakMap:Map,Ht=0,tn=null,kt=null,Dt=0,qt=0,ur=null,ol=!1,Mc=!1,Lb=!1,mi=0,wn=0,cl=0,po=0,Ib=0,Ur=0,Dc=0,Fu=null,Za=null,Bb=!1,zb=0,Oh=1/0,Ph=null,dl=null,ma=0,ul=null,Rc=null,$c=0,Ub=0,Fb=null,A5=null,Vu=0,Vb=null;function mr(){if((Ht&2)!==0&&Dt!==0)return Dt&-Dt;if(P.T!==null){var i=Nc;return i!==0?i:Xb()}return xt()}function T5(){Ur===0&&(Ur=(Dt&536870912)===0||Ut?le():536870912);var i=zr.current;return i!==null&&(i.flags|=32),Ur}function fr(i,o,d){(i===tn&&(qt===2||qt===9)||i.cancelPendingCommit!==null)&&(Lc(i,0),ml(i,Dt,Ur,!1)),me(i,d),((Ht&2)===0||i!==tn)&&(i===tn&&((Ht&2)===0&&(po|=d),wn===4&&ml(i,Dt,Ur,!1)),Ps(i))}function E5(i,o,d){if((Ht&6)!==0)throw Error(r(327));var p=!d&&(o&124)===0&&(o&i.expiredLanes)===0||pt(i,o),v=p?D9(i,o):Kb(i,o,!0),N=p;do{if(v===0){Mc&&!p&&ml(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!P9(d)){v=Kb(i,o,!1),N=!1;continue}if(v===2){if(N=o,i.errorRecoveryDisabledLanes&N)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var H=i;v=Fu;var re=H.current.memoizedState.isDehydrated;if(re&&(Lc(H,D).flags|=256),D=Kb(H,D,!1),D!==2){if(Lb&&!re){H.errorRecoveryDisabledLanes|=N,po|=N,v=4;break e}N=Za,Za=v,N!==null&&(Za===null?Za=N:Za.push.apply(Za,N))}v=D}if(N=!1,v!==2)continue}}if(v===1){Lc(i,0),ml(i,o,0,!0);break}e:{switch(p=i,N=v,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:ml(p,o,Ur,!ol);break e;case 2:Za=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=zb+300-Ee(),10<v)){if(ml(p,o,Ur,!ol),We(p,0,!0)!==0)break e;p.timeoutHandle=sk(O5.bind(null,p,d,Za,Ph,Bb,o,Ur,po,Dc,ol,N,2,-0,0),v);break e}O5(p,d,Za,Ph,Bb,o,Ur,po,Dc,ol,N,0,-0,0)}}break}while(!0);Ps(i)}function O5(i,o,d,p,v,N,D,H,re,ve,Le,Ue,je,Ce){if(i.timeoutHandle=-1,Ue=o.subtreeFlags,(Ue&8192||(Ue&16785408)===16785408)&&(Xu={stylesheets:null,count:0,unsuspend:fI},S5(o),Ue=pI(),Ue!==null)){i.cancelPendingCommit=Ue(I5.bind(null,i,o,N,d,p,v,D,H,re,Le,1,je,Ce)),ml(i,N,D,!ve);return}I5(i,o,N,d,p,v,D,H,re)}function P9(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var v=d[p],N=v.getSnapshot;v=v.value;try{if(!lr(N(),v))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ml(i,o,d,p){o&=~Ib,o&=~po,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var v=o;0<v;){var N=31-Be(v),D=1<<N;p[N]=-1,v&=~D}d!==0&&lt(i,d,o)}function Mh(){return(Ht&6)===0?(Hu(0),!1):!0}function Hb(){if(kt!==null){if(qt===0)var i=kt.return;else i=kt,ri=oo=null,lb(i),Tc=null,Du=0,i=kt;for(;i!==null;)d5(i.alternate,i),i=i.return;kt=null}}function Lc(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,X9(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Hb(),tn=i,kt=d=ti(i.current,null),Dt=o,qt=0,ur=null,ol=!1,Mc=pt(i,o),Lb=!1,Dc=Ur=Ib=po=cl=wn=0,Za=Fu=null,Bb=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var v=31-Be(p),N=1<<v;o|=i[v],p&=~N}return mi=o,th(),d}function P5(i,o){Nt=null,P.H=yh,o===_u||o===dh?(o=W4(),qt=3):o===K4?(o=W4(),qt=4):qt=o===X_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,ur=o,kt===null&&(wn=1,_h(i,$r(o,i.current)))}function M5(){var i=P.H;return P.H=yh,i===null?yh:i}function D5(){var i=P.A;return P.A=E9,i}function qb(){wn=4,ol||(Dt&4194048)!==Dt&&zr.current!==null||(Mc=!0),(cl&134217727)===0&&(po&134217727)===0||tn===null||ml(tn,Dt,Ur,!1)}function Kb(i,o,d){var p=Ht;Ht|=2;var v=M5(),N=D5();(tn!==i||Dt!==o)&&(Ph=null,Lc(i,o)),o=!1;var D=wn;e:do try{if(qt!==0&&kt!==null){var H=kt,re=ur;switch(qt){case 8:Hb(),D=6;break e;case 3:case 2:case 9:case 6:zr.current===null&&(o=!0);var ve=qt;if(qt=0,ur=null,Ic(i,H,re,ve),d&&Mc){D=0;break e}break;default:ve=qt,qt=0,ur=null,Ic(i,H,re,ve)}}M9(),D=wn;break}catch(Le){P5(i,Le)}while(!0);return o&&i.shellSuspendCounter++,ri=oo=null,Ht=p,P.H=v,P.A=N,kt===null&&(tn=null,Dt=0,th()),D}function M9(){for(;kt!==null;)R5(kt)}function D9(i,o){var d=Ht;Ht|=2;var p=M5(),v=D5();tn!==i||Dt!==o?(Ph=null,Oh=Ee()+500,Lc(i,o)):Mc=pt(i,o);e:do try{if(qt!==0&&kt!==null){o=kt;var N=ur;t:switch(qt){case 1:qt=0,ur=null,Ic(i,o,N,1);break;case 2:case 9:if(G4(N)){qt=0,ur=null,$5(o);break}o=function(){qt!==2&&qt!==9||tn!==i||(qt=7),Ps(i)},N.then(o,o);break e;case 3:qt=7;break e;case 4:qt=5;break e;case 7:G4(N)?(qt=0,ur=null,$5(o)):(qt=0,ur=null,Ic(i,o,N,7));break;case 5:var D=null;switch(kt.tag){case 26:D=kt.memoizedState;case 5:case 27:var H=kt;if(!D||gk(D)){qt=0,ur=null;var re=H.sibling;if(re!==null)kt=re;else{var ve=H.return;ve!==null?(kt=ve,Dh(ve)):kt=null}break t}}qt=0,ur=null,Ic(i,o,N,5);break;case 6:qt=0,ur=null,Ic(i,o,N,6);break;case 8:Hb(),wn=6;break e;default:throw Error(r(462))}}R9();break}catch(Le){P5(i,Le)}while(!0);return ri=oo=null,P.H=p,P.A=v,Ht=d,kt!==null?0:(tn=null,Dt=0,th(),wn)}function R9(){for(;kt!==null&&!ye();)R5(kt)}function R5(i){var o=o5(i.alternate,i,mi);i.memoizedProps=i.pendingProps,o===null?Dh(i):kt=o}function $5(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=n5(d,o,o.pendingProps,o.type,void 0,Dt);break;case 11:o=n5(d,o,o.pendingProps,o.type.render,o.ref,Dt);break;case 5:lb(o);default:d5(d,o),o=kt=L4(o,mi),o=o5(d,o,mi)}i.memoizedProps=i.pendingProps,o===null?Dh(i):kt=o}function Ic(i,o,d,p){ri=oo=null,lb(o),Tc=null,Du=0;var v=o.return;try{if(S9(i,v,o,d,Dt)){wn=1,_h(i,$r(d,i.current)),kt=null;return}}catch(N){if(v!==null)throw kt=v,N;wn=1,_h(i,$r(d,i.current)),kt=null;return}o.flags&32768?(Ut||p===1?i=!0:Mc||(Dt&536870912)!==0?i=!1:(ol=i=!0,(p===2||p===9||p===3||p===6)&&(p=zr.current,p!==null&&p.tag===13&&(p.flags|=16384))),L5(o,i)):Dh(o)}function Dh(i){var o=i;do{if((o.flags&32768)!==0){L5(o,ol);return}i=o.return;var d=k9(o.alternate,o,mi);if(d!==null){kt=d;return}if(o=o.sibling,o!==null){kt=o;return}kt=o=i}while(o!==null);wn===0&&(wn=5)}function L5(i,o){do{var d=C9(i.alternate,i);if(d!==null){d.flags&=32767,kt=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){kt=i;return}kt=i=d}while(i!==null);wn=6,kt=null}function I5(i,o,d,p,v,N,D,H,re){i.cancelPendingCommit=null;do Rh();while(ma!==0);if((Ht&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=$g,Ze(i,d,N,D,H,re),i===tn&&(kt=tn=null,Dt=0),Rc=o,ul=i,$c=d,Ub=N,Fb=v,A5=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,B9(Ke,function(){return V5(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=P.T,P.T=null,v=K.p,K.p=2,D=Ht,Ht|=4;try{A9(i,o,d)}finally{Ht=D,K.p=v,P.T=p}}ma=1,B5(),z5(),U5()}}function B5(){if(ma===1){ma=0;var i=ul,o=Rc,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=P.T,P.T=null;var p=K.p;K.p=2;var v=Ht;Ht|=4;try{j5(o,i);var N=rv,D=C4(i.containerInfo),H=N.focusedElem,re=N.selectionRange;if(D!==H&&H&&H.ownerDocument&&k4(H.ownerDocument.documentElement,H)){if(re!==null&&Og(H)){var ve=re.start,Le=re.end;if(Le===void 0&&(Le=ve),"selectionStart"in H)H.selectionStart=ve,H.selectionEnd=Math.min(Le,H.value.length);else{var Ue=H.ownerDocument||document,je=Ue&&Ue.defaultView||window;if(je.getSelection){var Ce=je.getSelection(),ft=H.textContent.length,ct=Math.min(re.start,ft),Xt=re.end===void 0?ct:Math.min(re.end,ft);!Ce.extend&&ct>Xt&&(D=Xt,Xt=ct,ct=D);var he=_4(H,ct),de=_4(H,Xt);if(he&&de&&(Ce.rangeCount!==1||Ce.anchorNode!==he.node||Ce.anchorOffset!==he.offset||Ce.focusNode!==de.node||Ce.focusOffset!==de.offset)){var be=Ue.createRange();be.setStart(he.node,he.offset),Ce.removeAllRanges(),ct>Xt?(Ce.addRange(be),Ce.extend(de.node,de.offset)):(be.setEnd(de.node,de.offset),Ce.addRange(be))}}}}for(Ue=[],Ce=H;Ce=Ce.parentNode;)Ce.nodeType===1&&Ue.push({element:Ce,left:Ce.scrollLeft,top:Ce.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<Ue.length;H++){var ze=Ue[H];ze.element.scrollLeft=ze.left,ze.element.scrollTop=ze.top}}Gh=!!av,rv=av=null}finally{Ht=v,K.p=p,P.T=d}}i.current=o,ma=2}}function z5(){if(ma===2){ma=0;var i=ul,o=Rc,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=P.T,P.T=null;var p=K.p;K.p=2;var v=Ht;Ht|=4;try{g5(i,o.alternate,o)}finally{Ht=v,K.p=p,P.T=d}}ma=3}}function U5(){if(ma===4||ma===3){ma=0,ce();var i=ul,o=Rc,d=$c,p=A5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?ma=5:(ma=0,Rc=ul=null,F5(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(dl=null),Mt(d),o=o.stateNode,ke&&typeof ke.onCommitFiberRoot=="function")try{ke.onCommitFiberRoot(ne,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=P.T,v=K.p,K.p=2,P.T=null;try{for(var N=i.onRecoverableError,D=0;D<p.length;D++){var H=p[D];N(H.value,{componentStack:H.stack})}}finally{P.T=o,K.p=v}}($c&3)!==0&&Rh(),Ps(i),v=i.pendingLanes,(d&4194090)!==0&&(v&42)!==0?i===Vb?Vu++:(Vu=0,Vb=i):Vu=0,Hu(0)}}function F5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Nu(o)))}function Rh(i){return B5(),z5(),U5(),V5()}function V5(){if(ma!==5)return!1;var i=ul,o=Ub;Ub=0;var d=Mt($c),p=P.T,v=K.p;try{K.p=32>d?32:d,P.T=null,d=Fb,Fb=null;var N=ul,D=$c;if(ma=0,Rc=ul=null,$c=0,(Ht&6)!==0)throw Error(r(331));var H=Ht;if(Ht|=4,k5(N.current),N5(N,N.current,D,d),Ht=H,Hu(0,!1),ke&&typeof ke.onPostCommitFiberRoot=="function")try{ke.onPostCommitFiberRoot(ne,N)}catch{}return!0}finally{K.p=v,P.T=p,F5(i,o)}}function H5(i,o,d){o=$r(d,o),o=jb(i.stateNode,o,2),i=tl(i,o,2),i!==null&&(me(i,2),Ps(i))}function Qt(i,o,d){if(i.tag===3)H5(i,i,d);else for(;o!==null;){if(o.tag===3){H5(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(dl===null||!dl.has(p))){i=$r(d,i),d=Y_(2),p=tl(o,d,2),p!==null&&(W_(d,p,o,i),me(p,2),Ps(p));break}}o=o.return}}function Gb(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new O9;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(d)||(Lb=!0,v.add(d),i=$9.bind(null,i,o,d),o.then(i,i))}function $9(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,tn===i&&(Dt&d)===d&&(wn===4||wn===3&&(Dt&62914560)===Dt&&300>Ee()-zb?(Ht&2)===0&&Lc(i,0):Ib|=d,Dc===Dt&&(Dc=0)),Ps(i)}function q5(i,o){o===0&&(o=X()),i=vc(i,o),i!==null&&(me(i,o),Ps(i))}function L9(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),q5(i,d)}function I9(i,o){var d=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),q5(i,d)}function B9(i,o){return qe(i,o)}var $h=null,Bc=null,Yb=!1,Lh=!1,Wb=!1,xo=0;function Ps(i){i!==Bc&&i.next===null&&(Bc===null?$h=Bc=i:Bc=Bc.next=i),Lh=!0,Yb||(Yb=!0,U9())}function Hu(i,o){if(!Wb&&Lh){Wb=!0;do for(var d=!1,p=$h;p!==null;){if(i!==0){var v=p.pendingLanes;if(v===0)var N=0;else{var D=p.suspendedLanes,H=p.pingedLanes;N=(1<<31-Be(42|i)+1)-1,N&=v&~(D&~H),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,W5(p,N))}else N=Dt,N=We(p,p===tn?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||pt(p,N)||(d=!0,W5(p,N));p=p.next}while(d);Wb=!1}}function z9(){K5()}function K5(){Lh=Yb=!1;var i=0;xo!==0&&(W9()&&(i=xo),xo=0);for(var o=Ee(),d=null,p=$h;p!==null;){var v=p.next,N=G5(p,o);N===0?(p.next=null,d===null?$h=v:d.next=v,v===null&&(Bc=d)):(d=p,(i!==0||(N&3)!==0)&&(Lh=!0)),p=v}Hu(i)}function G5(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var D=31-Be(N),H=1<<D,re=v[D];re===-1?((H&d)===0||(H&p)!==0)&&(v[D]=En(H,o)):re<=o&&(i.expiredLanes|=H),N&=~H}if(o=tn,d=Dt,d=We(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(qt===2||qt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ve(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||pt(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&Ve(p),Mt(d)){case 2:case 8:d=$e;break;case 32:d=Ke;break;case 268435456:d=st;break;default:d=Ke}return p=Y5.bind(null,i),d=qe(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&Ve(p),i.callbackPriority=2,i.callbackNode=null,2}function Y5(i,o){if(ma!==0&&ma!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Rh()&&i.callbackNode!==d)return null;var p=Dt;return p=We(i,i===tn?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(E5(i,p,o),G5(i,Ee()),i.callbackNode!=null&&i.callbackNode===d?Y5.bind(null,i):null)}function W5(i,o){if(Rh())return null;E5(i,o,!0)}function U9(){Z9(function(){(Ht&6)!==0?qe(we,z9):K5()})}function Xb(){return xo===0&&(xo=le()),xo}function X5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Yf(""+i)}function Z5(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function F9(i,o,d,p,v){if(o==="submit"&&d&&d.stateNode===v){var N=X5((v[Ot]||null).action),D=p.submitter;D&&(o=(o=D[Ot]||null)?X5(o.formAction):D.getAttribute("formAction"),o!==null&&(N=o,D=null));var H=new Qf("action","action",null,p,v);i.push({event:H,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(xo!==0){var re=D?Z5(v,D):new FormData(v);xb(d,{pending:!0,data:re,method:v.method,action:N},null,re)}}else typeof N=="function"&&(H.preventDefault(),re=D?Z5(v,D):new FormData(v),xb(d,{pending:!0,data:re,method:v.method,action:N},N,re))},currentTarget:v}]})}}for(var Zb=0;Zb<Rg.length;Zb++){var Qb=Rg[Zb],V9=Qb.toLowerCase(),H9=Qb[0].toUpperCase()+Qb.slice(1);ss(V9,"on"+H9)}ss(E4,"onAnimationEnd"),ss(O4,"onAnimationIteration"),ss(P4,"onAnimationStart"),ss("dblclick","onDoubleClick"),ss("focusin","onFocus"),ss("focusout","onBlur"),ss(l9,"onTransitionRun"),ss(o9,"onTransitionStart"),ss(c9,"onTransitionCancel"),ss(M4,"onTransitionEnd"),Fe("onMouseEnter",["mouseout","mouseover"]),Fe("onMouseLeave",["mouseout","mouseover"]),Fe("onPointerEnter",["pointerout","pointerover"]),Fe("onPointerLeave",["pointerout","pointerover"]),Re("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Re("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Re("onBeforeInput",["compositionend","keypress","textInput","paste"]),Re("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Re("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(qu));function Q5(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],v=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var D=p.length-1;0<=D;D--){var H=p[D],re=H.instance,ve=H.currentTarget;if(H=H.listener,re!==N&&v.isPropagationStopped())break e;N=H,v.currentTarget=ve;try{N(v)}catch(Le){Sh(Le)}v.currentTarget=null,N=re}else for(D=0;D<p.length;D++){if(H=p[D],re=H.instance,ve=H.currentTarget,H=H.listener,re!==N&&v.isPropagationStopped())break e;N=H,v.currentTarget=ve;try{N(v)}catch(Le){Sh(Le)}v.currentTarget=null,N=re}}}}function Ct(i,o){var d=o[Jn];d===void 0&&(d=o[Jn]=new Set);var p=i+"__bubble";d.has(p)||(J5(o,i,2,!1),d.add(p))}function Jb(i,o,d){var p=0;o&&(p|=4),J5(d,i,p,o)}var Ih="_reactListening"+Math.random().toString(36).slice(2);function ev(i){if(!i[Ih]){i[Ih]=!0,J.forEach(function(d){d!=="selectionchange"&&(q9.has(d)||Jb(d,!1,i),Jb(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ih]||(o[Ih]=!0,Jb("selectionchange",!1,o))}}function J5(i,o,d,p){switch(Nk(o)){case 2:var v=bI;break;case 8:v=vI;break;default:v=hv}d=v.bind(null,o,d,i),v=void 0,!wg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,d,{capture:!0,passive:v}):i.addEventListener(o,d,!0):v!==void 0?i.addEventListener(o,d,{passive:v}):i.addEventListener(o,d,!1)}function tv(i,o,d,p,v){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var H=p.stateNode.containerInfo;if(H===v)break;if(D===4)for(D=p.return;D!==null;){var re=D.tag;if((re===3||re===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;H!==null;){if(D=Q(H),D===null)return;if(re=D.tag,re===5||re===6||re===26||re===27){p=N=D;continue e}H=H.parentNode}}p=p.return}i4(function(){var ve=N,Le=yg(d),Ue=[];e:{var je=D4.get(i);if(je!==void 0){var Ce=Qf,ft=i;switch(i){case"keypress":if(Xf(d)===0)break e;case"keydown":case"keyup":Ce=BL;break;case"focusin":ft="focus",Ce=kg;break;case"focusout":ft="blur",Ce=kg;break;case"beforeblur":case"afterblur":Ce=kg;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ce=c4;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ce=CL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ce=FL;break;case E4:case O4:case P4:Ce=EL;break;case M4:Ce=HL;break;case"scroll":case"scrollend":Ce=_L;break;case"wheel":Ce=KL;break;case"copy":case"cut":case"paste":Ce=PL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ce=u4;break;case"toggle":case"beforetoggle":Ce=YL}var ct=(o&4)!==0,Xt=!ct&&(i==="scroll"||i==="scrollend"),he=ct?je!==null?je+"Capture":null:je;ct=[];for(var de=ve,be;de!==null;){var ze=de;if(be=ze.stateNode,ze=ze.tag,ze!==5&&ze!==26&&ze!==27||be===null||he===null||(ze=du(de,he),ze!=null&&ct.push(Ku(de,ze,be))),Xt)break;de=de.return}0<ct.length&&(je=new Ce(je,ft,null,d,Le),Ue.push({event:je,listeners:ct}))}}if((o&7)===0){e:{if(je=i==="mouseover"||i==="pointerover",Ce=i==="mouseout"||i==="pointerout",je&&d!==vg&&(ft=d.relatedTarget||d.fromElement)&&(Q(ft)||ft[On]))break e;if((Ce||je)&&(je=Le.window===Le?Le:(je=Le.ownerDocument)?je.defaultView||je.parentWindow:window,Ce?(ft=d.relatedTarget||d.toElement,Ce=ve,ft=ft?Q(ft):null,ft!==null&&(Xt=l(ft),ct=ft.tag,ft!==Xt||ct!==5&&ct!==27&&ct!==6)&&(ft=null)):(Ce=null,ft=ve),Ce!==ft)){if(ct=c4,ze="onMouseLeave",he="onMouseEnter",de="mouse",(i==="pointerout"||i==="pointerover")&&(ct=u4,ze="onPointerLeave",he="onPointerEnter",de="pointer"),Xt=Ce==null?je:He(Ce),be=ft==null?je:He(ft),je=new ct(ze,de+"leave",Ce,d,Le),je.target=Xt,je.relatedTarget=be,ze=null,Q(Le)===ve&&(ct=new ct(he,de+"enter",ft,d,Le),ct.target=be,ct.relatedTarget=Xt,ze=ct),Xt=ze,Ce&&ft)t:{for(ct=Ce,he=ft,de=0,be=ct;be;be=zc(be))de++;for(be=0,ze=he;ze;ze=zc(ze))be++;for(;0<de-be;)ct=zc(ct),de--;for(;0<be-de;)he=zc(he),be--;for(;de--;){if(ct===he||he!==null&&ct===he.alternate)break t;ct=zc(ct),he=zc(he)}ct=null}else ct=null;Ce!==null&&ek(Ue,je,Ce,ct,!1),ft!==null&&Xt!==null&&ek(Ue,Xt,ft,ct,!0)}}e:{if(je=ve?He(ve):window,Ce=je.nodeName&&je.nodeName.toLowerCase(),Ce==="select"||Ce==="input"&&je.type==="file")var tt=v4;else if(g4(je))if(y4)tt=r9;else{tt=n9;var St=t9}else Ce=je.nodeName,!Ce||Ce.toLowerCase()!=="input"||je.type!=="checkbox"&&je.type!=="radio"?ve&&bg(ve.elementType)&&(tt=v4):tt=a9;if(tt&&(tt=tt(i,ve))){b4(Ue,tt,d,Le);break e}St&&St(i,je,ve),i==="focusout"&&ve&&je.type==="number"&&ve.memoizedProps.value!=null&&gg(je,"number",je.value)}switch(St=ve?He(ve):window,i){case"focusin":(g4(St)||St.contentEditable==="true")&&(xc=St,Pg=ve,bu=null);break;case"focusout":bu=Pg=xc=null;break;case"mousedown":Mg=!0;break;case"contextmenu":case"mouseup":case"dragend":Mg=!1,A4(Ue,d,Le);break;case"selectionchange":if(i9)break;case"keydown":case"keyup":A4(Ue,d,Le)}var it;if(Ag)e:{switch(i){case"compositionstart":var mt="onCompositionStart";break e;case"compositionend":mt="onCompositionEnd";break e;case"compositionupdate":mt="onCompositionUpdate";break e}mt=void 0}else pc?p4(i,d)&&(mt="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(mt="onCompositionStart");mt&&(m4&&d.locale!=="ko"&&(pc||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&pc&&(it=l4()):(Zi=Le,Ng="value"in Zi?Zi.value:Zi.textContent,pc=!0)),St=Bh(ve,mt),0<St.length&&(mt=new d4(mt,i,null,d,Le),Ue.push({event:mt,listeners:St}),it?mt.data=it:(it=x4(d),it!==null&&(mt.data=it)))),(it=XL?ZL(i,d):QL(i,d))&&(mt=Bh(ve,"onBeforeInput"),0<mt.length&&(St=new d4("onBeforeInput","beforeinput",null,d,Le),Ue.push({event:St,listeners:mt}),St.data=it)),F9(Ue,i,ve,d,Le)}Q5(Ue,o)})}function Ku(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Bh(i,o){for(var d=o+"Capture",p=[];i!==null;){var v=i,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=du(i,d),v!=null&&p.unshift(Ku(i,v,N)),v=du(i,o),v!=null&&p.push(Ku(i,v,N))),i.tag===3)return p;i=i.return}return[]}function zc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function ek(i,o,d,p,v){for(var N=o._reactName,D=[];d!==null&&d!==p;){var H=d,re=H.alternate,ve=H.stateNode;if(H=H.tag,re!==null&&re===p)break;H!==5&&H!==26&&H!==27||ve===null||(re=ve,v?(ve=du(d,N),ve!=null&&D.unshift(Ku(d,ve,re))):v||(ve=du(d,N),ve!=null&&D.push(Ku(d,ve,re)))),d=d.return}D.length!==0&&i.push({event:o,listeners:D})}var K9=/\r\n?/g,G9=/\u0000|\uFFFD/g;function tk(i){return(typeof i=="string"?i:""+i).replace(K9,`
`).replace(G9,"")}function nk(i,o){return o=tk(o),tk(i)===o}function zh(){}function Wt(i,o,d,p,v,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||mc(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&mc(i,""+p);break;case"className":Js(i,"class",p);break;case"tabIndex":Js(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Js(i,d,p);break;case"style":r4(i,p,N);break;case"data":if(o!=="object"){Js(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Yf(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Wt(i,o,"name",v.name,v,null),Wt(i,o,"formEncType",v.formEncType,v,null),Wt(i,o,"formMethod",v.formMethod,v,null),Wt(i,o,"formTarget",v.formTarget,v,null)):(Wt(i,o,"encType",v.encType,v,null),Wt(i,o,"method",v.method,v,null),Wt(i,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=Yf(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=zh);break;case"onScroll":p!=null&&Ct("scroll",i);break;case"onScrollEnd":p!=null&&Ct("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=Yf(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":Ct("beforetoggle",i),Ct("toggle",i),ea(i,"popover",p);break;case"xlinkActuate":Ia(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":Ia(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":Ia(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":Ia(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":Ia(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":Ia(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":Ia(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":Ia(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":Ia(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":ea(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=NL.get(d)||d,ea(i,d,p))}}function nv(i,o,d,p,v,N){switch(d){case"style":r4(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?mc(i,p):(typeof p=="number"||typeof p=="bigint")&&mc(i,""+p);break;case"onScroll":p!=null&&Ct("scroll",i);break;case"onScrollEnd":p!=null&&Ct("scrollend",i);break;case"onClick":p!=null&&(i.onclick=zh);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ne.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),o=d.slice(2,v?d.length-7:void 0),N=i[Ot]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,v),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,v);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):ea(i,d,p)}}}function fa(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",i),Ct("load",i);var p=!1,v=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Wt(i,o,N,D,d,null)}}v&&Wt(i,o,"srcSet",d.srcSet,d,null),p&&Wt(i,o,"src",d.src,d,null);return;case"input":Ct("invalid",i);var H=N=D=v=null,re=null,ve=null;for(p in d)if(d.hasOwnProperty(p)){var Le=d[p];if(Le!=null)switch(p){case"name":v=Le;break;case"type":D=Le;break;case"checked":re=Le;break;case"defaultChecked":ve=Le;break;case"value":N=Le;break;case"defaultValue":H=Le;break;case"children":case"dangerouslySetInnerHTML":if(Le!=null)throw Error(r(137,o));break;default:Wt(i,o,p,Le,d,null)}}e4(i,N,H,re,ve,D,v,!1),Kf(i);return;case"select":Ct("invalid",i),p=D=N=null;for(v in d)if(d.hasOwnProperty(v)&&(H=d[v],H!=null))switch(v){case"value":N=H;break;case"defaultValue":D=H;break;case"multiple":p=H;default:Wt(i,o,v,H,d,null)}o=N,d=D,i.multiple=!!p,o!=null?uc(i,!!p,o,!1):d!=null&&uc(i,!!p,d,!0);return;case"textarea":Ct("invalid",i),N=v=p=null;for(D in d)if(d.hasOwnProperty(D)&&(H=d[D],H!=null))switch(D){case"value":p=H;break;case"defaultValue":v=H;break;case"children":N=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(r(91));break;default:Wt(i,o,D,H,d,null)}n4(i,p,v,N),Kf(i);return;case"option":for(re in d)if(d.hasOwnProperty(re)&&(p=d[re],p!=null))switch(re){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Wt(i,o,re,p,d,null)}return;case"dialog":Ct("beforetoggle",i),Ct("toggle",i),Ct("cancel",i),Ct("close",i);break;case"iframe":case"object":Ct("load",i);break;case"video":case"audio":for(p=0;p<qu.length;p++)Ct(qu[p],i);break;case"image":Ct("error",i),Ct("load",i);break;case"details":Ct("toggle",i);break;case"embed":case"source":case"link":Ct("error",i),Ct("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ve in d)if(d.hasOwnProperty(ve)&&(p=d[ve],p!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Wt(i,o,ve,p,d,null)}return;default:if(bg(o)){for(Le in d)d.hasOwnProperty(Le)&&(p=d[Le],p!==void 0&&nv(i,o,Le,p,d,void 0));return}}for(H in d)d.hasOwnProperty(H)&&(p=d[H],p!=null&&Wt(i,o,H,p,d,null))}function Y9(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,D=null,H=null,re=null,ve=null,Le=null;for(Ce in d){var Ue=d[Ce];if(d.hasOwnProperty(Ce)&&Ue!=null)switch(Ce){case"checked":break;case"value":break;case"defaultValue":re=Ue;default:p.hasOwnProperty(Ce)||Wt(i,o,Ce,null,p,Ue)}}for(var je in p){var Ce=p[je];if(Ue=d[je],p.hasOwnProperty(je)&&(Ce!=null||Ue!=null))switch(je){case"type":N=Ce;break;case"name":v=Ce;break;case"checked":ve=Ce;break;case"defaultChecked":Le=Ce;break;case"value":D=Ce;break;case"defaultValue":H=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,o));break;default:Ce!==Ue&&Wt(i,o,je,Ce,p,Ue)}}xg(i,D,H,re,ve,Le,N,v);return;case"select":Ce=D=H=je=null;for(N in d)if(re=d[N],d.hasOwnProperty(N)&&re!=null)switch(N){case"value":break;case"multiple":Ce=re;default:p.hasOwnProperty(N)||Wt(i,o,N,null,p,re)}for(v in p)if(N=p[v],re=d[v],p.hasOwnProperty(v)&&(N!=null||re!=null))switch(v){case"value":je=N;break;case"defaultValue":H=N;break;case"multiple":D=N;default:N!==re&&Wt(i,o,v,N,p,re)}o=H,d=D,p=Ce,je!=null?uc(i,!!d,je,!1):!!p!=!!d&&(o!=null?uc(i,!!d,o,!0):uc(i,!!d,d?[]:"",!1));return;case"textarea":Ce=je=null;for(H in d)if(v=d[H],d.hasOwnProperty(H)&&v!=null&&!p.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:Wt(i,o,H,null,p,v)}for(D in p)if(v=p[D],N=d[D],p.hasOwnProperty(D)&&(v!=null||N!=null))switch(D){case"value":je=v;break;case"defaultValue":Ce=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==N&&Wt(i,o,D,v,p,N)}t4(i,je,Ce);return;case"option":for(var ft in d)if(je=d[ft],d.hasOwnProperty(ft)&&je!=null&&!p.hasOwnProperty(ft))switch(ft){case"selected":i.selected=!1;break;default:Wt(i,o,ft,null,p,je)}for(re in p)if(je=p[re],Ce=d[re],p.hasOwnProperty(re)&&je!==Ce&&(je!=null||Ce!=null))switch(re){case"selected":i.selected=je&&typeof je!="function"&&typeof je!="symbol";break;default:Wt(i,o,re,je,p,Ce)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in d)je=d[ct],d.hasOwnProperty(ct)&&je!=null&&!p.hasOwnProperty(ct)&&Wt(i,o,ct,null,p,je);for(ve in p)if(je=p[ve],Ce=d[ve],p.hasOwnProperty(ve)&&je!==Ce&&(je!=null||Ce!=null))switch(ve){case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(r(137,o));break;default:Wt(i,o,ve,je,p,Ce)}return;default:if(bg(o)){for(var Xt in d)je=d[Xt],d.hasOwnProperty(Xt)&&je!==void 0&&!p.hasOwnProperty(Xt)&&nv(i,o,Xt,void 0,p,je);for(Le in p)je=p[Le],Ce=d[Le],!p.hasOwnProperty(Le)||je===Ce||je===void 0&&Ce===void 0||nv(i,o,Le,je,p,Ce);return}}for(var he in d)je=d[he],d.hasOwnProperty(he)&&je!=null&&!p.hasOwnProperty(he)&&Wt(i,o,he,null,p,je);for(Ue in p)je=p[Ue],Ce=d[Ue],!p.hasOwnProperty(Ue)||je===Ce||je==null&&Ce==null||Wt(i,o,Ue,je,p,Ce)}var av=null,rv=null;function Uh(i){return i.nodeType===9?i:i.ownerDocument}function ak(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rk(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function sv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var iv=null;function W9(){var i=window.event;return i&&i.type==="popstate"?i===iv?!1:(iv=i,!0):(iv=null,!1)}var sk=typeof setTimeout=="function"?setTimeout:void 0,X9=typeof clearTimeout=="function"?clearTimeout:void 0,ik=typeof Promise=="function"?Promise:void 0,Z9=typeof queueMicrotask=="function"?queueMicrotask:typeof ik<"u"?function(i){return ik.resolve(null).then(i).catch(Q9)}:sk;function Q9(i){setTimeout(function(){throw i})}function fl(i){return i==="head"}function lk(i,o){var d=o,p=0,v=0;do{var N=d.nextSibling;if(i.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<p&&8>p){d=p;var D=i.ownerDocument;if(d&1&&Gu(D.documentElement),d&2&&Gu(D.body),d&4)for(d=D.head,Gu(d),D=d.firstChild;D;){var H=D.nextSibling,re=D.nodeName;D[ir]||re==="SCRIPT"||re==="STYLE"||re==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=H}}if(v===0){i.removeChild(N),tm(o);return}v--}else d==="$"||d==="$?"||d==="$!"?v++:p=d.charCodeAt(0)-48;else p=0;d=N}while(d);tm(o)}function lv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":lv(d),rs(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function J9(i,o,d,p){for(;i.nodeType===1;){var v=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[ir])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=ls(i.nextSibling),i===null)break}return null}function eI(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=ls(i.nextSibling),i===null))return null;return i}function ov(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function tI(i,o){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function ls(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var cv=null;function ok(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}function ck(i,o,d){switch(o=Uh(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Gu(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);rs(i)}var Fr=new Map,dk=new Set;function Fh(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var fi=K.d;K.d={f:nI,r:aI,D:rI,C:sI,L:iI,m:lI,X:cI,S:oI,M:dI};function nI(){var i=fi.f(),o=Mh();return i||o}function aI(i){var o=fe(i);o!==null&&o.tag===5&&o.type==="form"?E_(o):fi.r(i)}var Uc=typeof document>"u"?null:document;function uk(i,o,d){var p=Uc;if(p&&typeof o=="string"&&o){var v=Rr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),dk.has(v)||(dk.add(v),i={rel:i,crossOrigin:d,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),fa(o,"link",i),L(o),p.head.appendChild(o)))}}function rI(i){fi.D(i),uk("dns-prefetch",i,null)}function sI(i,o){fi.C(i,o),uk("preconnect",i,o)}function iI(i,o,d){fi.L(i,o,d);var p=Uc;if(p&&i&&o){var v='link[rel="preload"][as="'+Rr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+Rr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+Rr(d.imageSizes)+'"]')):v+='[href="'+Rr(i)+'"]';var N=v;switch(o){case"style":N=Fc(i);break;case"script":N=Vc(i)}Fr.has(N)||(i=h({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),Fr.set(N,i),p.querySelector(v)!==null||o==="style"&&p.querySelector(Yu(N))||o==="script"&&p.querySelector(Wu(N))||(o=p.createElement("link"),fa(o,"link",i),L(o),p.head.appendChild(o)))}}function lI(i,o){fi.m(i,o);var d=Uc;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+Rr(p)+'"][href="'+Rr(i)+'"]',N=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Vc(i)}if(!Fr.has(N)&&(i=h({rel:"modulepreload",href:i},o),Fr.set(N,i),d.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Wu(N)))return}p=d.createElement("link"),fa(p,"link",i),L(p),d.head.appendChild(p)}}}function oI(i,o,d){fi.S(i,o,d);var p=Uc;if(p&&i){var v=q(p).hoistableStyles,N=Fc(i);o=o||"default";var D=v.get(N);if(!D){var H={loading:0,preload:null};if(D=p.querySelector(Yu(N)))H.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},d),(d=Fr.get(N))&&dv(i,d);var re=D=p.createElement("link");L(re),fa(re,"link",i),re._p=new Promise(function(ve,Le){re.onload=ve,re.onerror=Le}),re.addEventListener("load",function(){H.loading|=1}),re.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Vh(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:H},v.set(N,D)}}}function cI(i,o){fi.X(i,o);var d=Uc;if(d&&i){var p=q(d).hoistableScripts,v=Vc(i),N=p.get(v);N||(N=d.querySelector(Wu(v)),N||(i=h({src:i,async:!0},o),(o=Fr.get(v))&&uv(i,o),N=d.createElement("script"),L(N),fa(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function dI(i,o){fi.M(i,o);var d=Uc;if(d&&i){var p=q(d).hoistableScripts,v=Vc(i),N=p.get(v);N||(N=d.querySelector(Wu(v)),N||(i=h({src:i,async:!0,type:"module"},o),(o=Fr.get(v))&&uv(i,o),N=d.createElement("script"),L(N),fa(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function mk(i,o,d,p){var v=(v=Z.current)?Fh(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Fc(d.href),d=q(v).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Fc(d.href);var N=q(v).hoistableStyles,D=N.get(i);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,D),(N=v.querySelector(Yu(i)))&&!N._p&&(D.instance=N,D.state.loading=5),Fr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},Fr.set(i,d),N||uI(v,i,d,D.state))),o&&p===null)throw Error(r(528,""));return D}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Vc(d),d=q(v).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Fc(i){return'href="'+Rr(i)+'"'}function Yu(i){return'link[rel="stylesheet"]['+i+"]"}function fk(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function uI(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),fa(o,"link",d),L(o),i.head.appendChild(o))}function Vc(i){return'[src="'+Rr(i)+'"]'}function Wu(i){return"script[async]"+i}function hk(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+Rr(d.href)+'"]');if(p)return o.instance=p,L(p),p;var v=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),L(p),fa(p,"style",v),Vh(p,d.precedence,i),o.instance=p;case"stylesheet":v=Fc(d.href);var N=i.querySelector(Yu(v));if(N)return o.state.loading|=4,o.instance=N,L(N),N;p=fk(d),(v=Fr.get(v))&&dv(p,v),N=(i.ownerDocument||i).createElement("link"),L(N);var D=N;return D._p=new Promise(function(H,re){D.onload=H,D.onerror=re}),fa(N,"link",p),o.state.loading|=4,Vh(N,d.precedence,i),o.instance=N;case"script":return N=Vc(d.src),(v=i.querySelector(Wu(N)))?(o.instance=v,L(v),v):(p=d,(v=Fr.get(N))&&(p=h({},d),uv(p,v)),i=i.ownerDocument||i,v=i.createElement("script"),L(v),fa(v,"link",p),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Vh(p,d.precedence,i));return o.instance}function Vh(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,N=v,D=0;D<p.length;D++){var H=p[D];if(H.dataset.precedence===o)N=H;else if(N!==v)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function dv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function uv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Hh=null;function pk(i,o,d){if(Hh===null){var p=new Map,v=Hh=new Map;v.set(d,p)}else v=Hh,p=v.get(d),p||(p=new Map,v.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),v=0;v<d.length;v++){var N=d[v];if(!(N[ir]||N[Et]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(o)||"";D=i+D;var H=p.get(D);H?H.push(N):p.set(D,[N])}}return p}function xk(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function mI(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function gk(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Xu=null;function fI(){}function hI(i,o,d){if(Xu===null)throw Error(r(475));var p=Xu;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Fc(d.href),N=i.querySelector(Yu(v));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=qh.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,L(N);return}N=i.ownerDocument||i,d=fk(d),(v=Fr.get(v))&&dv(d,v),N=N.createElement("link"),L(N);var D=N;D._p=new Promise(function(H,re){D.onload=H,D.onerror=re}),fa(N,"link",d),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=qh.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function pI(){if(Xu===null)throw Error(r(475));var i=Xu;return i.stylesheets&&i.count===0&&mv(i,i.stylesheets),0<i.count?function(o){var d=setTimeout(function(){if(i.stylesheets&&mv(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d)}}:null}function qh(){if(this.count--,this.count===0){if(this.stylesheets)mv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Kh=null;function mv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Kh=new Map,o.forEach(xI,i),Kh=null,qh.call(i))}function xI(i,o){if(!(o.state.loading&4)){var d=Kh.get(i);if(d)var p=d.get(null);else{d=new Map,Kh.set(i,d);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var D=v[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}v=o.instance,D=v.getAttribute("data-precedence"),N=d.get(D)||p,N===p&&d.set(null,v),d.set(D,v),this.count++,p=qh.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),N?N.parentNode.insertBefore(v,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Zu={$$typeof:C,Provider:null,Consumer:null,_currentValue:W,_currentValue2:W,_threadCount:0};function gI(i,o,d,p,v,N,D,H){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=se(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=se(0),this.hiddenUpdates=se(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=H,this.incompleteTransitions=new Map}function bk(i,o,d,p,v,N,D,H,re,ve,Le,Ue){return i=new gI(i,o,d,D,H,re,ve,Ue),o=1,N===!0&&(o|=24),N=or(3,null,null,o),i.current=N,N.stateNode=i,o=Gg(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},Zg(N),i}function vk(i){return i?(i=yc,i):yc}function yk(i,o,d,p,v,N){v=vk(v),p.context===null?p.context=v:p.pendingContext=v,p=el(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=tl(i,p,o),d!==null&&(fr(d,i,o),Cu(d,i,o))}function jk(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function fv(i,o){jk(i,o),(i=i.alternate)&&jk(i,o)}function wk(i){if(i.tag===13){var o=vc(i,67108864);o!==null&&fr(o,i,67108864),fv(i,67108864)}}var Gh=!0;function bI(i,o,d,p){var v=P.T;P.T=null;var N=K.p;try{K.p=2,hv(i,o,d,p)}finally{K.p=N,P.T=v}}function vI(i,o,d,p){var v=P.T;P.T=null;var N=K.p;try{K.p=8,hv(i,o,d,p)}finally{K.p=N,P.T=v}}function hv(i,o,d,p){if(Gh){var v=pv(p);if(v===null)tv(i,o,p,Yh,d),Sk(i,p);else if(jI(v,i,o,d,p))p.stopPropagation();else if(Sk(i,p),o&4&&-1<yI.indexOf(i)){for(;v!==null;){var N=fe(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Ie(N.pendingLanes);if(D!==0){var H=N;for(H.pendingLanes|=2,H.entangledLanes|=2;D;){var re=1<<31-Be(D);H.entanglements[1]|=re,D&=~re}Ps(N),(Ht&6)===0&&(Oh=Ee()+500,Hu(0))}}break;case 13:H=vc(N,2),H!==null&&fr(H,N,2),Mh(),fv(N,2)}if(N=pv(p),N===null&&tv(i,o,p,Yh,d),N===v)break;v=N}v!==null&&p.stopPropagation()}else tv(i,o,p,null,d)}}function pv(i){return i=yg(i),xv(i)}var Yh=null;function xv(i){if(Yh=null,i=Q(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Yh=i,null}function Nk(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(te()){case we:return 2;case $e:return 8;case Ke:case Ge:return 32;case st:return 268435456;default:return 32}default:return 32}}var gv=!1,hl=null,pl=null,xl=null,Qu=new Map,Ju=new Map,gl=[],yI="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sk(i,o){switch(i){case"focusin":case"focusout":hl=null;break;case"dragenter":case"dragleave":pl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":Qu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ju.delete(o.pointerId)}}function em(i,o,d,p,v,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[v]},o!==null&&(o=fe(o),o!==null&&wk(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function jI(i,o,d,p,v){switch(o){case"focusin":return hl=em(hl,i,o,d,p,v),!0;case"dragenter":return pl=em(pl,i,o,d,p,v),!0;case"mouseover":return xl=em(xl,i,o,d,p,v),!0;case"pointerover":var N=v.pointerId;return Qu.set(N,em(Qu.get(N)||null,i,o,d,p,v)),!0;case"gotpointercapture":return N=v.pointerId,Ju.set(N,em(Ju.get(N)||null,i,o,d,p,v)),!0}return!1}function _k(i){var o=Q(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,Vn(i.priority,function(){if(d.tag===13){var p=mr();p=ut(p);var v=vc(d,p);v!==null&&fr(v,d,p),fv(d,p)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Wh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=pv(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);vg=p,d.target.dispatchEvent(p),vg=null}else return o=fe(d),o!==null&&wk(o),i.blockedOn=d,!1;o.shift()}return!0}function kk(i,o,d){Wh(i)&&d.delete(o)}function wI(){gv=!1,hl!==null&&Wh(hl)&&(hl=null),pl!==null&&Wh(pl)&&(pl=null),xl!==null&&Wh(xl)&&(xl=null),Qu.forEach(kk),Ju.forEach(kk)}function Xh(i,o){i.blockedOn===o&&(i.blockedOn=null,gv||(gv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,wI)))}var Zh=null;function Ck(i){Zh!==i&&(Zh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){Zh===i&&(Zh=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],v=i[o+2];if(typeof p!="function"){if(xv(p||d)===null)continue;break}var N=fe(d);N!==null&&(i.splice(o,3),o-=3,xb(N,{pending:!0,data:v,method:d.method,action:p},p,v))}}))}function tm(i){function o(re){return Xh(re,i)}hl!==null&&Xh(hl,i),pl!==null&&Xh(pl,i),xl!==null&&Xh(xl,i),Qu.forEach(o),Ju.forEach(o);for(var d=0;d<gl.length;d++){var p=gl[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<gl.length&&(d=gl[0],d.blockedOn===null);)_k(d),d.blockedOn===null&&gl.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var v=d[p],N=d[p+1],D=v[Ot]||null;if(typeof N=="function")D||Ck(d);else if(D){var H=null;if(N&&N.hasAttribute("formAction")){if(v=N,D=N[Ot]||null)H=D.formAction;else if(xv(v)!==null)continue}else H=D.action;typeof H=="function"?d[p+1]=H:(d.splice(p,3),p-=3),Ck(d)}}}function bv(i){this._internalRoot=i}Qh.prototype.render=bv.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=mr();yk(d,p,i,o,null,null)},Qh.prototype.unmount=bv.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;yk(i.current,2,null,i,null,null),Mh(),o[On]=null}};function Qh(i){this._internalRoot=i}Qh.prototype.unstable_scheduleHydration=function(i){if(i){var o=xt();i={blockedOn:null,target:i,priority:o};for(var d=0;d<gl.length&&o!==0&&o<gl[d].priority;d++);gl.splice(d,0,i),d===0&&_k(i)}};var Ak=t.version;if(Ak!=="19.1.0")throw Error(r(527,Ak,"19.1.0"));K.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var NI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:P,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{ne=Jh.inject(NI),ke=Jh}catch{}}return am.createRoot=function(i,o){if(!s(i))throw Error(r(299));var d=!1,p="",v=H_,N=q_,D=K_,H=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(H=o.unstable_transitionCallbacks)),o=bk(i,1,!1,null,null,d,p,v,N,D,H,null),i[On]=o.current,ev(i),new bv(o)},am.hydrateRoot=function(i,o,d){if(!s(i))throw Error(r(299));var p=!1,v="",N=H_,D=q_,H=K_,re=null,ve=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(H=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(re=d.unstable_transitionCallbacks),d.formState!==void 0&&(ve=d.formState)),o=bk(i,1,!0,o,d??null,p,v,N,D,H,re,ve),o.context=vk(null),d=o.current,p=mr(),p=ut(p),v=el(p),v.callback=null,tl(d,v,p),d=p,o.current.lanes=d,me(o,d),Ps(o),i[On]=o.current,ev(i),new Qh(o)},am.version="19.1.0",am}var Ik;function $I(){if(Ik)return wv.exports;Ik=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wv.exports=RI(),wv.exports}var LI=$I();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bk="popstate";function II(e={}){function t(r,s){let{pathname:l,search:c,hash:u}=r.location;return bj("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:Wm(s)}return zI(t,a,null,e)}function pn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ws(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function BI(){return Math.random().toString(36).substring(2,10)}function zk(e,t){return{usr:e.state,key:e.key,idx:t}}function bj(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?qd(t):t,state:a,key:t&&t.key||r||BI()}}function Wm({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function qd(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function zI(e,t,a,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,u="POP",m=null,f=h();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function h(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=h(),k=S==null?null:S-f;f=S,m&&m({action:u,location:w.location,delta:k})}function b(S,k){u="PUSH";let _=bj(w.location,S,k);f=h()+1;let C=zk(_,f),O=w.createHref(_);try{c.pushState(C,"",O)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(O)}l&&m&&m({action:u,location:w.location,delta:1})}function y(S,k){u="REPLACE";let _=bj(w.location,S,k);f=h();let C=zk(_,f),O=w.createHref(_);c.replaceState(C,"",O),l&&m&&m({action:u,location:w.location,delta:0})}function j(S){return UI(S)}let w={get action(){return u},get location(){return e(s,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(Bk,g),m=S,()=>{s.removeEventListener(Bk,g),m=null}},createHref(S){return t(s,S)},createURL:j,encodeLocation(S){let k=j(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:y,go(S){return c.go(S)}};return w}function UI(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),pn(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Wm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function YO(e,t,a="/"){return FI(e,t,a,!1)}function FI(e,t,a,r){let s=typeof t=="string"?qd(t):t,l=Pi(s.pathname||"/",a);if(l==null)return null;let c=WO(e);VI(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let f=eB(l);u=QI(c[m],f,r)}return u}function WO(e,t=[],a=[],r=""){let s=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(pn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let f=ki([r,m.relativePath]),h=a.concat(m);l.children&&l.children.length>0&&(pn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),WO(l.children,t,h,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:XI(f,l.index),routesMeta:h})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,c);else for(let m of XO(l.path))s(l,c,m)}),t}function XO(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,s=a.endsWith("?"),l=a.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=XO(r.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function VI(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:ZI(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var HI=/^:[\w-]+$/,qI=3,KI=2,GI=1,YI=10,WI=-2,Uk=e=>e==="*";function XI(e,t){let a=e.split("/"),r=a.length;return a.some(Uk)&&(r+=WI),t&&(r+=KI),a.filter(s=>!Uk(s)).reduce((s,l)=>s+(HI.test(l)?qI:l===""?GI:YI),r)}function ZI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function QI(e,t,a=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let u=0;u<r.length;++u){let m=r[u],f=u===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",g=bp({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},h),b=m.route;if(!g&&f&&a&&!r[r.length-1].route.index&&(g=bp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:ki([l,g.pathname]),pathnameBase:rB(ki([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=ki([l,g.pathnameBase]))}return c}function bp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=JI(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:g},b)=>{if(h==="*"){let j=u[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[b];return g&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:e}}function JI(e,t=!1,a=!0){ws(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function eB(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ws(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Pi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function tB(e,t="/"){let{pathname:a,search:r="",hash:s=""}=typeof e=="string"?qd(e):e;return{pathname:a?a.startsWith("/")?a:nB(a,t):t,search:sB(r),hash:iB(s)}}function nB(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function kv(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function aB(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Jw(e){let t=aB(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function e2(e,t,a,r=!1){let s;typeof e=="string"?s=qd(e):(s={...e},pn(!s.pathname||!s.pathname.includes("?"),kv("?","pathname","search",s)),pn(!s.pathname||!s.pathname.includes("#"),kv("#","pathname","hash",s)),pn(!s.search||!s.search.includes("#"),kv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,u;if(c==null)u=a;else{let g=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}u=g>=0?t[g]:"/"}let m=tB(s,u),f=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(f||h)&&(m.pathname+="/"),m}var ki=e=>e.join("/").replace(/\/\/+/g,"/"),rB=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),sB=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,iB=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function lB(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ZO=["POST","PUT","PATCH","DELETE"];new Set(ZO);var oB=["GET",...ZO];new Set(oB);var Kd=x.createContext(null);Kd.displayName="DataRouter";var bx=x.createContext(null);bx.displayName="DataRouterState";x.createContext(!1);var QO=x.createContext({isTransitioning:!1});QO.displayName="ViewTransition";var cB=x.createContext(new Map);cB.displayName="Fetchers";var dB=x.createContext(null);dB.displayName="Await";var _s=x.createContext(null);_s.displayName="Navigation";var vf=x.createContext(null);vf.displayName="Location";var ns=x.createContext({outlet:null,matches:[],isDataRoute:!1});ns.displayName="Route";var t2=x.createContext(null);t2.displayName="RouteError";function uB(e,{relative:t}={}){pn(Gd(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=x.useContext(_s),{hash:s,pathname:l,search:c}=jf(e,{relative:t}),u=l;return a!=="/"&&(u=l==="/"?a:ki([a,l])),r.createHref({pathname:u,search:c,hash:s})}function Gd(){return x.useContext(vf)!=null}function Zs(){return pn(Gd(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(vf).location}var JO="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function eP(e){x.useContext(_s).static||x.useLayoutEffect(e)}function dn(){let{isDataRoute:e}=x.useContext(ns);return e?kB():mB()}function mB(){pn(Gd(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Kd),{basename:t,navigator:a}=x.useContext(_s),{matches:r}=x.useContext(ns),{pathname:s}=Zs(),l=JSON.stringify(Jw(r)),c=x.useRef(!1);return eP(()=>{c.current=!0}),x.useCallback((m,f={})=>{if(ws(c.current,JO),!c.current)return;if(typeof m=="number"){a.go(m);return}let h=e2(m,JSON.parse(l),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:ki([t,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[t,a,l,s,e])}var fB=x.createContext(null);function hB(e){let t=x.useContext(ns).outlet;return t&&x.createElement(fB.Provider,{value:e},t)}function yf(){let{matches:e}=x.useContext(ns),t=e[e.length-1];return t?t.params:{}}function jf(e,{relative:t}={}){let{matches:a}=x.useContext(ns),{pathname:r}=Zs(),s=JSON.stringify(Jw(a));return x.useMemo(()=>e2(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function pB(e,t){return tP(e,t)}function tP(e,t,a,r){var k;pn(Gd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(_s),{matches:l}=x.useContext(ns),c=l[l.length-1],u=c?c.params:{},m=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";nP(m,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Zs(),b;if(t){let _=typeof t=="string"?qd(t):t;pn(f==="/"||((k=_.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=g;let y=b.pathname||"/",j=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=YO(e,{pathname:j});ws(h||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),ws(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=yB(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:ki([f,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:ki([f,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,a,r);return t&&S?x.createElement(vf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function xB(){let e=_B(),t=lB(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:s},a):null,c)}var gB=x.createElement(xB,null),bB=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(ns.Provider,{value:this.props.routeContext},x.createElement(t2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vB({routeContext:e,match:t,children:a}){let r=x.useContext(Kd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(ns.Provider,{value:e},a)}function yB(e,t=[],a=null,r=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let s=e,l=a==null?void 0:a.errors;if(l!=null){let m=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);pn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,u=-1;if(a)for(let m=0;m<s.length;m++){let f=s[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:h,errors:g}=a,b=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,f,h)=>{let g,b=!1,y=null,j=null;a&&(g=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||gB,c&&(u<0&&h===0?(nP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===h&&(b=!0,j=f.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,h+1)),S=()=>{let k;return g?k=y:b?k=j:f.route.Component?k=x.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=m,x.createElement(vB,{match:f,routeContext:{outlet:m,matches:w,isDataRoute:a!=null},children:k})};return a&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(bB,{location:a.location,revalidation:a.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function n2(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jB(e){let t=x.useContext(Kd);return pn(t,n2(e)),t}function wB(e){let t=x.useContext(bx);return pn(t,n2(e)),t}function NB(e){let t=x.useContext(ns);return pn(t,n2(e)),t}function a2(e){let t=NB(e),a=t.matches[t.matches.length-1];return pn(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function SB(){return a2("useRouteId")}function _B(){var r;let e=x.useContext(t2),t=wB("useRouteError"),a=a2("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[a]}function kB(){let{router:e}=jB("useNavigate"),t=a2("useNavigate"),a=x.useRef(!1);return eP(()=>{a.current=!0}),x.useCallback(async(s,l={})=>{ws(a.current,JO),a.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var Fk={};function nP(e,t,a){!t&&!Fk[e]&&(Fk[e]=!0,ws(!1,a))}x.memo(CB);function CB({routes:e,future:t,state:a}){return tP(e,void 0,a,t)}function AB({to:e,replace:t,state:a,relative:r}){pn(Gd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(_s);ws(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(ns),{pathname:c}=Zs(),u=dn(),m=e2(e,Jw(l),c,r==="path"),f=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(f),{replace:t,state:a,relative:r})},[u,f,r,t,a]),null}function aP(e){return hB(e.context)}function gt(e){pn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function TB({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:s,static:l=!1}){pn(!Gd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof a=="string"&&(a=qd(a));let{pathname:m="/",search:f="",hash:h="",state:g=null,key:b="default"}=a,y=x.useMemo(()=>{let j=Pi(m,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:g,key:b},navigationType:r}},[c,m,f,h,g,b,r]);return ws(y!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(_s.Provider,{value:u},x.createElement(vf.Provider,{children:t,value:y}))}function EB({children:e,location:t}){return pB(vj(e),t)}function vj(e,t=[]){let a=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let l=[...t,s];if(r.type===x.Fragment){a.push.apply(a,vj(r.props.children,l));return}pn(r.type===gt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),pn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=vj(r.props.children,l)),a.push(c)}),a}var rp="get",sp="application/x-www-form-urlencoded";function vx(e){return e!=null&&typeof e.tagName=="string"}function OB(e){return vx(e)&&e.tagName.toLowerCase()==="button"}function PB(e){return vx(e)&&e.tagName.toLowerCase()==="form"}function MB(e){return vx(e)&&e.tagName.toLowerCase()==="input"}function DB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RB(e,t){return e.button===0&&(!t||t==="_self")&&!DB(e)}var e0=null;function $B(){if(e0===null)try{new FormData(document.createElement("form"),0),e0=!1}catch{e0=!0}return e0}var LB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Cv(e){return e!=null&&!LB.has(e)?(ws(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${sp}"`),null):e}function IB(e,t){let a,r,s,l,c;if(PB(e)){let u=e.getAttribute("action");r=u?Pi(u,t):null,a=e.getAttribute("method")||rp,s=Cv(e.getAttribute("enctype"))||sp,l=new FormData(e)}else if(OB(e)||MB(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?Pi(m,t):null,a=e.getAttribute("formmethod")||u.getAttribute("method")||rp,s=Cv(e.getAttribute("formenctype"))||Cv(u.getAttribute("enctype"))||sp,l=new FormData(u,e),!$B()){let{name:f,type:h,value:g}=e;if(h==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,g)}}else{if(vx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=rp,r=null,s=sp,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:a.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function r2(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function BB(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&Pi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function zB(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function FB(e,t,a){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await zB(l,a);return c.links?c.links():[]}return[]}));return KB(r.flat(1).filter(UB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vk(e,t,a,r,s,l){let c=(m,f)=>a[f]?m.route.id!==a[f].route.id:!0,u=(m,f)=>{var h;return a[f].pathname!==m.pathname||((h=a[f].route.path)==null?void 0:h.endsWith("*"))&&a[f].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,f)=>c(m,f)||u(m,f)):l==="data"?t.filter((m,f)=>{var g;let h=r.routes[m.route.id];if(!h||!h.hasLoader)return!1;if(c(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=a[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function VB(e,t,{includeHydrateFallback:a}={}){return HB(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function HB(e){return[...new Set(e)]}function qB(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function KB(e,t){let a=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(qB(s));return a.has(l)||(a.add(l),r.push({key:l,link:s})),r},[])}function rP(){let e=x.useContext(Kd);return r2(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function GB(){let e=x.useContext(bx);return r2(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var s2=x.createContext(void 0);s2.displayName="FrameworkContext";function sP(){let e=x.useContext(s2);return r2(e,"You must render this element inside a <HydratedRouter> element"),e}function YB(e,t){let a=x.useContext(s2),[r,s]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{s(!0)},j=()=>{s(!1),c(!1)};return a?e!=="intent"?[l,b,{}]:[l,b,{onFocus:rm(u,y),onBlur:rm(m,j),onMouseEnter:rm(f,y),onMouseLeave:rm(h,j),onTouchStart:rm(g,y)}]:[!1,b,{}]}function rm(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function WB({page:e,...t}){let{router:a}=rP(),r=x.useMemo(()=>YO(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?x.createElement(ZB,{page:e,matches:r,...t}):null}function XB(e){let{manifest:t,routeModules:a}=sP(),[r,s]=x.useState([]);return x.useEffect(()=>{let l=!1;return FB(e,t,a).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,a]),r}function ZB({page:e,matches:t,...a}){let r=Zs(),{manifest:s,routeModules:l}=sP(),{basename:c}=rP(),{loaderData:u,matches:m}=GB(),f=x.useMemo(()=>Vk(e,t,m,s,r,"data"),[e,t,m,s,r]),h=x.useMemo(()=>Vk(e,t,m,s,r,"assets"),[e,t,m,s,r]),g=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,w=!1;if(t.forEach(k=>{var C;let _=s.routes[k.route.id];!_||!_.hasLoader||(!f.some(O=>O.route.id===k.route.id)&&k.route.id in u&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?w=!0:j.add(k.route.id))}),j.size===0)return[];let S=BB(e,c,"data");return w&&j.size>0&&S.searchParams.set("_routes",t.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,u,r,s,f,t,e,l]),b=x.useMemo(()=>VB(h,s),[h,s]),y=XB(h);return x.createElement(x.Fragment,null,g.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),b.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),y.map(({key:j,link:w})=>x.createElement("link",{key:j,...w})))}function QB(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var iP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{iP&&(window.__reactRouterVersion="7.7.1")}catch{}function JB({basename:e,children:t,window:a}){let r=x.useRef();r.current==null&&(r.current=II({window:a,v5Compat:!0}));let s=r.current,[l,c]=x.useState({action:s.action,location:s.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(TB,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var lP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,oP=x.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:u,target:m,to:f,preventScrollReset:h,viewTransition:g,...b},y){let{basename:j}=x.useContext(_s),w=typeof f=="string"&&lP.test(f),S,k=!1;if(typeof f=="string"&&w&&(S=f,iP))try{let V=new URL(window.location.href),Y=f.startsWith("//")?new URL(V.protocol+f):new URL(f),U=Pi(Y.pathname,j);Y.origin===V.origin&&U!=null?f=U+Y.search+Y.hash:k=!0}catch{ws(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=uB(f,{relative:s}),[C,O,T]=YB(r,b),E=az(f,{replace:c,state:u,target:m,preventScrollReset:h,relative:s,viewTransition:g});function I(V){t&&t(V),V.defaultPrevented||E(V)}let M=x.createElement("a",{...b,...T,href:S||_,onClick:k||l?t:I,ref:QB(y,O),target:m,"data-discover":!w&&a==="render"?"true":void 0});return C&&!w?x.createElement(x.Fragment,null,M,x.createElement(WB,{page:_})):M});oP.displayName="Link";var ez=x.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:u,children:m,...f},h){let g=jf(c,{relative:f.relative}),b=Zs(),y=x.useContext(bx),{navigator:j,basename:w}=x.useContext(_s),S=y!=null&&oz(g)&&u===!0,k=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,_=b.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=Pi(C,w)||C);const O=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=_===k||!s&&_.startsWith(k)&&_.charAt(O)==="/",E=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),I={isActive:T,isPending:E,isTransitioning:S},M=T?t:void 0,V;typeof r=="function"?V=r(I):V=[r,T?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let Y=typeof l=="function"?l(I):l;return x.createElement(oP,{...f,"aria-current":M,className:V,ref:h,style:Y,to:c,viewTransition:u},typeof m=="function"?m(I):m)});ez.displayName="NavLink";var tz=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:s,state:l,method:c=rp,action:u,onSubmit:m,relative:f,preventScrollReset:h,viewTransition:g,...b},y)=>{let j=iz(),w=lz(u,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&lP.test(u),_=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let O=C.nativeEvent.submitter,T=(O==null?void 0:O.getAttribute("formmethod"))||c;j(O||C.currentTarget,{fetcherKey:t,method:T,navigate:a,replace:s,state:l,relative:f,preventScrollReset:h,viewTransition:g})};return x.createElement("form",{ref:y,method:S,action:w,onSubmit:r?m:_,...b,"data-discover":!k&&e==="render"?"true":void 0})});tz.displayName="Form";function nz(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function cP(e){let t=x.useContext(Kd);return pn(t,nz(e)),t}function az(e,{target:t,replace:a,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let u=dn(),m=Zs(),f=jf(e,{relative:l});return x.useCallback(h=>{if(RB(h,t)){h.preventDefault();let g=a!==void 0?a:Wm(m)===Wm(f);u(e,{replace:g,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[m,u,f,a,r,t,e,s,l,c])}var rz=0,sz=()=>`__${String(++rz)}__`;function iz(){let{router:e}=cP("useSubmit"),{basename:t}=x.useContext(_s),a=SB();return x.useCallback(async(r,s={})=>{let{action:l,method:c,encType:u,formData:m,body:f}=IB(r,t);if(s.navigate===!1){let h=s.fetcherKey||sz();await e.fetch(h,a,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}function lz(e,{relative:t}={}){let{basename:a}=x.useContext(_s),r=x.useContext(ns);pn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...jf(e||".",{relative:t})},c=Zs();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(h=>h==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(l.pathname=l.pathname==="/"?a:ki([a,l.pathname])),Wm(l)}function oz(e,{relative:t}={}){let a=x.useContext(QO);pn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=cP("useViewTransitionState"),s=jf(e,{relative:t});if(!a.isTransitioning)return!1;let l=Pi(a.currentLocation.pathname,r)||a.currentLocation.pathname,c=Pi(a.nextLocation.pathname,r)||a.nextLocation.pathname;return bp(s.pathname,c)!=null||bp(s.pathname,l)!=null}var cz=GO();function dP(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=dP(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function _t(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=dP(e))&&(r&&(r+=" "),r+=t);return r}function dz(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}dz(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var wf=e=>typeof e=="number"&&!isNaN(e),Qo=e=>typeof e=="string",Mi=e=>typeof e=="function",uz=e=>Qo(e)||wf(e),yj=e=>Qo(e)||Mi(e)?e:null,mz=(e,t)=>e===!1||wf(e)&&e>0?e:t,jj=e=>x.isValidElement(e)||Qo(e)||Mi(e)||wf(e);function fz(e,t,a=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${a}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,a)})})}function hz({enter:e,exit:t,appendPosition:a=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:u,done:m,nodeRef:f,isIn:h,playToast:g}){let b=a?`${e}--${c}`:e,y=a?`${t}--${c}`:t,j=x.useRef(0);return x.useLayoutEffect(()=>{let w=f.current,S=b.split(" "),k=_=>{_.target===f.current&&(g(),w.removeEventListener("animationend",k),w.removeEventListener("animationcancel",k),j.current===0&&_.type!=="animationcancel"&&w.classList.remove(...S))};w.classList.add(...S),w.addEventListener("animationend",k),w.addEventListener("animationcancel",k)},[]),x.useEffect(()=>{let w=f.current,S=()=>{w.removeEventListener("animationend",S),r?fz(w,m,s):m()};h||(u?S():(j.current=1,w.className+=` ${y}`,w.addEventListener("animationend",S)))},[h]),It.createElement(It.Fragment,null,l)}}function Hk(e,t){return{content:uP(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function uP(e,t,a=!1){return x.isValidElement(e)&&!Qo(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):Mi(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):e}function pz({closeToast:e,theme:t,ariaLabel:a="close"}){return It.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":a},It.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},It.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function xz({delay:e,isRunning:t,closeToast:a,type:r="default",hide:s,className:l,controlledProgress:c,progress:u,rtl:m,isIn:f,theme:h}){let g=s||c&&u===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(b.transform=`scaleX(${u})`);let y=_t("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":m}),j=Mi(l)?l({rtl:m,type:r,defaultClassName:y}):_t(y,l),w={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{f&&a()}};return It.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},It.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),It.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:j,style:b,...w}))}var gz=1,mP=()=>`${gz++}`;function bz(e,t,a){let r=1,s=0,l=[],c=[],u=t,m=new Map,f=new Set,h=_=>(f.add(_),()=>f.delete(_)),g=()=>{c=Array.from(m.values()),f.forEach(_=>_())},b=({containerId:_,toastId:C,updateId:O})=>{let T=_?_!==e:e!==1,E=m.has(C)&&O==null;return T||E},y=(_,C)=>{m.forEach(O=>{var T;(C==null||C===O.props.toastId)&&((T=O.toggle)==null||T.call(O,_))})},j=_=>{var C,O;(O=(C=_.props)==null?void 0:C.onClose)==null||O.call(C,_.removalReason),_.isActive=!1},w=_=>{if(_==null)m.forEach(j);else{let C=m.get(_);C&&j(C)}g()},S=()=>{s-=l.length,l=[]},k=_=>{var C,O;let{toastId:T,updateId:E}=_.props,I=E==null;_.staleId&&m.delete(_.staleId),_.isActive=!0,m.set(T,_),g(),a(Hk(_,I?"added":"updated")),I&&((O=(C=_.props).onOpen)==null||O.call(C))};return{id:e,props:u,observe:h,toggle:y,removeToast:w,toasts:m,clearQueue:S,buildToast:(_,C)=>{if(b(C))return;let{toastId:O,updateId:T,data:E,staleId:I,delay:M}=C,V=T==null;V&&s++;let Y={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([F,ie])=>ie!=null)),toastId:O,updateId:T,data:E,isIn:!1,className:yj(C.className||u.toastClassName),progressClassName:yj(C.progressClassName||u.progressClassName),autoClose:C.isLoading?!1:mz(C.autoClose,u.autoClose),closeToast(F){m.get(O).removalReason=F,w(O)},deleteToast(){let F=m.get(O);if(F!=null){if(a(Hk(F,"removed")),m.delete(O),s--,s<0&&(s=0),l.length>0){k(l.shift());return}g()}}};Y.closeButton=u.closeButton,C.closeButton===!1||jj(C.closeButton)?Y.closeButton=C.closeButton:C.closeButton===!0&&(Y.closeButton=jj(u.closeButton)?u.closeButton:!0);let U={content:_,props:Y,staleId:I};u.limit&&u.limit>0&&s>u.limit&&V?l.push(U):wf(M)?setTimeout(()=>{k(U)},M):k(U)},setProps(_){u=_},setToggle:(_,C)=>{let O=m.get(_);O&&(O.toggle=C)},isToastActive:_=>{var C;return(C=m.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var Ua=new Map,Xm=[],wj=new Set,vz=e=>wj.forEach(t=>t(e)),fP=()=>Ua.size>0;function yz(){Xm.forEach(e=>pP(e.content,e.options)),Xm=[]}var jz=(e,{containerId:t})=>{var a;return(a=Ua.get(t||1))==null?void 0:a.toasts.get(e)};function hP(e,t){var a;if(t)return!!((a=Ua.get(t))!=null&&a.isToastActive(e));let r=!1;return Ua.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function wz(e){if(!fP()){Xm=Xm.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||uz(e))Ua.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=Ua.get(e.containerId);t?t.removeToast(e.id):Ua.forEach(a=>{a.removeToast(e.id)})}}var Nz=(e={})=>{Ua.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function pP(e,t){jj(e)&&(fP()||Xm.push({content:e,options:t}),Ua.forEach(a=>{a.buildToast(e,t)}))}function Sz(e){var t;(t=Ua.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function xP(e,t){Ua.forEach(a=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===a.id)&&a.toggle(e,t==null?void 0:t.id)})}function _z(e){let t=e.containerId||1;return{subscribe(a){let r=bz(t,e,vz);Ua.set(t,r);let s=r.observe(a);return yz(),()=>{s(),Ua.delete(t)}},setProps(a){var r;(r=Ua.get(t))==null||r.setProps(a)},getSnapshot(){var a;return(a=Ua.get(t))==null?void 0:a.getSnapshot()}}}function kz(e){return wj.add(e),()=>{wj.delete(e)}}function Cz(e){return e&&(Qo(e.toastId)||wf(e.toastId))?e.toastId:mP()}function Nf(e,t){return pP(e,t),t.toastId}function yx(e,t){return{...t,type:t&&t.type||e,toastId:Cz(t)}}function jx(e){return(t,a)=>Nf(t,yx(e,a))}function R(e,t){return Nf(e,yx("default",t))}R.loading=(e,t)=>Nf(e,yx("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function Az(e,{pending:t,error:a,success:r},s){let l;t&&(l=Qo(t)?R.loading(t,s):R.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,h,g)=>{if(h==null){R.dismiss(l);return}let b={type:f,...c,...s,data:g},y=Qo(h)?{render:h}:h;return l?R.update(l,{...b,...y}):R(y.render,{...b,...y}),g},m=Mi(e)?e():e;return m.then(f=>u("success",r,f)).catch(f=>u("error",a,f)),m}R.promise=Az;R.success=jx("success");R.info=jx("info");R.error=jx("error");R.warning=jx("warning");R.warn=R.warning;R.dark=(e,t)=>Nf(e,yx("default",{theme:"dark",...t}));function Tz(e){wz(e)}R.dismiss=Tz;R.clearWaitingQueue=Nz;R.isActive=hP;R.update=(e,t={})=>{let a=jz(e,t);if(a){let{props:r,content:s}=a,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:mP()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,Nf(c,l)}};R.done=e=>{R.update(e,{progress:1})};R.onChange=kz;R.play=e=>xP(!0,e);R.pause=e=>xP(!1,e);function Ez(e){var t;let{subscribe:a,getSnapshot:r,setProps:s}=x.useRef(_z(e)).current;s(e);let l=(t=x.useSyncExternalStore(a,r,r))==null?void 0:t.slice();function c(u){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(f=>{let{position:h}=f.props;m.has(h)||m.set(h,[]),m.get(h).push(f)}),Array.from(m,f=>u(f[0],f[1]))}return{getToastToRender:c,isToastActive:hP,count:l==null?void 0:l.length}}function Oz(e){let[t,a]=x.useState(!1),[r,s]=x.useState(!1),l=x.useRef(null),c=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:m,closeToast:f,onClick:h,closeOnClick:g}=e;Sz({id:e.toastId,containerId:e.containerId,fn:a}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{y()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function j(I){if(e.draggable===!0||e.draggable===I.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=I.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=I.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function w(I){let{top:M,bottom:V,left:Y,right:U}=l.current.getBoundingClientRect();I.nativeEvent.type!=="touchend"&&e.pauseOnHover&&I.clientX>=Y&&I.clientX<=U&&I.clientY>=M&&I.clientY<=V?k():S()}function S(){a(!0)}function k(){a(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",O),document.addEventListener("pointerup",T)}function C(){document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",T)}function O(I){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&k(),e.draggableDirection==="x"?c.delta=I.clientX-c.start:c.delta=I.clientY-c.start,c.start!==I.clientX&&(c.canCloseOnClick=!1);let V=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${V},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function T(){C();let I=l.current;if(c.canDrag&&c.didMove&&I){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}I.style.transition="transform 0.2s, opacity 0.2s",I.style.removeProperty("transform"),I.style.removeProperty("opacity")}}let E={onPointerDown:j,onPointerUp:w};return u&&m&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=S)),g&&(E.onClick=I=>{h&&h(I),c.canCloseOnClick&&f(!0)}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:E}}var Pz=typeof window<"u"?x.useLayoutEffect:x.useEffect,wx=({theme:e,type:t,isLoading:a,...r})=>It.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function Mz(e){return It.createElement(wx,{...e},It.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function Dz(e){return It.createElement(wx,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function Rz(e){return It.createElement(wx,{...e},It.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function $z(e){return It.createElement(wx,{...e},It.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function Lz(){return It.createElement("div",{className:"Toastify__spinner"})}var Nj={info:Dz,warning:Mz,success:Rz,error:$z,spinner:Lz},Iz=e=>e in Nj;function Bz({theme:e,type:t,isLoading:a,icon:r}){let s=null,l={theme:e,type:t};return r===!1||(Mi(r)?s=r({...l,isLoading:a}):x.isValidElement(r)?s=x.cloneElement(r,l):a?s=Nj.spinner():Iz(t)&&(s=Nj[t](l))),s}var zz=e=>{let{isRunning:t,preventExitTransition:a,toastRef:r,eventHandlers:s,playToast:l}=Oz(e),{closeButton:c,children:u,autoClose:m,onClick:f,type:h,hideProgressBar:g,closeToast:b,transition:y,position:j,className:w,style:S,progressClassName:k,updateId:_,role:C,progress:O,rtl:T,toastId:E,deleteToast:I,isIn:M,isLoading:V,closeOnClick:Y,theme:U,ariaLabel:F}=e,ie=_t("Toastify__toast",`Toastify__toast-theme--${U}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":Y}),Se=Mi(w)?w({rtl:T,position:j,type:h,defaultClassName:ie}):_t(ie,w),oe=Bz(e),P=!!O||!m,K={closeToast:b,type:h,theme:U},W=null;return c===!1||(Mi(c)?W=c(K):x.isValidElement(c)?W=x.cloneElement(c,K):W=pz(K)),It.createElement(y,{isIn:M,done:I,position:j,preventExitTransition:a,nodeRef:r,playToast:l},It.createElement("div",{id:E,tabIndex:0,onClick:f,"data-in":M,className:Se,...s,style:S,ref:r,...M&&{role:C,"aria-label":F}},oe!=null&&It.createElement("div",{className:_t("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!V})},oe),uP(u,e,!t),W,!e.customProgressBar&&It.createElement(xz,{..._&&!P?{key:`p-${_}`}:{},rtl:T,theme:U,delay:m,isRunning:t,isIn:M,closeToast:b,hide:g,type:h,className:k,controlledProgress:P,progress:O||0})))},Uz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),Fz=hz(Uz("bounce",!0)),Vz={position:"top-right",transition:Fz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Hz(e){let t={...Vz,...e},a=e.stacked,[r,s]=x.useState(!0),l=x.useRef(null),{getToastToRender:c,isToastActive:u,count:m}=Ez(t),{className:f,style:h,rtl:g,containerId:b,hotKeys:y}=t;function j(S){let k=_t("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":g});return Mi(f)?f({position:S,rtl:g,defaultClassName:k}):_t(k,yj(f))}function w(){a&&(s(!0),R.play())}return Pz(()=>{var S;if(a){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=t.position)==null?void 0:S.includes("top"),O=0,T=0;Array.from(k).reverse().forEach((E,I)=>{let M=E;M.classList.add("Toastify__toast--stacked"),I>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let V=O*(r?.2:1)+(r?0:_*I);M.style.setProperty("--y",`${C?V:V*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(r?T:0)}`),O+=M.offsetHeight,T+=.025})}},[r,m,a]),x.useEffect(()=>{function S(k){var _;let C=l.current;y(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),s(!1),R.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),R.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[y]),It.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{a&&(s(!1),R.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,k)=>{let _=k.length?{...h}:{...h,pointerEvents:"none"};return It.createElement("div",{tabIndex:-1,className:j(S),"data-stacked":a,style:_,key:`c-${S}`},k.map(({content:C,props:O})=>It.createElement(zz,{...O,stacked:a,collapseAll:w,isIn:u(O.toastId,O.containerId),key:`t-${O.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Kz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),qk=e=>{const t=Kz(e);return t.charAt(0).toUpperCase()+t.slice(1)},gP=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),Gz=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Yz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...Yz,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:gP("lucide",s),...!l&&!Gz(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const a=x.forwardRef(({className:r,...s},l)=>x.createElement(Wz,{ref:l,iconNode:t,className:gP(`lucide-${qz(qk(e))}`,`lucide-${e}`,r),...s}));return a.displayName=qk(e),a};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Kk=De("activity",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["circle",{cx:"12",cy:"13",r:"8",key:"3y4lt7"}],["path",{d:"M12 9v4l2 2",key:"1c63tq"}],["path",{d:"M5 3 2 6",key:"18tl5t"}],["path",{d:"m22 6-3-3",key:"1opdir"}],["path",{d:"M6.38 18.7 4 21",key:"17xu3x"}],["path",{d:"M17.64 18.67 20 21",key:"kv2oe2"}]],Qz=De("alarm-clock",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],bP=De("arrow-left",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Sf=De("arrow-right",eU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],nU=De("badge-info",tU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],rU=De("ban",aU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],iU=De("bell-ring",sU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],oU=De("bell",lU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],i2=De("bot",cU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],l2=De("brain-circuit",dU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],Av=De("bug",uU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Gk=De("building-2",mU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Yk=De("calculator",fU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],vP=De("calendar-clock",hU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],xU=De("calendar-days",pU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M21 12.598V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8.5",key:"1glfrc"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}]],bU=De("calendar-plus",gU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vU=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Tv=De("calendar-range",vU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],nr=De("calendar",yU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wU=De("camera",jU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],vp=De("chart-column",NU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],yp=De("check",SU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yP=De("chevron-down",_U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Da=De("chevron-left",kU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],yn=De("chevron-right",CU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jP=De("chevron-up",AU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sr=De("circle-alert",TU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sj=De("circle-check-big",EU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vn=De("circle-check",OU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],MU=De("circle-pause",PU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_j=De("circle-play",DU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],$U=De("circle-question-mark",RU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],_r=De("circle-x",LU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kj=De("circle",IU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],zU=De("clipboard-copy",BU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],FU=De("clipboard-list",UU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HU=De("clock-3",VU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Di=De("clock",qU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M12 13v8l-4-4",key:"1f5nwf"}],["path",{d:"m12 21 4-4",key:"1lfcce"}],["path",{d:"M4.393 15.269A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.436 8.284",key:"ui1hmy"}]],GU=De("cloud-download",KU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],WU=De("cloud-upload",YU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XU=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ZU=De("code",XU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QU=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],JU=De("coins",QU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],ja=De("copy",eF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],wP=De("credit-card",tF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nF=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],Wk=De("crop",nF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Ev=De("crown",aF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],vd=De("database",rF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Xk=De("dollar-sign",sF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Zm=De("download",iF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],jp=De("external-link",lF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Ad=De("eye-off",oF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],An=De("eye",cF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Zk=De("facebook",dF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],NP=De("file-code-2",uF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Em=De("file-spreadsheet",mF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fF=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],_f=De("file-text",fF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],zl=De("funnel",hF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Ci=De("globe",pF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],gF=De("hammer",xF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],Qk=De("hash",bF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Ov=De("history",vF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],o2=De("house",yF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],Jk=De("image-off",jF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],NF=De("image",wF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],_F=De("inbox",SF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kF=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Nx=De("info",kF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Rl=De("key-round",CF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],TF=De("key",AF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EF=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],OF=De("layers",EF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],MF=De("layout-grid",PF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],RF=De("link-2",DF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Hs=De("link",$F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],SP=De("list-checks",LF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Dn=De("loader-circle",IF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ri=De("lock",BF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],t0=De("log-in",zF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],wp=De("log-out",UF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Ra=De("mail",FF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ys=De("map-pin",VF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],qF=De("maximize-2",HF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],Cj=De("message-square",KF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GF=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],YF=De("messages-square",GF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"m14 10 7-7",key:"oa77jy"}],["path",{d:"M20 10h-6V4",key:"mjg0md"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M4 14h6v6",key:"rmj7iw"}]],XF=De("minimize-2",WF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["path",{d:"M2 6h4",key:"aawbzj"}],["path",{d:"M2 10h4",key:"l0bgd4"}],["path",{d:"M2 14h4",key:"1gsvsf"}],["path",{d:"M2 18h4",key:"1bu2t1"}],["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["path",{d:"M9.5 8h5",key:"11mslq"}],["path",{d:"M9.5 12H16",key:"ktog6x"}],["path",{d:"M9.5 16H14",key:"p1seyn"}]],QF=De("notebook-text",ZF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],eV=De("pause",JF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],e3=De("pen-line",tV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Np=De("phone-call",nV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aV=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],vt=De("phone",aV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Yd=De("play",rV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sV=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],Sx=De("plug-zap",sV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qa=De("plus",iV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],oV=De("puzzle",lV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],c2=De("radio",cV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],uV=De("refresh-ccw",dV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ye=De("refresh-cw",mV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],d2=De("rocket",fV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hV=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],pV=De("rotate-3d",hV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gV=De("rotate-ccw",xV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],_P=De("scale",bV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],yV=De("scan-line",vV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jV=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ka=De("search",jV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ip=De("send",wV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],u2=De("settings",NV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],_V=De("shield-alert",SV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Jo=De("shield-check",kV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CV=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qr=De("shield",CV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AV=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],n0=De("shopping-cart",AV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TV=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],EV=De("skip-forward",TV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OV=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],PV=De("sliders-horizontal",OV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MV=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],t3=De("smartphone",MV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DV=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Ul=De("sparkles",DV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RV=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],n3=De("square-check-big",RV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $V=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],Pv=De("square-kanban",$V);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LV=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],yd=De("square-pen",LV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IV=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],BV=De("square-terminal",IV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Td=De("square",zV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UV=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],FV=De("sticky-note",UV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VV=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],HV=De("test-tube-diagonal",VV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],a0=De("timer",qV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KV=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Mv=De("toggle-left",KV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GV=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],Dv=De("toggle-right",GV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Tn=De("trash-2",YV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],m2=De("triangle-alert",WV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XV=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],ZV=De("unlink",XV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],JV=De("user-check",QV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eH=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],kP=De("user-round",eH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tH=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ho=De("user",tH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nH=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Fa=De("users",nH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aH=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],f2=De("volume-2",aH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rH=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],Rv=De("wallet-minimal",rH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sH=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],iH=De("wand-sparkles",sH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lH=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],oH=De("wrench",lH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cH=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wa=De("x",cH);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dH=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uH=De("zap",dH);function mH(){const[e,t]=x.useState({username:"",email:"",password:""}),[a,r]=x.useState(!1),[s,l]=x.useState({}),[c,u]=x.useState(!1),m=dn(),f="https://app.thedbt.ai",h=w=>{const{name:S,value:k}=w.target;t(_=>({..._,[S]:k})),s[S]&&l(_=>({..._,[S]:""}))},g=()=>{const w={};return e.username.trim()?e.username.length<3&&(w.username="Username must be at least 3 characters"):w.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(w.email="Please enter a valid email address"):w.email="Email is required",e.password?e.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",l(w),Object.keys(w).length===0},b=async w=>{if(w.preventDefault(),!!g()){u(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${f}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)R.success("Account created successfully! "),setTimeout(()=>{m(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),R.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),R.error(S)}finally{u(!1)}}},y=e.password.length,j=y>=6?"bg-green-500 w-full":y>=4?"bg-blue-500 w-3/4":y>=2?"bg-yellow-500 w-1/2":y>0?"bg-red-500 w-1/4":"w-0";return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Ho,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ho,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(Sj,{className:"h-5 w-5 text-green-500"})})]}),s.username&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.username]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ra,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(Sj,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ri,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!a),children:a?n.jsx(Ad,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(An,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${j}`})}),n.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(Sr,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):n.jsxs("div",{className:"flex items-center",children:["Create account",n.jsx(Sf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By creating an account you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function fH(){const[e,t]=x.useState(30),a="/",r="/bg.gif";x.useEffect(()=>{const u=setInterval(()=>{t(m=>m<=1?(window.location.href=a,0):m-1)},1e3);return()=>clearInterval(u)},[]);const s=()=>window.location.href=a,l=()=>window.history.back(),c=()=>window.location.reload();return n.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:n.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),n.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:n.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[n.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),n.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),n.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[n.jsx(o2,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[n.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(bP,{className:"mr-2 h-4 w-4"}),"Go Back"]}),n.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),n.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[n.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),n.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),n.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",n.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const h2=x.createContext({});function kf(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const p2=typeof window<"u",x2=p2?x.useLayoutEffect:x.useEffect,_x=x.createContext(null);function g2(e,t){e.indexOf(t)===-1&&e.push(t)}function kx(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const $i=(e,t,a)=>a>t?t:a<e?e:a;let b2=()=>{};const Li={},CP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function AP(e){return typeof e=="object"&&e!==null}const TP=e=>/^0[^.\s]+$/u.test(e);function v2(e){let t;return()=>(t===void 0&&(t=e()),t)}const Jr=e=>e,hH=(e,t)=>a=>t(e(a)),Cf=(...e)=>e.reduce(hH),Ed=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class y2{constructor(){this.subscriptions=[]}add(t){return g2(this.subscriptions,t),()=>kx(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ys=e=>e*1e3,qs=e=>e/1e3;function EP(e,t){return t?e*(1e3/t):0}const pH=(e,t,a)=>{const r=t-e;return((a-e)%r+r)%r+e},OP=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,xH=1e-7,gH=12;function bH(e,t,a,r,s){let l,c,u=0;do c=t+(a-t)/2,l=OP(c,r,s)-e,l>0?a=c:t=c;while(Math.abs(l)>xH&&++u<gH);return c}function Af(e,t,a,r){if(e===t&&a===r)return Jr;const s=l=>bH(l,0,1,e,a);return l=>l===0||l===1?l:OP(s(l),t,r)}const PP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,MP=e=>t=>1-e(1-t),DP=Af(.33,1.53,.69,.99),j2=MP(DP),RP=PP(j2),$P=e=>(e*=2)<1?.5*j2(e):.5*(2-Math.pow(2,-10*(e-1))),w2=e=>1-Math.sin(Math.acos(e)),LP=MP(w2),IP=PP(w2),vH=Af(.42,0,1,1),yH=Af(0,0,.58,1),BP=Af(.42,0,.58,1),zP=e=>Array.isArray(e)&&typeof e[0]!="number";function UP(e,t){return zP(e)?e[pH(0,e.length,t)]:e}const FP=e=>Array.isArray(e)&&typeof e[0]=="number",jH={linear:Jr,easeIn:vH,easeInOut:BP,easeOut:yH,circIn:w2,circInOut:IP,circOut:LP,backIn:j2,backInOut:RP,backOut:DP,anticipate:$P},wH=e=>typeof e=="string",a3=e=>{if(FP(e)){b2(e.length===4);const[t,a,r,s]=e;return Af(t,a,r,s)}else if(wH(e))return jH[e];return e},r0=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function NH(e,t){let a=new Set,r=new Set,s=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(h){c.has(h)&&(f.schedule(h),e()),h(u)}const f={schedule:(h,g=!1,b=!1)=>{const j=b&&s?a:r;return g&&c.add(h),j.has(h)||j.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(u=h,s){l=!0;return}s=!0,[a,r]=[r,a],a.forEach(m),a.clear(),s=!1,l&&(l=!1,f.process(h))}};return f}const SH=40;function VP(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>a=!0,c=r0.reduce((C,O)=>(C[O]=NH(l),C),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:h,update:g,preRender:b,render:y,postRender:j}=c,w=()=>{const C=Li.useManualTiming?s.timestamp:performance.now();a=!1,Li.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,SH),1)),s.timestamp=C,s.isProcessing=!0,u.process(s),m.process(s),f.process(s),h.process(s),g.process(s),b.process(s),y.process(s),j.process(s),s.isProcessing=!1,a&&t&&(r=!1,e(w))},S=()=>{a=!0,r=!0,s.isProcessing||e(w)};return{schedule:r0.reduce((C,O)=>{const T=c[O];return C[O]=(E,I=!1,M=!1)=>(a||S(),T.schedule(E,I,M)),C},{}),cancel:C=>{for(let O=0;O<r0.length;O++)c[r0[O]].cancel(C)},state:s,steps:c}}const{schedule:on,cancel:Ii,state:va,steps:$v}=VP(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jr,!0);let lp;function _H(){lp=void 0}const ar={now:()=>(lp===void 0&&ar.set(va.isProcessing||Li.useManualTiming?va.timestamp:performance.now()),lp),set:e=>{lp=e,queueMicrotask(_H)}},HP=e=>t=>typeof t=="string"&&t.startsWith(e),N2=HP("--"),kH=HP("var(--"),S2=e=>kH(e)?CH.test(e.split("/*")[0].trim()):!1,CH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Wd={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Qm={...Wd,transform:e=>$i(0,1,e)},s0={...Wd,default:1},Lm=e=>Math.round(e*1e5)/1e5,_2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function AH(e){return e==null}const TH=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,k2=(e,t)=>a=>!!(typeof a=="string"&&TH.test(a)&&a.startsWith(e)||t&&!AH(a)&&Object.prototype.hasOwnProperty.call(a,t)),qP=(e,t,a)=>r=>{if(typeof r!="string")return r;const[s,l,c,u]=r.match(_2);return{[e]:parseFloat(s),[t]:parseFloat(l),[a]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},EH=e=>$i(0,255,e),Lv={...Wd,transform:e=>Math.round(EH(e))},Lo={test:k2("rgb","red"),parse:qP("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+Lv.transform(e)+", "+Lv.transform(t)+", "+Lv.transform(a)+", "+Lm(Qm.transform(r))+")"};function OH(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const Aj={test:k2("#"),parse:OH,transform:Lo.transform},Tf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ol=Tf("deg"),Ks=Tf("%"),ht=Tf("px"),PH=Tf("vh"),MH=Tf("vw"),r3={...Ks,parse:e=>Ks.parse(e)/100,transform:e=>Ks.transform(e*100)},ud={test:k2("hsl","hue"),parse:qP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Ks.transform(Lm(t))+", "+Ks.transform(Lm(a))+", "+Lm(Qm.transform(r))+")"},zn={test:e=>Lo.test(e)||Aj.test(e)||ud.test(e),parse:e=>Lo.test(e)?Lo.parse(e):ud.test(e)?ud.parse(e):Aj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Lo.transform(e):ud.transform(e),getAnimatableNone:e=>{const t=zn.parse(e);return t.alpha=0,zn.transform(t)}},DH=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RH(e){var t,a;return isNaN(e)&&typeof e=="string"&&(((t=e.match(_2))==null?void 0:t.length)||0)+(((a=e.match(DH))==null?void 0:a.length)||0)>0}const KP="number",GP="color",$H="var",LH="var(",s3="${}",IH=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Jm(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},s=[];let l=0;const u=t.replace(IH,m=>(zn.test(m)?(r.color.push(l),s.push(GP),a.push(zn.parse(m))):m.startsWith(LH)?(r.var.push(l),s.push($H),a.push(m)):(r.number.push(l),s.push(KP),a.push(parseFloat(m))),++l,s3)).split(s3);return{values:a,split:u,indexes:r,types:s}}function YP(e){return Jm(e).values}function WP(e){const{split:t,types:a}=Jm(e),r=t.length;return s=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],s[c]!==void 0){const u=a[c];u===KP?l+=Lm(s[c]):u===GP?l+=zn.transform(s[c]):l+=s[c]}return l}}const BH=e=>typeof e=="number"?0:zn.test(e)?zn.getAnimatableNone(e):e;function zH(e){const t=YP(e);return WP(e)(t.map(BH))}const Fl={test:RH,parse:YP,createTransformer:WP,getAnimatableNone:zH};function Iv(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function UH({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,l=0,c=0;if(!t)s=l=c=a;else{const u=a<.5?a*(1+t):a+t-a*t,m=2*a-u;s=Iv(m,u,e+1/3),l=Iv(m,u,e),c=Iv(m,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function Sp(e,t){return a=>a>0?t:e}const mn=(e,t,a)=>e+(t-e)*a,Bv=(e,t,a)=>{const r=e*e,s=a*(t*t-r)+r;return s<0?0:Math.sqrt(s)},FH=[Aj,Lo,ud],VH=e=>FH.find(t=>t.test(e));function i3(e){const t=VH(e);if(!t)return!1;let a=t.parse(e);return t===ud&&(a=UH(a)),a}const l3=(e,t)=>{const a=i3(e),r=i3(t);if(!a||!r)return Sp(e,t);const s={...a};return l=>(s.red=Bv(a.red,r.red,l),s.green=Bv(a.green,r.green,l),s.blue=Bv(a.blue,r.blue,l),s.alpha=mn(a.alpha,r.alpha,l),Lo.transform(s))},Tj=new Set(["none","hidden"]);function HH(e,t){return Tj.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function qH(e,t){return a=>mn(e,t,a)}function C2(e){return typeof e=="number"?qH:typeof e=="string"?S2(e)?Sp:zn.test(e)?l3:YH:Array.isArray(e)?XP:typeof e=="object"?zn.test(e)?l3:KH:Sp}function XP(e,t){const a=[...e],r=a.length,s=e.map((l,c)=>C2(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)a[c]=s[c](l);return a}}function KH(e,t){const a={...e,...t},r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=C2(e[s])(e[s],t[s]));return s=>{for(const l in r)a[l]=r[l](s);return a}}function GH(e,t){const a=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][r[l]],u=e.values[c]??0;a[s]=u,r[l]++}return a}const YH=(e,t)=>{const a=Fl.createTransformer(t),r=Jm(e),s=Jm(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?Tj.has(e)&&!s.values.length||Tj.has(t)&&!r.values.length?HH(e,t):Cf(XP(GH(r,s),s.values),a):Sp(e,t)};function ZP(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?mn(e,t,a):C2(e)(e,t)}const WH=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>on.update(t,a),stop:()=>Ii(t),now:()=>va.isProcessing?va.timestamp:ar.now()}},QP=(e,t,a=10)=>{let r="";const s=Math.max(Math.round(t/a),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},_p=2e4;function A2(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<_p;)t+=a,r=e.next(t);return t>=_p?1/0:t}function JP(e,t=100,a){const r=a({...e,keyframes:[0,t]}),s=Math.min(A2(r),_p);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:qs(s)}}const XH=5;function eM(e,t,a){const r=Math.max(t-XH,0);return EP(a-e(r),t-r)}const kn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zv=.001;function ZH({duration:e=kn.duration,bounce:t=kn.bounce,velocity:a=kn.velocity,mass:r=kn.mass}){let s,l,c=1-t;c=$i(kn.minDamping,kn.maxDamping,c),e=$i(kn.minDuration,kn.maxDuration,qs(e)),c<1?(s=f=>{const h=f*c,g=h*e,b=h-a,y=Ej(f,c),j=Math.exp(-g);return zv-b/y*j},l=f=>{const g=f*c*e,b=g*a+a,y=Math.pow(c,2)*Math.pow(f,2)*e,j=Math.exp(-g),w=Ej(Math.pow(f,2),c);return(-s(f)+zv>0?-1:1)*((b-y)*j)/w}):(s=f=>{const h=Math.exp(-f*e),g=(f-a)*e+1;return-zv+h*g},l=f=>{const h=Math.exp(-f*e),g=(a-f)*(e*e);return h*g});const u=5/e,m=JH(s,l,u);if(e=ys(e),isNaN(m))return{stiffness:kn.stiffness,damping:kn.damping,duration:e};{const f=Math.pow(m,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:e}}}const QH=12;function JH(e,t,a){let r=a;for(let s=1;s<QH;s++)r=r-e(r)/t(r);return r}function Ej(e,t){return e*Math.sqrt(1-t*t)}const eq=["duration","bounce"],tq=["stiffness","damping","mass"];function o3(e,t){return t.some(a=>e[a]!==void 0)}function nq(e){let t={velocity:kn.velocity,stiffness:kn.stiffness,damping:kn.damping,mass:kn.mass,isResolvedFromDuration:!1,...e};if(!o3(e,tq)&&o3(e,eq))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),s=r*r,l=2*$i(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:kn.mass,stiffness:s,damping:l}}else{const a=ZH(e);t={...t,...a,mass:kn.mass},t.isResolvedFromDuration=!0}return t}function ef(e=kn.visualDuration,t=kn.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=a;const l=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:f,mass:h,duration:g,velocity:b,isResolvedFromDuration:y}=nq({...a,velocity:-qs(a.velocity||0)}),j=b||0,w=f/(2*Math.sqrt(m*h)),S=c-l,k=qs(Math.sqrt(m/h)),_=Math.abs(S)<5;r||(r=_?kn.restSpeed.granular:kn.restSpeed.default),s||(s=_?kn.restDelta.granular:kn.restDelta.default);let C;if(w<1){const T=Ej(k,w);C=E=>{const I=Math.exp(-w*k*E);return c-I*((j+w*k*S)/T*Math.sin(T*E)+S*Math.cos(T*E))}}else if(w===1)C=T=>c-Math.exp(-k*T)*(S+(j+k*S)*T);else{const T=k*Math.sqrt(w*w-1);C=E=>{const I=Math.exp(-w*k*E),M=Math.min(T*E,300);return c-I*((j+w*k*S)*Math.sinh(M)+T*S*Math.cosh(M))/T}}const O={calculatedDuration:y&&g||null,next:T=>{const E=C(T);if(y)u.done=T>=g;else{let I=T===0?j:0;w<1&&(I=T===0?ys(j):eM(C,T,E));const M=Math.abs(I)<=r,V=Math.abs(c-E)<=s;u.done=M&&V}return u.value=u.done?c:E,u},toString:()=>{const T=Math.min(A2(O),_p),E=QP(I=>O.next(T*I).value,T,30);return T+"ms "+E},toTransition:()=>{}};return O}ef.applyToOptions=e=>{const t=JP(e,100,ef);return e.ease=t.ease,e.duration=ys(t.duration),e.type="keyframes",e};function Oj({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:f=.5,restSpeed:h}){const g=e[0],b={done:!1,value:g},y=M=>u!==void 0&&M<u||m!==void 0&&M>m,j=M=>u===void 0?m:m===void 0||Math.abs(u-M)<Math.abs(m-M)?u:m;let w=a*t;const S=g+w,k=c===void 0?S:c(S);k!==S&&(w=k-g);const _=M=>-w*Math.exp(-M/r),C=M=>k+_(M),O=M=>{const V=_(M),Y=C(M);b.done=Math.abs(V)<=f,b.value=b.done?k:Y};let T,E;const I=M=>{y(b.value)&&(T=M,E=ef({keyframes:[b.value,j(b.value)],velocity:eM(C,M,b.value),damping:s,stiffness:l,restDelta:f,restSpeed:h}))};return I(0),{calculatedDuration:null,next:M=>{let V=!1;return!E&&T===void 0&&(V=!0,O(M),I(M)),T!==void 0&&M>=T?E.next(M-T):(!V&&O(M),b)}}}function aq(e,t,a){const r=[],s=a||Li.mix||ZP,l=e.length-1;for(let c=0;c<l;c++){let u=s(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||Jr:t;u=Cf(m,u)}r.push(u)}return r}function tM(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const l=e.length;if(b2(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=aq(t,r,s),m=u.length,f=h=>{if(c&&h<e[0])return t[0];let g=0;if(m>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const b=Ed(e[g],e[g+1],h);return u[g](b)};return a?h=>f($i(e[0],e[l-1],h)):f}function nM(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=Ed(0,t,r);e.push(mn(a,1,s))}}function aM(e){const t=[0];return nM(t,e.length-1),t}function rq(e,t){return e.map(a=>a*t)}function sq(e,t){return e.map(()=>t||BP).splice(0,e.length-1)}function Im({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=zP(r)?r.map(a3):a3(r),l={done:!1,value:t[0]},c=rq(a&&a.length===t.length?a:aM(t),e),u=tM(c,t,{ease:Array.isArray(s)?s:sq(t,s)});return{calculatedDuration:e,next:m=>(l.value=u(m),l.done=m>=e,l)}}const iq=e=>e!==null;function T2(e,{repeat:t,repeatType:a="loop"},r,s=1){const l=e.filter(iq),u=s<0||t&&a!=="loop"&&t%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const lq={decay:Oj,inertia:Oj,tween:Im,keyframes:Im,spring:ef};function rM(e){typeof e.type=="string"&&(e.type=lq[e.type])}class E2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const oq=e=>e/100;class O2 extends E2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:a}=this.options;a&&a.updatedAt!==ar.now()&&this.tick(ar.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;rM(t);const{type:a=Im,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const m=a||Im;m!==Im&&typeof u[0]!="number"&&(this.mixKeyframes=Cf(oq,ZP(u[0],u[1])),u=[0,100]);const f=m({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=A2(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:g,repeatType:b,repeatDelay:y,type:j,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,O=r;if(g){const M=Math.min(this.currentTime,s)/u;let V=Math.floor(M),Y=M%1;!Y&&M>=1&&(Y=1),Y===1&&V--,V=Math.min(V,g+1),!!(V%2)&&(b==="reverse"?(Y=1-Y,y&&(Y-=y/u)):b==="mirror"&&(O=c)),C=$i(0,1,Y)*u}const T=_?{done:!1,value:h[0]}:O.next(C);l&&(T.value=l(T.value));let{done:E}=T;!_&&m!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const I=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return I&&j!==Oj&&(T.value=T2(h,this.options,S,this.speed)),w&&w(T.value),I&&this.finish(),T}then(t,a){return this.finished.then(t,a)}get duration(){return qs(this.calculatedDuration)}get time(){return qs(this.currentTime)}set time(t){var a;t=ys(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(ar.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=qs(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=WH,startTime:a}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ar.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function cq(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const Io=e=>e*180/Math.PI,Pj=e=>{const t=Io(Math.atan2(e[1],e[0]));return Mj(t)},dq={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:Pj,rotateZ:Pj,skewX:e=>Io(Math.atan(e[1])),skewY:e=>Io(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},Mj=e=>(e=e%360,e<0&&(e+=360),e),c3=Pj,d3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),u3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),uq={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:d3,scaleY:u3,scale:e=>(d3(e)+u3(e))/2,rotateX:e=>Mj(Io(Math.atan2(e[6],e[5]))),rotateY:e=>Mj(Io(Math.atan2(-e[2],e[0]))),rotateZ:c3,rotate:c3,skewX:e=>Io(Math.atan(e[4])),skewY:e=>Io(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function Dj(e){return e.includes("scale")?1:0}function Rj(e,t){if(!e||e==="none")return Dj(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(a)r=uq,s=a;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=dq,s=u}if(!s)return Dj(t);const l=r[t],c=s[1].split(",").map(fq);return typeof l=="function"?l(c):c[l]}const mq=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return Rj(a,t)};function fq(e){return parseFloat(e.trim())}const Xd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zd=new Set(Xd),m3=e=>e===Wd||e===ht,hq=new Set(["x","y","z"]),pq=Xd.filter(e=>!hq.has(e));function xq(e){const t=[];return pq.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const qo={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>Rj(t,"x"),y:(e,{transform:t})=>Rj(t,"y")};qo.translateX=qo.x;qo.translateY=qo.y;const Ko=new Set;let $j=!1,Lj=!1,Ij=!1;function sM(){if(Lj){const e=Array.from(Ko).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const s=xq(r);s.length&&(a.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=a.get(r);s&&s.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Lj=!1,$j=!1,Ko.forEach(e=>e.complete(Ij)),Ko.clear()}function iM(){Ko.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(Lj=!0)})}function gq(){Ij=!0,iM(),sM(),Ij=!1}class P2{constructor(t,a,r,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ko.add(this),$j||($j=!0,on.read(iM),on.resolveKeyframes(sM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&a){const u=r.readValue(a,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}cq(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ko.delete(this)}cancel(){this.state==="scheduled"&&(Ko.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bq=e=>e.startsWith("--");function vq(e,t,a){bq(t)?e.style.setProperty(t,a):e.style[t]=a}const yq=v2(()=>window.ScrollTimeline!==void 0),jq={};function wq(e,t){const a=v2(e);return()=>jq[t]??a()}const lM=wq(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Om=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,f3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Om([0,.65,.55,1]),circOut:Om([.55,0,1,.45]),backIn:Om([.31,.01,.66,-.59]),backOut:Om([.33,1.53,.69,.99])};function oM(e,t){if(e)return typeof e=="function"?lM()?QP(e,t):"ease-out":FP(e)?Om(e):Array.isArray(e)?e.map(a=>oM(a,t)||f3.easeOut):f3[e]}function Nq(e,t,a,{delay:r=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},f=void 0){const h={[t]:a};m&&(h.offset=m);const g=oM(u,s);Array.isArray(g)&&(h.easing=g);const b={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),e.animate(h,b)}function M2(e){return typeof e=="function"&&"applyToOptions"in e}function Sq({type:e,...t}){return M2(e)&&lM()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class _q extends E2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,b2(typeof t.type!="string");const f=Sq(t);this.animation=Nq(a,r,s,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=T2(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):vq(a,r,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,r;const t=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return qs(Number(t))}get time(){return qs(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=ys(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&yq()?(this.animation.timeline=t,Jr):a(this)}}const cM={anticipate:$P,backInOut:RP,circInOut:IP};function kq(e){return e in cM}function Cq(e){typeof e.ease=="string"&&kq(e.ease)&&(e.ease=cM[e.ease])}const h3=10;class Aq extends _q{constructor(t){Cq(t),rM(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:s,element:l,...c}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const u=new O2({...c,autoplay:!1}),m=ys(this.finishedTime??this.time);a.setWithVelocity(u.sample(m-h3).value,u.sample(m).value,h3),u.stop()}}const p3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Fl.test(e)||e==="0")&&!e.startsWith("url("));function Tq(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function Eq(e,t,a,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=p3(s,t),u=p3(l,t);return!c||!u?!1:Tq(e)||(a==="spring"||M2(a))&&r}function Bj(e){e.duration=0,e.type}const Oq=new Set(["opacity","clipPath","filter","transform"]),Pq=v2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Mq(e){var h;const{motionValue:t,name:a,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=t.owner.getProps();return Pq()&&a&&Oq.has(a)&&(a!=="transform"||!f)&&!m&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}const Dq=40;class Rq extends E2{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:f,element:h,...g}){var j;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=ar.now();const b={autoplay:t,delay:a,type:r,repeat:s,repeatDelay:l,repeatType:c,name:m,motionValue:f,element:h,...g},y=(h==null?void 0:h.KeyframeResolver)||P2;this.keyframeResolver=new y(u,(w,S,k)=>this.onKeyframesResolved(w,S,b,!k),m,f,h),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,a,r,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:f,onUpdate:h}=r;this.resolvedAt=ar.now(),Eq(t,l,c,u)||((Li.instantAnimations||!m)&&(h==null||h(T2(t,r,a))),t[0]=t[t.length-1],Bj(r),r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Dq?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},y=!f&&Mq(b)?new Aq({...b,element:b.motionValue.owner.current}):new O2(b);y.finished.then(()=>this.notifyFinished()).catch(Jr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),gq()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class $q{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,a){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=a}attachTimeline(t){const a=this.animations.map(r=>r.attachTimeline(t));return()=>{a.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let a=0;a<this.animations.length;a++)t=Math.max(t,this.animations[a].duration);return t}runAll(t){this.animations.forEach(a=>a[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class Lq extends $q{then(t,a){return this.finished.finally(t).then(()=>{})}}const Iq=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Bq(e){const t=Iq.exec(e);if(!t)return[,];const[,a,r,s]=t;return[`--${a??r}`,s]}function dM(e,t,a=1){const[r,s]=Bq(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return CP(c)?parseFloat(c):c}return S2(s)?dM(s,t,a+1):s}function D2(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const uM=new Set(["width","height","top","left","right","bottom",...Xd]),zq={test:e=>e==="auto",parse:e=>e},mM=e=>t=>t.test(e),fM=[Wd,ht,Ks,Ol,MH,PH,zq],x3=e=>fM.find(mM(e));function Uq(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||TP(e):!0}const Fq=new Set(["brightness","contrast","saturate","opacity"]);function Vq(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(_2)||[];if(!r)return e;const s=a.replace(r,"");let l=Fq.has(t)?1:0;return r!==a&&(l*=100),t+"("+l+s+")"}const Hq=/\b([a-z-]*)\(.*?\)/gu,zj={...Fl,getAnimatableNone:e=>{const t=e.match(Hq);return t?t.map(Vq).join(" "):e}},g3={...Wd,transform:Math.round},qq={rotate:Ol,rotateX:Ol,rotateY:Ol,rotateZ:Ol,scale:s0,scaleX:s0,scaleY:s0,scaleZ:s0,skew:Ol,skewX:Ol,skewY:Ol,distance:ht,translateX:ht,translateY:ht,translateZ:ht,x:ht,y:ht,z:ht,perspective:ht,transformPerspective:ht,opacity:Qm,originX:r3,originY:r3,originZ:ht},R2={borderWidth:ht,borderTopWidth:ht,borderRightWidth:ht,borderBottomWidth:ht,borderLeftWidth:ht,borderRadius:ht,radius:ht,borderTopLeftRadius:ht,borderTopRightRadius:ht,borderBottomRightRadius:ht,borderBottomLeftRadius:ht,width:ht,maxWidth:ht,height:ht,maxHeight:ht,top:ht,right:ht,bottom:ht,left:ht,padding:ht,paddingTop:ht,paddingRight:ht,paddingBottom:ht,paddingLeft:ht,margin:ht,marginTop:ht,marginRight:ht,marginBottom:ht,marginLeft:ht,backgroundPositionX:ht,backgroundPositionY:ht,...qq,zIndex:g3,fillOpacity:Qm,strokeOpacity:Qm,numOctaves:g3},Kq={...R2,color:zn,backgroundColor:zn,outlineColor:zn,fill:zn,stroke:zn,borderColor:zn,borderTopColor:zn,borderRightColor:zn,borderBottomColor:zn,borderLeftColor:zn,filter:zj,WebkitFilter:zj},hM=e=>Kq[e];function pM(e,t){let a=hM(e);return a!==zj&&(a=Fl),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const Gq=new Set(["auto","none","0"]);function Yq(e,t,a){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!Gq.has(l)&&Jm(l).values.length&&(s=e[r]),r++}if(s&&a)for(const l of t)e[l]=pM(a,s)}class Wq extends P2{constructor(t,a,r,s,l){super(t,a,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),S2(f))){const h=dM(f,a.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!uM.has(r)||t.length!==2)return;const[s,l]=t,c=x3(s),u=x3(l);if(c!==u)if(m3(c)&&m3(u))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else qo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||Uq(t[s]))&&r.push(s);r.length&&Yq(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=qo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const s=a[a.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(a);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=qo[a](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function xM(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(a==null?void 0:a[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const gM=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function bM(e){return AP(e)&&"offsetHeight"in e}const b3=30,Xq=e=>!isNaN(parseFloat(e)),Bm={current:void 0};class Zq{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=ar.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=ar.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=Xq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new y2);const r=this.events[t].add(a);return t==="change"?()=>{r(),on.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Bm.current&&Bm.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=ar.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>b3)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,b3);return EP(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function ec(e,t){return new Zq(e,t)}const{schedule:$2}=VP(queueMicrotask,!1),fs={x:!1,y:!1};function vM(){return fs.x||fs.y}function Qq(e){return e==="x"||e==="y"?fs[e]?null:(fs[e]=!0,()=>{fs[e]=!1}):fs.x||fs.y?null:(fs.x=fs.y=!0,()=>{fs.x=fs.y=!1})}function yM(e,t){const a=xM(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[a,s,()=>r.abort()]}function v3(e){return!(e.pointerType==="touch"||vM())}function Jq(e,t,a={}){const[r,s,l]=yM(e,a),c=u=>{if(!v3(u))return;const{target:m}=u,f=t(m,u);if(typeof f!="function"||!m)return;const h=g=>{v3(g)&&(f(g),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,s)};return r.forEach(u=>{u.addEventListener("pointerenter",c,s)}),l}const jM=(e,t)=>t?e===t?!0:jM(e,t.parentElement):!1,L2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,eK=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tK(e){return eK.has(e.tagName)||e.tabIndex!==-1}const op=new WeakSet;function y3(e){return t=>{t.key==="Enter"&&e(t)}}function Uv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const nK=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=y3(()=>{if(op.has(a))return;Uv(a,"down");const s=y3(()=>{Uv(a,"up")}),l=()=>Uv(a,"cancel");a.addEventListener("keyup",s,t),a.addEventListener("blur",l,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function j3(e){return L2(e)&&!vM()}function aK(e,t,a={}){const[r,s,l]=yM(e,a),c=u=>{const m=u.currentTarget;if(!j3(u))return;op.add(m);const f=t(m,u),h=(y,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),op.has(m)&&op.delete(m),j3(y)&&typeof f=="function"&&f(y,{success:j})},g=y=>{h(y,m===window||m===document||a.useGlobalTarget||jM(m,y.target))},b=y=>{h(y,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",b,s)};return r.forEach(u=>{(a.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),bM(u)&&(u.addEventListener("focus",f=>nK(f,s)),!tK(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function I2(e){return AP(e)&&"ownerSVGElement"in e}function wM(e){return I2(e)&&e.tagName==="svg"}function rK(...e){const t=!Array.isArray(e[0]),a=t?0:-1,r=e[0+a],s=e[1+a],l=e[2+a],c=e[3+a],u=tM(s,l,c);return t?u(r):u}const la=e=>!!(e&&e.getVelocity),sK=[...fM,zn,Fl],iK=e=>sK.find(mM(e)),Cx=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class lK extends x.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,s=bM(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=a.offsetHeight||0,l.width=a.offsetWidth||0,l.top=a.offsetTop,l.left=a.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function oK({children:e,isPresent:t,anchorX:a,root:r}){const s=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(Cx);return x.useInsertionEffect(()=>{const{width:m,height:f,top:h,left:g,right:b}=c.current;if(t||!l.current||!m||!f)return;const y=a==="left"?`left: ${g}`:`right: ${b}`;l.current.dataset.motionPopId=s;const j=document.createElement("style");u&&(j.nonce=u);const w=r??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[t]),n.jsx(lK,{isPresent:t,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:l})})}const cK=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:c,anchorX:u,root:m})=>{const f=kf(dK),h=x.useId();let g=!0,b=x.useMemo(()=>(g=!1,{id:h,initial:t,isPresent:a,custom:s,onExitComplete:y=>{f.set(y,!0);for(const j of f.values())if(!j)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[a,f,r]);return l&&g&&(b={...b}),x.useMemo(()=>{f.forEach((y,j)=>f.set(j,!1))},[a]),x.useEffect(()=>{!a&&!f.size&&r&&r()},[a]),c==="popLayout"&&(e=n.jsx(oK,{isPresent:a,anchorX:u,root:m,children:e})),n.jsx(_x.Provider,{value:b,children:e})};function dK(){return new Map}function NM(e=!0){const t=x.useContext(_x);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:s}=t,l=x.useId();x.useEffect(()=>{if(e)return s(l)},[e]);const c=x.useCallback(()=>e&&r&&r(l),[l,r,e]);return!a&&r?[!1,c]:[!0]}const i0=e=>e.key||"";function w3(e){const t=[];return x.Children.forEach(e,a=>{x.isValidElement(a)&&t.push(a)}),t}const At=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:m})=>{const[f,h]=NM(c),g=x.useMemo(()=>w3(e),[e]),b=c&&!f?[]:g.map(i0),y=x.useRef(!0),j=x.useRef(g),w=kf(()=>new Map),[S,k]=x.useState(g),[_,C]=x.useState(g);x2(()=>{y.current=!1,j.current=g;for(let E=0;E<_.length;E++){const I=i0(_[E]);b.includes(I)?w.delete(I):w.get(I)!==!0&&w.set(I,!1)}},[_,b.length,b.join("-")]);const O=[];if(g!==S){let E=[...g];for(let I=0;I<_.length;I++){const M=_[I],V=i0(M);b.includes(V)||(E.splice(I,0,M),O.push(M))}return l==="wait"&&O.length&&(E=O),C(w3(E)),k(g),null}const{forceRender:T}=x.useContext(h2);return n.jsx(n.Fragment,{children:_.map(E=>{const I=i0(E),M=c&&!f?!1:g===_||b.includes(I),V=()=>{if(w.has(I))w.set(I,!0);else return;let Y=!0;w.forEach(U=>{U||(Y=!1)}),Y&&(T==null||T(),C(j.current),c&&(h==null||h()),r&&r())};return n.jsx(cK,{isPresent:M,initial:!y.current||a?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:m,onExitComplete:M?void 0:V,anchorX:u,children:E},I)})})},SM=x.createContext({strict:!1}),N3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Od={};for(const e in N3)Od[e]={isEnabled:t=>N3[e].some(a=>!!t[a])};function uK(e){for(const t in e)Od[t]={...Od[t],...e[t]}}const mK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function kp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||mK.has(e)}let _M=e=>!kp(e);function fK(e){typeof e=="function"&&(_M=t=>t.startsWith("on")?!kp(t):e(t))}try{fK(require("@emotion/is-prop-valid").default)}catch{}function hK(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(_M(s)||a===!0&&kp(s)||!t&&!kp(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Ax=x.createContext({});function Tx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function tf(e){return typeof e=="string"||Array.isArray(e)}const B2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],z2=["initial",...B2];function Ex(e){return Tx(e.animate)||z2.some(t=>tf(e[t]))}function kM(e){return!!(Ex(e)||e.variants)}function pK(e,t){if(Ex(e)){const{initial:a,animate:r}=e;return{initial:a===!1||tf(a)?a:void 0,animate:tf(r)?r:void 0}}return e.inherit!==!1?t:{}}function xK(e){const{initial:t,animate:a}=pK(e,x.useContext(Ax));return x.useMemo(()=>({initial:t,animate:a}),[S3(t),S3(a)])}function S3(e){return Array.isArray(e)?e.join(" "):e}const nf={};function gK(e){for(const t in e)nf[t]=e[t],N2(t)&&(nf[t].isCSSVariable=!0)}function CM(e,{layout:t,layoutId:a}){return Zd.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!nf[e]||e==="opacity")}const bK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},vK=Xd.length;function yK(e,t,a){let r="",s=!0;for(let l=0;l<vK;l++){const c=Xd[l],u=e[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||a){const f=gM(u,R2[c]);if(!m){s=!1;const h=bK[c]||c;r+=`${h}(${f}) `}a&&(t[c]=f)}}return r=r.trim(),a?r=a(t,s?"":r):s&&(r="none"),r}function U2(e,t,a){const{style:r,vars:s,transformOrigin:l}=e;let c=!1,u=!1;for(const m in t){const f=t[m];if(Zd.has(m)){c=!0;continue}else if(N2(m)){s[m]=f;continue}else{const h=gM(f,R2[m]);m.startsWith("origin")?(u=!0,l[m]=h):r[m]=h}}if(t.transform||(c||a?r.transform=yK(t,e.transform,a):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:h=0}=l;r.transformOrigin=`${m} ${f} ${h}`}}const F2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function AM(e,t,a){for(const r in t)!la(t[r])&&!CM(r,a)&&(e[r]=t[r])}function jK({transformTemplate:e},t){return x.useMemo(()=>{const a=F2();return U2(a,t,e),Object.assign({},a.vars,a.style)},[t])}function wK(e,t){const a=e.style||{},r={};return AM(r,a,e),Object.assign(r,jK(e,t)),r}function NK(e,t){const a={},r=wK(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const SK={offset:"stroke-dashoffset",array:"stroke-dasharray"},_K={offset:"strokeDashoffset",array:"strokeDasharray"};function kK(e,t,a=1,r=0,s=!0){e.pathLength=1;const l=s?SK:_K;e[l.offset]=ht.transform(-r);const c=ht.transform(t),u=ht.transform(a);e[l.array]=`${c} ${u}`}function TM(e,{attrX:t,attrY:a,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...u},m,f,h){if(U2(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),a!==void 0&&(g.y=a),r!==void 0&&(g.scale=r),s!==void 0&&kK(g,s,l,c,!1)}const EM=()=>({...F2(),attrs:{}}),OM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function CK(e,t,a,r){const s=x.useMemo(()=>{const l=EM();return TM(l,t,OM(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};AM(l,e.style,e),s.style={...l,...s.style}}return s}const AK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V2(e){return typeof e!="string"||e.includes("-")?!1:!!(AK.indexOf(e)>-1||/[A-Z]/u.test(e))}function TK(e,t,a,{latestValues:r},s,l=!1){const u=(V2(e)?CK:NK)(t,r,s,e),m=hK(t,typeof e=="string",l),f=e!==x.Fragment?{...m,...u,ref:a}:{},{children:h}=t,g=x.useMemo(()=>la(h)?h.get():h,[h]);return x.createElement(e,{...f,children:g})}function _3(e){const t=[{},{}];return e==null||e.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function H2(e,t,a,r){if(typeof t=="function"){const[s,l]=_3(r);t=t(a!==void 0?a:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=_3(r);t=t(a!==void 0?a:e.custom,s,l)}return t}function cp(e){return la(e)?e.get():e}function EK({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,s){return{latestValues:OK(a,r,s,e),renderState:t()}}function OK(e,t,a,r){const s={},l=r(e,{});for(const b in l)s[b]=cp(l[b]);let{initial:c,animate:u}=e;const m=Ex(e),f=kM(e);t&&f&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let h=a?a.initial===!1:!1;h=h||c===!1;const g=h?u:c;if(g&&typeof g!="boolean"&&!Tx(g)){const b=Array.isArray(g)?g:[g];for(let y=0;y<b.length;y++){const j=H2(e,b[y]);if(j){const{transitionEnd:w,transition:S,...k}=j;for(const _ in k){let C=k[_];if(Array.isArray(C)){const O=h?C.length-1:0;C=C[O]}C!==null&&(s[_]=C)}for(const _ in w)s[_]=w[_]}}}return s}const PM=e=>(t,a)=>{const r=x.useContext(Ax),s=x.useContext(_x),l=()=>EK(e,t,r,s);return a?l():kf(l)};function q2(e,t,a){var l;const{style:r}=e,s={};for(const c in r)(la(r[c])||t.style&&la(t.style[c])||CM(c,e)||((l=a==null?void 0:a.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const PK=PM({scrapeMotionValuesFromProps:q2,createRenderState:F2});function MM(e,t,a){const r=q2(e,t,a);for(const s in e)if(la(e[s])||la(t[s])){const l=Xd.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const MK=PM({scrapeMotionValuesFromProps:MM,createRenderState:EM}),DK=Symbol.for("motionComponentSymbol");function md(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function RK(e,t,a){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):md(a)&&(a.current=r))},[t])}const K2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),$K="framerAppearId",DM="data-"+K2($K),RM=x.createContext({});function LK(e,t,a,r,s){var w,S;const{visualElement:l}=x.useContext(Ax),c=x.useContext(SM),u=x.useContext(_x),m=x.useContext(Cx).reducedMotion,f=x.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:a,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const h=f.current,g=x.useContext(RM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&IK(f.current,a,s,g);const b=x.useRef(!1);x.useInsertionEffect(()=>{h&&b.current&&h.update(a,u)});const y=a[DM],j=x.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return x2(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),j.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!j.current&&h.animationState&&h.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),j.current=!1),h.enteringChildren=void 0)}),h}function IK(e,t,a,r){const{layoutId:s,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:$M(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||u&&md(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:m,layoutRoot:f})}function $M(e){if(e)return e.options.allowProjection!==!1?e.projection:$M(e.parent)}function Fv(e,{forwardMotionProps:t=!1}={},a,r){a&&uK(a);const s=V2(e)?MK:PK;function l(u,m){let f;const h={...x.useContext(Cx),...u,layoutId:BK(u)},{isStatic:g}=h,b=xK(u),y=s(u,g);if(!g&&p2){zK();const j=UK(h);f=j.MeasureLayout,b.visualElement=LK(e,y,h,r,j.ProjectionNode)}return n.jsxs(Ax.Provider,{value:b,children:[f&&b.visualElement?n.jsx(f,{visualElement:b.visualElement,...h}):null,TK(e,u,RK(y,b.visualElement,m),y,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[DK]=e,c}function BK({layoutId:e}){const t=x.useContext(h2).id;return t&&e!==void 0?t+"-"+e:e}function zK(e,t){x.useContext(SM).strict}function UK(e){const{drag:t,layout:a}=Od;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(e)||a!=null&&a.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function FK(e,t){if(typeof Proxy>"u")return Fv;const a=new Map,r=(l,c)=>Fv(l,c,e,t),s=(l,c)=>r(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?r:(a.has(c)||a.set(c,Fv(c,void 0,e,t)),a.get(c))})}function LM({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function VK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function HK(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Vv(e){return e===void 0||e===1}function Uj({scale:e,scaleX:t,scaleY:a}){return!Vv(e)||!Vv(t)||!Vv(a)}function Ao(e){return Uj(e)||IM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function IM(e){return k3(e.x)||k3(e.y)}function k3(e){return e&&e!=="0%"}function Cp(e,t,a){const r=e-a,s=t*r;return a+s}function C3(e,t,a,r,s){return s!==void 0&&(e=Cp(e,s,r)),Cp(e,a,r)+t}function Fj(e,t=0,a=1,r,s){e.min=C3(e.min,t,a,r,s),e.max=C3(e.max,t,a,r,s)}function BM(e,{x:t,y:a}){Fj(e.x,t.translate,t.scale,t.originPoint),Fj(e.y,a.translate,a.scale,a.originPoint)}const A3=.999999999999,T3=1.0000000000001;function qK(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let l,c;for(let u=0;u<s;u++){l=a[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&hd(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,BM(e,c)),r&&Ao(l.latestValues)&&hd(e,l.latestValues))}t.x<T3&&t.x>A3&&(t.x=1),t.y<T3&&t.y>A3&&(t.y=1)}function fd(e,t){e.min=e.min+t,e.max=e.max+t}function E3(e,t,a,r,s=.5){const l=mn(e.min,e.max,s);Fj(e,t,a,l,r)}function hd(e,t){E3(e.x,t.x,t.scaleX,t.scale,t.originX),E3(e.y,t.y,t.scaleY,t.scale,t.originY)}function zM(e,t){return LM(HK(e.getBoundingClientRect(),t))}function KK(e,t,a){const r=zM(e,a),{scroll:s}=t;return s&&(fd(r.x,s.offset.x),fd(r.y,s.offset.y)),r}const O3=()=>({translate:0,scale:1,origin:0,originPoint:0}),pd=()=>({x:O3(),y:O3()}),P3=()=>({min:0,max:0}),_n=()=>({x:P3(),y:P3()}),Vj={current:null},UM={current:!1};function GK(){if(UM.current=!0,!!p2)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Vj.current=e.matches;e.addEventListener("change",t),t()}else Vj.current=!1}const af=new WeakMap;function YK(e,t,a){for(const r in t){const s=t[r],l=a[r];if(la(s))e.addValue(r,s);else if(la(l))e.addValue(r,ec(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,ec(c!==void 0?c:s,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const M3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class FM{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=ar.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,on.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=a.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=Ex(a),this.isVariantNode=kM(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in g){const y=g[b];m[b]!==void 0&&la(y)&&y.set(m[b])}}mount(t){var a;this.current=t,af.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),UM.current||GK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Vj.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Ii(this.notifyUpdate),Ii(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const r=this.features[a];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Zd.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&on.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Od){const a=Od[t];if(!a)continue;const{isEnabled:r,Feature:s}=a;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):_n()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<M3.length;r++){const s=M3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=YK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=ec(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(CP(r)||TP(r))?r=parseFloat(r):!iK(r)&&Fl.test(a)&&(r=pM(t,a)),this.setBaseTarget(t,la(r)?r.get():r)),la(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var l;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const c=H2(this.props,a,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(a&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!la(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new y2),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){$2.render(this.render)}}class VM extends FM{constructor(){super(...arguments),this.KeyframeResolver=Wq}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;la(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function HM(e,{style:t,vars:a},r,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,r);for(c in a)l.setProperty(c,a[c])}function WK(e){return window.getComputedStyle(e)}class qM extends VM{constructor(){super(...arguments),this.type="html",this.renderInstance=HM}readValueFromInstance(t,a){var r;if(Zd.has(a))return(r=this.projection)!=null&&r.isProjecting?Dj(a):mq(t,a);{const s=WK(t),l=(N2(a)?s.getPropertyValue(a):s[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:a}){return zM(t,a)}build(t,a,r){U2(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return q2(t,a,r)}}const KM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function XK(e,t,a,r){HM(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(KM.has(s)?s:K2(s),t.attrs[s])}class GM extends VM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=_n}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Zd.has(a)){const r=hM(a);return r&&r.default||0}return a=KM.has(a)?a:K2(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return MM(t,a,r)}build(t,a,r){TM(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,s){XK(t,a,r,s)}mount(t){this.isSVGTag=OM(t.tagName),super.mount(t)}}const ZK=(e,t)=>V2(e)?new GM(t):new qM(t,{allowProjection:e!==x.Fragment});function jd(e,t,a){const r=e.getProps();return H2(r,t,a!==void 0?a:r.custom,e)}const Hj=e=>Array.isArray(e);function QK(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,ec(a))}function JK(e){return Hj(e)?e[e.length-1]||0:e}function eG(e,t){const a=jd(e,t);let{transitionEnd:r={},transition:s={},...l}=a||{};l={...l,...r};for(const c in l){const u=JK(l[c]);QK(e,c,u)}}function tG(e){return!!(la(e)&&e.add)}function qj(e,t){const a=e.getValue("willChange");if(tG(a))return a.add(t);if(!a&&Li.WillChange){const r=new Li.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function YM(e){return e.props[DM]}const nG=e=>e!==null;function aG(e,{repeat:t,repeatType:a="loop"},r){const s=e.filter(nG),l=t&&a!=="loop"&&t%2===1?0:s.length-1;return s[l]}const rG={type:"spring",stiffness:500,damping:25,restSpeed:10},sG=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),iG={type:"keyframes",duration:.8},lG={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oG=(e,{keyframes:t})=>t.length>2?iG:Zd.has(e)?e.startsWith("scale")?sG(t[1]):rG:lG;function cG({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:f,...h}){return!!Object.keys(h).length}const G2=(e,t,a,r={},s,l)=>c=>{const u=D2(r,e)||{},m=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-ys(m);const h={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:l?void 0:s};cG(u)||Object.assign(h,oG(e,h)),h.duration&&(h.duration=ys(h.duration)),h.repeatDelay&&(h.repeatDelay=ys(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Bj(h),h.delay===0&&(g=!0)),(Li.instantAnimations||Li.skipAnimations)&&(g=!0,Bj(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,g&&!l&&t.get()!==void 0){const b=aG(h.keyframes,u);if(b!==void 0){on.update(()=>{h.onUpdate(b),h.onComplete()});return}}return u.isSync?new O2(h):new Rq(h)};function dG({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function Y2(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=t;r&&(l=r);const m=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const g=e.getValue(h,e.latestValues[h]??null),b=u[h];if(b===void 0||f&&dG(f,h))continue;const y={delay:a,...D2(l||{},h)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===j&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=YM(e);if(k){const _=window.MotionHandoffAnimation(k,h,on);_!==null&&(y.startTime=_,w=!0)}}qj(e,h),g.start(G2(h,g,b,e.shouldReduceMotion&&uM.has(h)?{type:!1}:y,e,w));const S=g.animation;S&&m.push(S)}return c&&Promise.all(m).then(()=>{on.update(()=>{c&&eG(e,c)})}),m}function WM(e,t,a,r=0,s=1){const l=Array.from(e).sort((f,h)=>f.sortNodePosition(h)).indexOf(t),c=e.size,u=(c-1)*r;return typeof a=="function"?a(l,c):s===1?l*r:u-l*r}function Kj(e,t,a={}){var m;const r=jd(e,t,a.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const l=r?()=>Promise.all(Y2(e,r,a)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:b}=s;return uG(e,t,f,h,g,b,a)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,h]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>h())}else return Promise.all([l(),c(a.delay)])}function uG(e,t,a=0,r=0,s=0,l=1,c){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),u.push(Kj(m,t,{...c,delay:a+(typeof r=="function"?0:r)+WM(e.variantChildren,m,r,s,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(u)}function mG(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>Kj(e,l,a));r=Promise.all(s)}else if(typeof t=="string")r=Kj(e,t,a);else{const s=typeof t=="function"?jd(e,t,a.custom):t;r=Promise.all(Y2(e,s,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function XM(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const fG=z2.length;function ZM(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?ZM(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<fG;a++){const r=z2[a],s=e.props[r];(tf(s)||s===!1)&&(t[r]=s)}return t}const hG=[...B2].reverse(),pG=B2.length;function xG(e){return t=>Promise.all(t.map(({animation:a,options:r})=>mG(e,a,r)))}function gG(e){let t=xG(e),a=D3(),r=!0;const s=m=>(f,h)=>{var b;const g=jd(e,h,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:y,transitionEnd:j,...w}=g;f={...f,...w,...j}}return f};function l(m){t=m(e)}function c(m){const{props:f}=e,h=ZM(e.parent)||{},g=[],b=new Set;let y={},j=1/0;for(let S=0;S<pG;S++){const k=hG[S],_=a[k],C=f[k]!==void 0?f[k]:h[k],O=tf(C),T=k===m?_.isActive:null;T===!1&&(j=S);let E=C===h[k]&&C!==f[k]&&O;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...y},!_.isActive&&T===null||!C&&!_.prevProp||Tx(C)||typeof C=="boolean")continue;const I=bG(_.prevProp,C);let M=I||k===m&&_.isActive&&!E&&O||S>j&&O,V=!1;const Y=Array.isArray(C)?C:[C];let U=Y.reduce(s(k),{});T===!1&&(U={});const{prevResolvedValues:F={}}=_,ie={...F,...U},Se=K=>{M=!0,b.has(K)&&(V=!0,b.delete(K)),_.needsAnimating[K]=!0;const W=e.getValue(K);W&&(W.liveStyle=!1)};for(const K in ie){const W=U[K],B=F[K];if(y.hasOwnProperty(K))continue;let A=!1;Hj(W)&&Hj(B)?A=!XM(W,B):A=W!==B,A?W!=null?Se(K):b.add(K):W!==void 0&&b.has(K)?Se(K):_.protectedKeys[K]=!0}_.prevProp=C,_.prevResolvedValues=U,_.isActive&&(y={...y,...U}),r&&e.blockInitialAnimation&&(M=!1);const oe=E&&I;M&&(!oe||V)&&g.push(...Y.map(K=>{const W={type:k};if(typeof K=="string"&&r&&!oe&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,A=jd(B,K);if(B.enteringChildren&&A){const{delayChildren:z}=A.transition||{};W.delay=WM(B.enteringChildren,e,z)}}return{animation:K,options:W}}))}if(b.size){const S={};if(typeof f.initial!="boolean"){const k=jd(e,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(S.transition=k.transition)}b.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),g.push({animation:S})}let w=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(g):Promise.resolve()}function u(m,f){var g;if(a[m].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var y;return(y=b.animationState)==null?void 0:y.setActive(m,f)}),a[m].isActive=f;const h=c(m);for(const b in a)a[b].protectedKeys={};return h}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>a,reset:()=>{a=D3(),r=!0}}}function bG(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!XM(t,e):!1}function go(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function D3(){return{animate:go(!0),whileInView:go(),whileHover:go(),whileTap:go(),whileDrag:go(),whileFocus:go(),exit:go()}}class Gl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class vG extends Gl{constructor(t){super(t),t.animationState||(t.animationState=gG(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Tx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let yG=0;class jG extends Gl{constructor(){super(...arguments),this.id=yG++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);a&&!t&&s.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const wG={animation:{Feature:vG},exit:{Feature:jG}};function rf(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function Ef(e){return{point:{x:e.pageX,y:e.pageY}}}const NG=e=>t=>L2(t)&&e(t,Ef(t));function zm(e,t,a,r){return rf(e,t,NG(a),r)}const QM=1e-4,SG=1-QM,_G=1+QM,JM=.01,kG=0-JM,CG=0+JM;function Va(e){return e.max-e.min}function AG(e,t,a){return Math.abs(e-t)<=a}function R3(e,t,a,r=.5){e.origin=r,e.originPoint=mn(t.min,t.max,e.origin),e.scale=Va(a)/Va(t),e.translate=mn(a.min,a.max,e.origin)-e.originPoint,(e.scale>=SG&&e.scale<=_G||isNaN(e.scale))&&(e.scale=1),(e.translate>=kG&&e.translate<=CG||isNaN(e.translate))&&(e.translate=0)}function Um(e,t,a,r){R3(e.x,t.x,a.x,r?r.originX:void 0),R3(e.y,t.y,a.y,r?r.originY:void 0)}function $3(e,t,a){e.min=a.min+t.min,e.max=e.min+Va(t)}function TG(e,t,a){$3(e.x,t.x,a.x),$3(e.y,t.y,a.y)}function L3(e,t,a){e.min=t.min-a.min,e.max=e.min+Va(t)}function Fm(e,t,a){L3(e.x,t.x,a.x),L3(e.y,t.y,a.y)}function Wr(e){return[e("x"),e("y")]}const eD=({current:e})=>e?e.ownerDocument.defaultView:null,I3=(e,t)=>Math.abs(e-t);function EG(e,t){const a=I3(e.x,t.x),r=I3(e.y,t.y);return Math.sqrt(a**2+r**2)}class tD{constructor(t,a,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=qv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,j=EG(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!j)return;const{point:w}=b,{timestamp:S}=va;this.history.push({...w,timestamp:S});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,y)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Hv(y,this.transformPagePoint),on.update(this.updatePoint,!0)},this.handlePointerUp=(b,y)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=qv(b.type==="pointercancel"?this.lastMoveEventInfo:Hv(y,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,k),w&&w(b,k)},!L2(t))return;this.dragSnapToOrigin=l,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const u=Ef(t),m=Hv(u,this.transformPagePoint),{point:f}=m,{timestamp:h}=va;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=a;g&&g(t,qv(m,this.history)),this.removeListeners=Cf(zm(this.contextWindow,"pointermove",this.handlePointerMove),zm(this.contextWindow,"pointerup",this.handlePointerUp),zm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Ii(this.updatePoint)}}function Hv(e,t){return t?{point:t(e.point)}:e}function B3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function qv({point:e},t){return{point:e,delta:B3(e,nD(t)),offset:B3(e,OG(t)),velocity:PG(t,.1)}}function OG(e){return e[0]}function nD(e){return e[e.length-1]}function PG(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=nD(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>ys(t)));)a--;if(!r)return{x:0,y:0};const l=qs(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function MG(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?mn(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?mn(a,e,r.max):Math.min(e,a)),e}function z3(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function DG(e,{top:t,left:a,bottom:r,right:s}){return{x:z3(e.x,a,s),y:z3(e.y,t,r)}}function U3(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function RG(e,t){return{x:U3(e.x,t.x),y:U3(e.y,t.y)}}function $G(e,t){let a=.5;const r=Va(e),s=Va(t);return s>r?a=Ed(t.min,t.max-r,e.min):r>s&&(a=Ed(e.min,e.max-s,t.min)),$i(0,1,a)}function LG(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const Gj=.35;function IG(e=Gj){return e===!1?e=0:e===!0&&(e=Gj),{x:F3(e,"left","right"),y:F3(e,"top","bottom")}}function F3(e,t,a){return{min:V3(e,t),max:V3(e,a)}}function V3(e,t){return typeof e=="number"?e:e[t]||0}const BG=new WeakMap;class zG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=_n(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Ef(g).point)},c=(g,b)=>{const{drag:y,dragPropagation:j,onDragStart:w}=this.getProps();if(y&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Qq(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Wr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(Ks.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const O=C.layout.layoutBox[k];O&&(_=Va(O)*(parseFloat(_)/100))}}this.originPoint[k]=_}),w&&on.postRender(()=>w(g,b)),qj(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:y,dragDirectionLock:j,onDirectionLock:w,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=b;if(j&&this.currentDirection===null){this.currentDirection=UG(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),S&&S(g,b)},m=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Wr(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)==null?void 0:b.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new tD(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:eD(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,s=a||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&on.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!l0(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=MG(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&md(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=DG(r.layoutBox,t):this.constraints=!1,this.elastic=IG(a),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Wr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=LG(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!md(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=KK(r,s.root,this.visualElement.getTransformPagePoint());let c=RG(s.layout.layoutBox,l);if(a){const u=a(VK(c));this.hasMutatedConstraints=!!u,u&&(c=LM(u))}return c}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=Wr(h=>{if(!l0(h,a,this.currentDirection))return;let g=m&&m[h]||{};c&&(g={min:0,max:0});const b=s?200:1e6,y=s?40:1e7,j={type:"inertia",velocity:r?t[h]:0,bounceStiffness:b,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(h,j)});return Promise.all(f).then(u)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return qj(this.visualElement,t),r.start(G2(t,r,0,a,this.visualElement,!1))}stopAnimation(){Wr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Wr(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Wr(a=>{const{drag:r}=this.getProps();if(!l0(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(a);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[a];l.set(t[a]-mn(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!md(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Wr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();s[c]=$G({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Wr(c=>{if(!l0(c,t,null))return;const u=this.getAxisMotionValue(c),{min:m,max:f}=this.constraints[c];u.set(mn(m,f,s[c]))})}addListeners(){if(!this.visualElement.current)return;BG.set(this.visualElement,this);const t=this.visualElement.current,a=zm(t,"pointerdown",m=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();md(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),on.read(r);const c=rf(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Wr(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=m[h].translate,g.set(g.get()+m[h].translate))}),this.visualElement.render())});return()=>{c(),a(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=Gj,dragMomentum:u=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function l0(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function UG(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class FG extends Gl{constructor(t){super(t),this.removeGroupControls=Jr,this.removeListeners=Jr,this.controls=new zG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jr}unmount(){this.removeGroupControls(),this.removeListeners()}}const H3=e=>(t,a)=>{e&&on.postRender(()=>e(t,a))};class VG extends Gl{constructor(){super(...arguments),this.removePointerDownListener=Jr}onPointerDown(t){this.session=new tD(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:eD(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:H3(t),onStart:H3(a),onMove:r,onEnd:(l,c)=>{delete this.session,s&&on.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=zm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function q3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const sm={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(ht.test(e))e=parseFloat(e);else return e;const a=q3(e,t.target.x),r=q3(e,t.target.y);return`${a}% ${r}%`}},HG={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=Fl.parse(e);if(s.length>5)return r;const l=Fl.createTransformer(e),c=typeof s[0]!="number"?1:0,u=a.x.scale*t.x,m=a.y.scale*t.y;s[0+c]/=u,s[1+c]/=m;const f=mn(u,m,.5);return typeof s[2+c]=="number"&&(s[2+c]/=f),typeof s[3+c]=="number"&&(s[3+c]/=f),l(s)}};let Kv=!1;class qG extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;gK(KG),l&&(a.group&&a.group.add(l),r&&r.register&&s&&r.register(l),Kv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),dp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Kv=!0,s||t.layoutDependency!==a||a===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||on.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),$2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;Kv=!0,s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function aD(e){const[t,a]=NM(),r=x.useContext(h2);return n.jsx(qG,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(RM),isPresent:t,safeToRemove:a})}const KG={borderRadius:{...sm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:sm,borderTopRightRadius:sm,borderBottomLeftRadius:sm,borderBottomRightRadius:sm,boxShadow:HG};function rD(e,t,a){const r=la(e)?e:ec(e);return r.start(G2("",r,t,a)),r.animation}const GG=(e,t)=>e.depth-t.depth;class YG{constructor(){this.children=[],this.isDirty=!1}add(t){g2(this.children,t),this.isDirty=!0}remove(t){kx(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(GG),this.isDirty=!1,this.children.forEach(t)}}function WG(e,t){const a=ar.now(),r=({timestamp:s})=>{const l=s-a;l>=t&&(Ii(r),e(l-t))};return on.setup(r,!0),()=>Ii(r)}const sD=["TopLeft","TopRight","BottomLeft","BottomRight"],XG=sD.length,K3=e=>typeof e=="string"?parseFloat(e):e,G3=e=>typeof e=="number"||ht.test(e);function ZG(e,t,a,r,s,l){s?(e.opacity=mn(0,a.opacity??1,QG(r)),e.opacityExit=mn(t.opacity??1,0,JG(r))):l&&(e.opacity=mn(t.opacity??1,a.opacity??1,r));for(let c=0;c<XG;c++){const u=`border${sD[c]}Radius`;let m=Y3(t,u),f=Y3(a,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||G3(m)===G3(f)?(e[u]=Math.max(mn(K3(m),K3(f),r),0),(Ks.test(f)||Ks.test(m))&&(e[u]+="%")):e[u]=f}(t.rotate||a.rotate)&&(e.rotate=mn(t.rotate||0,a.rotate||0,r))}function Y3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const QG=iD(0,.5,LP),JG=iD(.5,.95,Jr);function iD(e,t,a){return r=>r<e?0:r>t?1:a(Ed(e,t,r))}function W3(e,t){e.min=t.min,e.max=t.max}function Vr(e,t){W3(e.x,t.x),W3(e.y,t.y)}function X3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Z3(e,t,a,r,s){return e-=t,e=Cp(e,1/a,r),s!==void 0&&(e=Cp(e,1/s,r)),e}function eY(e,t=0,a=1,r=.5,s,l=e,c=e){if(Ks.test(t)&&(t=parseFloat(t),t=mn(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=mn(l.min,l.max,r);e===l&&(u-=t),e.min=Z3(e.min,t,a,u,s),e.max=Z3(e.max,t,a,u,s)}function Q3(e,t,[a,r,s],l,c){eY(e,t[a],t[r],t[s],t.scale,l,c)}const tY=["x","scaleX","originX"],nY=["y","scaleY","originY"];function J3(e,t,a,r){Q3(e.x,t,tY,a?a.x:void 0,r?r.x:void 0),Q3(e.y,t,nY,a?a.y:void 0,r?r.y:void 0)}function eC(e){return e.translate===0&&e.scale===1}function lD(e){return eC(e.x)&&eC(e.y)}function tC(e,t){return e.min===t.min&&e.max===t.max}function aY(e,t){return tC(e.x,t.x)&&tC(e.y,t.y)}function nC(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function oD(e,t){return nC(e.x,t.x)&&nC(e.y,t.y)}function aC(e){return Va(e.x)/Va(e.y)}function rC(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class rY{constructor(){this.members=[]}add(t){g2(this.members,t),t.scheduleRender()}remove(t){if(kx(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function sY(e,t,a){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(a==null?void 0:a.z)||0;if((s||l||c)&&(r=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:b,skewX:y,skewY:j}=a;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),y&&(r+=`skewX(${y}deg) `),j&&(r+=`skewY(${j}deg) `)}const u=e.x.scale*t.x,m=e.y.scale*t.y;return(u!==1||m!==1)&&(r+=`scale(${u}, ${m})`),r||"none"}const Gv=["","X","Y","Z"],iY=1e3;let lY=0;function Yv(e,t,a,r){const{latestValues:s}=t;s[e]&&(a[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function cD(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=YM(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",on,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&cD(r)}function dD({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},u=t==null?void 0:t()){this.id=lY++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(dY),this.nodes.forEach(hY),this.nodes.forEach(pY),this.nodes.forEach(uY)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new YG)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new y2),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=I2(c)&&!wM(c),this.instance=c;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let h,g=0;const b=()=>this.root.updateBlockedByResize=!1;on.read(()=>{g=window.innerWidth}),e(c,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,h&&h(),h=WG(b,250),dp.hasAnimatedSinceResize&&(dp.hasAnimatedSinceResize=!1,this.nodes.forEach(lC)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||f.getDefaultTransition()||yY,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),k=!this.targetLayout||!oD(this.targetLayout,y),_=!g&&b;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...D2(j,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,_)}else g||lC(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ii(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(xY),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&cD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sC);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(iC);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(fY),this.nodes.forEach(oY),this.nodes.forEach(cY)):this.nodes.forEach(iC),this.clearAllSnapshots();const u=ar.now();va.delta=$i(0,1e3/60,u-va.timestamp),va.timestamp=u,va.isProcessing=!0,$v.update.process(va),$v.preRender.process(va),$v.render.process(va),va.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mY),this.sharedNodes.forEach(gY)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,on.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){on.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Va(this.snapshot.measuredBox.x)&&!Va(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=_n(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!lD(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||Ao(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),jY(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return _n();const u=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some(wY))){const{scroll:h}=this.root;h&&(fd(u.x,h.offset.x),fd(u.y,h.offset.y))}return u}removeElementScroll(c){var m;const u=_n();if(Vr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:g,options:b}=h;h!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Vr(u,c),fd(u.x,g.offset.x),fd(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=_n();Vr(m,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&hd(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ao(h.latestValues)&&hd(m,h.latestValues)}return Ao(this.latestValues)&&hd(m,this.latestValues),m}removeTransform(c){const u=_n();Vr(u,c);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!Ao(f.latestValues))continue;Uj(f.latestValues)&&f.updateSnapshot();const h=_n(),g=f.measurePageBox();Vr(h,g),J3(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return Ao(this.latestValues)&&J3(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==va.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=va.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Fm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=_n(),this.targetWithTransforms=_n()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),TG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Vr(this.target,this.layout.layoutBox),BM(this.target,this.targetDelta)):Vr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=_n(),this.relativeTargetOrigin=_n(),Fm(this.relativeTargetOrigin,this.target,y.target),Vr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||Uj(this.parent.latestValues)||IM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===va.timestamp&&(m=!1),m)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Vr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;qK(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=_n());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(X3(this.prevProjectionDelta.x,this.projectionDelta.x),X3(this.prevProjectionDelta.y,this.projectionDelta.y)),Um(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!rC(this.projectionDelta.x,this.prevProjectionDelta.x)||!rC(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=pd(),this.projectionDelta=pd(),this.projectionDeltaWithTransform=pd()}setAnimationOrigin(c,u=!1){const m=this.snapshot,f=m?m.latestValues:{},h={...this.latestValues},g=pd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=_n(),y=m?m.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,S=this.getStack(),k=!S||S.members.length<=1,_=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(vY));this.animationProgress=0;let C;this.mixTargetDelta=O=>{const T=O/1e3;oC(g.x,c.x,T),oC(g.y,c.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Fm(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),bY(this.relativeTarget,this.relativeTargetOrigin,b,T),C&&aY(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=_n()),Vr(C,this.relativeTarget)),w&&(this.animationValues=h,ZG(h,f,this.latestValues,T,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(Ii(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=on.update(()=>{dp.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=ec(0)),this.currentAnimation=rD(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(iY),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:h}=c;if(!(!u||!m||!f)){if(this!==c&&this.layout&&f&&uD(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||_n();const g=Va(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const b=Va(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Vr(u,m),hd(u,h),Um(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new rY),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&Yv("z",c,f,this.animationValues);for(let h=0;h<Gv.length;h++)Yv(`rotate${Gv[h]}`,c,f,this.animationValues),Yv(`skew${Gv[h]}`,c,f,this.animationValues);c.render();for(const h in f)c.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=cp(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=cp(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ao(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=sY(this.projectionDeltaWithTransform,this.treeScale,h);m&&(g=m(h,g)),c.transform=g;const{x:b,y}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const j in nf){if(h[j]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:k}=nf[j],_=g==="none"?h[j]:w(h[j],f);if(S){const C=S.length;for(let O=0;O<C;O++)c[S[O]]=_}else k?this.options.visualElement.renderState.vars[j]=_:c[j]=_}this.options.layoutId&&(c.pointerEvents=f===this?cp(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(sC),this.root.sharedNodes.clear()}}}function oY(e){e.updateLayout()}function cY(e){var a;const t=((a=e.resumeFrom)==null?void 0:a.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Wr(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],y=Va(b);b.min=r[g].min,b.max=b.min+y}):uD(l,t.layoutBox,r)&&Wr(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],y=Va(r[g]);b.max=b.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+y)});const u=pd();Um(u,r,t.layoutBox);const m=pd();c?Um(m,e.applyTransform(s,!0),t.measuredBox):Um(m,r,t.layoutBox);const f=!lD(u);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:y}=g;if(b&&y){const j=_n();Fm(j,t.layoutBox,b.layoutBox);const w=_n();Fm(w,r,y.layoutBox),oD(j,w)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function dY(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function uY(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function mY(e){e.clearSnapshot()}function sC(e){e.clearMeasurements()}function iC(e){e.isLayoutDirty=!1}function fY(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function lC(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function hY(e){e.resolveTargetDelta()}function pY(e){e.calcProjection()}function xY(e){e.resetSkewAndRotation()}function gY(e){e.removeLeadSnapshot()}function oC(e,t,a){e.translate=mn(t.translate,0,a),e.scale=mn(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function cC(e,t,a,r){e.min=mn(t.min,a.min,r),e.max=mn(t.max,a.max,r)}function bY(e,t,a,r){cC(e.x,t.x,a.x,r),cC(e.y,t.y,a.y,r)}function vY(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const yY={duration:.45,ease:[.4,0,.1,1]},dC=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),uC=dC("applewebkit/")&&!dC("chrome/")?Math.round:Jr;function mC(e){e.min=uC(e.min),e.max=uC(e.max)}function jY(e){mC(e.x),mC(e.y)}function uD(e,t,a){return e==="position"||e==="preserve-aspect"&&!AG(aC(t),aC(a),.2)}function wY(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const NY=dD({attachResizeListener:(e,t)=>rf(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wv={current:void 0},mD=dD({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Wv.current){const e=new NY({});e.mount(window),e.setOptions({layoutScroll:!0}),Wv.current=e}return Wv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),SY={pan:{Feature:VG},drag:{Feature:FG,ProjectionNode:mD,MeasureLayout:aD}};function fC(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const s="onHover"+a,l=r[s];l&&on.postRender(()=>l(t,Ef(t)))}class _Y extends Gl{mount(){const{current:t}=this.node;t&&(this.unmount=Jq(t,(a,r)=>(fC(this.node,r,"Start"),s=>fC(this.node,s,"End"))))}unmount(){}}class kY extends Gl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Cf(rf(this.node.current,"focus",()=>this.onFocus()),rf(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hC(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const s="onTap"+(a==="End"?"":a),l=r[s];l&&on.postRender(()=>l(t,Ef(t)))}class CY extends Gl{mount(){const{current:t}=this.node;t&&(this.unmount=aK(t,(a,r)=>(hC(this.node,r,"Start"),(s,{success:l})=>hC(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Yj=new WeakMap,Xv=new WeakMap,AY=e=>{const t=Yj.get(e.target);t&&t(e)},TY=e=>{e.forEach(AY)};function EY({root:e,...t}){const a=e||document;Xv.has(a)||Xv.set(a,{});const r=Xv.get(a),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(TY,{root:e,...t})),r[s]}function OY(e,t,a){const r=EY(t);return Yj.set(e,a),r.observe(e),()=>{Yj.delete(e),r.unobserve(e)}}const PY={some:0,all:1};class MY extends Gl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:l}=t,c={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:PY[s]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),b=f?h:g;b&&b(m)};return OY(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(DY(t,a))&&this.startObserver()}unmount(){}}function DY({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const RY={inView:{Feature:MY},tap:{Feature:CY},focus:{Feature:kY},hover:{Feature:_Y}},$Y={layout:{ProjectionNode:mD,MeasureLayout:aD}},LY={...wG,...RY,...SY,...$Y},pe=FK(LY,ZK);function Pd(e){const t=kf(()=>ec(e)),{isStatic:a}=x.useContext(Cx);if(a){const[,r]=x.useState(e);x.useEffect(()=>t.on("change",r),[])}return t}function fD(e,t){const a=Pd(t()),r=()=>a.set(t());return r(),x2(()=>{const s=()=>on.preRender(r,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),Ii(r)}}),a}function IY(e){Bm.current=[],e();const t=fD(Bm.current,e);return Bm.current=void 0,t}function Ap(e,t,a,r){if(typeof e=="function")return IY(e);const s=typeof t=="function"?t:rK(t,a,r);return Array.isArray(e)?pC(e,s):pC([e],([l])=>s(l))}function pC(e,t){const a=kf(()=>[]);return fD(e,()=>{a.length=0;const r=e.length;for(let s=0;s<r;s++)a[s]=e[s].get();return t(a)})}function W2(e){return typeof e=="object"&&!Array.isArray(e)}function hD(e,t,a,r){return typeof e=="string"&&W2(t)?xM(e,a,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function BY(e,t,a){return e*(t+1)}function xC(e,t,a,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?a:t.startsWith("<")?Math.max(0,a+parseFloat(t.slice(1))):r.get(t)??e}function zY(e,t,a){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<a&&(kx(e,s),r--)}}function UY(e,t,a,r,s,l){zY(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:mn(s,l,r[c]),easing:UP(a,c)})}function FY(e,t){for(let a=0;a<e.length;a++)e[a]=e[a]/(t+1)}function VY(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const HY="easeInOut";function qY(e,{defaultTransition:t={},...a}={},r,s){const l=t.duration||.3,c=new Map,u=new Map,m={},f=new Map;let h=0,g=0,b=0;for(let y=0;y<e.length;y++){const j=e[y];if(typeof j=="string"){f.set(j,g);continue}else if(!Array.isArray(j)){f.set(j.name,xC(g,j.at,h,f));continue}let[w,S,k={}]=j;k.at!==void 0&&(g=xC(g,k.at,h,f));let _=0;const C=(O,T,E,I=0,M=0)=>{const V=KY(O),{delay:Y=0,times:U=aM(V),type:F="keyframes",repeat:ie,repeatType:Se,repeatDelay:oe=0,...P}=T;let{ease:K=t.ease||"easeOut",duration:W}=T;const B=typeof Y=="function"?Y(I,M):Y,A=V.length,z=M2(F)?F:s==null?void 0:s[F||"keyframes"];if(A<=2&&z){let ee=100;if(A===2&&WY(V)){const ae=V[1]-V[0];ee=Math.abs(ae)}const Z={...P};W!==void 0&&(Z.duration=ys(W));const Ae=JP(Z,ee,z);K=Ae.ease,W=Ae.duration}W??(W=l);const $=g+B;U.length===1&&U[0]===0&&(U[1]=1);const G=U.length-V.length;if(G>0&&nM(U,G),V.length===1&&V.unshift(null),ie){W=BY(W,ie);const ee=[...V],Z=[...U];K=Array.isArray(K)?[...K]:[K];const Ae=[...K];for(let ae=0;ae<ie;ae++){V.push(...ee);for(let _e=0;_e<ee.length;_e++)U.push(Z[_e]+(ae+1)),K.push(_e===0?"linear":UP(Ae,_e-1))}FY(U,ie)}const ue=$+W;UY(E,V,K,U,$,ue),_=Math.max(B+W,_),b=Math.max(ue,b)};if(la(w)){const O=gC(w,u);C(S,k,bC("default",O))}else{const O=hD(w,S,r,m),T=O.length;for(let E=0;E<T;E++){S=S,k=k;const I=O[E],M=gC(I,u);for(const V in S)C(S[V],GY(k,V),bC(V,M),E,T)}}h=g,g+=_}return u.forEach((y,j)=>{for(const w in y){const S=y[w];S.sort(VY);const k=[],_=[],C=[];for(let T=0;T<S.length;T++){const{at:E,value:I,easing:M}=S[T];k.push(I),_.push(Ed(0,b,E)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(HY)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const O=c.get(j);O.keyframes[w]=k,O.transition[w]={...t,duration:b,ease:C,times:_,...a}}}),c}function gC(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function bC(e,t){return t[e]||(t[e]=[]),t[e]}function KY(e){return Array.isArray(e)?e:[e]}function GY(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const YY=e=>typeof e=="number",WY=e=>e.every(YY);function XY(e,t){return e in t}class ZY extends FM{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,a){if(XY(a,t)){const r=t[a];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,a){delete a.output[t]}measureInstanceViewportBox(){return _n()}build(t,a){Object.assign(t.output,a)}renderInstance(t,{output:a}){Object.assign(t,a)}sortInstanceNodePosition(){return 0}}function QY(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},a=I2(e)&&!wM(e)?new GM(t):new qM(t);a.mount(e),af.set(e,a)}function JY(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},a=new ZY(t);a.mount(e),af.set(e,a)}function eW(e,t){return la(e)||typeof e=="number"||typeof e=="string"&&!W2(t)}function pD(e,t,a,r){const s=[];if(eW(e,t))s.push(rD(e,W2(t)&&t.default||t,a&&(a.default||a)));else{const l=hD(e,t,r),c=l.length;for(let u=0;u<c;u++){const m=l[u],f=m instanceof Element?QY:JY;af.has(m)||f(m);const h=af.get(m),g={...a};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(u,c)),s.push(...Y2(h,{...t,transition:g},{}))}}return s}function tW(e,t,a){const r=[];return qY(e,t,a,{spring:ef}).forEach(({keyframes:l,transition:c},u)=>{r.push(...pD(u,l,c))}),r}function nW(e){return Array.isArray(e)&&e.some(Array.isArray)}function aW(e){function t(a,r,s){let l=[];return nW(a)?l=tW(a,r,e):l=pD(a,r,s,e),new Lq(l)}return t}const rW=aW(),sW="https://app.thedbt.ai";function iW({isOpen:e,onSuccess:t}){const[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(!0),[b,y]=x.useState(!1);if(!e)return null;const j=async w=>{if(w.preventDefault(),!a.trim()||!s.trim()){R.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){R.error("You must be logged in."),window.location.href="/login";return}y(!0);try{const k=await fetch(`${sW}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:a.trim(),auth_token:s.trim(),validate:h})}),_=await k.json().catch(()=>({}));if(k.ok)R.success("Twilio credentials saved "),t==null||t();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");R.error(C)}}catch{R.error("Network error. Please try again.")}finally{y(!1)}};return n.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),n.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:n.jsx(Qr,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?"text":"password",autoComplete:"off",value:a,onChange:w=>r(w.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>u(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?n.jsx(Ad,{className:"h-5 w-5"}):n.jsx(An,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:m?"text":"password",autoComplete:"off",value:s,onChange:w=>l(w.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>f(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":m?"Hide Token":"Show Token",children:m?n.jsx(Ad,{className:"h-5 w-5"}):n.jsx(An,{className:"h-5 w-5"})})]})]}),n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:h,onChange:w=>g(w.target.checked)}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:b?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):n.jsxs(n.Fragment,{children:["Save & Continue",n.jsx(Rl,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),n.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const vC="https://app.thedbt.ai";function lW(){const[e,t]=x.useState(["","","",""]),[a,r]=x.useState(""),[s,l]=x.useState(!1),[c,u]=x.useState(0),[m,f]=x.useState(!1),h=[x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null)],g=dn();x.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&r(decodeURIComponent(C)),setTimeout(()=>{var O;return(O=h[0].current)==null?void 0:O.focus()},50)},[]),x.useEffect(()=>{if(c>0){const _=setTimeout(()=>u(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const b=(_,C)=>{var E;const O=C.replace(/\D/g,"");if(O.length>1)return;const T=[...e];T[_]=O,t(T),O&&_<3&&((E=h[_+1].current)==null||E.focus()),T.every(I=>I!=="")&&T.join("").length===4&&w(T.join(""))},y=(_,C)=>{var O,T,E;C.key==="Backspace"&&!e[_]&&_>0&&((O=h[_-1].current)==null||O.focus()),C.key==="Enter"&&w(e.join("")),C.key==="ArrowLeft"&&_>0&&((T=h[_-1].current)==null||T.focus()),C.key==="ArrowRight"&&_<3&&((E=h[_+1].current)==null||E.focus())},j=_=>{var E,I;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const O=["","","",""];for(let M=0;M<C.length;M++)O[M]=C[M];t(O);const T=O.findIndex(M=>M==="");T!==-1?(E=h[T].current)==null||E.focus():(I=h[3].current)==null||I.focus(),O.every(M=>M!=="")&&w(O.join(""))},w=async(_=null)=>{var O,T,E;const C=_||e.join("");if(C.length!==4){R.error("Please enter all 4 digits");return}if(!a){R.error("Email is required for verification");return}l(!0);try{const I=await fetch(`${vC}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:a})}),M=await I.json().catch(()=>({}));I.ok?(M.token&&localStorage.setItem("token",M.token),(O=M.user)!=null&&O.role&&localStorage.setItem("role",M.user.role),R.success("Account verified successfully! "),f(!0)):(R.error("Invalid OTP. Please try again."),t(["","","",""]),(T=h[0].current)==null||T.focus())}catch{R.error("Network error. Please check your connection and try again."),t(["","","",""]),(E=h[0].current)==null||E.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!a)){l(!0);try{(await fetch(`${vC}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).ok?(R.success("New verification code sent to your email."),u(60),t(["","","",""]),(_=h[0].current)==null||_.focus()):R.error("Failed to resend code. Please try again.")}catch{R.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return n.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[n.jsx(pe.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(pe.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(pe.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),n.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),n.jsx(Ra,{className:"relative w-7 h-7 text-blue-600"})]})}),n.jsx(pe.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),n.jsxs(pe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",n.jsx("br",{}),n.jsx("span",{className:"font-medium text-blue-600",children:a||"your email"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx(pe.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:n.jsxs("form",{onSubmit:_=>{_.preventDefault(),w()},children:[n.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),n.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>n.jsx(pe.input,{ref:h[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:O=>O.target.select(),onChange:O=>b(C,O.target.value),onKeyDown:O=>y(C,O),onPaste:j,"aria-label":`OTP digit ${C+1}`,disabled:s,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),n.jsxs(pe.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:n.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),s?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):n.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",n.jsx(Sf,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),n.jsxs("div",{className:"mt-5 text-center",children:[n.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),n.jsxs("button",{type:"button",onClick:S,disabled:c>0||s||!a,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[n.jsx(Ye,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),n.jsx(iW,{isOpen:m,onSuccess:()=>{f(!1),setTimeout(()=>g("/profile"),300)}})]})}function oW(){const[e,t]=x.useState({email:"",password:""}),[a,r]=x.useState(!1),[s,l]=x.useState({}),[c,u]=x.useState(!1),m=dn(),f="https://app.thedbt.ai",h=y=>{const{name:j,value:w}=y.target;t(S=>({...S,[j]:w})),s[j]&&l(S=>({...S,[j]:""}))},g=()=>{const y={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Please enter a valid email address"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",l(y),Object.keys(y).length===0},b=async y=>{var j,w,S;if(y.preventDefault(),!!g()){u(!0),l({});try{const k=await fetch(`${f}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(j=_.user)!=null&&j.role&&localStorage.setItem("role",_.user.role),(w=_.user)!=null&&w.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),R.success("Login successful! "),setTimeout(()=>{var O,T,E;const C=((E=(T=(O=_.user)==null?void 0:O.role)==null?void 0:T.toLowerCase)==null?void 0:E.call(T))||"";m(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";R.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";R.error(k),l({submit:k})}finally{u(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Ho,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(Sr,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ra,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx(Sj,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Ri,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!a),children:a?n.jsx(Ad,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(An,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),s.password]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):n.jsxs("div",{className:"flex items-center",children:["Sign in",n.jsx(Sf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By signing in you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function cW({length:e=4,value:t,onChange:a}){const r=x.useRef([]),s=m=>{const f=r.current[m];f&&f.focus()},l=(m,f)=>{const h=f.replace(/\D/g,"").slice(0,1),g=(t||"").split("");g[m]=h;const b=g.join("");a(b),h&&m<e-1&&s(m+1)},c=(m,f)=>{const h=(t||"")[m]||"";if(f.key==="Backspace"){if(!h&&m>0){f.preventDefault();const g=(t||"").split("");g[m-1]="",a(g.join("")),s(m-1)}}else f.key==="ArrowLeft"&&m>0?(f.preventDefault(),s(m-1)):f.key==="ArrowRight"&&m<e-1&&(f.preventDefault(),s(m+1))},u=m=>{m.preventDefault();const f=(m.clipboardData.getData("text")||"").replace(/\D/g,"");if(!f)return;const h=(t||"").split("");for(let b=0;b<e;b++)h[b]=f[b]||"";a(h.join(""));const g=Math.min(f.length,e)-1;s(g>=0?g:0)};return n.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((m,f)=>{const h=(t||"")[f]||"";return n.jsx("input",{ref:g=>r.current[f]=g,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:g=>l(f,g.target.value),onKeyDown:g=>c(f,g),onPaste:f===0?u:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${f+1}`},f)})})}function dW(){const[e,t]=x.useState(1),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState(!1),[h,g]=x.useState({}),[b,y]=x.useState(!1),j=dn(),w="https://app.thedbt.ai",S=()=>{const O={};return a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(O.email="Please enter a valid email address"):O.email="Email is required",g(O),Object.keys(O).length===0},k=()=>{const O={};return(!s||s.length!==4)&&(O.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(O.password="Password must be at least 6 characters"):O.password="Password is required",g(O),Object.keys(O).length===0},_=async O=>{if(O.preventDefault(),!!S()){y(!0);try{const T=await fetch(`${w}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),E=await T.json();T.ok?(R.success("Password reset OTP sent to your email! "),t(2)):R.error(E.detail||"Something went wrong.")}catch{R.error("Network error. Please try again.")}finally{y(!1)}}},C=async O=>{if(O.preventDefault(),!!k()){y(!0);try{const T=await fetch(`${w}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code:s,password:c})}),E=await T.json();T.ok?(R.success("Password changed successfully! "),j("/user")):R.error(E.detail||"Failed to reset password.")}catch{R.error("Network error. Please try again.")}finally{y(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(TF,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",n.jsx("span",{className:"font-medium",children:a})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&n.jsxs("form",{className:"space-y-6",onSubmit:_,children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ra,{className:`h-5 w-5 absolute left-3 top-3 ${a?"text-blue-500":"text-gray-400"}`}),n.jsx("input",{type:"email",value:a,onChange:O=>r(O.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),h.email]})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:b?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):n.jsxs("div",{className:"flex items-center",children:["Send OTP",n.jsx(Sf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&n.jsxs("form",{className:"space-y-6",onSubmit:C,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-baseline justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),n.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),n.jsx(cW,{length:4,value:s,onChange:l}),h.code&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),h.code]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ri,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:m?"text":"password",value:c,onChange:O=>u(O.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),n.jsx("button",{type:"button",onClick:()=>f(O=>!O),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":m?"Hide password":"Show password",children:m?n.jsx(Ad,{className:"h-5 w-5"}):n.jsx(An,{className:"h-5 w-5"})})]}),h.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(Sr,{className:"h-4 w-4 mr-1"}),h.password]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),n.jsx("button",{type:"submit",disabled:b||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Resetting":"Reset Password"}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[n.jsx(bP,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",n.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var Wj=function(e,t){return Wj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])},Wj(e,t)};function uW(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Wj(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var sa=function(){return sa=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},sa.apply(this,arguments)};var Zv,yC;function mW(){if(yC)return Zv;yC=1;var e=!1,t,a,r,s,l,c,u,m,f,h,g,b,y,j,w;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),O=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(b=/\b(iPhone|iP[ao]d)/.exec(_),y=/\b(iP[ao]d)/.exec(_),h=/Android/i.exec(_),j=/FBAN\/\w+;/i.exec(_),w=/Mobile/i.exec(_),g=!!/Win64/.exec(_),C){t=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var T=/(?:Trident\/(\d+.\d+))/.exec(_);c=T?parseFloat(T[1])+4:t,a=C[2]?parseFloat(C[2]):NaN,r=C[3]?parseFloat(C[3]):NaN,s=C[4]?parseFloat(C[4]):NaN,s?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else t=a=r=l=s=NaN;if(O){if(O[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);u=E?parseFloat(E[1].replace("_",".")):!0}else u=!1;m=!!O[2],f=!!O[3]}else u=m=f=!1}}var k={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return k.ie()&&g},firefox:function(){return S()||a},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||m},osx:function(){return S()||u},linux:function(){return S()||f},iphone:function(){return S()||b},mobile:function(){return S()||b||y||h||w},nativeApp:function(){return S()||j},android:function(){return S()||h},ipad:function(){return S()||y}};return Zv=k,Zv}var Qv,jC;function fW(){if(jC)return Qv;jC=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Qv=t,Qv}var Jv,wC;function hW(){if(wC)return Jv;wC=1;var e=fW(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(r,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var u=document.createElement("div");u.setAttribute(l,"return;"),c=typeof u[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return Jv=a,Jv}var ey,NC;function pW(){if(NC)return ey;NC=1;var e=mW(),t=hW(),a=10,r=40,s=800;function l(c){var u=0,m=0,f=0,h=0;return"detail"in c&&(m=c.detail),"wheelDelta"in c&&(m=-c.wheelDelta/120),"wheelDeltaY"in c&&(m=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(u=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(u=m,m=0),f=u*a,h=m*a,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(f=c.deltaX),(f||h)&&c.deltaMode&&(c.deltaMode==1?(f*=r,h*=r):(f*=s,h*=s)),f&&!u&&(u=f<1?-1:1),h&&!m&&(m=h<1?-1:1),{spinX:u,spinY:m,pixelX:f,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},ey=l,ey}var ty,SC;function xW(){return SC||(SC=1,ty=pW()),ty}var gW=xW();const bW=Ss(gW);function vW(e,t,a,r,s,l){l===void 0&&(l=0);var c=Md(e,t,l),u=c.width,m=c.height,f=Math.min(u,a),h=Math.min(m,r);return f>h*s?{width:h*s,height:h}:{width:f,height:f/s}}function yW(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function im(e,t,a,r,s){s===void 0&&(s=0);var l=Md(t.width,t.height,s),c=l.width,u=l.height;return{x:_C(e.x,c,a.width,r),y:_C(e.y,u,a.height,r)}}function _C(e,t,a,r){var s=t*r/2-a/2;return Ox(e,-s,s)}function kC(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function CC(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function jW(e,t,a,r,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var u=c?wW:NW,m=Md(t.width,t.height,l),f=Md(t.naturalWidth,t.naturalHeight,l),h={x:u(100,((m.width-a.width/s)/2-e.x/s)/m.width*100),y:u(100,((m.height-a.height/s)/2-e.y/s)/m.height*100),width:u(100,a.width/m.width*100/s),height:u(100,a.height/m.height*100/s)},g=Math.round(u(f.width,h.width*f.width/100)),b=Math.round(u(f.height,h.height*f.height/100)),y=f.width>=f.height*r,j=y?{width:Math.round(b*r),height:b}:{width:g,height:Math.round(g/r)},w=sa(sa({},j),{x:Math.round(u(f.width-j.width,h.x*f.width/100)),y:Math.round(u(f.height-j.height,h.y*f.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:w}}function wW(e,t){return Math.min(e,Math.max(0,t))}function NW(e,t){return t}function SW(e,t,a,r,s,l){var c=Md(t.width,t.height,a),u=Ox(r.width/c.width*(100/e.width),s,l),m={x:u*c.width/2-r.width/2-c.width*u*(e.x/100),y:u*c.height/2-r.height/2-c.height*u*(e.y/100)};return{crop:m,zoom:u}}function _W(e,t,a){var r=yW(t);return a.height>a.width?a.height/(e.height*r):a.width/(e.width*r)}function kW(e,t,a,r,s,l){a===void 0&&(a=0);var c=Md(t.naturalWidth,t.naturalHeight,a),u=Ox(_W(e,t,r),s,l),m=r.height>r.width?r.height/e.height:r.width/e.width,f={x:((c.width-e.width)/2-e.x)*m,y:((c.height-e.height)/2-e.y)*m};return{crop:f,zoom:u}}function AC(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function CW(e){return e*Math.PI/180}function Md(e,t,a){var r=CW(a);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Ox(e,t,a){return Math.min(Math.max(e,t),a)}function o0(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var AW=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,TW=1,EW=3,OW=1,PW=function(e){uW(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.cropperRef=x.createRef(),a.imageRef=x.createRef(),a.videoRef=x.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var r=!0;a.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(r){return r.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturechange",a.onGestureChange),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var r=a.computeSizes();r&&(a.emitCropData(),a.setInitialCrop(r)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(r){if(a.props.initialCroppedAreaPercentages){var s=SW(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=s.crop,c=s.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}else if(a.props.initialCroppedAreaPixels){var u=kW(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=u.crop,c=u.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}},a.computeSizes=function(){var r,s,l,c,u,m,f=a.imageRef.current||a.videoRef.current;if(f&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var h=a.containerRect.width/a.containerRect.height,g=((r=a.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=a.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,b=((l=a.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=a.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=f.offsetWidth<g||f.offsetHeight<b,j=g/b,w=void 0;if(y)switch(a.state.mediaObjectFit){default:case"contain":w=h>j?{width:a.containerRect.height*j,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/j};break;case"horizontal-cover":w={width:a.containerRect.width,height:a.containerRect.width/j};break;case"vertical-cover":w={width:a.containerRect.height*j,height:a.containerRect.height};break}else w={width:f.offsetWidth,height:f.offsetHeight};a.mediaSize=sa(sa({},w),{naturalWidth:g,naturalHeight:b}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var S=a.props.cropSize?a.props.cropSize:vW(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((u=a.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((m=a.state.cropSize)===null||m===void 0?void 0:m.width)!==S.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(S),a.setState({cropSize:S},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(S),S}},a.saveContainerPosition=function(){if(a.containerRef){var r=a.containerRef.getBoundingClientRect();a.containerPosition={x:r.left,y:r.top}}},a.onMouseDown=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(t.getMousePoint(r)))},a.onMouseMove=function(r){return a.onDrag(t.getMousePoint(r))},a.onScroll=function(r){a.currentDoc&&(r.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(r){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(r))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),r.touches.length===2?a.onPinchStart(r):r.touches.length===1&&a.onDragStart(t.getTouchPoint(r.touches[0]))))},a.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?a.onPinchMove(r):r.touches.length===1&&a.onDrag(t.getTouchPoint(r.touches[0]))},a.onGestureStart=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureChange),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureChange=function(r){if(r.preventDefault(),!a.isTouching){var s=t.getMousePoint(r),l=a.gestureZoomStart-1+r.scale;if(a.setNewZoom(l,s,{shouldUpdatePosition:!0}),a.props.onRotationChange){var c=a.gestureRotationStart+r.rotation;a.props.onRotationChange(c)}}},a.onGestureEnd=function(r){a.cleanEvents()},a.onDragStart=function(r){var s,l,c=r.x,u=r.y;a.dragStartPosition={x:c,y:u},a.dragStartCrop=sa({},a.props.crop),(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s)},a.onDrag=function(r){var s=r.x,l=r.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(s===void 0||l===void 0)){var c=s-a.dragStartPosition.x,u=l-a.dragStartPosition.y,m={x:a.dragStartCrop.x+c,y:a.dragStartCrop.y+u},f=a.props.restrictPosition?im(m,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):m;a.props.onCropChange(f)}}))},a.onDragStopped=function(){var r,s;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(s=(r=a.props).onInteractionEnd)===null||s===void 0||s.call(r)},a.onWheel=function(r){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(r))){r.preventDefault();var s=t.getMousePoint(r),l=bW(r).pixelY,c=a.props.zoom-l*a.props.zoomSpeed/200;a.setNewZoom(c,s,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var u,m;return(m=(u=a.props).onInteractionStart)===null||m===void 0?void 0:m.call(u)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var u,m;return(m=(u=a.props).onInteractionEnd)===null||m===void 0?void 0:m.call(u)})},250)}},a.getPointOnContainer=function(r,s){var l=r.x,c=r.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(l-s.x),y:a.containerRect.height/2-(c-s.y)}},a.getPointOnMedia=function(r){var s=r.x,l=r.y,c=a.props,u=c.crop,m=c.zoom;return{x:(s+u.x)/m,y:(l+u.y)/m}},a.setNewZoom=function(r,s,l){var c=l===void 0?{}:l,u=c.shouldUpdatePosition,m=u===void 0?!0:u;if(!(!a.state.cropSize||!a.props.onZoomChange)){var f=Ox(r,a.props.minZoom,a.props.maxZoom);if(m){var h=a.getPointOnContainer(s,a.containerPosition),g=a.getPointOnMedia(h),b={x:g.x*f-h.x,y:g.y*f-h.y},y=a.props.restrictPosition?im(b,a.mediaSize,a.state.cropSize,f,a.props.rotation):b;a.props.onCropChange(y)}a.props.onZoomChange(f)}},a.getCropData=function(){if(!a.state.cropSize)return null;var r=a.props.restrictPosition?im(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return jW(r,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(s,l),a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.emitCropAreaChange=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var r=a.props.restrictPosition?im(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(r),a.emitCropData()}},a.onKeyDown=function(r){var s,l,c=a.props,u=c.crop,m=c.onCropChange,f=c.keyboardStep,h=c.zoom,g=c.rotation,b=f;if(a.state.cropSize){r.shiftKey&&(b*=.2);var y=sa({},u);switch(r.key){case"ArrowUp":y.y-=b,r.preventDefault();break;case"ArrowDown":y.y+=b,r.preventDefault();break;case"ArrowLeft":y.x-=b,r.preventDefault();break;case"ArrowRight":y.x+=b,r.preventDefault();break;default:return}a.props.restrictPosition&&(y=im(y,a.mediaSize,a.state.cropSize,h,g)),r.repeat||(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s),m(y)}},a.onKeyUp=function(r){var s,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}a.emitCropData(),(l=(s=a.props).onInteractionEnd)===null||l===void 0||l.call(s)},a}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=AW,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var a,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(a){var r,s,l,c,u,m,f,h,g;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((r=a.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=a.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((u=a.crop)===null||u===void 0?void 0:u.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((f=a.crop)===null||f===void 0?void 0:f.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},t.prototype.getAspect=function(){var a=this.props,r=a.cropSize,s=a.aspect;return r?r.width/r.height:s},t.prototype.getObjectFit=function(){var a,r,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,m=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=m/f;return h<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(a){var r=t.getTouchPoint(a.touches[0]),s=t.getTouchPoint(a.touches[1]);this.lastPinchDistance=kC(r,s),this.lastPinchRotation=CC(r,s),this.onDragStart(AC(r,s))},t.prototype.onPinchMove=function(a){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(a.touches[0]),l=t.getTouchPoint(a.touches[1]),c=AC(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=kC(s,l),m=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(m,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var f=CC(s,l),h=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=f})}},t.prototype.render=function(){var a=this,r,s=this.props,l=s.image,c=s.video,u=s.mediaProps,m=s.cropperProps,f=s.transform,h=s.crop,g=h.x,b=h.y,y=s.rotation,j=s.zoom,w=s.cropShape,S=s.showGrid,k=s.roundCropAreaPixels,_=s.style,C=_.containerStyle,O=_.cropAreaStyle,T=_.mediaStyle,E=s.classes,I=E.containerClassName,M=E.cropAreaClassName,V=E.mediaClassName,Y=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(F){return a.containerRef=F},"data-testid":"container",style:C,className:o0("reactEasyCrop_Container",I)},l?x.createElement("img",sa({alt:"",className:o0("reactEasyCrop_Image",Y==="contain"&&"reactEasyCrop_Contain",Y==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Y==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},u,{src:l,ref:this.imageRef,style:sa(sa({},T),{transform:f||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),onLoad:this.onMediaLoad})):c&&x.createElement("video",sa({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:o0("reactEasyCrop_Video",Y==="contain"&&"reactEasyCrop_Contain",Y==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",Y==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",V)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:sa(sa({},T),{transform:f||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(U){return x.createElement("source",sa({key:U.src},U))})),this.state.cropSize&&x.createElement("div",sa({ref:this.cropperRef,style:sa(sa({},O),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:o0("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},m)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:EW,minZoom:TW,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:OW},t.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t}(x.Component);const TC="https://app.thedbt.ai",EC=["image/png","image/jpeg","image/webp"],MW=5*1024*1024,DW=[`${TC}/api/auth`,`${TC}/api`];function c0(...e){return e.filter(Boolean).join(" ")}async function RW(e,t,a=0){const s=await(k=>new Promise((_,C)=>{const O=new Image;O.addEventListener("load",()=>_(O)),O.addEventListener("error",T=>C(T)),O.crossOrigin="anonymous",O.src=k}))(e),l=a*Math.PI/180,c=s.naturalWidth||s.width,u=s.naturalHeight||s.height,m=document.createElement("canvas"),f=m.getContext("2d"),h=Math.abs(Math.sin(l)),g=Math.abs(Math.cos(l)),b=Math.floor(c*g+u*h),y=Math.floor(c*h+u*g);m.width=b,m.height=y,f.translate(b/2,y/2),f.rotate(l),f.drawImage(s,-c/2,-u/2);const j=f.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),w=document.createElement("canvas");return w.width=Math.round(t.width),w.height=Math.round(t.height),w.getContext("2d").putImageData(j,0,0),new Promise(k=>{w.toBlob(_=>k(_),"image/jpeg",.92)})}function $W(){const e=dn(),[t,a]=x.useState(null),[r,s]=x.useState(null),[l,c]=x.useState(null),[u,m]=x.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[f,h]=x.useState({name:"",email:""}),[g,b]=x.useState(!1),[y,j]=x.useState({x:0,y:0}),[w,S]=x.useState(1),[k,_]=x.useState(0),[C,O]=x.useState(null),[T,E]=x.useState(!1),[I,M]=x.useState(!1),V=x.useRef(null),Y=()=>localStorage.getItem("token")||"",U=()=>Y()?{Authorization:`Bearer ${Y()}`}:{},F=()=>Y()?!0:(R.error("Authentication required. Please login again."),e("/login"),!1),ie=async(ee,Z={},{expectJson:Ae=!0}={})=>{const ae=[];for(const Me of DW)try{const Pe=await fetch(`${Me}${ee}`,Z);if(Pe.status===401||Pe.status===403){const qe=await Pe.text().catch(()=>"");throw new Error(qe||"Unauthorized")}if(Pe.ok)return Ae?await Pe.json():Pe;if(Pe.status===404){ae.push({base:Me,status:404});continue}const ge=await Pe.json().catch(()=>({}));throw new Error((ge==null?void 0:ge.detail)||`Request failed (${Pe.status})`)}catch(Pe){if(ae.push({base:Me,err:Pe==null?void 0:Pe.message}),(Pe==null?void 0:Pe.message)==="Unauthorized")throw Pe}const _e=ae!=null&&ae.length?`Request failed: ${ae.map(Me=>`${Me.base}${Me.status||Me.err}`).join(" | ")}`:"Network error";throw new Error(_e)},Se=x.useMemo(()=>((f==null?void 0:f.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Z=>Z[0]).join("").slice(0,2).toUpperCase(),[f==null?void 0:f.name]),oe=x.useCallback(()=>{const ee=(localStorage.getItem("role")||"").toLowerCase();return ee==="user"?e("/user/dashboard",{replace:!0}):ee==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);x.useEffect(()=>{if(g){const ee=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=ee}}},[g]);const P=async()=>{var ee,Z,Ae;if(F())try{const ae=await ie("/user-info",{headers:{...U(),Accept:"application/json"}}),_e=((ee=ae==null?void 0:ae.data)==null?void 0:ee.email)||"";h({name:(Z=ae==null?void 0:ae.data)==null?void 0:Z.name,email:_e});const Me=((Ae=ae==null?void 0:ae.data)==null?void 0:Ae.profile_photo_url)||null,Pe=Me?Me+(Me.includes("?")?"&":"?")+"t="+Date.now():null;if(a(Pe),Pe&&!r&&s(Pe),_e){const ge=`profileComplete:${_e.toLowerCase()}`;if(localStorage.getItem(ge)==="1"){oe();return}}}catch(ae){R.error(ae.message||"Could not load profile info")}};x.useEffect(()=>{(async()=>(m(ee=>({...ee,init:!0})),await P(),m(ee=>({...ee,init:!1}))))()},[]);const K=ee=>{if(!ee)return;if(!EC.includes(ee.type)){R.error("Only PNG, JPEG or WEBP images are allowed.");return}if(ee.size>MW){R.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(ee);const Z=URL.createObjectURL(ee);s(Z),b(!1)},W=ee=>{var Ae;const Z=(Ae=ee.target.files)==null?void 0:Ae[0];K(Z)},B=ee=>{var Ae;ee.preventDefault(),ee.stopPropagation();const Z=(Ae=ee.dataTransfer.files)==null?void 0:Ae[0];K(Z)},A=ee=>{ee.preventDefault(),ee.stopPropagation()};x.useCallback((ee,Z)=>{O(Z),E(!0)},[]);const z=async()=>{if(!r&&!t){R.info("Choose an image first.");return}if(!T||!C){R.info("Adjust the crop a tiny bit, then save.");return}try{m(qe=>({...qe,saving:!0}));const Z=await RW(r||t,C,k),Ae=URL.createObjectURL(Z);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(Ae);const ae=new FormData,_e=`avatar_${Date.now()}.jpg`;ae.append("file",Z,_e);const Me=await ie("/profile-photo",{method:"POST",headers:{...U()},body:ae}),Pe=Me==null?void 0:Me.photo_url,ge=Pe?Pe+(Pe.includes("?")?"&":"?")+"t="+Date.now():null;a(ge),b(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),R.success("Profile photo saved!")}catch(ee){R.error(ee.message||"Could not save the cropped photo")}finally{m(ee=>({...ee,saving:!1}))}},$=async()=>{if(!t){R.info("No profile photo to delete.");return}try{m(ee=>({...ee,delete:!0})),await ie("/profile-photo",{method:"DELETE",headers:{...U(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),a(null),s(null),c(null),R.success("Profile photo deleted.")}catch(ee){R.error(ee.message||"Delete error")}finally{m(ee=>({...ee,delete:!1}))}},G=async()=>{m(ee=>({...ee,refresh:!0})),await P(),m(ee=>({...ee,refresh:!1}))},ue=()=>{const ee=((f==null?void 0:f.email)||"").toLowerCase();ee&&localStorage.setItem(`profileComplete:${ee}`,"1"),oe()};return n.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),n.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),n.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:G,disabled:u.refresh||u.init,className:c0("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[u.refresh?n.jsx(Dn,{className:"h-4 w-4 animate-spin"}):n.jsx(uV,{className:"h-4 w-4"}),"Refresh"]}),n.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[n.jsx(yp,{className:"h-4 w-4"}),"Confirm"]}),n.jsxs("button",{onClick:ue,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[n.jsx(EV,{className:"h-4 w-4"}),"Skip for now"]})]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),n.jsxs("div",{className:c0("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",I?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var ee;return(ee=V.current)==null?void 0:ee.click()},onDrop:B,onDragOver:A,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[n.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:n.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[u.init?n.jsx(Dn,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?n.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{a(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(null)}}):n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(kP,{className:"h-10 w-10 text-slate-400"}),n.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:Se})]}),n.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[n.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:n.jsx(wU,{className:"h-5 w-5 text-blue-600"})}),n.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),n.jsx("input",{ref:V,type:"file",accept:EC.join(","),className:"hidden",onChange:W})]}),n.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[n.jsx(vn,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),n.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){R.info("Select or upload an image first.");return}_(0),S(1),E(!1),b(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[n.jsx(Wk,{className:"h-4 w-4"}),"Crop"]}),n.jsx("button",{type:"button",onClick:$,disabled:u.delete||!t,className:c0("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:u.delete?n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),g&&(r||t)&&n.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>b(!1)}),n.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wk,{className:"h-4 w-4 text-blue-600"}),n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),n.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded-md hover:bg-slate-100",children:n.jsx(wa,{className:"h-4 w-4 text-slate-500"})})]}),n.jsxs("div",{className:"bg-slate-900",children:[n.jsx("div",{className:"relative h-[360px] overflow-hidden",children:n.jsx(PW,{image:r||t,crop:y,zoom:w,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:j,onRotationChange:_,onZoomChange:S,onCropComplete:(ee,Z)=>{O(Z),E(!0)}})}),n.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),n.jsx("input",{type:"range",min:1,max:3,step:.01,value:w,onChange:ee=>S(parseFloat(ee.target.value)),className:"w-full accent-blue-500"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),n.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:ee=>_(parseFloat(ee.target.value)),className:"w-full accent-blue-500"}),n.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[n.jsx(gV,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:z,disabled:u.saving||!T,className:c0("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",T?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:u.saving?n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 animate-spin"})," Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(yp,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function LW(...e){return e.filter(Boolean).join(" ")}const OC="https://app.thedbt.ai";function IW({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function X2({className:e="",onMenuToggle:t,profilePath:a="/user/settings"}){const[r,s]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),f=dn();x.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const S=await fetch(`${OC}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${OC}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const h=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return n.jsxs("button",{type:"button",onClick:()=>f(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?n.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:LW("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(IW,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(g,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(g,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(g,{size:36})}),n.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(wp,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function BW(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx(X2,{}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:n.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:n.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:n.jsx(Qr,{className:"w-6 h-6"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Privacy Policy"}),n.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(_f,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"min-w-0",children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our SaaS-based AI calling assistant platform. The platform enables users to upload CSV files of leads, configure AI assistants for outbound and inbound calls, and automate reminders to help generate qualified leads, book appointments, and drive sales outcomes. By using the platform, you agree to the practices described here."})})]})}),n.jsxs(os,{title:"Information We Collect",icon:vd,children:[n.jsx(cs,{title:"Account and Profile",children:"- Name, email, and authentication tokens necessary to create and secure your account."}),n.jsx(cs,{title:"Lead and Contact Data",children:"- Lead details uploaded via CSV (e.g., name, phone number, email, consent flags, timezone)."}),n.jsx(cs,{title:"Communication Records",children:"- AI call logs, recordings (if enabled), call outcomes, SMS/email reminder history, and scheduling activity."}),n.jsx(cs,{title:"Usage and Device Data",children:"- IP address, browser type, device identifiers, and product usage metrics to improve reliability and performance."})]}),n.jsx(os,{title:"How We Use Your Information",icon:vn,children:n.jsxs(ny,{children:[n.jsx("li",{children:"Provide and operate the AI calling, texting, scheduling, and reminder features you configure."}),n.jsx("li",{children:"Maintain compliance settings, including consent flags, DNC suppression, opt-out handling, and legal calling hours per timezone."}),n.jsx("li",{children:"Deliver usage analytics, call/text/booking history, and reporting for your account."}),n.jsx("li",{children:"Integrate with calendars and supported CRMs to sync leads, calls, and appointments as requested by you."}),n.jsx("li",{children:"Monitor platform reliability, rate-limit traffic, and prevent telecom carrier flagging."}),n.jsx("li",{children:"Communicate product updates, security notices, and critical service alerts."})]})}),n.jsxs(os,{title:"Legal Bases for Processing",icon:Ci,children:[n.jsx(cs,{title:"Consent",children:"Where you provide consent (e.g., uploading leads with consent flags, enabling recordings)."}),n.jsx(cs,{title:"Contract",children:"To deliver the services under our Terms of Service."}),n.jsx(cs,{title:"Legitimate Interests",children:"To secure, maintain, and improve the platform."}),n.jsx(cs,{title:"Compliance with Laws",children:"To meet telecom, privacy, and consumer protection obligations."})]}),n.jsxs(os,{title:"How We Share Information",icon:JV,children:[n.jsx(cs,{title:"Service Providers",children:"Telecom, email, and SMS providers; hosting and analytics vendors who support platform operation."}),n.jsx(cs,{title:"CRM Integrations",children:"At your direction, we sync lead and appointment data to supported CRMs."}),n.jsx(cs,{title:"Legal and Safety",children:"We may disclose information to comply with law, enforce our terms, or protect rights, safety, and security."}),n.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"We do not sell your personal information."})]}),n.jsx(os,{title:"Compliance and Messaging Controls",icon:Ri,children:n.jsxs(ny,{children:[n.jsx("li",{children:"Consent per lead: CSV uploads must include a consent flag where applicable."}),n.jsx("li",{children:"DNC suppression: Upload and maintain Do Not Call lists; calls and texts to DNC numbers are blocked."}),n.jsx("li",{children:'Opt-out handling: SMS replies like "STOP" automatically unsubscribe the recipient.'}),n.jsx("li",{children:"Local time enforcement: Calls/texts are limited to legal hours in the leads timezone (e.g., 8am9pm)."}),n.jsx("li",{children:"Rate-limiting: Calls and messages may be batched or limited to avoid carrier flagging and ensure deliverability."})]})}),n.jsx(os,{title:"Data Retention",icon:Di,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We retain account, lead, and communication data for as long as your account is active or as needed to provide services and comply with legal obligations. You may request deletion of certain data at any time, subject to legal or operational limitations."})}),n.jsx(os,{title:"Your Privacy Choices",icon:Qr,children:n.jsxs(ny,{children:[n.jsx("li",{children:"Access, correct, or delete your account information."}),n.jsx("li",{children:"Manage consent flags and DNC lists for your leads."}),n.jsx("li",{children:"Disable recordings or integrations you no longer wish to use."}),n.jsx("li",{children:"Unsubscribe from non-essential communications via provided controls."})]})}),n.jsx(os,{title:"Security",icon:Ri,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We use industry-standard safeguards to protect information in transit and at rest. No method of transmission or storage is 100% secure. We continuously improve our technical and organizational measures to protect your data."})}),n.jsx(os,{title:"International Data Transfers",icon:Ci,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your information may be processed in regions where we or our service providers operate. We implement appropriate safeguards when transferring information across borders, consistent with applicable law."})}),n.jsx(os,{title:"Childrens Privacy",icon:m2,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Our services are not directed to children. We do not knowingly collect personal information from children. If you believe a child has provided information, contact us to request deletion."})}),n.jsx(os,{title:"Contact Us",icon:Ra,children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(Ra,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(vt,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"+447465884867"})]})]})}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(PC,{icon:oU,title:"Messaging Preferences",text:"Manage reminder templates, opt-out keywords, and quiet hours.",href:"#"}),n.jsx(PC,{icon:Tn,title:"Data Deletion Request",text:"Request deletion of recordings, logs, or lead data as allowed.",href:"#"})]}),n.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"This Privacy Policy may be updated to reflect changes to our practices. We will notify you of significant updates as required by law."})]})]})}function os({title:e,icon:t,children:a}){return n.jsxs("section",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(t,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:a})]})}function cs({title:e,children:t}){return n.jsxs("div",{className:"flex items-start gap-3 py-2",children:[n.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-900",children:e}),n.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:t})]})]})}function ny({children:e}){return n.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function PC({icon:e,title:t,text:a,href:r}){return n.jsx("a",{href:r,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(e,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t}),n.jsx("div",{className:"text-sm text-slate-600 truncate",children:a})]}),n.jsx(yn,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}function zW(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx(X2,{}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:n.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:n.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:n.jsx(_P,{className:"w-6 h-6"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Terms of Service"}),n.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx(UW,{}),n.jsx(Ca,{title:"1) Acceptance of Terms",icon:FU,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"By accessing or using our SaaS-based AI calling assistant platform (the Service), you agree to be bound by these Terms of Service (Terms). If you do not agree, do not use the Service. If you are using the Service on behalf of an organization, you represent that you have authority to bind that organization."})}),n.jsx(Ca,{title:"2) Accounts & Eligibility",icon:Ho,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"You must provide accurate registration information."}),n.jsx("li",{children:"You are responsible for safeguarding your credentials and for all activities under your account."}),n.jsx("li",{children:"You must be at least the age of majority in your jurisdiction to use the Service."})]})}),n.jsx(Ca,{title:"3) Use of Service & AI Communications",icon:vn,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"The Service provides AI-assisted outbound and inbound calling, messaging, scheduling, and reminder capabilities that you configure."}),n.jsx("li",{children:"You control the content and recipients of communications and are responsible for ensuring that your campaign settings comply with applicable laws."}),n.jsx("li",{children:"We may apply rate limits, concurrency limits, or other controls to maintain platform reliability and reduce carrier flagging."})]})}),n.jsx(Ca,{title:"4) Lead Data, Consent & Compliance",icon:Jo,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"You represent and warrant you have obtained all necessary permissions, consents, and legal bases to upload leads and to initiate calls or messages to those leads."}),n.jsx("li",{children:"You will respect Do Not Call (DNC) lists, honor opt-out requests, and comply with local time-of-day restrictions (e.g., 8am9pm in the leads timezone)."}),n.jsx("li",{children:"If you enable recordings, you are responsible for compliance with one-party or two-party consent rules as applicable."})]})}),n.jsx(Ca,{title:"5) Prohibited Activities",icon:rU,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"Sending spam or unlawful, deceptive, or abusive content."}),n.jsx("li",{children:"Engaging in harassment, discrimination, or any illegal activity."}),n.jsx("li",{children:"Attempting to compromise the Service, bypass security controls, or misuse APIs."}),n.jsx("li",{children:"Using the Service to contact individuals without a lawful basis or in violation of telecom/consumer protection laws."})]})}),n.jsx(Ca,{title:"6) Billing, Trials & Cancellations",icon:wP,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"Fees are charged per the plan you select. Taxes may apply. You authorize us (and our payment processor) to charge your payment method for all applicable fees."}),n.jsx("li",{children:"Trials (if offered) are for evaluation only and may be modified or terminated at any time."}),n.jsx("li",{children:"You can cancel at any time; cancellations take effect at the end of the current billing period. We generally do not provide refunds except where required by law."})]})}),n.jsx(Ca,{title:"7) Availability & Support",icon:Di,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We strive for high availability but do not guarantee uninterrupted Service. We may temporarily suspend access for maintenance, updates, or to address security or reliability issues."})}),n.jsx(Ca,{title:"8) Intellectual Property",icon:Nx,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"The Service, including all software, design assets, and related materials, is owned by us or our licensors and is protected by intellectual property laws. These Terms grant you a limited, non-exclusive, non-transferable right to use the Service for your internal business purposes."})}),n.jsx(Ca,{title:"9) Privacy",icon:Ri,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your use of the Service is also governed by our Privacy Policy, which describes how we collect, use, and safeguard information. Where there is a conflict between these Terms and the Privacy Policy, these Terms control to the extent of the conflict regarding Service usage obligations."})}),n.jsx(Ca,{title:"10) Warranties & Disclaimers",icon:m2,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE. TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE DO NOT WARRANT THAT THE SERVICE WILL BE ERROR-FREE OR UNINTERRUPTED."})}),n.jsx(Ca,{title:"11) Limitation of Liability",icon:gF,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, OR EXEMPLARY DAMAGES, OR FOR ANY LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL. OUR AGGREGATE LIABILITY FOR ALL CLAIMS RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNT PAID BY YOU TO US IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO THE CLAIM."})}),n.jsx(Ca,{title:"12) Indemnification",icon:Np,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"You agree to indemnify and hold us harmless from any claims, damages, liabilities, and expenses (including reasonable legal fees) arising from your use of the Service, your content, or your breach of these Terms or applicable laws."})}),n.jsx(Ca,{title:"13) Termination",icon:Ye,children:n.jsxs(Hc,{children:[n.jsx("li",{children:"You may stop using the Service at any time. We may suspend or terminate your access for violations of these Terms or misuse of the Service."}),n.jsx("li",{children:"Upon termination, your right to use the Service ceases. Certain provisions (e.g., IP ownership, indemnification, limitations of liability) survive termination."})]})}),n.jsx(Ca,{title:"14) Governing Law & Dispute Resolution",icon:Ci,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms are governed by the laws applicable to our principal place of business, without regard to conflict-of-law principles. Disputes will be resolved in the courts of that jurisdiction unless otherwise agreed in writing."})}),n.jsx(Ca,{title:"15) Changes to Terms",icon:Cj,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We may update these Terms from time to time. Material changes will be communicated through the Service or via email. Continued use of the Service after changes become effective constitutes acceptance of the updated Terms."})}),n.jsx(Ca,{title:"Contact Us",icon:Ra,children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(Ra,{className:"w-5 h-5"}),n.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(vt,{className:"w-5 h-5"}),n.jsx("span",{children:"+447465884867"})]})]})}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(MC,{icon:Cj,title:"Acceptable Use Guidelines",text:"Review examples of compliant campaigns and message templates.",href:"#"}),n.jsx(MC,{icon:Jo,title:"Compliance Checklist",text:"Consent flags, DNC lists, quiet hours, and opt-out handling.",href:"#"})]}),n.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"These Terms of Service may be updated from time to time. Please review them periodically."})]})]})}function UW(){return n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(_P,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"min-w-0",children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms of Service govern your use of our AI calling assistant platform, including outbound/inbound calls, messaging, reminders, scheduling, and integrations. Please read them carefully. By using the Service, you acknowledge and agree to these Terms."})})]})})}function Ca({title:e,icon:t,children:a}){return n.jsxs("section",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(t,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:a})]})}function Hc({children:e}){return n.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function MC({icon:e,title:t,text:a,href:r}){return n.jsx("a",{href:r,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(e,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t}),n.jsx("div",{className:"text-sm text-slate-600 truncate",children:a})]}),n.jsx(yn,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}var xD={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},DC=It.createContext&&It.createContext(xD),FW=["attr","size","title"];function VW(e,t){if(e==null)return{};var a=HW(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function HW(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function Tp(){return Tp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Tp.apply(this,arguments)}function RC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ep(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?RC(Object(a),!0).forEach(function(r){qW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):RC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qW(e,t,a){return t=KW(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KW(e){var t=GW(e,"string");return typeof t=="symbol"?t:t+""}function GW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gD(e){return e&&e.map((t,a)=>It.createElement(t.tag,Ep({key:a},t.attr),gD(t.child)))}function Vt(e){return t=>It.createElement(YW,Tp({attr:Ep({},e.attr)},t),gD(e.child))}function YW(e){var t=a=>{var{attr:r,size:s,title:l}=e,c=VW(e,FW),u=s||a.size||"1em",m;return a.className&&(m=a.className),e.className&&(m=(m?m+" ":"")+e.className),It.createElement("svg",Tp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:m,style:Ep(Ep({color:e.color||a.color},a.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&It.createElement("title",null,l),e.children)};return DC!==void 0?It.createElement(DC.Consumer,null,a=>t(a)):t(xD)}function WW(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function bD(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function vD(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function XW(e){return Vt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function yD(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function ZW(e){return Vt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function QW(e){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Z2(e){return Vt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function JW(e){return Vt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function jD(e){return Vt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function eX({compact:e=!1}){const t=x.useMemo(()=>[{text:"Make Calls",Icon:vt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:nr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Z2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Fa,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:nr,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=x.useState(0),[s,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=t[a].text,b=40,y=28,j=1100;let w;return!c&&s.length<g.length?w=setTimeout(()=>l(g.slice(0,s.length+1)),b):!c&&s.length===g.length?w=setTimeout(()=>u(!0),j):c&&s.length>0?w=setTimeout(()=>l(g.slice(0,s.length-1)),y):c&&s.length===0&&(u(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(w)},[s,c,a,t]);const{Icon:m,from:f,to:h}=t[a];return n.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${f}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${f}, ${h})`},children:s}),n.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function tX(){const[e,t]=x.useState(!1),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState({}),m=Zs(),f=dn();x.useEffect(()=>{const y=()=>{const j=window.innerWidth;l(j<768),t(j<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),x.useEffect(()=>{r(!1)},[m.pathname]),x.useEffect(()=>{const y=()=>{s?r(j=>!j):t(j=>!j)};return window.addEventListener("app:toggle-sidebar",y),()=>window.removeEventListener("app:toggle-sidebar",y)},[s]);const h=y=>m.pathname===y,g=[{id:"dashboard",label:"Dashboard",icon:o2,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:vt,href:"/user/callhistory",color:"text-orange-600"},{id:"assistants",label:"Assistants",icon:Z2,color:"text-green-600",type:"group",children:[{id:"callassistant",label:"Call Assistant",icon:vt,href:"/user/callassistent",color:"text-green-600"},{id:"textassistant",label:"Text Assistant",icon:_f,href:"/user/TextAssistants",color:"text-indigo-600"}]},{id:"Leads",label:"Leads",icon:Fa,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:nr,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:u2,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:QW,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:Tv,href:"/user/Appointments",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:Hs,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:NP,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:WW,href:"/user/FacebookForms",color:"text-blue-600"}]},{id:"Calender",label:"Events",icon:Tv,href:"/user/Calender",color:"text-purple-600"},{id:"PricingSection",label:"PricingSection",icon:Tv,href:"/user/PricingSection",color:"text-purple-600"}];x.useEffect(()=>{const y=g.filter(w=>w.type==="group"),j={};y.forEach(w=>{var S;(S=w.children)!=null&&S.some(k=>h(k.href))&&(j[w.id]=!0)}),Object.keys(j).length>0&&u(w=>({...w,...j}))},[m.pathname]);const b=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(eX,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:g.map(y=>{var _;if(y.type==="group"){const C=y.icon,O=(_=y.children)==null?void 0:_.some(I=>h(I.href)),T=c[y.id]===!0,E=()=>{e&&!s?(t(!1),u(I=>({...I,[y.id]:!0}))):u(I=>({...I,[y.id]:!I[y.id]}))};return n.jsxs("div",{className:"group",children:[n.jsxs("button",{type:"button",onClick:E,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${O?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[O&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!s?"w-6 h-6":"w-5 h-5"}
                      ${O?y.color:"text-slate-500 group-hover:text-slate-700"}
                      ${O?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),n.jsx("span",{className:"ml-auto text-slate-500",children:T?n.jsx(jP,{className:"w-4 h-4"}):n.jsx(yP,{className:"w-4 h-4"})})]})]}),n.jsx(At,{initial:!1,children:T&&n.jsx(pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`${e&&!s?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:y.children.map(I=>{const M=I.icon,V=h(I.href);return n.jsxs("button",{type:"button",onClick:()=>f(I.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                              ${V?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                              p-2`,title:I.label,children:[n.jsx(M,{className:`w-4 h-4 ${V?I.color:"text-slate-400 group-hover:text-slate-600"}`}),n.jsx("span",{className:"text-sm",children:I.label}),V&&n.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},I.id)})},`${y.id}-children`)})]},y.id)}const j=y.icon,w=h(y.href),S=w&&(!e||s)?s?"pl-5":"pl-4":"",k=e&&!s?"gap-0":s?"gap-4":"gap-3";return n.jsxs("button",{type:"button",onClick:()=>f(y.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${w?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${S}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[w&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(j,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${w?y.color:"text-slate-500 group-hover:text-slate-700"}
                    ${w?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),w&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},y.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(y=>!y),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(yn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(Da,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})})]})]})}function nX(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(tX,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(X2,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx(aP,{})})]})]})}var ay={},ry={},$C;function aX(){return $C||($C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t}(ry)),ry}var sy={},LC;function wD(){return LC||(LC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t}(sy)),sy}var iy={},IC;function ND(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var r;return typeof a=="string"||typeof a=="symbol"?a:Object.is((r=a==null?void 0:a.valueOf)==null?void 0:r.call(a),-0)?"-0":String(a)}e.toKey=t}(iy)),iy}var ly={},BC;function Q2(){return BC||(BC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){const r=[],s=a.length;if(s===0)return r;let l=0,c="",u="",m=!1;for(a.charCodeAt(0)===46&&(r.push(""),l++);l<s;){const f=a[l];u?f==="\\"&&l+1<s?(l++,c+=a[l]):f===u?u="":c+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,r.push(c),c=""):c+=f:f==="["?(m=!0,c&&(r.push(c),c="")):f==="."?c&&(r.push(c),c=""):c+=f,l++}return c&&r.push(c),r}e.toPath=t}(ly)),ly}var zC;function J2(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aX(),a=wD(),r=ND(),s=Q2();function l(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const h=u[m];return h===void 0?a.isDeepKey(m)?l(u,s.toPath(m),f):f:h}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const h=u[m];return h===void 0?f:h}default:{if(Array.isArray(m))return c(u,m,f);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const h=u[m];return h===void 0?f:h}}}function c(u,m,f){if(m.length===0)return f;let h=u;for(let g=0;g<m.length;g++){if(h==null||t.isUnsafeProperty(m[g]))return f;h=h[m[g]]}return h===void 0?f:h}e.get=l}(ay)),ay}var oy,UC;function rX(){return UC||(UC=1,oy=J2().get),oy}var sX=rX();const Vl=Ss(sX);var cy={exports:{}},Zt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FC;function iX(){if(FC)return Zt;FC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case a:case s:case r:case m:case f:case b:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case g:case h:return w;case l:return w;default:return S}}case t:return S}}}return Zt.ContextConsumer=l,Zt.ContextProvider=c,Zt.Element=e,Zt.ForwardRef=u,Zt.Fragment=a,Zt.Lazy=g,Zt.Memo=h,Zt.Portal=t,Zt.Profiler=s,Zt.StrictMode=r,Zt.Suspense=m,Zt.SuspenseList=f,Zt.isContextConsumer=function(w){return j(w)===l},Zt.isContextProvider=function(w){return j(w)===c},Zt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Zt.isForwardRef=function(w){return j(w)===u},Zt.isFragment=function(w){return j(w)===a},Zt.isLazy=function(w){return j(w)===g},Zt.isMemo=function(w){return j(w)===h},Zt.isPortal=function(w){return j(w)===t},Zt.isProfiler=function(w){return j(w)===s},Zt.isStrictMode=function(w){return j(w)===r},Zt.isSuspense=function(w){return j(w)===m},Zt.isSuspenseList=function(w){return j(w)===f},Zt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===a||w===s||w===r||w===m||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===c||w.$$typeof===l||w.$$typeof===u||w.$$typeof===y||w.getModuleId!==void 0)},Zt.typeOf=j,Zt}var VC;function lX(){return VC||(VC=1,cy.exports=iX()),cy.exports}var oX=lX(),oa=e=>e===0?0:e>0?1:-1,Cr=e=>typeof e=="number"&&e!=+e,Bo=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Qe=e=>(typeof e=="number"||e instanceof Number)&&!Cr(e),Ws=e=>Qe(e)||typeof e=="string",cX=0,sf=e=>{var t=++cX;return"".concat(e||"").concat(t)},Ga=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(t)&&typeof t!="string")return r;var l;if(Bo(t)){if(a==null)return r;var c=t.indexOf("%");l=a*parseFloat(t.slice(0,c))/100}else l=+t;return Cr(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},SD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1},HC=(e,t)=>Qe(e)&&Qe(t)?a=>e+a*(t-e):()=>t;function xs(e,t,a){return Qe(e)&&Qe(t)?e+a*(t-e):t}function _D(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Vl(r,t))===a)}var cn=e=>e===null||typeof e>"u",Of=e=>cn(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),dX=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function eN(e){if(typeof e!="string")return!1;var t=dX;return t.includes(e)}var uX=["viewBox","children"],qC=["points","pathLength"],dy={svg:uX,polygon:qC,polyline:qC},tN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{eN(s)&&(r[s]=l=>a[s](a,l))}),r},mX=(e,t,a)=>r=>(e(t,a,r),null),Px=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];eN(s)&&typeof l=="function"&&(r||(r={}),r[s]=mX(l,t,a))}),r},fX=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function kD(e){if(typeof e!="string")return!1;var t=fX;return t.includes(e)}function Hi(e){var t=Object.entries(e).filter(a=>{var[r]=a;return kD(r)});return Object.fromEntries(t)}var KC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",GC=null,uy=null,CD=e=>{if(e===GC&&Array.isArray(uy))return uy;var t=[];return x.Children.forEach(e,a=>{cn(a)||(oX.isFragment(a)?t=t.concat(CD(a.props.children)):t.push(a))}),uy=t,GC=e,t};function Pf(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>KC(s)):r=[KC(t)],CD(e).forEach(s=>{var l=Vl(s,"type.displayName")||Vl(s,"type.name");r.indexOf(l)!==-1&&a.push(s)}),a}var AD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,hX=(e,t,a,r)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=r&&(dy==null?void 0:dy[r]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&l.includes(t)||kD(t)),m=!!a&&eN(t);return c||u||m},fn=(e,t,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(l=>{var c;hX((c=r)===null||c===void 0?void 0:c[l],l,t,a)&&(s[l]=r[l])}),s},pX=["children","width","height","viewBox","className","style","title","desc"];function Xj(){return Xj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Xj.apply(null,arguments)}function xX(e,t){if(e==null)return{};var a,r,s=gX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function gX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var TD=x.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:u,title:m,desc:f}=e,h=xX(e,pX),g=l||{width:r,height:s,x:0,y:0},b=_t("recharts-surface",c);return x.createElement("svg",Xj({},fn(h,!0,"svg"),{className:b,width:r,height:s,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,f),a)}),bX=["children","className"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zj.apply(null,arguments)}function vX(e,t){if(e==null)return{};var a,r,s=yX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var $a=x.forwardRef((e,t)=>{var{children:a,className:r}=e,s=vX(e,bX),l=_t("recharts-layer",r);return x.createElement("g",Zj({className:l},fn(s,!0),{ref:t}),a)}),jX=x.createContext(null);function an(e){return function(){return e}}const ED=Math.cos,Op=Math.sin,ks=Math.sqrt,Pp=Math.PI,Mx=2*Pp,Qj=Math.PI,Jj=2*Qj,To=1e-6,wX=Jj-To;function OD(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function NX(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return OD;const a=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class SX{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?OD:NX(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,l,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,a,r,s,l){if(t=+t,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,m=r-t,f=s-a,h=c-t,g=u-a,b=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(b>To)if(!(Math.abs(g*m-f*h)>To)||!l)this._append`L${this._x1=t},${this._y1=a}`;else{let y=r-c,j=s-u,w=m*m+f*f,S=y*y+j*j,k=Math.sqrt(w),_=Math.sqrt(b),C=l*Math.tan((Qj-Math.acos((w+b-S)/(2*k*_)))/2),O=C/_,T=C/k;Math.abs(O-1)>To&&this._append`L${t+O*h},${a+O*g}`,this._append`A${l},${l},0,0,${+(g*y>h*j)},${this._x1=t+T*m},${this._y1=a+T*f}`}}arc(t,a,r,s,l,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(s),m=r*Math.sin(s),f=t+u,h=a+m,g=1^c,b=c?s-l:l-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>To||Math.abs(this._y1-h)>To)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%Jj+Jj),b>wX?this._append`A${r},${r},0,1,${g},${t-u},${a-m}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:b>To&&this._append`A${r},${r},0,${+(b>=Qj)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function nN(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new SX(t)}function aN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function PD(e){this._context=e}PD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Dx(e){return new PD(e)}function MD(e){return e[0]}function DD(e){return e[1]}function RD(e,t){var a=an(!0),r=null,s=Dx,l=null,c=nN(u);e=typeof e=="function"?e:e===void 0?MD:an(e),t=typeof t=="function"?t:t===void 0?DD:an(t);function u(m){var f,h=(m=aN(m)).length,g,b=!1,y;for(r==null&&(l=s(y=c())),f=0;f<=h;++f)!(f<h&&a(g=m[f],f,m))===b&&((b=!b)?l.lineStart():l.lineEnd()),b&&l.point(+e(g,f,m),+t(g,f,m));if(y)return l=null,y+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:an(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:an(+m),u):t},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:an(!!m),u):a},u.curve=function(m){return arguments.length?(s=m,r!=null&&(l=s(r)),u):s},u.context=function(m){return arguments.length?(m==null?r=l=null:l=s(r=m),u):r},u}function d0(e,t,a){var r=null,s=an(!0),l=null,c=Dx,u=null,m=nN(f);e=typeof e=="function"?e:e===void 0?MD:an(+e),t=typeof t=="function"?t:an(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?DD:an(+a);function f(g){var b,y,j,w=(g=aN(g)).length,S,k=!1,_,C=new Array(w),O=new Array(w);for(l==null&&(u=c(_=m())),b=0;b<=w;++b){if(!(b<w&&s(S=g[b],b,g))===k)if(k=!k)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=b-1;j>=y;--j)u.point(C[j],O[j]);u.lineEnd(),u.areaEnd()}k&&(C[b]=+e(S,b,g),O[b]=+t(S,b,g),u.point(r?+r(S,b,g):C[b],a?+a(S,b,g):O[b]))}if(_)return u=null,_+""||null}function h(){return RD().defined(s).curve(c).context(l)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:an(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:an(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:an(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:an(+g),a=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:an(+g),f):t},f.y1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:an(+g),f):a},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(a)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:an(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,l!=null&&(u=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=u=null:u=c(l=g),f):l},f}class $D{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function _X(e){return new $D(e,!0)}function kX(e){return new $D(e,!1)}const rN={draw(e,t){const a=ks(t/Pp);e.moveTo(a,0),e.arc(0,0,a,0,Mx)}},CX={draw(e,t){const a=ks(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},LD=ks(1/3),AX=LD*2,TX={draw(e,t){const a=ks(t/AX),r=a*LD;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},EX={draw(e,t){const a=ks(t),r=-a/2;e.rect(r,r,a,a)}},OX=.8908130915292852,ID=Op(Pp/10)/Op(7*Pp/10),PX=Op(Mx/10)*ID,MX=-ED(Mx/10)*ID,DX={draw(e,t){const a=ks(t*OX),r=PX*a,s=MX*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=Mx*l/5,u=ED(c),m=Op(c);e.lineTo(m*a,-u*a),e.lineTo(u*r-m*s,m*r+u*s)}e.closePath()}},my=ks(3),RX={draw(e,t){const a=-ks(t/(my*3));e.moveTo(0,a*2),e.lineTo(-my*a,-a),e.lineTo(my*a,-a),e.closePath()}},Hr=-.5,qr=ks(3)/2,ew=1/ks(12),$X=(ew/2+1)*3,LX={draw(e,t){const a=ks(t/$X),r=a/2,s=a*ew,l=r,c=a*ew+a,u=-l,m=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(u,m),e.lineTo(Hr*r-qr*s,qr*r+Hr*s),e.lineTo(Hr*l-qr*c,qr*l+Hr*c),e.lineTo(Hr*u-qr*m,qr*u+Hr*m),e.lineTo(Hr*r+qr*s,Hr*s-qr*r),e.lineTo(Hr*l+qr*c,Hr*c-qr*l),e.lineTo(Hr*u+qr*m,Hr*m-qr*u),e.closePath()}};function IX(e,t){let a=null,r=nN(s);e=typeof e=="function"?e:an(e||rN),t=typeof t=="function"?t:an(t===void 0?64:+t);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:an(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:an(+l),s):t},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function Mp(){}function Dp(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function BD(e){this._context=e}BD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function BX(e){return new BD(e)}function zD(e){this._context=e}zD.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function zX(e){return new zD(e)}function UD(e){this._context=e}UD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:Dp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function UX(e){return new UD(e)}function FD(e){this._context=e}FD.prototype={areaStart:Mp,areaEnd:Mp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function FX(e){return new FD(e)}function YC(e){return e<0?-1:1}function WC(e,t,a){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),u=(l*s+c*r)/(r+s);return(YC(l)+YC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function XC(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function fy(e,t,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,s+u*t,l-u,c-u*a,l,c)}function Rp(e){this._context=e}Rp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:fy(this,this._t0,XC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,fy(this,XC(this,a=WC(this,e,t)),a);break;default:fy(this,this._t0,a=WC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function VD(e){this._context=new HD(e)}(VD.prototype=Object.create(Rp.prototype)).point=function(e,t){Rp.prototype.point.call(this,t,e)};function HD(e){this._context=e}HD.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,l){this._context.bezierCurveTo(t,e,r,a,l,s)}};function VX(e){return new Rp(e)}function HX(e){return new VD(e)}function qD(e){this._context=e}qD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=ZC(e),s=ZC(t),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function ZC(e){var t,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/l[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function qX(e){return new qD(e)}function Rx(e,t){this._context=e,this._t=t}Rx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function KX(e){return new Rx(e,.5)}function GX(e){return new Rx(e,0)}function YX(e){return new Rx(e,1)}function Dd(e,t){if((c=e.length)>1)for(var a=1,r,s,l=e[t[0]],c,u=l.length;a<c;++a)for(s=l,l=e[t[a]],r=0;r<u;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function tw(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function WX(e,t){return e[t]}function XX(e){const t=[];return t.key=e,t}function ZX(){var e=an([]),t=tw,a=Dd,r=WX;function s(l){var c=Array.from(e.apply(this,arguments),XX),u,m=c.length,f=-1,h;for(const g of l)for(u=0,++f;u<m;++u)(c[u][f]=[0,+r(g,c[u].key,f,l)]).data=g;for(u=0,h=aN(t(c));u<m;++u)c[h[u]].index=u;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:an(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:an(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?tw:typeof l=="function"?l:an(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(a=l??Dd,s):a},s}function QX(e,t){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}Dd(e,t)}}function JX(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,l=r.length;a<l;++a){for(var c=0,u=0;c<s;++c)u+=e[c][a][1]||0;r[a][1]+=r[a][0]=-u/2}Dd(e,t)}}function eZ(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var u=0,m=0,f=0;u<c;++u){for(var h=e[t[u]],g=h[r][1]||0,b=h[r-1][1]||0,y=(g-b)/2,j=0;j<u;++j){var w=e[t[j]],S=w[r][1]||0,k=w[r-1][1]||0;y+=S-k}m+=g,f+=y*g}s[r-1][1]+=s[r-1][0]=a,m&&(a-=f/m)}s[r-1][1]+=s[r-1][0]=a,Dd(e,t)}}var tZ=["type","size","sizeType"];function nw(){return nw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},nw.apply(null,arguments)}function QC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function JC(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(a),!0).forEach(function(r){nZ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):QC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function nZ(e,t,a){return(t=aZ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aZ(e){var t=rZ(e,"string");return typeof t=="symbol"?t:t+""}function rZ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sZ(e,t){if(e==null)return{};var a,r,s=iZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function iZ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var KD={symbolCircle:rN,symbolCross:CX,symbolDiamond:TX,symbolSquare:EX,symbolStar:DX,symbolTriangle:RX,symbolWye:LX},lZ=Math.PI/180,oZ=e=>{var t="symbol".concat(Of(e));return KD[t]||rN},cZ=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*lZ;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},dZ=(e,t)=>{KD["symbol".concat(Of(e))]=t},GD=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=sZ(e,tZ),l=JC(JC({},s),{},{type:t,size:a,sizeType:r}),c=()=>{var g=oZ(t),b=IX().type(g).size(cZ(a,r,t));return b()},{className:u,cx:m,cy:f}=l,h=fn(l,!0);return m===+m&&f===+f&&a===+a?x.createElement("path",nw({},h,{className:_t("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:c()})):null};GD.registerSymbol=dZ;var hy={},py={},eA;function uZ(){return eA||(eA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],u=r(c);s.has(u)||s.set(u,c)}return Array.from(s.values())}e.uniqBy=t}(py)),py}var xy={},tA;function YD(){return tA||(tA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t}(xy)),xy}var gy={},by={},vy={},nA;function mZ(){return nA||(nA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t}(vy)),vy}var aA;function sN(){return aA||(aA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mZ();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a}(by)),by}var yy={},rA;function fZ(){return rA||(rA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t}(yy)),yy}var sA;function hZ(){return sA||(sA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sN(),a=fZ();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(gy)),gy}var jy={},wy={},iA;function pZ(){return iA||(iA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J2();function a(r){return function(s){return t.get(s,r)}}e.property=a}(wy)),wy}var Ny={},Sy={},_y={},ky={},lA;function WD(){return lA||(lA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t}(ky)),ky}var Cy={},oA;function XD(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t}(Cy)),Cy}var Ay={},cA;function iN(){return cA||(cA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t}(Ay)),Ay}var dA;function xZ(){return dA||(dA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN(),a=WD(),r=XD(),s=iN();function l(g,b,y){return typeof y!="function"?t.isMatch(g,b):c(g,b,function j(w,S,k,_,C,O){const T=y(w,S,k,_,C,O);return T!==void 0?!!T:c(w,S,j,O)},new Map)}function c(g,b,y,j){if(b===g)return!0;switch(typeof b){case"object":return u(g,b,y,j);case"function":return Object.keys(b).length>0?c(g,{...b},y,j):s.eq(g,b);default:return a.isObject(g)?typeof b=="string"?b==="":!0:s.eq(g,b)}}function u(g,b,y,j){if(b==null)return!0;if(Array.isArray(b))return f(g,b,y,j);if(b instanceof Map)return m(g,b,y,j);if(b instanceof Set)return h(g,b,y,j);const w=Object.keys(b);if(g==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(b))return j.get(b)===g;j&&j.set(b,g);try{for(let S=0;S<w.length;S++){const k=w[S];if(!r.isPrimitive(g)&&!(k in g)||b[k]===void 0&&g[k]!==void 0||b[k]===null&&g[k]!==null||!y(g[k],b[k],k,g,b,j))return!1}return!0}finally{j&&j.delete(b)}}function m(g,b,y,j){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,S]of b.entries()){const k=g.get(w);if(y(k,S,w,g,b,j)===!1)return!1}return!0}function f(g,b,y,j){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let S=0;S<b.length;S++){const k=b[S];let _=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const O=g[C];let T=!1;if(y(O,k,S,g,b,j)&&(T=!0),T){w.add(C),_=!0;break}}if(!_)return!1}return!0}function h(g,b,y,j){return b.size===0?!0:g instanceof Set?f([...g],[...b],y,j):!1}e.isMatchWith=l,e.isSetMatch=h}(_y)),_y}var uA;function lN(){return uA||(uA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=xZ();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a}(Sy)),Sy}var Ty={},Ey={},Oy={},mA;function ZD(){return mA||(mA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t}(Oy)),Oy}var Py={},fA;function oN(){return fA||(fA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t}(Py)),Py}var My={},hA;function cN(){return hA||(hA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",j="[object Error]",w="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",O="[object BigUint64Array]",T="[object Int8Array]",E="[object Int16Array]",I="[object Int32Array]",M="[object BigInt64Array]",V="[object Float32Array]",Y="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=O,e.booleanTag=s,e.dataViewTag=w,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=V,e.float64ArrayTag=Y,e.functionTag=g,e.int16ArrayTag=E,e.int32ArrayTag=I,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k}(My)),My}var Dy={},pA;function gZ(){return pA||(pA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t}(Dy)),Dy}var xA;function QD(){return xA||(xA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZD(),a=oN(),r=cN(),s=XD(),l=gZ();function c(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,b,y=new Map,j=void 0){const w=j==null?void 0:j(h,g,b,y);if(w!==void 0)return w;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=u(h[k],k,b,y,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[k,_]of h)S.set(k,u(_,k,b,y,j));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const k of h)S.add(u(k,void 0,b,y,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=u(h[k],k,b,y,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),m(S,h,b,y,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),m(S,h,b,y,j),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),m(S,h,b,y,j),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,m(S,h,b,y,j),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),m(S,h,b,y,j),S}return h}function m(h,g,b=h,y,j){const w=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<w.length;S++){const k=w[S],_=Object.getOwnPropertyDescriptor(h,k);(_==null||_.writable)&&(h[k]=u(g[k],k,b,y,j))}}function f(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=m}(Ey)),Ey}var gA;function bZ(){return gA||(gA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a}(Ty)),Ty}var bA;function vZ(){return bA||(bA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN(),a=bZ();function r(s){return s=a.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r}(Ny)),Ny}var Ry={},$y={},Ly={},vA;function yZ(){return vA||(vA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QD(),a=cN();function r(s,l){return t.cloneDeepWith(s,(c,u,m,f)=>{const h=l==null?void 0:l(c,u,m,f);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case a.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r}(Ly)),Ly}var yA;function jZ(){return yA||(yA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yZ();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a}($y)),$y}var Iy={},By={},jA;function JD(){return jA||(jA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a}(By)),By}var zy={},wA;function wZ(){return wA||(wA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=oN();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a}(zy)),zy}var NA;function NZ(){return NA||(NA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=wD(),a=JD(),r=wZ(),s=Q2();function l(c,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(c==null?void 0:c[u])==null?m=s.toPath(u):m=[u],m.length===0)return!1;let f=c;for(let h=0;h<m.length;h++){const g=m[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=l}(Iy)),Iy}var SA;function SZ(){return SA||(SA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=lN(),a=ND(),r=jZ(),s=J2(),l=NZ();function c(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=a.toKey(u);break}}return m=r.cloneDeep(m),function(f){const h=s.get(f,u);return h===void 0?l.has(f,u):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=c}(Ry)),Ry}var _A;function _Z(){return _A||(_A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YD(),a=pZ(),r=vZ(),s=SZ();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l}(jy)),jy}var kA;function kZ(){return kA||(kA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uZ(),a=YD(),r=hZ(),s=_Z();function l(c,u=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(u)):[]}e.uniqBy=l}(hy)),hy}var Uy,CA;function CZ(){return CA||(CA=1,Uy=kZ().uniqBy),Uy}var AZ=CZ();const AA=Ss(AZ);function TZ(e,t,a){return t===!0?AA(e,a):typeof t=="function"?AA(e,t):e}var Fy={exports:{}},Vy={},Hy={exports:{}},qy={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TA;function EZ(){if(TA)return qy;TA=1;var e=Hd();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,b){var y=b(),j=r({inst:{value:y,getSnapshot:b}}),w=j[0].inst,S=j[1];return l(function(){w.value=y,w.getSnapshot=b,m(w)&&S({inst:w})},[g,y,b]),s(function(){return m(w)&&S({inst:w}),g(function(){m(w)&&S({inst:w})})},[g]),c(y),y}function m(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!a(g,y)}catch{return!0}}function f(g,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return qy.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,qy}var EA;function OZ(){return EA||(EA=1,Hy.exports=EZ()),Hy.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OA;function PZ(){if(OA)return Vy;OA=1;var e=Hd(),t=OZ();function a(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Vy.useSyncExternalStoreWithSelector=function(f,h,g,b,y){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function k(E){if(!_){if(_=!0,C=E,E=b(E),y!==void 0&&w.hasValue){var I=w.value;if(y(I,E))return O=I}return O=E}if(I=O,r(C,E))return I;var M=b(E);return y!==void 0&&y(I,M)?(C=E,I):(C=E,O=M)}var _=!1,C,O,T=g===void 0?null:g;return[function(){return k(h())},T===null?void 0:function(){return k(T())}]},[h,g,b,y]);var S=s(f,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),m(S),S},Vy}var PA;function MZ(){return PA||(PA=1,Fy.exports=PZ()),Fy.exports}var DZ=MZ(),dN=x.createContext(null),RZ=e=>e,Rn=()=>{var e=x.useContext(dN);return e?e.store.dispatch:RZ},up=()=>{},$Z=()=>up,LZ=(e,t)=>e===t;function rt(e){var t=x.useContext(dN);return DZ.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:$Z,t?t.store.getState:up,t?t.store.getState:up,t?e:up,LZ)}function IZ(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function BZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function zZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var MA=e=>Array.isArray(e)?e:[e];function UZ(e){const t=Array.isArray(e[0])?e[0]:e;return zZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function FZ(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var VZ=class{constructor(e){this.value=e}deref(){return this.value}},HZ=typeof WeakRef<"u"?WeakRef:VZ,qZ=0,DA=1;function u0(){return{s:qZ,v:void 0,o:null,p:null}}function e8(e,t={}){let a=u0();const{resultEqualityCheck:r}=t;let s,l=0;function c(){var g;let u=a;const{length:m}=arguments;for(let b=0,y=m;b<y;b++){const j=arguments[b];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(j);S===void 0?(u=u0(),w.set(j,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(j);S===void 0?(u=u0(),w.set(j,u)):u=S}}const f=u;let h;if(u.s===DA)h=u.v;else if(h=e.apply(null,arguments),l++,r){const b=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;b!=null&&r(b,h)&&(h=b,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new HZ(h):h}return f.s=DA,f.v=h,h}return c.clearCache=()=>{a=u0(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function KZ(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,u,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),IZ(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...a,...m},{memoize:g,memoizeOptions:b=[],argsMemoize:y=e8,argsMemoizeOptions:j=[]}=h,w=MA(b),S=MA(j),k=UZ(s),_=g(function(){return l++,f.apply(null,arguments)},...w),C=y(function(){c++;const T=FZ(k,arguments);return u=_.apply(null,T),u},...S);return Object.assign(C,{resultFunc:f,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Te=KZ(e8),GZ=Object.assign((e,t=Te)=>{BZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,u,m)=>(c[a[m]]=u,c),{}))},{withTypes:()=>GZ}),Ky={},Gy={},Yy={},RA;function YZ(){return RA||(RA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=t(r),u=t(s);if(c===u&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=a}(Yy)),Yy}var Wy={},Xy={},$A;function t8(){return $A||($A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t}(Xy)),Xy}var LA;function WZ(){return LA||(LA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t8(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(Wy)),Wy}var IA;function XZ(){return IA||(IA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YZ(),a=WZ(),r=Q2();function s(l,c,u,m){if(l==null)return[];u=m?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,j)=>{let w=y;for(let S=0;S<j.length&&w!=null;++S)w=w[j[S]];return w},h=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:f(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?f(j,y):typeof j=="object"?j[y]:j,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||a.isKey(y)?y:{key:y,path:r.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(j=>h(j,y))})).slice().sort((y,j)=>{for(let w=0;w<g.length;w++){const S=t.compareValues(y.criteria[w],j.criteria[w],u[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=s}(Gy)),Gy}var Zy={},BA;function ZZ(){return BA||(BA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],l=Math.floor(r),c=(u,m)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&m<l?c(h,m+1):s.push(h)}};return c(a,0),s}e.flatten=t}(Zy)),Zy}var Qy={},zA;function n8(){return zA||(zA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JD(),a=sN(),r=WD(),s=iN();function l(c,u,m){return r.isObject(m)&&(typeof u=="number"&&a.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?s.eq(m[u],c):!1}e.isIterateeCall=l}(Qy)),Qy}var UA;function QZ(){return UA||(UA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=XZ(),a=ZZ(),r=n8();function s(l,...c){const u=c.length;return u>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s}(Ky)),Ky}var Jy,FA;function JZ(){return FA||(FA=1,Jy=QZ().sortBy),Jy}var eQ=JZ();const $x=Ss(eQ);var a8=e=>e.legend.settings,tQ=e=>e.legend.size,nQ=e=>e.legend.payload;Te([nQ,a8],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?$x(r,a):r});var m0=1;function aQ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>m0||Math.abs(c.left-t.left)>m0||Math.abs(c.top-t.top)>m0||Math.abs(c.width-t.width)>m0)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function ba(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var rQ=typeof Symbol=="function"&&Symbol.observable||"@@observable",VA=rQ,e1=()=>Math.random().toString(36).substring(7).split("").join("."),sQ={INIT:`@@redux/INIT${e1()}`,REPLACE:`@@redux/REPLACE${e1()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e1()}`},$p=sQ;function uN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function r8(e,t,a){if(typeof e!="function")throw new Error(ba(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(ba(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(ba(1));return a(r8)(e,t)}let r=e,s=t,l=new Map,c=l,u=0,m=!1;function f(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function h(){if(m)throw new Error(ba(3));return s}function g(S){if(typeof S!="function")throw new Error(ba(4));if(m)throw new Error(ba(5));let k=!0;f();const _=u++;return c.set(_,S),function(){if(k){if(m)throw new Error(ba(6));k=!1,f(),c.delete(_),l=null}}}function b(S){if(!uN(S))throw new Error(ba(7));if(typeof S.type>"u")throw new Error(ba(8));if(typeof S.type!="string")throw new Error(ba(17));if(m)throw new Error(ba(9));try{m=!0,s=r(s,S)}finally{m=!1}return(l=c).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(ba(10));r=S,b({type:$p.REPLACE})}function j(){const S=g;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(ba(11));function _(){const O=k;O.next&&O.next(h())}return _(),{unsubscribe:S(_)}},[VA](){return this}}}return b({type:$p.INIT}),{dispatch:b,subscribe:g,getState:h,replaceReducer:y,[VA]:j}}function iQ(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:$p.INIT})>"u")throw new Error(ba(12));if(typeof a(void 0,{type:$p.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ba(13))})}function s8(e){const t=Object.keys(e),a={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{iQ(a)}catch(l){s=l}return function(c={},u){if(s)throw s;let m=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],b=a[g],y=c[g],j=b(y,u);if(typeof j>"u")throw u&&u.type,new Error(ba(14));f[g]=j,m=m||j!==y}return m=m||r.length!==Object.keys(c).length,m?f:c}}function Lp(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function lQ(...e){return t=>(a,r)=>{const s=t(a,r);let l=()=>{throw new Error(ba(15))};const c={getState:s.getState,dispatch:(m,...f)=>l(m,...f)},u=e.map(m=>m(c));return l=Lp(...u)(s.dispatch),{...s,dispatch:l}}}function i8(e){return uN(e)&&"type"in e&&typeof e.type=="string"}var l8=Symbol.for("immer-nothing"),HA=Symbol.for("immer-draftable"),Ar=Symbol.for("immer-state");function bs(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Rd=Object.getPrototypeOf;function tc(e){return!!e&&!!e[Ar]}function Bi(e){var t;return e?o8(e)||Array.isArray(e)||!!e[HA]||!!((t=e.constructor)!=null&&t[HA])||Ix(e)||Bx(e):!1}var oQ=Object.prototype.constructor.toString();function o8(e){if(!e||typeof e!="object")return!1;const t=Rd(e);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===oQ}function Ip(e,t){Lx(e)===0?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,r)=>t(r,a,e))}function Lx(e){const t=e[Ar];return t?t.type_:Array.isArray(e)?1:Ix(e)?2:Bx(e)?3:0}function aw(e,t){return Lx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function c8(e,t,a){const r=Lx(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function cQ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Ix(e){return e instanceof Map}function Bx(e){return e instanceof Set}function Eo(e){return e.copy_||e.base_}function rw(e,t){if(Ix(e))return new Map(e);if(Bx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=o8(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[Ar];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(Rd(e),r)}else{const r=Rd(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function mN(e,t=!1){return zx(e)||tc(e)||!Bi(e)||(Lx(e)>1&&(e.set=e.add=e.clear=e.delete=dQ),Object.freeze(e),t&&Object.entries(e).forEach(([a,r])=>mN(r,!0))),e}function dQ(){bs(2)}function zx(e){return Object.isFrozen(e)}var uQ={};function nc(e){const t=uQ[e];return t||bs(0,e),t}var lf;function d8(){return lf}function mQ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function qA(e,t){t&&(nc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function sw(e){iw(e),e.drafts_.forEach(fQ),e.drafts_=null}function iw(e){e===lf&&(lf=e.parent_)}function KA(e){return lf=mQ(lf,e)}function fQ(e){const t=e[Ar];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function GA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[Ar].modified_&&(sw(t),bs(4)),Bi(e)&&(e=Bp(t,e),t.parent_||zp(t,e)),t.patches_&&nc("Patches").generateReplacementPatches_(a[Ar].base_,e,t.patches_,t.inversePatches_)):e=Bp(t,a,[]),sw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==l8?e:void 0}function Bp(e,t,a){if(zx(t))return t;const r=t[Ar];if(!r)return Ip(t,(s,l)=>YA(e,r,t,s,l,a)),t;if(r.scope_!==e)return t;if(!r.modified_)return zp(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),Ip(l,(u,m)=>YA(e,r,s,u,m,a,c)),zp(e,s,!1),a&&e.patches_&&nc("Patches").generatePatches_(r,a,e.patches_,e.inversePatches_)}return r.copy_}function YA(e,t,a,r,s,l,c){if(tc(s)){const u=l&&t&&t.type_!==3&&!aw(t.assigned_,r)?l.concat(r):void 0,m=Bp(e,s,u);if(c8(a,r,m),tc(m))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(Bi(s)&&!zx(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Bp(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,r)&&zp(e,s)}}function zp(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&mN(t,a)}function hQ(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:d8(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=fN;a&&(s=[r],l=of);const{revoke:c,proxy:u}=Proxy.revocable(s,l);return r.draft_=u,r.revoke_=c,u}var fN={get(e,t){if(t===Ar)return e;const a=Eo(e);if(!aw(a,t))return pQ(e,a,t);const r=a[t];return e.finalized_||!Bi(r)?r:r===t1(e.base_,t)?(n1(e),e.copy_[t]=ow(r,e)):r},has(e,t){return t in Eo(e)},ownKeys(e){return Reflect.ownKeys(Eo(e))},set(e,t,a){const r=u8(Eo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=t1(Eo(e),t),l=s==null?void 0:s[Ar];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(cQ(a,s)&&(a!==void 0||aw(e.base_,t)))return!0;n1(e),lw(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return t1(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,n1(e),lw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=Eo(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){bs(11)},getPrototypeOf(e){return Rd(e.base_)},setPrototypeOf(){bs(12)}},of={};Ip(fN,(e,t)=>{of[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});of.deleteProperty=function(e,t){return of.set.call(this,e,t,void 0)};of.set=function(e,t,a){return fN.set.call(this,e[0],t,a,e[0])};function t1(e,t){const a=e[Ar];return(a?Eo(a):e)[t]}function pQ(e,t,a){var s;const r=u8(t,a);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function u8(e,t){if(!(t in e))return;let a=Rd(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=Rd(a)}}function lw(e){e.modified_||(e.modified_=!0,e.parent_&&lw(e.parent_))}function n1(e){e.copy_||(e.copy_=rw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xQ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const l=a;a=t;const c=this;return function(m=l,...f){return c.produce(m,h=>a.call(this,h,...f))}}typeof a!="function"&&bs(6),r!==void 0&&typeof r!="function"&&bs(7);let s;if(Bi(t)){const l=KA(this),c=ow(t,void 0);let u=!0;try{s=a(c),u=!1}finally{u?sw(l):iw(l)}return qA(l,r),GA(s,l)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===l8&&(s=void 0),this.autoFreeze_&&mN(s,!0),r){const l=[],c=[];nc("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else bs(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,m=>t(m,...u));let r,s;return[this.produce(t,a,(c,u)=>{r=c,s=u}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Bi(e)||bs(8),tc(e)&&(e=Ai(e));const t=KA(this),a=ow(e,void 0);return a[Ar].isManual_=!0,iw(t),a}finishDraft(e,t){const a=e&&e[Ar];(!a||!a.isManual_)&&bs(9);const{scope_:r}=a;return qA(r,t),GA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=nc("Patches").applyPatches_;return tc(e)?r(e,t):this.produce(e,s=>r(s,t))}};function ow(e,t){const a=Ix(e)?nc("MapSet").proxyMap_(e,t):Bx(e)?nc("MapSet").proxySet_(e,t):hQ(e,t);return(t?t.scope_:d8()).drafts_.push(a),a}function Ai(e){return tc(e)||bs(10,e),m8(e)}function m8(e){if(!Bi(e)||zx(e))return e;const t=e[Ar];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=rw(e,t.scope_.immer_.useStrictShallowCopy_)}else a=rw(e,!0);return Ip(a,(r,s)=>{c8(a,r,m8(s))}),t&&(t.finalized_=!1),a}var Tr=new xQ,f8=Tr.produce;Tr.produceWithPatches.bind(Tr);Tr.setAutoFreeze.bind(Tr);Tr.setUseStrictShallowCopy.bind(Tr);Tr.applyPatches.bind(Tr);Tr.createDraft.bind(Tr);Tr.finishDraft.bind(Tr);function h8(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var gQ=h8(),bQ=h8,vQ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Lp:Lp.apply(null,arguments)};function es(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(kr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>i8(r)&&r.type===e,a}var p8=class Pm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Pm.prototype)}static get[Symbol.species](){return Pm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Pm(...t[0].concat(this)):new Pm(...t.concat(this))}};function WA(e){return Bi(e)?f8(e,()=>{}):e}function f0(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function yQ(e){return typeof e=="boolean"}var jQ=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new p8;return a&&(yQ(a)?c.push(gQ):c.push(bQ(a.extraArgument))),c},wQ="RTK_autoBatch",XA=e=>t=>{setTimeout(t,e)},NQ=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,l=!1,c=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:XA(10):e.type==="callback"?e.queueNotification:XA(e.timeout),f=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>s&&h(),b=r.subscribe(g);return u.add(h),()=>{b(),u.delete(h)}},dispatch(h){var g;try{return s=!((g=h==null?void 0:h.meta)!=null&&g[wQ]),l=!s,l&&(c||(c=!0,m(f))),r.dispatch(h)}finally{s=!0}}})},SQ=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new p8(e);return r&&s.push(NQ(typeof r=="object"?r:void 0)),s};function _Q(e){const t=jQ(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof a=="function")u=a;else if(uN(a))u=s8(a);else throw new Error(kr(1));let m;typeof r=="function"?m=r(t):m=t();let f=Lp;s&&(f=vQ({trace:!1,...typeof s=="object"&&s}));const h=lQ(...m),g=SQ(h);let b=typeof c=="function"?c(g):g();const y=f(...b);return r8(u,l,y)}function x8(e){const t={},a=[];let r;const s={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(kr(28));if(u in t)throw new Error(kr(29));return t[u]=c,s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,a,r]}function kQ(e){return typeof e=="function"}function CQ(e,t){let[a,r,s]=x8(t),l;if(kQ(e))l=()=>WA(e());else{const u=WA(e);l=()=>u}function c(u=l(),m){let f=[a[m.type],...r.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(tc(h)){const y=g(h,m);return y===void 0?h:y}else{if(Bi(h))return f8(h,b=>g(b,m));{const b=g(h,m);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},u)}return c.getInitialState=l,c}var AQ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",TQ=(e=21)=>{let t="",a=e;for(;a--;)t+=AQ[Math.random()*64|0];return t},EQ=Symbol.for("rtk-slice-createasyncthunk");function OQ(e,t){return`${e}/${t}`}function PQ({creators:e}={}){var a;const t=(a=e==null?void 0:e.asyncThunk)==null?void 0:a[EQ];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(kr(11));const u=(typeof s.reducers=="function"?s.reducers(DQ()):s.reducers)||{},m=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(O,T){const E=typeof O=="string"?O:O.type;if(!E)throw new Error(kr(12));if(E in f.sliceCaseReducersByType)throw new Error(kr(13));return f.sliceCaseReducersByType[E]=T,h},addMatcher(O,T){return f.sliceMatchers.push({matcher:O,reducer:T}),h},exposeAction(O,T){return f.actionCreators[O]=T,h},exposeCaseReducer(O,T){return f.sliceCaseReducersByName[O]=T,h}};m.forEach(O=>{const T=u[O],E={reducerName:O,type:OQ(l,O),createNotation:typeof s.reducers=="function"};$Q(T)?IQ(E,T,h,t):RQ(E,T,h)});function g(){const[O={},T=[],E=void 0]=typeof s.extraReducers=="function"?x8(s.extraReducers):[s.extraReducers],I={...O,...f.sliceCaseReducersByType};return CQ(s.initialState,M=>{for(let V in I)M.addCase(V,I[V]);for(let V of f.sliceMatchers)M.addMatcher(V.matcher,V.reducer);for(let V of T)M.addMatcher(V.matcher,V.reducer);E&&M.addDefaultCase(E)})}const b=O=>O,y=new Map,j=new WeakMap;let w;function S(O,T){return w||(w=g()),w(O,T)}function k(){return w||(w=g()),w.getInitialState()}function _(O,T=!1){function E(M){let V=M[O];return typeof V>"u"&&T&&(V=f0(j,E,k)),V}function I(M=b){const V=f0(y,T,()=>new WeakMap);return f0(V,M,()=>{const Y={};for(const[U,F]of Object.entries(s.selectors??{}))Y[U]=MQ(F,M,()=>f0(j,M,k),T);return Y})}return{reducerPath:O,getSelectors:I,get selectors(){return I(E)},selectSlice:E}}const C={name:l,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(O,{reducerPath:T,...E}={}){const I=T??c;return O.inject({reducerPath:I,reducer:S},E),{...C,..._(I,!0)}}};return C}}function MQ(e,t,a,r){function s(l,...c){let u=t(l);return typeof u>"u"&&r&&(u=a()),e(u,...c)}return s.unwrapped=e,s}var Or=PQ();function DQ(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function RQ({type:e,reducerName:t,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!LQ(r))throw new Error(kr(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?es(e,c):es(e))}function $Q(e){return e._reducerDefinitionType==="asyncThunk"}function LQ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function IQ({type:e,reducerName:t},a,r,s){if(!s)throw new Error(kr(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:m,settled:f,options:h}=a,g=s(e,l,h);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),m&&r.addCase(g.rejected,m),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:c||h0,pending:u||h0,rejected:m||h0,settled:f||h0})}function h0(){}var BQ="task",g8="listener",b8="completed",hN="cancelled",zQ=`task-${hN}`,UQ=`task-${b8}`,cw=`${g8}-${hN}`,FQ=`${g8}-${b8}`,Ux=class{constructor(e){vv(this,"name","TaskAbortError");vv(this,"message");this.code=e,this.message=`${BQ} ${hN} (reason: ${e})`}},pN=(e,t)=>{if(typeof e!="function")throw new TypeError(kr(32))},Up=()=>{},v8=(e,t=Up)=>(e.catch(t),e),y8=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Go=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Yo=e=>{if(e.aborted){const{reason:t}=e;throw new Ux(t)}};function j8(e,t){let a=Up;return new Promise((r,s)=>{const l=()=>s(new Ux(e.reason));if(e.aborted){l();return}a=y8(e,l),t.finally(()=>a()).then(r,s)}).finally(()=>{a=Up})}var VQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof Ux?"cancelled":"rejected",error:a}}finally{t==null||t()}},Fp=e=>t=>v8(j8(e,t).then(a=>(Yo(e),a))),w8=e=>{const t=Fp(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:wd}=Object,ZA={},Fx="listenerMiddleware",HQ=(e,t)=>{const a=r=>y8(e,()=>Go(r,e.reason));return(r,s)=>{pN(r);const l=new AbortController;a(l);const c=VQ(async()=>{Yo(e),Yo(l.signal);const u=await r({pause:Fp(l.signal),delay:w8(l.signal),signal:l.signal});return Yo(l.signal),u},()=>Go(l,UQ));return s!=null&&s.autoJoin&&t.push(c.catch(Up)),{result:Fp(e)(c),cancel(){Go(l,zQ)}}}},qQ=(e,t)=>{const a=async(r,s)=>{Yo(t);let l=()=>{};const u=[new Promise((m,f)=>{let h=e({predicate:r,effect:(g,b)=>{b.unsubscribe(),m([g,b.getState(),b.getOriginalState()])}});l=()=>{h(),f()}})];s!=null&&u.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await j8(t,Promise.race(u));return Yo(t),m}finally{l()}};return(r,s)=>v8(a(r,s))},N8=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(t)s=es(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(kr(21));return pN(l),{predicate:s,type:t,effect:l}},S8=wd(e=>{const{type:t,predicate:a,effect:r}=N8(e);return{id:TQ(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(kr(22))}}},{withTypes:()=>S8}),QA=(e,t)=>{const{type:a,effect:r,predicate:s}=N8(t);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},dw=e=>{e.pending.forEach(t=>{Go(t,cw)})},KQ=e=>()=>{e.forEach(dw),e.clear()},JA=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},_8=wd(es(`${Fx}/add`),{withTypes:()=>_8}),GQ=es(`${Fx}/removeAll`),k8=wd(es(`${Fx}/remove`),{withTypes:()=>k8}),YQ=(...e)=>{console.error(`${Fx}/error`,...e)},Mf=(e={})=>{const t=new Map,{extra:a,onError:r=YQ}=e;pN(r);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&dw(h)}),l=h=>{const g=QA(t,h)??S8(h);return s(g)};wd(l,{withTypes:()=>l});const c=h=>{const g=QA(t,h);return g&&(g.unsubscribe(),h.cancelActive&&dw(g)),!!g};wd(c,{withTypes:()=>c});const u=async(h,g,b,y)=>{const j=new AbortController,w=qQ(l,j.signal),S=[];try{h.pending.add(j),await Promise.resolve(h.effect(g,wd({},b,{getOriginalState:y,condition:(k,_)=>w(k,_).then(Boolean),take:w,delay:w8(j.signal),pause:Fp(j.signal),extra:a,signal:j.signal,fork:HQ(j.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,_,C)=>{k!==j&&(Go(k,cw),C.delete(k))})},cancel:()=>{Go(j,cw),h.pending.delete(j)},throwIfCancelled:()=>{Yo(j.signal)}})))}catch(k){k instanceof Ux||JA(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),Go(j,FQ),h.pending.delete(j)}},m=KQ(t);return{middleware:h=>g=>b=>{if(!i8(b))return g(b);if(_8.match(b))return l(b.payload);if(GQ.match(b)){m();return}if(k8.match(b))return c(b.payload);let y=h.getState();const j=()=>{if(y===ZA)throw new Error(kr(23));return y};let w;try{if(w=g(b),t.size>0){const S=h.getState(),k=Array.from(t.values());for(const _ of k){let C=!1;try{C=_.predicate(b,S,y)}catch(O){C=!1,JA(r,O,{raisedBy:"predicate"})}C&&u(_,b,h,j)}}}finally{y=ZA}return w},startListening:l,stopListening:c,clearListeners:m}};function kr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var WQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},C8=Or({name:"chartLayout",initialState:WQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:XQ,setLayout:ZQ,setChartSize:QQ,setScale:JQ}=C8.actions,eJ=C8.reducer;function e6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function t6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(a),!0).forEach(function(r){tJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tJ(e,t,a){return(t=nJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nJ(e){var t=aJ(e,"string");return typeof t=="symbol"?t:t+""}function aJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Vp=Math.PI/180,rJ=e=>e*180/Math.PI,Un=(e,t,a,r)=>({x:e+Math.cos(-Vp*r)*a,y:t+Math.sin(-Vp*r)*a}),A8=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},sJ=(e,t)=>{var{x:a,y:r}=e,{x:s,y:l}=t;return Math.sqrt((a-s)**2+(r-l)**2)},iJ=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:l}=t,c=sJ({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var u=(a-s)/c,m=Math.acos(u);return r>l&&(m=2*Math.PI-m),{radius:c,angle:rJ(m),angleInRadian:m}},lJ=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:a-l*360}},oJ=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},cJ=(e,t)=>{var{x:a,y:r}=e,{radius:s,angle:l}=iJ({x:a,y:r},t),{innerRadius:c,outerRadius:u}=t;if(s<c||s>u||s===0)return null;var{startAngle:m,endAngle:f}=lJ(t),h=l,g;if(m<=f){for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}else{for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}return g?t6(t6({},t),{},{radius:s,angle:oJ(h,t)}):null};function T8(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function n6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Xr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?n6(Object(a),!0).forEach(function(r){dJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):n6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dJ(e,t,a){return(t=uJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uJ(e){var t=mJ(e,"string");return typeof t=="symbol"?t:t+""}function mJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jt(e,t,a){return cn(e)||cn(t)?a:Ws(t)?Vl(e,t,a):typeof t=="function"?t(e):a}var fJ=(e,t,a,r,s)=>{var l,c=-1,u=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?a[m-1].coordinate:a[u-1].coordinate,h=a[m].coordinate,g=m>=u-1?a[0].coordinate:a[m+1].coordinate,b=void 0;if(oa(h-f)!==oa(g-h)){var y=[];if(oa(g-h)===oa(s[1]-s[0])){b=g;var j=h+s[1]-s[0];y[0]=Math.min(j,(j+f)/2),y[1]=Math.max(j,(j+f)/2)}else{b=f;var w=g+s[1]-s[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:c}=a[m]);break}}else{var k=Math.min(f,g),_=Math.max(f,g);if(e>(k+h)/2&&e<=(_+h)/2){({index:c}=a[m]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},hJ=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&Qe(e[l]))return Xr(Xr({},e),{},{[l]:e[l]+(r||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&Qe(e[c]))return Xr(Xr({},e),{},{[c]:e[c]+(s||0)})}return e},Yl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",E8=(e,t,a,r)=>{if(r)return e.map(u=>u.coordinate);var s,l,c=e.map(u=>(u.coordinate===t&&(s=!0),u.coordinate===a&&(l=!0),u.coordinate));return s||c.push(t),l||c.push(a),c},O8=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:b,axisType:y}=e;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(w=y==="angleAxis"&&l&&l.length>=2?oa(l[0]-l[1])*2*w:w,g||b){var S=(g||b||[]).map((k,_)=>{var C=r?r.indexOf(k):k;return{coordinate:c(C)+w,value:k,offset:w,index:_}});return S.filter(k=>!Cr(k.coordinate))}return m&&f?f.map((k,_)=>({coordinate:c(k)+w,value:k,index:_,offset:w})):c.ticks&&h!=null?c.ticks(h).map((k,_)=>({coordinate:c(k)+w,value:k,offset:w,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+w,value:r?r[k]:k,index:_,offset:w}))},a6=1e-4,pJ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-a6,l=Math.max(r[0],r[1])+a6,c=e(t[0]),u=e(t[a-1]);(c<s||c>l||u<s||u>l)&&e.domain([t[0],t[a-1]])}},xJ=(e,t)=>{if(!t||t.length!==2||!Qe(t[0])||!Qe(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Qe(e[0])||e[0]<a)&&(s[0]=a),(!Qe(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},gJ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<t;++c){var u=Cr(e[c][a][1])?e[c][a][0]:e[c][a][1];u>=0?(e[c][a][0]=s,e[c][a][1]=s+u,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+u,l=e[c][a][1])}},bJ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<t;++l){var c=Cr(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},vJ={sign:gJ,expand:QX,none:Dd,silhouette:JX,wiggle:eZ,positive:bJ},yJ=(e,t,a)=>{var r=vJ[a],s=ZX().keys(t).value((l,c)=>+Jt(l,c,0)).order(tw).offset(r);return s(e)};function jJ(e){return e==null?void 0:String(e)}function r6(e){var{axis:t,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!cn(s[t.dataKey])){var u=_D(a,"value",s[t.dataKey]);if(u)return u.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var m=Jt(s,cn(c)?t.dataKey:c);return cn(m)?null:t.scale(m)}var s6=e=>{var{axis:t,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return a[c]?a[c].coordinate+r:null;var u=Jt(l,t.dataKey,t.scale.domain()[c]);return cn(u)?null:t.scale(u)-s/2+r},wJ=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},NJ=e=>{var t=e.flat(2).filter(Qe);return[Math.min(...t),Math.max(...t)]},SJ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],_J=(e,t,a)=>{if(e!=null)return SJ(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,u=c.reduce((m,f)=>{var h=T8(f,t,a),g=NJ(h);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},i6=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,l6=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,cf=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var s=$x(t,h=>h.coordinate),l=1/0,c=1,u=s.length;c<u;c++){var m=s[c],f=s[c-1];l=Math.min((m.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function o6(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:l}=e;return Xr(Xr({},t),{},{dataKey:a,payload:r,value:s,name:l})}function Qd(e,t){if(e)return String(e);if(typeof t=="string")return t}function kJ(e,t,a,r,s){if(a==="horizontal"||a==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return r?cJ({x:e,y:t},r):null}var CJ=(e,t,a,r)=>{var s=t.find(f=>f&&f.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=r;return Xr(Xr(Xr({},r),Un(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var u=s.coordinate,{angle:m}=r;return Xr(Xr(Xr({},r),Un(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},AJ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,qi=e=>e.layout.width,Ki=e=>e.layout.height,TJ=e=>e.layout.scale,P8=e=>e.layout.margin,xN=Te(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),gN=Te(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),M8="data-recharts-item-index",D8="data-recharts-item-data-key",Vx=60;function c6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(a),!0).forEach(function(r){EJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function EJ(e,t,a){return(t=OJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function OJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MJ=e=>e.brush.height,Wn=Te([qi,Ki,P8,MJ,xN,gN,a8,tQ],(e,t,a,r,s,l,c,u)=>{var m=l.reduce((j,w)=>{var{orientation:S}=w;if(!w.mirror&&!w.hide){var k=typeof w.width=="number"?w.width:Vx;return vl(vl({},j),{},{[S]:j[S]+k})}return j},{left:a.left||0,right:a.right||0}),f=s.reduce((j,w)=>{var{orientation:S}=w;return!w.mirror&&!w.hide?vl(vl({},j),{},{[S]:Vl(j,"".concat(S))+w.height}):j},{top:a.top||0,bottom:a.bottom||0}),h=vl(vl({},f),m),g=h.bottom;h.bottom+=r,h=hJ(h,c,u);var b=e-h.left-h.right,y=t-h.top-h.bottom;return vl(vl({brushBottom:g},h),{},{width:Math.max(b,0),height:Math.max(y,0)})}),DJ=Te(Wn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),R8=Te(qi,Ki,(e,t)=>({x:0,y:0,width:e,height:t})),RJ=x.createContext(null),sr=()=>x.useContext(RJ)!=null,Hx=e=>e.brush,qx=Te([Hx,Wn,P8],(e,t,a)=>({height:e.height,x:Qe(e.x)?e.x:t.left,y:Qe(e.y)?e.y:t.top+t.height+t.brushBottom-((a==null?void 0:a.bottom)||0),width:Qe(e.width)?e.width:t.width})),bN=()=>{var e,t=sr(),a=rt(DJ),r=rt(qx),s=(e=rt(Hx))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},$J={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},$8=()=>{var e;return(e=rt(Wn))!==null&&e!==void 0?e:$J},L8=()=>rt(qi),I8=()=>rt(Ki),Rt=e=>e.layout.layoutType,Kx=()=>rt(Rt),LJ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},B8=Or({name:"legend",initialState:LJ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=Ai(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:Z0e,setLegendSettings:Q0e,addLegendPayload:z8,removeLegendPayload:U8}=B8.actions,IJ=B8.reducer;function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},uw.apply(null,arguments)}function d6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function a1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?d6(Object(a),!0).forEach(function(r){BJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):d6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function BJ(e,t,a){return(t=zJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zJ(e){var t=UJ(e,"string");return typeof t=="symbol"?t:t+""}function UJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function FJ(e){return Array.isArray(e)&&Ws(e[0])&&Ws(e[1])?e.join(" ~ "):e}var VJ=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:u,wrapperClassName:m,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(l&&l.length){var T={padding:0,margin:0},E=(u?$x(l,u):l).map((I,M)=>{if(I.type==="none")return null;var V=I.formatter||c||FJ,{value:Y,name:U}=I,F=Y,ie=U;if(V){var Se=V(Y,U,I,M,l);if(Array.isArray(Se))[F,ie]=Se;else if(Se!=null)F=Se;else return null}var oe=a1({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:oe},Ws(ie)?x.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Ws(ie)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},F),x.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},E)}return null},j=a1({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=a1({margin:0},s),S=!cn(h),k=S?h:"",_=_t("recharts-default-tooltip",m),C=_t("recharts-tooltip-label",f);S&&g&&l!==void 0&&l!==null&&(k=g(h,l));var O=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",uw({className:_,style:j},O),x.createElement("p",{className:C,style:w},x.isValidElement(k)?k:"".concat(k)),y())},lm="recharts-tooltip-wrapper",HJ={visibility:"hidden"};function qJ(e){var{coordinate:t,translateX:a,translateY:r}=e;return _t(lm,{["".concat(lm,"-right")]:Qe(a)&&t&&Qe(t.x)&&a>=t.x,["".concat(lm,"-left")]:Qe(a)&&t&&Qe(t.x)&&a<t.x,["".concat(lm,"-bottom")]:Qe(r)&&t&&Qe(t.y)&&r>=t.y,["".concat(lm,"-top")]:Qe(r)&&t&&Qe(t.y)&&r<t.y})}function u6(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(l&&Qe(l[r]))return l[r];var h=a[r]-u-(s>0?s:0),g=a[r]+s;if(t[r])return c[r]?h:g;var b=m[r];if(b==null)return 0;if(c[r]){var y=h,j=b;return y<j?Math.max(g,b):Math.max(h,b)}if(f==null)return 0;var w=g+u,S=b+f;return w>S?Math.max(h,b):Math.max(g,b)}function KJ(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function GJ(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:m}=e,f,h,g;return c.height>0&&c.width>0&&a?(h=u6({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=u6({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=KJ({translateX:h,translateY:g,useTranslate3d:u})):f=HJ,{cssProperties:f,cssClasses:qJ({translateX:h,translateY:g,coordinate:a})}}function m6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function p0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(a),!0).forEach(function(r){mw(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mw(e,t,a){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class XJ extends x.PureComponent{constructor(){super(...arguments),mw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),mw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:u,isAnimationActive:m,offset:f,position:h,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:j,lastBoundingBox:w,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=GJ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),O=k?{}:p0(p0({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=p0(p0({},O),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:S},l)}}var ZJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),ic={isSsr:ZJ()},F8=()=>rt(e=>e.rootProps.accessibilityLayer);function Er(e){return Number.isFinite(e)}function $d(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fw.apply(null,arguments)}function f6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function h6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?f6(Object(a),!0).forEach(function(r){QJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):f6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function QJ(e,t,a){return(t=JJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function JJ(e){var t=eee(e,"string");return typeof t=="symbol"?t:t+""}function eee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var p6={curveBasisClosed:zX,curveBasisOpen:UX,curveBasis:BX,curveBumpX:_X,curveBumpY:kX,curveLinearClosed:FX,curveLinear:Dx,curveMonotoneX:VX,curveMonotoneY:HX,curveNatural:qX,curveStep:KX,curveStepAfter:YX,curveStepBefore:GX},x0=e=>Er(e.x)&&Er(e.y),om=e=>e.x,cm=e=>e.y,tee=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(Of(e));return(a==="curveMonotone"||a==="curveBump")&&t?p6["".concat(a).concat(t==="vertical"?"Y":"X")]:p6[a]||Dx},nee=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=tee(t,s),u=l?a.filter(x0):a,m;if(Array.isArray(r)){var f=l?r.filter(g=>x0(g)):r,h=u.map((g,b)=>h6(h6({},g),{},{base:f[b]}));return s==="vertical"?m=d0().y(cm).x1(om).x0(g=>g.base.x):m=d0().x(om).y1(cm).y0(g=>g.base.y),m.defined(x0).curve(c),m(h)}return s==="vertical"&&Qe(r)?m=d0().y(cm).x1(om).x0(r):Qe(r)?m=d0().x(om).y1(cm).y0(r):m=RD().x(om).y(cm),m.defined(x0).curve(c),m(u)},vN=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?nee(e):r;return x.createElement("path",fw({},Hi(e),tN(e),{className:_t("recharts-curve",t),d:l===null?void 0:l,ref:s}))},aee=["x","y","top","left","width","height","className"];function hw(){return hw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},hw.apply(null,arguments)}function x6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ree(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(a),!0).forEach(function(r){see(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):x6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function see(e,t,a){return(t=iee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function iee(e){var t=lee(e,"string");return typeof t=="symbol"?t:t+""}function lee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function oee(e,t){if(e==null)return{};var a,r,s=cee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cee(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var dee=(e,t,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(a),uee=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:u}=e,m=oee(e,aee),f=ree({x:t,y:a,top:r,left:s,width:l,height:c},m);return!Qe(t)||!Qe(a)||!Qe(l)||!Qe(c)||!Qe(r)||!Qe(s)?null:x.createElement("path",hw({},fn(f,!0),{className:_t("recharts-cross",u),d:dee(t,a,l,c,r,s)}))};function mee(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function g6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fee(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?g6(Object(a),!0).forEach(function(r){hee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hee(e,t,a){return(t=pee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pee(e){var t=xee(e,"string");return typeof t=="symbol"?t:t+""}function xee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pr(e,t){var a=fee({},e),r=t,s=Object.keys(t),l=s.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),a);return l}var r1={},s1={},i1={},b6;function gee(){return b6||(b6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(!a||typeof a!="object")return!1;const r=Object.getPrototypeOf(a);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(a)==="[object Object]":!1}e.isPlainObject=t}(i1)),i1}var v6;function bee(){return v6||(v6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=gee(),a=ZD(),r=oN(),s=cN(),l=iN();function c(f,h,g){return u(f,h,void 0,void 0,void 0,void 0,g)}function u(f,h,g,b,y,j,w){const S=w(f,h,g,b,y,j);if(S!==void 0)return S;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return m(f,h,j,w)}return m(f,h,j,w)}function m(f,h,g,b){if(Object.is(f,h))return!0;let y=r.getTag(f),j=r.getTag(h);if(y===s.argumentsTag&&(y=s.objectTag),j===s.argumentsTag&&(j=s.objectTag),y!==j)return!1;switch(y){case s.stringTag:return f.toString()===h.toString();case s.numberTag:{const k=f.valueOf(),_=h.valueOf();return l.eq(k,_)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(f.valueOf(),h.valueOf());case s.regexpTag:return f.source===h.source&&f.flags===h.flags;case s.functionTag:return f===h}g=g??new Map;const w=g.get(f),S=g.get(h);if(w!=null&&S!=null)return w===h;g.set(f,h),g.set(h,f);try{switch(y){case s.mapTag:{if(f.size!==h.size)return!1;for(const[k,_]of f.entries())if(!h.has(k)||!u(_,h.get(k),k,f,h,g,b))return!1;return!0}case s.setTag:{if(f.size!==h.size)return!1;const k=Array.from(f.values()),_=Array.from(h.values());for(let C=0;C<k.length;C++){const O=k[C],T=_.findIndex(E=>u(O,E,void 0,f,h,g,b));if(T===-1)return!1;_.splice(T,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let k=0;k<f.length;k++)if(!u(f[k],h[k],k,f,h,g,b))return!1;return!0}case s.arrayBufferTag:return f.byteLength!==h.byteLength?!1:m(new Uint8Array(f),new Uint8Array(h),g,b);case s.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:m(new Uint8Array(f),new Uint8Array(h),g,b);case s.errorTag:return f.name===h.name&&f.message===h.message;case s.objectTag:{if(!(m(f.constructor,h.constructor,g,b)||t.isPlainObject(f)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(f),...a.getSymbols(f)],C=[...Object.keys(h),...a.getSymbols(h)];if(_.length!==C.length)return!1;for(let O=0;O<_.length;O++){const T=_[O],E=f[T];if(!Object.hasOwn(h,T))return!1;const I=h[T];if(!u(E,I,T,f,h,g,b))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(h)}}e.isEqualWith=c}(s1)),s1}var l1={},y6;function vee(){return y6||(y6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(l1)),l1}var j6;function yee(){return j6||(j6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bee(),a=vee();function r(s,l){return t.isEqualWith(s,l,a.noop)}e.isEqual=r}(r1)),r1}var o1,w6;function jee(){return w6||(w6=1,o1=yee().isEqual),o1}var wee=jee();const Nee=Ss(wee);var Hp=1e-4,V8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],H8=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),N6=(e,t)=>a=>{var r=V8(e,t);return H8(r,a)},See=(e,t)=>a=>{var r=V8(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return H8(s,a)},S6=function(){for(var t,a,r,s,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,r,a,s]=[0,0,1,1];break;case"ease":[t,r,a,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,s]=[.42,0,1,1];break;case"ease-out":[t,r,a,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,s]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,a,s]=m[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([t,r,a,s]=c);var f=N6(t,a),h=N6(r,s),g=See(t,a),b=j=>j>1?1:j<0?0:j,y=j=>{for(var w=j>1?1:j,S=w,k=0;k<8;++k){var _=f(S)-w,C=g(S);if(Math.abs(_-w)<Hp||C<Hp)return h(S);S=b(S-_/C)}return h(S)};return y.isStepper=!1,y},_ee=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,l=(c,u,m)=>{var f=-(c-u)*a,h=m*r,g=m+(f-h)*s/1e3,b=m*s/1e3+c;return Math.abs(b-u)<Hp&&Math.abs(g)<Hp?[u,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},q8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return S6(e);case"spring":return _ee();default:if(e.split("(")[0]==="cubic-bezier")return S6(e)}return typeof e=="function"?e:null};function _6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function k6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_6(Object(a),!0).forEach(function(r){kee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kee(e,t,a){return(t=Cee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cee(e){var t=Aee(e,"string");return typeof t=="symbol"?t:t+""}function Aee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tee=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),Eee=(e,t,a)=>e.map(r=>"".concat(Tee(r)," ").concat(t,"ms ").concat(a)).join(","),Oee=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),df=(e,t)=>Object.keys(t).reduce((a,r)=>k6(k6({},a),{},{[r]:e(r,t[r])}),{});function C6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?C6(Object(a),!0).forEach(function(r){Pee(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pee(e,t,a){return(t=Mee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mee(e){var t=Dee(e,"string");return typeof t=="symbol"?t:t+""}function Dee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qp=(e,t,a)=>e+(t-e)*a,pw=e=>{var{from:t,to:a}=e;return t!==a},K8=(e,t,a)=>{var r=df((s,l)=>{if(pw(l)){var[c,u]=e(l.from,l.to,l.velocity);return ya(ya({},l),{},{from:c,velocity:u})}return l},t);return a<1?df((s,l)=>pw(l)?ya(ya({},l),{},{velocity:qp(l.velocity,r[s].velocity,a),from:qp(l.from,r[s].from,a)}):l,t):K8(e,r,a-1)};function Ree(e,t,a,r,s,l){var c,u=r.reduce((b,y)=>ya(ya({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),m=()=>df((b,y)=>y.from,u),f=()=>!Object.values(u).filter(pw).length,h=null,g=b=>{c||(c=b);var y=b-c,j=y/a.dt;u=K8(a,u,j),s(ya(ya(ya({},e),t),m())),c=b,f()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{h()})}function $ee(e,t,a,r,s,l,c){var u=null,m=s.reduce((g,b)=>ya(ya({},g),{},{[b]:[e[b],t[b]]}),{}),f,h=g=>{f||(f=g);var b=(g-f)/r,y=df((w,S)=>qp(...S,a(b)),m);if(l(ya(ya(ya({},e),t),y)),b<1)u=c.setTimeout(h);else{var j=df((w,S)=>qp(...S,a(1)),m);l(ya(ya(ya({},e),t),j))}};return()=>(u=c.setTimeout(h),()=>{u()})}const G8=(e,t,a,r,s,l)=>{var c=Oee(e,t);return a.isStepper===!0?Ree(e,t,a,c,s,l):$ee(e,t,a,r,c,s,l)};function Lee(e){var t,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[m,...f]=u;if(typeof m=="number"){s=e.setTimeout(l.bind(null,f),m);return}l(m),s=e.setTimeout(l.bind(null,f));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class Iee{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function Bee(){return Lee(new Iee)}var zee=x.createContext(Bee);function Y8(e,t){var a=x.useContext(zee);return x.useMemo(()=>t??a(e),[e,t,a])}var Uee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},xw.apply(null,arguments)}function Fee(e,t){if(e==null)return{};var a,r,s=Vee(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Vee(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function A6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function yl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?A6(Object(a),!0).forEach(function(r){zo(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):A6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function zo(e,t,a){return(t=Hee(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Hee(e){var t=qee(e,"string");return typeof t=="symbol"?t:t+""}function qee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class yN extends x.PureComponent{constructor(t,a){super(t,a),zo(this,"mounted",!1),zo(this,"manager",void 0),zo(this,"stopJSAnimation",null),zo(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:l,to:c,children:u,duration:m,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:c});return}if(l){if(typeof u=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:a}=this.props;this.mounted=!0,!(!t||!a)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:a,canBegin:r,attributeName:s,shouldReAnimate:l,to:c,from:u}=this.props,{style:m}=this.state;if(r){if(!a){var f={style:s?{[s]:c}:c};this.state&&m&&(s&&m[s]!==c||!s&&m!==c)&&this.setState(f);return}if(!(Nee(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||l?u:t.to;if(this.state&&m){var b={style:s?{[s]:g}:g};(s&&m[s]!==g||!s&&m!==g)&&this.setState(b)}this.runAnimation(yl(yl({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:a,to:r,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:m}=t,f=G8(a,r,q8(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([m,c,h,s,u])}runAnimation(t){var{begin:a,duration:r,attributeName:s,to:l,easing:c,onAnimationStart:u,onAnimationEnd:m,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,g=Eee(Object.keys(h),r,c);this.manager.start([u,a,yl(yl({},h),{},{transition:g}),r,m])}render(){var t=this.props,{children:a,begin:r,duration:s,attributeName:l,easing:c,isActive:u,from:m,to:f,canBegin:h,onAnimationEnd:g,shouldReAnimate:b,onAnimationReStart:y,animationManager:j}=t,w=Fee(t,Uee),S=x.Children.count(a),k=this.state.style;if(typeof a=="function")return a(k);if(!u||S===0||s<=0)return a;var _=C=>{var{style:O={},className:T}=C.props,E=x.cloneElement(C,yl(yl({},w),{},{style:yl(yl({},O),k),className:T}));return E};return S===1?_(x.Children.only(a)):x.createElement("div",null,x.Children.map(a,C=>_(C)))}}zo(yN,"displayName","Animate");zo(yN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Kp(e){var t,a=Y8((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return x.createElement(yN,xw({},e,{animationManager:a}))}function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gp.apply(null,arguments)}var T6=(e,t,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,u=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,f;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,b=4;g<b;g++)h[g]=s[g]>l?l:s[g];f="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+u*h[0],",").concat(t)),f+="L ".concat(e+a-u*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(t+c*h[1])),f+="L ".concat(e+a,",").concat(t+r-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+a-u*h[2],",").concat(t+r)),f+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*h[3])),f+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);f="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+a-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a,",").concat(t+c*y,`
            L `).concat(e+a,",").concat(t+r-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},Kee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W8=e=>{var t=Pr(e,Kee),a=x.useRef(null),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var k=a.current.getTotalLength();k&&s(k)}catch{}},[]);var{x:l,y:c,width:u,height:m,radius:f,className:h}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||u!==+u||m!==+m||u===0||m===0)return null;var S=_t("recharts-rectangle",h);return w?x.createElement(Kp,{canBegin:r>0,from:{width:u,height:m,x:l,y:c},to:{width:u,height:m,x:l,y:c},duration:b,animationEasing:g,isActive:w},k=>{var{width:_,height:C,x:O,y:T}=k;return x.createElement(Kp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:j,easing:g},x.createElement("path",Gp({},fn(t,!0),{className:S,d:T6(O,T,_,C,f),ref:a})))}):x.createElement("path",Gp({},fn(t,!0),{className:S,d:T6(l,c,u,m,f)}))};function X8(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=Un(t,a,r,s),u=Un(t,a,r,l);return{points:[c,u],cx:t,cy:a,radius:r,startAngle:s,endAngle:l}}function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gw.apply(null,arguments)}var Gee=(e,t)=>{var a=oa(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},g0=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:m}=e,f=u*(c?1:-1)+r,h=Math.asin(u/f)/Vp,g=m?s:s+l*h,b=Un(t,a,f,g),y=Un(t,a,r,g),j=m?s-l*h:s,w=Un(t,a,f*Math.cos(h*Vp),j);return{center:b,circleTangency:y,lineTangency:w,theta:h}},Z8=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,u=Gee(l,c),m=l+u,f=Un(t,a,s,l),h=Un(t,a,s,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Un(t,a,r,l),y=Un(t,a,r,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(a," Z");return g},Yee=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f}=e,h=oa(f-m),{circleTangency:g,lineTangency:b,theta:y}=g0({cx:t,cy:a,radius:s,angle:m,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:S}=g0({cx:t,cy:a,radius:s,angle:f,sign:-h,cornerRadius:l,cornerIsExternal:u}),k=u?Math.abs(m-f):Math.abs(m-f)-y-S;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):Z8({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:O,theta:T}=g0({cx:t,cy:a,radius:r,angle:m,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:E,lineTangency:I,theta:M}=g0({cx:t,cy:a,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),V=u?Math.abs(m-f):Math.abs(m-f)-T-M;if(V<0&&l===0)return"".concat(_,"L").concat(t,",").concat(a,"Z");_+="L".concat(I.x,",").concat(I.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(V>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(O.x,",").concat(O.y,"Z")}else _+="L".concat(t,",").concat(a,"Z");return _},Wee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jN=e=>{var t=Pr(e,Wee),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:h,className:g}=t;if(l<s||f===h)return null;var b=_t("recharts-sector",g),y=l-s,j=Ga(c,y,0,!0),w;return j>0&&Math.abs(f-h)<360?w=Yee({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,y/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:h}):w=Z8({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:f,endAngle:h}),x.createElement("path",gw({},fn(t,!0),{className:b,d:w}))};function Xee(e,t,a){var r,s,l,c;if(e==="horizontal")r=t.x,l=r,s=a.top,c=a.top+a.height;else if(e==="vertical")s=t.y,c=s,r=a.left,l=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:h,angle:g}=t,b=Un(u,m,f,g),y=Un(u,m,h,g);r=b.x,s=b.y,l=y.x,c=y.y}else return X8(t);return[{x:r,y:s},{x:l,y:c}]}var c1={},d1={},u1={},E6;function Zee(){return E6||(E6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=t8();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a}(u1)),u1}var O6;function Qee(){return O6||(O6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zee();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a}(d1)),d1}var P6;function Jee(){return P6||(P6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n8(),a=Qee();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const u=Math.max(Math.ceil((l-s)/(c||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=s,s+=c;return m}e.range=r}(c1)),c1}var m1,M6;function ete(){return M6||(M6=1,m1=Jee().range),m1}var tte=ete();const Q8=Ss(tte);function $l(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function nte(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function wN(e){let t,a,r;e.length!==2?(t=$l,a=(u,m)=>$l(e(u),m),r=(u,m)=>e(u)-m):(t=e===$l||e===nte?e:ate,a=e,r=e);function s(u,m,f=0,h=u.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(u[g],m)<0?f=g+1:h=g}while(f<h)}return f}function l(u,m,f=0,h=u.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(u[g],m)<=0?f=g+1:h=g}while(f<h)}return f}function c(u,m,f=0,h=u.length){const g=s(u,m,f,h-1);return g>f&&r(u[g-1],m)>-r(u[g],m)?g-1:g}return{left:s,center:c,right:l}}function ate(){return 0}function J8(e){return e===null?NaN:+e}function*rte(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const ste=wN($l),Df=ste.right;wN(J8).center;class D6 extends Map{constructor(t,a=ote){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(R6(this,t))}has(t){return super.has(R6(this,t))}set(t,a){return super.set(ite(this,t),a)}delete(t){return super.delete(lte(this,t))}}function R6({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function ite({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function lte({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function ote(e){return e!==null&&typeof e=="object"?e.valueOf():e}function cte(e=$l){if(e===$l)return eR;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function eR(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const dte=Math.sqrt(50),ute=Math.sqrt(10),mte=Math.sqrt(2);function Yp(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=dte?10:l>=ute?5:l>=mte?2:1;let u,m,f;return s<0?(f=Math.pow(10,-s)/c,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*c,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=a&&a<2?Yp(e,t,a*2):[u,m,f]}function bw(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?Yp(t,e,a):Yp(e,t,a);if(!(l>=s))return[];const u=l-s+1,m=new Array(u);if(r)if(c<0)for(let f=0;f<u;++f)m[f]=(l-f)/-c;else for(let f=0;f<u;++f)m[f]=(l-f)*c;else if(c<0)for(let f=0;f<u;++f)m[f]=(s+f)/-c;else for(let f=0;f<u;++f)m[f]=(s+f)*c;return m}function vw(e,t,a){return t=+t,e=+e,a=+a,Yp(e,t,a)[2]}function yw(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?vw(t,e,a):vw(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function $6(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function L6(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function tR(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?eR:cte(s);r>a;){if(r-a>600){const m=r-a+1,f=t-a+1,h=Math.log(m),g=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*g*(m-g)/m)*(f-m/2<0?-1:1),y=Math.max(a,Math.floor(t-f*g/m+b)),j=Math.min(r,Math.floor(t+(m-f)*g/m+b));tR(e,t,y,j,s)}const l=e[t];let c=a,u=r;for(dm(e,a,t),s(e[r],l)>0&&dm(e,a,r);c<u;){for(dm(e,c,u),++c,--u;s(e[c],l)<0;)++c;for(;s(e[u],l)>0;)--u}s(e[a],l)===0?dm(e,a,u):(++u,dm(e,u,r)),u<=t&&(a=u+1),t<=u&&(r=u-1)}return e}function dm(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function fte(e,t,a){if(e=Float64Array.from(rte(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return L6(e);if(t>=1)return $6(e);var r,s=(r-1)*t,l=Math.floor(s),c=$6(tR(e,l).subarray(0,l+1)),u=L6(e.subarray(l+1));return c+(u-c)*(s-l)}}function hte(e,t,a=J8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+a(e[l],l,e),u=+a(e[l+1],l+1,e);return c+(u-c)*(s-l)}}function pte(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function as(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Gi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const jw=Symbol("implicit");function NN(){var e=new D6,t=[],a=[],r=jw;function s(l){let c=e.get(l);if(c===void 0){if(r!==jw)return r;e.set(l,c=t.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new D6;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return NN(t,a).unknown(r)},as.apply(s,arguments),s}function SN(){var e=NN().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,l,c,u=!1,m=0,f=0,h=.5;delete e.unknown;function g(){var b=t().length,y=s<r,j=y?s:r,w=y?r:s;l=(w-j)/Math.max(1,b-m+f*2),u&&(l=Math.floor(l)),j+=(w-j-l*(b-m))*h,c=l*(1-m),u&&(j=Math.round(j),c=Math.round(c));var S=pte(b).map(function(k){return j+l*k});return a(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,g()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(b){return arguments.length?(u=!!b,g()):u},e.padding=function(b){return arguments.length?(m=Math.min(1,f=+b),g()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),g()):m},e.paddingOuter=function(b){return arguments.length?(f=+b,g()):f},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),g()):h},e.copy=function(){return SN(t(),[r,s]).round(u).paddingInner(m).paddingOuter(f).align(h)},as.apply(g(),arguments)}function nR(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return nR(t())},e}function xte(){return nR(SN.apply(null,arguments).paddingInner(1))}function _N(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function aR(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function Rf(){}var uf=.7,Wp=1/uf,Nd="\\s*([+-]?\\d+)\\s*",mf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Gs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",gte=/^#([0-9a-f]{3,8})$/,bte=new RegExp(`^rgb\\(${Nd},${Nd},${Nd}\\)$`),vte=new RegExp(`^rgb\\(${Gs},${Gs},${Gs}\\)$`),yte=new RegExp(`^rgba\\(${Nd},${Nd},${Nd},${mf}\\)$`),jte=new RegExp(`^rgba\\(${Gs},${Gs},${Gs},${mf}\\)$`),wte=new RegExp(`^hsl\\(${mf},${Gs},${Gs}\\)$`),Nte=new RegExp(`^hsla\\(${mf},${Gs},${Gs},${mf}\\)$`),I6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_N(Rf,ff,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:B6,formatHex:B6,formatHex8:Ste,formatHsl:_te,formatRgb:z6,toString:z6});function B6(){return this.rgb().formatHex()}function Ste(){return this.rgb().formatHex8()}function _te(){return rR(this).formatHsl()}function z6(){return this.rgb().formatRgb()}function ff(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=gte.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?U6(t):a===3?new rr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?b0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?b0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=bte.exec(e))?new rr(t[1],t[2],t[3],1):(t=vte.exec(e))?new rr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=yte.exec(e))?b0(t[1],t[2],t[3],t[4]):(t=jte.exec(e))?b0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=wte.exec(e))?H6(t[1],t[2]/100,t[3]/100,1):(t=Nte.exec(e))?H6(t[1],t[2]/100,t[3]/100,t[4]):I6.hasOwnProperty(e)?U6(I6[e]):e==="transparent"?new rr(NaN,NaN,NaN,0):null}function U6(e){return new rr(e>>16&255,e>>8&255,e&255,1)}function b0(e,t,a,r){return r<=0&&(e=t=a=NaN),new rr(e,t,a,r)}function kte(e){return e instanceof Rf||(e=ff(e)),e?(e=e.rgb(),new rr(e.r,e.g,e.b,e.opacity)):new rr}function ww(e,t,a,r){return arguments.length===1?kte(e):new rr(e,t,a,r??1)}function rr(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}_N(rr,ww,aR(Rf,{brighter(e){return e=e==null?Wp:Math.pow(Wp,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?uf:Math.pow(uf,e),new rr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rr(Wo(this.r),Wo(this.g),Wo(this.b),Xp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:F6,formatHex:F6,formatHex8:Cte,formatRgb:V6,toString:V6}));function F6(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}`}function Cte(){return`#${Uo(this.r)}${Uo(this.g)}${Uo(this.b)}${Uo((isNaN(this.opacity)?1:this.opacity)*255)}`}function V6(){const e=Xp(this.opacity);return`${e===1?"rgb(":"rgba("}${Wo(this.r)}, ${Wo(this.g)}, ${Wo(this.b)}${e===1?")":`, ${e})`}`}function Xp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wo(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Uo(e){return e=Wo(e),(e<16?"0":"")+e.toString(16)}function H6(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new vs(e,t,a,r)}function rR(e){if(e instanceof vs)return new vs(e.h,e.s,e.l,e.opacity);if(e instanceof Rf||(e=ff(e)),!e)return new vs;if(e instanceof vs)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),l=Math.max(t,a,r),c=NaN,u=l-s,m=(l+s)/2;return u?(t===l?c=(a-r)/u+(a<r)*6:a===l?c=(r-t)/u+2:c=(t-a)/u+4,u/=m<.5?l+s:2-l-s,c*=60):u=m>0&&m<1?0:c,new vs(c,u,m,e.opacity)}function Ate(e,t,a,r){return arguments.length===1?rR(e):new vs(e,t,a,r??1)}function vs(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}_N(vs,Ate,aR(Rf,{brighter(e){return e=e==null?Wp:Math.pow(Wp,e),new vs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?uf:Math.pow(uf,e),new vs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new rr(f1(e>=240?e-240:e+120,s,r),f1(e,s,r),f1(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new vs(q6(this.h),v0(this.s),v0(this.l),Xp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Xp(this.opacity);return`${e===1?"hsl(":"hsla("}${q6(this.h)}, ${v0(this.s)*100}%, ${v0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function q6(e){return e=(e||0)%360,e<0?e+360:e}function v0(e){return Math.max(0,Math.min(1,e||0))}function f1(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const kN=e=>()=>e;function Tte(e,t){return function(a){return e+a*t}}function Ete(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function Ote(e){return(e=+e)==1?sR:function(t,a){return a-t?Ete(t,a,e):kN(isNaN(t)?a:t)}}function sR(e,t){var a=t-e;return a?Tte(e,a):kN(isNaN(e)?t:e)}const K6=function e(t){var a=Ote(t);function r(s,l){var c=a((s=ww(s)).r,(l=ww(l)).r),u=a(s.g,l.g),m=a(s.b,l.b),f=sR(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=u(h),s.b=m(h),s.opacity=f(h),s+""}}return r.gamma=e,r}(1);function Pte(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function Mte(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Dte(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=Jd(e[c],t[c]);for(;c<a;++c)l[c]=t[c];return function(u){for(c=0;c<r;++c)l[c]=s[c](u);return l}}function Rte(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function Zp(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function $te(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=Jd(e[s],t[s]):r[s]=t[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var Nw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,h1=new RegExp(Nw.source,"g");function Lte(e){return function(){return e}}function Ite(e){return function(t){return e(t)+""}}function Bte(e,t){var a=Nw.lastIndex=h1.lastIndex=0,r,s,l,c=-1,u=[],m=[];for(e=e+"",t=t+"";(r=Nw.exec(e))&&(s=h1.exec(t));)(l=s.index)>a&&(l=t.slice(a,l),u[c]?u[c]+=l:u[++c]=l),(r=r[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,m.push({i:c,x:Zp(r,s)})),a=h1.lastIndex;return a<t.length&&(l=t.slice(a),u[c]?u[c]+=l:u[++c]=l),u.length<2?m[0]?Ite(m[0].x):Lte(t):(t=m.length,function(f){for(var h=0,g;h<t;++h)u[(g=m[h]).i]=g.x(f);return u.join("")})}function Jd(e,t){var a=typeof t,r;return t==null||a==="boolean"?kN(t):(a==="number"?Zp:a==="string"?(r=ff(t))?(t=r,K6):Bte:t instanceof ff?K6:t instanceof Date?Rte:Mte(t)?Pte:Array.isArray(t)?Dte:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?$te:Zp)(e,t)}function CN(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function zte(e,t){t===void 0&&(t=e,e=Jd);for(var a=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=t[++a]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[u](c-u)}}function Ute(e){return function(){return e}}function Qp(e){return+e}var G6=[0,1];function Ha(e){return e}function Sw(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:Ute(isNaN(t)?NaN:.5)}function Fte(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function Vte(e,t,a){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=Sw(s,r),l=a(c,l)):(r=Sw(r,s),l=a(l,c)),function(u){return l(r(u))}}function Hte(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=Sw(e[c],e[c+1]),l[c]=a(t[c],t[c+1]);return function(u){var m=Df(e,u,1,r)-1;return l[m](s[m](u))}}function $f(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Gx(){var e=G6,t=G6,a=Jd,r,s,l,c=Ha,u,m,f;function h(){var b=Math.min(e.length,t.length);return c!==Ha&&(c=Fte(e[0],e[b-1])),u=b>2?Hte:Vte,m=f=null,g}function g(b){return b==null||isNaN(b=+b)?l:(m||(m=u(e.map(r),t,a)))(r(c(b)))}return g.invert=function(b){return c(s((f||(f=u(t,e.map(r),Zp)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,Qp),h()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),a=CN,h()},g.clamp=function(b){return arguments.length?(c=b?!0:Ha,h()):c!==Ha},g.interpolate=function(b){return arguments.length?(a=b,h()):a},g.unknown=function(b){return arguments.length?(l=b,g):l},function(b,y){return r=b,s=y,h()}}function AN(){return Gx()(Ha,Ha)}function qte(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Jp(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Ld(e){return e=Jp(Math.abs(e)),e?e[1]:NaN}function Kte(e,t){return function(a,r){for(var s=a.length,l=[],c=0,u=e[0],m=0;s>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),l.push(a.substring(s-=u,s+u)),!((m+=u+1)>r));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function Gte(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var Yte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function hf(e){if(!(t=Yte.exec(e)))throw new Error("invalid format: "+e);var t;return new TN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}hf.prototype=TN.prototype;function TN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}TN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Wte(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var iR;function Xte(e,t){var a=Jp(e,t);if(!a)return e+"";var r=a[0],s=a[1],l=s-(iR=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Jp(e,Math.max(0,t+l-1))[0]}function Y6(e,t){var a=Jp(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const W6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:qte,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Y6(e*100,t),r:Y6,s:Xte,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function X6(e){return e}var Z6=Array.prototype.map,Q6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Zte(e){var t=e.grouping===void 0||e.thousands===void 0?X6:Kte(Z6.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?X6:Gte(Z6.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(g){g=hf(g);var b=g.fill,y=g.align,j=g.sign,w=g.symbol,S=g.zero,k=g.width,_=g.comma,C=g.precision,O=g.trim,T=g.type;T==="n"?(_=!0,T="g"):W6[T]||(C===void 0&&(C=12),O=!0,T="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var E=w==="$"?a:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",I=w==="$"?r:/[%p]/.test(T)?c:"",M=W6[T],V=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function Y(U){var F=E,ie=I,Se,oe,P;if(T==="c")ie=M(U)+ie,U="";else{U=+U;var K=U<0||1/U<0;if(U=isNaN(U)?m:M(Math.abs(U),C),O&&(U=Wte(U)),K&&+U==0&&j!=="+"&&(K=!1),F=(K?j==="("?j:u:j==="-"||j==="("?"":j)+F,ie=(T==="s"?Q6[8+iR/3]:"")+ie+(K&&j==="("?")":""),V){for(Se=-1,oe=U.length;++Se<oe;)if(P=U.charCodeAt(Se),48>P||P>57){ie=(P===46?s+U.slice(Se+1):U.slice(Se))+ie,U=U.slice(0,Se);break}}}_&&!S&&(U=t(U,1/0));var W=F.length+U.length+ie.length,B=W<k?new Array(k-W+1).join(b):"";switch(_&&S&&(U=t(B+U,B.length?k-ie.length:1/0),B=""),y){case"<":U=F+U+ie+B;break;case"=":U=F+B+U+ie;break;case"^":U=B.slice(0,W=B.length>>1)+F+U+ie+B.slice(W);break;default:U=B+F+U+ie;break}return l(U)}return Y.toString=function(){return g+""},Y}function h(g,b){var y=f((g=hf(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Ld(b)/3)))*3,w=Math.pow(10,-j),S=Q6[8+j/3];return function(k){return y(w*k)+S}}return{format:f,formatPrefix:h}}var y0,EN,lR;Qte({thousands:",",grouping:[3],currency:["$",""]});function Qte(e){return y0=Zte(e),EN=y0.format,lR=y0.formatPrefix,y0}function Jte(e){return Math.max(0,-Ld(Math.abs(e)))}function ene(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ld(t)/3)))*3-Ld(Math.abs(e)))}function tne(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Ld(t)-Ld(e))+1}function oR(e,t,a,r){var s=yw(e,t,a),l;switch(r=hf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=ene(s,c))&&(r.precision=l),lR(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=tne(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=Jte(s))&&(r.precision=l-(r.type==="%")*2);break}}return EN(r)}function Wl(e){var t=e.domain;return e.ticks=function(a){var r=t();return bw(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return oR(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,l=r.length-1,c=r[s],u=r[l],m,f,h=10;for(u<c&&(f=c,c=u,u=f,f=s,s=l,l=f);h-- >0;){if(f=vw(c,u,a),f===m)return r[s]=c,r[l]=u,t(r);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function cR(){var e=AN();return e.copy=function(){return $f(e,cR())},as.apply(e,arguments),Wl(e)}function dR(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,Qp),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return dR(e).unknown(t)},e=arguments.length?Array.from(e,Qp):[0,1],Wl(a)}function uR(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=t.floor(s),e[r]=t.ceil(l),e}function J6(e){return Math.log(e)}function eT(e){return Math.exp(e)}function nne(e){return-Math.log(-e)}function ane(e){return-Math.exp(-e)}function rne(e){return isFinite(e)?+("1e"+e):e<0?0:e}function sne(e){return e===10?rne:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ine(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function tT(e){return(t,a)=>-e(-t,a)}function ON(e){const t=e(J6,eT),a=t.domain;let r=10,s,l;function c(){return s=ine(r),l=sne(r),a()[0]<0?(s=tT(s),l=tT(l),e(nne,ane)):e(J6,eT),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(a(u),c()):a()},t.ticks=u=>{const m=a();let f=m[0],h=m[m.length-1];const g=h<f;g&&([f,h]=[h,f]);let b=s(f),y=s(h),j,w;const S=u==null?10:+u;let k=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),f>0){for(;b<=y;++b)for(j=1;j<r;++j)if(w=b<0?j/l(-b):j*l(b),!(w<f)){if(w>h)break;k.push(w)}}else for(;b<=y;++b)for(j=r-1;j>=1;--j)if(w=b>0?j/l(-b):j*l(b),!(w<f)){if(w>h)break;k.push(w)}k.length*2<S&&(k=bw(f,h,S))}else k=bw(b,y,Math.min(y-b,S)).map(l);return g?k.reverse():k},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=hf(m)).precision==null&&(m.trim=!0),m=EN(m)),u===1/0)return m;const f=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*r<r-.5&&(g*=r),g<=f?m(h):""}},t.nice=()=>a(uR(a(),{floor:u=>l(Math.floor(s(u))),ceil:u=>l(Math.ceil(s(u)))})),t}function mR(){const e=ON(Gx()).domain([1,10]);return e.copy=()=>$f(e,mR()).base(e.base()),as.apply(e,arguments),e}function nT(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function aT(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function PN(e){var t=1,a=e(nT(t),aT(t));return a.constant=function(r){return arguments.length?e(nT(t=+r),aT(t)):t},Wl(a)}function fR(){var e=PN(Gx());return e.copy=function(){return $f(e,fR()).constant(e.constant())},as.apply(e,arguments)}function rT(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function lne(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function one(e){return e<0?-e*e:e*e}function MN(e){var t=e(Ha,Ha),a=1;function r(){return a===1?e(Ha,Ha):a===.5?e(lne,one):e(rT(a),rT(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},Wl(t)}function DN(){var e=MN(Gx());return e.copy=function(){return $f(e,DN()).exponent(e.exponent())},as.apply(e,arguments),e}function cne(){return DN.apply(null,arguments).exponent(.5)}function sT(e){return Math.sign(e)*e*e}function dne(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function hR(){var e=AN(),t=[0,1],a=!1,r;function s(l){var c=dne(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(sT(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Qp)).map(sT)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return hR(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},as.apply(s,arguments),Wl(s)}function pR(){var e=[],t=[],a=[],r;function s(){var c=0,u=Math.max(1,t.length);for(a=new Array(u-1);++c<u;)a[c-1]=hte(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?r:t[Df(a,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?a[u-1]:e[0],u<a.length?a[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort($l),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return pR().domain(e).range(t).unknown(r)},as.apply(l,arguments)}function xR(){var e=0,t=1,a=1,r=[.5],s=[0,1],l;function c(m){return m!=null&&m<=m?s[Df(r,m,0,a)]:l}function u(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*t-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,u()):s.slice()},c.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=a?[r[a-1],t]:[r[f-1],r[f]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return xR().domain([e,t]).range(s).unknown(l)},as.apply(Wl(c),arguments)}function gR(){var e=[.5],t=[0,1],a,r=1;function s(l){return l!=null&&l<=l?t[Df(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return gR().domain(e).range(t).unknown(a)},as.apply(s,arguments)}const p1=new Date,x1=new Date;function Xn(e,t,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),u=s.ceil(l);return l-c<u-l?c:u},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,u)=>{const m=[];if(l=s.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return m;let f;do m.push(f=new Date(+l)),t(l,u),e(l);while(f<l&&l<c);return m},s.filter=l=>Xn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),a&&(s.count=(l,c)=>(p1.setTime(+l),x1.setTime(+c),e(p1),e(x1),Math.floor(a(p1,x1))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const ex=Xn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);ex.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Xn(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):ex);ex.range;const Ni=1e3,Zr=Ni*60,Si=Zr*60,zi=Si*24,RN=zi*7,iT=zi*30,g1=zi*365,Fo=Xn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ni)},(e,t)=>(t-e)/Ni,e=>e.getUTCSeconds());Fo.range;const $N=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ni)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getMinutes());$N.range;const LN=Xn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Zr)},(e,t)=>(t-e)/Zr,e=>e.getUTCMinutes());LN.range;const IN=Xn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ni-e.getMinutes()*Zr)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getHours());IN.range;const BN=Xn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Si)},(e,t)=>(t-e)/Si,e=>e.getUTCHours());BN.range;const Lf=Xn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Zr)/zi,e=>e.getDate()-1);Lf.range;const Yx=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>e.getUTCDate()-1);Yx.range;const bR=Xn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/zi,e=>Math.floor(e/zi));bR.range;function lc(e){return Xn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Zr)/RN)}const Wx=lc(0),tx=lc(1),une=lc(2),mne=lc(3),Id=lc(4),fne=lc(5),hne=lc(6);Wx.range;tx.range;une.range;mne.range;Id.range;fne.range;hne.range;function oc(e){return Xn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/RN)}const Xx=oc(0),nx=oc(1),pne=oc(2),xne=oc(3),Bd=oc(4),gne=oc(5),bne=oc(6);Xx.range;nx.range;pne.range;xne.range;Bd.range;gne.range;bne.range;const zN=Xn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());zN.range;const UN=Xn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());UN.range;const Ui=Xn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Ui.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});Ui.range;const Fi=Xn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fi.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Xn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});Fi.range;function vR(e,t,a,r,s,l){const c=[[Fo,1,Ni],[Fo,5,5*Ni],[Fo,15,15*Ni],[Fo,30,30*Ni],[l,1,Zr],[l,5,5*Zr],[l,15,15*Zr],[l,30,30*Zr],[s,1,Si],[s,3,3*Si],[s,6,6*Si],[s,12,12*Si],[r,1,zi],[r,2,2*zi],[a,1,RN],[t,1,iT],[t,3,3*iT],[e,1,g1]];function u(f,h,g){const b=h<f;b&&([f,h]=[h,f]);const y=g&&typeof g.range=="function"?g:m(f,h,g),j=y?y.range(f,+h+1):[];return b?j.reverse():j}function m(f,h,g){const b=Math.abs(h-f)/g,y=wN(([,,S])=>S).right(c,b);if(y===c.length)return e.every(yw(f/g1,h/g1,g));if(y===0)return ex.every(Math.max(yw(f,h,g),1));const[j,w]=c[b/c[y-1][2]<c[y][2]/b?y-1:y];return j.every(w)}return[u,m]}const[vne,yne]=vR(Fi,UN,Xx,bR,BN,LN),[jne,wne]=vR(Ui,zN,Wx,Lf,IN,$N);function b1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function v1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function um(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function Nne(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,u=e.months,m=e.shortMonths,f=mm(s),h=fm(s),g=mm(l),b=fm(l),y=mm(c),j=fm(c),w=mm(u),S=fm(u),k=mm(m),_=fm(m),C={a:K,A:W,b:B,B:A,c:null,d:mT,e:mT,f:Kne,g:nae,G:rae,H:Vne,I:Hne,j:qne,L:yR,m:Gne,M:Yne,p:z,q:$,Q:pT,s:xT,S:Wne,u:Xne,U:Zne,V:Qne,w:Jne,W:eae,x:null,X:null,y:tae,Y:aae,Z:sae,"%":hT},O={a:G,A:ue,b:ee,B:Z,c:null,d:fT,e:fT,f:cae,g:vae,G:jae,H:iae,I:lae,j:oae,L:wR,m:dae,M:uae,p:Ae,q:ae,Q:pT,s:xT,S:mae,u:fae,U:hae,V:pae,w:xae,W:gae,x:null,X:null,y:bae,Y:yae,Z:wae,"%":hT},T={a:Y,A:U,b:F,B:ie,c:Se,d:dT,e:dT,f:Bne,g:cT,G:oT,H:uT,I:uT,j:Rne,L:Ine,m:Dne,M:$ne,p:V,q:Mne,Q:Une,s:Fne,S:Lne,u:Ane,U:Tne,V:Ene,w:Cne,W:One,x:oe,X:P,y:cT,Y:oT,Z:Pne,"%":zne};C.x=E(a,C),C.X=E(r,C),C.c=E(t,C),O.x=E(a,O),O.X=E(r,O),O.c=E(t,O);function E(_e,Me){return function(Pe){var ge=[],qe=-1,Ve=0,ye=_e.length,ce,Ee,te;for(Pe instanceof Date||(Pe=new Date(+Pe));++qe<ye;)_e.charCodeAt(qe)===37&&(ge.push(_e.slice(Ve,qe)),(Ee=lT[ce=_e.charAt(++qe)])!=null?ce=_e.charAt(++qe):Ee=ce==="e"?" ":"0",(te=Me[ce])&&(ce=te(Pe,Ee)),ge.push(ce),Ve=qe+1);return ge.push(_e.slice(Ve,qe)),ge.join("")}}function I(_e,Me){return function(Pe){var ge=um(1900,void 0,1),qe=M(ge,_e,Pe+="",0),Ve,ye;if(qe!=Pe.length)return null;if("Q"in ge)return new Date(ge.Q);if("s"in ge)return new Date(ge.s*1e3+("L"in ge?ge.L:0));if(Me&&!("Z"in ge)&&(ge.Z=0),"p"in ge&&(ge.H=ge.H%12+ge.p*12),ge.m===void 0&&(ge.m="q"in ge?ge.q:0),"V"in ge){if(ge.V<1||ge.V>53)return null;"w"in ge||(ge.w=1),"Z"in ge?(Ve=v1(um(ge.y,0,1)),ye=Ve.getUTCDay(),Ve=ye>4||ye===0?nx.ceil(Ve):nx(Ve),Ve=Yx.offset(Ve,(ge.V-1)*7),ge.y=Ve.getUTCFullYear(),ge.m=Ve.getUTCMonth(),ge.d=Ve.getUTCDate()+(ge.w+6)%7):(Ve=b1(um(ge.y,0,1)),ye=Ve.getDay(),Ve=ye>4||ye===0?tx.ceil(Ve):tx(Ve),Ve=Lf.offset(Ve,(ge.V-1)*7),ge.y=Ve.getFullYear(),ge.m=Ve.getMonth(),ge.d=Ve.getDate()+(ge.w+6)%7)}else("W"in ge||"U"in ge)&&("w"in ge||(ge.w="u"in ge?ge.u%7:"W"in ge?1:0),ye="Z"in ge?v1(um(ge.y,0,1)).getUTCDay():b1(um(ge.y,0,1)).getDay(),ge.m=0,ge.d="W"in ge?(ge.w+6)%7+ge.W*7-(ye+5)%7:ge.w+ge.U*7-(ye+6)%7);return"Z"in ge?(ge.H+=ge.Z/100|0,ge.M+=ge.Z%100,v1(ge)):b1(ge)}}function M(_e,Me,Pe,ge){for(var qe=0,Ve=Me.length,ye=Pe.length,ce,Ee;qe<Ve;){if(ge>=ye)return-1;if(ce=Me.charCodeAt(qe++),ce===37){if(ce=Me.charAt(qe++),Ee=T[ce in lT?Me.charAt(qe++):ce],!Ee||(ge=Ee(_e,Pe,ge))<0)return-1}else if(ce!=Pe.charCodeAt(ge++))return-1}return ge}function V(_e,Me,Pe){var ge=f.exec(Me.slice(Pe));return ge?(_e.p=h.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function Y(_e,Me,Pe){var ge=y.exec(Me.slice(Pe));return ge?(_e.w=j.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function U(_e,Me,Pe){var ge=g.exec(Me.slice(Pe));return ge?(_e.w=b.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function F(_e,Me,Pe){var ge=k.exec(Me.slice(Pe));return ge?(_e.m=_.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function ie(_e,Me,Pe){var ge=w.exec(Me.slice(Pe));return ge?(_e.m=S.get(ge[0].toLowerCase()),Pe+ge[0].length):-1}function Se(_e,Me,Pe){return M(_e,t,Me,Pe)}function oe(_e,Me,Pe){return M(_e,a,Me,Pe)}function P(_e,Me,Pe){return M(_e,r,Me,Pe)}function K(_e){return c[_e.getDay()]}function W(_e){return l[_e.getDay()]}function B(_e){return m[_e.getMonth()]}function A(_e){return u[_e.getMonth()]}function z(_e){return s[+(_e.getHours()>=12)]}function $(_e){return 1+~~(_e.getMonth()/3)}function G(_e){return c[_e.getUTCDay()]}function ue(_e){return l[_e.getUTCDay()]}function ee(_e){return m[_e.getUTCMonth()]}function Z(_e){return u[_e.getUTCMonth()]}function Ae(_e){return s[+(_e.getUTCHours()>=12)]}function ae(_e){return 1+~~(_e.getUTCMonth()/3)}return{format:function(_e){var Me=E(_e+="",C);return Me.toString=function(){return _e},Me},parse:function(_e){var Me=I(_e+="",!1);return Me.toString=function(){return _e},Me},utcFormat:function(_e){var Me=E(_e+="",O);return Me.toString=function(){return _e},Me},utcParse:function(_e){var Me=I(_e+="",!0);return Me.toString=function(){return _e},Me}}}var lT={"-":"",_:" ",0:"0"},ca=/^\s*\d+/,Sne=/^%/,_ne=/[\\^$*+?|[\]().{}]/g;function zt(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(t)+s:s)}function kne(e){return e.replace(_ne,"\\$&")}function mm(e){return new RegExp("^(?:"+e.map(kne).join("|")+")","i")}function fm(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function Cne(e,t,a){var r=ca.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function Ane(e,t,a){var r=ca.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function Tne(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function Ene(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function One(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function oT(e,t,a){var r=ca.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function cT(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function Pne(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function Mne(e,t,a){var r=ca.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function Dne(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function dT(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function Rne(e,t,a){var r=ca.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function uT(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function $ne(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function Lne(e,t,a){var r=ca.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function Ine(e,t,a){var r=ca.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function Bne(e,t,a){var r=ca.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function zne(e,t,a){var r=Sne.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function Une(e,t,a){var r=ca.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function Fne(e,t,a){var r=ca.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function mT(e,t){return zt(e.getDate(),t,2)}function Vne(e,t){return zt(e.getHours(),t,2)}function Hne(e,t){return zt(e.getHours()%12||12,t,2)}function qne(e,t){return zt(1+Lf.count(Ui(e),e),t,3)}function yR(e,t){return zt(e.getMilliseconds(),t,3)}function Kne(e,t){return yR(e,t)+"000"}function Gne(e,t){return zt(e.getMonth()+1,t,2)}function Yne(e,t){return zt(e.getMinutes(),t,2)}function Wne(e,t){return zt(e.getSeconds(),t,2)}function Xne(e){var t=e.getDay();return t===0?7:t}function Zne(e,t){return zt(Wx.count(Ui(e)-1,e),t,2)}function jR(e){var t=e.getDay();return t>=4||t===0?Id(e):Id.ceil(e)}function Qne(e,t){return e=jR(e),zt(Id.count(Ui(e),e)+(Ui(e).getDay()===4),t,2)}function Jne(e){return e.getDay()}function eae(e,t){return zt(tx.count(Ui(e)-1,e),t,2)}function tae(e,t){return zt(e.getFullYear()%100,t,2)}function nae(e,t){return e=jR(e),zt(e.getFullYear()%100,t,2)}function aae(e,t){return zt(e.getFullYear()%1e4,t,4)}function rae(e,t){var a=e.getDay();return e=a>=4||a===0?Id(e):Id.ceil(e),zt(e.getFullYear()%1e4,t,4)}function sae(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+zt(t/60|0,"0",2)+zt(t%60,"0",2)}function fT(e,t){return zt(e.getUTCDate(),t,2)}function iae(e,t){return zt(e.getUTCHours(),t,2)}function lae(e,t){return zt(e.getUTCHours()%12||12,t,2)}function oae(e,t){return zt(1+Yx.count(Fi(e),e),t,3)}function wR(e,t){return zt(e.getUTCMilliseconds(),t,3)}function cae(e,t){return wR(e,t)+"000"}function dae(e,t){return zt(e.getUTCMonth()+1,t,2)}function uae(e,t){return zt(e.getUTCMinutes(),t,2)}function mae(e,t){return zt(e.getUTCSeconds(),t,2)}function fae(e){var t=e.getUTCDay();return t===0?7:t}function hae(e,t){return zt(Xx.count(Fi(e)-1,e),t,2)}function NR(e){var t=e.getUTCDay();return t>=4||t===0?Bd(e):Bd.ceil(e)}function pae(e,t){return e=NR(e),zt(Bd.count(Fi(e),e)+(Fi(e).getUTCDay()===4),t,2)}function xae(e){return e.getUTCDay()}function gae(e,t){return zt(nx.count(Fi(e)-1,e),t,2)}function bae(e,t){return zt(e.getUTCFullYear()%100,t,2)}function vae(e,t){return e=NR(e),zt(e.getUTCFullYear()%100,t,2)}function yae(e,t){return zt(e.getUTCFullYear()%1e4,t,4)}function jae(e,t){var a=e.getUTCDay();return e=a>=4||a===0?Bd(e):Bd.ceil(e),zt(e.getUTCFullYear()%1e4,t,4)}function wae(){return"+0000"}function hT(){return"%"}function pT(e){return+e}function xT(e){return Math.floor(+e/1e3)}var qc,SR,_R;Nae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Nae(e){return qc=Nne(e),SR=qc.format,qc.parse,_R=qc.utcFormat,qc.utcParse,qc}function Sae(e){return new Date(e)}function _ae(e){return e instanceof Date?+e:+new Date(+e)}function FN(e,t,a,r,s,l,c,u,m,f){var h=AN(),g=h.invert,b=h.domain,y=f(".%L"),j=f(":%S"),w=f("%I:%M"),S=f("%I %p"),k=f("%a %d"),_=f("%b %d"),C=f("%B"),O=f("%Y");function T(E){return(m(E)<E?y:u(E)<E?j:c(E)<E?w:l(E)<E?S:r(E)<E?s(E)<E?k:_:a(E)<E?C:O)(E)}return h.invert=function(E){return new Date(g(E))},h.domain=function(E){return arguments.length?b(Array.from(E,_ae)):b().map(Sae)},h.ticks=function(E){var I=b();return e(I[0],I[I.length-1],E??10)},h.tickFormat=function(E,I){return I==null?T:f(I)},h.nice=function(E){var I=b();return(!E||typeof E.range!="function")&&(E=t(I[0],I[I.length-1],E??10)),E?b(uR(I,E)):h},h.copy=function(){return $f(h,FN(e,t,a,r,s,l,c,u,m,f))},h}function kae(){return as.apply(FN(jne,wne,Ui,zN,Wx,Lf,IN,$N,Fo,SR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Cae(){return as.apply(FN(vne,yne,Fi,UN,Xx,Yx,BN,LN,Fo,_R).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Zx(){var e=0,t=1,a,r,s,l,c=Ha,u=!1,m;function f(g){return g==null||isNaN(g=+g)?m:c(s===0?.5:(g=(l(g)-a)*s,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,a=l(e=+e),r=l(t=+t),s=a===r?0:1/(r-a),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(c=g,f):c};function h(g){return function(b){var y,j;return arguments.length?([y,j]=b,c=g(y,j),f):[c(0),c(1)]}}return f.range=h(Jd),f.rangeRound=h(CN),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return l=g,a=g(e),r=g(t),s=a===r?0:1/(r-a),f}}function Xl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function kR(){var e=Wl(Zx()(Ha));return e.copy=function(){return Xl(e,kR())},Gi.apply(e,arguments)}function CR(){var e=ON(Zx()).domain([1,10]);return e.copy=function(){return Xl(e,CR()).base(e.base())},Gi.apply(e,arguments)}function AR(){var e=PN(Zx());return e.copy=function(){return Xl(e,AR()).constant(e.constant())},Gi.apply(e,arguments)}function VN(){var e=MN(Zx());return e.copy=function(){return Xl(e,VN()).exponent(e.exponent())},Gi.apply(e,arguments)}function Aae(){return VN.apply(null,arguments).exponent(.5)}function TR(){var e=[],t=Ha;function a(r){if(r!=null&&!isNaN(r=+r))return t((Df(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort($l),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>fte(e,l/r))},a.copy=function(){return TR(t).domain(e)},Gi.apply(a,arguments)}function Qx(){var e=0,t=.5,a=1,r=1,s,l,c,u,m,f=Ha,h,g=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-l)*(r*w<r*l?u:m),f(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,a]=w,s=h(e=+e),l=h(t=+t),c=h(a=+a),u=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y):[e,t,a]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(f=w,y):f};function j(w){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,f=zte(w,[k,_,C]),y):[f(0),f(.5),f(1)]}}return y.range=j(Jd),y.rangeRound=j(CN),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,s=w(e),l=w(t),c=w(a),u=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y}}function ER(){var e=Wl(Qx()(Ha));return e.copy=function(){return Xl(e,ER())},Gi.apply(e,arguments)}function OR(){var e=ON(Qx()).domain([.1,1,10]);return e.copy=function(){return Xl(e,OR()).base(e.base())},Gi.apply(e,arguments)}function PR(){var e=PN(Qx());return e.copy=function(){return Xl(e,PR()).constant(e.constant())},Gi.apply(e,arguments)}function HN(){var e=MN(Qx());return e.copy=function(){return Xl(e,HN()).exponent(e.exponent())},Gi.apply(e,arguments)}function Tae(){return HN.apply(null,arguments).exponent(.5)}const Mm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:SN,scaleDiverging:ER,scaleDivergingLog:OR,scaleDivergingPow:HN,scaleDivergingSqrt:Tae,scaleDivergingSymlog:PR,scaleIdentity:dR,scaleImplicit:jw,scaleLinear:cR,scaleLog:mR,scaleOrdinal:NN,scalePoint:xte,scalePow:DN,scaleQuantile:pR,scaleQuantize:xR,scaleRadial:hR,scaleSequential:kR,scaleSequentialLog:CR,scaleSequentialPow:VN,scaleSequentialQuantile:TR,scaleSequentialSqrt:Aae,scaleSequentialSymlog:AR,scaleSqrt:cne,scaleSymlog:fR,scaleThreshold:gR,scaleTime:kae,scaleUtc:Cae,tickFormat:oR},Symbol.toStringTag,{value:"Module"}));var Zl=e=>e.chartData,qN=Te([Zl],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Jx=(e,t,a,r)=>r?qN(e):Zl(e);function zd(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(Er(t)&&Er(a))return!0}return!1}function gT(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Eae(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(Er(a))s=a;else if(typeof a=="function")return;if(Er(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(zd(c))return c}}function Oae(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(zd(r))return gT(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,u;if(s==="auto")t!=null&&(c=Math.min(...t));else if(Qe(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&i6.test(s)){var m=i6.exec(s);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[0]-f}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(Qe(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&l6.test(l)){var h=l6.exec(l);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var b=[c,u];if(zd(b))return t==null?b:gT(b,t,a)}}}var eu=1e9,Pae={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},GN,hn=!0,ts="[DecimalError] ",Xo=ts+"Invalid argument: ",KN=ts+"Exponent out of range: ",tu=Math.floor,Oo=Math.pow,Mae=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Nr,ia=1e7,ln=7,MR=9007199254740991,ax=tu(MR/ln),et={};et.absoluteValue=et.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};et.comparedTo=et.cmp=function(e){var t,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};et.decimalPlaces=et.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*ln;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};et.dividedBy=et.div=function(e){return Ti(this,new this.constructor(e))};et.dividedToIntegerBy=et.idiv=function(e){var t=this,a=t.constructor;return en(Ti(t,new a(e),0,1),a.precision)};et.equals=et.eq=function(e){return!this.cmp(e)};et.exponent=function(){return Fn(this)};et.greaterThan=et.gt=function(e){return this.cmp(e)>0};et.greaterThanOrEqualTo=et.gte=function(e){return this.cmp(e)>=0};et.isInteger=et.isint=function(){return this.e>this.d.length-2};et.isNegative=et.isneg=function(){return this.s<0};et.isPositive=et.ispos=function(){return this.s>0};et.isZero=function(){return this.s===0};et.lessThan=et.lt=function(e){return this.cmp(e)<0};et.lessThanOrEqualTo=et.lte=function(e){return this.cmp(e)<1};et.logarithm=et.log=function(e){var t,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(Nr))throw Error(ts+"NaN");if(a.s<1)throw Error(ts+(a.s?"NaN":"-Infinity"));return a.eq(Nr)?new r(0):(hn=!1,t=Ti(pf(a,l),pf(e,l),l),hn=!0,en(t,s))};et.minus=et.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?$R(t,e):DR(t,(e.s=-e.s,e))};et.modulo=et.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(ts+"NaN");return a.s?(hn=!1,t=Ti(a,e,0,1).times(e),hn=!0,a.minus(t)):en(new r(a),s)};et.naturalExponential=et.exp=function(){return RR(this)};et.naturalLogarithm=et.ln=function(){return pf(this)};et.negated=et.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};et.plus=et.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DR(t,e):$R(t,(e.s=-e.s,e))};et.precision=et.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Xo+e);if(t=Fn(s)+1,r=s.d.length-1,a=r*ln+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};et.squareRoot=et.sqrt=function(){var e,t,a,r,s,l,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(ts+"NaN")}for(e=Fn(u),hn=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Vs(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=tu((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(l=r,r=l.plus(Ti(u,l,c+2)).times(.5),Vs(l.d).slice(0,c)===(t=Vs(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(en(l,a+1,0),l.times(l).eq(u)){r=l;break}}else if(t!="9999")break;c+=4}return hn=!0,en(r,a)};et.times=et.mul=function(e){var t,a,r,s,l,c,u,m,f,h=this,g=h.constructor,b=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,a=h.e+e.e,m=b.length,f=y.length,m<f&&(l=b,b=y,y=l,c=m,m=f,f=c),l=[],c=m+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)u=l[s]+y[r]*b[s-r-1]+t,l[s--]=u%ia|0,t=u/ia|0;l[s]=(l[s]+t)%ia|0}for(;!l[--c];)l.pop();return t?++a:l.shift(),e.d=l,e.e=a,hn?en(e,g.precision):e};et.toDecimalPlaces=et.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(Xs(e,0,eu),t===void 0?t=r.rounding:Xs(t,0,8),en(a,e+Fn(a)+1,t))};et.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=ac(r,!0):(Xs(e,0,eu),t===void 0?t=s.rounding:Xs(t,0,8),r=en(new s(r),e+1,t),a=ac(r,!0,e+1)),a};et.toFixed=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?ac(s):(Xs(e,0,eu),t===void 0?t=l.rounding:Xs(t,0,8),r=en(new l(s),e+Fn(s)+1,t),a=ac(r.abs(),!1,e+Fn(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};et.toInteger=et.toint=function(){var e=this,t=e.constructor;return en(new t(e),Fn(e)+1,t.rounding)};et.toNumber=function(){return+this};et.toPower=et.pow=function(e){var t,a,r,s,l,c,u=this,m=u.constructor,f=12,h=+(e=new m(e));if(!e.s)return new m(Nr);if(u=new m(u),!u.s){if(e.s<1)throw Error(ts+"Infinity");return u}if(u.eq(Nr))return u;if(r=m.precision,e.eq(Nr))return en(u,r);if(t=e.e,a=e.d.length-1,c=t>=a,l=u.s,c){if((a=h<0?-h:h)<=MR){for(s=new m(Nr),t=Math.ceil(r/ln+4),hn=!1;a%2&&(s=s.times(u),vT(s.d,t)),a=tu(a/2),a!==0;)u=u.times(u),vT(u.d,t);return hn=!0,e.s<0?new m(Nr).div(s):en(s,r)}}else if(l<0)throw Error(ts+"NaN");return l=l<0&&e.d[Math.max(t,a)]&1?-1:1,u.s=1,hn=!1,s=e.times(pf(u,r+f)),hn=!0,s=RR(s),s.s=l,s};et.toPrecision=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?(a=Fn(s),r=ac(s,a<=l.toExpNeg||a>=l.toExpPos)):(Xs(e,1,eu),t===void 0?t=l.rounding:Xs(t,0,8),s=en(new l(s),e,t),a=Fn(s),r=ac(s,e<=a||a<=l.toExpNeg,e)),r};et.toSignificantDigits=et.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Xs(e,1,eu),t===void 0?t=r.rounding:Xs(t,0,8)),en(new r(a),e,t)};et.toString=et.valueOf=et.val=et.toJSON=et[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Fn(e),a=e.constructor;return ac(e,t<=a.toExpNeg||t>=a.toExpPos)};function DR(e,t){var a,r,s,l,c,u,m,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),hn?en(t,g):t;if(m=e.d,f=t.d,c=e.e,s=t.e,m=m.slice(),l=c-s,l){for(l<0?(r=m,l=-l,u=f.length):(r=f,s=c,u=m.length),c=Math.ceil(g/ln),u=c>u?c+1:u+1,l>u&&(l=u,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(u=m.length,l=f.length,u-l<0&&(l=u,r=f,f=m,m=r),a=0;l;)a=(m[--l]=m[l]+f[l]+a)/ia|0,m[l]%=ia;for(a&&(m.unshift(a),++s),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=s,hn?en(t,g):t}function Xs(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Xo+e)}function Vs(e){var t,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",a=ln-r.length,a&&(l+=Pl(a)),l+=r;c=e[t],r=c+"",a=ln-r.length,a&&(l+=Pl(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var Ti=function(){function e(r,s){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*s+c,r[u]=l%ia|0,c=l/ia|0;return c&&r.unshift(c),r}function t(r,s,l,c){var u,m;if(l!=c)m=l>c?1:-1;else for(u=m=0;u<l;u++)if(r[u]!=s[u]){m=r[u]>s[u]?1:-1;break}return m}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*ia+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var u,m,f,h,g,b,y,j,w,S,k,_,C,O,T,E,I,M,V=r.constructor,Y=r.s==s.s?1:-1,U=r.d,F=s.d;if(!r.s)return new V(r);if(!s.s)throw Error(ts+"Division by zero");for(m=r.e-s.e,I=F.length,T=U.length,y=new V(Y),j=y.d=[],f=0;F[f]==(U[f]||0);)++f;if(F[f]>(U[f]||0)&&--m,l==null?_=l=V.precision:c?_=l+(Fn(r)-Fn(s))+1:_=l,_<0)return new V(0);if(_=_/ln+2|0,f=0,I==1)for(h=0,F=F[0],_++;(f<T||h)&&_--;f++)C=h*ia+(U[f]||0),j[f]=C/F|0,h=C%F|0;else{for(h=ia/(F[0]+1)|0,h>1&&(F=e(F,h),U=e(U,h),I=F.length,T=U.length),O=I,w=U.slice(0,I),S=w.length;S<I;)w[S++]=0;M=F.slice(),M.unshift(0),E=F[0],F[1]>=ia/2&&++E;do h=0,u=t(F,w,I,S),u<0?(k=w[0],I!=S&&(k=k*ia+(w[1]||0)),h=k/E|0,h>1?(h>=ia&&(h=ia-1),g=e(F,h),b=g.length,S=w.length,u=t(g,w,b,S),u==1&&(h--,a(g,I<b?M:F,b))):(h==0&&(u=h=1),g=F.slice()),b=g.length,b<S&&g.unshift(0),a(w,g,S),u==-1&&(S=w.length,u=t(F,w,I,S),u<1&&(h++,a(w,I<S?M:F,S))),S=w.length):u===0&&(h++,w=[0]),j[f++]=h,u&&w[0]?w[S++]=U[O]||0:(w=[U[O]],S=1);while((O++<T||w[0]!==void 0)&&_--)}return j[0]||j.shift(),y.e=m,en(y,c?l+Fn(y)+1:l)}}();function RR(e,t){var a,r,s,l,c,u,m=0,f=0,h=e.constructor,g=h.precision;if(Fn(e)>16)throw Error(KN+Fn(e));if(!e.s)return new h(Nr);for(hn=!1,u=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log(Oo(2,f))/Math.LN10*2+5|0,u+=r,a=s=l=new h(Nr),h.precision=u;;){if(s=en(s.times(e),u),a=a.times(++m),c=l.plus(Ti(s,a,u)),Vs(c.d).slice(0,u)===Vs(l.d).slice(0,u)){for(;f--;)l=en(l.times(l),u);return h.precision=g,t==null?(hn=!0,en(l,g)):l}l=c}}function Fn(e){for(var t=e.e*ln,a=e.d[0];a>=10;a/=10)t++;return t}function y1(e,t,a){if(t>e.LN10.sd())throw hn=!0,a&&(e.precision=a),Error(ts+"LN10 precision limit exceeded");return en(new e(e.LN10),t)}function Pl(e){for(var t="";e--;)t+="0";return t}function pf(e,t){var a,r,s,l,c,u,m,f,h,g=1,b=10,y=e,j=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(ts+(y.s?"NaN":"-Infinity"));if(y.eq(Nr))return new w(0);if(t==null?(hn=!1,f=S):f=t,y.eq(10))return t==null&&(hn=!0),y1(w,f);if(f+=b,w.precision=f,a=Vs(j),r=a.charAt(0),l=Fn(y),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)y=y.times(e),a=Vs(y.d),r=a.charAt(0),g++;l=Fn(y),r>1?(y=new w("0."+a),l++):y=new w(r+"."+a.slice(1))}else return m=y1(w,f+2,S).times(l+""),y=pf(new w(r+"."+a.slice(1)),f-b).plus(m),w.precision=S,t==null?(hn=!0,en(y,S)):y;for(u=c=y=Ti(y.minus(Nr),y.plus(Nr),f),h=en(y.times(y),f),s=3;;){if(c=en(c.times(h),f),m=u.plus(Ti(c,new w(s),f)),Vs(m.d).slice(0,f)===Vs(u.d).slice(0,f))return u=u.times(2),l!==0&&(u=u.plus(y1(w,f+2,S).times(l+""))),u=Ti(u,new w(g),f),w.precision=S,t==null?(hn=!0,en(u,S)):u;u=m,s+=2}}function bT(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=tu(a/ln),e.d=[],r=(a+1)%ln,a<0&&(r+=ln),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=ln;r<s;)e.d.push(+t.slice(r,r+=ln));t=t.slice(r),r=ln-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),hn&&(e.e>ax||e.e<-ax))throw Error(KN+a)}else e.s=0,e.e=0,e.d=[0];return e}function en(e,t,a){var r,s,l,c,u,m,f,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=ln,s=t,f=g[h=0];else{if(h=Math.ceil((r+1)/ln),l=g.length,h>=l)return e;for(f=l=g[h],c=1;l>=10;l/=10)c++;r%=ln,s=r-ln+c}if(a!==void 0&&(l=Oo(10,c-s-1),u=f/l%10|0,m=t<0||g[h+1]!==void 0||f%l,m=a<4?(u||m)&&(a==0||a==(e.s<0?3:2)):u>5||u==5&&(a==4||m||a==6&&(r>0?s>0?f/Oo(10,c-s):0:g[h-1])%10&1||a==(e.s<0?8:7))),t<1||!g[0])return m?(l=Fn(e),g.length=1,t=t-l-1,g[0]=Oo(10,(ln-t%ln)%ln),e.e=tu(-t/ln)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=Oo(10,ln-r),g[h]=s>0?(f/Oo(10,c-s)%Oo(10,s)|0)*l:0),m)for(;;)if(h==0){(g[0]+=l)==ia&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=ia)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(hn&&(e.e>ax||e.e<-ax))throw Error(KN+Fn(e));return e}function $R(e,t){var a,r,s,l,c,u,m,f,h,g,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),hn?en(t,y):t;if(m=e.d,g=t.d,r=t.e,f=e.e,m=m.slice(),c=f-r,c){for(h=c<0,h?(a=m,c=-c,u=g.length):(a=g,r=f,u=m.length),s=Math.max(Math.ceil(y/ln),u)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,u=g.length,h=s<u,h&&(u=s),s=0;s<u;s++)if(m[s]!=g[s]){h=m[s]<g[s];break}c=0}for(h&&(a=m,m=g,g=a,t.s=-t.s),u=m.length,s=g.length-u;s>0;--s)m[u++]=0;for(s=g.length;s>c;){if(m[--s]<g[s]){for(l=s;l&&m[--l]===0;)m[l]=ia-1;--m[l],m[s]+=ia}m[s]-=g[s]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,hn?en(t,y):t):new b(0)}function ac(e,t,a){var r,s=Fn(e),l=Vs(e.d),c=l.length;return t?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+Pl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+Pl(-s-1)+l,a&&(r=a-c)>0&&(l+=Pl(r))):s>=c?(l+=Pl(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+Pl(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=Pl(r))),e.s<0?"-"+l:l}function vT(e,t){if(e.length>t)return e.length=t,!0}function LR(e){var t,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Xo+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return bT(c,l.toString())}else if(typeof l!="string")throw Error(Xo+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,Mae.test(l))bT(c,l);else throw Error(Xo+l)}if(s.prototype=et,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=LR,s.config=s.set=Dae,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function Dae(e){if(!e||typeof e!="object")throw Error(ts+"Object expected");var t,a,r,s=["precision",1,eu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(tu(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(Xo+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Xo+a+": "+r);return this}var GN=LR(Pae);Nr=new GN(1);const Kt=GN;var Rae=e=>e,IR={},BR=e=>e===IR,yT=e=>function t(){return arguments.length===0||arguments.length===1&&BR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},zR=(e,t)=>e===1?t:yT(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==IR).length;return l>=e?t(...r):zR(e-l,yT(function(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var f=r.map(h=>BR(h)?u.shift():h);return t(...f,...u)}))}),eg=e=>zR(e.length,e),_w=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},$ae=eg((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),Lae=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return Rae;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((u,m)=>m(u),l(...arguments))}},kw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),UR=e=>{var t=null,a=null;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return t&&s.every((c,u)=>{var m;return c===((m=t)===null||m===void 0?void 0:m[u])})||(t=s,a=e(...s)),a}};function FR(e){var t;return e===0?t=1:t=Math.floor(new Kt(e).abs().log(10).toNumber())+1,t}function VR(e,t,a){for(var r=new Kt(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}eg((e,t,a)=>{var r=+e,s=+t;return r+a*(s-r)});eg((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});eg((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var HR=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},qR=(e,t,a)=>{if(e.lte(0))return new Kt(0);var r=FR(e.toNumber()),s=new Kt(10).pow(r),l=e.div(s),c=r!==1?.05:.1,u=new Kt(Math.ceil(l.div(c).toNumber())).add(a).mul(c),m=u.mul(s);return t?new Kt(m.toNumber()):new Kt(Math.ceil(m.toNumber()))},Iae=(e,t,a)=>{var r=new Kt(1),s=new Kt(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new Kt(10).pow(FR(e)-1),s=new Kt(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new Kt(Math.floor(e)))}else e===0?s=new Kt(Math.floor((t-1)/2)):a||(s=new Kt(Math.floor(e)));var c=Math.floor((t-1)/2),u=Lae($ae(m=>s.add(new Kt(m-c).mul(r)).toNumber()),_w);return u(0,t)},KR=function(t,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new Kt(0),tickMin:new Kt(0),tickMax:new Kt(0)};var c=qR(new Kt(a).sub(t).div(r-1),s,l),u;t<=0&&a>=0?u=new Kt(0):(u=new Kt(t).add(a).div(2),u=u.sub(new Kt(u).mod(c)));var m=Math.ceil(u.sub(t).div(c).toNumber()),f=Math.ceil(new Kt(a).sub(u).div(c).toNumber()),h=m+f+1;return h>r?KR(t,a,r,s,l+1):(h<r&&(f=a>0?f+(r-h):f,m=a>0?m:m+(r-h)),{step:c,tickMin:u.sub(new Kt(m).mul(c)),tickMax:u.add(new Kt(f).mul(c))})};function Bae(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,u]=HR([t,a]);if(c===-1/0||u===1/0){var m=u===1/0?[c,..._w(0,r-1).map(()=>1/0)]:[..._w(0,r-1).map(()=>-1/0),u];return t>a?kw(m):m}if(c===u)return Iae(c,r,s);var{step:f,tickMin:h,tickMax:g}=KR(c,u,l,s,0),b=VR(h,g.add(new Kt(.1).mul(f)),f);return t>a?kw(b):b}function zae(e,t){var[a,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=HR([a,r]);if(l===-1/0||c===1/0)return[a,r];if(l===c)return[l];var u=Math.max(t,2),m=qR(new Kt(c).sub(l).div(u-1),s,0),f=[...VR(new Kt(l),new Kt(c),m),c];return s===!1&&(f=f.map(h=>Math.round(h))),a>r?kw(f):f}var Uae=UR(Bae),Fae=UR(zae),GR=e=>e.rootProps.maxBarSize,Vae=e=>e.rootProps.barGap,YR=e=>e.rootProps.barCategoryGap,Hae=e=>e.rootProps.barSize,If=e=>e.rootProps.stackOffset,YN=e=>e.options.chartName,WN=e=>e.rootProps.syncId,WR=e=>e.rootProps.syncMethod,XN=e=>e.options.eventEmitter,ji={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},jr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},tg=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},qae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ji.angleAxisId,includeHidden:!1,name:void 0,reversed:ji.reversed,scale:ji.scale,tick:ji.tick,tickCount:void 0,ticks:void 0,type:ji.type,unit:void 0},Kae={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:jr.type,unit:void 0},Gae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ji.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ji.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ji.scale,tick:ji.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Yae={allowDataOverflow:jr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:jr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:jr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:jr.scale,tick:jr.tick,tickCount:jr.tickCount,ticks:void 0,type:"category",unit:void 0},ZN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Gae:qae,QN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Yae:Kae,ng=e=>e.polarOptions,JN=Te([qi,Ki,Wn],A8),XR=Te([ng,JN],(e,t)=>{if(e!=null)return Ga(e.innerRadius,t,0)}),ZR=Te([ng,JN],(e,t)=>{if(e!=null)return Ga(e.outerRadius,t,t*.8)}),Wae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},QR=Te([ng],Wae);Te([ZN,QR],tg);var JR=Te([JN,XR,ZR],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});Te([QN,JR],tg);var e7=Te([Rt,ng,XR,ZR,qi,Ki],(e,t,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:u,startAngle:m,endAngle:f}=t;return{cx:Ga(c,s,s/2),cy:Ga(u,l,l/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),xn=(e,t)=>t,Bf=(e,t,a)=>a;function eS(e){return e==null?void 0:e.id}var Zn=e=>{var t=Rt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},nu=e=>e.tooltip.settings.axisId,Qn=e=>{var t=Zn(e),a=nu(e);return zf(e,t,a)};function t7(e,t,a){var{chartData:r=[]}=t,s=a==null?void 0:a.dataKey,l=new Map;return e.forEach(c=>{var u,m=(u=c.data)!==null&&u!==void 0?u:r;if(!(m==null||m.length===0)){var f=eS(c);m.forEach((h,g)=>{var b=s==null?g:String(Jt(h,s,null)),y=Jt(h,c.dataKey,0),j;l.has(b)?j=l.get(b):j={},Object.assign(j,{[f]:y}),l.set(b,j)})}}),Array.from(l.values())}function ag(e){return e.stackId!=null&&e.dataKey!=null}function jT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function rx(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jT(Object(a),!0).forEach(function(r){Xae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xae(e,t,a){return(t=Zae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zae(e){var t=Qae(e,"string");return typeof t=="symbol"?t:t+""}function Qae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Cw=[0,"auto"],vr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Yi=(e,t)=>{var a=e.cartesianAxis.xAxis[t];return a??vr},yr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:Cw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Vx},Ql=(e,t)=>{var a=e.cartesianAxis.yAxis[t];return a??yr},Jae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},tS=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??Jae},$n=(e,t,a)=>{switch(t){case"xAxis":return Yi(e,a);case"yAxis":return Ql(e,a);case"zAxis":return tS(e,a);case"angleAxis":return ZN(e,a);case"radiusAxis":return QN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},ere=(e,t,a)=>{switch(t){case"xAxis":return Yi(e,a);case"yAxis":return Ql(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},zf=(e,t,a)=>{switch(t){case"xAxis":return Yi(e,a);case"yAxis":return Ql(e,a);case"angleAxis":return ZN(e,a);case"radiusAxis":return QN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},n7=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function nS(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var rg=e=>e.graphicalItems.cartesianItems,tre=Te([xn,Bf],nS),aS=(e,t,a)=>e.filter(a).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Uf=Te([rg,$n,tre],aS),a7=Te([Uf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(ag)),r7=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),s7=Te([Uf],r7),rS=e=>e.map(t=>t.data).filter(Boolean).flat(1),nre=Te([Uf],rS),sS=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},iS=Te([nre,Jx],sS),lS=(e,t,a)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Jt(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Jt(s,r)}))):e.map(r=>({value:r})),sg=Te([iS,$n,Uf],lS);function i7(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function cc(e){return e.filter(t=>Ws(t)||t instanceof Date).map(Number).filter(t=>Cr(t)===!1)}function are(e,t,a){return!a||typeof t!="number"||Cr(t)?[]:a.length?cc(a.flatMap(r=>{var s=Jt(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Er(l)||!Er(c)))return[t-l,t+c]})):[]}var rre=Te([a7,Jx,Qn],t7),l7=(e,t,a)=>{var r={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,u]=l,m=u.map(eS);return[c,{stackedData:yJ(e,m,a),graphicalItems:u}]}))},Aw=Te([rre,a7,If],l7),o7=(e,t,a)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(a!=="zAxis"){var l=_J(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},sre=Te([Aw,Zl,xn],o7),c7=(e,t,a,r,s)=>a.length>0?e.flatMap(l=>a.flatMap(c=>{var u,m,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(g=>i7(s,g)),h=Jt(l,(m=t.dataKey)!==null&&m!==void 0?m:c.dataKey);return{value:h,errorDomain:are(l,h,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Jt(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),ig=e=>e.errorBars,d7=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>i7(a,r));Te([s7,ig,xn],d7);var ire=Te([iS,$n,s7,ig,xn],c7);function lre(e){var{value:t}=e;if(Ws(t)||t instanceof Date)return t}var wT=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),a=cc(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},ore=(e,t,a)=>{var r=e.map(lre).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&SD(r))?Q8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},oS=e=>{var t;if(e==null||!("domain"in e))return Cw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=cc(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:Cw},sx=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},u7=e=>e.referenceElements.dots,au=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),cre=Te([u7,xn,Bf],au),m7=e=>e.referenceElements.areas,dre=Te([m7,xn,Bf],au),f7=e=>e.referenceElements.lines,ure=Te([f7,xn,Bf],au),h7=(e,t)=>{var a=cc(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},mre=Te(cre,xn,h7),p7=(e,t)=>{var a=cc(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},fre=Te([dre,xn],p7),x7=(e,t)=>{var a=cc(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},hre=Te(ure,xn,x7),pre=Te(mre,hre,fre,(e,t,a)=>sx(e,a,t)),g7=Te([$n],oS),cS=(e,t,a,r,s,l,c)=>{var u=Eae(t,e.allowDataOverflow);if(u!=null)return u;var m=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=m?sx(a,s,wT(r)):sx(s,wT(r));return Oae(t,f,e.allowDataOverflow)},xre=Te([$n,g7,sre,ire,pre,Rt,xn],cS),gre=[0,1],dS=(e,t,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:u,type:m}=e,f=Yl(t,l);return f&&u==null?Q8(0,a.length):m==="category"?ore(r,e,f):s==="expand"?gre:c}},uS=Te([$n,Rt,iS,sg,If,xn,xre],dS),b7=(e,t,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var u="scale".concat(Of(l));return u in Mm?u:"point"}}},ru=Te([$n,Rt,n7,YN,xn],b7);function bre(e){if(e!=null){if(e in Mm)return Mm[e]();var t="scale".concat(Of(e));if(t in Mm)return Mm[t]()}}function mS(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=bre(t);if(s!=null){var l=s.domain(a).range(r);return pJ(l),l}}}var fS=(e,t,a)=>{var r=oS(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&zd(e))return Uae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&zd(e))return Fae(e,t.tickCount,t.allowDecimals)}},hS=Te([uS,zf,ru],fS),pS=(e,t,a,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&zd(t)&&Array.isArray(a)&&a.length>0){var s=t[0],l=a[0],c=t[1],u=a[a.length-1];return[Math.min(s,l),Math.max(c,u)]}return t},vre=Te([$n,uS,hS,xn],pS),yre=Te(sg,$n,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(cc(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),v7=Te(yre,Rt,YR,Wn,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!Er(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=Ga(a,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),jre=(e,t)=>{var a=Yi(e,t);return a==null||typeof a.padding!="string"?0:v7(e,"xAxis",t,a.padding)},wre=(e,t)=>{var a=Ql(e,t);return a==null||typeof a.padding!="string"?0:v7(e,"yAxis",t,a.padding)},Nre=Te(Yi,jre,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),Sre=Te(Ql,wre,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),_re=Te([Wn,Nre,qx,Hx,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),kre=Te([Wn,Rt,Sre,qx,Hx,(e,t,a)=>a],(e,t,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),Ff=(e,t,a,r)=>{var s;switch(t){case"xAxis":return _re(e,a,r);case"yAxis":return kre(e,a,r);case"zAxis":return(s=tS(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return QR(e);case"radiusAxis":return JR(e,a);default:return}},y7=Te([$n,Ff],tg),su=Te([$n,ru,vre,y7],mS);Te([Uf,ig,xn],d7);function j7(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var lg=(e,t)=>t,og=(e,t,a)=>a,Cre=Te(xN,lg,og,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(j7)),Are=Te(gN,lg,og,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(j7)),w7=(e,t)=>({width:e.width,height:t.height}),Tre=(e,t)=>{var a=typeof t.width=="number"?t.width:Vx;return{width:a,height:e.height}},N7=Te(Wn,Yi,w7),Ere=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},Ore=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},Pre=Te(Ki,Wn,Cre,lg,og,(e,t,a,r,s)=>{var l={},c;return a.forEach(u=>{var m=w7(t,u);c==null&&(c=Ere(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;l[u.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),l}),Mre=Te(qi,Wn,Are,lg,og,(e,t,a,r,s)=>{var l={},c;return a.forEach(u=>{var m=Tre(t,u);c==null&&(c=Ore(t,r,e));var f=r==="left"&&!s||r==="right"&&s;l[u.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),l}),Dre=(e,t)=>{var a=Wn(e),r=Yi(e,t);if(r!=null){var s=Pre(e,r.orientation,r.mirror),l=s[t];return l==null?{x:a.left,y:0}:{x:a.left,y:l}}},Rre=(e,t)=>{var a=Wn(e),r=Ql(e,t);if(r!=null){var s=Mre(e,r.orientation,r.mirror),l=s[t];return l==null?{x:0,y:a.top}:{x:l,y:a.top}}},S7=Te(Wn,Ql,(e,t)=>{var a=typeof t.width=="number"?t.width:Vx;return{width:a,height:e.height}}),NT=(e,t,a)=>{switch(t){case"xAxis":return N7(e,a).width;case"yAxis":return S7(e,a).height;default:return}},_7=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,u=Yl(e,r),m=t.map(f=>f.value);if(c&&u&&l==="category"&&s&&SD(m))return m}},xS=Te([Rt,sg,$n,xn],_7),k7=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=Yl(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(u=>u.value)}},gS=Te([Rt,sg,zf,xn],k7),ST=Te([Rt,ere,ru,su,xS,gS,Ff,hS,xn],(e,t,a,r,s,l,c,u,m)=>{if(t==null)return null;var f=Yl(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:l,duplicateDomain:s,isCategorical:f,niceTicks:u,range:c,realScaleType:a,scale:r}}),$re=(e,t,a,r,s,l,c,u,m)=>{if(!(t==null||r==null)){var f=Yl(e,m),{type:h,ticks:g,tickCount:b}=t,y=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/y:0;j=m==="angleAxis"&&l!=null&&l.length>=2?oa(l[0]-l[1])*2*j:j;var w=g||s;if(w){var S=w.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:r(C)+j,value:k,offset:j}});return S.filter(k=>!Cr(k.coordinate))}return f&&u?u.map((k,_)=>({coordinate:r(k)+j,value:k,index:_,offset:j})):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+j,value:k,offset:j})):r.domain().map((k,_)=>({coordinate:r(k)+j,value:c?c[k]:k,index:_,offset:j}))}},C7=Te([Rt,zf,ru,su,hS,Ff,xS,gS,xn],$re),Lre=(e,t,a,r,s,l,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var u=Yl(e,c),{tickCount:m}=t,f=0;return f=c==="angleAxis"&&(r==null?void 0:r.length)>=2?oa(r[0]-r[1])*2*f:f,u&&l?l.map((h,g)=>({coordinate:a(h)+f,value:h,index:g,offset:f})):a.ticks?a.ticks(m).map(h=>({coordinate:a(h)+f,value:h,offset:f})):a.domain().map((h,g)=>({coordinate:a(h)+f,value:s?s[h]:h,index:g,offset:f}))}},Hl=Te([Rt,zf,su,Ff,xS,gS,xn],Lre),ql=Te($n,su,(e,t)=>{if(!(e==null||t==null))return rx(rx({},e),{},{scale:t})}),Ire=Te([$n,ru,uS,y7],mS);Te((e,t,a)=>tS(e,a),Ire,(e,t)=>{if(!(e==null||t==null))return rx(rx({},e),{},{scale:t})});var Bre=Te([Rt,xN,gN],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),A7=e=>e.options.defaultTooltipEventType,T7=e=>e.options.validateTooltipEventTypes;function E7(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function bS(e,t){var a=A7(e),r=T7(e);return E7(t,a,r)}function zre(e){return rt(t=>bS(t,e))}var O7=(e,t)=>{var a,r=Number(t);if(!(Cr(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},Ure=e=>e.tooltip.settings,Ml={active:!1,index:null,dataKey:void 0,coordinate:void 0},Fre={itemInteraction:{click:Ml,hover:Ml},axisInteraction:{click:Ml,hover:Ml},keyboardInteraction:Ml,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},P7=Or({name:"tooltip",initialState:Fre,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=Ai(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Vre,removeTooltipEntrySettings:Hre,setTooltipSettingsState:qre,setActiveMouseOverItemIndex:M7,mouseLeaveItem:Kre,mouseLeaveChart:D7,setActiveClickItemIndex:Gre,setMouseOverAxisIndex:R7,setMouseClickAxisIndex:Yre,setSyncInteraction:Tw,setKeyboardInteraction:Ew}=P7.actions,Wre=P7.reducer;function _T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function j0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(a),!0).forEach(function(r){Xre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xre(e,t,a){return(t=Zre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Zre(e){var t=Qre(e,"string");return typeof t=="symbol"?t:t+""}function Qre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Jre(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function ese(e){return e.index!=null}var $7=(e,t,a,r)=>{if(t==null)return Ml;var s=Jre(e,t,a);if(s==null)return Ml;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(ese(s)){if(l)return j0(j0({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return j0(j0({},Ml),{},{coordinate:s.coordinate})},vS=(e,t)=>{var a=e==null?void 0:e.index;if(a==null)return null;var r=Number(a);if(!Er(r))return a;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(r,l)))},L7=(e,t,a,r,s,l,c,u)=>{if(!(l==null||u==null)){var m=c[0],f=m==null?void 0:u(m.positions,l);if(f!=null)return f;var h=s==null?void 0:s[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},I7=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Vf=e=>e.options.tooltipPayloadSearcher,iu=e=>e.tooltip;function kT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function CT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(a),!0).forEach(function(r){tse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function tse(e,t,a){return(t=nse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function nse(e){var t=ase(e,"string");return typeof t=="symbol"?t:t+""}function ase(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rse(e,t){return e??t}var B7=(e,t,a,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:h}=a,g=[];return e.reduce((b,y)=>{var j,{dataDefinedOnItem:w,settings:S}=y,k=rse(w,u),_=Array.isArray(k)?T8(k,f,h):k,C=(j=S==null?void 0:S.dataKey)!==null&&j!==void 0?j:r==null?void 0:r.dataKey,O=S==null?void 0:S.nameKey,T;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?T=_D(_,r.dataKey,s):T=l(_,t,m,O),Array.isArray(T))T.forEach(I=>{var M=CT(CT({},S),{},{name:I.name,unit:I.unit,color:void 0,fill:void 0});b.push(o6({tooltipEntrySettings:M,dataKey:I.dataKey,payload:I.payload,value:Jt(I.payload,I.dataKey),name:I.name}))});else{var E;b.push(o6({tooltipEntrySettings:S,dataKey:C,payload:T,value:Jt(T,C),name:(E=Jt(T,O))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return b},g)}},yS=Te([Qn,Rt,n7,YN,Zn],b7),sse=Te([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),ise=Te([Zn,nu],nS),Hf=Te([sse,Qn,ise],aS),lse=Te([Hf],e=>e.filter(ag)),ose=Te([Hf],rS),lu=Te([ose,Zl],sS),cse=Te([lse,Zl,Qn],t7),jS=Te([lu,Qn,Hf],lS),dse=Te([Qn],oS),use=Te([Hf],e=>e.filter(ag)),mse=Te([cse,use,If],l7),fse=Te([mse,Zl,Zn],o7),hse=Te([Hf],r7),pse=Te([lu,Qn,hse,ig,Zn],c7),xse=Te([u7,Zn,nu],au),gse=Te([xse,Zn],h7),bse=Te([m7,Zn,nu],au),vse=Te([bse,Zn],p7),yse=Te([f7,Zn,nu],au),jse=Te([yse,Zn],x7),wse=Te([gse,jse,vse],sx),Nse=Te([Qn,dse,fse,pse,wse,Rt,Zn],cS),z7=Te([Qn,Rt,lu,jS,If,Zn,Nse],dS),Sse=Te([z7,Qn,yS],fS),_se=Te([Qn,z7,Sse,Zn],pS),U7=e=>{var t=Zn(e),a=nu(e),r=!1;return Ff(e,t,a,r)},F7=Te([Qn,U7],tg),V7=Te([Qn,yS,_se,F7],mS),kse=Te([Rt,jS,Qn,Zn],_7),Cse=Te([Rt,jS,Qn,Zn],k7),Ase=(e,t,a,r,s,l,c,u)=>{if(t){var{type:m}=t,f=Yl(e,u);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?oa(s[0]-s[1])*2*g:g,f&&c?c.map((b,y)=>({coordinate:r(b)+g,value:b,index:y,offset:g})):r.domain().map((b,y)=>({coordinate:r(b)+g,value:l?l[b]:b,index:y,offset:g}))}}},Wi=Te([Rt,Qn,yS,V7,U7,kse,Cse,Zn],Ase),wS=Te([A7,T7,Ure],(e,t,a)=>E7(a.shared,e,t)),H7=e=>e.tooltip.settings.trigger,NS=e=>e.tooltip.settings.defaultIndex,cg=Te([iu,wS,H7,NS],$7),Kl=Te([cg,lu],vS),q7=Te([Wi,Kl],O7),K7=Te([cg],e=>{if(e)return e.dataKey}),G7=Te([iu,wS,H7,NS],I7),Tse=Te([qi,Ki,Rt,Wn,Wi,NS,G7,Vf],L7),Ese=Te([cg,Tse],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Ose=Te([cg],e=>e.active),Pse=Te([G7,Kl,Zl,Qn,q7,Vf,wS],B7),Mse=Te([Pse],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function AT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function TT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AT(Object(a),!0).forEach(function(r){Dse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Dse(e,t,a){return(t=Rse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Rse(e){var t=$se(e,"string");return typeof t=="symbol"?t:t+""}function $se(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lse=()=>rt(Qn),Ise=()=>{var e=Lse(),t=rt(Wi),a=rt(V7);return cf(TT(TT({},e),{},{scale:a}),t)},Bse=()=>rt(YN),SS=(e,t)=>t,Y7=(e,t,a)=>a,_S=(e,t,a,r)=>r,zse=Te(Wi,e=>$x(e,t=>t.coordinate)),kS=Te([iu,SS,Y7,_S],$7),W7=Te([kS,lu],vS),Use=(e,t,a)=>{if(t!=null){var r=iu(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},X7=Te([iu,SS,Y7,_S],I7),ix=Te([qi,Ki,Rt,Wn,Wi,_S,X7,Vf],L7),Fse=Te([kS,ix],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),Z7=Te(Wi,W7,O7),Vse=Te([X7,W7,Zl,Qn,Z7,Vf,SS],B7),Hse=Te([kS],e=>({isActive:e.active,activeIndex:e.index})),qse=(e,t,a,r,s,l,c,u)=>{if(!(!e||!t||!r||!s||!l)){var m=kJ(e.chartX,e.chartY,t,a,u);if(m){var f=AJ(m,t),h=fJ(f,c,l,r,s),g=CJ(t,l,h,m);return{activeIndex:String(h),activeCoordinate:g}}}};function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ow.apply(null,arguments)}function ET(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function w0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ET(Object(a),!0).forEach(function(r){Kse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ET(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Kse(e,t,a){return(t=Gse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Gse(e){var t=Yse(e,"string");return typeof t=="symbol"?t:t+""}function Yse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wse(e){var{coordinate:t,payload:a,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:m,chartName:f}=e,h=t,g=a,b=r;if(!u||!h||f!=="ScatterChart"&&m!=="axis")return null;var y,j;if(f==="ScatterChart")y=h,j=uee;else if(f==="BarChart")y=mee(c,h,s,l),j=W8;else if(c==="radial"){var{cx:w,cy:S,radius:k,startAngle:_,endAngle:C}=X8(h);y={cx:w,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},j=jN}else y={points:Xee(c,h,s)},j=vN;var O=typeof u=="object"&&"className"in u?u.className:void 0,T=w0(w0(w0(w0({stroke:"#ccc",pointerEvents:"none"},s),y),fn(u,!1)),{},{payload:g,payloadIndex:b,className:_t("recharts-tooltip-cursor",O)});return x.isValidElement(u)?x.cloneElement(u,T):x.createElement(j,T)}function Xse(e){var t=Ise(),a=$8(),r=Kx(),s=Bse();return x.createElement(Wse,Ow({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var Q7=x.createContext(null),Zse=()=>x.useContext(Q7),j1={exports:{}},OT;function Qse(){return OT||(OT=1,function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,f,h){this.fn=m,this.context=f,this.once=h||!1}function l(m,f,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||m,b),j=a?a+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],y]:m._events[j].push(y):(m._events[j]=y,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(a?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=a?a+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,j=new Array(y);b<y;b++)j[b]=g[b].fn;return j},u.prototype.listenerCount=function(f){var h=a?a+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,b,y,j){var w=a?a+f:f;if(!this._events[w])return!1;var S=this._events[w],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,b),!0;case 5:return S.fn.call(S.context,h,g,b,y),!0;case 6:return S.fn.call(S.context,h,g,b,y,j),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var O=S.length,T;for(C=0;C<O;C++)switch(S[C].once&&this.removeListener(f,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,g);break;case 4:S[C].fn.call(S[C].context,h,g,b);break;default:if(!_)for(T=1,_=new Array(k-1);T<k;T++)_[T-1]=arguments[T];S[C].fn.apply(S[C].context,_)}}return!0},u.prototype.on=function(f,h,g){return l(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return l(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,b){var y=a?a+f:f;if(!this._events[y])return this;if(!h)return c(this,y),this;var j=this._events[y];if(j.fn)j.fn===h&&(!b||j.once)&&(!g||j.context===g)&&c(this,y);else{for(var w=0,S=[],k=j.length;w<k;w++)(j[w].fn!==h||b&&!j[w].once||g&&j[w].context!==g)&&S.push(j[w]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=a?a+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u}(j1)),j1.exports}var Jse=Qse();const eie=Ss(Jse);var xf=new eie,Pw="recharts.syncEvent.tooltip",PT="recharts.syncEvent.brush";function CS(e,t){if(t){var a=Number.parseInt(t,10);if(!Cr(a))return e==null?void 0:e[a]}}var tie={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},J7=Or({name:"options",initialState:tie,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),nie=J7.reducer,{createEventEmitter:aie}=J7.actions;function rie(e){return e.tooltip.syncInteraction}var sie={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},e$=Or({name:"chartData",initialState:sie,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:MT,setDataStartEndIndexes:iie,setComputedData:J0e}=e$.actions,lie=e$.reducer,t$=()=>{};function oie(){var e=rt(WN),t=rt(XN),a=Rn(),r=rt(WR),s=rt(Wi),l=Kx(),c=bN(),u=rt(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return t$;var m=(f,h,g)=>{if(t!==g&&e===f){if(r==="index"){a(h);return}if(s!=null){var b;if(typeof r=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=r(s,y);b=s[j]}else r==="value"&&(b=s.find(E=>String(E.value)===h.payload.label));var{coordinate:w}=h.payload;if(b==null||h.payload.active===!1||w==null||c==null){a(Tw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:k}=w,_=Math.min(S,c.x+c.width),C=Math.min(k,c.y+c.height),O={x:l==="horizontal"?b.coordinate:_,y:l==="horizontal"?C:b.coordinate},T=Tw({active:h.payload.active,coordinate:O,dataKey:h.payload.dataKey,index:String(b.index),label:h.payload.label});a(T)}}};return xf.on(Pw,m),()=>{xf.off(Pw,m)}},[u,a,t,e,r,s,l,c])}function cie(){var e=rt(WN),t=rt(XN),a=Rn();x.useEffect(()=>{if(e==null)return t$;var r=(s,l,c)=>{t!==c&&e===s&&a(iie(l))};return xf.on(PT,r),()=>{xf.off(PT,r)}},[a,t,e])}function die(){var e=Rn();x.useEffect(()=>{e(aie())},[e]),oie(),cie()}function uie(e,t,a,r,s,l){var c=rt(b=>Use(b,e,t)),u=rt(XN),m=rt(WN),f=rt(WR),h=rt(rie),g=h==null?void 0:h.active;x.useEffect(()=>{if(!g&&m!=null&&u!=null){var b=Tw({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r});xf.emit(Pw,m,b,u)}},[g,a,c,s,r,u,m,f,l])}function DT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function RT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?DT(Object(a),!0).forEach(function(r){mie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):DT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function mie(e,t,a){return(t=fie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function fie(e){var t=hie(e,"string");return typeof t=="symbol"?t:t+""}function hie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pie(e){return e.dataKey}function xie(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(VJ,t)}var $T=[],gie={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!ic.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Us(e){var t=Pr(e,gie),{active:a,allowEscapeViewBox:r,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:h,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:j,cursor:w,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:O}=t,T=Rn(),E=typeof _=="number"?String(_):_;x.useEffect(()=>{T(qre({shared:S,trigger:k,axisId:O,active:a,defaultIndex:E}))},[T,S,k,O,a,E]);var I=bN(),M=F8(),V=zre(S),{activeIndex:Y,isActive:U}=rt(ee=>Hse(ee,V,k,E)),F=rt(ee=>Vse(ee,V,k,E)),ie=rt(ee=>Z7(ee,V,k,E)),Se=rt(ee=>Fse(ee,V,k,E)),oe=F,P=Zse(),K=a??U,[W,B]=aQ([oe,K]),A=V==="axis"?ie:void 0;uie(V,k,Se,A,Y,K);var z=C??P;if(z==null)return null;var $=oe??$T;K||($=$T),u&&$.length&&($=TZ(oe.filter(ee=>ee.value!=null&&(ee.hide!==!0||t.includeHidden)),h,pie));var G=$.length>0,ue=x.createElement(XJ,{allowEscapeViewBox:r,animationDuration:s,animationEasing:l,isAnimationActive:m,active:K,coordinate:Se,hasPayload:G,offset:f,position:g,reverseDirection:b,useTranslate3d:y,viewBox:I,wrapperStyle:j,lastBoundingBox:W,innerRef:B,hasPortalFromProps:!!C},xie(c,RT(RT({},t),{},{payload:$,label:A,active:K,coordinate:Se,accessibilityLayer:M})));return x.createElement(x.Fragment,null,cz.createPortal(ue,z),K&&x.createElement(Xse,{cursor:w,tooltipEventType:V,coordinate:Se,payload:oe,index:Y}))}var w1={},N1={},S1={},LT;function bie(){return LT||(LT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:l}={}){let c,u=null;const m=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),h=()=>{u!==null&&(a.apply(c,u),c=void 0,u=null)},g=()=>{f&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},j=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{j(),c=void 0,u=null},S=()=>{h()},k=function(..._){if(s!=null&&s.aborted)return;c=this,u=_;const C=b==null;y(),m&&C&&h()};return k.schedule=y,k.cancel=w,k.flush=S,s==null||s.addEventListener("abort",w,{once:!0}),k}e.debounce=t}(S1)),S1}var IT;function vie(){return IT||(IT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bie();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:m}=l,f=Array(2);c&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const b=t.debounce(function(...w){h=r.apply(this,w),g=null},s,{edges:f}),y=function(...w){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(h=r.apply(this,w),g=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},j=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=j,y}e.debounce=a}(N1)),N1}var BT;function yie(){return BT||(BT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=vie();function a(r,s=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:u})}e.throttle=a}(w1)),w1}var _1,zT;function jie(){return zT||(zT=1,_1=yie().throttle),_1}var wie=jie();const Nie=Ss(wie);var Vm=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l]};function UT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function k1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?UT(Object(a),!0).forEach(function(r){Sie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):UT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Sie(e,t,a){return(t=_ie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function _ie(e){var t=kie(e,"string");return typeof t=="symbol"?t:t+""}function kie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fs=x.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:u,maxHeight:m,children:f,debounce:h=0,id:g,className:b,onResize:y,style:j={}}=e,w=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>w.current);var[k,_]=x.useState({containerWidth:r.width,containerHeight:r.height}),C=x.useCallback((T,E)=>{_(I=>{var M=Math.round(T),V=Math.round(E);return I.containerWidth===M&&I.containerHeight===V?I:{containerWidth:M,containerHeight:V}})},[]);x.useEffect(()=>{var T=V=>{var Y,{width:U,height:F}=V[0].contentRect;C(U,F),(Y=S.current)===null||Y===void 0||Y.call(S,U,F)};h>0&&(T=Nie(T,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),{width:I,height:M}=w.current.getBoundingClientRect();return C(I,M),E.observe(w.current),()=>{E.disconnect()}},[C,h]);var O=x.useMemo(()=>{var{containerWidth:T,containerHeight:E}=k;if(T<0||E<0)return null;Vm(Bo(s)||Bo(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Vm(!a||a>0,"The aspect(%s) must be greater than zero.",a);var I=Bo(s)?T:s,M=Bo(l)?E:l;return a&&a>0&&(I?M=I/a:M&&(I=M*a),m&&M>m&&(M=m)),Vm(I>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,I,M,s,l,c,u,a),x.Children.map(f,V=>x.cloneElement(V,{width:I,height:M,style:k1({width:I,height:M},V.props.style)}))},[a,f,l,m,u,c,k,s]);return x.createElement("div",{id:g?"".concat(g):void 0,className:_t("recharts-responsive-container",b),style:k1(k1({},j),{},{width:s,height:l,minWidth:c,minHeight:u,maxHeight:m}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},O))}),_i=e=>null;_i.displayName="Cell";function Cie(e,t,a){return(t=Aie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Aie(e){var t=Tie(e,"string");return typeof t=="symbol"?t:t+""}function Tie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Eie{constructor(t){Cie(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function FT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Oie(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(a),!0).forEach(function(r){Pie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Pie(e,t,a){return(t=Mie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Mie(e){var t=Die(e,"string");return typeof t=="symbol"?t:t+""}function Die(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Rie={cacheSize:2e3,enableCache:!0},n$=Oie({},Rie),VT=new Eie(n$.cacheSize),$ie={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},HT="recharts_measurement_span";function Lie(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(u)}var qT=(e,t)=>{try{var a=document.getElementById(HT);a||(a=document.createElement("span"),a.setAttribute("id",HT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,$ie,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Hm=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||ic.isSsr)return{width:0,height:0};if(!n$.enableCache)return qT(t,a);var r=Lie(t,a),s=VT.get(r);if(s)return s;var l=qT(t,a);return VT.set(r,l),l},KT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,GT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Iie=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,Bie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,a$={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},zie=Object.keys(a$),xd="NaN";function Uie(e,t){return e*a$[t]}class er{static parse(t){var a,[,r,s]=(a=Bie.exec(t))!==null&&a!==void 0?a:[];return new er(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,Cr(t)&&(this.unit=""),a!==""&&!Iie.test(a)&&(this.num=NaN,this.unit=""),zie.includes(a)&&(this.num=Uie(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new er(NaN,""):new er(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new er(NaN,""):new er(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Cr(this.num)}}function r$(e){if(e.includes(xd))return xd;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,l]=(a=KT.exec(t))!==null&&a!==void 0?a:[],c=er.parse(r??""),u=er.parse(l??""),m=s==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return xd;t=t.replace(KT,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,b]=(f=GT.exec(t))!==null&&f!==void 0?f:[],y=er.parse(h??""),j=er.parse(b??""),w=g==="+"?y.add(j):y.subtract(j);if(w.isNaN())return xd;t=t.replace(GT,w.toString())}return t}var YT=/\(([^()]*)\)/;function Fie(e){for(var t=e,a;(a=YT.exec(t))!=null;){var[,r]=a;t=t.replace(YT,r$(r))}return t}function Vie(e){var t=e.replace(/\s+/g,"");return t=Fie(t),t=r$(t),t}function Hie(e){try{return Vie(e)}catch{return xd}}function C1(e){var t=Hie(e.slice(5,-1));return t===xd?"":t}var qie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Kie=["dx","dy","angle","className","breakAll"];function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mw.apply(null,arguments)}function WT(e,t){if(e==null)return{};var a,r,s=Gie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Gie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var s$=/[ \f\n\r\t\v\u2028\u2029]+/,i$=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];cn(t)||(a?s=t.toString().split(""):s=t.toString().split(s$));var l=s.map(u=>({word:u,width:Hm(u,r).width})),c=a?0:Hm("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Yie=(e,t,a,r,s)=>{var{maxLines:l,children:c,style:u,breakAll:m}=e,f=Qe(l),h=c,g=function(){var U=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return U.reduce((F,ie)=>{var{word:Se,width:oe}=ie,P=F[F.length-1];if(P&&(r==null||s||P.width+oe+a<Number(r)))P.words.push(Se),P.width+=oe+a;else{var K={words:[Se],width:oe};F.push(K)}return F},[])},b=g(t),y=Y=>Y.reduce((U,F)=>U.width>F.width?U:F);if(!f||s)return b;var j=b.length>l||y(b).width>Number(r);if(!j)return b;for(var w="",S=Y=>{var U=h.slice(0,Y),F=i$({breakAll:m,style:u,children:U+w}).wordsWithComputedWidth,ie=g(F),Se=ie.length>l||y(ie).width>Number(r);return[Se,ie]},k=0,_=h.length-1,C=0,O;k<=_&&C<=h.length-1;){var T=Math.floor((k+_)/2),E=T-1,[I,M]=S(E),[V]=S(T);if(!I&&!V&&(k=T+1),I&&V&&(_=T-1),!I&&V){O=M;break}C++}return O||b},XT=e=>{var t=cn(e)?[]:e.toString().split(s$);return[{words:t}]},Wie=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||a)&&!ic.isSsr){var u,m,f=i$({breakAll:l,children:r,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,m=g}else return XT(r);return Yie({breakAll:l,children:r,maxLines:c,style:s},u,m,t,a)}return XT(r)},ZT="#808080",dg=x.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=ZT}=e,h=WT(e,qie),g=x.useMemo(()=>Wie({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:b,dy:y,angle:j,className:w,breakAll:S}=h,k=WT(h,Kie);if(!Ws(a)||!Ws(r))return null;var _=a+(Qe(b)?b:0),C=r+(Qe(y)?y:0),O;switch(m){case"start":O=C1("calc(".concat(l,")"));break;case"middle":O=C1("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:O=C1("calc(".concat(g.length-1," * -").concat(s,")"));break}var T=[];if(c){var E=g[0].width,{width:I}=h;T.push("scale(".concat(Qe(I)?I/E:1,")"))}return j&&T.push("rotate(".concat(j,", ").concat(_,", ").concat(C,")")),T.length&&(k.transform=T.join(" ")),x.createElement("text",Mw({},fn(k,!0),{ref:t,x:_,y:C,className:_t("recharts-text",w),textAnchor:u,fill:f.includes("url")?ZT:f}),g.map((M,V)=>{var Y=M.words.join(S?"":" ");return x.createElement("tspan",{x:_,dy:V===0?O:s,key:"".concat(Y,"-").concat(V)},Y)}))});dg.displayName="Text";var Xie=["offset"],Zie=["labelRef"];function QT(e,t){if(e==null)return{};var a,r,s=Qie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Qie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function JT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Sn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?JT(Object(a),!0).forEach(function(r){Jie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):JT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Jie(e,t,a){return(t=ele(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ele(e){var t=tle(e,"string");return typeof t=="symbol"?t:t+""}function tle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function wi(){return wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},wi.apply(null,arguments)}var nle=e=>{var{value:t,formatter:a}=e,r=cn(e.children)?t:e.children;return typeof a=="function"?a(r):r},AS=e=>e!=null&&typeof e=="function",ale=(e,t)=>{var a=oa(t-e),r=Math.min(Math.abs(t-e),360);return a*r},rle=(e,t,a,r)=>{var{position:s,offset:l,className:c}=e,{cx:u,cy:m,innerRadius:f,outerRadius:h,startAngle:g,endAngle:b,clockWise:y}=r,j=(f+h)/2,w=ale(g,b),S=w>=0?1:-1,k,_;s==="insideStart"?(k=g+S*l,_=y):s==="insideEnd"?(k=b-S*l,_=!y):s==="end"&&(k=b+S*l,_=y),_=w<=0?_:!_;var C=Un(u,m,j,k),O=Un(u,m,j,k+(_?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(O.x,",").concat(O.y),E=cn(e.id)?sf("recharts-radial-line-"):e.id;return x.createElement("text",wi({},a,{dominantBaseline:"central",className:_t("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:E,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(E)},t))},sle=(e,t,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:u,endAngle:m}=e,f=(u+m)/2;if(a==="outside"){var{x:h,y:g}=Un(r,s,c+t,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x:y,y:j}=Un(r,s,b,f);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},ile=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,{x:l,y:c,width:u,height:m}=t,f=m>=0?1:-1,h=f*r,g=f>0?"end":"start",b=f>0?"start":"end",y=u>=0?1:-1,j=y*r,w=y>0?"end":"start",S=y>0?"start":"end";if(s==="top"){var k={x:l+u/2,y:c-f*r,textAnchor:"middle",verticalAnchor:g};return Sn(Sn({},k),a?{height:Math.max(c-a.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+m+h,textAnchor:"middle",verticalAnchor:b};return Sn(Sn({},_),a?{height:Math.max(a.y+a.height-(c+m),0),width:u}:{})}if(s==="left"){var C={x:l-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"};return Sn(Sn({},C),a?{width:Math.max(C.x-a.x,0),height:m}:{})}if(s==="right"){var O={x:l+u+j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"};return Sn(Sn({},O),a?{width:Math.max(a.x+a.width-O.x,0),height:m}:{})}var T=a?{width:u,height:m}:{};return s==="insideLeft"?Sn({x:l+j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?Sn({x:l+u-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?Sn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},T):s==="insideBottom"?Sn({x:l+u/2,y:c+m-h,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?Sn({x:l+j,y:c+h,textAnchor:S,verticalAnchor:b},T):s==="insideTopRight"?Sn({x:l+u-j,y:c+h,textAnchor:w,verticalAnchor:b},T):s==="insideBottomLeft"?Sn({x:l+j,y:c+m-h,textAnchor:S,verticalAnchor:g},T):s==="insideBottomRight"?Sn({x:l+u-j,y:c+m-h,textAnchor:w,verticalAnchor:g},T):s&&typeof s=="object"&&(Qe(s.x)||Bo(s.x))&&(Qe(s.y)||Bo(s.y))?Sn({x:l+Ga(s.x,u),y:c+Ga(s.y,m),textAnchor:"end",verticalAnchor:"end"},T):Sn({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},T)},lle=e=>"cx"in e&&Qe(e.cx);function wr(e){var{offset:t=5}=e,a=QT(e,Xie),r=Sn({offset:t},a),{viewBox:s,position:l,value:c,children:u,content:m,className:f="",textBreakAll:h,labelRef:g}=r,b=rt(e7),y=bN(),j=l==="center"?y:b??y,w=s||j;if(!w||cn(c)&&cn(u)&&!x.isValidElement(m)&&typeof m!="function")return null;var S=Sn(Sn({},r),{},{viewBox:w});if(x.isValidElement(m)){var{labelRef:k}=S,_=QT(S,Zie);return x.cloneElement(m,_)}var C;if(typeof m=="function"){if(C=x.createElement(m,S),x.isValidElement(C))return C}else C=nle(r);var O=lle(w),T=fn(r,!0);if(O&&(l==="insideStart"||l==="insideEnd"||l==="end"))return rle(r,C,T,w);var E=O?sle(w,r.offset,r.position):ile(r,w);return x.createElement(dg,wi({ref:g,className:_t("recharts-label",f)},T,E,{breakAll:h}),C)}wr.displayName="Label";var l$=e=>{var{cx:t,cy:a,angle:r,startAngle:s,endAngle:l,r:c,radius:u,innerRadius:m,outerRadius:f,x:h,y:g,top:b,left:y,width:j,height:w,clockWise:S,labelViewBox:k}=e;if(k)return k;if(Qe(j)&&Qe(w)){if(Qe(h)&&Qe(g))return{x:h,y:g,width:j,height:w};if(Qe(b)&&Qe(y))return{x:b,y,width:j,height:w}}if(Qe(h)&&Qe(g))return{x:h,y:g,width:0,height:0};if(Qe(t)&&Qe(a))return{cx:t,cy:a,startAngle:s||r||0,endAngle:l||r||0,innerRadius:m||0,outerRadius:f||u||c||0,clockWise:S};if(e.viewBox)return e.viewBox},ole=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?x.createElement(wr,wi({key:"label-implicit"},r)):Ws(e)?x.createElement(wr,wi({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===wr?x.cloneElement(e,Sn({key:"label-implicit"},r)):x.createElement(wr,wi({key:"label-implicit",content:e},r)):AS(e)?x.createElement(wr,wi({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(wr,wi({},e,{key:"label-implicit"},r)):null},cle=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:l}=t,c=l$(t),u=Pf(s,wr).map((f,h)=>x.cloneElement(f,{viewBox:a||c,key:"label-".concat(h)}));if(!r)return u;var m=ole(t.label,a||c,l);return[m,...u]};wr.parseViewBox=l$;wr.renderCallByParent=cle;var A1={},T1={},eE;function dle(){return eE||(eE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t}(T1)),T1}var E1={},tE;function ule(){return tE||(tE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t}(E1)),E1}var nE;function mle(){return nE||(nE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=dle(),a=ule(),r=sN();function s(l){if(r.isArrayLike(l))return t.last(a.toArray(l))}e.last=s}(A1)),A1}var O1,aE;function fle(){return aE||(aE=1,O1=mle().last),O1}var hle=fle();const ple=Ss(hle);var xle=["valueAccessor"],gle=["data","dataKey","clockWise","id","textBreakAll"];function lx(){return lx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},lx.apply(null,arguments)}function rE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function sE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(a),!0).forEach(function(r){ble(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ble(e,t,a){return(t=vle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vle(e){var t=yle(e,"string");return typeof t=="symbol"?t:t+""}function yle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iE(e,t){if(e==null)return{};var a,r,s=jle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var wle=e=>Array.isArray(e.value)?ple(e.value):e.value;function Ll(e){var{valueAccessor:t=wle}=e,a=iE(e,xle),{data:r,dataKey:s,clockWise:l,id:c,textBreakAll:u}=a,m=iE(a,gle);return!r||!r.length?null:x.createElement($a,{className:"recharts-label-list"},r.map((f,h)=>{var g=cn(s)?t(f,h):Jt(f&&f.payload,s),b=cn(c)?{}:{id:"".concat(c,"-").concat(h)};return x.createElement(wr,lx({},fn(f,!0),m,b,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:wr.parseViewBox(cn(l)?f:sE(sE({},f),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Ll.displayName="LabelList";function Nle(e,t){return e?e===!0?x.createElement(Ll,{key:"labelList-implicit",data:t}):x.isValidElement(e)||AS(e)?x.createElement(Ll,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?x.createElement(Ll,lx({data:t},e,{key:"labelList-implicit"})):null:null}function Sle(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var{children:r}=e,s=Pf(r,Ll).map((c,u)=>x.cloneElement(c,{data:t,key:"labelList-".concat(u)}));if(!a)return s;var l=Nle(e.label,t);return[l,...s]}Ll.renderCallByParent=Sle;function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dw.apply(null,arguments)}var o$=e=>{var{cx:t,cy:a,r,className:s}=e,l=_t("recharts-dot",s);return t===+t&&a===+a&&r===+r?x.createElement("circle",Dw({},Hi(e),tN(e),{className:l,cx:t,cy:a,r})):null},c$=e=>e.graphicalItems.polarItems,_le=Te([xn,Bf],nS),TS=Te([c$,$n,_le],aS),kle=Te([TS],rS),ES=Te([kle,qN],sS),Cle=Te([ES,$n,TS],lS),Ale=Te([ES,$n,TS],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=Jt(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Jt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),lE=()=>{},Tle=Te([$n,g7,lE,Ale,lE,Rt,xn],cS),d$=Te([$n,Rt,ES,Cle,If,xn,Tle],dS),Ele=Te([d$,$n,ru],fS);Te([$n,d$,Ele,xn],pS);var Ole={radiusAxis:{},angleAxis:{}},u$=Or({name:"polarAxis",initialState:Ole,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:epe,removeRadiusAxis:tpe,addAngleAxis:npe,removeAngleAxis:ape}=u$.actions,Ple=u$.reducer;function oE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(a),!0).forEach(function(r){Mle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mle(e,t,a){return(t=Dle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Dle(e){var t=Rle(e,"string");return typeof t=="symbol"?t:t+""}function Rle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var $le=(e,t)=>t,OS=Te([c$,$le],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Lle=[],PS=(e,t,a)=>(a==null?void 0:a.length)===0?Lle:a,m$=Te([qN,OS,PS],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>cE(cE({},t.presentationProps),l.props))),s!=null)return s}}),Ile=Te([m$,OS,PS],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=Jt(r,t.nameKey,t.name),u;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Qd(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),Ble=Te([m$,OS,PS,Wn],(e,t,a,r)=>{if(!(t==null||e==null))return Poe({offset:r,pieSettings:t,displayedData:e,cells:a})}),P1={},dE;function zle(){return dE||(dE=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var s;if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const l=a[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(a,Symbol.toStringTag))!=null&&s.writable)?!1:a.toString()===`[object ${l}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t}(P1)),P1}var M1,uE;function Ule(){return uE||(uE=1,M1=zle().isPlainObject),M1}var Fle=Ule();const Vle=Ss(Fle);function ox(){return ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ox.apply(null,arguments)}var mE=(e,t,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-l/2,",").concat(t+s),c+="L ".concat(e+a-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},Hle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},qle=e=>{var t=Pr(e,Hle),a=x.useRef(),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:u,lowerWidth:m,height:f,className:h}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||u!==+u||m!==+m||f!==+f||u===0&&m===0||f===0)return null;var w=_t("recharts-trapezoid",h);return j?x.createElement(Kp,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:m,height:f,x:l,y:c},duration:b,animationEasing:g,isActive:j},S=>{var{upperWidth:k,lowerWidth:_,height:C,x:O,y:T}=S;return x.createElement(Kp,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:g},x.createElement("path",ox({},fn(t,!0),{className:w,d:mE(O,T,k,_,C),ref:a})))}):x.createElement("g",null,x.createElement("path",ox({},fn(t,!0),{className:w,d:mE(l,c,u,m,f)})))},Kle=["option","shapeType","propTransformer","activeClassName","isActive"];function Gle(e,t){if(e==null)return{};var a,r,s=Yle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Yle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function fE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function cx(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(a),!0).forEach(function(r){Wle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Wle(e,t,a){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qle(e,t){return cx(cx({},t),e)}function Jle(e,t){return e==="symbols"}function hE(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return x.createElement(W8,a);case"trapezoid":return x.createElement(qle,a);case"sector":return x.createElement(jN,a);case"symbols":if(Jle(t))return x.createElement(GD,a);break;default:return null}}function eoe(e){return x.isValidElement(e)?e.props:e}function f$(e){var{option:t,shapeType:a,propTransformer:r=Qle,activeClassName:s="recharts-active-shape",isActive:l}=e,c=Gle(e,Kle),u;if(x.isValidElement(t))u=x.cloneElement(t,cx(cx({},c),eoe(t)));else if(typeof t=="function")u=t(c);else if(Vle(t)&&typeof t!="boolean"){var m=r(t,c);u=x.createElement(hE,{shapeType:a,elementProps:m})}else{var f=c;u=x.createElement(hE,{shapeType:a,elementProps:f})}return l?x.createElement($a,{className:s},u):u}var MS=(e,t)=>{var a=Rn();return(r,s)=>l=>{e==null||e(r,s,l),a(M7({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},DS=e=>{var t=Rn();return(a,r)=>s=>{e==null||e(a,r,s),t(Kre())}},RS=(e,t)=>{var a=Rn();return(r,s)=>l=>{e==null||e(r,s,l),a(Gre({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function $S(e){var{fn:t,args:a}=e,r=Rn(),s=sr();return x.useEffect(()=>{if(!s){var l=t(a);return r(Vre(l)),()=>{r(Hre(l))}}},[t,a,r,s]),null}var h$=()=>{};function p$(e){var{legendPayload:t}=e,a=Rn(),r=sr();return x.useEffect(()=>r?h$:(a(z8(t)),()=>{a(U8(t))}),[a,r,t]),null}function toe(e){var{legendPayload:t}=e,a=Rn(),r=rt(Rt);return x.useEffect(()=>r!=="centric"&&r!=="radial"?h$:(a(z8(t)),()=>{a(U8(t))}),[a,r,t]),null}function LS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(sf(t)),r=x.useRef(e);return r.current!==e&&(a.current=sf(t),r.current=e),a.current}var D1,noe=()=>{var[e]=x.useState(()=>sf("uid-"));return e},aoe=(D1=OI.useId)!==null&&D1!==void 0?D1:noe;function roe(e,t){var a=aoe();return t||(e?"".concat(e,"-").concat(a):a)}var soe=x.createContext(void 0),IS=e=>{var{id:t,type:a,children:r}=e,s=roe("recharts-".concat(a),t);return x.createElement(soe.Provider,{value:s},r(s))},ioe={cartesianItems:[],polarItems:[]},x$=Or({name:"graphicalItems",initialState:ioe,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:r}=t.payload,s=Ai(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var a=Ai(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=Ai(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:loe,replaceCartesianGraphicalItem:ooe,removeCartesianGraphicalItem:coe,addPolarGraphicalItem:doe,removePolarGraphicalItem:uoe}=x$.actions,moe=x$.reducer;function g$(e){var t=Rn(),a=x.useRef(null);return x.useEffect(()=>{a.current===null?t(loe(e)):a.current!==e&&t(ooe({prev:a.current,next:e})),a.current=e},[t,e]),x.useEffect(()=>()=>{a.current&&(t(coe(a.current)),a.current=null)},[t]),null}function foe(e){var t=Rn();return x.useEffect(()=>(t(doe(e)),()=>{t(uoe(e))}),[t,e]),null}function hoe(){}var poe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},pE={t:0},R1={t:1};function BS(e){var t=Pr(e,poe),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:m,children:f}=t,h=Y8("JavascriptAnimate",t.animationManager),[g,b]=x.useState(a?pE:R1),y=x.useRef(null);return x.useEffect(()=>{a||b(R1)},[a]),x.useEffect(()=>{if(!a||!r)return hoe;var j=G8(pE,R1,q8(l),s,b,h.getTimeoutController()),w=()=>{y.current=j()};return h.start([m,c,w,s,u]),()=>{h.stop(),y.current&&y.current(),u()}},[a,r,s,l,c,m,u,h]),f(g.t)}var xoe=["onMouseEnter","onClick","onMouseLeave"],goe=["id"],boe=["id"];function zS(e,t){if(e==null)return{};var a,r,s=voe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function voe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function xE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Cn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?xE(Object(a),!0).forEach(function(r){yoe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yoe(e,t,a){return(t=joe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function joe(e){var t=woe(e,"string");return typeof t=="symbol"?t:t+""}function woe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vi(){return Vi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vi.apply(null,arguments)}function Noe(e){var t=x.useMemo(()=>Pf(e.children,_i),[e.children]),a=rt(r=>Ile(r,e.id,t));return a==null?null:x.createElement(toe,{legendPayload:a})}function Soe(e){var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:u,hide:m,tooltipType:f}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:Qd(u,t),hide:m,type:f,color:c,unit:""}}}var _oe=(e,t)=>e>t?"start":e<t?"end":"middle",koe=(e,t,a)=>typeof t=="function"?t(e):Ga(t,a,a*.8),Coe=(e,t,a)=>{var{top:r,left:s,width:l,height:c}=t,u=A8(l,c),m=s+Ga(e.cx,l,l/2),f=r+Ga(e.cy,c,c/2),h=Ga(e.innerRadius,u,0),g=koe(a,e.outerRadius,u),b=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:f,innerRadius:h,outerRadius:g,maxRadius:b}},Aoe=(e,t)=>{var a=oa(t-e),r=Math.min(Math.abs(t-e),360);return a*r},Toe=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var a=_t("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(vN,Vi({},t,{type:"linear",className:a}))},Eoe=(e,t,a)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var s=_t("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return x.createElement(dg,Vi({},t,{alignmentBaseline:"middle",className:s}),r)};function Ooe(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!t)return null;var u=Hi(a),m=fn(s,!1),f=fn(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,g=t.map((b,y)=>{var j=(b.startAngle+b.endAngle)/2,w=Un(b.cx,b.cy,b.outerRadius+h,j),S=Cn(Cn(Cn(Cn({},u),b),{},{stroke:"none"},m),{},{index:y,textAnchor:_oe(w.x,b.cx)},w),k=Cn(Cn(Cn(Cn({},u),b),{},{fill:"none",stroke:b.fill},f),{},{index:y,points:[Un(b.cx,b.cy,b.outerRadius,j),w],key:"line"});return x.createElement($a,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&Toe(l,k),Eoe(s,S,Jt(b,c)))});return x.createElement($a,{className:"recharts-pie-labels"},g)}function b$(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,showLabels:l}=e,c=rt(Kl),{onMouseEnter:u,onClick:m,onMouseLeave:f}=s,h=zS(s,xoe),g=MS(u,s.dataKey),b=DS(f),y=RS(m,s.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((j,w)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var S=a&&String(w)===c,k=c?r:null,_=S?a:k,C=Cn(Cn({},j),{},{stroke:j.stroke,tabIndex:-1,[M8]:w,[D8]:s.dataKey});return x.createElement($a,Vi({tabIndex:-1,className:"recharts-pie-sector"},Px(h,j,w),{onMouseEnter:g(j,w),onMouseLeave:b(j,w),onClick:y(j,w),key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(w)}),x.createElement(f$,Vi({option:_,isActive:S,shapeType:"sector"},C)))}),x.createElement(Ooe,{sectors:t,props:s,showLabels:l}))}function Poe(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:m,dataKey:f,nameKey:h,tooltipType:g}=a,b=Math.abs(a.minAngle),y=Aoe(u,m),j=Math.abs(y),w=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(E=>Jt(E,f,0)!==0).length,k=(j>=360?S:S-1)*w,_=j-S*b-k,C=r.reduce((E,I)=>{var M=Jt(I,f,0);return E+(Qe(M)?M:0)},0),O;if(C>0){var T;O=r.map((E,I)=>{var M=Jt(E,f,0),V=Jt(E,h,I),Y=Coe(a,l,E),U=(Qe(M)?M:0)/C,F,ie=Cn(Cn({},E),s&&s[I]&&s[I].props);I?F=T.endAngle+oa(y)*w*(M!==0?1:0):F=u;var Se=F+oa(y)*((M!==0?b:0)+U*_),oe=(F+Se)/2,P=(Y.innerRadius+Y.outerRadius)/2,K=[{name:V,value:M,payload:ie,dataKey:f,type:g}],W=Un(Y.cx,Y.cy,P,oe);return T=Cn(Cn(Cn(Cn({},a.presentationProps),{},{percent:U,cornerRadius:c,name:V,tooltipPayload:K,midAngle:oe,middleRadius:P,tooltipPosition:W},ie),Y),{},{value:Jt(E,f),startAngle:F,endAngle:Se,payload:ie,paddingAngle:oa(y)*w}),T})}return O}function Moe(e){var{props:t,previousSectorsRef:a}=e,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,b=LS(t,"recharts-pie-"),y=a.current,[j,w]=x.useState(!0),S=x.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),k=x.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return x.createElement(BS,{begin:l,duration:c,isActive:s,easing:u,onAnimationStart:k,onAnimationEnd:S,key:b},_=>{var C=[],O=r&&r[0],T=O.startAngle;return r.forEach((E,I)=>{var M=y&&y[I],V=I>0?Vl(E,"paddingAngle",0):0;if(M){var Y=HC(M.endAngle-M.startAngle,E.endAngle-E.startAngle),U=Cn(Cn({},E),{},{startAngle:T+V,endAngle:T+Y(_)+V});C.push(U),T=U.endAngle}else{var{endAngle:F,startAngle:ie}=E,Se=HC(0,F-ie),oe=Se(_),P=Cn(Cn({},E),{},{startAngle:T+V,endAngle:T+oe+V});C.push(P),T=P.endAngle}}),a.current=C,x.createElement($a,null,x.createElement(b$,{sectors:C,activeShape:m,inactiveShape:f,allOtherPieProps:t,showLabels:!j}))})}function Doe(e){var{sectors:t,isAnimationActive:a,activeShape:r,inactiveShape:s}=e,l=x.useRef(null),c=l.current;return a&&t&&t.length&&(!c||c!==t)?x.createElement(Moe,{props:e,previousSectorsRef:l}):x.createElement(b$,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function Roe(e){var{hide:t,className:a,rootTabIndex:r}=e,s=_t("recharts-pie",a);return t?null:x.createElement($a,{tabIndex:r,className:s},x.createElement(Doe,e))}var $oe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!ic.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Loe(e){var{id:t}=e,a=zS(e,goe),r=x.useMemo(()=>Pf(e.children,_i),[e.children]),s=rt(l=>Ble(l,t,r));return x.createElement(x.Fragment,null,x.createElement($S,{fn:Soe,args:Cn(Cn({},e),{},{sectors:s})}),x.createElement(Roe,Vi({},a,{sectors:s})))}function gf(e){var t=Pr(e,$oe),{id:a}=t,r=zS(t,boe),s=Hi(r);return x.createElement(IS,{id:a,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(foe,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s}),x.createElement(Noe,Vi({},r,{id:l})),x.createElement(Loe,Vi({},r,{id:l})),r.children))}gf.displayName="Pie";var Ioe=Te([Wn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),Boe=Te([Ioe,qi,Ki],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),US=()=>rt(Boe),zoe=()=>rt(Mse);function gE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?gE(Object(a),!0).forEach(function(r){Uoe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Uoe(e,t,a){return(t=Foe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Foe(e){var t=Voe(e,"string");return typeof t=="symbol"?t:t+""}function Voe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hoe=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=bE(bE({index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},fn(s,!1)),tN(s)),u;return x.isValidElement(s)?u=x.cloneElement(s,c):typeof s=="function"?u=s(c):u=x.createElement(o$,c),x.createElement($a,{className:"recharts-active-dot"},u)};function qoe(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s}=e,l=rt(Kl),c=zoe();if(t==null||c==null)return null;var u=t.find(m=>c.includes(m.payload));return cn(u)?null:Hoe({point:u,childIndex:Number(l),mainColor:a,dataKey:s,activeDot:r})}var Koe="Invariant failed";function Goe(e,t){throw new Error(Koe)}var Yoe=["x","y"];function Rw(){return Rw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rw.apply(null,arguments)}function vE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hm(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vE(Object(a),!0).forEach(function(r){Woe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Woe(e,t,a){return(t=Xoe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xoe(e){var t=Zoe(e,"string");return typeof t=="symbol"?t:t+""}function Zoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qoe(e,t){if(e==null)return{};var a,r,s=Joe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Joe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ece(e,t){var{x:a,y:r}=e,s=Qoe(e,Yoe),l="".concat(a),c=parseInt(l,10),u="".concat(r),m=parseInt(u,10),f="".concat(t.height||s.height),h=parseInt(f,10),g="".concat(t.width||s.width),b=parseInt(g,10);return hm(hm(hm(hm(hm({},t),s),c?{x:c}:{}),m?{y:m}:{}),{},{height:h,width:b,name:t.name,radius:t.radius})}function v$(e){return x.createElement(f$,Rw({shapeType:"rectangle",propTransformer:ece,activeClassName:"recharts-active-bar"},e))}var tce=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(Qe(t))return t;var l=Qe(r)||cn(r);return l?t(r,s):(l||Goe(),a)}},nce={},y$=Or({name:"errorBars",initialState:nce,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:rpe,removeErrorBar:spe}=y$.actions,ace=y$.reducer,rce=["children"];function sce(e,t){if(e==null)return{};var a,r,s=ice(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ice(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var lce={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},oce=x.createContext(lce);function j$(e){var{children:t}=e,a=sce(e,rce);return x.createElement(oce.Provider,{value:a},t)}function FS(e,t){var a,r,s=rt(f=>Yi(f,e)),l=rt(f=>Ql(f,t)),c=(a=s==null?void 0:s.allowDataOverflow)!==null&&a!==void 0?a:vr.allowDataOverflow,u=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:yr.allowDataOverflow,m=c||u;return{needClip:m,needClipX:c,needClipY:u}}function w$(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,s=US(),{needClipX:l,needClipY:c,needClip:u}=FS(t,a);if(!u)return null;var{x:m,y:f,width:h,height:g}=s;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:l?m:m-h/2,y:c?f:f-g/2,width:l?h:h*2,height:c?g:g*2}))}var cce=["onMouseEnter","onMouseLeave","onClick"],dce=["value","background","tooltipPosition"],uce=["id"],mce=["onMouseEnter","onClick","onMouseLeave"];function Ud(){return Ud=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ud.apply(null,arguments)}function yE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Pa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(a),!0).forEach(function(r){fce(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fce(e,t,a){return(t=hce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hce(e){var t=pce(e,"string");return typeof t=="symbol"?t:t+""}function pce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dx(e,t){if(e==null)return{};var a,r,s=xce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function xce(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var gce=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Qd(a,t),payload:e}]};function bce(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:Qd(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function vce(e){var t=rt(Kl),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:u,onClick:m}=l,f=dx(l,cce),h=MS(c,r),g=DS(u),b=RS(m,r);if(!s||a==null)return null;var y=fn(s,!1);return x.createElement(x.Fragment,null,a.map((j,w)=>{var{value:S,background:k,tooltipPosition:_}=j,C=dx(j,dce);if(!k)return null;var O=h(j,w),T=g(j,w),E=b(j,w),I=Pa(Pa(Pa(Pa(Pa({option:s,isActive:String(w)===t},C),{},{fill:"#eee"},k),y),Px(f,j,w)),{},{onMouseEnter:O,onMouseLeave:T,onClick:E,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(v$,Ud({key:"background-bar-".concat(w)},I))}))}function N$(e){var{data:t,props:a,showLabels:r}=e,s=Hi(a),{id:l}=s,c=dx(s,uce),{shape:u,dataKey:m,activeBar:f}=a,h=rt(Kl),g=rt(K7),{onMouseEnter:b,onClick:y,onMouseLeave:j}=a,w=dx(a,mce),S=MS(b,m),k=DS(j),_=RS(y,m);return t?x.createElement(x.Fragment,null,t.map((C,O)=>{var T=f&&String(O)===h&&(g==null||m===g),E=T?f:u,I=Pa(Pa(Pa({},c),C),{},{isActive:T,option:E,index:O,dataKey:m});return x.createElement($a,Ud({className:"recharts-bar-rectangle"},Px(w,C,O),{onMouseEnter:S(C,O),onMouseLeave:k(C,O),onClick:_(C,O),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(O)}),x.createElement(v$,I))}),r&&Ll.renderCallByParent(a,t)):null}function yce(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:h}=t,g=a.current,b=LS(t,"recharts-bar-"),[y,j]=x.useState(!1),w=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),S=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement(BS,{begin:c,duration:u,isActive:l,easing:m,onAnimationEnd:w,onAnimationStart:S,key:b},k=>{var _=k===1?r:r==null?void 0:r.map((C,O)=>{var T=g&&g[O];if(T)return Pa(Pa({},C),{},{x:xs(T.x,C.x,k),y:xs(T.y,C.y,k),width:xs(T.width,C.width,k),height:xs(T.height,C.height,k)});if(s==="horizontal"){var E=xs(0,C.height,k);return Pa(Pa({},C),{},{y:C.y+C.height-E,height:E})}var I=xs(0,C.width,k);return Pa(Pa({},C),{},{width:I})});return k>0&&(a.current=_??null),_==null?null:x.createElement($a,null,x.createElement(N$,{props:t,data:_,showLabels:!y}))})}function jce(e){var{data:t,isAnimationActive:a}=e,r=x.useRef(null);return a&&t&&t.length&&(r.current==null||r.current!==t)?x.createElement(yce,{previousRectanglesRef:r,props:e}):x.createElement(N$,{props:e,data:t,showLabels:!0})}var S$=0,wce=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Jt(e,t)}};class Nce extends x.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:u,background:m,id:f}=this.props;if(t)return null;var h=_t("recharts-bar",s),g=f;return x.createElement($a,{className:h,id:f},u&&x.createElement("defs",null,x.createElement(w$,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement($a,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(vce,{data:a,dataKey:r,background:m,allOtherBarProps:this.props}),x.createElement(jce,this.props)),this.props.children)}}var Sce={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!ic.isSsr,legendType:"rect",minPointSize:S$,xAxisId:0,yAxisId:0};function _ce(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=FS(t,a),b=Kx(),y=sr(),j=Pf(e.children,_i),w=rt(_=>Qce(_,t,a,y,e.id,j));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=w==null?void 0:w[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,x.createElement(j$,{xAxisId:t,yAxisId:a,data:w,dataPointFormatter:wce,errorBarOffset:S},x.createElement(Nce,Ud({},e,{layout:b,needClip:g,data:w,xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:h})))}function kce(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:h,displayedData:g,offset:b,cells:y}=e,j=t==="horizontal"?u:c,w=h?j.scale.domain():null,S=wJ({numericAxis:j});return g.map((k,_)=>{var C,O,T,E,I,M;h?C=xJ(h[_],w):(C=Jt(k,a),Array.isArray(C)||(C=[S,C]));var V=tce(r,S$)(C[1],_);if(t==="horizontal"){var Y,[U,F]=[u.scale(C[0]),u.scale(C[1])];O=s6({axis:c,ticks:m,bandSize:l,offset:s.offset,entry:k,index:_}),T=(Y=F??U)!==null&&Y!==void 0?Y:void 0,E=s.size;var ie=U-F;if(I=Cr(ie)?0:ie,M={x:O,y:b.top,width:E,height:b.height},Math.abs(V)>0&&Math.abs(I)<Math.abs(V)){var Se=oa(I||V)*(Math.abs(V)-Math.abs(I));T-=Se,I+=Se}}else{var[oe,P]=[c.scale(C[0]),c.scale(C[1])];if(O=oe,T=s6({axis:u,ticks:f,bandSize:l,offset:s.offset,entry:k,index:_}),E=P-oe,I=s.size,M={x:b.left,y:T,width:b.width,height:I},Math.abs(V)>0&&Math.abs(E)<Math.abs(V)){var K=oa(E||V)*(Math.abs(V)-Math.abs(E));E+=K}}if(O==null||T==null||E==null||I==null)return null;var W=Pa(Pa({},k),{},{x:O,y:T,width:E,height:I,value:h?C:C[1],payload:k,background:M,tooltipPosition:{x:O+E/2,y:T+I/2}},y&&y[_]&&y[_].props);return W}).filter(Boolean)}function qm(e){var t=Pr(e,Sce),a=sr();return x.createElement(IS,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(p$,{legendPayload:gce(t)}),x.createElement($S,{fn:bce,args:t}),x.createElement(g$,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:jJ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),x.createElement(_ce,Ud({},t,{id:r}))))}qm.displayName="Bar";function jE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function N0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?jE(Object(a),!0).forEach(function(r){Cce(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):jE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cce(e,t,a){return(t=Ace(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ace(e){var t=Tce(e,"string");return typeof t=="symbol"?t:t+""}function Tce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ece=(e,t)=>t,Oce=(e,t,a)=>a,Pce=(e,t,a,r)=>r,Mce=(e,t,a,r,s)=>s,qf=Te([rg,Mce],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),Dce=Te([qf],e=>e==null?void 0:e.maxBarSize),Rce=(e,t,a,r,s,l)=>l,wE=(e,t,a)=>{var r=a??e;if(!cn(r))return Ga(r,t,0)},$ce=Te([Rt,rg,Ece,Oce,Pce],(e,t,a,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Lce=(e,t,a,r)=>{var s=Rt(e);return s==="horizontal"?Aw(e,"yAxis",a,r):Aw(e,"xAxis",t,r)},Ice=(e,t,a)=>{var r=Rt(e);return r==="horizontal"?NT(e,"xAxis",t):NT(e,"yAxis",a)},Bce=(e,t,a)=>{var r={},s=e.filter(ag),l=e.filter(f=>f.stackId==null),c=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(c).map(f=>{var[h,g]=f,b=g.map(j=>j.dataKey),y=wE(t,a,g[0].barSize);return{stackId:h,dataKeys:b,barSize:y}}),m=l.map(f=>{var h=[f.dataKey].filter(b=>b!=null),g=wE(t,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...m]},zce=Te([$ce,Hae,Ice],Bce),Uce=(e,t,a,r,s)=>{var l,c,u=qf(e,t,a,r,s);if(u!=null){var m=Rt(e),f=GR(e),{maxBarSize:h}=u,g=cn(h)?f:h,b,y;return m==="horizontal"?(b=ql(e,"xAxis",t,r),y=Hl(e,"xAxis",t,r)):(b=ql(e,"yAxis",a,r),y=Hl(e,"yAxis",a,r)),(l=(c=cf(b,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},_$=(e,t,a,r)=>{var s=Rt(e),l,c;return s==="horizontal"?(l=ql(e,"xAxis",t,r),c=Hl(e,"xAxis",t,r)):(l=ql(e,"yAxis",a,r),c=Hl(e,"yAxis",a,r)),cf(l,c)};function Fce(e,t,a,r,s){var l=r.length;if(!(l<1)){var c=Ga(e,a,0,!0),u,m=[];if(Er(r[0].barSize)){var f=!1,h=a/l,g=r.reduce((k,_)=>k+(_.barSize||0),0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&h>0&&(f=!0,h*=.9,g=l*h);var b=(a-g)/2>>0,y={offset:b-c,size:0};u=r.reduce((k,_)=>{var C,O={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+c,size:f?h:(C=_.barSize)!==null&&C!==void 0?C:0}},T=[...k,O];return y=T[T.length-1].position,T},m)}else{var j=Ga(t,a,0,!0);a-2*j-(l-1)*c<=0&&(c=0);var w=(a-2*j-(l-1)*c)/l;w>1&&(w>>=0);var S=Er(s)?Math.min(w,s):w;u=r.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:j+(w+c)*C+(w-S)/2,size:S}}],m)}return u}}var Vce=(e,t,a,r,s,l,c)=>{var u=cn(c)?t:c,m=Fce(a,r,s!==l?s:l,e,u);return s!==l&&m!=null&&(m=m.map(f=>N0(N0({},f),{},{position:N0(N0({},f.position),{},{offset:f.position.offset-s/2})}))),m},Hce=Te([zce,GR,Vae,YR,Uce,_$,Dce],Vce),qce=(e,t,a,r)=>ql(e,"xAxis",t,r),Kce=(e,t,a,r)=>ql(e,"yAxis",a,r),Gce=(e,t,a,r)=>Hl(e,"xAxis",t,r),Yce=(e,t,a,r)=>Hl(e,"yAxis",a,r),Wce=Te([Hce,qf],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),Xce=(e,t)=>{var a=eS(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},Zce=Te([Lce,qf],Xce),Qce=Te([Wn,qce,Kce,Gce,Yce,Wce,Rt,Jx,_$,Zce,qf,Rce],(e,t,a,r,s,l,c,u,m,f,h,g)=>{var{chartData:b,dataStartIndex:y,dataEndIndex:j}=u;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||a==null||r==null||s==null||m==null)){var{data:w}=h,S;if(w!=null&&w.length>0?S=w:S=b==null?void 0:b.slice(y,j+1),S!=null)return kce({layout:c,barSettings:h,pos:l,bandSize:m,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,stackedData:f,displayedData:S,offset:e,cells:g})}}),k$=e=>{var{chartData:t}=e,a=Rn(),r=sr();return x.useEffect(()=>r?()=>{}:(a(MT(t)),()=>{a(MT(void 0))}),[t,a,r]),null},NE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},C$=Or({name:"brush",initialState:NE,reducers:{setBrushSettings(e,t){return t.payload==null?NE:t.payload}}}),{setBrushSettings:ipe}=C$.actions,Jce=C$.reducer;function ede(e,t,a){return(t=tde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tde(e){var t=nde(e,"string");return typeof t=="symbol"?t:t+""}function nde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VS{static create(t){return new VS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}ede(VS,"EPS",1e-4);function ade(e){return(e%180+180)%180}var rde=function(t){var{width:a,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=ade(s),c=l*Math.PI/180,u=Math.atan(r/a),m=c>u&&c<Math.PI-u?r/Math.sin(c):a/Math.cos(c);return Math.abs(m)},sde={dots:[],areas:[],lines:[]},A$=Or({name:"referenceElements",initialState:sde,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=Ai(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=Ai(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=Ai(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:lpe,removeDot:ope,addArea:cpe,removeArea:dpe,addLine:upe,removeLine:mpe}=A$.actions,ide=A$.reducer,lde=x.createContext(void 0),ode=e=>{var{children:t}=e,[a]=x.useState("".concat(sf("recharts"),"-clip")),r=US();if(r==null)return null;var{x:s,y:l,width:c,height:u}=r;return x.createElement(lde.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:s,y:l,height:u,width:c}))),t)};function $1(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function T$(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function cde(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return rde(r,a)}function dde(e,t,a){var r=a==="width",{x:s,y:l,width:c,height:u}=e;return t===1?{start:r?s:l,end:r?s+c:l+u}:{start:r?s+c:l+u,end:r?s:l}}function ux(e,t,a,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=a();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function ude(e,t){return T$(e,t+1)}function mde(e,t,a,r,s){for(var l=(r||[]).slice(),{start:c,end:u}=t,m=0,f=1,h=c,g=function(){var j=r==null?void 0:r[m];if(j===void 0)return{v:T$(r,f)};var w=m,S,k=()=>(S===void 0&&(S=a(j,w)),S),_=j.coordinate,C=m===0||ux(e,_,k,h,u);C||(m=0,h=c,f+=1),C&&(h=_+e*(k()/2+s),m+=f)},b;f<=l.length;)if(b=g(),b)return b.v;return[]}function SE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Oa(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?SE(Object(a),!0).forEach(function(r){fde(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):SE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fde(e,t,a){return(t=hde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hde(e){var t=pde(e,"string");return typeof t=="symbol"?t:t+""}function pde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xde(e,t,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:u}=t,{end:m}=t,f=function(b){var y=l[b],j,w=()=>(j===void 0&&(j=a(y,b)),j);if(b===c-1){var S=e*(y.coordinate+e*w()/2-m);l[b]=y=Oa(Oa({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else l[b]=y=Oa(Oa({},y),{},{tickCoord:y.coordinate});var k=ux(e,y.tickCoord,w,u,m);k&&(m=y.tickCoord-e*(w()/2+s),l[b]=Oa(Oa({},y),{},{isShow:!0}))},h=c-1;h>=0;h--)f(h);return l}function gde(e,t,a,r,s,l){var c=(r||[]).slice(),u=c.length,{start:m,end:f}=t;if(l){var h=r[u-1],g=a(h,u-1),b=e*(h.coordinate+e*g/2-f);c[u-1]=h=Oa(Oa({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate});var y=ux(e,h.tickCoord,()=>g,m,f);y&&(f=h.tickCoord-e*(g/2+s),c[u-1]=Oa(Oa({},h),{},{isShow:!0}))}for(var j=l?u-1:u,w=function(_){var C=c[_],O,T=()=>(O===void 0&&(O=a(C,_)),O);if(_===0){var E=e*(C.coordinate-e*T()/2-m);c[_]=C=Oa(Oa({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else c[_]=C=Oa(Oa({},C),{},{tickCoord:C.coordinate});var I=ux(e,C.tickCoord,T,m,f);I&&(m=C.tickCoord+e*(T()/2+s),c[_]=Oa(Oa({},C),{},{isShow:!0}))},S=0;S<j;S++)w(S);return c}function HS(e,t,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:u,interval:m,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!r)return[];if(Qe(m)||ic.isSsr){var b;return(b=ude(s,Qe(m)?m:0))!==null&&b!==void 0?b:[]}var y=[],j=u==="top"||u==="bottom"?"width":"height",w=h&&j==="width"?Hm(h,{fontSize:t,letterSpacing:a}):{width:0,height:0},S=(C,O)=>{var T=typeof f=="function"?f(C.value,O):C.value;return j==="width"?cde(Hm(T,{fontSize:t,letterSpacing:a}),w,g):Hm(T,{fontSize:t,letterSpacing:a})[j]},k=s.length>=2?oa(s[1].coordinate-s[0].coordinate):1,_=dde(l,k,j);return m==="equidistantPreserveStart"?mde(k,_,S,s,c):(m==="preserveStart"||m==="preserveStartEnd"?y=gde(k,_,S,s,c,m==="preserveStartEnd"):y=xde(k,_,S,s,c),y.filter(C=>C.isShow))}var bde=["viewBox"],vde=["viewBox"];function gd(){return gd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gd.apply(null,arguments)}function _E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Kn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_E(Object(a),!0).forEach(function(r){qS(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_E(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kE(e,t){if(e==null)return{};var a,r,s=yde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function yde(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function qS(e,t,a){return(t=jde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jde(e){var t=wde(e,"string");return typeof t=="symbol"?t:t+""}function wde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Jl extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,a){var{viewBox:r}=t,s=kE(t,bde),l=this.props,{viewBox:c}=l,u=kE(l,vde);return!$1(r,c)||!$1(s,u)||!$1(a,this.state)}getTickLineCoord(t){var{x:a,y:r,width:s,height:l,orientation:c,tickSize:u,mirror:m,tickMargin:f}=this.props,h,g,b,y,j,w,S=m?-1:1,k=t.tickSize||u,_=Qe(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=g=t.coordinate,y=r+ +!m*l,b=y-S*k,w=b-S*f,j=_;break;case"left":b=y=t.coordinate,g=a+ +!m*s,h=g-S*k,j=h-S*f,w=_;break;case"right":b=y=t.coordinate,g=a+ +m*s,h=g+S*k,j=h+S*f,w=_;break;default:h=g=t.coordinate,y=r+ +m*l,b=y+S*k,w=b+S*f,j=_;break}return{line:{x1:h,y1:b,x2:g,y2:y},tick:{x:j,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:a}=this.props,r;switch(t){case"left":r=a?"start":"end";break;case"right":r=a?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:a}=this.props;switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:t,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:u}=this.props,m=Kn(Kn(Kn({},fn(this.props,!1)),fn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);m=Kn(Kn({},m),{},{x1:t,y1:a+f*s,x2:t+r,y2:a+f*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);m=Kn(Kn({},m),{},{x1:t+h*r,y1:a,x2:t+h*r,y2:a+s})}return x.createElement("line",gd({},m,{className:_t("recharts-cartesian-axis-line",Vl(u,"className"))}))}static renderTickItem(t,a,r){var s,l=_t(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Kn(Kn({},a),{},{className:l}));else if(typeof t=="function")s=t(Kn(Kn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=_t(c,t.className)),s=x.createElement(dg,gd({},a,{className:c}),r)}return s}renderTicks(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:u,unit:m,padding:f}=this.props,h=HS(Kn(Kn({},this.props),{},{ticks:r}),t,a),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Hi(this.props),j=fn(c,!1),w=Kn(Kn({},y),{},{fill:"none"},fn(s,!1)),S=h.map((k,_)=>{var{line:C,tick:O}=this.getTickLineCoord(k),T=Kn(Kn(Kn(Kn({textAnchor:g,verticalAnchor:b},y),{},{stroke:"none",fill:l},j),O),{},{index:_,payload:k,visibleTicksCount:h.length,tickFormatter:u,padding:f});return x.createElement($a,gd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Px(this.props,k,_)),s&&x.createElement("line",gd({},w,C,{className:_t("recharts-cartesian-axis-tick-line",Vl(s,"className"))})),c&&Jl.renderTickItem(c,T,"".concat(typeof u=="function"?u(k.value,_):k.value).concat(m||"")))});return S.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:a,height:r,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return a!=null&&a<=0||r!=null&&r<=0?null:x.createElement($a,{className:_t("recharts-cartesian-axis",s),ref:u=>{if(u){var m=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var f=m[0];if(f){var h=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),wr.renderCallByParent(this.props))}}qS(Jl,"displayName","CartesianAxis");qS(Jl,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Nde=["x1","y1","x2","y2","key"],Sde=["offset"],_de=["xAxisId","yAxisId"],kde=["xAxisId","yAxisId"];function CE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Ma(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?CE(Object(a),!0).forEach(function(r){Cde(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):CE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cde(e,t,a){return(t=Ade(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ade(e){var t=Tde(e,"string");return typeof t=="symbol"?t:t+""}function Tde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vo(){return Vo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Vo.apply(null,arguments)}function mx(e,t){if(e==null)return{};var a,r,s=Ede(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Ede(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ode=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:u}=e;return x.createElement("rect",{x:r,y:s,ry:u,width:l,height:c,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function E$(e,t){var a;if(x.isValidElement(e))a=x.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:s,x2:l,y2:c,key:u}=t,m=mx(t,Nde),f=Hi(m),{offset:h}=f,g=mx(f,Sde);a=x.createElement("line",Vo({},g,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:u}))}return a}function Pde(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,u=mx(e,_de),m=s.map((f,h)=>{var g=Ma(Ma({},u),{},{x1:t,y1:f,x2:t+a,y2:f,key:"line-".concat(h),index:h});return E$(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function Mde(e){var{y:t,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,u=mx(e,kde),m=s.map((f,h)=>{var g=Ma(Ma({},u),{},{x1:f,y1:t,x2:f,y2:t+a,key:"line-".concat(h),index:h});return E$(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function Dde(e){var{horizontalFill:t,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(g=>Math.round(g+s-s)).sort((g,b)=>g-b);s!==f[0]&&f.unshift(0);var h=f.map((g,b)=>{var y=!f[b+1],j=y?s+c-g:f[b+1]-g;if(j<=0)return null;var w=b%t.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:j,width:l,stroke:"none",fill:t[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Rde(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:u,verticalPoints:m}=e;if(!t||!a||!a.length)return null;var f=m.map(g=>Math.round(g+s-s)).sort((g,b)=>g-b);s!==f[0]&&f.unshift(0);var h=f.map((g,b)=>{var y=!f[b+1],j=y?s+c-g:f[b+1]-g;if(j<=0)return null;var w=b%a.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:l,width:j,height:u,stroke:"none",fill:a[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var $de=(e,t)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return E8(HS(Ma(Ma(Ma({},Jl.defaultProps),a),{},{ticks:O8(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},Lde=(e,t)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return E8(HS(Ma(Ma(Ma({},Jl.defaultProps),a),{},{ticks:O8(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},Ide={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Il(e){var t=L8(),a=I8(),r=$8(),s=Ma(Ma({},Pr(e,Ide)),{},{x:Qe(e.x)?e.x:r.left,y:Qe(e.y)?e.y:r.top,width:Qe(e.width)?e.width:r.width,height:Qe(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:u,y:m,width:f,height:h,syncWithTicks:g,horizontalValues:b,verticalValues:y}=s,j=sr(),w=rt(V=>ST(V,"xAxis",l,j)),S=rt(V=>ST(V,"yAxis",c,j));if(!Qe(f)||f<=0||!Qe(h)||h<=0||!Qe(u)||u!==+u||!Qe(m)||m!==+m)return null;var k=s.verticalCoordinatesGenerator||$de,_=s.horizontalCoordinatesGenerator||Lde,{horizontalPoints:C,verticalPoints:O}=s;if((!C||!C.length)&&typeof _=="function"){var T=b&&b.length,E=_({yAxis:S?Ma(Ma({},S),{},{ticks:T?b:S.ticks}):void 0,width:t,height:a,offset:r},T?!0:g);Vm(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}if((!O||!O.length)&&typeof k=="function"){var I=y&&y.length,M=k({xAxis:w?Ma(Ma({},w),{},{ticks:I?y:w.ticks}):void 0,width:t,height:a,offset:r},I?!0:g);Vm(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(O=M)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Ode,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(Dde,Vo({},s,{horizontalPoints:C})),x.createElement(Rde,Vo({},s,{verticalPoints:O})),x.createElement(Pde,Vo({},s,{offset:r,horizontalPoints:C,xAxis:w,yAxis:S})),x.createElement(Mde,Vo({},s,{offset:r,verticalPoints:O,xAxis:w,yAxis:S})))}Il.displayName="CartesianGrid";var O$=(e,t,a,r)=>ql(e,"xAxis",t,r),P$=(e,t,a,r)=>Hl(e,"xAxis",t,r),M$=(e,t,a,r)=>ql(e,"yAxis",a,r),D$=(e,t,a,r)=>Hl(e,"yAxis",a,r),Bde=Te([Rt,O$,M$,P$,D$],(e,t,a,r,s)=>Yl(e,"xAxis")?cf(t,r,!1):cf(a,s,!1)),zde=(e,t,a,r,s)=>s;function Ude(e){return e.type==="line"}var Fde=Te([rg,zde],(e,t)=>e.filter(Ude).find(a=>a.id===t)),Vde=Te([Rt,O$,M$,P$,D$,Fde,Bde,Jx],(e,t,a,r,s,l,c,u)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=u;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null)){var{dataKey:g,data:b}=l,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(f,h+1),y!=null)return due({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:g,bandSize:c,displayedData:y})}}),Hde=["id"],qde=["type","layout","connectNulls","needClip"],Kde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function AE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function gs(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?AE(Object(a),!0).forEach(function(r){Gde(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):AE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Gde(e,t,a){return(t=Yde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yde(e){var t=Wde(e,"string");return typeof t=="symbol"?t:t+""}function Wde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function KS(e,t){if(e==null)return{};var a,r,s=Xde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Xde(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function rc(){return rc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rc.apply(null,arguments)}var Zde=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Qd(a,t),payload:e}]};function Qde(e){var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:u,unit:m}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Qd(c,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var R$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Jde(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var eue=(e,t,a)=>{var r=a.reduce((g,b)=>g+b);if(!r)return R$(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,u=[],m=0,f=0;m<a.length;f+=a[m],++m)if(f+a[m]>l){u=[...a.slice(0,m),l-f];break}var h=u.length%2===0?[0,c]:[c];return[...Jde(a,s),...u,...h].map(g=>"".concat(g,"px")).join(", ")};function tue(e,t){var a;if(x.isValidElement(e))a=x.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=_t("recharts-line-dot",typeof e!="boolean"?e.className:"");a=x.createElement(o$,rc({},t,{className:r}))}return a}function nue(e,t){return e==null?!1:t?!0:e.length===1}function aue(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r;if(!nue(a,s))return null;var{id:u}=r,m=KS(r,Hde),f=AD(s),h=Hi(m),g=fn(s,!0),b=a.map((j,w)=>{var S=gs(gs(gs({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:j.x,cy:j.y,dataKey:l,value:j.value,payload:j.payload,points:a});return tue(s,S)}),y={clipPath:c?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return x.createElement($a,rc({className:"recharts-line-dots",key:"dots"},y),b)}function $w(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l,showLabels:c}=e,{type:u,layout:m,connectNulls:f,needClip:h}=l,g=KS(l,qde),b=gs(gs({},fn(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:m,connectNulls:f,strokeDasharray:s??l.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(vN,rc({},b,{pathRef:a})),x.createElement(aue,{points:r,clipPathId:t,props:l}),c&&Ll.renderCallByParent(l,r))}function rue(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function sue(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:u,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:b,width:y,height:j,onAnimationEnd:w,onAnimationStart:S}=a,k=s.current,_=LS(a,"recharts-line-"),[C,O]=x.useState(!1),T=x.useCallback(()=>{typeof w=="function"&&w(),O(!1)},[w]),E=x.useCallback(()=>{typeof S=="function"&&S(),O(!0)},[S]),I=rue(r.current),M=l.current;return x.createElement(BS,{begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:T,onAnimationStart:E,key:_},V=>{var Y=xs(M,I+M,V),U=Math.min(Y,I),F;if(u){var ie="".concat(u).split(/[,\s]+/gim).map(P=>parseFloat(P));F=eue(U,I,ie)}else F=R$(I,U);if(k){var Se=k.length/c.length,oe=V===1?c:c.map((P,K)=>{var W=Math.floor(K*Se);if(k[W]){var B=k[W];return gs(gs({},P),{},{x:xs(B.x,P.x,V),y:xs(B.y,P.y,V)})}return b?gs(gs({},P),{},{x:xs(y*2,P.x,V),y:xs(j/2,P.y,V)}):gs(gs({},P),{},{x:P.x,y:P.y})});return s.current=oe,x.createElement($w,{props:a,points:oe,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:F})}return V>0&&I>0&&(s.current=c,l.current=U),x.createElement($w,{props:a,points:c,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:F})})}function iue(e){var{clipPathId:t,props:a}=e,{points:r,isAnimationActive:s}=a,l=x.useRef(null),c=x.useRef(0),u=x.useRef(null),m=l.current;return s&&r&&r.length&&m!==r?x.createElement(sue,{props:a,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:u}):x.createElement($w,{props:a,points:r,clipPathId:t,pathRef:u,showLabels:!0})}var lue=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Jt(e.payload,t)});class oue extends x.Component{render(){var t,{hide:a,dot:r,points:s,className:l,xAxisId:c,yAxisId:u,top:m,left:f,width:h,height:g,id:b,needClip:y}=this.props;if(a)return null;var j=_t("recharts-line",l),w=b,{r:S=3,strokeWidth:k=2}=(t=fn(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=AD(r),C=S*2+k;return x.createElement(x.Fragment,null,x.createElement($a,{className:j},y&&x.createElement("defs",null,x.createElement(w$,{clipPathId:w,xAxisId:c,yAxisId:u}),!_&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:f-C/2,y:m-C/2,width:h+C,height:g+C}))),x.createElement(iue,{props:this.props,clipPathId:w}),x.createElement(j$,{xAxisId:c,yAxisId:u,data:s,dataPointFormatter:lue,errorBarOffset:0},this.props.children)),x.createElement(qoe,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var $$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!ic.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function cue(e){var t=Pr(e,$$),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:u,dot:m,hide:f,isAnimationActive:h,label:g,legendType:b,xAxisId:y,yAxisId:j,id:w}=t,S=KS(t,Kde),{needClip:k}=FS(y,j),_=US(),C=Kx(),O=sr(),T=rt(Y=>Vde(Y,y,j,O,w));if(C!=="horizontal"&&C!=="vertical"||T==null||_==null)return null;var{height:E,width:I,x:M,y:V}=_;return x.createElement(oue,rc({},S,{id:w,connectNulls:u,dot:m,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:f,label:g,legendType:b,xAxisId:y,yAxisId:j,points:T,layout:C,height:E,width:I,left:M,top:V,needClip:k}))}function due(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:u,displayedData:m}=e;return m.map((f,h)=>{var g=Jt(f,c);if(t==="horizontal"){var b=r6({axis:a,ticks:s,bandSize:u,entry:f,index:h}),y=cn(g)?null:r.scale(g);return{x:b,y,value:g,payload:f}}var j=cn(g)?null:a.scale(g),w=r6({axis:r,ticks:l,bandSize:u,entry:f,index:h});return j==null||w==null?null:{x:j,y:w,value:g,payload:f}}).filter(Boolean)}function ug(e){var t=Pr(e,$$),a=sr();return x.createElement(IS,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(p$,{legendPayload:Zde(t)}),x.createElement($S,{fn:Qde,args:t}),x.createElement(g$,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),x.createElement(cue,rc({},t,{id:r}))))}ug.displayName="Line";function TE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function EE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?TE(Object(a),!0).forEach(function(r){uue(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):TE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uue(e,t,a){return(t=mue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mue(e){var t=fue(e,"string");return typeof t=="symbol"?t:t+""}function fue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hue={xAxis:{},yAxis:{},zAxis:{}},L$=Or({name:"cartesianAxis",initialState:hue,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload;e.yAxis[a]&&(e.yAxis[a]=EE(EE({},e.yAxis[a]),{},{width:r}))}}}),{addXAxis:pue,removeXAxis:xue,addYAxis:gue,removeYAxis:bue,addZAxis:fpe,removeZAxis:hpe,updateYAxisWidth:vue}=L$.actions,yue=L$.reducer,jue=["children"],wue=["dangerouslySetInnerHTML","ticks"];function I$(e,t,a){return(t=Nue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Nue(e){var t=Sue(e,"string");return typeof t=="symbol"?t:t+""}function Sue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Lw.apply(null,arguments)}function B$(e,t){if(e==null)return{};var a,r,s=_ue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function _ue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function kue(e){var t=Rn(),a=x.useMemo(()=>{var{children:l}=e,c=B$(e,jue);return c},[e]),r=rt(l=>Yi(l,a.id)),s=a===r;return x.useEffect(()=>(t(pue(a)),()=>{t(xue(a))}),[a,t]),s?e.children:null}var Cue=e=>{var{xAxisId:t,className:a}=e,r=rt(R8),s=sr(),l="xAxis",c=rt(y=>su(y,l,t,s)),u=rt(y=>C7(y,l,t,s)),m=rt(y=>N7(y,t)),f=rt(y=>Dre(y,t));if(m==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,b=B$(e,wue);return x.createElement(Jl,Lw({},b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:_t("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:u}))},Aue=e=>{var t,a,r,s,l;return x.createElement(kue,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},x.createElement(Cue,e))};class Ei extends x.Component{render(){return x.createElement(Aue,this.props)}}I$(Ei,"displayName","XAxis");I$(Ei,"defaultProps",{allowDataOverflow:vr.allowDataOverflow,allowDecimals:vr.allowDecimals,allowDuplicatedCategory:vr.allowDuplicatedCategory,height:vr.height,hide:!1,mirror:vr.mirror,orientation:vr.orientation,padding:vr.padding,reversed:vr.reversed,scale:vr.scale,tickCount:vr.tickCount,type:vr.type,xAxisId:0});var Tue=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=a?a.getBoundingClientRect().width:0,m=s+l,f=c+m+u+(a?r:0);return Math.round(f)}return 0},Eue=["dangerouslySetInnerHTML","ticks"];function z$(e,t,a){return(t=Oue(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Oue(e){var t=Pue(e,"string");return typeof t=="symbol"?t:t+""}function Pue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Iw(){return Iw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Iw.apply(null,arguments)}function Mue(e,t){if(e==null)return{};var a,r,s=Due(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Due(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Rue(e){var t=Rn();return x.useEffect(()=>(t(gue(e)),()=>{t(bue(e))}),[e,t]),null}var $ue=e=>{var t,{yAxisId:a,className:r,width:s,label:l}=e,c=x.useRef(null),u=x.useRef(null),m=rt(R8),f=sr(),h=Rn(),g="yAxis",b=rt(C=>su(C,g,a,f)),y=rt(C=>S7(C,a)),j=rt(C=>Rre(C,a)),w=rt(C=>C7(C,g,a,f));if(x.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!y||AS(l)||x.isValidElement(l))){var O=c.current,T=O==null||(C=O.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:E,tickMargin:I}=O.props,M=Tue({ticks:T,label:u.current,labelGapWithTick:5,tickSize:E,tickMargin:I});Math.round(y.width)!==Math.round(M)&&h(vue({id:a,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y==null?void 0:y.width,y,h,l,a,s]),y==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=Mue(e,Eue);return x.createElement(Jl,Iw({},_,{ref:c,labelRef:u,scale:b,x:j.x,y:j.y,width:y.width,height:y.height,className:_t("recharts-".concat(g," ").concat(g),r),viewBox:m,ticks:w}))},Lue=e=>{var t,a,r,s,l;return x.createElement(x.Fragment,null,x.createElement(Rue,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),x.createElement($ue,e))},Iue={allowDataOverflow:yr.allowDataOverflow,allowDecimals:yr.allowDecimals,allowDuplicatedCategory:yr.allowDuplicatedCategory,hide:!1,mirror:yr.mirror,orientation:yr.orientation,padding:yr.padding,reversed:yr.reversed,scale:yr.scale,tickCount:yr.tickCount,type:yr.type,width:yr.width,yAxisId:0};class Oi extends x.Component{render(){return x.createElement(Lue,this.props)}}z$(Oi,"displayName","YAxis");z$(Oi,"defaultProps",Iue);var L1={exports:{}},I1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function Bue(){if(OE)return I1;OE=1;var e=Hd();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return I1.useSyncExternalStoreWithSelector=function(m,f,h,g,b){var y=s(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=c(function(){function S(T){if(!k){if(k=!0,_=T,T=g(T),b!==void 0&&j.hasValue){var E=j.value;if(b(E,T))return C=E}return C=T}if(E=C,a(_,T))return E;var I=g(T);return b!==void 0&&b(E,I)?(_=T,E):(_=T,C=I)}var k=!1,_,C,O=h===void 0?null:h;return[function(){return S(f())},O===null?void 0:function(){return S(O())}]},[f,h,g,b]);var w=r(m,y[0],y[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},I1}var PE;function zue(){return PE||(PE=1,L1.exports=Bue()),L1.exports}zue();function Uue(e){e()}function Fue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Uue(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var ME={notify(){},get:()=>[]};function Vue(e,t){let a,r=ME,s=0,l=!1;function c(w){h();const S=r.subscribe(w);let k=!1;return()=>{k||(k=!0,S(),g())}}function u(){r.notify()}function m(){j.onStateChange&&j.onStateChange()}function f(){return l}function h(){s++,a||(a=e.subscribe(m),r=Fue())}function g(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=ME)}function b(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return j}var Hue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",que=Hue(),Kue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Gue=Kue(),Yue=()=>que||Gue?x.useLayoutEffect:x.useEffect,Wue=Yue(),B1=Symbol.for("react-redux-context"),z1=typeof globalThis<"u"?globalThis:{};function Xue(){if(!x.createContext)return{};const e=z1[B1]??(z1[B1]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var Zue=Xue();function Que(e){const{children:t,context:a,serverState:r,store:s}=e,l=x.useMemo(()=>{const m=Vue(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=x.useMemo(()=>s.getState(),[s]);Wue(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const u=a||Zue;return x.createElement(u.Provider,{value:l},t)}var Jue=Que,eme=(e,t)=>t,GS=Te([eme,Rt,e7,Zn,F7,Wi,zse,Wn],qse),YS=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},U$=es("mouseClick"),F$=Mf();F$.startListening({actionCreator:U$,effect:(e,t)=>{var a=e.payload,r=GS(t.getState(),YS(a));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Yre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Bw=es("mouseMove"),V$=Mf();V$.startListening({actionCreator:Bw,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=bS(r,r.tooltip.settings.shared),l=GS(r,YS(a));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(R7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(D7()))}});function tme(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var DE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},H$=Or({name:"rootProps",initialState:DE,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:DE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),nme=H$.reducer,{updateOptions:ame}=H$.actions,q$=Or({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:rme}=q$.actions,sme=q$.reducer,K$=es("keyDown"),G$=es("focus"),WS=Mf();WS.startListening({actionCreator:K$,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(vS(s,lu(a))),u=Wi(a);if(l==="Enter"){var m=ix(a,"axis","hover",String(s.index));t.dispatch(Ew({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var f=Bre(a),h=f==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,b=c+g*h;if(!(u==null||b>=u.length||b<0)){var y=ix(a,"axis","hover",String(b));t.dispatch(Ew({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});WS.startListening({actionCreator:G$,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=ix(a,"axis","hover",String(l));t.dispatch(Ew({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Yr=es("externalEvent"),Y$=Mf();Y$.startListening({actionCreator:Yr,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:Ese(a),activeDataKey:K7(a),activeIndex:Kl(a),activeLabel:q7(a),activeTooltipIndex:Kl(a),isTooltipActive:Ose(a)};e.payload.handler(r,e.payload.reactEvent)}}});var ime=Te([iu],e=>e.tooltipItemPayloads),lme=Te([ime,Vf,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(u=>u.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,a);return c}}}),W$=es("touchMove"),X$=Mf();X$.startListening({actionCreator:W$,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=bS(r,r.tooltip.settings.shared);if(s==="axis"){var l=GS(r,YS({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(R7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,u=a.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(M8),h=(c=m.getAttribute(D8))!==null&&c!==void 0?c:void 0,g=lme(t.getState(),f,h);t.dispatch(M7({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}});var ome=s8({brush:Jce,cartesianAxis:yue,chartData:lie,errorBars:ace,graphicalItems:moe,layout:eJ,legend:IJ,options:nie,polarAxis:Ple,polarOptions:sme,referenceElements:ide,rootProps:nme,tooltip:Wre}),cme=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return _Q({reducer:ome,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([F$.middleware,V$.middleware,WS.middleware,Y$.middleware,X$.middleware]),devTools:{serialize:{replacer:tme},name:"recharts-".concat(a)}})};function Z$(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=sr(),l=x.useRef(null);if(s)return a;l.current==null&&(l.current=cme(t,r));var c=dN;return x.createElement(Jue,{context:c,store:l.current},a)}function Q$(e){var{layout:t,width:a,height:r,margin:s}=e,l=Rn(),c=sr();return x.useEffect(()=>{c||(l(ZQ(t)),l(QQ({width:a,height:r})),l(XQ(s)))},[l,c,t,a,r,s]),null}function J$(e){var t=Rn();return x.useEffect(()=>{t(ame(e))},[t,e]),null}var dme=["children"];function ume(e,t){if(e==null)return{};var a,r,s=mme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function mme(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function fx(){return fx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},fx.apply(null,arguments)}var fme={width:"100%",height:"100%"},hme=x.forwardRef((e,t)=>{var a=L8(),r=I8(),s=F8();if(!$d(a)||!$d(r))return null;var{children:l,otherAttributes:c,title:u,desc:m}=e,f,h;return typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,x.createElement(TD,fx({},c,{title:u,desc:m,role:h,tabIndex:f,width:a,height:r,style:fme,ref:t}),l)}),pme=e=>{var{children:t}=e,a=rt(qx);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return x.createElement(TD,{width:r,height:s,x:c,y:l},t)},RE=x.forwardRef((e,t)=>{var{children:a}=e,r=ume(e,dme),s=sr();return s?x.createElement(pme,null,a):x.createElement(hme,fx({ref:t},r),a)});function xme(){var e=Rn(),[t,a]=x.useState(null),r=rt(TJ);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Er(l)&&l!==r&&e(JQ(l))}},[t,e,r]),a}function $E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function gme(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$E(Object(a),!0).forEach(function(r){bme(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$E(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function bme(e,t,a){return(t=vme(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function vme(e){var t=yme(e,"string");return typeof t=="symbol"?t:t+""}function yme(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var jme=x.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:j,onTouchStart:w,style:S,width:k}=e,_=Rn(),[C,O]=x.useState(null),[T,E]=x.useState(null);die();var I=xme(),M=x.useCallback($=>{I($),typeof t=="function"&&t($),O($),E($)},[I,t,O,E]),V=x.useCallback($=>{_(U$($)),_(Yr({handler:l,reactEvent:$}))},[_,l]),Y=x.useCallback($=>{_(Bw($)),_(Yr({handler:f,reactEvent:$}))},[_,f]),U=x.useCallback($=>{_(D7()),_(Yr({handler:h,reactEvent:$}))},[_,h]),F=x.useCallback($=>{_(Bw($)),_(Yr({handler:g,reactEvent:$}))},[_,g]),ie=x.useCallback(()=>{_(G$())},[_]),Se=x.useCallback($=>{_(K$($.key))},[_]),oe=x.useCallback($=>{_(Yr({handler:c,reactEvent:$}))},[_,c]),P=x.useCallback($=>{_(Yr({handler:u,reactEvent:$}))},[_,u]),K=x.useCallback($=>{_(Yr({handler:m,reactEvent:$}))},[_,m]),W=x.useCallback($=>{_(Yr({handler:b,reactEvent:$}))},[_,b]),B=x.useCallback($=>{_(Yr({handler:w,reactEvent:$}))},[_,w]),A=x.useCallback($=>{_(W$($)),_(Yr({handler:j,reactEvent:$}))},[_,j]),z=x.useCallback($=>{_(Yr({handler:y,reactEvent:$}))},[_,y]);return x.createElement(Q7.Provider,{value:C},x.createElement(jX.Provider,{value:T},x.createElement("div",{className:_t("recharts-wrapper",r),style:gme({position:"relative",cursor:"default",width:k,height:s},S),onClick:V,onContextMenu:oe,onDoubleClick:P,onFocus:ie,onKeyDown:Se,onMouseDown:K,onMouseEnter:Y,onMouseLeave:U,onMouseMove:F,onMouseUp:W,onTouchEnd:z,onTouchMove:A,onTouchStart:B,ref:M},a)))}),wme=["children","className","width","height","style","compact","title","desc"];function Nme(e,t){if(e==null)return{};var a,r,s=Sme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Sme(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var eL=x.forwardRef((e,t)=>{var{children:a,className:r,width:s,height:l,style:c,compact:u,title:m,desc:f}=e,h=Nme(e,wme),g=Hi(h);return u?x.createElement(RE,{otherAttributes:g,title:m,desc:f},a):x.createElement(jme,{className:r,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(RE,{otherAttributes:g,title:m,desc:f,ref:t},x.createElement(ode,null,a)))}),_me=["width","height"];function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zw.apply(null,arguments)}function kme(e,t){if(e==null)return{};var a,r,s=Cme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Cme(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ame={top:5,right:5,bottom:5,left:5},Tme={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Ame,reverseStackOrder:!1,syncMethod:"index"},tL=x.forwardRef(function(t,a){var r,s=Pr(t.categoricalChartProps,Tme),{width:l,height:c}=s,u=kme(s,_me);if(!$d(l)||!$d(c))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:b}=t,y={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(Z$,{preloadedState:{options:y},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:m},x.createElement(k$,{chartData:b.data}),x.createElement(Q$,{width:l,height:c,layout:s.layout,margin:s.margin}),x.createElement(J$,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(eL,zw({},u,{width:l,height:c,ref:a})))}),Eme=["axis"],XS=x.forwardRef((e,t)=>x.createElement(tL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Eme,tooltipPayloadSearcher:CS,categoricalChartProps:e,ref:t})),Ome=["axis","item"],mp=x.forwardRef((e,t)=>x.createElement(tL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Ome,tooltipPayloadSearcher:CS,categoricalChartProps:e,ref:t}));function Pme(e){var t=Rn();return x.useEffect(()=>{t(rme(e))},[t,e]),null}var Mme=["width","height","layout"];function Uw(){return Uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Uw.apply(null,arguments)}function Dme(e,t){if(e==null)return{};var a,r,s=Rme(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Rme(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var $me={top:5,right:5,bottom:5,left:5},Lme={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:$me,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Ime=x.forwardRef(function(t,a){var r,s=Pr(t.categoricalChartProps,Lme),{width:l,height:c,layout:u}=s,m=Dme(s,Mme);if(!$d(l)||!$d(c))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:b}=t,y={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return x.createElement(Z$,{preloadedState:{options:y},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:f},x.createElement(k$,{chartData:s.data}),x.createElement(Q$,{width:l,height:c,layout:u,margin:s.margin}),x.createElement(J$,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(Pme,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(eL,Uw({width:l,height:c},m,{ref:a})))}),Bme=["item"],zme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},hx=x.forwardRef((e,t)=>{var a=Pr(e,zme);return x.createElement(Ime,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Bme,tooltipPayloadSearcher:CS,categoricalChartProps:a,ref:t})});function Ume(){const[e,t]=x.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[a,r]=x.useState(!0),[s,l]=x.useState(""),c="https://app.thedbt.ai",{width:u}=Fme(),m=(u||0)>=1024,f=!m;x.useEffect(()=>{let w=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const O=await _.text();throw new Error(`HTTP ${_.status}${O?`  ${O}`:""}`)}const C=await _.json();if(!w)return;t({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!w)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{w&&r(!1)}})(),()=>{w=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},g=w=>{const k=Math.max(0,Number(w)||0),_=Array.from({length:12},(C,O)=>{const T=O/11,E=Math.sin(T*Math.PI)*.4,I=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+E+I)));return{label:`P${O+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},b=x.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),y=x.useMemo(()=>{const w=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/w*100}))},[e]),j=x.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:Fa,series:g(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:_f,series:g(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:i2,series:g(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:vt,series:g(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:vd,series:g(e.knowledge_base),color:h.blue}],[e]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&n.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),n.jsx(Vme,{}),n.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[n.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),n.jsx(pe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),n.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[n.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:j.map(w=>n.jsx(qme,{...w,loading:a},w.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsx(U1,{title:"Leads Trend (Synthetic)",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(Fs,{children:n.jsxs(XS,{data:j[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(Il,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(Ei,{dataKey:"label",tick:{fontSize:12}}),n.jsx(Oi,{tick:{fontSize:12}}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsx(ug,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),n.jsx(U1,{title:"Overview by Metric",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(Fs,{children:n.jsxs(mp,{data:b,margin:{top:10,right:20,left:f?0:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),n.jsx(Il,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(Ei,{dataKey:"name",tick:{fontSize:12},hide:f}),n.jsx(Oi,{tick:{fontSize:12}}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsx(qm,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),n.jsx(U1,{title:"Share by Metric",className:"lg:col-span-2",children:n.jsx("div",{className:"h-80 w-full",children:n.jsx(Fs,{children:n.jsx(Xme,{data:y,mode:m?"desktop":"compact"})})})})]}),n.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function Fme(){const[e,t]=x.useState({width:null,height:null});return x.useEffect(()=>{function a(){t({width:window.innerWidth,height:window.innerHeight})}return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function Vme(){return n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),n.jsx(pe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function U1({title:e,children:t,className:a=""}){return n.jsxs(pe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${a}`,children:[n.jsx(Hme,{}),n.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function Hme(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function qme({label:e,value:t,icon:a,series:r,color:s,loading:l}){const c=Pd(0),u=Pd(0),m=Ap(u,[-50,50],[8,-8]),f=Ap(c,[-50,50],[-8,8]),h=x.useRef(null);return n.jsxs(pe.div,{ref:h,onMouseMove:g=>{var y;const b=(y=h.current)==null?void 0:y.getBoundingClientRect();b&&(c.set(g.clientX-b.left-b.width/2),u.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{c.set(0),u.set(0)},style:{rotateX:m,rotateY:f},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6",style:{color:s}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?n.jsx(Gme,{}):n.jsx(Kme,{value:t})}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),n.jsx("div",{className:"mt-3 h-20",children:l?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(Fs,{children:n.jsxs(XS,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(Il,{strokeDasharray:"3 3",strokeOpacity:.12}),n.jsx(Ei,{dataKey:"label",hide:!0}),n.jsx(Oi,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsx(ug,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function Kme({value:e,duration:t=800}){const[a,r]=x.useState(0);return x.useEffect(()=>{let s;const l=a,c=Number(e)||0,u=performance.now(),m=h=>1-Math.pow(1-h,3);function f(h){const g=Math.min(1,(h-u)/t);r(Math.round(l+(c-l)*m(g))),g<1&&(s=requestAnimationFrame(f))}return s=requestAnimationFrame(f),()=>cancelAnimationFrame(s)},[e]),n.jsx("span",{children:(a||0).toLocaleString()})}function Gme(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function Yme(e){const{cx:t,cy:a,midAngle:r,outerRadius:s,name:l,value:c,percent:u,laneSlot:m,sideRight:f,laneGap:h=24,fixedTy:g}=e,b=Math.PI/180,y=-r*b,j=s+6,w=t+Math.cos(y)*j,S=a+Math.sin(y)*j,k=s+22,_=t+Math.cos(y)*k,C=a+Math.sin(y)*k,O=!!f;let T=O?_+36:_-36,E=typeof g=="number"?g:a+m*h;const I=34,M=t+s+I,V=t-s-I;O?T=Math.max(T,M+12):T=Math.min(T,V-12);const U=(typeof m=="number"?m:0)*18,F=O?_+16:_-16,ie=C+U*.25,Se=O?T-22:T+22,oe=E+U*.75,P=typeof u=="number"?Math.round(u*100):0,K=`${l}`,W=`${c}  ${P}%`,B=Math.max(136,K.length*8+W.length*4.2),A=O?0:-B,z=O?"start":"end";return n.jsxs(pe.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[n.jsx("path",{d:`M ${w},${S} C ${F},${ie} ${Se},${oe} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),n.jsxs("path",{d:`M ${w},${S} C ${F},${ie} ${Se},${oe} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[n.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),n.jsxs("g",{transform:`translate(${T}, ${E})`,children:[n.jsx("rect",{x:A-6,y:-22,rx:"14",ry:"14",width:B+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),n.jsx("rect",{x:A,y:-18,rx:"12",ry:"12",width:B,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),n.jsx("text",{x:A+(O?14:B-14),y:-2,textAnchor:z,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:K}),n.jsx("text",{x:A+(O?14:B-14),y:12,textAnchor:z,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:W})]})]})}function Wme(e){const t=Math.PI/180,{cx:a,cy:r,midAngle:s,innerRadius:l,outerRadius:c,name:u,value:m,percent:f}=e,h=l+(c-l)*.58,g=a+Math.cos(-s*t)*h,b=r+Math.sin(-s*t)*h,y=Math.round((f||0)*100);return y<7?null:n.jsxs("g",{children:[n.jsx("text",{x:g,y:b-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:u}),n.jsxs("text",{x:g,y:b+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[m,"  ",y,"%"]})]})}function Xme({data:e,mode:t="desktop",width:a,height:r}){const u=Math.PI/180,m=e.reduce((U,F)=>U+(Number(F.value)||0),0),f=(a||0)*.5,h=(r||0)*.5,g=t==="desktop";if(m===0)return n.jsxs(hx,{width:a,height:r,children:[n.jsx(gf,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),n.jsx("text",{x:f,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const b=-90,j=270-b;let w=b;const k=e.map((U,F)=>({index:F,value:Number(U.value)||0})).filter(U=>U.value>0).map(U=>{const F=m?U.value/m*j:0,ie=w+F/2;w+=F;const Se=-ie*u,oe=Math.cos(Se)>=0,P=h+Math.sin(Se)*110;return{index:U.index,ang:Se,right:oe,ty0:P,mid:ie}}),_=k.filter(U=>!U.right).sort((U,F)=>U.ty0-F.ty0),C=k.filter(U=>U.right).sort((U,F)=>U.ty0-F.ty0),O=28,T=40,E=h-(110+T),I=h+(110+T),M=U=>{if(!U.length)return[];const F=U.length,ie=I-E,Se=Math.min(Math.max(O,F>1?ie/(F-1):O),36),oe=new Array(F);oe[0]=Math.max(U[0].ty0,E);for(let K=1;K<F;K++)oe[K]=Math.max(U[K].ty0,oe[K-1]+Se);const P=oe[F-1]-I;if(P>0){for(let K=0;K<F;K++)oe[K]-=P;if(oe[0]<E){const K=E-oe[0];for(let W=0;W<F;W++)oe[W]+=K}}return oe},V=M(_),Y=M(C);return n.jsxs(hx,{width:a,height:r,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[n.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),n.jsxs("filter",{id:"arrowGlow",children:[n.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),n.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),n.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),n.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),n.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),n.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[n.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),n.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:n.jsx("feGaussianBlur",{stdDeviation:"8"})}),n.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsx(gf,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:g?U=>{if(!(U&&U.value>0))return null;const F=Math.PI/180,ie=Math.cos(-U.midAngle*F)>=0,oe=(ie?C:_).findIndex(B=>B.index===U.index);if(oe===-1)return null;const P=ie?Y:V,K=P[oe];if(typeof K!="number")return null;const W=oe-(P.length-1)/2;return n.jsx(Yme,{...U,laneSlot:W,sideRight:ie,fixedTy:K,laneGap:30})}:U=>n.jsx(Wme,{...U}),labelLine:!1,children:e.map((U,F)=>n.jsx(_i,{fill:F===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][F-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${F}`))})]})}const Zme={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"};var LE={};const IE=typeof import.meta<"u"&&Zme&&"https://app.thedbt.ai"||typeof process<"u"&&LE&&LE.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Kc(...e){return e.filter(Boolean).join(" ")}function BE({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(a=>127397+a.charCodeAt(0));return n.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function Qme({open:e,onClose:t,onConfirm:a,numbers:r=[]}){if(!e)return null;const s=r.slice(0,5),l=Math.max(0,r.length-s.length);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",n.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>n.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),n.jsx("button",{onClick:()=>a(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function Jme(){const[e,t]=x.useState("US"),[a,r]=x.useState([]),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(20),[b,y]=x.useState(1),[j,w]=x.useState(!1),[S,k]=x.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],O=()=>{try{return localStorage.getItem("token")}catch{return null}},T=W=>W.split(/[,\s]+/).map(B=>B.trim()).filter(Boolean),[E,I]=x.useState(()=>new Set),M=W=>E.has(W),V=W=>{I(B=>{const A=new Set(B);return A.has(W)?A.delete(W):A.add(W),A})},Y=()=>I(new Set),U=x.useMemo(()=>{const W=b*_,B=W-_;return a.slice(B,W)},[a,b]),F=Math.ceil(a.length/_)||1,ie=async()=>{const W=T(m);l(!0);try{const B=O(),A=await fetch(`${IE}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({country:e,area_codes:W.length?W:null,limit:h})}),z=await A.json();if(!A.ok){const G=z&&z.detail&&(z.detail.error||z.detail)||(z==null?void 0:z.message)||"Failed to fetch phone numbers.";r([]),R.error(G);return}const $=Array.isArray(z)?z:[];r($),y(1),Y(),$.length===0&&R.info("No numbers found for your query.")}catch(B){console.error(B),r([]),R.error("Network error while fetching numbers.")}finally{l(!1)}},Se=async W=>{if(W!=null&&W.length){u(!0);try{const B=O(),A=await fetch(`${IE}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({phone_number:W})}),z=await A.json();if(!A.ok||!(z!=null&&z.success)){const $=z&&z.detail&&(z.detail.error||z.detail)||(z==null?void 0:z.message)||"Failed to purchase numbers.";R.error($);return}r($=>$.filter(G=>!W.includes(G.phone_number))),Y(),R.success(` Purchased ${W.length} number${W.length>1?"s":""}.`)}catch(B){console.error(B),R.error("Network error while purchasing.")}finally{u(!1),w(!1),k([])}}},oe=W=>{if(!W)return"";if(e==="US"||e==="CA"){const A=W.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(A)return`+1 (${A[1]}) ${A[2]}-${A[3]}`}return W},P=async W=>{try{await navigator.clipboard.writeText(W),R.success("Copied!")}catch{R.error("Copy failed.")}},K=(()=>{const W=a.length===0?0:(b-1)*_+1,B=Math.min(b*_,a.length);return{start:W,end:B}})();return n.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[n.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),n.jsx(Qme,{open:j,onClose:()=>w(!1),onConfirm:W=>Se(W),numbers:S}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[n.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:n.jsx(vt,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),n.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:a.length?`${a.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((W,B)=>n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:W.value}),n.jsx("div",{className:"text-xs text-gray-500",children:W.label})]},B))})]})}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:n.jsx(Ka,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ci,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),n.jsx("select",{value:e,onChange:W=>t(W.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(W=>n.jsxs("option",{value:W.code,children:[W.flag," ",W.name]},W.code))})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ka,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),n.jsx("input",{type:"text",value:m,onChange:W=>f(W.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(zl,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),n.jsxs("select",{value:h,onChange:W=>g(Number.parseInt(W.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]})]}),n.jsx("div",{className:"lg:col-span-1 flex items-end",children:n.jsx("button",{onClick:ie,disabled:s,className:Kc("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(Dn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(Ka,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{const W=U.map(A=>A.phone_number),B=W.every(A=>E.has(A));I(A=>{const z=new Set(A);return B?W.forEach($=>z.delete($)):W.forEach($=>z.add($)),z})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:U.every(W=>E.has(W.phone_number))?"Unselect Page":"Select Page"}),n.jsx("button",{onClick:()=>{if(E.size===0){R.info("Select numbers first.");return}const W=Array.from(E);k(W),w(!0)},disabled:E.size===0||c,className:Kc("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(n0,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(vt,{className:"w-4 h-4 text-white"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${a.length})`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",K.start,"  ",K.end," of"," ",a.length]})]})}),s?n.jsx("div",{className:"p-6 sm:p-8",children:n.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((W,B)=>n.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},B))})}):a.length===0?n.jsx("div",{className:"flex items-center justify-center py-16",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(vt,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),n.jsx("button",{onClick:ie,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:U.map((W,B)=>{var z,$,G;const A=M(W.phone_number);return n.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>V(W.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":A?"Unselect":"Select",children:A?n.jsx(n3,{className:"w-5 h-5 text-blue-600"}):n.jsx(Td,{className:"w-5 h-5"})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:oe(W.phone_number)}),n.jsx("button",{onClick:()=>P(W.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:n.jsx(ja,{className:"w-4 h-4 text-gray-500"})})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(Ys,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx(BE,{iso:W.iso_country}),W.region||"N/A"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((z=W.capabilities)==null?void 0:z.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),(($=W.capabilities)==null?void 0:$.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((G=W.capabilities)==null?void 0:G.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>{k([W.phone_number]),w(!0)},disabled:c,className:Kc("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(Dn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(n0,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},B)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:U.map((W,B)=>{var z,$,G;const A=M(W.phone_number);return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("button",{onClick:()=>V(W.phone_number),className:"text-gray-700 mr-3","aria-label":A?"Unselect":"Select",children:A?n.jsx(n3,{className:"w-5 h-5 text-blue-600"}):n.jsx(Td,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:oe(W.phone_number)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[n.jsx(Ys,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx(BE,{iso:W.iso_country}),W.region||"N/A"]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((z=W.capabilities)==null?void 0:z.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),(($=W.capabilities)==null?void 0:$.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((G=W.capabilities)==null?void 0:G.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),n.jsx("button",{onClick:()=>P(W.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:n.jsx(ja,{className:"w-4 h-4 text-gray-500"})})]}),n.jsx("button",{onClick:()=>{k([W.phone_number]),w(!0)},disabled:c,className:Kc("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(Dn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(n0,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},B)})})]}),a.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",K.start," to ",K.end," of ",a.length," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>y(W=>Math.max(1,W-1)),disabled:b===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,F)},(W,B)=>{let A;return F<=5||b<=3?A=B+1:b>=F-2?A=F-4+B:A=b-2+B,n.jsx("button",{onClick:()=>y(A),className:Kc("px-3 py-2 text-sm font-medium rounded-lg transition",b===A?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:A},A)})}),n.jsx("button",{onClick:()=>y(W=>Math.min(F,W+1)),disabled:b>=F,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&n.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:n.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm sm:text-base",children:[n.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:Y,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),n.jsx("button",{onClick:()=>{const W=Array.from(E);k(W),w(!0)},disabled:c,className:Kc("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(n0,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function efe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const tfe=x.forwardRef(efe);function nfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Fw=x.forwardRef(nfe);function afe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const nL=x.forwardRef(afe);function rfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const px=x.forwardRef(rfe);function sfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Dm=x.forwardRef(sfe);function ife({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Rm=x.forwardRef(ife);function lfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const zE=x.forwardRef(lfe);function ofe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const aL=x.forwardRef(ofe);function cfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const dfe=x.forwardRef(cfe);function ufe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Vw=x.forwardRef(ufe);function mfe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Hw=x.forwardRef(mfe);function ffe({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Sd=x.forwardRef(ffe),hfe="https://app.thedbt.ai",pfe=[`${hfe}/api`];function xfe(){var Me,Pe,ge,qe,Ve;const e=dn(),[t,a]=x.useState({name:"",email:""}),[r,s]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[f,h]=x.useState(!1),g=x.useRef(null),[b,y]=x.useState(!1),[j,w]=x.useState({old:!1,next:!1}),[S,k]=x.useState({old_password:"",new_password:""}),[_,C]=x.useState(!1),[O,T]=x.useState({sid:"",token:"",validate:!0}),[E,I]=x.useState(null),[M,V]=x.useState(!1),[Y,U]=x.useState({sid:!1,token:!1}),[F,ie]=x.useState(!1),[Se,oe]=x.useState(!1),[P,K]=x.useState(!1),W=()=>localStorage.getItem("token")||"",B=()=>W()?{Authorization:`Bearer ${W()}`}:{},A=()=>W()?!0:(R.error("Authentication required. Please login again."),e("/login"),!1),z=async(ye,ce={},{expectJson:Ee=!0}={})=>{const te=[];for(const $e of pfe)try{const Ke=await fetch(`${$e}${ye}`,ce);if(Ke.status===401||Ke.status===403){const st=await Ke.text().catch(()=>"");throw new Error(st||"Unauthorized")}if(Ke.ok)return Ee?await Ke.json():Ke;if(Ke.status===404){te.push({base:$e,status:404});continue}const Ge=await Ke.json().catch(()=>({}));throw new Error((Ge==null?void 0:Ge.detail)||`Request failed (${Ke.status})`)}catch(Ke){if(te.push({base:$e,err:Ke==null?void 0:Ke.message}),(Ke==null?void 0:Ke.message)==="Unauthorized")throw Ke}const we=te!=null&&te.length?`Request failed on all bases: ${te.map($e=>`${$e.base}${$e.status||$e.err}`).join(" | ")}`:"Network error";throw new Error(we)};x.useEffect(()=>{(async()=>{var ye,ce,Ee;if(A())try{const te=await z("/user-info",{headers:{...B(),Accept:"application/json"}});a({name:((ye=te==null?void 0:te.data)==null?void 0:ye.name)||"",email:((ce=te==null?void 0:te.data)==null?void 0:ce.email)||""});const we=(Ee=te==null?void 0:te.data)==null?void 0:Ee.profile_photo_url;if(we)c(we+(we.includes("?")?"&":"?")+"t="+Date.now());else try{const $e=await z("/profile-photo?redirect=false",{headers:{...B(),Accept:"application/json"}}),Ke=$e==null?void 0:$e.photo_url;Ke&&c(Ke+(Ke.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{R.error("Unable to load profile")}finally{s(!0)}})()},[]),x.useEffect(()=>{(async()=>{if(A())try{const ye=await z("/twilio/credentials",{headers:{...B(),Accept:"application/json"}});I(ye)}catch{}})()},[]);const $=async ye=>{var ce;if((ce=ye==null?void 0:ye.preventDefault)==null||ce.call(ye),!!A()){if(!t.name.trim())return R.error("Name is required");if(!t.email.trim())return R.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return R.error("Please enter a valid email");K(!0);try{await z("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),R.success("Profile updated")}catch(Ee){R.error(Ee.message||"Update failed")}finally{K(!1)}}},G=async ye=>{var ce;if((ce=ye==null?void 0:ye.preventDefault)==null||ce.call(ye),!!A()){if(!S.old_password||!S.new_password)return R.error("Please fill both password fields");if(S.new_password.length<8)return R.error("New password must be at least 8 characters");C(!0);try{await z("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify(S)}),R.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(Ee){R.error(Ee.message||"Password change failed")}finally{C(!1)}}},ue=async ye=>{var te;if((te=ye==null?void 0:ye.preventDefault)==null||te.call(ye),!A())return;const ce=O.sid.trim(),Ee=O.token.trim();if(!ce||!Ee)return R.error("Please enter both Account SID and Auth Token");if(!ce.startsWith("AC")||ce.length<20)return R.error("Account SID should start with AC");if(Ee.length<10)return R.error("Auth Token looks too short");V(!0);try{const we=await z("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({account_sid:ce,auth_token:Ee,validate:!!O.validate})});I((we==null?void 0:we.masked)||null),T({sid:"",token:"",validate:!0}),R.success("Twilio credentials saved")}catch(we){R.error(we.message||"Failed to save Twilio credentials")}finally{V(!1)}},ee=async ye=>{if(!ye||!A())return;if(!["image/png","image/jpeg","image/webp"].includes(ye.type))return R.error("Please upload PNG, JPG or WebP");if(ye.size>5*1024*1024)return R.error("Max file size is 5MB");m(!0);try{const Ee=new FormData;Ee.append("file",ye);const te=await z("/profile-photo",{method:"POST",headers:{...B()},body:Ee}),we=te==null?void 0:te.photo_url;if(!we)throw new Error("Upload returned no URL");c(we+(we.includes("?")?"&":"?")+"t="+Date.now()),R.success("Profile photo updated")}catch(Ee){R.error(Ee.message||"Upload failed")}finally{m(!1)}},Z=async()=>{if(A()){h(!0);try{await z("/profile-photo",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),c(null),R.success("Profile photo removed")}catch(ye){R.error(ye.message||"Delete failed")}finally{h(!1)}}},Ae=ye=>{ye.preventDefault(),y(!1);const ce=ye.dataTransfer.files&&ye.dataTransfer.files[0]||void 0;ee(ce)},ae=ye=>{ye.preventDefault(),y(!0)},_e=ye=>{ye.preventDefault(),y(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:n.jsxs(pe.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:n.jsx(Sd,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),n.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx(pe.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(dfe,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),n.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:n.jsx("div",{className:"rounded-full bg-white p-1",children:n.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:n.jsx(At,{mode:"wait",children:l?n.jsx(pe.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):n.jsx(pe.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Ve=(qe=(ge=(Pe=(Me=t.name)==null?void 0:Me.split(" "))==null?void 0:Pe.map(ye=>ye[0]))==null?void 0:ge.join(""))==null?void 0:qe.toUpperCase())==null?void 0:Ve.slice(0,2))||"U"},"initials")})})})}),n.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:t.name||"User"}),n.jsx("p",{className:"text-slate-600 text-sm break-all",children:t.email||"-"})]})]}),n.jsxs("div",{className:`mt-5 rounded-xl border-2 ${b?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:Ae,onDragOver:ae,onDragLeave:_e,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:n.jsx(tfe,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",n.jsx("button",{type:"button",onClick:()=>{var ye;return(ye=g.current)==null?void 0:ye.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),n.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),n.jsx("input",{ref:g,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:ye=>{var ce;return ee((ce=ye.target.files)==null?void 0:ce[0])}})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{var ye;return(ye=g.current)==null?void 0:ye.click()},disabled:u,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:u?"Uploading...":"Upload New"}),n.jsx("button",{type:"button",onClick:Z,disabled:f||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:f?"Removing...":"Remove"})]})]})}),n.jsx(pe.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:n.jsx(Sd,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),n.jsxs("form",{onSubmit:$,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(Sd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:t.name,onChange:ye=>a({...t,name:ye.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||P,required:!0})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(nL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:t.email,onChange:ye=>a({...t,email:ye.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||P,required:!0})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:!r||P,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:P?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Fw,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),n.jsx(pe.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:n.jsx(zE,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),E?n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),E&&n.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",E.account_sid]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",E.auth_token]})]}),n.jsxs("form",{onSubmit:ue,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:Y.sid?"text":"password",value:O.sid,onChange:ye=>T(ce=>({...ce,sid:ye.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>U(ye=>({...ye,sid:!ye.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":Y.sid?"Hide SID":"Show SID",children:Y.sid?n.jsx(Dm,{className:"w-5 h-5"}):n.jsx(Rm,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:Y.token?"text":"password",value:O.token,onChange:ye=>T(ce=>({...ce,token:ye.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>U(ye=>({...ye,token:!ye.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":Y.token?"Hide Token":"Show Token",children:Y.token?n.jsx(Dm,{className:"w-5 h-5"}):n.jsx(Rm,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:O.validate,onChange:ye=>T(ce=>({...ce,validate:ye.target.checked}))}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(zE,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),n.jsx(pe.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(px,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[n.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),n.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsxs("button",{onClick:()=>ie(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[n.jsx(Hw,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),n.jsx(pe.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:n.jsx(aL,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),n.jsxs("form",{onSubmit:G,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.old?"text":"password",value:S.old_password,onChange:ye=>k({...S,old_password:ye.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),n.jsx("button",{type:"button",onClick:()=>w(ye=>({...ye,old:!ye.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.old?n.jsx(Dm,{className:"w-5 h-5"}):n.jsx(Rm,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.next?"text":"password",value:S.new_password,onChange:ye=>k({...S,new_password:ye.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),n.jsx("button",{type:"button",onClick:()=>w(ye=>({...ye,next:!ye.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.next?n.jsx(Dm,{className:"w-5 h-5"}):n.jsx(Rm,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Vw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),n.jsx(At,{children:F&&n.jsx(pe.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsxs(pe.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(px,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx("button",{onClick:()=>ie(!1),disabled:Se,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),n.jsx("button",{onClick:async()=>{if(A()){oe(!0);try{await z("/delete-account",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),R.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(ye){R.error(ye.message||"Delete failed")}finally{oe(!1),ie(!1)}}},disabled:Se,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:Se?"Deleting...":"Delete Forever"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10",children:n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})})]})}const UE="https://app.thedbt.ai";function gfe(){var M,V;const[e,t]=x.useState([]),[a,r]=x.useState(!1),[s,l]=x.useState(1),[c,u]=x.useState({open:!1,number:null}),[m,f]=x.useState(!1),h=10,g=dn(),b=Y=>Array.isArray(Y)?Y:Y&&Array.isArray(Y.purchased_numbers)?Y.purchased_numbers:[],y=Y=>{if(!Y)return"N/A";const F=String(Y).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return F?`+1 (${F[1]}) ${F[2]}-${F[3]}`:Y},j=Y=>{if(!Y)return"N/A";const U=new Date(Y);return isNaN(U.getTime())?"N/A":U.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},w=async()=>{r(!0);try{const Y=localStorage.getItem("token");if(!Y){console.error("No token found in localStorage"),t([]);return}const U=await fetch(`${UE}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${Y}`}});let F;try{F=await U.json()}catch{F=[]}if(!U.ok){console.error("Failed to fetch purchased numbers:",(F==null?void 0:F.message)||(F==null?void 0:F.detail)||"Unknown error"),t([]);return}t(b(F))}catch(Y){console.error("Error fetching purchased numbers:",Y),t([])}finally{r(!1)}},S=async()=>{var Y;if((Y=c.number)!=null&&Y.phone_number){f(!0);try{const U=localStorage.getItem("token");if(!U)throw new Error("No token found in localStorage");const F=await fetch(`${UE}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ie;try{ie=await F.json()}catch{ie=null}if(!F.ok||(ie==null?void 0:ie.success)===!1)throw new Error((ie==null?void 0:ie.detail)||(ie==null?void 0:ie.error)||"Failed to remove phone number");t(Se=>Se.filter(oe=>oe.phone_number!==c.number.phone_number)),u({open:!1,number:null})}catch(U){alert("Failed to delete number: "+U.message)}finally{f(!1)}}};x.useEffect(()=>{w()},[]);const k=Math.ceil(e.length/h)||1,_=Math.min(s*h,e.length),C=Math.max(0,_-h),O=e.slice(C,_),T=()=>s<k&&l(Y=>Y+1),E=()=>s>1&&l(Y=>Y-1),I=Y=>Y>=1&&Y<=k&&l(Y);return x.useEffect(()=>{s>k&&l(1)},[e]),n.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!m&&u({open:!1,number:null})}),n.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Tn,{className:"w-6 h-6 text-red-500"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),n.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",n.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:y((M=c.number)==null?void 0:M.phone_number)}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",j((V=c.number)==null?void 0:V.date_purchased)]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!m&&u({open:!1,number:null}),disabled:m,children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:m,children:m?"Deleting...":"Delete"})]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(vt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),n.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(vt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),n.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),n.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(vt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),n.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),n.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),a?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(vt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(vt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),n.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map((Y,U)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:n.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"text-lg font-bold text-gray-900",children:y(Y.phone_number)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Ys,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:Y.friendly_name||""})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:j(Y.date_purchased)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-700",children:Y.attached_assistant??""})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:Y}),children:[n.jsx(Tn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},Y.phone_number||U))})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:O.map((Y,U)=>n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(vt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:y(Y.phone_number)}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(Ys,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx("span",{className:"text-sm text-gray-600",children:Y.friendly_name||""})]}),n.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:j(Y.date_purchased)}),n.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",Y.attached_assistant??""]}),n.jsx("div",{children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:Y}),children:[n.jsx(Tn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},Y.phone_number||U))})]})]}),e.length>h&&n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:E,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const Y=[];let U=1,F=k;k>5&&(s<=3?(U=1,F=5):s>=k-2?(U=k-4,F=k):(U=s-2,F=s+2));for(let ie=U;ie<=F;ie++)Y.push(n.jsx("button",{onClick:()=>I(ie),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===ie?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===ie?"page":void 0,children:ie},ie));return Y})()}),n.jsx("button",{onClick:T,disabled:s>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function js(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function mg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function rL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function sL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function iL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function xx(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function lL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function bfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function oL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function fg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function hg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function vfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function bf(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Bl(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function pg(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function cL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function dL(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function yfe(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Zo(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Fd(e){return Vt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Gc="https://app.thedbt.ai",bo={ASSISTANTS:`${Gc}/api/get-assistants`,DELETE_ASSISTANT:e=>`${Gc}/api/assistants/${e}`,START_CALL:(e,t)=>`${Gc}/api/phone-call/${encodeURIComponent(e)}/${encodeURIComponent(t)}`,WALLET:`${Gc}/api/wallet`,CAN_CALL:e=>`${Gc}/api/wallet/can-call?seconds=${Math.max(1,Number(e)||1)}`,CALL_COUNTS:`${Gc}/api/user/call-counts`};function jfe(){const e=dn(),t=x.useMemo(()=>localStorage.getItem("token"),[]),[a,r]=x.useState([]),[s,l]=x.useState(null),[c,u]=x.useState(null),[m,f]=x.useState(!0),[h,g]=x.useState(!1),[b,y]=x.useState(!0),[j,w]=x.useState(""),[S,k]=x.useState("all"),[_,C]=x.useState("all"),[O,T]=x.useState("created_at"),[E,I]=x.useState("desc"),[M,V]=x.useState(!1),[Y,U]=x.useState(null),[F,ie]=x.useState([]),[Se,oe]=x.useState(!1),[P,K]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[W,B]=x.useState(120),[A,z]=x.useState(null),$=x.useRef(null),[G,ue]=x.useState(1),ee=10,Z=async()=>{try{g(!0);const[ne,ke,xe]=await Promise.all([fetch(bo.ASSISTANTS,{headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}}),t?fetch(bo.WALLET,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}}):Promise.resolve(null),t?fetch(bo.CALL_COUNTS,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}}):Promise.resolve(null)]);if(!ne.ok)throw new Error(`Assistants HTTP ${ne.status}`);const Be=await ne.json(),at=Array.isArray(Be)?Be:Array.isArray(Be==null?void 0:Be.assistants)?Be.assistants:[];r(at),ke&&(ke.ok?l(await ke.json()):l(null)),xe&&(xe.ok?u(await xe.json()):u(null))}catch(ne){console.error(ne),R.error("Failed to fetch assistants")}finally{f(!1),g(!1)}},Ae=async ne=>{if(!t){z(null);return}try{const xe=await(await fetch(bo.CAN_CALL(ne),{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json();z(xe||null)}catch{z(null)}};x.useEffect(()=>{Z()},[]),x.useEffect(()=>{if(!b)return;const ne=setInterval(Z,15e3);return()=>clearInterval(ne)},[b]),x.useEffect(()=>{if(Se)return clearTimeout($.current),$.current=setTimeout(()=>Ae(W),300),()=>clearTimeout($.current)},[W,Se]);const ae=x.useMemo(()=>{let ne=[...a];S!=="all"&&(ne=ne.filter(xe=>((xe==null?void 0:xe.provider)||"").toLowerCase()===S)),_!=="all"&&(ne=ne.filter(xe=>((xe==null?void 0:xe.category)||"").toLowerCase()===_));const ke=j.trim().toLowerCase();return ke&&(ne=ne.filter(xe=>[xe==null?void 0:xe.name,xe==null?void 0:xe.model,xe==null?void 0:xe.voice,xe==null?void 0:xe.category,xe==null?void 0:xe.attached_Number,xe==null?void 0:xe.vapi_assistant_id].filter(Boolean).map(String).map(at=>at.toLowerCase()).some(at=>at.includes(ke)))),ne.sort((xe,Be)=>{if(O==="created_at"){const Je=xe!=null&&xe.created_at?new Date(xe.created_at).getTime():0,$t=Be!=null&&Be.created_at?new Date(Be.created_at).getTime():0;return E==="asc"?Je-$t:$t-Je}const at=((xe==null?void 0:xe[O])??"").toString().toLowerCase(),dt=((Be==null?void 0:Be[O])??"").toString().toLowerCase();return at<dt?E==="asc"?-1:1:at>dt?E==="asc"?1:-1:0}),ne},[a,j,S,_,O,E]),_e=x.useMemo(()=>{const ne=new Set((a||[]).map(ke=>((ke==null?void 0:ke.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ne)]},[a]),Me=x.useMemo(()=>{const ne=new Set((a||[]).map(ke=>((ke==null?void 0:ke.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ne)]},[a]),Pe=Math.max(1,Math.ceil(ae.length/ee)),ge=Math.min(G,Pe),qe=ae.slice((ge-1)*ee,ge*ee),Ve=x.useMemo(()=>ae.length?ae.reduce((ne,ke)=>{const xe=ne!=null&&ne.created_at?new Date(ne.created_at):null,Be=ke!=null&&ke.created_at?new Date(ke.created_at):null;return!xe&&Be?ke:!Be&&xe||!xe&&!Be?ne:Be>xe?ke:ne},ae[0]):null,[ae]),ye=ne=>{O===ne?I(ke=>ke==="asc"?"desc":"asc"):(T(ne),I("asc"))},ce=ne=>{U(ne),V(!0)},Ee=async()=>{if(Y)try{const ne=await fetch(bo.DELETE_ASSISTANT(Y),{method:"DELETE",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}});if(!ne.ok){let ke=`HTTP ${ne.status}`;try{const xe=await ne.json();xe!=null&&xe.detail&&(ke=xe.detail)}catch{}throw new Error(ke)}R.success("Assistant deleted"),ie(ke=>ke.filter(xe=>xe!==Y)),Z()}catch(ne){console.error(ne),R.error((ne==null?void 0:ne.message)||"Delete failed")}finally{V(!1),U(null)}},te=ne=>{const ke=ne==null?void 0:ne.knowledge_base;if(Array.isArray(ke)&&ke.length){const xe=ke.filter(Be=>typeof Be=="string"&&/^https?:\/\//i.test(Be));if(xe.length){xe.forEach(Be=>window.open(Be,"_blank","noopener"));return}}R.info("No file URLs available for this assistant.")},we=ne=>{if(!(ne!=null&&ne.vapi_assistant_id)){R.error("Missing VAPI Assistant ID");return}K({vapi_assistant_id:ne.vapi_assistant_id,number:(ne==null?void 0:ne.attached_Number)||"",first_name:"",last_name:"",email:""}),B(120),oe(!0),Ae(120)},$e=async ne=>{ne.preventDefault();const{vapi_assistant_id:ke,number:xe,first_name:Be,last_name:at,email:dt}=P;if(!xe)return R.error("Enter the customer's phone number (E.164 preferred)");if(A&&A.ok===!1){const Je=((A.shortfall_cents||0)/100).toFixed(2);R.error(`Insufficient balance. Shortfall $${Je}. Top up first.`),setTimeout(()=>e("/user/PricingSection"),350);return}try{const Je=bo.START_CALL(ke,xe),$t={first_name:Be||"Caller",last_name:at||"",email:dt||"caller@example.com",add_date:new Date().toISOString(),mobile_no:xe,custom_field_01:null,custom_field_02:null},Tt=await fetch(Je,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""},body:JSON.stringify($t)}),Ie=await Tt.json().catch(()=>({}));if(!Tt.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Tt.status}`);R.success("Call initiated"),oe(!1)}catch(Je){console.error(Je),R.error((Je==null?void 0:Je.message)||"Failed to initiate call")}},Ke=ne=>F.includes(ne),Ge=ne=>{ie(ke=>ke.includes(ne)?ke.filter(xe=>xe!==ne):[...ke,ne])},st=()=>{const ne=qe.map(xe=>xe.id).filter(Boolean),ke=ne.every(xe=>F.includes(xe));ie(xe=>ke?xe.filter(Be=>!ne.includes(Be)):Array.from(new Set([...xe,...ne])))},nt=async()=>{if(!F.length)return R.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const ne of F)await fetch(bo.DELETE_ASSISTANT(ne),{method:"DELETE",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}});R.success("Bulk delete complete"),ie([]),Z()}catch(ne){console.error(ne),R.error("Bulk delete encountered an error")}},Oe=()=>{const ne=["Name","Model","Voice","Attached Number","Category","Created","Assistant ID"],ke=ae.map(Je=>[(Je==null?void 0:Je.name)??"",(Je==null?void 0:Je.model)??"",(Je==null?void 0:Je.voice)??"",(Je==null?void 0:Je.attached_Number)??"",(Je==null?void 0:Je.category)??"",Je!=null&&Je.created_at?new Date(Je.created_at).toLocaleString():"",(Je==null?void 0:Je.vapi_assistant_id)??""]),xe=[ne,...ke].map(Je=>Je.map($t=>`"${String($t).replace(/"/g,'""')}"`).join(",")).join(`
`),Be=new Blob([xe],{type:"text/csv;charset=utf-8;"}),at=URL.createObjectURL(Be),dt=document.createElement("a");dt.href=at,dt.download="assistants.csv",dt.click(),URL.revokeObjectURL(at)};return m?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((ne,ke)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ke))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((ne,ke)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((xe,Be)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},Be))})]})},ke))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(Fd,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[ae.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xx,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",b?"enabled":"disabled"]})]}),s&&n.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-white/15 px-3 py-1.5",children:[n.jsx(bfe,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-semibold",children:["Balance $",(((s.balance_cents||0)+(s.bonus_cents||0))/100).toFixed(2)]}),n.jsx("button",{onClick:()=>e("/user/PricingSection"),className:"ml-2 rounded-lg bg-white/20 px-2 py-1 text-xs font-medium hover:bg-white/30",children:"Top up"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>y(ne=>!ne),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${b?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${b?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:Z,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(cL,{className:`h-4 w-4 transition-transform ${h?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:Oe,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(oL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(pg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(dL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:j,onChange:ne=>w(ne.target.value),placeholder:"Search assistants, models, voices, phone, ID",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(FE,{label:"Provider",value:S,onChange:k,options:_e}),n.jsx(FE,{label:"Category",value:_,onChange:C,options:Me})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(S0,{title:"Total Assistants",value:ae.length,icon:n.jsx(Fd,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(S0,{title:"Todays Calls",value:(c==null?void 0:c.today_calls)??0,icon:n.jsx(Bl,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(S0,{title:"Total Calls",value:(c==null?void 0:c.total_calls)??0,icon:n.jsx(js,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(S0,{title:"Last Created",value:Ve!=null&&Ve.name?Ve.name.length>12?`${Ve.name.slice(0,12)}`:Ve.name:"",icon:n.jsx(xx,{className:"h-6 w-6 text-cyan-600"}),subtitle:Ve!=null&&Ve.created_at?new Date(Ve.created_at).toLocaleDateString():""})]}),F.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(js,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[F.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:st,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:nt,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),ae.length===0?n.jsx(_fe,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(yfe,{className:"h-4 w-4"}),n.jsx("span",{children:"Calls require sufficient wallet balance"})]})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx(wfe,{className:"w-12 text-center",checked:qe.every(ne=>F.includes(ne.id))&&qe.length>0,onChange:st}),n.jsx(Yc,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:O==="name"?E:null,onSort:ye}),n.jsx(Yc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:O==="model"?E:null,onSort:ye}),n.jsx(Yc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:O==="voice"?E:null,onSort:ye}),n.jsx(Yc,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:O==="attached_Number"?E:null,onSort:ye}),n.jsx(Yc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:O==="category"?E:null,onSort:ye}),n.jsx(Yc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:O==="created_at"?E:null,onSort:ye}),n.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:qe.map(ne=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ke(ne.id)?"bg-blue-50/50":""}`,children:[n.jsx(Nfe,{className:"w-12 text-center",checked:Ke(ne.id),onChange:()=>Ge(ne.id)}),n.jsx("td",{className:"w-[26%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(bf,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:ne.name||""}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsxs("span",{children:[Array.isArray(ne.knowledge_base)?ne.knowledge_base.length:0," KB items"]}),(ne==null?void 0:ne.vapi_assistant_id)&&n.jsxs("button",{className:"rounded-lg px-1.5 py-0.5 text-[11px] hover:bg-gray-100",onClick:()=>qw(ne.vapi_assistant_id),title:"Copy Assistant ID",children:["ID: ",ne.vapi_assistant_id.slice(0,8),""]})]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(_d,{variant:"secondary",children:ne.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(_d,{variant:"accent",children:ne.voice||""})})}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:ne.attached_Number||""}),ne.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>qw(ne.attached_Number),children:n.jsx(lL,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:ne.category?n.jsx(_d,{variant:"primary",children:ne.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:ne.created_at?new Date(ne.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[14%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full min-w-[240px] items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(_0,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${ne.id}`),variant:"primary",children:n.jsx(fg,{className:"h-4 w-4"})}),n.jsx(_0,{title:"View Files",onClick:()=>te(ne),variant:"success",children:n.jsx(hg,{className:"h-4 w-4"})}),n.jsx(_0,{title:"Start Call",onClick:()=>we(ne),variant:"secondary",children:n.jsx(Bl,{className:"h-4 w-4"})}),n.jsx(_0,{title:"Delete",onClick:()=>ce(ne.id),variant:"danger",children:n.jsx(Zo,{className:"h-4 w-4"})})]})})]},ne.id??ne.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:qe.map(ne=>n.jsx(Sfe,{assistant:ne,isSelected:Ke(ne.id),onToggleSelect:()=>Ge(ne.id),onEdit:()=>e(`/user/edit-assistant/${ne.id}`),onViewFiles:()=>te(ne),onCall:()=>we(ne),onDelete:()=>ce(ne.id)},ne.id??ne.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(ge-1)*ee+1," to ",Math.min(ge*ee,ae.length)," of"," ",ae.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(VE,{disabled:ge<=1,onClick:()=>ue(ne=>Math.max(1,ne-1)),children:[n.jsx(rL,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Pe)},(ne,ke)=>{const xe=ke+1;return n.jsx("button",{onClick:()=>ue(xe),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${xe===ge?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:xe},xe)})}),n.jsxs(VE,{disabled:ge>=Pe,onClick:()=>ue(ne=>Math.min(Pe,ne+1)),children:["Next",n.jsx(sL,{className:"h-4 w-4"})]})]})]})]})]}),M&&n.jsx(HE,{onClose:()=>V(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(Zo,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>V(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ee,children:"Delete Assistant"})]})]})}),Se&&n.jsxs(HE,{onClose:()=>oe(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(Bl,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:$e,className:"space-y-4",children:[n.jsx(pm,{label:"Customer Phone Number",value:P.number,onChange:ne=>K(ke=>({...ke,number:ne})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(pm,{label:"First Name",value:P.first_name,onChange:ne=>K(ke=>({...ke,first_name:ne})),placeholder:"John"}),n.jsx(pm,{label:"Last Name",value:P.last_name,onChange:ne=>K(ke=>({...ke,last_name:ne})),placeholder:"Doe"})]}),n.jsx(pm,{label:"Email Address",value:P.email,onChange:ne=>K(ke=>({...ke,email:ne})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsx(pm,{label:"Planned Duration (seconds)",value:W,onChange:ne=>B(Math.max(1,Number(ne||1))),placeholder:"e.g. 120",type:"number",required:!0}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((A==null?void 0:A.needed_cents)||0)/100).toFixed(2)]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",((((s==null?void 0:s.balance_cents)||0)+((s==null?void 0:s.bonus_cents)||0))/100).toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[A!=null&&A.ok?n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[n.jsx(js,{className:"h-4 w-4"})," Youre good to go"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[n.jsx(Zo,{className:"h-4 w-4"}),"Insufficient balance. Shortfall $",(((A==null?void 0:A.shortfall_cents)||0)/100).toFixed(2)]}),!(A!=null&&A.ok)&&n.jsx("button",{type:"button",onClick:()=>e("/user/PricingSection"),className:"ml-auto rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-50",children:"Top up wallet"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>oe(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function S0({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function FE({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(mg,{className:"h-4 w-4 text-white/70"})})]})}function _d({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function _0({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function Yc({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(iL,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(mg,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function wfe({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Nfe({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function Sfe({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(js,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(bf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]}),(e==null?void 0:e.vapi_assistant_id)&&n.jsxs("button",{onClick:()=>qw(e.vapi_assistant_id),className:"mt-1 text-xs text-blue-600 underline",title:"Copy Assistant ID",children:["ID: ",e.vapi_assistant_id.slice(0,8),""]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(_d,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(_d,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(_d,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(fg,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(hg,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(Bl,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(Zo,{className:"h-4 w-4"}),"Delete"]})]})]})}function VE({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function HE({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function pm({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function _fe(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(Fd,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(pg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function qw(e){e&&navigator.clipboard.writeText(e).then(()=>R.success("Copied to clipboard")).catch(()=>R.info(e))}const dc=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],ou=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...dc,...ou];dc.filter(e=>e.gender==="female");const F1=dc.filter(e=>e.gender==="male"),V1=dc;ou.filter(e=>e.gender==="female");ou.filter(e=>e.gender==="male");const jt={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},qE=/^\+\d{7,15}$/,KE=[{id:1,label:"Core & Transcription",Icon:l2},{id:2,label:"Voice",Icon:f2},{id:3,label:"Review & Save",Icon:Ul}],kfe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Cfe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Afe(){const{assistantId:e}=yf(),t=dn(),a="https://app.thedbt.ai",[r,s]=x.useState(1),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[f,h]=x.useState(!1),g=x.useRef(null),[b,y]=x.useState(!1),[j,w]=x.useState([]),[S,k]=x.useState(!1),[_,C]=x.useState(""),[O,T]=x.useState("all"),[E,I]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,V]=x.useState({}),Y=x.useMemo(()=>{const A=E.voice_provider==="openai"?ou:dc;return(O==="all"?A:A.filter($=>$.gender===O)).slice().sort(($,G)=>(($==null?void 0:$.showName)||"").localeCompare((G==null?void 0:G.showName)||""))},[E.voice_provider,O]);x.useEffect(()=>{if(!E.voice)return;const A=Y.find(z=>(z==null?void 0:z.name)===E.voice);A!=null&&A.voice&&(I(z=>({...z,voice_model:A.voice})),V(z=>({...z,voice_model:""})))},[E.voice,Y]),x.useEffect(()=>{if(!E.voice)return y(!1);Y.some(z=>z.name===E.voice)||y(!1)},[Y,E.voice]);const U=async()=>{k(!0),C("");try{const A=localStorage.getItem("token"),z=await fetch(`${a}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!z.ok)throw new Error(`HTTP ${z.status}`);const $=await z.json(),ue=(Array.isArray($)?$:($==null?void 0:$.purchased_numbers)||[]).filter(Boolean).map(ee=>({phone_number:(ee==null?void 0:ee.phone_number)||"",friendly_name:(ee==null?void 0:ee.friendly_name)||"",attached_assistant:(ee==null?void 0:ee.attached_assistant)??null})).filter(ee=>ee.phone_number);w(ue)}catch(A){console.error(A),C("Failed to load your purchased numbers"),w([])}finally{k(!1)}};x.useEffect(()=>{(async()=>{try{const z=localStorage.getItem("token");if(!z){R.error("No authentication token found. Please log in."),t("/login");return}const $=await fetch(`${a}/api/get-assistants`,{headers:{Authorization:`Bearer ${z}`,Accept:"application/json"}});if(!$.ok)throw new Error(`HTTP ${$.status}`);const G=await $.json(),ue=Number(e),ee=G.find(_e=>Number(_e.id)===ue);if(!ee)throw new Error("Assistant not found");const Z=ee.voice_provider==="openai"||ee.voice_provider==="deepgram"?ee.voice_provider:"deepgram",Ae={name:ee.name||"",provider:ee.provider||"openai",model:ee.model||"gpt-4o-mini",temperature:ee.temperature??.7,maxTokens:ee.max_tokens??ee.maxTokens??250,systemPrompt:ee.system_prompt||ee.systemPrompt||"",first_message:ee.first_message||"",transcribe_provider:ee.transcribe_provider||"google",transcribe_language:ee.transcribe_language||"English",transcribe_model:ee.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:ee.forwardingPhoneNumber||"",attached_Number:ee.attached_Number||"",category:ee.category||"",knowledgeBase:ee.knowledge_base||ee.knowledgeBase||[],leadsfile:ee.leadsfile||[],languages:ee.languages||[],endCallPhrases:ee.endCallPhrases||[],voice_provider:Z,voice_model:ee.voice_model||"",voice:ee.voice||"",speed:ee.speed??.8,stability:ee.stability??.5,similarityBoost:ee.similarityBoost??.75,draft:!!ee.draft,assistant_toggle:!!(ee.assistant_toggle??!0)};I(_e=>({..._e,...Ae}));const ae=Ae.voice&&Ae.voice_model&&(Ae.voice_provider==="deepgram"||Ae.voice_provider==="openai");y(!!ae),U(),c(!1)}catch(z){console.error("Error loading assistant:",z),R.error((z==null?void 0:z.message)||"Failed to load assistant"),t("/")}})()},[e]);const F=A=>{const{id:z,value:$,type:G,checked:ue}=A.target,ee=G==="checkbox"?ue:$;I(Z=>({...Z,[z]:ee})),V(Z=>({...Z,[z]:""}))},ie=A=>{try{g.current&&(g.current.pause(),g.current=null);const z=new Audio(A);g.current=z,h(!0),z.play().catch(()=>{R.error("Failed to play voice preview"),h(!1),g.current=null}),z.onended=()=>{h(!1),g.current=null}}catch{R.error("Failed to play voice preview"),h(!1)}},Se=()=>{g.current&&(g.current.pause(),g.current=null,h(!1))},oe=A=>{if(A!==r){if(A===3&&(!E.voice||!b)){V(z=>({...z,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}Se(),s(A)}},P=()=>{if(r===1)return s(2);if(r===2){if(!E.voice){V(A=>({...A,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!b){V(A=>({...A,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}return s(3)}},K=A=>{Se();const z=A.target.value;I($=>({...$,voice_provider:z,voice:"",voice_model:""})),y(!1),V($=>({...$,voice:"",voice_model:""}))},W=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],z={};let $=!0;return A.forEach(G=>{const ue=E[G];(ue==null||ue===""||Number.isNaN(ue))&&(z[G]="Required",$=!1)}),(E.temperature<0||E.temperature>2)&&(z.temperature="Temperature must be between 0 and 2",$=!1),Number(E.maxTokens)<1&&(z.maxTokens="maxTokens must be a positive integer",$=!1),E.forwardingPhoneNumber&&!qE.test(E.forwardingPhoneNumber)&&(z.forwardingPhoneNumber="Must be E.164 (+123...)",$=!1),E.attached_Number&&!qE.test(E.attached_Number)&&(z.attached_Number="Invalid number format",$=!1),V(z),$||((ee=>ee.some(Z=>z[Z]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),$},B=async A=>{if(A.preventDefault(),!u){if(r!==3){R.error("Please complete the steps first.");return}if(!W()){R.error("Fix the highlighted fields.");return}m(!0),Se();try{const z=localStorage.getItem("token");if(!z)throw new Error("No authentication token found. Please log in.");const $={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},G=await fetch(`${a}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${z}`},body:JSON.stringify($)});if(!G.ok){let ue=`HTTP ${G.status}`;try{const ee=await G.json();ee!=null&&ee.detail&&(ue=ee.detail)}catch{const ee=await G.text();ee&&(ue=`${ue}  ${ee}`)}throw new Error(ue)}R.success("Assistant updated successfully!"),t("/user/callassistent")}catch(z){console.error("Update error",z),R.error((z==null?void 0:z.message)||"Failed to update assistant")}finally{m(!1)}}};return l?n.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:jt.background},children:n.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:jt.text},children:[n.jsx(Dn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:jt.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:jt.border,backgroundColor:jt.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:jt.text},children:[n.jsx(Ul,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),n.jsx("p",{className:"mt-2 text-sm",style:{color:jt.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),n.jsx(Tfe,{currentStep:r,onChange:oe}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:jt.card,borderColor:jt.border},children:n.jsxs("form",{onSubmit:B,noValidate:!0,children:[n.jsxs(At,{mode:"wait",children:[r===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(k0,{id:"name",label:"Assistant Name",value:E.name,onChange:F,error:M.name,placeholder:"SupportBot"}),n.jsx(k0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:F,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Km,{children:"Attach Purchased Number (optional)"}),n.jsxs("button",{type:"button",onClick:U,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},disabled:S,title:"Refresh list",children:[n.jsx(Ye,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),n.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:F,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:[n.jsx("option",{value:"",children:j.length?"Do not change":"No purchased numbers found"}),j.map(A=>n.jsx("option",{value:A.phone_number,children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),_&&n.jsx(Mo,{children:_}),M.attached_Number&&n.jsx(Mo,{children:M.attached_Number})]}),n.jsx(k0,{id:"category",label:"Category (optional)",value:E.category,onChange:F}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Km,{children:"System Prompt"}),n.jsx(WE,{id:"systemPrompt",value:E.systemPrompt,onChange:F,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&n.jsx(Mo,{children:M.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Km,{children:"First Message"}),n.jsx(WE,{id:"first_message",value:E.first_message,onChange:F,placeholder:"Hello! ",rows:3}),M.first_message&&n.jsx(Mo,{children:M.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(XE,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:F}),n.jsx(XE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:F})]})]},"step1"),r===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(YE,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:K,options:kfe,error:M.voice_provider}),n.jsx(YE,{id:"genderFilter",label:"Gender",value:O,onChange:A=>{Se(),T(A.target.value)},options:Cfe}),n.jsx(k0,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!b&&n.jsxs("p",{className:"text-sm",style:{color:jt.lightText},children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm",style:{color:jt.lightText},children:["Showing ",n.jsx("span",{className:"font-medium",children:Y.length})," voices"]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:Y.map(A=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===A.name?"#93c5fd":jt.border,backgroundColor:E.voice===A.name?"#eff6ff":jt.card},onClick:()=>{I(z=>({...z,voice:A.name,voice_model:A.voice,voice_provider:A.provider||E.voice_provider})),y(!0),V(z=>({...z,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===A.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",style:{color:jt.text},children:A.showName||A.name}),n.jsxs("div",{className:"text-sm capitalize",style:{color:jt.lightText},children:[A.gender||"unknown","  ",A.provider]}),n.jsx("div",{className:"mt-1 text-xs",style:{color:jt.lightText},children:A.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Efe,{isActive:f&&E.voice===A.name,onPlay:()=>ie(A.audioSr||""),onStop:Se})})]})]},`${A.provider}-${A.name}`))}),M.voice&&n.jsx(Mo,{children:M.voice})]},"step2"),r===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:jt.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:jt.text},children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(vo,{label:"Name",value:E.name||""}),n.jsx(vo,{label:"Model",value:`${E.provider}  ${E.model}`}),n.jsx(vo,{label:"Voice Provider",value:E.voice_provider}),n.jsx(vo,{label:"Voice",value:E.voice||""}),n.jsx(vo,{label:"Voice Model",value:E.voice_model||""}),n.jsx(vo,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),n.jsx(vo,{label:"Attach Number",value:E.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(H1,{onClick:()=>s(2),children:"Edit Voice"}),n.jsx(H1,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?n.jsx(H1,{onClick:()=>oe(r-1),children:"Back"}):n.jsx("span",{}),r<3?n.jsxs(GE,{onClick:P,children:["Next ",n.jsx(yn,{className:"ml-1 h-4 w-4"})]}):n.jsx(GE,{type:"submit",disabled:u,children:u?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Tfe({currentStep:e,onChange:t}){const a=KE;return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:a.map(({id:r,label:s,Icon:l})=>{const c=e===r;return n.jsxs(pe.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:n.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),n.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/KE.length*100}%`}})})]})}function GE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function H1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:e})}function Km({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:jt.text},children:e})}function Mo({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:jt.danger},children:e})}function k0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Km,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card}}),s&&n.jsx(Mo,{children:s})]})}function YE({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Km,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card},children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(Mo,{children:l})]})}function WE({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:jt.border,color:jt.text,backgroundColor:jt.card}})}function XE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:jt.text},children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-indigo-600"}),n.jsx("span",{children:t})]})}function vo({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:jt.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Efe({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:n.jsx(Td,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:n.jsx(Yd,{className:"h-5 w-5"})})})}const Ls={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},Ofe=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),ZE=/^\+\d{7,15}$/,QE=[{id:1,key:"core",label:"Core & Transcription",Icon:l2},{id:2,key:"voice",label:"Voice",Icon:f2},{id:3,key:"review",label:"Review & Create",Icon:Ul}],Pfe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Mfe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Dfe(){const e=dn(),[t,a]=x.useState(1),[r,s]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,f]=x.useState(!1),[h,g]=x.useState("all"),[b,y]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[O,T]=x.useState(""),E=x.useMemo(()=>{const P=b.voice_provider==="openai"?ou:dc;return(h==="all"?P:P.filter(W=>W.gender===h)).slice().sort((W,B)=>((W==null?void 0:W.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);x.useEffect(()=>{if(!b.voice)return;const P=E.find(K=>(K==null?void 0:K.name)===b.voice);P!=null&&P.voice&&(y(K=>({...K,voice_model:P.voice})),w(K=>({...K,voice_model:""})))},[b.voice,E]);const I="https://app.thedbt.ai",M=P=>{const{id:K,value:W,type:B,checked:A}=P.target,z=B==="checkbox"?A:W;y($=>({...$,[K]:z})),w($=>({...$,[K]:""}))},V=P=>{try{u.current&&(u.current.pause(),u.current=null);const K=new Audio(P||"");u.current=K,c(!0),K.play().catch(()=>{R.error("Failed to play voice preview"),c(!1),u.current=null}),K.onended=()=>{c(!1),u.current=null}}catch{R.error("Failed to play voice preview"),c(!1)}},Y=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},U=P=>{if(P!==t){if(P===3&&(!b.voice||!m)){w(K=>({...K,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}Y(),a(P)}},F=()=>{if(t===1)return a(2);if(t===2){if(!b.voice){w(P=>({...P,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!m){w(P=>({...P,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}a(3)}},ie=async()=>{C(!0),T("");try{const P=localStorage.getItem("token"),K=await fetch(`${I}/api/purchased_numbers`,{headers:{Accept:"application/json",...P?{Authorization:`Bearer ${P}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const W=await K.json(),A=(Array.isArray(W)?W:(W==null?void 0:W.purchased_numbers)||[]).filter(Boolean).map(z=>({phone_number:(z==null?void 0:z.phone_number)||"",friendly_name:(z==null?void 0:z.friendly_name)||"",attached_assistant:(z==null?void 0:z.attached_assistant)??null})).filter(z=>z.phone_number);k(A)}catch(P){console.error(P),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ie()},[]);const Se=()=>{const P=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let W=!0;if(P.forEach(B=>{const A=b[B];(A==null||A===""||Number.isNaN(A))&&(K[B]="Required",W=!1)}),(b.temperature<0||b.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",W=!1),b.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",W=!1),b.forwardingPhoneNumber&&!ZE.test(b.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",W=!1),b.attached_Number&&!ZE.test(b.attached_Number)&&(K.attached_Number="Invalid number format",W=!1),w(K),!W){const B=$=>$.some(G=>K[G]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],z=["voice_provider","voice_model","voice"];B(A)?a(1):B(z)&&a(2)}return W},oe=async P=>{if(P.preventDefault(),!r){if(t!==3){R.error("Please complete the steps first.");return}if(Se()){s(!0),Y();try{const K=localStorage.getItem("token"),W=`${I}/api/assistants`,B=[Ofe,(b.systemPrompt||"").trim()].filter(Boolean).join(`

`),A={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:B,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},z=await fetch(W,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(A)});if(!z.ok){let $=`HTTP ${z.status}`;try{const G=await z.json();G!=null&&G.detail&&($=G.detail)}catch{const G=await z.text();G&&($=`${$}  ${G}`)}throw new Error($)}R.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){R.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{s(!1)}}}};return x.useEffect(()=>{f(!1),y(P=>({...P,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ls.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ls.border,backgroundColor:Ls.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(Ul,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(Rfe,{currentStep:t,onChange:U}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ls.card,borderColor:Ls.border},children:n.jsxs("form",{onSubmit:oe,noValidate:!0,children:[n.jsxs(At,{mode:"wait",children:[t===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(C0,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),n.jsx(C0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Gm,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:ie,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(P=>n.jsx("option",{value:P.phone_number,className:"bg-white",children:P.friendly_name?`${P.friendly_name}  ${P.phone_number}`:P.phone_number},P.phone_number))]}),O&&n.jsx(Do,{children:O}),j.attached_Number&&n.jsx(Do,{children:j.attached_Number})]}),n.jsx(C0,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Gm,{children:"System Prompt"}),n.jsx(tO,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),j.systemPrompt&&n.jsx(Do,{children:j.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Gm,{children:"First Message"}),n.jsx(tO,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),j.first_message&&n.jsx(Do,{children:j.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(nO,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),n.jsx(nO,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),t===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(eO,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:P=>{Y();const K=P.target.value;y(W=>({...W,voice_provider:K,voice:"",voice_model:""})),f(!1),w(W=>({...W,voice:"",voice_model:""}))},options:Pfe,error:j.voice_provider}),n.jsx(eO,{id:"genderFilter",label:"Gender",value:h,onChange:P=>{Y(),g(P.target.value),f(!1)},options:Mfe}),n.jsx(C0,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Ls.border},children:"No voices match this filter."}),E.map(P=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===P.name?"#93c5fd":Ls.border,backgroundColor:b.voice===P.name?"#eff6ff":Ls.card},onClick:()=>{y(K=>({...K,voice:P.name,voice_model:P.voice,voice_provider:P.provider||b.voice_provider})),f(!0),w(K=>({...K,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===P.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:P.showName||P.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[P.gender||"unknown","  ",P.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:P.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx($fe,{isActive:l&&b.voice===P.name,onPlay:()=>V(P.audioSr||""),onStop:Y})})]})]},`${P.provider}-${P.name}`))]}),j.voice&&n.jsx(Do,{children:j.voice})]},"step2"),t===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ls.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(yo,{label:"Name",value:b.name||""}),n.jsx(yo,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(yo,{label:"Voice Provider",value:b.voice_provider}),n.jsx(yo,{label:"Voice",value:b.voice||""}),n.jsx(yo,{label:"Voice Model",value:b.voice_model||""}),n.jsx(yo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(yo,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(q1,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(q1,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(q1,{onClick:()=>U(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs(JE,{onClick:F,children:["Next ",n.jsx(yn,{className:"ml-1 h-4 w-4"})]}):n.jsx(JE,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Rfe({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:QE.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(pe.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/QE.length*100}%`}})})]})}function JE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function q1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Gm({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Do({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function C0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:u=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Gm,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx(Do,{children:s})]})}function eO({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Gm,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(Do,{children:l})]})}function tO({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function nO({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function yo({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ls.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function $fe({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(Td,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Yd,{className:"h-5 w-5"})})})}const xm="https://app.thedbt.ai",Wc={FILES:`${xm}/api/files`,FILE:e=>`${xm}/api/files/${e}`,SYNC:{HUBSPOT:`${xm}/api/crm/ingest/hubspot`,GHL:`${xm}/api/crm/ingest/ghl`,MONDAY:`${xm}/api/crm/ingest/monday`}},Lfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function uL(...e){return e.filter(Boolean).join(" ")}function Ja({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function aO({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Ja,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function A0({label:e,value:t,tone:a="blue"}){const r=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${r}`,children:n.jsx(Em,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function T0({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function E0({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function rO({id:e}){const[t,a]=x.useState(!1);return n.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),a(!0),setTimeout(()=>a(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?n.jsx(yp,{className:"h-3.5 w-3.5"}):n.jsx(ja,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function Ife(){const e=dn(),[t,a]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(""),[u,m]=x.useState(""),[f,h]=x.useState("created_at"),[g,b]=x.useState("desc"),[y,j]=x.useState(!1),[w,S]=x.useState("New List"),[k,_]=x.useState(null),[C,O]=x.useState(!1),[T,E]=x.useState(!1),I=x.useRef(null),[M,V]=x.useState({open:!1,id:null,name:""}),[Y,U]=x.useState(!1),F=x.useCallback(async()=>{const Z=localStorage.getItem("token");if(!Z){a([]),c("No auth token found."),R.error("No authentication token found.");return}try{s(!0),c("");const Ae=await fetch(Wc.FILES,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!Ae.ok)throw new Error(`HTTP ${Ae.status}`);const ae=await Ae.json();a(Array.isArray(ae)?ae:[])}catch(Ae){c((Ae==null?void 0:Ae.message)||"Failed to load lists"),R.error((Ae==null?void 0:Ae.message)||"Failed to load lists")}finally{s(!1)}},[]);x.useEffect(()=>{F()},[F]);const ie=x.useMemo(()=>{const Z=u.trim().toLowerCase();return[...Z?t.filter(_e=>[_e.name,_e.alphanumeric_id,_e.created_at].filter(Boolean).some(Me=>String(Me).toLowerCase().includes(Z))):t].sort((_e,Me)=>{let Pe=_e[f],ge=Me[f];return f==="created_at"&&(Pe=new Date(_e.created_at).getTime(),ge=new Date(Me.created_at).getTime()),Pe<ge?g==="asc"?-1:1:Pe>ge?g==="asc"?1:-1:0})},[t,u,f,g]),Se=t.length,oe=t.reduce((Z,Ae)=>Z+(Number(Ae.leads_count)||0),0),P=t[0]||null,K=Z=>{f===Z?b(Ae=>Ae==="asc"?"desc":"asc"):(h(Z),b("desc"))},W=Z=>e(`/user/lead/${Z.id}`);async function B(Z){const Ae=localStorage.getItem("token");if(!Ae)return R.error("No authentication token found.");try{const ae=await fetch(Wc.FILE(Z),{method:"DELETE",headers:{Authorization:`Bearer ${Ae}`,Accept:"application/json"}});if(!ae.ok)throw new Error(`HTTP ${ae.status}`);R.success(" List deleted"),V({open:!1,id:null,name:""}),a(_e=>_e.filter(Me=>Me.id!==Z))}catch(ae){R.error((ae==null?void 0:ae.message)||"Delete failed")}}async function A(){const Z=localStorage.getItem("token");if(!Z)return R.error("No authentication token found.");if(!k)return R.info("Choose a CSV file");if(!w.trim())return R.info("Enter a name");O(!0);try{const Ae=new FormData;Ae.append("file",k),Ae.append("name",w.trim());const ae=await fetch(Wc.FILES,{method:"POST",headers:{Authorization:`Bearer ${Z}`},body:Ae});if(!ae.ok){const _e=await ae.text();throw new Error(_e||`HTTP ${ae.status}`)}R.success(" List created"),j(!1),_(null),S("New List"),F()}catch(Ae){R.error((Ae==null?void 0:Ae.message)||"Upload failed")}finally{O(!1)}}async function z(){const Z=localStorage.getItem("token");if(!Z)return R.error("No authentication token found.");const Ae=async _e=>{const Me=await fetch(_e,{method:"POST",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});let Pe={};try{Pe=await Me.json()}catch{}if(!Me.ok){const ge=(Pe==null?void 0:Pe.detail)||(Pe==null?void 0:Pe.error)||(Pe==null?void 0:Pe.message)||`HTTP ${Me.status}`;throw new Error(ge)}return Pe},ae=[{name:"HubSpot",url:Wc.SYNC.HUBSPOT},{name:"GHL",url:Wc.SYNC.GHL},{name:"monday.com",url:Wc.SYNC.MONDAY}];try{U(!0);const _e=await Promise.allSettled(ae.map(Ve=>Ae(Ve.url)));let Me=0,Pe=0,ge=0,qe=0;_e.forEach((Ve,ye)=>{var Ee,te,we;const ce=ae[ye].name;if(Ve.status==="fulfilled"){qe++;const $e=Array.isArray((Ee=Ve.value)==null?void 0:Ee.details)?Ve.value.details[0]:((te=Ve.value)==null?void 0:te.details)||{};Me+=Number(($e==null?void 0:$e.created_leads)||0),Pe+=Number(($e==null?void 0:$e.updated_leads)||0),ge+=Number(($e==null?void 0:$e.fetched_contacts)||0),R.success(`${ce}:  ${($e==null?void 0:$e.created_leads)||0} new, ${($e==null?void 0:$e.updated_leads)||0} updated`,{autoClose:2500})}else{const $e=String(((we=Ve.reason)==null?void 0:we.message)||Ve.reason||"error");R.info(`${ce}: ${$e.includes("Not connected")?"Not connected":` ${$e}`}`,{autoClose:3e3})}}),R.success(`Sync complete: ${qe}/${ae.length} OK  fetched ${ge}, created ${Me}, updated ${Pe}.`),setTimeout(F,1200)}catch(_e){R.error((_e==null?void 0:_e.message)||"Sync failed")}finally{U(!1)}}function $(Z){Z.preventDefault(),E(!0)}function G(Z){Z.preventDefault(),E(!1)}function ue(Z){var ae;Z.preventDefault(),E(!1);const Ae=(ae=Z.dataTransfer.files)==null?void 0:ae[0];if(Ae){if(!ee(Ae))return R.info("Please drop a .csv file");_(Ae)}}function ee(Z){const Ae=/\.csv$/i.test(Z.name),ae=Z.type==="text/csv"||Z.type==="application/vnd.ms-excel"||Z.type==="";return Ae||ae}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Em,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Lfe}`,children:"Lists"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Ja,{onClick:()=>j(!0),variant:"primary",children:[n.jsx(qa,{className:"mr-2 h-4 w-4"})," New List"]}),n.jsx(Ja,{onClick:F,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsx(Ja,{onClick:z,disabled:Y,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:Y?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):n.jsx(n.Fragment,{children:"SYNC LEADS"})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(A0,{label:"Total Lists",value:Se}),n.jsx(A0,{label:"Total Leads",value:oe,tone:"cyan"}),n.jsx(A0,{label:"Last Created",value:P&&P.name||""}),n.jsx(A0,{label:"Newest Date",value:P?O0(P.created_at):"",tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:u,onChange:Z=>m(Z.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(K1,{label:"Name",active:f==="name",dir:g,onClick:()=>K("name")}),n.jsx(K1,{label:"Leads",active:f==="leads_count",dir:g,onClick:()=>K("leads_count")}),n.jsx(K1,{label:"Created",active:f==="created_at",dir:g,onClick:()=>K("created_at")})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ie.length,")"]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),r?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ye,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?n.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ie.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Em,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Ja,{onClick:()=>j(!0),variant:"primary",children:[n.jsx(qa,{className:"h-4 w-4 mr-2"})," New List"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block w-full",children:n.jsxs("table",{className:"w-full table-fixed",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(T0,{children:"Name"}),n.jsx(T0,{children:"Leads"}),n.jsx(T0,{children:"Created"}),n.jsx(T0,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ie.map(Z=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsxs(E0,{children:[n.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:"truncate max-w-[22rem]",children:Z.name}),n.jsx(rO,{id:Z.alphanumeric_id})]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",Z.id]})]}),n.jsx(E0,{children:n.jsx("span",{className:"text-sm font-semibold text-slate-800",children:Z.leads_count??0})}),n.jsx(E0,{children:n.jsx("span",{className:"text-sm text-slate-800",children:O0(Z.created_at)})}),n.jsx(E0,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Ja,{onClick:()=>W(Z),size:"sm",title:"View",children:n.jsx(An,{className:"h-4 w-4"})}),n.jsx(Ja,{onClick:()=>V({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",title:"Delete",children:n.jsx(Tn,{className:"h-4 w-4"})})]})})]},Z.id))})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ie.map(Z=>n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:Z.name,children:Z.name}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[n.jsx(rO,{id:Z.alphanumeric_id}),n.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",Z.id]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),n.jsx("div",{className:"font-semibold text-slate-900",children:Z.leads_count??0})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),n.jsx("div",{className:"font-semibold text-slate-900 truncate",title:O0(Z.created_at),children:O0(Z.created_at)})]})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(Ja,{onClick:()=>W(Z),size:"sm",className:"grow sm:grow-0",children:[n.jsx(An,{className:"h-4 w-4 mr-1"})," View"]}),n.jsxs(Ja,{onClick:()=>V({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},Z.id))})})]})]})]}),n.jsx(At,{children:y&&n.jsx(aO,{onClose:()=>j(!1),title:"Create New List",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),n.jsx("input",{value:w,onChange:Z=>S(Z.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{onDragOver:$,onDragLeave:G,onDrop:ue,className:uL("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",T?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:n.jsx(Em,{className:"h-6 w-6 text-slate-700"})}),n.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),n.jsxs(Ja,{type:"button",onClick:()=>{var Z;return(Z=I.current)==null?void 0:Z.click()},variant:"primary",className:"mt-2",children:[n.jsx(WU,{className:"h-4 w-4 mr-2"})," Browse Files"]}),n.jsx("input",{ref:I,type:"file",accept:".csv,text/csv",onChange:Z=>{var ae;const Ae=((ae=Z.target.files)==null?void 0:ae[0])||null;if(!Ae)return _(null);if(!ee(Ae)){R.info("Please choose a .csv file"),Z.target.value="";return}_(Ae)},className:"hidden"}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&n.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[n.jsx(Em,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),n.jsxs("span",{className:"opacity-70",children:[" ",Bfe(k.size)]}),n.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:n.jsx(wa,{className:"h-3.5 w-3.5"})})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[n.jsx(Ja,{onClick:()=>j(!1),variant:"subtle",children:"Cancel"}),n.jsx(Ja,{onClick:A,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):n.jsxs(n.Fragment,{children:[n.jsx(qa,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),n.jsx(At,{children:M.open&&n.jsxs(aO,{onClose:()=>V({open:!1,id:null,name:""}),title:"Delete List?",children:[n.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",n.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Ja,{onClick:()=>V({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),n.jsxs(Ja,{onClick:()=>B(M.id),variant:"danger",children:[n.jsx(Tn,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function O0(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Bfe(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let a=0;for(;e>=1024&&a<t.length-1;)e/=1024,a++;return`${e.toFixed(e>=10||a===0?0:1)} ${t[a]}`}function K1({label:e,active:t,dir:a,onClick:r}){const s=a==="asc"?jP:yP;return n.jsxs("button",{onClick:r,className:uL("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&n.jsx(s,{className:"h-4 w-4"})]})}const jl="https://app.thedbt.ai",zfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ufe(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function Ffe(){const e=dn(),{id:t}=yf(),a=Number(t),[r,s]=x.useState([]),[l,c]=x.useState([]),[u,m]=x.useState([]),[f,h]=x.useState(!0),[g,b]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState(""),k=Ufe(w,250),[_,C]=x.useState(""),[O,T]=x.useState("add_date"),[E,I]=x.useState("desc"),[M,V]=x.useState(1),[Y,U]=x.useState(10),[F,ie]=x.useState(!1),[Se,oe]=x.useState(!1),[P,K]=x.useState(!1),[W,B]=x.useState(!1),[A,z]=x.useState(null),[$,G]=x.useState(null),[ue,ee]=x.useState(!1),[Z,Ae]=x.useState(!1),[ae,_e]=x.useState(!1),[Me,Pe]=x.useState(null),ge=x.useRef(localStorage.getItem("token")||null),[qe,Ve]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ye,ce]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Ee,te]=x.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),we=x.useCallback(async()=>{const X=ge.current;if(!X){h(!1),j("No auth token found"),R.error("No authentication token found.");return}try{h(!0),j("");const se=await fetch(`${jl}/api/leads${a?`?file_id=${a}`:""}`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const me=await se.json();s(Array.isArray(me)?me:[])}catch(se){j((se==null?void 0:se.message)||"Failed to load leads"),R.error((se==null?void 0:se.message)||"Failed to load leads")}finally{h(!1)}},[a]),$e=x.useCallback(async()=>{const X=ge.current;if(!X||!a){c([]);return}try{const se=await fetch(`${jl}/api/files/${a}/dynamic-columns`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const me=await se.json();c(Array.isArray(me==null?void 0:me.columns)?me.columns:[])}catch(se){c([]),console.warn("Dynamic columns fetch failed:",se)}},[a]),Ke=x.useCallback(async()=>{const X=ge.current;try{const se=await fetch(`${jl}/api/get-assistants`,{headers:{Authorization:X?`Bearer ${X}`:"",Accept:"application/json"}});if(!se.ok)throw new Error(`HTTP ${se.status}`);const me=await se.json(),lt=(Array.isArray(me)?me:Array.isArray(me==null?void 0:me.assistants)?me.assistants:[]).filter(yt=>yt==null?void 0:yt.vapi_assistant_id);m(lt)}catch(se){console.error(se),R.error("Failed to load assistants"),m([])}},[]);x.useEffect(()=>{we(),$e(),Ke()},[t]);const Ge=x.useMemo(()=>{const X=new Set;return r.forEach(se=>(se==null?void 0:se.state)&&X.add(se.state)),Array.from(X).sort((se,me)=>se.localeCompare(me))},[r]),st=x.useMemo(()=>{const X=k.trim().toLowerCase();return r.filter(me=>{var lt,yt;return _&&(me.state||"")!==_?!1:X?[me.first_name,me.last_name,me.email,me.mobile,me.salesforce_id,(lt=me==null?void 0:me.other_data)==null?void 0:lt.Custom_0,(yt=me==null?void 0:me.other_data)==null?void 0:yt.Custom_1].concat(Object.values((me==null?void 0:me.other_data)||{})).filter(Boolean).map(ut=>String(ut).toLowerCase()).some(ut=>ut.includes(X)):!0})},[r,k,_]),nt=x.useMemo(()=>{const X=[...st],se=E==="asc"?1:-1;return X.sort((me,Ze)=>{const lt=`${me.first_name||""} ${me.last_name||""}`.trim(),yt=`${Ze.first_name||""} ${Ze.last_name||""}`.trim();let ut,Mt;switch(O){case"name":ut=lt.toLowerCase(),Mt=yt.toLowerCase();break;case"email":ut=(me.email||"").toLowerCase(),Mt=(Ze.email||"").toLowerCase();break;case"mobile":ut=(me.mobile||"").toLowerCase(),Mt=(Ze.mobile||"").toLowerCase();break;case"add_date":default:ut=new Date(me.add_date||0).getTime(),Mt=new Date(Ze.add_date||0).getTime()}return ut<Mt?-1*se:ut>Mt?1*se:0}),X},[st,O,E]),Oe=nt.length,ne=Math.max(1,Math.ceil(Oe/Y));x.useEffect(()=>{M>ne&&V(ne)},[M,ne]);const ke=(M-1)*Y,xe=nt.slice(ke,ke+Y),Be=r[r.length-1]||null,at=X=>{var se,me;z(X.id),ce({first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",mobile:X.mobile||"",salesforce_id:X.salesforce_id||"",custom0:((se=X==null?void 0:X.other_data)==null?void 0:se.Custom_0)||"",custom1:((me=X==null?void 0:X.other_data)==null?void 0:me.Custom_1)||"",add_date:X.add_date||new Date().toISOString()}),K(!0)},dt=async()=>{const X=ge.current;if(!(!X||!A))try{B(!0);const se={first_name:ye.first_name.trim(),last_name:ye.last_name.trim(),email:ye.email.trim(),mobile:ye.mobile.trim(),salesforce_id:ye.salesforce_id.trim(),add_date:ye.add_date,other_data:{Custom_0:ye.custom0||"",Custom_1:ye.custom1||""}},me=await fetch(`${jl}/api/leads/${A}`,{method:"PUT",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(se)}),Ze=await me.json();if(!me.ok||(Ze==null?void 0:Ze.success)===!1)throw new Error((Ze==null?void 0:Ze.detail)||`HTTP ${me.status}`);R.success((Ze==null?void 0:Ze.detail)||"Lead updated"),K(!1),z(null),we()}catch(se){R.error((se==null?void 0:se.message)||"Update failed")}finally{B(!1)}},Je=async()=>{const X=ge.current;if(!X)return R.error("Missing token");if(!qe.first_name||!qe.last_name||!qe.email||!qe.mobile)return R.info("Please fill first, last, email and mobile.");try{oe(!0);const se={first_name:qe.first_name.trim(),last_name:qe.last_name.trim(),email:qe.email.trim(),add_date:qe.add_date,mobile:qe.mobile.trim(),file_id:a||null,salesforce_id:qe.salesforce_id.trim(),other_data:{Custom_0:qe.custom0||"",Custom_1:qe.custom1||""}},me=await fetch(`${jl}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(se)});if(!me.ok)throw new Error(`HTTP ${me.status}`);await me.json(),R.success("Lead added"),ie(!1),Ve({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),we()}catch(se){R.error((se==null?void 0:se.message)||"Failed to add lead")}finally{oe(!1)}},$t=async()=>{const X=ge.current;if(!(!X||!$))try{const se=await fetch(`${jl}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[$]})});if(!se.ok)throw new Error(`HTTP ${se.status}`);await se.json(),R.success("Lead deleted"),G(null),ae&&_e(!1),we()}catch(se){R.error((se==null?void 0:se.message)||"Delete failed")}},Tt=async()=>{const X=ge.current;if(!X)return R.error("Missing token");try{b(!0);const se=await fetch(`${jl}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),me=await se.json().catch(()=>({}));if(!se.ok||(me==null?void 0:me.success)===!1)throw new Error((me==null?void 0:me.detail)||`HTTP ${se.status}`);R.success(`Synced HubSpot: ${(me==null?void 0:me.created)||0} created, ${(me==null?void 0:me.updated)||0} updated`),we()}catch(se){R.error((se==null?void 0:se.message)||"HubSpot sync failed")}finally{b(!1)}},Ie=X=>{if(!X)return"";const se=String(X).trim();return se.startsWith("+")?"+"+se.slice(1).replace(/\D+/g,""):se.replace(/\D+/g,"")},We=X=>{var Ze,lt,yt,ut,Mt,xt,Vn,rn,Et,Ot;const me=[X==null?void 0:X.mobile,X==null?void 0:X.phone,(Ze=X==null?void 0:X.other_data)==null?void 0:Ze.phone,(lt=X==null?void 0:X.other_data)==null?void 0:lt.Phone,(yt=X==null?void 0:X.other_data)==null?void 0:yt.mobile,(ut=X==null?void 0:X.other_data)==null?void 0:ut.Mobile,(Mt=X==null?void 0:X.other_data)==null?void 0:Mt.telephone,(xt=X==null?void 0:X.other_data)==null?void 0:xt.Telephone,(Vn=X==null?void 0:X.other_data)==null?void 0:Vn.cell,(rn=X==null?void 0:X.other_data)==null?void 0:rn.Cell,(Et=X==null?void 0:X.other_data)==null?void 0:Et.Custom_0,(Ot=X==null?void 0:X.other_data)==null?void 0:Ot.Custom_1].filter(Boolean).find(Boolean);return Ie(me||"")},pt=X=>{const se=We(X);se||R.info("No phone number on this lead  you can still enter one to call.");const me=localStorage.getItem("lastAssistantId")||"",Ze=u.find(lt=>String(lt.id)===String(me)&&(lt==null?void 0:lt.vapi_assistant_id))||u.find(lt=>lt==null?void 0:lt.vapi_assistant_id)||null;te({vapi_assistant_id:(Ze==null?void 0:Ze.vapi_assistant_id)||"",assistant_id:(Ze==null?void 0:Ze.id)||"",number:se,first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",lead_id:X.id}),ee(!0)},En=async X=>{if(X.preventDefault(),Z)return;const se=ge.current,{vapi_assistant_id:me,number:Ze,first_name:lt,last_name:yt,email:ut}=Ee;if(!me)return R.error("Select an assistant first");if(!Ze)return R.error("Enter a phone number");const Mt=Ie(Ze);if(!Mt)return R.error("Invalid phone number");try{Ae(!0);const xt=`${jl}/api/phone-call/${encodeURIComponent(me)}/${encodeURIComponent(Mt)}`,Vn={first_name:lt||"Caller",last_name:yt||"",email:ut||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Mt,custom_field_01:null,custom_field_02:null},rn=await fetch(xt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:se?`Bearer ${se}`:""},body:JSON.stringify(Vn)}),Et=await rn.json().catch(()=>({}));if(!rn.ok||(Et==null?void 0:Et.success)===!1)throw new Error((Et==null?void 0:Et.detail)||`HTTP ${rn.status}`);Ee.assistant_id&&localStorage.setItem("lastAssistantId",String(Ee.assistant_id)),R.success("Call initiated"),ee(!1)}catch(xt){R.error((xt==null?void 0:xt.message)||"Failed to initiate call")}finally{Ae(!1)}},le=()=>{if(nt.length===0)return R.info("Nothing to export.");const X=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],se=Array.from(new Set(["Custom_0","Custom_1",...l])),me=[...X,...se],Ze=nt.map(xt=>{const Vn=[xt.id??"",wl(xt.first_name),wl(xt.last_name),wl(xt.email),wl(xt.mobile),wl(xt.salesforce_id),wl(xt.state),wl(xt.add_date)],rn=se.map(Et=>{var Ot;return wl((Ot=xt==null?void 0:xt.other_data)==null?void 0:Ot[Et])});return[...Vn,...rn]}),lt=[me,...Ze].map(xt=>xt.join(",")).join(`
`),yt=new Blob([lt],{type:"text/csv;charset=utf-8;"}),ut=URL.createObjectURL(yt),Mt=document.createElement("a");Mt.href=ut,Mt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Mt),Mt.click(),document.body.removeChild(Mt),URL.revokeObjectURL(ut)};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(An,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${zfe}`,children:"Leads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",n.jsx("b",{children:a||""})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(nn,{onClick:()=>ie(!0),variant:"primary",children:[n.jsx(qa,{className:"mr-2 h-4 w-4"})," New Lead"]}),n.jsx(nn,{onClick:Tt,disabled:g,children:g?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),n.jsx(nn,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),n.jsxs(nn,{onClick:le,children:[n.jsx(Zm,{className:"mr-2 h-4 w-4"}),"Export"]}),n.jsxs(nn,{onClick:we,children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(G1,{label:"Total Leads",value:Oe}),n.jsx(G1,{label:"Selected File",value:a||""}),n.jsx(G1,{label:"Last Created",value:Be&&`${Be.first_name||""} ${Be.last_name||""}`.trim()||"",sub:Be!=null&&Be.add_date?sO(Be.add_date):Be?"Just now":"No leads yet"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:w,onChange:X=>{S(X.target.value),V(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(zl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:_,onChange:X=>{C(X.target.value),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All states"}),Ge.map(X=>n.jsx("option",{value:X,children:X},X))]}),n.jsx("select",{value:`${O}:${E}`,onChange:X=>{const[se,me]=X.target.value.split(":");T(se),I(me)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([X,se,me])=>n.jsx("option",{value:`${X}:${se}`,children:me},`${X}:${se}`))}),n.jsx("select",{value:Y,onChange:X=>{U(Number(X.target.value)),V(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(X=>n.jsxs("option",{value:X,children:[X," / page"]},X))})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(An,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",nt.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),f?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ye,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):nt.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(An,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(P0,{children:"Name"}),n.jsx(P0,{children:"Email"}),n.jsx(P0,{children:"Phone"}),n.jsx(P0,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:xe.map(X=>{const se=`${X.first_name||""} ${X.last_name||""}`.trim()||"",me=X.mobile||We(X)||"";return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(M0,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:se}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]})}),n.jsx(M0,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:X.email||""})}),n.jsx(M0,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:me})}),n.jsx(M0,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(nn,{onClick:()=>pt(X),size:"sm",children:[n.jsx(vt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(nn,{onClick:()=>at(X),size:"sm",children:[n.jsx(yd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(nn,{onClick:()=>{Pe(X),_e(!0)},size:"sm",children:[n.jsx(An,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},X.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:xe.map((X,se)=>{const me=`${X.first_name||""} ${X.last_name||""}`.trim()||"",Ze=X.mobile||We(X)||"";return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[se===0&&n.jsx(Vfe,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:me}),n.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:X.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ze})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(nn,{onClick:()=>pt(X),size:"sm",className:"grow sm:grow-0",children:[n.jsx(vt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(nn,{onClick:()=>at(X),size:"sm",className:"grow sm:grow-0",children:[n.jsx(yd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(nn,{onClick:()=>{Pe(X),_e(!0)},size:"sm",className:"grow sm:grow-0",children:[n.jsx(An,{className:"h-4 w-4 mr-1"}),"More"]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]},X.id)})})}),nt.length>Y&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:ke+1}),"",n.jsx("b",{children:Math.min(ke+Y,nt.length)})," of ",n.jsx("b",{children:nt.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(nn,{onClick:()=>V(X=>Math.max(1,X-1)),disabled:M===1,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,ne)},(X,se)=>{let me;if(ne<=5||M<=3?me=se+1:M>=ne-2?me=ne-4+se:me=M-2+se,me<1||me>ne)return null;const Ze=M===me;return n.jsx("button",{onClick:()=>V(me),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ze?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:me},me)})}),n.jsxs(nn,{onClick:()=>V(X=>Math.min(ne,X+1)),disabled:M>=ne,children:["Next",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(At,{children:F&&n.jsxs(D0,{onClose:()=>ie(!1),title:"Create Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Bn,{label:"First name",children:n.jsx("input",{value:qe.first_name,onChange:X=>Ve(se=>({...se,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Last name",children:n.jsx("input",{value:qe.last_name,onChange:X=>Ve(se=>({...se,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Email",children:n.jsx("input",{type:"email",value:qe.email,onChange:X=>Ve(se=>({...se,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Mobile (digits only)",children:n.jsx("input",{value:qe.mobile,onChange:X=>Ve(se=>({...se,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"External ID",children:n.jsx("input",{value:qe.salesforce_id,onChange:X=>Ve(se=>({...se,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Add date (ISO)",children:n.jsx("input",{value:qe.add_date,onChange:X=>Ve(se=>({...se,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),n.jsx(Bn,{label:"Custom_0",children:n.jsx("input",{value:qe.custom0,onChange:X=>Ve(se=>({...se,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Custom_1",children:n.jsx("input",{value:qe.custom1,onChange:X=>Ve(se=>({...se,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(nn,{onClick:()=>ie(!1),variant:"subtle",children:"Cancel"}),n.jsx(nn,{onClick:Je,disabled:Se||!qe.first_name||!qe.last_name||!qe.email||!qe.mobile,variant:"primary",children:Se?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(vn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(At,{children:P&&n.jsxs(D0,{onClose:()=>K(!1),title:"Edit Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Bn,{label:"First name",children:n.jsx("input",{value:ye.first_name,onChange:X=>ce(se=>({...se,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Last name",children:n.jsx("input",{value:ye.last_name,onChange:X=>ce(se=>({...se,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Email",children:n.jsx("input",{type:"email",value:ye.email,onChange:X=>ce(se=>({...se,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Mobile (digits only)",children:n.jsx("input",{value:ye.mobile,onChange:X=>ce(se=>({...se,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"External ID",children:n.jsx("input",{value:ye.salesforce_id,onChange:X=>ce(se=>({...se,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Add date (ISO)",children:n.jsx("input",{value:ye.add_date,onChange:X=>ce(se=>({...se,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Custom_0",children:n.jsx("input",{value:ye.custom0,onChange:X=>ce(se=>({...se,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Custom_1",children:n.jsx("input",{value:ye.custom1,onChange:X=>ce(se=>({...se,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(nn,{onClick:()=>K(!1),variant:"subtle",children:"Cancel"}),n.jsx(nn,{onClick:dt,disabled:W,variant:"primary",children:W?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(At,{children:ue&&n.jsx(D0,{onClose:()=>ee(!1),title:"Start Phone Call",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsxs("select",{value:Ee.assistant_id,onChange:X=>{const se=u.find(me=>String(me.id)===String(X.target.value));te(me=>({...me,assistant_id:X.target.value,vapi_assistant_id:(se==null?void 0:se.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select assistant"}),u.map(X=>n.jsx("option",{value:X.id,children:X.name||`Assistant ${X.id}`},X.id))]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Bn,{label:"Phone Number",children:n.jsx("input",{value:Ee.number,onChange:X=>te(se=>({...se,number:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),n.jsx(Bn,{label:"Email",children:n.jsx("input",{type:"email",value:Ee.email,onChange:X=>te(se=>({...se,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"First name",children:n.jsx("input",{value:Ee.first_name,onChange:X=>te(se=>({...se,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Bn,{label:"Last name",children:n.jsx("input",{value:Ee.last_name,onChange:X=>te(se=>({...se,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(nn,{onClick:()=>ee(!1),variant:"subtle",children:"Cancel"}),n.jsx(nn,{onClick:En,disabled:Z,variant:"primary",children:Z?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):n.jsxs(n.Fragment,{children:[n.jsx(vt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),n.jsx(At,{children:$&&n.jsxs(D0,{onClose:()=>G(null),title:"Delete Lead?",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:n.jsx(_V,{className:"h-5 w-5"})}),n.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(nn,{onClick:()=>G(null),variant:"subtle",children:"Cancel"}),n.jsxs(nn,{onClick:$t,variant:"danger",children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),n.jsx(At,{children:ae&&Me&&n.jsx(Hfe,{onClose:()=>_e(!1),title:"Lead Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${Me.first_name||""} ${Me.last_name||""}`.trim()||""}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:Me.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:Me.mobile||We(Me)||""}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",Me.id,"  ",Me.salesforce_id||"No Ext ID"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(Y1,{label:"State",value:Me.state||""}),n.jsx(Y1,{label:"Timezone",value:Me.timezone||""}),n.jsx(Y1,{label:"Added",value:sO(Me.add_date)||""})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Xc,{label:"First name",value:Me.first_name||""}),n.jsx(Xc,{label:"Last name",value:Me.last_name||""}),n.jsx(Xc,{label:"Email",value:Me.email||""}),n.jsx(Xc,{label:"Mobile",value:Me.mobile||We(Me)||""}),n.jsx(Xc,{label:"External ID",value:Me.salesforce_id||""})]})]}),l&&l.length>0&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(X=>{var se;return n.jsx(Xc,{label:X,value:((se=Me==null?void 0:Me.other_data)==null?void 0:se[X])??""},X)})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(nn,{onClick:()=>pt(Me),children:[n.jsx(vt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(nn,{onClick:()=>at(Me),children:[n.jsx(yd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(nn,{onClick:()=>G(Me.id),variant:"danger",children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function nn({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function G1({label:e,value:t,sub:a}){return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),a&&n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:a})]})]})}function Vfe(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function P0({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function M0({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Bn({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Y1({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function Xc({label:e,value:t}){return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function D0({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(nn,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Hfe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(nn,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function sO(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function wl(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const qfe=()=>{const[e,t]=x.useState(null),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(!0),[h,g]=x.useState(0),[b,y]=x.useState(""),j=x.useRef(null),{id:w}=yf(),S=5*1024*1024,k="https://app.thedbt.ai",_=()=>localStorage.getItem("token"),C=Y=>{Y&&Y.type==="text/csv"?Y.size>S?M("File size exceeds 5MB limit.",!1):t(Y):M("Please upload a valid CSV file.",!1)},O=Y=>{const U=Y.target.files[0];C(U)},T=()=>j.current.click(),E=()=>{const Y=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,U=new Blob([Y],{type:"text/csv"}),F=window.URL.createObjectURL(U),ie=document.createElement("a");ie.href=F,ie.download="sample_users.csv",ie.click(),window.URL.revokeObjectURL(F)},I=async()=>{if(!e)return M("No file selected.",!1);if(!b.trim())return M("Please provide a list name.",!1);const Y=_();if(!Y)return M("Please log in first.",!1);const U=new FormData;U.append("file",e),U.append("name",b);try{r(!0),g(50);const F=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${Y}`},body:U});if(g(100),F.ok)M("CSV file uploaded successfully!",!0),t(null),y(""),j.current&&(j.current.value="");else{const ie=await F.json();throw new Error(ie.detail||`HTTP ${F.status}`)}}catch(F){console.error(F),M("Upload failed. Please try again.",!1)}finally{r(!1),g(0)}},M=(Y,U)=>{u(Y),f(U),l(!0)},V=Y=>Y<1024?`${Y} B`:Y<1024*1024?`${(Y/1024).toFixed(2)} KB`:`${(Y/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[n.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx(jD,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),n.jsx("input",{type:"text",placeholder:"Enter list name",value:b,onChange:Y=>y(Y.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:O,ref:j,className:"hidden"}),n.jsx("button",{onClick:T,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),n.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[n.jsx(vD,{})," Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",V(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:I,disabled:a||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${a||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:a?"Uploading...":"Upload CSV"}),a&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m?n.jsx(bD,{className:"text-green-500 text-2xl"}):n.jsx(yD,{className:"text-red-500 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:c}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},W1={},fp="https://app.thedbt.ai",hp=(W1==null?void 0:W1.VITE_API_PREFIX)||"/api",hr=`${fp}${hp}/campaigns/campaigns`,pr={LIST:hr,CREATE:hr,DETAIL:e=>`${hr}/${e}`,STATS:e=>`${hr}/${e}/stats`,SCHEDULE:e=>`${hr}/${e}/schedule`,RETRY:e=>`${hr}/${e}/retry-policy`,PAUSE:e=>`${hr}/${e}/pause`,RESUME:e=>`${hr}/${e}/resume`,STOP:e=>`${hr}/${e}/stop`,RUN_NOW:e=>`${hr}/${e}/run-now`,ICS:e=>`${hr}/${e}/calendar.ics`,DELETE:e=>`${hr}/${e}`,REFRESH_LEADS:e=>`${hr}/${e}/refresh-leads`},X1={FILES:`${fp}${hp}/files`,ASSISTANTS:`${fp}${hp}/get-assistants`,LEADS:e=>`${fp}${hp}/leads${e?`?file_id=${e}`:""}`};function Ns(...e){return e.filter(Boolean).join(" ")}const pp=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Kfe(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function Z1(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function Gfe(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function R0(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${a}-${r}-${s}T${l}:${c}`}function $0(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function Yfe(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const a=Math.max(0,t-Date.now()),r=Math.floor(a/1e3),s=Math.floor(r/60),l=r%60;return s>0?`${s}m ${l}s`:`${l}s`}const Kr={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Q1={show:{transition:{staggerChildren:.05}}},iO={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},lO={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},Wfe={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},Xfe={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function hs({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return n.jsx(pe.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Ns("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function J1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function L0({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?n.jsx(hs,{tone:"blue",children:"Scheduled"}):t==="running"?n.jsx(hs,{tone:"green",children:"Running"}):t==="paused"?n.jsx(hs,{tone:"orange",children:"Paused"}):t==="stopped"?n.jsx(hs,{tone:"red",children:"Stopped"}):t==="completed"?n.jsx(hs,{tone:"purple",children:"Completed"}):t==="draft"?n.jsx(hs,{tone:"slate",children:"Draft"}):n.jsx(hs,{tone:"slate",children:pp(e)})}const mL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function fL(e,t){const a=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const s=Math.round(a/r*100);return Math.min(100,Math.max(0,s))}function hL({active:e=!1}){return e?n.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function oO({done:e,total:t,status:a}){const r=fL(e,t),s=["scheduled","running"].includes(String(a||"").toLowerCase());return n.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[n.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:n.jsx(pe.div,{className:Ns("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),n.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),n.jsx(hL,{active:s})]})}function Zfe({totals:e}){const t=(e==null?void 0:e.total)||0,a=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=u=>t>0?`${u/t*100}%`:"0%";return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[n.jsx(pe.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(a)},initial:{width:0},animate:{width:c(a)}}),n.jsx(pe.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(a+r)},initial:{width:0},animate:{width:c(a+r)}}),n.jsx(pe.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(a+r+s)},initial:{width:0},animate:{width:c(a+r+s)}})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",a]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),n.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[fL(a,t),"%"]})]})]})}function cO(){var lt,yt,ut,Mt,xt,Vn,rn,Et,Ot,On,Jn,Mr,Qs,La,ir,rs,Q,fe,He,q;const e=x.useRef(localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState([]),[f,h]=x.useState([]),[g,b]=x.useState([]),[y,j]=x.useState(!1),[w,S]=x.useState(""),k=Kfe(w,250),[_,C]=x.useState("created_at"),[O,T]=x.useState("desc"),[E,I]=x.useState(1),[M,V]=x.useState(10),[Y,U]=x.useState(!1),[F,ie]=x.useState(1),[Se,oe]=x.useState(!1),[P,K]=x.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[W,B]=x.useState(""),[A,z]=x.useState(!1),[$,G]=x.useState(null),[ue,ee]=x.useState(!1),[Z,Ae]=x.useState(null),[ae,_e]=x.useState(null);x.useEffect(()=>{if(!A||!($!=null&&$.id))return;xe($.id),Be($.id);const L=setInterval(()=>{xe($.id),Be($.id),ge()},4e3);return()=>clearInterval(L)},[A,$==null?void 0:$.id]),x.useEffect(()=>{if(!e.current){s(!1),R.error("No auth token found. Please log in.");return}Me()},[]);async function Me(){s(!0);try{await Promise.all([ge(),qe(),Ve()])}finally{s(!1)}}async function Pe(L,J={}){if(!e.current)throw R.error("No auth token found. Please log in."),new Error("No token");return await fetch(L,{...J,headers:{...J.headers||{},Authorization:`Bearer ${e.current}`}})}async function ge(){try{const L=await Pe(pr.LIST);if(!L.ok)throw new Error(`HTTP ${L.status}`);const J=await L.json();a(Array.isArray(J)?J:[])}catch(L){console.error(L),R.error("Failed to fetch campaigns"),a([])}}async function qe(){try{const L=await Pe(X1.FILES);if(!L.ok)throw new Error(`HTTP ${L.status}`);const J=await L.json();m(Array.isArray(J)?J:(J==null?void 0:J.items)||[])}catch(L){console.warn("Files fetch failed:",L.message),m([])}}async function Ve(){try{const L=await Pe(X1.ASSISTANTS);if(!L.ok)throw new Error(`HTTP ${L.status}`);const J=await L.json(),Re=(Array.isArray(J)&&J||(J==null?void 0:J.items)||(J==null?void 0:J.assistants)||(J==null?void 0:J.data)||[]).filter(Fe=>Fe&&Fe.id!==void 0&&Fe.id!==null);h(Re)}catch(L){console.warn("Assistants fetch failed:",L.message),h([])}}async function ye(L){if(!L){b([]);return}try{j(!0);const J=await Pe(X1.LEADS(L));if(!J.ok)throw new Error(`HTTP ${J.status}`);const Ne=await J.json(),Re=Array.isArray(Ne)?Ne:(Ne==null?void 0:Ne.leads)||(Ne==null?void 0:Ne.items)||[];b(Re)}catch(J){console.warn("Leads fetch failed:",J.message),b([])}finally{j(!1)}}async function ce(){c(!0);try{await ge()}finally{c(!1)}}const Ee=x.useMemo(()=>{const L=k.trim().toLowerCase(),J=t.filter(Re=>L?[(Re.name||"").toLowerCase(),(Re.status||"").toLowerCase(),String(Re.id||""),String(Re.file_id||""),String(Re.assistant_id||"")].some(Xe=>Xe.includes(L)):!0),Ne=O==="asc"?1:-1;return J.sort((Re,Fe)=>{let Xe,wt;switch(_){case"name":Xe=(Re.name||"").toLowerCase(),wt=(Fe.name||"").toLowerCase();break;case"status":Xe=(Re.status||"").toLowerCase(),wt=(Fe.status||"").toLowerCase();break;case"calls_per_minute":Xe=Re.calls_per_minute||0,wt=Fe.calls_per_minute||0;break;case"created_at":default:Xe=new Date(Re.created_at||0).getTime(),wt=new Date(Fe.created_at||0).getTime()}return Xe<wt?-1*Ne:Xe>wt?1*Ne:0}),J},[t,k,_,O]),te=Ee.length,we=Math.max(1,Math.ceil(te/M));x.useEffect(()=>{E>we&&I(we)},[E,we]);const $e=(E-1)*M,Ke=$e+M,Ge=Ee.slice($e,Ke),st=x.useMemo(()=>{const L=Ee.length,J=Ee.filter(Re=>(Re.status||"").toLowerCase()==="running").length,Ne=Ee.filter(Re=>(Re.status||"").toLowerCase()==="paused").length;return{total:L,running:J,paused:Ne}},[Ee]);function nt(L){const{name:J,value:Ne,type:Re,checked:Fe}=L.target;K(Xe=>{const wt={...Xe,[J]:Re==="checkbox"?Fe:Ne};if(J==="file_id"){const Gt=Number(Ne)||"";Gt?ye(Gt):b([]),wt.include_lead_ids=[],wt.exclude_lead_ids=[]}return J==="selection_mode"&&(wt.include_lead_ids=[],wt.exclude_lead_ids=[]),wt})}function Oe(L){K(J=>{const Re=J.days_of_week.includes(L)?J.days_of_week.filter(Fe=>Fe!==L):[...J.days_of_week,L];return Re.sort((Fe,Xe)=>Fe-Xe),{...J,days_of_week:Re}})}async function ne(){var J,Ne;if(!P.name||!P.file_id||!P.assistant_id){R.error("Name, File and Assistant are required.");return}if(P.selection_mode!=="ALL"&&P.file_id&&g.length===0){R.error("No leads available for the selected file.");return}const L={name:String(P.name).trim(),file_id:Number(P.file_id),assistant_id:Number(P.assistant_id),selection_mode:P.selection_mode,include_lead_ids:P.selection_mode==="ONLY"&&((J=P.include_lead_ids)!=null&&J.length)?P.include_lead_ids:null,exclude_lead_ids:P.selection_mode==="SKIP"&&((Ne=P.exclude_lead_ids)!=null&&Ne.length)?P.exclude_lead_ids:null,timezone:P.timezone||"America/Los_Angeles",days_of_week:P.days_of_week,daily_start:P.daily_start||"09:00",daily_end:P.daily_end||"18:00",start_at:$0(P.start_at),end_at:$0(P.end_at),calls_per_minute:Number(P.calls_per_minute)||10,parallel_calls:Number(P.parallel_calls)||2,retry_on_busy:!!P.retry_on_busy,busy_retry_delay_minutes:Number(P.busy_retry_delay_minutes)||15,max_attempts:Number(P.max_attempts)||3};try{oe(!0);const Re=await Pe(pr.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(L)}),Fe=await Re.json().catch(()=>({}));if(!Re.ok||(Fe==null?void 0:Fe.success)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Re.status}`);R.success((Fe==null?void 0:Fe.detail)||"Campaign created."),U(!1),ie(1),K(Xe=>({...Xe,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await ge()}catch(Re){console.error(Re),R.error((Re==null?void 0:Re.message)||"Create failed")}finally{oe(!1)}}async function ke(L){G(L),z(!0),await Promise.all([xe(L.id),Be(L.id)])}async function xe(L){if(L)try{ee(!0);const J=await Pe(pr.DETAIL(L));if(!J.ok)throw new Error(`HTTP ${J.status}`);const Ne=await J.json();Ae(Ne)}catch(J){console.error(J),R.error("Failed to load campaign details"),Ae(null)}finally{ee(!1)}}async function Be(L){if(L)try{const J=await Pe(pr.STATS(L));if(!J.ok)throw new Error(`HTTP ${J.status}`);const Ne=await J.json();_e(Ne)}catch(J){console.error(J)}}async function at(L,J,Ne){try{const Re=await Pe(L(J),{method:"POST"}),Fe=await Re.json().catch(()=>({}));if(!Re.ok||(Fe==null?void 0:Fe.success)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Re.status}`);R.success((Fe==null?void 0:Fe.detail)||Ne),await ge(),$&&$.id===J&&(await xe(J),await Be(J))}catch(Re){console.error(Re),R.error((Re==null?void 0:Re.message)||"Action failed")}}const dt=L=>at(pr.PAUSE,L,"Paused"),Je=L=>at(pr.RESUME,L,"Resumed"),$t=L=>at(pr.STOP,L,"Stopped"),Tt=L=>at(pr.REFRESH_LEADS,L,"Leads synced");async function Ie(L){if(confirm("Delete this campaign and its progress rows?"))try{const J=await Pe(pr.DELETE(L),{method:"DELETE"}),Ne=await J.json().catch(()=>({}));if(!J.ok||(Ne==null?void 0:Ne.success)===!1)throw new Error((Ne==null?void 0:Ne.detail)||`HTTP ${J.status}`);R.success((Ne==null?void 0:Ne.detail)||"Deleted"),z(!1),G(null),await ge()}catch(J){console.error(J),R.error((J==null?void 0:J.message)||"Delete failed")}}async function We(L,J){try{const Ne=await Pe(pr.RUN_NOW(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(J)||5})}),Re=await Ne.json().catch(()=>({}));if(!Ne.ok||(Re==null?void 0:Re.success)===!1)throw new Error((Re==null?void 0:Re.detail)||`HTTP ${Ne.status}`);R.success((Re==null?void 0:Re.detail)||"Triggered."),await Be(L)}catch(Ne){console.error(Ne),R.error((Ne==null?void 0:Ne.message)||"Run-now failed")}}async function pt(L,J){var Re;const Ne={timezone:J.timezone||void 0,days_of_week:(Re=J.days_of_week)!=null&&Re.length?J.days_of_week:void 0,daily_start:J.daily_start||void 0,daily_end:J.daily_end||void 0,start_at:$0(J.start_at),end_at:$0(J.end_at)};try{const Fe=await Pe(pr.SCHEDULE(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)}),Xe=await Fe.json().catch(()=>({}));if(!Fe.ok||(Xe==null?void 0:Xe.success)===!1)throw new Error((Xe==null?void 0:Xe.detail)||`HTTP ${Fe.status}`);R.success((Xe==null?void 0:Xe.detail)||"Schedule updated"),await ge(),await xe(L),await Be(L)}catch(Fe){console.error(Fe),R.error((Fe==null?void 0:Fe.message)||"Update failed")}}async function En(L,J){const Ne={retry_on_busy:!!J.retry_on_busy,busy_retry_delay_minutes:Number(J.busy_retry_delay_minutes)||15,max_attempts:Number(J.max_attempts)||3};try{const Re=await Pe(pr.RETRY(L),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ne)}),Fe=await Re.json().catch(()=>({}));if(!Re.ok||(Fe==null?void 0:Fe.success)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Re.status}`);R.success((Fe==null?void 0:Fe.detail)||"Retry policy updated"),await xe(L),await Be(L)}catch(Re){console.error(Re),R.error((Re==null?void 0:Re.message)||"Update failed")}}async function le(L,J="campaign"){try{const Ne=await Pe(pr.ICS(L));if(!Ne.ok)throw new Error(`HTTP ${Ne.status}`);const Re=await Ne.blob(),Fe=URL.createObjectURL(Re),Xe=document.createElement("a");Xe.href=Fe,Xe.download=`${J||"campaign"}.ics`,document.body.appendChild(Xe),Xe.click(),Xe.remove(),URL.revokeObjectURL(Fe)}catch(Ne){console.error(Ne),R.error("ICS download failed")}}const X=()=>{U(!0),ie(1)},se=()=>{U(!1),ie(1),K(L=>({...L,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},me=()=>{ie(L=>Math.min(6,L+1))},Ze=()=>{ie(L=>Math.max(1,L-1))};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Kr,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx(Nl,{onClick:ce,disabled:l,icon:l?n.jsx(Dn,{className:"h-4 w-4 animate-spin"}):n.jsx(Ye,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),n.jsxs(Dl,{onClick:X,icon:n.jsx(qa,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:lO,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[n.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:w,onChange:L=>{S(L.target.value),I(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:te})]}),n.jsx("select",{value:M,onChange:L=>{V(Number(L.target.value)),I(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(L=>n.jsxs("option",{value:L,children:[L," / page"]},L))})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Q1,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx(pe.div,{variants:Kr,children:n.jsx(J1,{label:"Total Campaigns",value:st.total,Icon:Fa,tone:"blue"})}),n.jsx(pe.div,{variants:Kr,children:n.jsx(J1,{label:"Running",value:st.running,Icon:vn,tone:"cyan"})}),n.jsx(pe.div,{variants:Kr,className:"sm:col-span-2 lg:col-span-1",children:n.jsx(J1,{label:"Paused",value:st.paused,Icon:_r,tone:"blue"})})]}),n.jsx(pe.div,{initial:"hidden",animate:"show",variants:lO,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("div",{className:"min-w-full",children:[n.jsx("div",{className:"block sm:hidden",children:r?n.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((L,J)=>n.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},J))}):n.jsx("div",{className:"divide-y divide-slate-200",children:Ge.map((L,J)=>{var Fe,Xe;const Ne=((Fe=L.counts)==null?void 0:Fe.total)||0,Re=((Xe=L.counts)==null?void 0:Xe.completed_or_failed)||0;return n.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:J*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>ke(L),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:pp(L.name)}),n.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",L.id]})]}),n.jsx(L0,{status:L.status})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[n.jsx("span",{children:Z1(L.created_at)}),n.jsxs("span",{children:[Ne," leads"]})]}),n.jsx(oO,{done:Re,total:Ne,status:L.status})]},L.id)})})}),n.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:n.jsxs("tr",{children:[n.jsx(nj,{sortKey:"name",sortBy:_,sortDir:O,onSort:L=>tj(L,C,T),children:"Name"}),n.jsx(nj,{sortKey:"status",sortBy:_,sortDir:O,onSort:L=>tj(L,C,T),children:"Status"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),n.jsx(nj,{sortKey:"calls_per_minute",sortBy:_,sortDir:O,onSort:L=>tj(L,C,T),children:"Pacing"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:r?n.jsx(nhe,{rows:M,cols:9}):Ge.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ge.map(L=>{var Re,Fe;const J=((Re=L.counts)==null?void 0:Re.total)||0,Ne=((Fe=L.counts)==null?void 0:Fe.completed_or_failed)||0;return n.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:n.jsx("button",{onClick:()=>ke(L),className:"group/cell flex items-center gap-2 text-left",children:pp(L.name)})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(L0,{status:L.status})}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.file_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.assistant_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:L.calls_per_minute}),n.jsx("td",{className:"px-5 py-3 text-slate-600",children:Z1(L.created_at)}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:J}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(oO,{done:Ne,total:J,status:L.status})}),n.jsx("td",{className:"px-5 py-3 text-right",children:n.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[n.jsx(Nl,{onClick:()=>le(L.id,L==null?void 0:L.name),icon:n.jsx(Zm,{className:"h-4 w-4"}),children:"ICS"}),n.jsx(Nl,{onClick:()=>ke(L),icon:n.jsx(An,{className:"h-4 w-4"}),children:"Details"})]})})]},L.id)})})]})]})}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Kr,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",te===0?0:(E-1)*M+1,"",Math.min(E*M,te)," of ",te]}),n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(gx,{disabled:E<=1,onClick:()=>I(E-1),children:[n.jsx(Da,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),n.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",we]}),n.jsxs(gx,{disabled:E>=we,onClick:()=>I(E+1),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next"}),n.jsx(yn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),n.jsx(At,{children:Y&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:iO,initial:"hidden",animate:"show",exit:"exit",onClick:se}),n.jsx(pe.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:Wfe,initial:"hidden",animate:"show",exit:"exit",children:n.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:n.jsx(qa,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",F," of 6"]})]})]}),n.jsx("button",{onClick:se,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:n.jsx(wa,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),n.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[n.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(L=>n.jsx(pe.div,{className:Ns("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",L<=F?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:L<=F?1:0},transition:{duration:.3,delay:L*.05}},L))}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[n.jsx("span",{className:"hidden sm:inline",children:"Details"}),n.jsx("span",{className:"hidden sm:inline",children:"Files"}),n.jsx("span",{className:"hidden sm:inline",children:"Leads"}),n.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),n.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),n.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx(At,{mode:"wait",children:n.jsxs(pe.div,{variants:Xfe,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[F===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),n.jsx("input",{value:P.name,onChange:nt,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),n.jsxs("select",{value:P.assistant_id,onChange:nt,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select assistant"}),f.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),n.jsx("textarea",{value:P.description,onChange:nt,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),F===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),n.jsxs("select",{value:P.file_id,onChange:nt,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select file"}),u.map(L=>n.jsx("option",{value:L.id,children:L.name},L.id))]})]})]}),F===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),n.jsxs("select",{value:P.selection_mode,onChange:nt,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"ALL",children:"All Leads"}),n.jsx("option",{value:"ONLY",children:"Only These Leads"}),n.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),P.selection_mode!=="ALL"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:W,onChange:L=>B(L.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),y?n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[n.jsx(Dn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):n.jsx(the,{leads:g,mode:P.selection_mode,search:W,selectedIds:P.selection_mode==="ONLY"?P.include_lead_ids:P.exclude_lead_ids,onChange:L=>{P.selection_mode==="ONLY"?K(J=>({...J,include_lead_ids:L})):K(J=>({...J,exclude_lead_ids:L}))}})]})]}),F===4&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:P.timezone,onChange:nt,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:mL.map(L=>n.jsx("option",{value:L.value,children:L.label},L.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(L=>n.jsx("button",{type:"button",onClick:()=>Oe(L),className:Ns("px-3 py-1.5 rounded-xl border text-sm",P.days_of_week.includes(L)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][L]},L))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(tr,{label:"Daily start",name:"daily_start",value:P.daily_start,onChange:nt,placeholder:"HH:MM"}),n.jsx(tr,{label:"Daily end",name:"daily_end",value:P.daily_end,onChange:nt,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(tr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:P.start_at,onChange:nt}),n.jsx(tr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:P.end_at,onChange:nt})]})]})]}),F===5&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(tr,{label:"Calls per minute",name:"calls_per_minute",value:P.calls_per_minute,onChange:nt}),n.jsx(tr,{label:"Parallel calls",name:"parallel_calls",value:P.parallel_calls,onChange:nt}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!P.retry_on_busy,onChange:nt}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(tr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:P.busy_retry_delay_minutes,onChange:nt}),n.jsx(tr,{label:"Max attempts",name:"max_attempts",value:P.max_attempts,onChange:nt})]})]}),F===6&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),n.jsx("div",{className:"text-sm text-slate-600",children:P.name||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),n.jsx("div",{className:"text-sm text-slate-600",children:((lt=u.find(L=>String(L.id)===String(P.file_id)))==null?void 0:lt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsx("div",{className:"text-sm text-slate-600",children:((yt=f.find(L=>String(L.id)===String(P.assistant_id)))==null?void 0:yt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[ej(P.days_of_week),"  ",P.daily_start,"",P.daily_end," (",P.timezone,")"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[P.calls_per_minute," CPM  ",P.parallel_calls," parallel"]})]})]})]})]},F)})}),n.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[n.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:F>1&&n.jsxs(Nl,{onClick:Ze,icon:n.jsx(Da,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Previous"}),n.jsx("span",{className:"sm:hidden",children:"Back"})]})}),n.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:F<6?n.jsxs(Dl,{onClick:me,icon:n.jsx(yn,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),n.jsx("span",{className:"sm:hidden",children:"Next"})]}):n.jsx(Dl,{onClick:ne,disabled:Se,icon:Se?n.jsx(Dn,{className:"h-4 w-4 animate-spin"}):n.jsx(yp,{className:"h-4 w-4"}),children:Se?"Creating...":"Create Campaign"})})]})]})})]})}),n.jsx(At,{children:A&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:iO,initial:"hidden",animate:"show",exit:"exit",onClick:()=>z(!1)}),n.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("button",{onClick:()=>z(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:n.jsx(wa,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",$==null?void 0:$.id]}),n.jsx("p",{className:"text-xs text-slate-600 truncate",children:pp($==null?void 0:$.name)})]})]}),n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n.jsx(Nl,{onClick:()=>le($.id,$==null?void 0:$.name),icon:n.jsx(Zm,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),n.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(L0,{status:(ae==null?void 0:ae.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)}),n.jsx(hL,{active:!!(ae!=null&&ae.active_now)}),ae!=null&&ae.active_now?n.jsx(hs,{tone:"green",children:"Active now"}):n.jsx(hs,{tone:"amber",children:"Idle"})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(HU,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Local:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:Z1((ut=ae==null?void 0:ae.now)==null?void 0:ut.local)||""})]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Window: "}),n.jsxs("span",{className:"font-medium text-slate-800",children:[ej(((Mt=ae==null?void 0:ae.window)==null?void 0:Mt.days_of_week)??(Z==null?void 0:Z.days_of_week)??($==null?void 0:$.days_of_week))," "," ",((xt=ae==null?void 0:ae.window)==null?void 0:xt.daily_start)||(Z==null?void 0:Z.daily_start)||($==null?void 0:$.daily_start)||"09:00","",((Vn=ae==null?void 0:ae.window)==null?void 0:Vn.daily_end)||(Z==null?void 0:Z.daily_end)||($==null?void 0:$.daily_end)||"18:00"," ","(",(ae==null?void 0:ae.timezone)||(Z==null?void 0:Z.timezone)||($==null?void 0:$.timezone)||"Local",")"]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:ae!=null&&ae.next_tick_at?`${Gfe(ae.next_tick_at)}  in ${Yfe(ae.next_tick_at)}`:""})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Zfe,{totals:(ae==null?void 0:ae.totals)||(Z==null?void 0:Z.totals)})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Q1,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs(pe.div,{variants:Kr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),n.jsx(L0,{status:(ae==null?void 0:ae.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)})]}),n.jsxs(pe.div,{variants:Kr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),n.jsxs("div",{className:"text-sm text-slate-800",children:[n.jsx("div",{className:"truncate",children:ej(((rn=ae==null?void 0:ae.window)==null?void 0:rn.days_of_week)??(Z==null?void 0:Z.days_of_week)??($==null?void 0:$.days_of_week))}),n.jsx("div",{className:"text-xs sm:text-sm",children:(((Et=ae==null?void 0:ae.window)==null?void 0:Et.daily_start)||(Z==null?void 0:Z.daily_start)||($==null?void 0:$.daily_start)||"09:00")+""+(((Ot=ae==null?void 0:ae.window)==null?void 0:Ot.daily_end)||(Z==null?void 0:Z.daily_end)||($==null?void 0:$.daily_end)||"18:00")}),n.jsx("div",{className:"text-xs text-slate-500 truncate",children:(ae==null?void 0:ae.timezone)||(Z==null?void 0:Z.timezone)||($==null?void 0:$.timezone)||"Local"})]})]}),n.jsxs(pe.div,{variants:Kr,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),n.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[n.jsxs("div",{children:["Total: ",((On=ae==null?void 0:ae.totals)==null?void 0:On.total)??((Jn=Z==null?void 0:Z.totals)==null?void 0:Jn.total)??((Mr=$==null?void 0:$.counts)==null?void 0:Mr.total)??""]}),n.jsxs("div",{children:["Done: ",((Qs=ae==null?void 0:ae.totals)==null?void 0:Qs.done)??((La=Z==null?void 0:Z.totals)==null?void 0:La.done)??((ir=$==null?void 0:$.counts)==null?void 0:ir.completed_or_failed)??""]}),n.jsxs("div",{children:["Calling: ",((rs=ae==null?void 0:ae.totals)==null?void 0:rs.calling)??""]}),n.jsxs("div",{children:["Retry: ",((Q=ae==null?void 0:ae.totals)==null?void 0:Q.retry)??""]})]})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Kr,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((ae==null?void 0:ae.status)||(Z==null?void 0:Z.status)||($==null?void 0:$.status)).toLowerCase()==="paused"?n.jsx(Dl,{onClick:()=>Je($.id),icon:n.jsx(Yd,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):n.jsx(Dl,{onClick:()=>dt($.id),icon:n.jsx(eV,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),n.jsx(Nl,{onClick:()=>$t($.id),icon:n.jsx(Td,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),n.jsx(Nl,{onClick:()=>Tt($.id),icon:n.jsx(Ye,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),n.jsx(Nl,{onClick:()=>Ie($.id),icon:n.jsx(Tn,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Q1,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(pe.div,{variants:Kr,children:n.jsx(Jfe,{details:ae!=null&&ae.window?{...Z,...ae,days_of_week:(fe=ae.window)==null?void 0:fe.days_of_week,daily_start:(He=ae.window)==null?void 0:He.daily_start,daily_end:(q=ae.window)==null?void 0:q.daily_end,timezone:ae.timezone}:Z,onSubmit:L=>pt($.id,L),loading:ue})}),n.jsx(pe.div,{variants:Kr,children:n.jsx(ehe,{details:Z,onSubmit:L=>En($.id,L),loading:ue})})]}),n.jsx(pe.div,{initial:"hidden",animate:"show",variants:Kr,children:n.jsx(Qfe,{onRun:L=>We($.id,L)})})]})]})]})})]})}function Qfe({onRun:e}){const[t,a]=x.useState(5);return n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(d2,{className:"h-4 w-4"})," Run Now"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>a(Number(r.target.value)||5)}),n.jsx(Dl,{onClick:()=>e(t),icon:n.jsx(Yd,{className:"h-4 w-4"}),children:"Trigger"})]})]}),n.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function Jfe({details:e,onSubmit:t,loading:a}){const[r,s]=x.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:R0(e==null?void 0:e.start_at),end_at:R0(e==null?void 0:e.end_at)});x.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:R0(e==null?void 0:e.start_at),end_at:R0(e==null?void 0:e.end_at)})},[e]);function l(u){const{name:m,value:f}=u.target;s(h=>({...h,[m]:f}))}function c(u){s(m=>{const h=m.days_of_week.includes(u)?m.days_of_week.filter(g=>g!==u):[...m.days_of_week,u];return h.sort((g,b)=>g-b),{...m,days_of_week:h}})}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(u2,{className:"h-4 w-4"})," Schedule"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:mL.map(u=>n.jsx("option",{value:u.value,children:u.label},u.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(u=>n.jsx("button",{type:"button",onClick:()=>c(u),className:Ns("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(u)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][u]},u))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(tr,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),n.jsx(tr,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(tr,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),n.jsx(tr,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Dl,{onClick:()=>t(r),disabled:a,children:"Save Schedule"})})]})]})}function ehe({details:e,onSubmit:t,loading:a}){const[r,s]=x.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});x.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:u,value:m,type:f,checked:h}=c.target;s(g=>({...g,[u]:f==="checkbox"?h:m}))}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(d2,{className:"h-4 w-4"})," Retry Policy"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(tr,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),n.jsx(tr,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Dl,{onClick:()=>t(r),disabled:a,children:"Save Retry Policy"})})]})]})}function the({leads:e,mode:t,search:a,selectedIds:r,onChange:s}){const[l,c]=x.useState(1),u=12,m=x.useMemo(()=>{const j=(a||"").toLowerCase().trim();return j?e.filter(w=>`${w.first_name||""} ${w.last_name||""}`.toLowerCase().includes(j)||(w.email||"").toLowerCase().includes(j)||(w.mobile||"").toLowerCase().includes(j)):e},[e,a]),f=Math.max(1,Math.ceil(m.length/u));x.useEffect(()=>{l>f&&c(f)},[l,f]);const h=(l-1)*u,g=h+u,b=m.slice(h,g);function y(j){const w=r.includes(j);s(w?r.filter(S=>S!==j):[...r,j])}return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:b.length===0?n.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):b.map(j=>{const w=`${j.first_name||""} ${j.last_name||""}`.trim()||"Unknown";return n.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:r.includes(j.id),onChange:()=>y(j.id)}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-slate-900 text-sm",children:w}),n.jsx("div",{className:"text-xs text-slate-600 break-all",children:(j.email||"")+"  "+(j.mobile||"")})]}),j.dnc?n.jsx(hs,{tone:"red",children:"DNC"}):n.jsx(hs,{tone:"green",children:"OK"})]},j.id)})}),m.length>u&&n.jsxs("div",{className:"flex items-center justify-between p-2",children:[n.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(g,m.length)," of ",m.length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gx,{disabled:l<=1,onClick:()=>c(j=>Math.max(1,j-1)),children:[n.jsx(Da,{className:"h-3.5 w-3.5"})," Prev"]}),n.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",f]}),n.jsxs(gx,{disabled:l>=f,onClick:()=>c(j=>Math.min(f,j+1)),children:["Next ",n.jsx(yn,{className:"h-3.5 w-3.5"})]})]})]}),n.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",n.jsx("strong",{children:t}),"  Selected: ",n.jsx("strong",{children:r.length})]})]})}function ej(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=new Set(Array.isArray(e)?e:[]);return a.size===5&&[0,1,2,3,4].every(r=>a.has(r))?"MonFri":a.size===7?"Every day":Array.from(a).sort((r,s)=>r-s).map(r=>t[r]||"?").join(", ")}function tj(e,t,a){t(r=>r===e?(a(s=>s==="asc"?"desc":"asc"),r):(a(e==="created_at"?"desc":"asc"),e))}function Dl({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(pe.button,{whileHover:a?void 0:{scale:1.02},whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:Ns("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function Nl({children:e,onClick:t,icon:a,type:r="button",disabled:s}){return n.jsxs(pe.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:t,disabled:s,className:Ns("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function gx({children:e,disabled:t,onClick:a}){return n.jsx(pe.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:Ns("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function nj({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:Ns("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:Ns("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function nhe({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function tr({label:e,name:t,value:a,onChange:r,type:s="text",placeholder:l,className:c}){return n.jsxs("label",{className:Ns("block",c),children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const aj={};var kd={};const Ms=typeof import.meta<"u"&&"https://app.thedbt.ai"||typeof process<"u"&&(kd==null?void 0:kd.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Ds=typeof import.meta<"u"&&(aj==null?void 0:aj.VITE_API_PREFIX)||typeof process<"u"&&(kd==null?void 0:kd.NEXT_PUBLIC_API_PREFIX)||"/api",I0=typeof window<"u"?window.location.origin:"",ahe="/integrations",rj=["hubspot","ghl","monday"],Rs={PROVIDERS:`${Ms}${Ds}/crm/providers`,ACCOUNTS:`${Ms}${Ds}/crm/accounts`,CONNECT:e=>`${Ms}${Ds}/crm/connect/${e}`,DISCONNECT:e=>`${Ms}${Ds}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Ms}${Ds}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${Ms}${Ds}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${Ms}${Ds}/crm/monday/boards`,MONDAY_GET_BOARD:`${Ms}${Ds}/crm/monday/board`,MONDAY_SET_BOARD:`${Ms}${Ds}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${Ms}${Ds}/crm/monday/board`},rhe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Kw(...e){return e.filter(Boolean).join(" ")}function she(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function za({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function ihe({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function lhe({rows:e=6,cols:t=5}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function ohe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(za,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Gw({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function che({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function dhe({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),n.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const Zc={hubspot:{label:"HubSpot",Mark:Gw},ghl:{label:"GHL",Mark:che},monday:{label:"monday.com",Mark:dhe}};function B0({label:e,value:t,Icon:a,tone:r="blue",valueClassName:s=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:Kw("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function dO({name:e="",size:t=38}){const a=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:n.jsx("span",{style:{fontSize:t<40?12:13},children:a||"?"})})}function uhe(){var Ge,st,nt;const e=x.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState([]),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[f,h]=x.useState("hubspot"),[g,b]=x.useState(25),[y,j]=x.useState([]),[w,S]=x.useState(null),[k,_]=x.useState({}),[C,O]=x.useState(""),[T,E]=x.useState(!1),[I,M]=x.useState(!1),[V,Y]=x.useState(!1),[U,F]=x.useState([]),[ie,Se]=x.useState(""),[oe,P]=x.useState(null),[K,W]=x.useState(null),[B,A]=x.useState(null),z=x.useMemo(()=>{const Oe={};for(const ne of r)Oe[ne.crm]=ne;return Oe},[r]),$=!!z[f],G=z[f],ue=!!z.monday,ee=ue&&B&&typeof B.board_id<"u"&&B.board_id!==null,Z=x.useCallback(async(Oe,ne={})=>{if(!e.current)throw new Error("No token");const ke={Accept:"application/json",...ne.headers||{},Authorization:`Bearer ${e.current}`};return ne.body&&!ke["Content-Type"]&&(ke["Content-Type"]="application/json"),await fetch(Oe,{...ne,headers:ke})},[]),Ae=x.useCallback(async()=>{try{const ne=await(await Z(Rs.PROVIDERS)).json(),xe=(Array.isArray(ne)?ne:[]).filter(Be=>rj.includes(Be==null?void 0:Be.name));a(xe),!xe.find(Be=>Be.name===f)&&xe[0]&&h(xe[0].name)}catch(Oe){console.error(Oe),a([]),R.error("Failed to fetch providers")}},[Z,f]),ae=x.useCallback(async()=>{var Oe;try{const ke=await(await Z(Rs.ACCOUNTS)).json(),xe=Array.isArray(ke)?ke:[];s(xe.filter(at=>rj.includes(at==null?void 0:at.crm)));const Be=xe.find(at=>at.crm==="monday");if((Oe=Be==null?void 0:Be.metadata)!=null&&Oe.monday){const at=Be.metadata.monday;at.board_id?(A({board_id:at.board_id,board_name:at.board_name}),P(at.board_id),W(at.board_name||null)):A({board_id:null,board_name:null})}else Be||A(null)}catch(ne){console.error(ne),s([]),R.error("Failed to fetch accounts")}},[Z]);async function _e(){var Oe;if(ue)try{const ke=await(await Z(Rs.MONDAY_GET_BOARD)).json(),xe=(ke==null?void 0:ke.selected)??null,Be=((Oe=ke==null?void 0:ke.meta)==null?void 0:Oe.board_name)??null;A(xe?{board_id:xe,board_name:Be}:{board_id:null,board_name:null}),xe&&(P(xe),W(Be))}catch(ne){console.error("Fetch selected board failed",ne)}}x.useEffect(()=>{(async()=>{if(!e.current){R.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([Ae(),ae()])}finally{c(!1)}})()},[Ae,ae]),x.useEffect(()=>{const Oe=new URLSearchParams(window.location.search),ne=Oe.get("status"),ke=Oe.get("crm");if(ne&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:ne,crm:ke},I0)}catch{}window.close()}},[]),x.useEffect(()=>{function Oe(ne){var xe;if(ne.origin!==I0)return;const ke=ne.data||{};if(ke.type==="crm-oauth"){const Be=ke.crm||f;ke.status==="success"?(R.success(`${(((xe=Zc[Be])==null?void 0:xe.label)||Be).toUpperCase()} connected`),Be==="monday"?ae().then(_e):ae()):(R.error(`OAuth error: ${ke.status||"unknown"}`),ae()),m(!1)}}return window.addEventListener("message",Oe),()=>window.removeEventListener("message",Oe)},[ae,f]),x.useEffect(()=>{f==="monday"&&ue&&_e()},[f,ue]);async function Me(Oe){try{m(!0);const ne={redirect_to:`${I0}${ahe}`},ke=await Z(Rs.CONNECT(Oe),{method:"POST",body:JSON.stringify(ne)}),xe=await ke.json();if(!ke.ok||!(xe!=null&&xe.auth_url))throw new Error((xe==null?void 0:xe.detail)||"Failed to start OAuth");const Be=xe.auth_url,at=680,dt=760,Je=window.screenX+Math.max(0,(window.outerWidth-at)/2),$t=window.screenY+Math.max(0,(window.outerHeight-dt)/2),Tt=window.open(Be,"crm-oauth",`width=${at},height=${dt},left=${Je},top=${$t}`);if(!Tt){window.location.href=Be;return}const Ie=Date.now(),We=setInterval(async()=>{(Tt.closed||Date.now()-Ie>12e4)&&(clearInterval(We),await ae(),m(!1))},2e3)}catch(ne){console.error(ne),R.error((ne==null?void 0:ne.message)||"OAuth failed to start"),m(!1)}}async function Pe(Oe){try{const ne=await Z(Rs.ENSURE_FRESH(Oe),{method:"POST"}),ke=await ne.json().catch(()=>({}));if(!ne.ok||(ke==null?void 0:ke.success)===!1)throw new Error((ke==null?void 0:ke.detail)||`HTTP ${ne.status}`);R.success("Token refreshed"),await ae()}catch(ne){console.error(ne),R.error((ne==null?void 0:ne.message)||"Refresh failed")}}async function ge(Oe){var ne;if(confirm(`Disconnect ${((ne=Zc[Oe])==null?void 0:ne.label)||Oe}?`))try{const ke=await Z(Rs.DISCONNECT(Oe),{method:"DELETE"}),xe=await ke.json().catch(()=>({}));if(!ke.ok||(xe==null?void 0:xe.success)===!1)throw new Error((xe==null?void 0:xe.detail)||`HTTP ${ke.status}`);R.success((xe==null?void 0:xe.message)||"Disconnected"),await ae(),Oe==="monday"&&(A(null),F([]),P(null),W(null)),Oe===f&&(j([]),S(null),_({}))}catch(ke){console.error(ke),R.error((ke==null?void 0:ke.message)||"Disconnect failed")}}async function qe(){if(!ue){R.info("Connect monday.com first");return}M(!0),await Ve(ie)}async function Ve(Oe){try{Y(!0);const ne=Oe?`?search=${encodeURIComponent(Oe)}`:"",xe=await(await Z(`${Rs.MONDAY_LIST_BOARDS}${ne}`)).json(),Be=Array.isArray(xe==null?void 0:xe.items)?xe.items:[];F(Be);const at=(xe==null?void 0:xe.selected_board_id)||(xe==null?void 0:xe.selected)||null;if(at){P(at);const dt=Be.find(Je=>String(Je.id)===String(at));W((dt==null?void 0:dt.name)||null)}}catch(ne){console.error(ne),R.error("Failed to load boards")}finally{Y(!1)}}async function ye(){var Oe,ne;if(!oe){R.info("Please select a board");return}try{const ke={board_id:Number(oe),board_name:K||void 0},xe=await Z(Rs.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(ke)}),Be=await xe.json();if(!xe.ok||(Be==null?void 0:Be.success)===!1)throw new Error((Be==null?void 0:Be.detail)||`HTTP ${xe.status}`);A({board_id:((Oe=Be.selected)==null?void 0:Oe.board_id)??Number(oe),board_name:((ne=Be.selected)==null?void 0:ne.board_name)??K??null}),R.success("Board selected"),M(!1),await ae(),f==="monday"&&await Ee(!0)}catch(ke){console.error(ke),R.error((ke==null?void 0:ke.message)||"Failed to save board")}}async function ce(){try{const Oe=await Z(Rs.MONDAY_CLEAR_BOARD,{method:"DELETE"}),ne=await Oe.json();if(!Oe.ok||(ne==null?void 0:ne.success)===!1)throw new Error((ne==null?void 0:ne.detail)||`HTTP ${Oe.status}`);A({board_id:null,board_name:null}),P(null),W(null),R.success("Board cleared"),j([]),S(null),_({})}catch(Oe){console.error(Oe),R.error((Oe==null?void 0:Oe.message)||"Failed to clear board")}}async function Ee(Oe=!1){var ne,ke;if(!$){R.info(`Connect ${((ne=Zc[f])==null?void 0:ne.label)||f} first`);return}try{E(!0);const xe=new URLSearchParams({limit:String(g||25)});let Be=`${Rs.CONTACTS(f)}?${xe.toString()}`;!Oe&&w&&(Be+=`&cursor=${encodeURIComponent(w)}`);const at=await Z(Be),dt=await at.json();if(f==="monday"&&at.status===409&&((ke=dt==null?void 0:dt.detail)!=null&&ke.needs_board_selection)){R.info("Please choose your Monday board"),M(!0),await Ve(ie),E(!1);return}if(!at.ok)throw new Error((dt==null?void 0:dt.detail)||`HTTP ${at.status}`);const Je=((dt==null?void 0:dt.items)||[]).map(Tt=>({...Tt,company:Tt.company||she(Tt.raw)})),$t=(dt==null?void 0:dt.next_cursor)||null;j(Tt=>Oe?Je:[...Tt,...Je]),S($t),_((dt==null?void 0:dt.raw_paging)||{})}catch(xe){console.error(xe);const Be=String((xe==null?void 0:xe.message)||"");Be.includes("Invalid paging token")?(R.error("Invalid/expired cursor; starting over."),S(null)):R.error(Be||"Fetch failed")}finally{E(!1)}}const te=x.useMemo(()=>{const Oe=C.trim().toLowerCase();return Oe?y.filter(ne=>{const ke=(ne.name||"").toLowerCase(),xe=(ne.email||"").toLowerCase(),Be=(ne.phone||"").toLowerCase(),at=(ne.company||"").toLowerCase();return ke.includes(Oe)||xe.includes(Oe)||Be.includes(Oe)||at.includes(Oe)}):y},[y,C]),we=((Ge=Zc[f])==null?void 0:Ge.Mark)||Gw,$e=((st=Zc[f])==null?void 0:st.label)||f,Ke=f==="monday"&&$&&!ee;return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(we,{size:24})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:n.jsxs("span",{className:`bg-clip-text text-transparent ${rhe}`,children:["CRM Integrations  ",$e]})}),n.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$?n.jsxs(n.Fragment,{children:[n.jsxs(za,{onClick:()=>Pe(f),size:"sm",children:[n.jsx(Jo,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),f==="monday"&&n.jsxs(za,{onClick:qe,size:"sm",variant:"subtle",children:[n.jsx(Pv,{className:"mr-2 h-4 w-4"}),ee?"Change Board":"Choose Board"]}),n.jsxs(za,{onClick:()=>ge(f),variant:"danger",size:"sm",children:[n.jsx(ZV,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):n.jsx(za,{onClick:()=>Me(f),variant:"primary",disabled:u,size:"sm",children:u?n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hs,{className:"mr-2 h-4 w-4"}),"Connect"]})}),n.jsxs(za,{onClick:()=>{Ae(),ae()},size:"sm",children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),n.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(Oe=>rj.includes(Oe.name)).map(Oe=>{var xe;const ne=((xe=Zc[Oe.name])==null?void 0:xe.Mark)||Gw,ke=!!z[Oe.name];return n.jsxs("button",{onClick:()=>{h(Oe.name),j([]),S(null),_({})},className:Kw("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",Oe.name===f?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:Oe.name,children:[n.jsx(ne,{size:16}),n.jsx("span",{className:"capitalize",children:Oe.name}),ke?n.jsx("span",{className:"ml-1 text-emerald-600",children:""}):n.jsx("span",{className:"ml-1 text-slate-300",children:""})]},Oe.name)})}),!$&&(((nt=t.find(Oe=>Oe.name===f))==null?void 0:nt.type)||"oauth")==="oauth"&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[n.jsx(Sr,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),n.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",n.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",n.jsx("code",{className:"break-all",children:I0}),"."]})]}),Ke&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[n.jsx(Pv,{className:"h-4 w-4 text-amber-600 mt-0.5"}),n.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",n.jsx(za,{onClick:qe,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(B0,{label:"Connection",value:$?"Connected":"Not connected",Icon:$?vn:_r,tone:$?"blue":"cyan"}),n.jsx(B0,{label:"Contacts Loaded",value:y.length,Icon:Fa,tone:"cyan"}),n.jsx(B0,{label:"Next Cursor",value:w?String(w).slice(0,10)+"":"",Icon:vd,tone:"blue"}),n.jsx(B0,{label:f==="monday"?"Monday Board":"Account",value:f==="monday"?(B==null?void 0:B.board_name)||(ee?`#${B.board_id}`:"Not selected"):(G==null?void 0:G.external_account_name)||"",Icon:f==="monday"?Pv:Qr,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),n.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:C,onChange:Oe=>O(Oe.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(vd,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("select",{value:g,onChange:Oe=>b(Number(Oe.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Oe=>n.jsxs("option",{value:Oe,children:[Oe," / page"]},Oe))}),n.jsxs(za,{onClick:()=>Ee(!0),disabled:!$||f==="monday"&&!ee,variant:"primary",size:"sm",children:[n.jsx(Sx,{className:"mr-2 h-4 w-4"}),"Fetch"]}),n.jsxs(za,{onClick:()=>Ee(!1),disabled:!$||!w,size:"sm",children:[n.jsx(yn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),T?n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx($s,{children:"Name"}),n.jsx($s,{children:"Email"}),n.jsx($s,{children:"Phone"}),n.jsx($s,{children:"Company"}),n.jsx($s,{children:"ID"})]})}),n.jsx("tbody",{children:n.jsx(lhe,{rows:6,cols:5})})]})})}):te.length===0?n.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[n.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:n.jsx(vd,{className:"h-8 w-8 text-slate-400"})}),n.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),n.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",n.jsx("b",{children:"Fetch"})," to load contacts."]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx($s,{children:"Name"}),n.jsx($s,{children:"Email"}),n.jsx($s,{children:"Phone"}),n.jsx($s,{children:"Company"}),n.jsx($s,{children:"ID"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:te.map(Oe=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(gm,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(dO,{name:Oe.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Oe.name||""}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",Oe.id]})]})]})}),n.jsx(gm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:Oe.email||""})]})}),n.jsx(gm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(vt,{className:"h-3.5 w-3.5 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:Oe.phone||""})]})}),n.jsx(gm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(Gk,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:Oe.company||""})]})}),n.jsx(gm,{children:n.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:Oe.id})})]},`${Oe.id}-${Oe.email||Oe.name||"row"}`))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:te.map((Oe,ne)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ne===0&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(dO,{name:Oe.name,size:44}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:Oe.name||""}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[n.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:Oe.email||""})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[n.jsx(vt,{className:"h-3.5 w-3.5 text-slate-500"}),Oe.phone||""]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[n.jsx(Gk,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:Oe.company||""})]})]})]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",Oe.id]})]},`${Oe.id}-${Oe.email||Oe.name||"card"}`))})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",n.jsx("b",{className:"font-mono break-all",children:String(w||"")})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(za,{onClick:()=>Ee(!0),disabled:!$||f==="monday"&&!ee,size:"sm",children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(za,{onClick:()=>Ee(!1),disabled:!$||!w,variant:"primary",size:"sm",children:["Load more ",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&n.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),n.jsx("div",{className:"max-w-full overflow-x-auto",children:n.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),n.jsx(At,{children:I&&n.jsx(ohe,{title:"Select your Monday Board",onClose:()=>M(!1),children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",n.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:ie,onChange:Oe=>Se(Oe.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:Oe=>{Oe.key==="Enter"&&Ve(ie)}})]}),n.jsxs(za,{onClick:()=>Ve(ie),size:"sm",children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Search"]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200",children:n.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:V?n.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[n.jsx(Dn,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):U.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:U.map(Oe=>{const ne=String(oe)===String(Oe.id);return n.jsxs("button",{onClick:()=>{P(Oe.id),W(Oe.name||null)},className:Kw("text-left rounded-xl border px-3 py-2 transition-colors",ne?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:Oe.name||`Board ${Oe.id}`}),ne&&n.jsx(ihe,{className:"bg-blue-600 text-white",children:"Selected"})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",n.jsx("code",{className:"font-mono",children:Oe.id})]})]},Oe.id)})})})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",n.jsx("b",{children:B!=null&&B.board_name?B.board_name:B!=null&&B.board_id?`#${B.board_id}`:"None"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(za,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),n.jsx(za,{onClick:ce,size:"sm",variant:"subtle",children:"Clear"}),n.jsx(za,{onClick:ye,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function $s({children:e}){return n.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function gm({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const z0="https://app.thedbt.ai",sj={LIST:`${z0}/api/appointments`,CREATE:`${z0}/api/appointments/tool/schedule`,DETAIL:e=>`${z0}/api/appointments/${e}`,UPDATE:e=>`${z0}/api/appointments/${e}`},mhe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function ps({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function uO({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Qc({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Jc({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Sl({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function pL({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(ps,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const bd=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:kj};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:vn};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:_r};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:kj}}};function Yw(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function fhe(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const a=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(a){let s=parseInt(a[1]);const l=parseInt(a[2]||"0"),c=(a[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let s=parseInt(r[1]);const l=parseInt(r[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function hhe(e){const t=String(e||"").trim();if(!t)return"";const a=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return a+r}function phe(){const[e,t]=x.useState([]),[a,r]=x.useState(!1),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(""),[b,y]=x.useState(""),[j,w]=x.useState(1),S=10,[k,_]=x.useState(!1),[C,O]=x.useState(!1),[T,E]=x.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[I,M]=x.useState(null),V=typeof window<"u"?localStorage.getItem("token"):null,Y=x.useCallback(async()=>{try{r(!0),l("");const B=await fetch(sj.LIST,{headers:{Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},mode:"cors"});if(!B.ok)throw new Error(`HTTP ${B.status}`);const A=await B.json(),$=(Array.isArray(A)?A:(A==null?void 0:A.appointments)||[]).map(G=>({id:G.id,title:G.title,notes:G.notes,location:G.location,phone:G.phone,timezone:G.timezone,start_at:G.start_at,end_at:G.end_at,duration_minutes:G.duration_minutes,status:G.status,created_at:G.created_at,updated_at:G.updated_at}));$.sort((G,ue)=>new Date(ue.start_at)-new Date(G.start_at)),t($)}catch(B){l((B==null?void 0:B.message)||"Failed to load appointments"),R.error((B==null?void 0:B.message)||"Failed to load appointments")}finally{r(!1)}},[V]);x.useEffect(()=>{Y()},[Y]);const U=x.useMemo(()=>{let B=[...e];if(c.trim()){const A=c.trim().toLowerCase();B=B.filter(z=>[z.title,z.location,z.phone,z.notes].map($=>String($||"").toLowerCase()).some($=>$.includes(A)))}if(m!=="all"&&(B=B.filter(A=>String(A.status).toLowerCase()===m)),h){const A=new Date(`${h}T00:00:00`);B=B.filter(z=>new Date(z.start_at)>=A)}if(b){const A=new Date(`${b}T23:59:59`);B=B.filter(z=>new Date(z.start_at)<=A)}return B},[e,c,m,h,b]),F=Math.max(1,Math.ceil(U.length/S)),ie=j*S,Se=ie-S,oe=U.slice(Se,ie);x.useEffect(()=>w(1),[c,m,h,b]);const P=x.useMemo(()=>{const B=e.length,A=e.filter(G=>G.status==="scheduled").length,z=e.filter(G=>G.status==="completed").length,$=e.filter(G=>String(G.status).toLowerCase().startsWith("cancel")).length;return{total:B,scheduled:A,completed:z,cancelled:$}},[e]);async function K(B,A){try{M(B);const z=await fetch(sj.UPDATE(B),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify({status:A})});if(!z.ok){const $=await z.text();throw new Error(`HTTP ${z.status}${$?`  ${$}`:""}`)}R.success(`Status set to ${A}`),t($=>$.map(G=>G.id===B?{...G,status:A}:G))}catch(z){R.error((z==null?void 0:z.message)||"Failed to update status")}finally{M(null)}}async function W(){const B={title:String(T.title||"").trim(),date:String(T.date||"").trim(),time:fhe(T.time),timezone:String(T.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(T.durationMinutes||30)),phone:hhe(T.phone),location:String(T.location||"").trim(),notes:String(T.notes||"").trim()};if(!B.title)return R.error("Title is required");if(!B.date)return R.error("Date is required");if(!B.time||!/^\d{2}:\d{2}$/.test(B.time))return R.error("Time looks invalid");if(!B.location)return R.error("Location is required");if(!B.phone||B.phone.replace(/\D/g,"").length<11)return R.error("Phone looks invalid");try{O(!0);const A=await fetch(sj.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...V?{Authorization:`Bearer ${V}`}:{}},body:JSON.stringify(B)});if(!A.ok){const $=await A.text();throw new Error(`HTTP ${A.status}${$?`  ${$}`:""}`)}const z=await A.json();R.success(" Appointment created"),_(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t($=>[{id:z.id||crypto.randomUUID(),title:z.title||B.title,notes:z.notes||B.notes,location:z.location||B.location,phone:z.phone||B.phone,timezone:z.timezone||B.timezone,start_at:z.start_at||`${B.date}T${B.time}`,end_at:z.end_at||`${B.date}T${B.time}`,duration_minutes:z.duration_minutes||B.durationMinutes,status:z.status||"scheduled",created_at:z.created_at||new Date().toISOString(),updated_at:z.updated_at||new Date().toISOString()},...$])}catch(A){R.error((A==null?void 0:A.message)||"Failed to create appointment")}finally{O(!1)}}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(nr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${mhe}`,children:"Appointments"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(ps,{onClick:()=>_(!0),variant:"primary",children:[n.jsx(qa,{className:"mr-2 h-4 w-4"})," New Appointment"]}),n.jsx(ps,{onClick:Y,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(U0,{label:"Total",value:P.total,Icon:nr,tone:"blue"}),n.jsx(U0,{label:"Scheduled",value:P.scheduled,Icon:kj,tone:"cyan"}),n.jsx(U0,{label:"Completed",value:P.completed,Icon:vn,tone:"blue"}),n.jsx(U0,{label:"Cancelled",value:P.cancelled,Icon:_r,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:c,onChange:B=>u(B.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(zl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsx("input",{type:"date",value:h,onChange:B=>g(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),n.jsx("input",{type:"date",value:b,onChange:B=>y(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||m!=="all"||h||b)&&n.jsx(ps,{onClick:()=>{u(""),f("all"),g(""),y("")},className:"text-slate-700",children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(nr,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",U.length,")"]})]}),a&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?n.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):U.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(nr,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Qc,{children:"Title"}),n.jsx(Qc,{children:"When"}),n.jsx(Qc,{children:"Location"}),n.jsx(Qc,{children:"Phone"}),n.jsx(Qc,{children:"Status"}),n.jsx(Qc,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:oe.map(B=>{const A=bd(B.status),z=A.icon;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(Jc,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]})}),n.jsx(Jc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(Di,{className:"h-4 w-4 text-slate-500"})," ",Yw(B.start_at)]})}),n.jsx(Jc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(Ys,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]})}),n.jsx(Jc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})}),n.jsx(Jc,{children:n.jsxs(uO,{className:`border ${A.badge}`,children:[n.jsx(z,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})}),n.jsx(Jc,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(mO,{current:B.status,onChange:$=>K(B.id,$),busy:I===B.id}),n.jsx(fO,{a:B})]})})]},B.id)})})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:oe.map(B=>{const A=bd(B.status),z=A.icon;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(Di,{className:"h-4 w-4 text-slate-500"})," ",Yw(B.start_at)]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(Ys,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})]}),n.jsxs(uO,{className:`border ${A.badge} shrink-0`,children:[n.jsx(z,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(mO,{current:B.status,onChange:$=>K(B.id,$),busy:I===B.id}),n.jsx(fO,{a:B})]}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]},B.id)})})}),U.length>S&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Se+1}),"",n.jsx("b",{children:Math.min(ie,U.length)})," of ",n.jsx("b",{children:U.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(ps,{onClick:()=>w(B=>Math.max(1,B-1)),disabled:j===1,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,F)},(B,A)=>{let z;if(F<=5||j<=3?z=A+1:j>=F-2?z=F-4+A:z=j-2+A,z<1||z>F)return null;const $=j===z;return n.jsx("button",{onClick:()=>w(z),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:z},z)})}),n.jsxs(ps,{onClick:()=>w(B=>Math.min(F,B+1)),disabled:j>=F,children:["Next ",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(At,{children:k&&n.jsxs(pL,{onClose:()=>_(!1),title:"New Appointment",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Sl,{label:"Title",children:n.jsx("input",{value:T.title,onChange:B=>E(A=>({...A,title:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),n.jsx(Sl,{label:"Phone",children:n.jsx("input",{value:T.phone,onChange:B=>E(A=>({...A,phone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),n.jsx(Sl,{label:"Date",children:n.jsx("input",{type:"date",value:T.date,onChange:B=>E(A=>({...A,date:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Sl,{label:"Time",children:n.jsx("input",{value:T.time,onChange:B=>E(A=>({...A,time:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),n.jsx(Sl,{label:"Location",children:n.jsx("input",{value:T.location,onChange:B=>E(A=>({...A,location:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),n.jsx(Sl,{label:"Timezone",children:n.jsx("input",{value:T.timezone,onChange:B=>E(A=>({...A,timezone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),n.jsx(Sl,{label:"Duration (minutes)",children:n.jsx("input",{type:"number",min:1,max:1440,value:T.durationMinutes,onChange:B=>E(A=>({...A,durationMinutes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Sl,{label:"Notes",children:n.jsx("textarea",{value:T.notes,onChange:B=>E(A=>({...A,notes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(ps,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),n.jsx(ps,{onClick:W,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(qa,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function U0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function mO({current:e,onChange:t,busy:a}){const[r,s]=x.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:bd("scheduled")},{k:"completed",label:"Mark Completed",tone:bd("completed")},{k:"cancelled",label:"Mark Cancelled",tone:bd("cancelled")}],u=bd(e).icon;return n.jsxs("div",{className:"relative",children:[n.jsxs(ps,{onClick:()=>s(m=>!m),size:"sm",className:"min-w-[150px] justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[n.jsx(u,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),a?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(yn,{className:"h-4 w-4 opacity-60"})]}),n.jsx(At,{children:r&&n.jsx(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(m=>n.jsxs("button",{onClick:()=>{s(!1),m.k!==e&&t(m.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(m.tone.icon,{className:"h-4 w-4"})," ",m.label]}),String(e)===m.k&&n.jsx(vn,{className:"h-4 w-4 text-emerald-500"})]},m.k))})})]})}function fO({a:e}){const[t,a]=x.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs(ps,{onClick:()=>a(!0),size:"sm",children:[n.jsx(An,{className:"h-4 w-4 mr-1"})," Details"]}),n.jsx(At,{children:t&&n.jsxs(pL,{title:"Appointment Details",onClose:()=>a(!1),children:[n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Di,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"When:"})," ",Yw(e.start_at)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ys,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Di,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(FV,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),n.jsx("div",{className:"mt-5 text-right",children:n.jsx(ps,{onClick:()=>a(!1),variant:"primary",children:"Close"})})]})})]})}const hi="https://app.thedbt.ai",pi={FORM_COPY_TOKEN:`${hi}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${hi}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${hi}/api/form/copy-script`,FORM_COPY_WP:`${hi}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${hi}/api/intake/scan`,INTAKE_SUBMISSIONS:`${hi}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${hi}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${hi}/api/intake/progress`,INTAKE_ANALYTICS:`${hi}/api/intake/analytics`},xhe="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function xi(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch(r){throw new Error(`Invalid JSON: ${(r==null?void 0:r.message)||""}`)}try{return JSON.parse(a)}catch{throw new Error(`Expected JSON but got '${t||"unknown"}'. Body: ${a.slice(0,300)}`)}}function _l(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(t)}catch{R.error("Copy failed")}}function ha({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function ed({label:e,hint:t,children:a}){return n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,t?n.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:t}):null]})}function Is({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function jo({code:e="",lang:t="text",filename:a="",className:r="",maxHeight:s="max-h-[420px]"}){const l=x.useMemo(()=>e.split(`
`),[e]);return n.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",r].join(" "),children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:a||(t?`snippet.${t}`:"snippet.txt")})]}),n.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",s].join(" "),style:{scrollbarWidth:"thin"},children:[n.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,u)=>n.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:u+1},u))}),n.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:n.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t||"text"}),n.jsxs("span",{children:["Ln ",l.length]})]})]})}function ghe({url:e}){return n.jsxs(Is,{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),n.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[n.jsx(jp,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:n.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:n.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),n.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function bhe({value:e=0,label:t="",className:a=""}){const r=Math.max(0,Math.min(100,Number(e)||0));return n.jsxs("div",{className:`w-full ${a}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[n.jsx("span",{className:"text-slate-600",children:t}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[r.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${r}%`}})})]})}function F0({label:e,value:t,tone:a="slate"}){const r={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${r[a]}`,children:[n.jsx("span",{className:"font-semibold",children:t??0}),n.jsx("span",{className:"opacity-80",children:e})]})}function vhe({dataObj:e}){const t=Object.keys(e||{}).sort(),a=t.map(s=>{var l;return((l=e[s])==null?void 0:l.total)||0}),r=Math.max(1,...a);return n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsx("div",{className:"flex items-end gap-1 h-28",children:t.map(s=>{var u;const l=((u=e[s])==null?void 0:u.total)||0,c=l/r*100;return n.jsxs("div",{className:"flex flex-col items-center w-6",children:[n.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${s}: ${l}`}),n.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:s.slice(5)})]},s)})})})}const hO=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",yhe=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function jhe(){const[e,t]=x.useState(!1),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState("John"),[j,w]=x.useState("Doe"),[S,k]=x.useState("john@example.com"),[_,C]=x.useState("+15551234567"),[O,T]=x.useState(()=>new Date().toISOString().slice(0,10)),[E,I]=x.useState("14:30"),[M,V]=x.useState(!1),[Y,U]=x.useState(null),[F,ie]=x.useState(!1),[Se,oe]=x.useState(null),[P,K]=x.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[W,B]=x.useState(!1),[A,z]=x.useState({}),[$,G]=x.useState(!1),[ue,ee]=x.useState(!1),[Z,Ae]=x.useState([]),[ae,_e]=x.useState(0),[Me,Pe]=x.useState(""),[ge,qe]=x.useState(0),Ve=10,[ye,ce]=x.useState(null),[Ee,te]=x.useState(!1),we=x.useMemo(()=>a?h?a.length<=12?"":`${a.slice(0,6)}${a.slice(-4)}`:a:"",[a,h]),$e=x.useCallback(()=>{const Ie=localStorage.getItem("token");if(!Ie)throw R.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${Ie}`,Accept:"application/json"}},[]),Ke=x.useCallback(async()=>{t(!0);try{{const Ie=await fetch(pi.FORM_COPY_TOKEN,{headers:$e(),mode:"cors"}),We=await xi(Ie);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch token");r(We.token||"")}{const Ie=await fetch(pi.FORM_COPY_WEBHOOK,{headers:$e(),mode:"cors"}),We=await xi(Ie);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch webhook URL");l(We.webhook_url||"")}{const Ie=await fetch(pi.FORM_COPY_SCRIPT,{headers:$e(),mode:"cors"}),We=await xi(Ie);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch script");u(We.script||"")}{const Ie=await fetch(pi.FORM_COPY_WP,{headers:$e(),mode:"cors"}),We=await xi(Ie);if(!(We!=null&&We.success))throw new Error((We==null?void 0:We.detail)||"Failed to fetch plugin");f(We.wordpress_plugin||"")}}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Failed to load")}finally{t(!1)}},[$e]),Ge=x.useCallback(async()=>{B(!0);try{const Ie=await fetch(pi.INTAKE_PROGRESS,{headers:$e(),mode:"cors"}),We=await xi(Ie);We!=null&&We.ok&&K(We.progress||{})}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Failed to load progress")}finally{B(!1)}},[$e]),st=x.useCallback(async()=>{G(!0);try{const Ie=await fetch(pi.INTAKE_ANALYTICS,{headers:$e(),mode:"cors"}),We=await xi(Ie);We!=null&&We.ok&&z(We.analytics||{})}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Failed to load analytics")}finally{G(!1)}},[$e]),nt=x.useCallback(async()=>{ee(!0);try{const Ie=new URL(pi.INTAKE_SUBMISSIONS);Me&&Ie.searchParams.set("status",Me),Ie.searchParams.set("limit",String(Ve)),Ie.searchParams.set("offset",String(ge*Ve));const We=await fetch(Ie.toString(),{headers:$e(),mode:"cors"}),pt=await xi(We);pt!=null&&pt.ok&&(Ae(pt.items||[]),_e(pt.total||0))}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Failed to load submissions")}finally{ee(!1)}},[$e,Me,ge]),Oe=x.useCallback(async Ie=>{te(!0);try{const We=await fetch(pi.INTAKE_SUBMISSION_DETAIL(Ie),{headers:$e(),mode:"cors"}),pt=await xi(We);pt!=null&&pt.ok&&ce(pt.submission||null)}catch(We){R.error((We==null?void 0:We.message)||"Failed to load detail")}finally{te(!1)}},[$e]);x.useEffect(()=>{Ke().catch(()=>{})},[Ke]),x.useEffect(()=>{Ge().catch(()=>{}),st().catch(()=>{})},[Ge,st]),x.useEffect(()=>{nt().catch(()=>{})},[nt]);const ne=x.useMemo(()=>({form:{first_name:b,last_name:j,email:S,phone:_,date:O,time:E},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[b,j,S,_,O,E]),ke=async()=>{if(!s)return R.error("Webhook URL not loaded yet.");V(!0),U(null);try{const Ie=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ne)}),We=await Ie.text();let pt;try{pt=JSON.parse(We)}catch{pt={raw:We}}U(pt),Ie.ok?R.success(" Test submitted to webhook"):R.error(`Webhook responded with HTTP ${Ie.status}`)}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Test submit failed")}finally{V(!1)}},xe=async()=>{ie(!0),oe(null);try{const Ie=await fetch(pi.INTAKE_SCAN,{method:"POST",headers:{...$e(),"Content-Type":"application/json"}}),We=await xi(Ie);oe(We),R.success(" Intake scan kicked off");let pt=0;const En=setInterval(async()=>{pt+=1,await Ge(),pt>=6&&clearInterval(En)},2e3);nt().catch(()=>{})}catch(Ie){R.error((Ie==null?void 0:Ie.message)||"Scan failed")}finally{ie(!1)}},Be=x.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(ne,null,2).replace(/"/g,'\\"')}" \\
  "${s||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[ne,s]),at=x.useMemo(()=>{const Ie={form_response:{answers:[{type:"text",text:`${b}`},{type:"text",text:`${j}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${O}`}]}};return JSON.stringify(Ie,null,2)},[b,j,S,_,O]),dt="<?php // not loaded ?>",Je=Math.ceil(ae/Ve),$t=ge>0,Tt=ge+1<Je;return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(Is,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Jo,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),n.jsx(ha,{onClick:Ke,disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[n.jsxs(Is,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(whe,{}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-start",children:[n.jsxs(ha,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>g(Ie=>!Ie),children:[h?n.jsx(An,{className:"h-4 w-4 mr-1"}):n.jsx(Ad,{className:"h-4 w-4 mr-1"}),h?"Show":"Hide"]}),n.jsxs(ha,{size:"sm",onClick:()=>_l(a,"Token copied!"),disabled:!a,children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:we||""}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),n.jsxs(Is,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),n.jsxs(ha,{size:"sm",onClick:()=>_l(s,"Webhook URL copied!"),disabled:!s,children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:s||""}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",n.jsx("b",{children:"JSON"}),", ",n.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",n.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),n.jsxs(Is,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(d2,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),n.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",n.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(ha,{size:"sm",onClick:()=>_l(c,"Script copied!"),disabled:!c,children:[n.jsx(ZU,{className:"h-4 w-4 mr-1"})," Copy Script"]}),n.jsxs(ha,{size:"sm",onClick:()=>_l(m,"Plugin code copied!"),disabled:!m,children:[n.jsx(oV,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs(Is,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(iH,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(ed,{label:"First name",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:b,onChange:Ie=>y(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),n.jsx(ed,{label:"Last name",children:n.jsx("input",{value:j,onChange:Ie=>w(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),n.jsx(ed,{label:"Email",children:n.jsx("input",{type:"email",value:S,onChange:Ie=>k(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(ed,{label:"Phone",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:_,onChange:Ie=>C(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),n.jsx(ed,{label:"Date",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nr,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"date",value:O,onChange:Ie=>T(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsx(ed,{label:"Time",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Di,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"time",value:E,onChange:Ie=>I(Ie.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx(ha,{onClick:ke,variant:"primary",disabled:M||!s,children:M?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):n.jsxs(n.Fragment,{children:[n.jsx(ip,{className:"h-4 w-4 mr-2"})," Send Test"]})}),Y?n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[n.jsx(vn,{className:"h-4 w-4"}),"Response captured"]}):null]}),Y?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),n.jsx(jo,{code:JSON.stringify(Y,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,n.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[n.jsx(m2,{className:"h-4 w-4 shrink-0 mt-[1px]"}),n.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),n.jsx(ghe,{url:xhe})]}),n.jsxs(Is,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(BV,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),n.jsxs(ha,{size:"sm",onClick:()=>_l(Be,"cURL copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(jo,{code:Be,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),n.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),n.jsxs(ha,{size:"sm",onClick:()=>_l(at,"JSON copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(jo,{code:at,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:n.jsxs(Is,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(oH,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{variant:"primary",size:"sm",onClick:xe,disabled:F,title:"POST /api/intake/scan",children:F?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):n.jsxs(n.Fragment,{children:[n.jsx(_j,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),n.jsxs(ha,{size:"sm",onClick:()=>{Ge(),nt(),st()},title:"Refresh intake data",children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vp,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),n.jsx("div",{className:"mt-3",children:n.jsx(bhe,{value:(P==null?void 0:P.completion_rate)||0,label:"Completion rate"})}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(F0,{label:"Total",value:P==null?void 0:P.total}),n.jsx(F0,{label:"Booked",value:P==null?void 0:P.booked,tone:"emerald"}),n.jsx(F0,{label:"Unbooked",value:P==null?void 0:P.unbooked,tone:"amber"}),n.jsx(F0,{label:"Cancelled",value:P==null?void 0:P.cancelled,tone:"red"})]}),W?n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(Ye,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vp,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),$?n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(Ye,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(Nx,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(vhe,{dataObj:A})})]})]}),n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:Me,onChange:Ie=>{qe(0),Pe(Ie.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All statuses"}),n.jsx("option",{value:"booked",children:"Booked"}),n.jsx("option",{value:"unbooked",children:"Unbooked"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[ae," total"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"ID"}),n.jsx("th",{className:"py-2 pr-3",children:"Created"}),n.jsx("th",{className:"py-2 pr-3",children:"Name"}),n.jsx("th",{className:"py-2 pr-3",children:"Email"}),n.jsx("th",{className:"py-2 pr-3",children:"Status"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:ue?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):Z.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):Z.map(Ie=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:Ie.id}),n.jsx("td",{className:"py-2 pr-3",children:Ie.created_at?new Date(Ie.created_at).toLocaleString():""}),n.jsx("td",{className:"py-2 pr-3",children:(Ie.first_name||"-")+" "+(Ie.last_name||"")}),n.jsx("td",{className:"py-2 pr-3",children:Ie.email||"-"}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${yhe(Ie.status)}`,children:hO(Ie.status||"")||""})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx(ha,{size:"sm",onClick:()=>Oe(Ie.id),children:"View"})})]},Ie.id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",Je?ge+1:0," of ",Je]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ha,{size:"sm",onClick:()=>qe(Ie=>Math.max(0,Ie-1)),disabled:!$t,title:"Previous page",children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(ha,{size:"sm",onClick:()=>qe(Ie=>Tt?Ie+1:Ie),disabled:!Tt,title:"Next page",children:["Next",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]}),ye?n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",ye.id]}),n.jsx(ha,{size:"sm",onClick:()=>ce(null),children:"Close"})]}),Ee?n.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),n.jsx("div",{className:"font-medium",children:(ye.first_name||"-")+" "+(ye.last_name||"")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),n.jsx("div",{className:"font-medium",children:ye.email||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),n.jsx("div",{className:"font-medium",children:ye.phone||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),n.jsx("div",{className:"font-medium",children:hO(ye.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),n.jsx("div",{className:"font-medium",children:ye.created_at?new Date(ye.created_at).toLocaleString():""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),n.jsx("div",{className:"font-medium",children:(ye==null?void 0:ye.source)||""})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(jo,{code:JSON.stringify(ye,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),Se?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),n.jsx(jo,{code:JSON.stringify(Se,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[n.jsxs(Is,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(NP,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),n.jsxs(ha,{size:"sm",onClick:()=>_l(c,"Script copied!"),disabled:!c,children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(jo,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),n.jsxs(Is,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),n.jsxs(ha,{size:"sm",onClick:()=>_l(m,"Plugin code copied!"),disabled:!m,children:[n.jsx(ja,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(jo,{code:m||dt,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function whe(){return n.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const Nhe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},She=Nhe&&"https://app.thedbt.ai"||"http://localhost:8000",$m=typeof window<"u"?window.location.origin:"http://localhost:8000",td=`${She}/api/facebook`,Gn={CONNECT:`${td}/facebook/connect`,PAGES:`${td}/facebook/pages`,LINK:`${td}/facebook/pages/link`,SUBSCRIBE:`${td}/facebook/pages/subscribe`,DELETION:`${td}/facebook/deletion`,DELETION_STATUS:`${$m}/facebook/deletion-status`,DELETION_MANUAL:`${td}/facebook/deletion/manual`,WEBHOOK:`${$m}/facebook/webhook`,OAUTH_CALLBACK:`${$m}/facebook/oauth/callback`,PRIVACY_POLICY:`${$m}/privacypolicy`};async function bm(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(a)}catch{return{raw:a}}}function nd(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(t)}catch{R.error("Copy failed")}}function _he(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw R.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function ad({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function ra({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function ij({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function lj({code:e="",lang:t="text",filename:a="snippet.txt",maxHeight:r="max-h-[300px]"}){const s=x.useMemo(()=>String(e).split(`
`),[e]);return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:a})]}),n.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${r}`,style:{scrollbarWidth:"thin"},children:n.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:n.jsx("code",{className:"text-slate-800",children:e})})}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t}),n.jsxs("span",{children:["Ln ",s.length]})]})]})}function khe(){const e=_he(),[t,a]=x.useState(!1),[r,s]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[f,h]=x.useState([]),[g,b]=x.useState("all"),[y,j]=x.useState(0),w=10,[S,k]=x.useState(""),[_,C]=x.useState(!1),O=x.useMemo(()=>{const P=f.length,K=f.filter(B=>B.connected).length,W=f.filter(B=>B.subscribed).length;return{total:P,linked:K,subscribed:W}},[f]),T=x.useMemo(()=>{switch(g){case"linked":return f.filter(P=>P.connected);case"unlinked":return f.filter(P=>!P.connected);case"subscribed":return f.filter(P=>P.subscribed);case"unsubscribed":return f.filter(P=>!P.subscribed);default:return f}},[f,g]),E=Math.ceil(T.length/w),I=y>0,M=y+1<E,V=T.slice(y*w,y*w+w),Y=x.useCallback(async()=>{s(!0);try{const P=await fetch(Gn.PAGES,{headers:e(),mode:"cors"}),K=await bm(P);m(!0),h(Array.isArray(K==null?void 0:K.pages)?K.pages:[])}catch{m(!1),h([])}finally{s(!1)}},[e]),U=x.useCallback(async()=>{a(!0);try{const P=await fetch(Gn.CONNECT,{headers:e(),mode:"cors"}),K=await bm(P);c(K),K!=null&&K.auth_url?(window.open(K.auth_url,"_blank","noopener,noreferrer"),R.success("Opening Facebook Login in a new tab")):R.error("No auth_url from server")}catch(P){R.error((P==null?void 0:P.message)||"Failed to start OAuth")}finally{a(!1)}},[e]),F=x.useCallback(async P=>{try{const K=await fetch(Gn.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:P}),mode:"cors"});await bm(K),R.success("Page linked"),Y()}catch(K){R.error((K==null?void 0:K.message)||"Link failed")}},[e,Y]),ie=x.useCallback(async P=>{try{const K=await fetch(Gn.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:P}),mode:"cors"});await bm(K),R.success("Subscribed to leadgen webhooks"),Y()}catch(K){R.error((K==null?void 0:K.message)||"Subscribe failed")}},[e,Y]),Se=x.useCallback(async()=>{if(!S.trim()){R.error("Enter a Facebook user_id first");return}C(!0);try{const P=await fetch(Gn.DELETION_MANUAL,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({fb_user_id:S.trim()}),mode:"cors"}),K=await bm(P);R.success(`Deleted ${(K==null?void 0:K.deleted_records)??0} records`),K!=null&&K.status_url&&window.open(K.status_url,"_blank","noopener,noreferrer")}catch(P){R.error((P==null?void 0:P.message)||"Manual deletion failed")}finally{C(!1)}},[e,S]);x.useEffect(()=>{Y().catch(()=>{})},[Y]);const oe=(l==null?void 0:l.redirect_uri)||`${Gn.OAUTH_CALLBACK}`;return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2},className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2,delay:.15},className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(ad,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Zk,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect a Page, subscribe to ",n.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ra,{onClick:Y,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${u?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(c2,{className:`h-3.5 w-3.5 ${u?"text-emerald-600":"text-amber-600"}`}),u?"Connected":"Not connected"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(ij,{icon:SP,label:"Total Pages",value:O.total,tone:"slate"}),n.jsx(ij,{icon:Sx,label:"Linked Pages",value:O.linked,tone:"blue"}),n.jsx(ij,{icon:iU,label:"Webhook Subscribed",value:O.subscribed,tone:"emerald"})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(ad,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Jo,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Approve Page permissions. The login opens in a new tab; once finished, come back and click ",n.jsx("b",{children:"Refresh"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx(ra,{variant:"primary",onClick:U,disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):n.jsxs(n.Fragment,{children:[n.jsx(Zk,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?n.jsxs(ra,{size:"sm",onClick:()=>nd(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,n.jsxs(ra,{size:"sm",onClick:Y,disabled:r,title:"Check connection now",children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:oe}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsxs(ra,{size:"sm",onClick:()=>nd(oe,"Redirect URI copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy"]}),n.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[n.jsx(jp,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",n.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),n.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",n.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),n.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Gn.WEBHOOK}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",n.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),n.jsxs(ad,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Rl,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Ri,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is enabled (Web)."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(Ci,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",n.jsx("code",{className:"font-mono",children:$m}),"."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx($U,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1",children:n.jsxs(ad,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:g,onChange:P=>{j(0),b(P.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Show: All"}),n.jsx("option",{value:"linked",children:"Linked"}),n.jsx("option",{value:"unlinked",children:"Unlinked"}),n.jsx("option",{value:"subscribed",children:"Subscribed"}),n.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),n.jsxs(ra,{size:"sm",onClick:Y,disabled:r,children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Page"}),n.jsx("th",{className:"py-2 pr-3",children:"Linked"}),n.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):V.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:u?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):V.map(P=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:P.name||P.page_id}),n.jsx("div",{className:"text-[11px] text-slate-500",children:P.page_id})]}),n.jsx("td",{className:"py-2 pr-3",children:P.connected?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),n.jsx("td",{className:"py-2 pr-3",children:P.subscribed?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[P.connected?n.jsxs(ra,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",n.jsx(vn,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):n.jsx(ra,{size:"sm",onClick:()=>F(P.page_id),children:"Link"}),P.subscribed?n.jsxs(ra,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",n.jsx(vn,{className:"h-4 w-4 ml-1"})]}):n.jsx(ra,{size:"sm",variant:"primary",onClick:()=>ie(P.page_id),children:"Subscribe"})]})})]},P.page_id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",E?y+1:0," of ",E||0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ra,{size:"sm",onClick:()=>j(P=>Math.max(0,P-1)),disabled:!I,title:"Previous page",children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(ra,{size:"sm",onClick:()=>j(P=>M?P+1:P),disabled:!M,title:"Next page",children:["Next",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 xl:grid-cols-3 gap-4",children:[n.jsxs(ad,{className:"xl:col-span-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(HV,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",n.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will fetch the full lead with ",n.jsx("code",{className:"font-mono",children:"leadgen_id"})," and create/merge a CRM lead."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(jp,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),n.jsx(ra,{size:"sm",onClick:()=>R.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),n.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["Every FB lead is tagged with"," ",n.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),n.jsx(lj,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${Gn.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"})]})]}),n.jsxs(ad,{className:"xl:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Qr,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Compliance & App Setup"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(_f,{className:"h-3.5 w-3.5"})," Privacy Policy URL"]}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Gn.PRIVACY_POLICY}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>nd(Gn.PRIVACY_POLICY,"Privacy Policy URL copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(Tn,{className:"h-3.5 w-3.5"})," Data Deletion Callback URL"]}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Gn.DELETION}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>nd(Gn.DELETION,"Deletion Callback URL copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy"]})}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Meta will ",n.jsx("b",{children:"POST"})," a ",n.jsx("code",{children:"signed_request"})," to this URL when users request deletion."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(Nx,{className:"h-3.5 w-3.5"})," Deletion Status URL"]}),n.jsxs("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:[Gn.DELETION_STATUS,"?code=EXAMPLE_CODE"]}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>nd(`${Gn.DELETION_STATUS}?code=EXAMPLE_CODE`,"Status URL copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy"]})}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["We return this URL + ",n.jsx("code",{children:"confirmation_code"})," in the deletion callback response."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook (Page  leadgen)"}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:Gn.WEBHOOK}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(ra,{size:"sm",onClick:()=>nd(Gn.WEBHOOK,"Webhook URL copied!"),children:[n.jsx(ja,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[n.jsx(lj,{filename:"deletion.manual.sh",lang:"bash",code:`curl -X POST \\
  -H "Authorization: Bearer <YOUR_TOKEN>" \\
  -H "Content-Type: application/json" \\
  -d '{"fb_user_id":"<FB_USER_ID>"}' \\
  "${Gn.DELETION_MANUAL}" | jq .`}),n.jsx(lj,{filename:"deletion.status.txt",lang:"text",code:`After Meta calls ${Gn.DELETION} with a signed_request,
we return JSON like:

{
  "url": "${Gn.DELETION_STATUS}?code=fbdel_<id>_<hash>",
  "confirmation_code": "fbdel_<id>_<hash>"
}

Open that URL to show the human-readable status page.`})]}),n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-sm font-bold text-slate-900 mb-2 flex items-center gap-2",children:[n.jsx(Tn,{className:"h-4 w-4 text-red-600"}),"Manual Deletion (Support)"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx("input",{type:"text",placeholder:"Enter Facebook user_id",value:S,onChange:P=>k(P.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx(ra,{variant:"danger",onClick:Se,disabled:_,children:_?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{className:"h-4 w-4 mr-2"}),"Delete Now"]})})]}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Calls ",n.jsx("code",{className:"font-mono",children:"POST /facebook/deletion/manual"}),", then opens the returned status URL."]})]})]})]})]})]})}const Che={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://app.thedbt.ai"},pa=Che&&"https://app.thedbt.ai"||"http://localhost:8000",Ea={ASSISTANTS:`${pa}/api/text-assistants`,CREATE_ASSISTANT:`${pa}/api/text-assistants`,TOGGLE_ASSISTANT_URL:(e,t)=>`${pa}/api/toggle-text-assistant/${e}?assistant_toggle=${t}`,ATTACH_ASSISTANT:`${pa}/api/text/attach-assistant`,NUMBERS:`${pa}/api/purchased_numbers`,SEND_SINGLE:`${pa}/api/send-text-message`,MESSAGE_SCHEDULED:`${pa}/api/text/message-scheduled`,MESSAGE_UNSCHEDULED:`${pa}/api/text/message-unscheduled`,MESSAGES:`${pa}/api/text/messages`,THREADS:`${pa}/api/text/threads`,JOBS:`${pa}/api/text/message-jobs`,JOB:e=>`${pa}/api/text/message-job/${e}`,PROGRESS_SSE:(e,t,a)=>{const r=`${pa}/api/text/message-progress-sse?job_id=${encodeURIComponent(e)}`;return t?`${r}&sse=${encodeURIComponent(t)}`:a?`${r}&token=${encodeURIComponent(a)}`:r},DEBUG_SCHEDULED:`${pa}/api/text/debug/scheduled-selection`,DAEMON_STATE:e=>`${pa}/api/text/daemon/state?kind=${encodeURIComponent(e)}`,DAEMON_CONFIG:`${pa}/api/text/daemon/config`,DAEMON_SSE:(e,t,a)=>{const r=`${pa}/api/text/daemon-progress-sse?kind=${encodeURIComponent(e)}`;return t?`${r}&sse=${encodeURIComponent(t)}`:a?`${r}&token=${encodeURIComponent(a)}`:r}};function Ahe(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw R.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}async function xr(e){const t=e.headers.get("content-type")||"",a=await e.text(),r=/application\/json/i.test(t);let s=null;if(r&&a)try{s=JSON.parse(a)}catch{}if(e.ok)return s??(a?{raw:a}:{});let l=`HTTP ${e.status}`;if(s!=null&&s.detail)if(typeof s.detail=="string")l+=`  ${s.detail}`;else if(s.detail.twilio_error){const u=s.detail.twilio_error||{};l+=`  ${u.message||"Twilio error"}`,u.code&&(l+=` (code ${u.code})`)}else l+=`  ${JSON.stringify(s.detail).slice(0,240)}`;else a&&(l+=`  ${a.slice(0,240)}`);const c=new Error(l);throw c.payload=s,c}function oj(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),R.success(t)}catch{R.error("Copy failed")}}function rd(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}const The=/^\+\d{8,15}$/;function ds({children:e,className:t=""}){return n.jsx(pe.div,{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e})}function Nn({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function kl({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function bn({value:e,onChange:t,placeholder:a,className:r="",type:s="text"}){return n.jsx("input",{value:e,onChange:l=>t==null?void 0:t(l.target.value),placeholder:a,type:s,className:`w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400 ${r}`})}function pO({value:e,onChange:t,placeholder:a,rows:r=5}){return n.jsx("textarea",{value:e,onChange:s=>t==null?void 0:t(s.target.value),placeholder:a,rows:r,className:"w-full rounded-lg border border-slate-300 px-2.5 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"})}function Gr({children:e,tone:t="slate"}){const a={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsx("span",{className:`px-2 py-0.5 rounded-md text-[11px] border ${a[t]}`,children:e})}function Ehe({total:e=0,sent:t=0,failed:a=0}){const r=t+a,s=e?Math.min(100,Math.round(r/e*100)):0;return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 p-2",children:[n.jsx("div",{className:"h-2 w-full rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 rounded bg-blue-600 transition-all",style:{width:`${s}%`}})}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:[t," sent  ",a," failed  ",e," total"]})]})}function Ohe(e,t,a){const[r,s]=x.useState(null),l=x.useRef(null);return x.useEffect(()=>{if(!e)return;const c=localStorage.getItem("token")||"",u=Ea.PROGRESS_SSE(e,t,c),m=new EventSource(u,{withCredentials:!1});l.current=m,m.onmessage=h=>{try{const g=JSON.parse(h.data);s(g)}catch{}};const f=()=>{m.close(),a==null||a()};return m.addEventListener("done",f),m.onerror=()=>{},()=>m.close()},[e,t,a]),r}function xO(e,t){const[a,r]=x.useState(null);return x.useEffect(()=>{if(!e||!t)return;const s=localStorage.getItem("token")||"",l=Ea.DAEMON_SSE(e,t,s),c=new EventSource(l,{withCredentials:!1});return c.onmessage=u=>{try{const m=JSON.parse(u.data);r(m)}catch{}},c.onerror=()=>{},()=>c.close()},[e,t]),a}function Phe(){var Mr,Qs,La,ir,rs;const e=Ahe(),[t,a]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(!1),[u,m]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",voice_provider:"",voice:"",system_prompt:"You are a helpful SMS assistant. Keep replies short and useful.",language:"",forwardingPhoneNumber:"",assistant_toggle:!0}),[f,h]=x.useState([]),[g,b]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState(""),[k,_]=x.useState(!1),[C,O]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,include_unowned:!0,repeat_backoff_hours:7}),[T,E]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,unscheduled_backoff_hours:7}),[I,M]=x.useState(""),[V,Y]=x.useState(""),U=Ohe(I,V,()=>pt()),[F,ie]=x.useState({to_number:"",from_number:"",body:""}),[Se,oe]=x.useState(!1),[P,K]=x.useState([]),[W,B]=x.useState(!1),[A,z]=x.useState(""),[$,G]=x.useState(!1),[ue,ee]=x.useState([]),[Z,Ae]=x.useState(0),[ae,_e]=x.useState({peer_number:"",success:"all",to_like:"",from_like:"",start:"",end:"",assistant_id:""}),[Me,Pe]=x.useState(0),ge=50,[qe,Ve]=x.useState([]),[ye,ce]=x.useState(!1),[Ee,te]=x.useState(!1),[we,$e]=x.useState(null),[Ke,Ge]=x.useState(!1),[st,nt]=x.useState(null),[Oe,ne]=x.useState(null),[ke,xe]=x.useState({scheduled:!1,unscheduled:!1}),Be=xO("scheduled",(st==null?void 0:st.sse_token)||""),at=xO("unscheduled",(Oe==null?void 0:Oe.sse_token)||""),dt=x.useMemo(()=>{const Q=t.length||0,fe=t.filter(L=>L.assistant_toggle).length,He=f.length||0,q=f.filter(L=>L.attached_assistant).length;return{totalAssistants:Q,enabled:fe,totalNumbers:He,withAssistant:q}},[t,f]),Je=f.length>0,$t=x.useCallback(async()=>{s(!0);try{const Q=await fetch(Ea.ASSISTANTS,{headers:e(),mode:"cors"}),fe=await xr(Q),He=Array.isArray(fe)?fe:[];a(He.map(q=>({...q,system_prompt:q.system_prompt??q.systemPrompt??""})))}catch(Q){R.error((Q==null?void 0:Q.message)||"Failed to load assistants"),a([])}finally{s(!1)}},[e]),Tt=x.useCallback(async()=>{b(!0);try{const Q=await fetch(Ea.NUMBERS,{headers:e(),mode:"cors"}),fe=await xr(Q),He=Array.isArray(fe==null?void 0:fe.items)?fe.items:Array.isArray(fe)?fe:[];h(He.map(q=>({phone_number:q.phone_number||q.number||(q==null?void 0:q.phone)||"",attached_assistant:q.attached_assistant??q.assistant_id??null})))}catch{h([])}finally{b(!1)}},[e]),Ie=x.useCallback(async()=>{B(!0);try{const Q=await fetch(Ea.THREADS,{headers:e(),mode:"cors"}),fe=await xr(Q);K(Array.isArray(fe==null?void 0:fe.items)?fe.items:[])}catch(Q){R.error((Q==null?void 0:Q.message)||"Failed to load threads"),K([])}finally{B(!1)}},[e]),We=x.useCallback(async()=>{G(!0);try{const Q=new URLSearchParams;Q.set("limit",String(ge)),Q.set("offset",String(Me*ge)),ae.peer_number&&Q.set("peer_number",ae.peer_number),ae.to_like&&Q.set("to_like",ae.to_like),ae.from_like&&Q.set("from_like",ae.from_like),ae.start&&Q.set("start",ae.start),ae.end&&Q.set("end",ae.end),ae.assistant_id&&Q.set("assistant_id",ae.assistant_id),ae.success==="true"&&Q.set("success","true"),ae.success==="false"&&Q.set("success","false");const fe=await fetch(`${Ea.MESSAGES}?${Q.toString()}`,{headers:e(),mode:"cors"}),He=await xr(fe);ee(Array.isArray(He==null?void 0:He.items)?He.items:[]),Ae(Number((He==null?void 0:He.total)||0))}catch(Q){R.error((Q==null?void 0:Q.message)||"Failed to load messages"),ee([]),Ae(0)}finally{G(!1)}},[e,Me,ae]),pt=x.useCallback(async()=>{ce(!0);try{const Q=await fetch(Ea.JOBS,{headers:e(),mode:"cors"}),fe=await xr(Q);Ve(Array.isArray(fe==null?void 0:fe.items)?fe.items:[])}catch{Ve([])}finally{ce(!1)}},[e]),En=x.useCallback(async Q=>{try{const fe=await fetch(Ea.DAEMON_STATE(Q),{headers:e(),mode:"cors"}),He=await xr(fe);Q==="scheduled"?nt(He):ne(He)}catch(fe){R.error((fe==null?void 0:fe.message)||`Failed to load ${Q} daemon state`)}},[e]),le=x.useCallback(async(Q,fe)=>{xe(He=>({...He,[Q]:!0}));try{const He=await fetch(Ea.DAEMON_CONFIG,{method:"PUT",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({kind:Q,...fe}),mode:"cors"}),q=await xr(He);Q==="scheduled"?nt((q==null?void 0:q.state)||q):ne((q==null?void 0:q.state)||q),R.success(`${Q} daemon updated`)}catch(He){R.error((He==null?void 0:He.message)||`Failed to update ${Q} daemon`)}finally{xe(He=>({...He,[Q]:!1}))}},[e]),X=x.useCallback(async(Q,fe)=>{Ge(!0);try{const He=new URLSearchParams;He.set("include_unowned",String(!!Q)),fe!=null&&fe!==""&&He.set("repeat_backoff_hours",String(fe));const q=await fetch(`${Ea.DEBUG_SCHEDULED}?${He.toString()}`,{headers:e(),mode:"cors"}),L=await xr(q);$e(L),te(!0)}catch(He){R.error((He==null?void 0:He.message)||"Debug fetch failed")}finally{Ge(!1)}},[e]),se=x.useCallback(async()=>{try{if(!u.name.trim())return R.error("Assistant name is required");const Q=await fetch(Ea.CREATE_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({name:u.name,provider:u.provider,model:u.model,voice_provider:u.voice_provider||null,voice:u.voice||null,system_prompt:u.system_prompt,language:u.language||null,forwardingPhoneNumber:u.forwardingPhoneNumber||null,assistant_toggle:!!u.assistant_toggle}),mode:"cors"});await xr(Q),R.success("Assistant created"),c(!1),$t()}catch(Q){R.error((Q==null?void 0:Q.message)||"Create failed")}},[e,u,$t]),me=x.useCallback(async(Q,fe)=>{try{const He=await fetch(Ea.TOGGLE_ASSISTANT_URL(Q,fe),{method:"PUT",headers:{...e()},mode:"cors"});await xr(He),R.success(`Assistant ${fe?"enabled":"disabled"}`),$t()}catch(He){R.error((He==null?void 0:He.message)||"Toggle failed")}},[e,$t]),Ze=x.useCallback(async()=>{if(!y)return R.error("Select a number");try{const Q={phone_number:y,assistant_id:w?Number(w):null,kind:null},fe=await fetch(Ea.ATTACH_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(Q),mode:"cors"});await xr(fe),R.success("Attachment updated"),Tt()}catch(Q){R.error((Q==null?void 0:Q.message)||"Attach failed")}},[e,y,w,Tt]),lt=x.useCallback(async Q=>{_(!0);try{const fe=Q==="scheduled"?C:T,He=Q==="scheduled"?Ea.MESSAGE_SCHEDULED:Ea.MESSAGE_UNSCHEDULED,q={assistant_id:fe.assistant_id?Number(fe.assistant_id):null,from_number:fe.from_number||null,limit:fe.limit?Number(fe.limit):null,background:!0,messages_per_recipient:Number(fe.messages_per_recipient||1),retry_count:Number(fe.retry_count||0),retry_delay_seconds:Number(fe.retry_delay_seconds||60),per_message_delay_seconds:Number(fe.per_message_delay_seconds||0)};Q==="scheduled"?(q.include_unowned=!!fe.include_unowned,fe.repeat_backoff_hours!==""&&fe.repeat_backoff_hours!==null&&fe.repeat_backoff_hours!==void 0&&(q.repeat_backoff_hours=Number(fe.repeat_backoff_hours))):fe.unscheduled_backoff_hours!==""&&fe.unscheduled_backoff_hours!==null&&fe.unscheduled_backoff_hours!==void 0&&(q.unscheduled_backoff_hours=Number(fe.unscheduled_backoff_hours));const L=await fetch(He,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(q),mode:"cors"}),J=await xr(L);J!=null&&J.job_id?(M(J.job_id),Y(J.sse_token||""),R.success(`Started ${Q} job`),pt()):(J!=null&&J.detail?R.info(J.detail):R.info("No appointments matched filters"),X(C.include_unowned,C.repeat_backoff_hours).catch(()=>{}))}catch(fe){R.error((fe==null?void 0:fe.message)||"Bulk start failed")}finally{_(!1)}},[e,C,T,pt,X]),yt=x.useCallback(async()=>{var Q,fe;if(!F.to_number||!F.body)return R.error("Missing 'to' or 'body'");if(!The.test(F.to_number))return R.error("Enter To number in E.164 format, e.g. +14155551234");oe(!0);try{const He=await fetch(Ea.SEND_SINGLE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({to_number:F.to_number,body:F.body,from_number:F.from_number||null}),mode:"cors"});await xr(He),R.success("Sent"),ie(q=>({...q,body:""})),Ie(),A&&A===F.to_number&&We()}catch(He){const q=(fe=(Q=He==null?void 0:He.payload)==null?void 0:Q.detail)==null?void 0:fe.twilio_error;if(q){const L=q.more_info?`  see docs: ${q.more_info}`:"";R.error(`Twilio ${q.code||""}: ${q.message||"Error"}${L}`)}else R.error((He==null?void 0:He.message)||"Send failed")}finally{oe(!1)}},[e,F,A,Ie,We]);x.useEffect(()=>{$t().catch(()=>{}),Tt().catch(()=>{}),Ie().catch(()=>{}),pt().catch(()=>{}),En("scheduled").catch(()=>{}),En("unscheduled").catch(()=>{})},[$t,Tt,Ie,pt,En]),x.useEffect(()=>{We().catch(()=>{})},[We]),x.useEffect(()=>{A&&(_e(Q=>({...Q,peer_number:A})),Pe(0))},[A]),x.useEffect(()=>{var Q;if(f.length===1){const fe=((Q=f[0])==null?void 0:Q.phone_number)||"";j(He=>He||fe),O(He=>({...He,from_number:He.from_number||fe})),E(He=>({...He,from_number:He.from_number||fe})),ie(He=>({...He,from_number:He.from_number||fe}))}},[f]),x.useEffect(()=>{var Q;if(t.length===1){const fe=((Q=t[0])==null?void 0:Q.id)??"";S(He=>He||String(fe)),O(He=>({...He,assistant_id:He.assistant_id||String(fe)})),E(He=>({...He,assistant_id:He.assistant_id||String(fe)}))}},[t]);const ut=Math.ceil(Z/ge),Mt=Me>0,xt=Me+1<ut,Vn=x.useMemo(()=>[{id:"",name:"Auto-pick (recommended)"},...t],[t]),rn=x.useMemo(()=>[{phone_number:"",label:"Auto-pick"},...f.map(Q=>({...Q,label:Q.phone_number}))],[f]),Et=n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Tip: To force different bots per flow, include"," ",n.jsx("code",{className:"font-mono",children:"[scheduled]"})," or"," ",n.jsx("code",{className:"font-mono",children:"[unscheduled]"})," in the assistant name, or attach a specific assistant to a number."]}),Ot=({params:Q,setParams:fe,mode:He})=>{const q=He==="scheduled";return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>fe(L=>({...L,showAdvanced:!L.showAdvanced})),className:"mt-2 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(PV,{className:"h-3.5 w-3.5"}),"Advanced"]}),Q.showAdvanced?n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Messages / recipient"}),n.jsx(bn,{type:"number",value:Q.messages_per_recipient,onChange:L=>fe(J=>({...J,messages_per_recipient:Number(L||1)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry count"}),n.jsx(bn,{type:"number",value:Q.retry_count,onChange:L=>fe(J=>({...J,retry_count:Number(L||0)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry delay (s)"}),n.jsx(bn,{type:"number",value:Q.retry_delay_seconds,onChange:L=>fe(J=>({...J,retry_delay_seconds:Number(L||60)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Per-msg gap (s)"}),n.jsx(bn,{type:"number",value:Q.per_message_delay_seconds,onChange:L=>fe(J=>({...J,per_message_delay_seconds:Number(L||0)}))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[q?n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(a0,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),n.jsx(bn,{type:"number",value:Q.repeat_backoff_hours,onChange:L=>fe(J=>({...J,repeat_backoff_hours:Number(L||0)}))})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(a0,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),n.jsx(bn,{type:"number",value:Q.unscheduled_backoff_hours,onChange:L=>fe(J=>({...J,unscheduled_backoff_hours:Number(L||0)}))})]}),n.jsx("div",{className:"rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600 lg:col-span-2",children:q?"Scheduled = eligible by default; backoff prevents re-texting the same phone within N hours (default 7).":"Optional backoff protects against re-texting the same phone too soon (default 7h)."})]}),q?n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:n.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[n.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[n.jsx(zl,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),n.jsx(Nn,{size:"sm",variant:Q.include_unowned?"primary":"subtle",onClick:()=>fe(L=>({...L,include_unowned:!L.include_unowned})),children:Q.include_unowned?n.jsxs(n.Fragment,{children:[n.jsx(Dv,{className:"h-4 w-4 mr-1"})," On"]}):n.jsxs(n.Fragment,{children:[n.jsx(Mv,{className:"h-4 w-4 mr-1"})," Off"]})})]})}):null]}):null]})},On=({st:Q})=>{const fe=Q!=null&&Q.enabled?(Q==null?void 0:Q.status)==="running"?"bg-blue-500":(Q==null?void 0:Q.status)==="error"?"bg-red-500":"bg-emerald-500":"bg-slate-300";return n.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${fe}`})},Jn=({kind:Q,state:fe,sseState:He,onPatch:q,busy:L})=>{const J=Q==="scheduled",[Ne,Re]=x.useState(!!(fe!=null&&fe.enabled)),[Fe,Xe]=x.useState((fe==null?void 0:fe.tick_interval_seconds)??120),[wt,Gt]=x.useState(!!(fe!=null&&fe.include_unowned)),[da,ea]=x.useState((fe==null?void 0:fe.repeat_backoff_hours)??7),[Js,Ia]=x.useState((fe==null?void 0:fe.unscheduled_backoff_hours)??7);x.useEffect(()=>{Re(!!(fe!=null&&fe.enabled)),Xe((fe==null?void 0:fe.tick_interval_seconds)??120),Gt(!!(fe!=null&&fe.include_unowned)),ea((fe==null?void 0:fe.repeat_backoff_hours)??7),Ia((fe==null?void 0:fe.unscheduled_backoff_hours)??7)},[fe]);const Na={...fe||{},...He||{}},Xi=()=>{const Sa={enabled:Ne,tick_interval_seconds:Number(Fe||120)};J?(Sa.include_unowned=!!wt,Sa.repeat_backoff_hours=Number(da||0)):Sa.unscheduled_backoff_hours=Number(Js||0),q(Q,Sa)},cu=()=>q(Q,{enabled:!Ne});return n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kk,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:J?"Scheduled Daemon":"Unscheduled Daemon"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(On,{st:Na}),n.jsx(Gr,{tone:Na.enabled?"emerald":"amber",children:Na.enabled?"enabled":"paused"})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Tick interval (s)"}),n.jsx(bn,{type:"number",value:Fe,onChange:Sa=>Xe(Number(Sa||0))})]}),J?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(a0,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),n.jsx(bn,{type:"number",value:da,onChange:Sa=>ea(Number(Sa||0))})]}),n.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[n.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[n.jsx(zl,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),n.jsx(Nn,{size:"sm",variant:wt?"primary":"subtle",onClick:()=>Gt(Sa=>!Sa),children:wt?n.jsxs(n.Fragment,{children:[n.jsx(Dv,{className:"h-4 w-4 mr-1"})," On"]}):n.jsxs(n.Fragment,{children:[n.jsx(Mv,{className:"h-4 w-4 mr-1"})," Off"]})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(a0,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),n.jsx(bn,{type:"number",value:Js,onChange:Sa=>Ia(Number(Sa||0))})]}),n.jsx("div",{className:"sm:col-span-2 rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600",children:"Protects against re-texting the same phone too soon."})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-600",children:["Status: ",n.jsx("b",{children:Na.status||""}),"  Last tick:"," ",Na.last_tick_at?rd(Na.last_tick_at):"","  Last queue:"," ",Na.last_queue_size??0,Na.last_error?n.jsxs(n.Fragment,{children:[" "," ",n.jsxs("span",{className:"text-red-600",children:["Error: ",Na.last_error]})]}):null]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{size:"sm",variant:Ne?"subtle":"primary",onClick:cu,disabled:L,children:Ne?n.jsxs(n.Fragment,{children:[n.jsx(MU,{className:"h-4 w-4 mr-1"})," Pause"]}):n.jsxs(n.Fragment,{children:[n.jsx(Yd,{className:"h-4 w-4 mr-1"})," Resume"]})}),n.jsxs(Nn,{size:"sm",variant:"primary",onClick:Xi,disabled:L,children:[L?n.jsx(Dn,{className:"h-4 w-4 mr-1 animate-spin"}):null,"Apply"]})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2",children:[n.jsx(kl,{icon:ip,label:"Last sent",value:Na.last_sent??0,tone:"blue"}),n.jsx(kl,{icon:Sr,label:"Last failed",value:Na.last_failed??0,tone:"amber"}),n.jsx(kl,{icon:vp,label:"Total sent",value:Na.total_sent??0,tone:"emerald"}),n.jsx(kl,{icon:Av,label:"Total failed",value:Na.total_failed??0,tone:"red"})]}),fe!=null&&fe.sse_token?n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 flex items-center gap-2",children:["Live updates via SSE "," ",n.jsx(Nn,{size:"sm",onClick:()=>oj(fe.sse_token,"SSE token copied"),children:"Copy SSE Token"})]}):null]})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1}}),n.jsx(pe.div,{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1.2}})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(ds,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(i2,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Text Assistant"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create assistants, attach to numbers, bulk-message appointments, handle inbound SMS with AI  and now manage always-on texting daemons."})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Nn,{onClick:()=>{$t(),Tt(),Ie(),pt(),En("scheduled"),En("unscheduled")},children:[n.jsx(Ye,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${Je?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(c2,{className:`h-3.5 w-3.5 ${Je?"text-emerald-600":"text-amber-600"}`}),Je?"Numbers Active":"No Numbers"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-5 gap-4",children:[n.jsx(kl,{icon:SP,label:"Assistants",value:dt.totalAssistants,tone:"slate"}),n.jsx(kl,{icon:Sx,label:"Enabled",value:dt.enabled,tone:"blue"}),n.jsx(kl,{icon:vt,label:"Numbers",value:dt.totalNumbers,tone:"emerald"}),n.jsx(kl,{icon:Hs,label:"Attached",value:dt.withAssistant,tone:"amber"}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600 flex items-center gap-2",children:[n.jsx(Nx,{className:"h-4 w-4"}),"Set ",n.jsx("code",{className:"font-mono",children:"PUBLIC_BASE_URL"})," so Twilio can reach",n.jsx("code",{className:"font-mono ml-1",children:"/api/text/sms-status"}),"."]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(ds,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(u2,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Assistants"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(Nn,{size:"sm",onClick:()=>c(Q=>!Q),children:[n.jsx(qa,{className:"h-4 w-4 mr-1"}),"New"]})})]}),n.jsx("div",{className:"mt-1",children:Et}),l&&n.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(bn,{placeholder:"Name (e.g., Assistant [scheduled])",value:u.name,onChange:Q=>m(fe=>({...fe,name:Q}))}),n.jsx(bn,{placeholder:"Provider (openai)",value:u.provider,onChange:Q=>m(fe=>({...fe,provider:Q}))}),n.jsx(bn,{placeholder:"Model (gpt-4o-mini)",value:u.model,onChange:Q=>m(fe=>({...fe,model:Q}))}),n.jsx(bn,{placeholder:"Language (optional)",value:u.language,onChange:Q=>m(fe=>({...fe,language:Q}))}),n.jsx(bn,{placeholder:"Voice Provider (optional)",value:u.voice_provider,onChange:Q=>m(fe=>({...fe,voice_provider:Q}))}),n.jsx(bn,{placeholder:"Voice (optional)",value:u.voice,onChange:Q=>m(fe=>({...fe,voice:Q}))})]}),n.jsx("div",{className:"mt-3",children:n.jsx(pO,{value:u.system_prompt,onChange:Q=>m(fe=>({...fe,system_prompt:Q})),placeholder:"System prompt for the assistant...",rows:5})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("label",{className:"text-xs text-slate-700",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:u.assistant_toggle,onChange:Q=>m(fe=>({...fe,assistant_toggle:Q.target.checked}))}),"Enabled on create"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Nn,{size:"sm",onClick:se,children:[n.jsx(qa,{className:"h-4 w-4 mr-1"}),"Create"]}),n.jsx(Nn,{size:"sm",variant:"subtle",onClick:()=>c(!1),children:"Cancel"})]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Assistant"}),n.jsx("th",{className:"py-2 pr-3",children:"Model"}),n.jsx("th",{className:"py-2 pr-3",children:"Enabled"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):t.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"No assistants yet. Create one above."})}):t.map(Q=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:Q.name}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:(Q.system_prompt||"").slice(0,120)})]}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx(Gr,{tone:"slate",children:Q.model})}),n.jsx("td",{className:"py-2 pr-3",children:Q.assistant_toggle?n.jsx(Gr,{tone:"emerald",children:"Enabled"}):n.jsx(Gr,{tone:"amber",children:"Disabled"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Nn,{size:"sm",variant:Q.assistant_toggle?"subtle":"primary",onClick:()=>me(Q.id,!Q.assistant_toggle),children:Q.assistant_toggle?n.jsxs(n.Fragment,{children:[n.jsx(Mv,{className:"h-4 w-4 mr-1"}),"Disable"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dv,{className:"h-4 w-4 mr-1"}),"Enable"]})}),n.jsxs(Nn,{size:"sm",onClick:()=>{oj(Q.system_prompt||"","System prompt copied!")},children:[n.jsx(zU,{className:"h-4 w-4 mr-1"}),"Copy Prompt"]})]})})]},Q.id))})]})})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Hs,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Attach Assistant to Number"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Purchased Number"}),n.jsxs("select",{value:y,onChange:Q=>j(Q.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Select number"}),f.map(Q=>n.jsx("option",{value:Q.phone_number,children:Q.phone_number},Q.phone_number))]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsxs("select",{value:w,onChange:Q=>S(Q.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"No attachment (clear)"}),t.map(Q=>n.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Incoming SMS to this number will use the attached assistant."}),n.jsx(Nn,{size:"sm",onClick:Ze,disabled:g||r,children:"Save"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Numbers"}),g?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):f.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No numbers found."}):n.jsx("ul",{className:"space-y-1",children:f.map(Q=>{const fe=t.find(He=>He.id===Q.attached_assistant);return n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsx("div",{className:"font-mono",children:Q.phone_number}),n.jsx("div",{className:"flex items-center gap-2",children:fe?n.jsx(Gr,{tone:"blue",children:fe.name}):n.jsx(Gr,{children:"No assistant"})})]},Q.phone_number)})})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(Jn,{kind:"scheduled",state:st,sseState:Be,onPatch:le,busy:ke.scheduled}),n.jsx(Jn,{kind:"unscheduled",state:Oe,sseState:at,onPatch:le,busy:ke.unscheduled})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vP,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Scheduled Appointments (one-off)"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:C.assistant_id,onChange:Q=>O(fe=>({...fe,assistant_id:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Vn.map(Q=>n.jsx("option",{value:Q.id??"",children:Q.name},Q.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:C.from_number,onChange:Q=>O(fe=>({...fe,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:rn.map(Q=>n.jsx("option",{value:Q.phone_number??"",children:Q.label},Q.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(bn,{type:"number",placeholder:"e.g. 50",value:C.limit,onChange:Q=>O(fe=>({...fe,limit:Q}))})]})]}),n.jsx(Ot,{params:C,setParams:O,mode:"scheduled"}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Sends all scheduled appointments, skipping numbers messaged successfully within the last"," ",n.jsx("b",{children:C.repeat_backoff_hours})," hours."]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Nn,{variant:"subtle",onClick:()=>X(C.include_unowned,C.repeat_backoff_hours),disabled:Ke,title:"See why nothing matches",children:[n.jsx(Av,{className:"h-4 w-4 mr-1"}),"Debug"]}),n.jsxs(Nn,{variant:"primary",onClick:()=>lt("scheduled"),disabled:k,children:[k?n.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(_j,{className:"h-4 w-4 mr-2"}),"Start"]})]})]}),Ee&&n.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(Av,{className:"h-4 w-4"}),"Scheduled Selection (debug)"]}),we?n.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Eligible:"})," ",(Mr=we==null?void 0:we.info)==null?void 0:Mr.eligible," /"," ",(Qs=we==null?void 0:we.info)==null?void 0:Qs.total]}),n.jsxs("div",{children:[n.jsx("b",{children:"Include unowned:"})," ",String((La=we==null?void 0:we.info)==null?void 0:La.include_unowned)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Repeat backoff hours:"})," ",String((ir=we==null?void 0:we.info)==null?void 0:ir.repeat_backoff_hours)]}),n.jsxs("div",{className:"text-slate-500",children:[n.jsx("b",{children:"Rule:"})," ",((rs=we==null?void 0:we.info)==null?void 0:rs.rule)||"-"]}),Array.isArray(we==null?void 0:we.samples)&&we.samples.length>0?n.jsx("div",{className:"mt-2 max-h-44 overflow-auto code-scroll",children:n.jsxs("table",{className:"w-full text-[11px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-500",children:[n.jsx("th",{className:"text-left pr-2",children:"Appt"}),n.jsx("th",{className:"text-left pr-2",children:"Phone"}),n.jsx("th",{className:"text-left pr-2",children:"TZ"}),n.jsx("th",{className:"text-left pr-2",children:"Start"}),n.jsx("th",{className:"text-left pr-2",children:"Now"}),n.jsx("th",{className:"text-left pr-2",children:"Backoff OK"}),n.jsx("th",{className:"text-left",children:"Eligible"})]})}),n.jsx("tbody",{children:we.samples.map(Q=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"pr-2",children:Q.id}),n.jsx("td",{className:"pr-2",children:Q.phone}),n.jsx("td",{className:"pr-2",children:Q.tz||"-"}),n.jsx("td",{className:"pr-2",children:rd(Q.start_at)}),n.jsx("td",{className:"pr-2",children:rd(Q.now)}),n.jsx("td",{className:"pr-2",children:String(Q.backoff_ok)}),n.jsx("td",{children:String(Q.eligible)})]},Q.id))})]})}):null]}):n.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"No data yet."})]})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(YF,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Unscheduled Appointments (one-off)"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:T.assistant_id,onChange:Q=>E(fe=>({...fe,assistant_id:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Vn.map(Q=>n.jsx("option",{value:Q.id??"",children:Q.name},Q.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:T.from_number,onChange:Q=>E(fe=>({...fe,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:rn.map(Q=>n.jsx("option",{value:Q.phone_number??"",children:Q.label},Q.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(bn,{type:"number",placeholder:"e.g. 50",value:T.limit,onChange:Q=>E(fe=>({...fe,limit:Q}))})]})]}),n.jsx(Ot,{params:T,setParams:E,mode:"unscheduled"}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional backoff protects against re-texting the same phone too soon."}),n.jsxs(Nn,{variant:"primary",onClick:()=>lt("unscheduled"),disabled:k,children:[k?n.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(_j,{className:"h-4 w-4 mr-2"}),"Start"]})]})]})]}),I?n.jsx("div",{className:"mt-4",children:n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Kk,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Live Progress"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Gr,{tone:"blue",children:["Job #",String(I).slice(0,8)]}),V?n.jsx(Nn,{size:"sm",onClick:()=>oj(V,"SSE token copied"),children:"Copy SSE Token"}):null]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx(Ehe,{total:(U==null?void 0:U.total)||0,sent:(U==null?void 0:U.sent)||0,failed:(U==null?void 0:U.failed)||0}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Status: ",n.jsx("b",{children:(U==null?void 0:U.status)||"connecting"}),"  From:"," ",n.jsx("span",{className:"font-mono",children:(U==null?void 0:U.from_number)||"-"})]})]})]})}):null,n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(ds,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ip,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send Single SMS"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(bn,{placeholder:"To number (+1)",value:F.to_number,onChange:Q=>ie(fe=>({...fe,to_number:Q}))}),n.jsxs("select",{value:F.from_number,onChange:Q=>ie(fe=>({...fe,from_number:Q.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Auto-pick"}),f.map(Q=>n.jsx("option",{value:Q.phone_number,children:Q.phone_number},Q.phone_number))]}),n.jsx("div",{className:"flex items-center",children:n.jsxs(Nn,{variant:"primary",onClick:yt,disabled:Se,className:"w-full",children:[Se?n.jsx(Dn,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(ip,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(pO,{value:F.body,onChange:Q=>{Q.length>1e3||ie(fe=>({...fe,body:Q}))},placeholder:"Write your message here",rows:4})}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(Sr,{className:"h-3.5 w-3.5"}),"Keep it concise. Your backend truncates to 1000 chars.",n.jsxs("span",{className:"ml-auto",children:[F.body.length,"/1000"]})]})]})]}),n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vp,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Recent Jobs"})]}),n.jsx("div",{className:"mt-3",children:ye?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):qe.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No jobs yet."}):n.jsx("ul",{className:"space-y-2",children:qe.slice(0,6).map(Q=>n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-mono",children:["#",String(Q.id).slice(0,8)]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:rd(Q.created_at)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{tone:Q.status==="completed"?"emerald":"blue",children:Q.status}),n.jsx(Nn,{size:"sm",onClick:()=>{M(Q.id),Y(""),R.info("Streaming progress")},children:"View"})]})]},Q.id))})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(ds,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_F,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Threads"})]}),n.jsxs(Nn,{size:"sm",onClick:Ie,disabled:W,children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(bn,{placeholder:"Search by number",value:ae.peer_number,onChange:Q=>_e(fe=>({...fe,peer_number:Q}))})}),n.jsx("div",{className:"mt-3 max-h-[360px] overflow-auto",children:W?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):P.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No threads yet."}):n.jsx("ul",{className:"space-y-1",children:P.filter(Q=>{var fe;return!ae.peer_number||((fe=Q.peer_number)==null?void 0:fe.includes(ae.peer_number))}).map(Q=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>z(Q.peer_number),className:`w-full text-left rounded-lg border px-2 py-1.5 text-xs transition-colors ${A===Q.peer_number?"bg-blue-50 border-blue-200 text-blue-800":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-mono",children:Q.peer_number}),n.jsx(Gr,{tone:Q.last_direction==="inbound"?"amber":"slate",children:Q.last_direction})]}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:Q.last_body}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[rd(Q.last_message_at),"  ",Q.count," msgs"]})]})},Q.peer_number))})})]}),n.jsxs(ds,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Cj,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Messages"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(Nn,{size:"sm",onClick:()=>{Pe(0),We()},disabled:$,children:[n.jsx(Ye,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-6 gap-2",children:[n.jsx(bn,{placeholder:"To like",value:ae.to_like,onChange:Q=>_e(fe=>({...fe,to_like:Q}))}),n.jsx(bn,{placeholder:"From like",value:ae.from_like,onChange:Q=>_e(fe=>({...fe,from_like:Q}))}),n.jsx(bn,{type:"datetime-local",value:ae.start,onChange:Q=>_e(fe=>({...fe,start:Q}))}),n.jsx(bn,{type:"datetime-local",value:ae.end,onChange:Q=>_e(fe=>({...fe,end:Q}))}),n.jsxs("select",{value:ae.success,onChange:Q=>_e(fe=>({...fe,success:Q.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Success: All"}),n.jsx("option",{value:"true",children:"Success"}),n.jsx("option",{value:"false",children:"Failed"})]}),n.jsxs("select",{value:ae.assistant_id,onChange:Q=>_e(fe=>({...fe,assistant_id:Q.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Assistant: All"}),t.map(Q=>n.jsx("option",{value:Q.id,children:Q.name},Q.id))]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Showing ",ue.length," of ",Z]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Nn,{size:"sm",onClick:()=>Pe(Q=>Math.max(0,Q-1)),disabled:!Mt||$,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(Nn,{size:"sm",onClick:()=>Pe(Q=>xt?Q+1:Q),disabled:!xt||$,children:["Next",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]}),n.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto",children:$?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):ue.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No messages for current filters."}):n.jsx("ul",{className:"space-y-2",children:ue.map(Q=>n.jsxs("li",{className:`rounded-lg border px-3 py-2 text-xs ${Q.direction==="inbound"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gr,{tone:Q.direction==="inbound"?"amber":"slate",children:Q.direction}),Q.success?n.jsx(Gr,{tone:"emerald",children:"ok"}):n.jsx(Gr,{tone:"red",children:Q.error||"fail"})]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:rd(Q.created_at)})]}),n.jsxs("div",{className:"mt-1 font-mono text-[11px] text-slate-600",children:[Q.from_number,"  ",Q.to_number]}),n.jsx("div",{className:"mt-1 text-slate-800",children:Q.body}),Q.appointment_id?n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Appointment: ",Q.appointment_id]}):null]},Q.id))})})]})]}),n.jsxs("div",{className:"mt-5 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(nU,{className:"h-3.5 w-3.5"}),"Delivery status updates via"," ",n.jsx("code",{className:"font-mono",children:"/api/text/sms-status"}),". Ensure your server is publicly reachable for Twilio callbacks."]})]})]})}const gi="https://app.thedbt.ai",Cl={CONFIG:`${gi}/api/config`,PRICING:`${gi}/api/pricing`,WALLET:`${gi}/api/wallet`,WALLET_TX:`${gi}/api/wallet/transactions`,CAN_CALL:e=>`${gi}/api/wallet/can-call?seconds=${e}`,CHECKOUT:`${gi}/api/topup/checkout`,PORTAL:`${gi}/api/portal`,TEST_CREDIT:`${gi}/api/test/credit`,TEST_DEBIT:`${gi}/api/test/debit`},Mhe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Al({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function V0({icon:e,label:t,value:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(e,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:t}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function wo({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Vd(e=""){return(e||"").replace(/\D/g,"")}function Dhe(e){const t=Vd(e);if(!t)return"UNKNOWN";if(t.startsWith("4"))return"VISA";Number(t.slice(0,6));const a=Number(t.slice(0,2)),r=Number(t.slice(0,4));return a>=51&&a<=55||r>=2221&&r<=2720?"MASTERCARD":t.startsWith("34")||t.startsWith("37")?"AMEX":t.startsWith("6011")||t.startsWith("65")||Rhe(t,"644","649")?"DISCOVER":"UNKNOWN"}function Rhe(e,t,a){const r=Number((e||"").slice(0,3));return r>=Number(t)&&r<=Number(a)}function xL(e,t){const a=Vd(e).slice(0,t==="AMEX"?15:16);return t==="AMEX"?a.replace(/(\d{4})(\d{0,6})(\d{0,5})/,(r,s,l,c)=>[s,l,c].filter(Boolean).join(" ")).trim():a.replace(/(.{4})/g,"$1 ").trim()}function $he(e){const t=Vd(e).slice(0,4);return t.length<=2?t:t.slice(0,2)+"/"+t.slice(2)}function Lhe(e,t){const a=t==="AMEX"?15:16,r=Vd(e).padEnd(a,"");return t==="AMEX"?r.replace(/(\d{4})(\d{6})(\d{5})/,(l,c,u,m)=>[c,u,m].join(" ")):r.replace(/(.{4})/g,"$1 ").trim()}function Ww(e){return e==="AMEX"?4:3}function Xw({brand:e="UNKNOWN",className:t=""}){return e==="VISA"?n.jsx("div",{className:`flex items-center gap-1 ${t}`,"aria-label":"VISA",children:n.jsx("span",{className:"text-[10px] font-black tracking-widest",children:"VISA"})}):e==="MASTERCARD"?n.jsxs("div",{className:`relative h-5 w-8 ${t}`,"aria-label":"Mastercard",children:[n.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-amber-500 mix-blend-multiply"}),n.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-red-600 mix-blend-multiply"})]}):e==="AMEX"?n.jsxs("div",{className:`px-1.5 py-0.5 text-[9px] font-black rounded bg-cyan-500 text-white ${t}`,"aria-label":"American Express",children:["AMERICAN",n.jsx("br",{}),"EXPRESS"]}):e==="DISCOVER"?n.jsxs("div",{className:`flex items-center gap-1 ${t}`,"aria-label":"Discover",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),n.jsx("span",{className:"text-[10px] font-black",children:"DISCOVER"})]}):n.jsx("div",{className:`text-[10px] font-bold opacity-70 ${t}`,"aria-label":"Card",children:"CARD"})}function gO(){return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-cyan-400 to-blue-500 blur opacity-25"}),n.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-70",style:{background:"radial-gradient(80% 120% at 0% 0%, rgba(14,165,233,0.35), transparent), radial-gradient(100% 120% at 100% 100%, rgba(37,99,235,0.35), #0f172a)"}}),n.jsxs("svg",{className:"absolute inset-0 rounded-3xl opacity-15",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:[n.jsx("defs",{children:n.jsx("pattern",{id:"dots",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:n.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"white"})})}),n.jsx("rect",{width:"100%",height:"100%",fill:"url(#dots)"})]}),n.jsx("div",{className:"absolute -left-1/2 top-0 h-full w-[60%] rotate-12 rounded-3xl opacity-15",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.6) 40%, transparent 100%)",filter:"blur(8px)"}})]})}function Ihe({name:e,number:t,expiry:a,cvc:r,brand:s,showBack:l=!1,onToggleSide:c}){const u=x.useRef(null),[m,f]=x.useState({x:0,y:0});function h(k){const _=u.current;if(!_)return;const C=_.getBoundingClientRect(),O=(k.clientX-C.left)/C.width,T=(k.clientY-C.top)/C.height,E=(O-.5)*16,I=(.5-T)*10;f({x:I,y:E})}function g(){f({x:0,y:0})}const b=xL(t,s),y=Lhe(b,s),j=e||"JANE DOE",w=a||"MM/YY",S=(r||"").padEnd(Ww(s),"");return n.jsx("div",{className:"w-full max-w-sm mx-auto select-none",children:n.jsxs("div",{ref:u,onMouseMove:h,onMouseLeave:g,className:"relative [perspective:1200px]",children:[n.jsxs(pe.div,{className:"relative h-56 sm:h-64 rounded-3xl shadow-2xl cursor-pointer",style:{transformStyle:"preserve-3d"},animate:{rotateY:l?180:0,rotateX:m.x,rotateZ:0,translateZ:0},transition:{type:"spring",stiffness:140,damping:18},onClick:c,"aria-label":"Credit card",children:[n.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{backfaceVisibility:"hidden"},children:[n.jsx(gO,{}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-[10px] uppercase tracking-widest opacity-85",children:"Debit"}),n.jsx(Xw,{brand:s})]}),n.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[n.jsxs("svg",{className:"h-8 w-10 text-white/80",viewBox:"0 0 48 36",fill:"none",children:[n.jsx("rect",{x:"1",y:"1",width:"46",height:"34",rx:"6",className:"fill-white/30"}),n.jsx("path",{d:"M8 18h32M16 1v10M32 1v10M16 35V25M32 35V25",stroke:"white",strokeOpacity:".6"})]}),n.jsx(yV,{className:"h-5 w-5 opacity-70"})]}),n.jsx(pe.div,{initial:{opacity:.6},animate:{opacity:1},className:"mt-4 text-lg sm:text-xl font-mono tracking-widest",children:y},y),n.jsxs("div",{className:"mt-auto grid grid-cols-2 text-xs",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"opacity-75 uppercase",children:"Card Holder"}),n.jsx("div",{className:"font-semibold tracking-wide truncate",children:j})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"opacity-75 uppercase",children:"Expires"}),n.jsx("div",{className:"font-semibold tracking-wide",children:w})]})]})]})]}),n.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:[n.jsx(gO,{}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[n.jsx("div",{className:"h-10 w-full rounded-md bg-black/70 mt-1"}),n.jsxs("div",{className:"mt-6",children:[n.jsx("div",{className:"text-[11px] uppercase opacity-80",children:"Authorized Signature"}),n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsx("div",{className:"h-8 flex-1 bg-white/90 rounded-md"}),n.jsx("div",{className:"h-8 w-16 bg-white/90 rounded-md text-slate-900 grid place-content-center font-mono text-sm",children:S})]})]}),n.jsxs("div",{className:"mt-auto flex items-center justify-between text-[11px] opacity-80",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ri,{className:"h-3.5 w-3.5"}),n.jsx("span",{children:"Securely processed by Stripe"})]}),n.jsx(Xw,{brand:s})]})]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-600",children:[n.jsxs("div",{className:"inline-flex items-center gap-1",children:[n.jsx(pV,{className:"h-3.5 w-3.5"}),"Click card or focus CVV to flip"]}),n.jsxs("div",{className:"inline-flex items-center gap-1",children:[n.jsx(uH,{className:"h-3.5 w-3.5"}),"Visual demo only"]})]})]})})}function Bhe(){var z;const[e,t]=x.useState({publishable_key:"",mode:"test"}),[a,r]=x.useState({balance_cents:0,bonus_cents:0,currency:"USD",per_minute_cents:10}),[s,l]=x.useState([]),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(185),[b,y]=x.useState(null),[j,w]=x.useState(25),[S,k]=x.useState("Jane Doe"),[_,C]=x.useState("4242424242424242"),[O,T]=x.useState("12/34"),[E,I]=x.useState(""),[M,V]=x.useState(!1),Y=x.useMemo(()=>Dhe(_),[_]),U=x.useMemo(()=>localStorage.getItem("token"),[]),F=async()=>{if(!U){R.error("No auth token found");return}try{u(!0);const[$,G,ue]=await Promise.all([fetch(Cl.CONFIG),fetch(Cl.WALLET,{headers:{Authorization:`Bearer ${U}`}}),fetch(Cl.WALLET_TX+"?limit=10",{headers:{Authorization:`Bearer ${U}`}})]),ee=await $.json(),Z=await G.json(),Ae=await ue.json();t(ee||{}),r(Z||a),l(Array.isArray(Ae)?Ae:[]),await ie(h)}catch($){R.error(($==null?void 0:$.message)||"Failed to load pricing/wallet")}finally{u(!1)}};x.useEffect(()=>{F()},[]);const ie=async $=>{if(U)try{const ue=await(await fetch(Cl.CAN_CALL(Math.max(1,Number($)||1)),{headers:{Authorization:`Bearer ${U}`}})).json();y(ue)}catch{y(null)}},Se=async $=>{if(!U)return R.error("No auth token");try{f(!0);const G=await fetch(Cl.CHECKOUT,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({amount_usd:$})}),ue=await G.json();if(!G.ok)throw new Error((ue==null?void 0:ue.detail)||(ue==null?void 0:ue.message)||`HTTP ${G.status}`);if(ue!=null&&ue.url)window.location.assign(ue.url);else if(ue!=null&&ue.id)window.open(`https://checkout.stripe.com/c/pay/${ue.id}`,"_self");else throw new Error("Invalid checkout response")}catch(G){R.error((G==null?void 0:G.message)||"Failed to create checkout")}finally{f(!1)}},oe=async()=>{if(!U)return R.error("No auth token");try{const $=await fetch(Cl.PORTAL,{method:"POST",headers:{Authorization:`Bearer ${U}`,Accept:"application/json"}}),G=await $.json();if(!$.ok)throw new Error((G==null?void 0:G.detail)||(G==null?void 0:G.message)||`HTTP ${$.status}`);G!=null&&G.url&&window.open(G.url,"_blank")}catch($){String(($==null?void 0:$.message)||"").includes("not been created")?R.info("Stripe  Test  Settings  Billing  Portal  Save."):R.error(($==null?void 0:$.message)||"Portal error")}},P=async $=>{if(U)try{const G=await fetch(Cl.TEST_CREDIT,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({amount_cents:$})}),ue=await G.json();if(!G.ok)throw new Error((ue==null?void 0:ue.detail)||`HTTP ${G.status}`);R.success(`Credited $${($/100).toFixed(2)}`),await F()}catch(G){R.error((G==null?void 0:G.message)||"Test credit failed")}},K=async $=>{if(U)try{const G=await fetch(Cl.TEST_DEBIT,{method:"POST",headers:{Authorization:`Bearer ${U}`,"Content-Type":"application/json"},body:JSON.stringify({duration_seconds:$})}),ue=await G.json();if(!G.ok)throw new Error((ue==null?void 0:ue.detail)||`HTTP ${G.status}`);R.success(`Debited ${((ue==null?void 0:ue.debited_cents)??0)/100}$`),await F()}catch(G){String((G==null?void 0:G.message)||"").includes("Insufficient balance")?R.warn("Balance kam hai  top up first"):R.error((G==null?void 0:G.message)||"Test debit failed")}},W=$=>{const G=Vd($),ue=Y==="AMEX"?15:16;C(G.slice(0,ue))},B=$=>T($he($)),A=$=>I(Vd($).slice(0,Ww(Y)));return n.jsx("div",{className:"min-h-screen bg-slate-50",children:n.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Rv,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Mhe}`,children:"Pricing & Wallet"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Top up balance and manage your payment methods. Calls are billed per started minute."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Al,{onClick:F,disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsxs(Al,{onClick:oe,variant:"outline",children:[n.jsx(Jo,{className:"mr-2 h-4 w-4"})," Manage Cards"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(V0,{icon:Rv,label:"Balance",value:`$${((a.balance_cents||0)/100).toFixed(2)}`,tone:"blue"}),n.jsx(V0,{icon:JU,label:"Bonus",value:`$${((a.bonus_cents||0)/100).toFixed(2)}`,tone:"cyan"}),n.jsx(V0,{icon:Yk,label:"Rate",value:`$${(a.per_minute_cents/100).toFixed(2)}/min`,tone:"blue"}),n.jsx(V0,{icon:Ul,label:"Mode",value:((z=e.mode)==null?void 0:z.toUpperCase())||"TEST",tone:"cyan"})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 xl:grid-cols-3 gap-5",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-5",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(wP,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Top up your wallet"})]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[n.jsx(Ri,{className:"h-3.5 w-3.5"}),"Secure by Stripe"]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Ihe,{name:S,number:_,expiry:O,cvc:E,brand:Y,showBack:M,onToggleSide:()=>V($=>!$)}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,25,50].map($=>n.jsxs(Al,{onClick:()=>Se($),className:"w-full",variant:"outline",children:["$",$]},$))}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(wo,{label:"Name on card (visual)",children:n.jsx("input",{value:S,onChange:$=>k($.target.value.slice(0,24)),placeholder:"e.g. Jane Doe",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(wo,{label:"Brand (auto-detected)",children:n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:Y}),n.jsx(Xw,{brand:Y})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(wo,{label:"Card number (visual)",children:n.jsx("input",{value:xL(_,Y),onChange:$=>W($.target.value),placeholder:Y==="AMEX"?"3782 822463 10005":"4242 4242 4242 4242",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(wo,{label:"Expiry (visual)",children:n.jsx("input",{value:O,onChange:$=>B($.target.value),placeholder:"MM/YY",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(wo,{label:"CVV (visual)",children:n.jsx("input",{value:E,onChange:$=>A($.target.value),onFocus:()=>V(!0),onBlur:()=>V(!1),placeholder:Ww(Y)===4?"4 digits":"3 digits",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(wo,{label:"Custom amount (USD)",children:n.jsx("input",{type:"number",min:1,value:j,onChange:$=>w(Math.max(1,Number($.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx("div",{className:"sm:col-span-2 flex items-end",children:n.jsx(Al,{onClick:()=>Se(j),variant:"primary",className:"w-full",disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 mr-2 animate-spin"}),"Opening secure checkout"]}):n.jsxs(n.Fragment,{children:["Continue to secure checkout ",n.jsx(Sf,{className:"h-4 w-4 ml-2"})]})})})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Test card: ",n.jsx("code",{className:"px-1.5 py-0.5 rounded bg-slate-100 border border-slate-200",children:"4242 4242 4242 4242"}),"  any future date  any CVC  any ZIP"]})]})]})]}),n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:n.jsx(Yk,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Can I place this call?"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(wo,{label:"Planned duration (seconds)",children:n.jsx("input",{type:"number",min:1,value:h,onChange:async $=>{const G=Math.max(1,Number($.target.value||1));g(G),await ie(G)},className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsxs("div",{className:"sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((b==null?void 0:b.needed_cents)||0)/100).toFixed(2)]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((a.balance_cents||0)+(a.bonus_cents||0))/100).toFixed(2)]})]})]})]}),n.jsx("div",{className:"mt-4 flex items-center gap-2",children:b!=null&&b.ok?n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[n.jsx(vn,{className:"h-4 w-4"})," Youre good to go"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[n.jsx(_r,{className:"h-4 w-4"})," Balance kam hai (insufficient). Shortfall $",(((b==null?void 0:b.shortfall_cents)||0)/100).toFixed(2)]})})]})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-slate-900 text-white shrink-0",children:n.jsx(Rv,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Recent activity"})]}),n.jsx("div",{className:"mt-3 divide-y divide-slate-100",children:s.length===0?n.jsx("div",{className:"text-sm text-slate-500 py-6",children:"No transactions yet."}):s.map($=>n.jsxs("div",{className:"py-3 flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:$.kind||$.description||"Transaction"}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:$.description||$.currency})]}),n.jsxs("div",{className:`shrink-0 text-sm font-bold ${$.amount_cents>=0?"text-emerald-600":"text-red-600"}`,children:[$.amount_cents>=0?"+":"","$",Math.abs($.amount_cents/100).toFixed(2)]})]},$.id||`${$.created_at}-${$.amount_cents}`))}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Billing handled by Stripe. Need help?"," ",n.jsxs("a",{className:"underline",href:"https://stripe.com/docs/testing",target:"_blank",rel:"noreferrer",children:["Testing docs ",n.jsx(jp,{className:"inline h-3 w-3"})]})]})]}),e.mode==="test"&&n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-emerald-600 text-white shrink-0",children:n.jsx(Ul,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Developer shortcuts (TEST)"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[n.jsx(Al,{onClick:()=>P(500),variant:"subtle",children:"Seed $5"}),n.jsx(Al,{onClick:()=>P(1e3),variant:"subtle",children:"Seed $10"}),n.jsx(Al,{onClick:()=>K(185),variant:"outline",children:"Debit 185s"}),n.jsx(Al,{onClick:()=>K(61),variant:"outline",children:"Debit 61s"})]})]})]})]})]})})}const xa="https://app.thedbt.ai",ga={PROVIDERS:`${xa}/api/calendar/providers`,ACCOUNTS:`${xa}/api/calendar/accounts`,DISCONNECT:e=>`${xa}/api/calendar/accounts/${e}`,CONNECT_GOOGLE:`${xa}/api/calendar/connect/google`,GOOGLE_CALENDARS:e=>`${xa}/api/calendar/google/calendars${e?`?account_id=${encodeURIComponent(e)}`:""}`,GOOGLE_IMPORT:`${xa}/api/calendar/google/import`,CALCOM_CONNECT_TOKEN:`${xa}/api/calendar/connect/calcom/token`,CALCOM_WEBHOOK_REGISTER:`${xa}/api/calendar/calcom/webhook/register`,CALENDLY_CONNECT_TOKEN:`${xa}/api/calendar/connect/calendly/token`,CALENDLY_WEBHOOK_REGISTER:`${xa}/api/calendar/calendly/webhook/register`,EVENTS:`${xa}/api/calendar/events`,EVENT_DETAIL:e=>`${xa}/api/calendar/events/${e}`,CREATE_EVENT:`${xa}/api/calendar/events`,UPDATE_EVENT:e=>`${xa}/api/calendar/events/${e}`,DELETE_EVENT:e=>`${xa}/api/calendar/events/${e}`,SYNC:`${xa}/api/calendar/sync`,FREEBUSY:`${xa}/api/calendar/freebusy`},zhe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Aa(){const e=localStorage.getItem("token");return e?{Authorization:`Bearer ${e}`,Accept:"application/json","Content-Type":"application/json"}:{Accept:"application/json","Content-Type":"application/json"}}function gr(){return localStorage.getItem("token")?!0:(R.error("No authentication token found. Please sign in."),!1)}function sd(e,t){if(!e||!t)return null;const a=new Date(`${e}T${t}:00`);return isNaN(a.valueOf())?null:a.toISOString()}function Uhe(e){try{return new Date(e).toLocaleDateString()}catch{return e}}function bi(e){try{return new Date(e).toLocaleString()}catch{return e}}function Fhe({start:e,end:t,busyBlocks:a,minutes:r=30}){const s=r*60*1e3,l=new Date(e),c=new Date(t),u=[...a].sort((f,h)=>new Date(f.start)-new Date(h.start)),m=[{start:l,end:l},...u.map(f=>({start:new Date(f.start),end:new Date(f.end)})),{start:c,end:c}];for(let f=0;f<m.length-1;f++){const h=new Date(Math.max(m[f].end.getTime(),l.getTime()));if(new Date(Math.min(m[f+1].start.getTime(),c.getTime()))-h>=s)return{start:h.toISOString(),end:new Date(h.getTime()+s).toISOString()}}return null}function Vhe(e){return new Date(e.getFullYear(),e.getMonth(),1)}function Hhe(e){return new Date(e.getFullYear(),e.getMonth()+1,0,23,59,59,999)}const qhe=1;function gL(e){const a=(e.getDay()-qhe+7)%7;return new Date(e.getFullYear(),e.getMonth(),e.getDate()-a)}function Khe(e){const t=gL(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate()+6,23,59,59,999)}function bO(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)}function Ghe(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}function Ro(e){return e.toISOString().slice(0,10)}function Zw(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())}function Qw(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)}const vO=["Asia/Karachi","UTC","Asia/Dubai","Asia/Kolkata","Europe/London","Europe/Paris","America/New_York","America/Los_Angeles"];function zs({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function yO(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Pt({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function H0({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function q0({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ft({label:e,children:t,hint:a}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t,a&&n.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:a})]})}function vm({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-2xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:12,scale:.99,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:8,scale:.99,opacity:0},transition:{duration:.25},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Pt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function jO({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{duration:.25},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Pt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function Yhe(){var He;const[e,t]=x.useState(!1),[a,r]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(""),m=x.useMemo(()=>s.find(q=>q.id===c),[s,c]),[f,h]=x.useState("google"),[g,b]=x.useState([]),[y,j]=x.useState(!1),[w,S]=x.useState(""),[k,_]=x.useState(()=>new Date),[C,O]=x.useState({}),[T,E]=x.useState(!0),[I,M]=x.useState(null),[V,Y]=x.useState(!1),[U,F]=x.useState([]),[ie,Se]=x.useState(!1),[oe,P]=x.useState(!1),[K,W]=x.useState(!1),[B,A]=x.useState(null),[z,$]=x.useState(!1),[G,ue]=x.useState(!1),[ee,Z]=x.useState(null),[Ae,ae]=x.useState(!1),[_e,Me]=x.useState(!1),[Pe,ge]=x.useState(null),[qe,Ve]=x.useState(!1),[ye,ce]=x.useState(null),[Ee,te]=x.useState(null),[we,$e]=x.useState(""),[Ke,Ge]=x.useState(!1),[st,nt]=x.useState(!1),[Oe,ne]=x.useState("organization"),[ke,xe]=x.useState(["invitee.created","invitee.canceled"]),[Be,at]=x.useState(""),dt=x.useCallback(async()=>{try{const q=await fetch(ga.PROVIDERS,{headers:Aa()});if(!q.ok)throw new Error(`HTTP ${q.status}`);const L=await q.json();r((L==null?void 0:L.providers)||[])}catch(q){R.error((q==null?void 0:q.message)||"Failed to load providers")}},[]),Je=x.useCallback(async()=>{if(gr())try{t(!0);const q=await fetch(ga.ACCOUNTS,{headers:Aa()});if(!q.ok)throw new Error(`HTTP ${q.status}`);const L=await q.json();l(Array.isArray(L)?L:[]);const J=(Array.isArray(L)?L:[]).find(Ne=>Ne.provider==="google");J?(u(Ne=>Ne||J.id),h("google")):L!=null&&L[0]&&(u(Ne=>Ne||L[0].id),h(L[0].provider))}catch(q){R.error((q==null?void 0:q.message)||"Failed to load accounts")}finally{t(!1)}},[]);x.useEffect(()=>{dt(),Je()},[dt,Je]);const $t=async()=>{try{const q=await fetch(ga.CONNECT_GOOGLE,{headers:Aa()});if(!q.ok){const Ne=await q.text();throw new Error(Ne||`HTTP ${q.status}`)}const L=await q.json(),J=L==null?void 0:L.auth_url;if(!J)throw new Error("No auth_url returned");window.location.assign(J)}catch(q){R.error((q==null?void 0:q.message)||"Failed to initiate Google connect")}},Tt=q=>{$e(""),te({provider:q})},Ie=async()=>{if(gr())try{const q=(Ee==null?void 0:Ee.provider)==="calcom"?ga.CALCOM_CONNECT_TOKEN:ga.CALENDLY_CONNECT_TOKEN,L=await fetch(q,{method:"POST",headers:Aa(),body:JSON.stringify({api_key:we})}),J=await L.json();if(!L.ok||!(J!=null&&J.ok))throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);R.success(`${Ee.provider==="calcom"?"Cal.com":"Calendly"} connected`),te(null),$e(""),Je()}catch(q){R.error((q==null?void 0:q.message)||"Token connect failed")}},We=async q=>{if(gr())try{const L=await fetch(ga.DISCONNECT(q),{method:"DELETE",headers:Aa()}),J=await L.json().catch(()=>({}));if(!L.ok)throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);R.success("Disconnected"),await Je(),b([]),c===q&&(u(""),F([]))}catch(L){R.error((L==null?void 0:L.message)||"Failed to disconnect")}},pt=async()=>{if(!c)return R.error("Select an account first");const q=s.find(L=>L.id===c);if(!q||q.provider!=="google")return R.info("Calendars are only for Google accounts");try{j(!0);const L=await fetch(ga.GOOGLE_CALENDARS(c),{headers:Aa()}),J=await L.json();if(!L.ok)throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);const Ne=Array.isArray(J==null?void 0:J.items)?J.items:[];b(Ne),S(Re=>{var Fe,Xe;return Re||((Fe=Ne.find(wt=>wt.primary))==null?void 0:Fe.id)||((Xe=Ne[0])==null?void 0:Xe.id)||""}),R.success(`Loaded ${Ne.length} calendars`)}catch(L){R.error((L==null?void 0:L.message)||"Failed to load calendars")}finally{j(!1)}},En=x.useMemo(()=>{if(!Be.trim())return g;const q=Be.toLowerCase();return g.filter(L=>String(L.summary||"").toLowerCase().includes(q)||String(L.id||"").toLowerCase().includes(q))},[g,Be]),[le,X]=x.useState({account_id:"",provider:"google",title:"",date:"",startTime:"",endTime:"",timezone:"Asia/Karachi",phone:"",location:"",notes:"",calendar_id:"",event_type:"",attendee_name:"",attendee_email:""}),se=()=>{if(!s.length)return R.error("Connect an account first");const q=m||s[0],L=(q==null?void 0:q.provider)||"google";X(J=>({...J,account_id:(q==null?void 0:q.id)||"",provider:L,calendar_id:L==="google"?w||J.calendar_id:"",title:J.title||(L==="calcom"?"Cal.com Booking":"Meeting")})),L==="google"&&g.length===0&&pt(),P(!0)},me=async()=>{if(!gr())return;const q=s.find(Xe=>Xe.id===le.account_id);if(!q)return R.error("Choose an account");const L=q.provider,J=sd(le.date,le.startTime),Ne=sd(le.date,le.endTime);if(!le.title||!J||!Ne)return R.error("Title, date, start & end time are required.");const Re={title:le.title,start_at:J,end_at:Ne,timezone:le.timezone,notes:le.notes||"",account_id:le.account_id};let Fe=Re;if(L==="google"){if(!le.calendar_id)return R.error("Please choose a Google calendar.");Fe={...Re,phone:le.phone||"unknown",location:le.location||"",calendar_id:le.calendar_id}}else if(L==="calcom"){if(!le.event_type||!le.attendee_email||!le.attendee_name)return R.error("Cal.com requires: event type, attendee name & email.");Fe={...Re,phone:le.phone||"unknown",location:le.location||"",event_type:le.event_type,attendee_name:le.attendee_name,attendee_email:le.attendee_email}}else if(L==="calendly")return R.info("Calendly API creation is limited. Use Scheduling links; webhooks will sync bookings.");try{W(!0);const Xe=await fetch(ga.CREATE_EVENT,{method:"POST",headers:Aa(),body:JSON.stringify(Fe)}),wt=await Xe.json();if(!Xe.ok||!(wt!=null&&wt.ok))throw new Error((wt==null?void 0:wt.detail)||`HTTP ${Xe.status}`);R.success(` Event created on ${L==="google"?"Google Calendar":"Cal.com"}`),P(!1),X(Gt=>({...Gt,title:"",phone:"",notes:""})),await Jn(),On()}catch(Xe){R.error((Xe==null?void 0:Xe.message)||"Create failed")}finally{W(!1)}},Ze=q=>{var L,J;A({appointment_id:q.id,_date:q.start_at.slice(0,10),_start:new Date(q.start_at).toISOString().slice(11,16),_end:new Date(q.end_at).toISOString().slice(11,16),_title:q.title||"",_location:q.location||"",_notes:q.notes||"",_timezone:q.timezone||"Asia/Karachi",_phone:q.phone||"unknown",_calendar:((J=(L=q.links)==null?void 0:L[0])==null?void 0:J.external_calendar_id)||le.calendar_id||""})},lt=async()=>{if(!gr()||!(B!=null&&B.appointment_id))return;const q=B._date&&B._start?sd(B._date,B._start):void 0,L=B._date&&B._end?sd(B._date,B._end):void 0,J={title:B._title||void 0,start_at:q,end_at:L,phone:B._phone||void 0,timezone:B._timezone||void 0,location:B._location||void 0,notes:B._notes||void 0,calendar_id:B._calendar||void 0};try{$(!0);const Ne=await fetch(ga.UPDATE_EVENT(B.appointment_id),{method:"PATCH",headers:Aa(),body:JSON.stringify(J)}),Re=await Ne.json().catch(()=>({}));if(!Ne.ok||(Re==null?void 0:Re.ok)===!1)throw new Error((Re==null?void 0:Re.detail)||`HTTP ${Ne.status}`);R.success(" Event updated"),A(null),await Jn(),On()}catch(Ne){R.error((Ne==null?void 0:Ne.message)||"Update failed")}finally{$(!1)}},yt=async q=>{if(gr())try{const L=await fetch(ga.DELETE_EVENT(q),{method:"DELETE",headers:Aa()}),J=await L.json().catch(()=>({}));if(!L.ok||(J==null?void 0:J.ok)===!1)throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);R.success(" Event cancelled"),await Jn(),On()}catch(L){R.error((L==null?void 0:L.message)||"Cancel failed")}},ut=async()=>{if(gr())try{ue(!0);const q=await fetch(ga.SYNC,{method:"POST",headers:Aa(),body:JSON.stringify({account_ids:c?[c]:void 0})}),L=await q.json();if(!q.ok)throw new Error((L==null?void 0:L.detail)||`HTTP ${q.status}`);Z(L),R.success(`Synced: ${L.synced}, Created: ${L.created}, Updated: ${L.updated}`),await Jn(),On()}catch(q){R.error((q==null?void 0:q.message)||"Sync failed")}finally{ue(!1)}},Mt=async()=>{if(!gr())return;if(!c||!w)return R.error("Pick an account & calendar first");const{start:q,end:L}=Ot;try{ae(!0);const J=await fetch(ga.GOOGLE_IMPORT,{method:"POST",headers:Aa(),body:JSON.stringify({account_id:c,start_at:q.toISOString(),end_at:L.toISOString(),calendar_ids:[w]})}),Ne=await J.json();if(!J.ok||(Ne==null?void 0:Ne.ok)===!1)throw new Error((Ne==null?void 0:Ne.detail)||`HTTP ${J.status}`);R.success(`Imported from Google  Synced: ${Ne.synced}, Created: ${Ne.created}, Updated: ${Ne.updated}`),await Jn(),On()}catch(J){R.error((J==null?void 0:J.message)||"Import failed")}finally{ae(!1)}},[xt,Vn]=x.useState({date:"",startTime:"09:00",endTime:"18:00",calendar_ids:[]}),rn=()=>{if(!c)return R.error("Select an account first");const q=s.find(L=>L.id===c);if(!q||q.provider!=="google")return R.info("Free/Busy is only supported for Google right now.");g.length===0&&pt(),Me(!0)},Et=async()=>{var Ne,Re;if(!gr())return;const q=sd(xt.date,xt.startTime),L=sd(xt.date,xt.endTime);if(!q||!L)return R.error("Select date, start and end time");const J=(xt.calendar_ids.length?xt.calendar_ids:[((Ne=g.find(Fe=>Fe.primary))==null?void 0:Ne.id)||((Re=g[0])==null?void 0:Re.id)]).filter(Boolean);try{Ve(!0);const Fe=await fetch(ga.FREEBUSY,{method:"POST",headers:Aa(),body:JSON.stringify({start_at:q,end_at:L,account_id:c,calendar_ids:J})}),Xe=await Fe.json();if(!Fe.ok||(Xe==null?void 0:Xe.ok)===!1)throw new Error((Xe==null?void 0:Xe.detail)||`HTTP ${Fe.status}`);ge(Xe);const wt=Xe.freebusy||{},Gt=Object.values(wt).flatMap(ea=>(ea==null?void 0:ea.busy)||[]).map(ea=>({start:ea.start,end:ea.end})),da=Fhe({start:q,end:L,busyBlocks:Gt,minutes:30});ce(da),da&&R.info(`Next free ~30 min: ${bi(da.start)}`)}catch(Fe){R.error((Fe==null?void 0:Fe.message)||"Free/Busy failed")}finally{Ve(!1)}},Ot=x.useMemo(()=>{const q=gL(Vhe(k)),L=Khe(Hhe(k));return{start:q,end:L}},[k]),On=x.useCallback(async()=>{var J,Ne;if(!gr())return;if(f!=="google"){O({});return}if(!c||!w)return;const q=Ot.start.toISOString(),L=Ot.end.toISOString();try{Y(!0);const Re=await fetch(ga.FREEBUSY,{method:"POST",headers:Aa(),body:JSON.stringify({start_at:q,end_at:L,account_id:c,calendar_ids:[w]})}),Fe=await Re.json();if(!Re.ok||(Fe==null?void 0:Fe.ok)===!1)throw new Error((Fe==null?void 0:Fe.detail)||`HTTP ${Re.status}`);const Xe=(((Ne=(J=Fe.freebusy)==null?void 0:J[w])==null?void 0:Ne.busy)||[]).map(({start:da,end:ea})=>({start:new Date(da),end:new Date(ea)})),wt={},Gt=new Date(Ot.start);for(;Gt<=Ot.end;){const da=Ro(Gt),ea=Zw(Gt),Js=Qw(Gt),Ia=Xe.filter(Cs=>!(Cs.end<ea||Cs.start>Js));wt[da]={count:Ia.length,blocks:Ia.map(Cs=>({start:Cs.start.toISOString(),end:Cs.end.toISOString()}))},Gt.setDate(Gt.getDate()+1)}O(wt)}catch(Re){console.warn(Re)}finally{Y(!1)}},[c,w,Ot,f]),Jn=x.useCallback(async()=>{if(!gr())return;const{start:q,end:L}=Ot,J=new URL(ga.EVENTS);J.searchParams.set("start_at",q.toISOString()),J.searchParams.set("end_at",L.toISOString()),J.searchParams.set("limit","500"),f&&f!=="all"&&J.searchParams.set("provider",f),c&&J.searchParams.set("account_id",c),f==="google"&&w&&J.searchParams.set("calendar_id",w);try{Se(!0);const Ne=await fetch(J.toString(),{headers:Aa()}),Re=await Ne.json();if(!Ne.ok)throw new Error((Re==null?void 0:Re.detail)||`HTTP ${Ne.status}`);const Fe=Array.isArray(Re==null?void 0:Re.items)?Re.items:[],Xe=new Set,wt=[];for(const Gt of Fe){const da=[new Date(Gt.start_at).toISOString(),new Date(Gt.end_at).toISOString(),(Gt.title||"").trim().toLowerCase(),(Gt.location||"").trim().toLowerCase()].join("|");Xe.has(da)||(Xe.add(da),wt.push(Gt))}F(wt)}catch(Ne){R.error((Ne==null?void 0:Ne.message)||"Failed to load events")}finally{Se(!1)}},[c,w,Ot,f]);x.useEffect(()=>{c&&(On(),Jn())},[c,w,k,f]),x.useEffect(()=>{if(!c)return;const q=setInterval(()=>{On(),Jn()},3e4);return()=>clearInterval(q)},[c,On,Jn]),x.useEffect(()=>{var q,L;g.length&&!w&&S(((q=g.find(J=>J.primary))==null?void 0:q.id)||((L=g[0])==null?void 0:L.id)||"")},[g,w]);const Mr={accounts:s.length,calendars:g.length,lastSynced:(ee==null?void 0:ee.synced)??0,events:U.length},Qs=async()=>{if(!gr())return;if(!s.find(L=>L.id===c&&L.provider==="calcom"))return R.info("Select a Cal.com account first.");try{const L=await fetch(ga.CALCOM_WEBHOOK_REGISTER,{method:"POST",headers:Aa(),body:JSON.stringify({account_id:c})}),J=await L.json();if(!L.ok||!(J!=null&&J.ok))throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);Ge(!0),R.success("Cal.com webhook secret generated"),ir(J)}catch(L){R.error((L==null?void 0:L.message)||"Cal.com webhook setup failed")}},[La,ir]=x.useState(null),rs=async()=>{if(!gr())return;if(!s.find(L=>L.id===c&&L.provider==="calendly"))return R.info("Select a Calendly account first.");try{const L=await fetch(ga.CALENDLY_WEBHOOK_REGISTER,{method:"POST",headers:Aa(),body:JSON.stringify({account_id:c,scope:Oe,events:ke})}),J=await L.json();if(!L.ok||!(J!=null&&J.ok))throw new Error((J==null?void 0:J.detail)||`HTTP ${L.status}`);nt(!0),fe(J),R.success("Calendly webhook registered")}catch(L){R.error((L==null?void 0:L.message)||"Calendly webhook setup failed")}},[Q,fe]=x.useState(null);return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 xl:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 lg:gap-6 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(nr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${zhe}`,children:"Calendar Manager"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect Google / Cal.com / Calendly, sync bookings, and manage events with a clean month view."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(Pt,{onClick:Je,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsxs(Pt,{onClick:$t,variant:"primary",children:[n.jsx(Sx,{className:"mr-2 h-4 w-4"})," Connect Google"]}),n.jsxs(Pt,{onClick:()=>Tt("calcom"),children:[n.jsx(Rl,{className:"mr-2 h-4 w-4"})," Connect Cal.com (Token)"]}),n.jsxs(Pt,{onClick:()=>Tt("calendly"),children:[n.jsx(Rl,{className:"mr-2 h-4 w-4"})," Connect Calendly (Token)"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[n.jsx(K0,{label:"Accounts",value:Mr.accounts,Icon:Qr,tone:"blue"}),n.jsx(K0,{label:"Calendars (Google)",value:Mr.calendars,Icon:OF,tone:"cyan"}),n.jsx(K0,{label:"Events (range)",value:Mr.events,Icon:vP,tone:"blue"}),n.jsx(K0,{label:"Synced (last)",value:Mr.lastSynced,Icon:Ye,tone:"cyan"})]}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsx("div",{className:"flex items-center gap-2 min-w-0 w-full",children:n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:Be,onChange:q=>at(q.target.value),placeholder:"Search calendars by name or ID (Google only)",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:c,onChange:q=>{const L=q.target.value;u(L);const J=s.find(Ne=>Ne.id===L);J&&h(J.provider)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Select account"}),s.map(q=>n.jsxs("option",{value:q.id,children:[q.provider.toUpperCase(),"  ",q.external_email||q.external_account_id]},q.id))]}),n.jsxs("select",{value:f,onChange:q=>h(q.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"google",children:"Google"}),n.jsx("option",{value:"calcom",children:"Cal.com"}),n.jsx("option",{value:"calendly",children:"Calendly"}),n.jsx("option",{value:"all",children:"All (DB)"})]}),n.jsx(Pt,{onClick:pt,disabled:!c||(m==null?void 0:m.provider)!=="google"||y,children:y?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Loading"]}):n.jsx(n.Fragment,{children:"Load Calendars"})}),n.jsxs(Pt,{onClick:se,variant:"primary",disabled:!s.length,children:[n.jsx(bU,{className:"mr-2 h-4 w-4"})," Create"]}),n.jsxs(Pt,{onClick:rn,disabled:!c,children:[n.jsx(Qz,{className:"mr-2 h-4 w-4"})," Free/Busy"]}),n.jsx(Pt,{onClick:ut,disabled:!c||G,children:G?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):n.jsx(n.Fragment,{children:"Sync"})}),n.jsx(Pt,{onClick:Mt,disabled:!c||(m==null?void 0:m.provider)!=="google"||!w||Ae,children:Ae?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Import"]}):n.jsxs(n.Fragment,{children:[n.jsx(GU,{className:"mr-2 h-4 w-4"})," Import Month"]})})]})]}),n.jsxs("div",{className:"mt-4 rounded-2xl border border-slate-200 overflow-hidden",children:[n.jsxs("div",{className:"bg-slate-50 px-4 sm:px-6 py-3 border-b border-slate-200 flex flex-wrap gap-2 items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(RF,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:"Connected Accounts"})]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-2 flex-wrap",children:[n.jsx(Jo,{className:"h-4 w-4 text-emerald-600"}),"Google / Cal.com / Calendly"]})]}),s.length===0?n.jsx("div",{className:"p-6 text-sm text-slate-600",children:"No accounts connected yet. Use the buttons above to connect."}):n.jsx("div",{className:"divide-y divide-slate-100",children:s.map((q,L)=>n.jsxs("div",{className:"p-4 sm:p-5 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"font-semibold text-slate-900 break-words",children:[q.provider.toUpperCase(),"  ",q.external_email||q.external_account_id]}),n.jsx("div",{className:"text-xs text-slate-500 break-words",children:q.provider==="google"?n.jsxs(n.Fragment,{children:["Primary calendar: ",n.jsx("b",{children:q.primary_calendar_id||""})]}):n.jsx(n.Fragment,{children:"Connected via token"})})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Pt,{variant:"subtle",onClick:()=>{u(q.id),h(q.provider),R.info("Selected this account")},children:"Select"}),q.provider==="calcom"&&n.jsxs(Pt,{onClick:Qs,children:[n.jsx(Qr,{className:"h-4 w-4 mr-1"})," Webhook"]}),q.provider==="calendly"&&n.jsxs(Pt,{onClick:()=>nt(!0),children:[n.jsx(Qr,{className:"h-4 w-4 mr-1"})," Webhook"]}),n.jsxs(Pt,{variant:"danger",onClick:()=>We(q.id),children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Disconnect"]})]}),L===0&&n.jsx(yO,{})]},q.id))})]})]}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(nr,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["Calendars (Google)  ",En.length]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(MF,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{children:"Pick one for the month board"})]})]}),En.length===0?n.jsxs("div",{className:"grid place-content-center py-12 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(nr,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No calendars"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Load calendars after selecting a Google account"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(H0,{children:"Name"}),n.jsx(H0,{children:"Calendar ID"}),n.jsx(H0,{children:"Access"}),n.jsx(H0,{children:"Status"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:En.map(q=>n.jsxs("tr",{className:"hover:bg-slate-50/60",children:[n.jsx(q0,{children:n.jsx("div",{className:"font-semibold text-slate-900 break-words",children:q.summary||""})}),n.jsx(q0,{children:n.jsx("div",{className:"text-xs text-slate-700 break-all",children:q.id})}),n.jsx(q0,{children:n.jsx(zs,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:q.accessRole||"reader"})}),n.jsx(q0,{children:q.primary?n.jsxs(zs,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):n.jsx(zs,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})})]},q.id))})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:En.map((q,L)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5",children:[L===0&&n.jsx(yO,{}),n.jsx("div",{className:"font-bold text-slate-900 break-words",children:q.summary||""}),n.jsx("div",{className:"mt-1 text-xs text-slate-600 break-all",children:q.id}),n.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[n.jsx(zs,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:q.accessRole||"reader"}),q.primary?n.jsxs(zs,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"})," Primary"]}):n.jsx(zs,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:"Secondary"})]})]},q.id))})})]})]}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsx(Pt,{onClick:()=>_(q=>bO(q,-1)),title:"Previous month",children:n.jsx(Da,{className:"h-4 w-4"})}),n.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 min-w-[10ch] text-center",children:k.toLocaleString(void 0,{month:"long",year:"numeric"})}),n.jsx(Pt,{onClick:()=>_(new Date),title:"Jump to today",children:"Today"}),n.jsx(Pt,{onClick:()=>_(q=>bO(q,1)),title:"Next month",children:n.jsx(yn,{className:"h-4 w-4"})})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[f==="google"&&n.jsxs("select",{value:w,onChange:q=>S(q.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Pick calendar"}),g.map(q=>n.jsxs("option",{value:q.id,children:[q.summary||q.id," ",q.primary?"(primary)":""]},q.id))]}),n.jsx(Pt,{onClick:()=>E(q=>!q),title:"Toggle compact",children:T?n.jsxs(n.Fragment,{children:[n.jsx(qF,{className:"mr-2 h-4 w-4"})," Relaxed"]}):n.jsxs(n.Fragment,{children:[n.jsx(XF,{className:"mr-2 h-4 w-4"})," Compact"]})}),n.jsx(Pt,{onClick:On,disabled:f!=="google"||!c||V,children:V?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Live"]}):n.jsx(n.Fragment,{children:"Refresh"})})]})]}),n.jsx(Whe,{date:k,compact:T,busyMap:C,events:U,eventsLoading:ie,onDayClick:q=>{if(!s.length)return;const L=Ro(q),J=m||s[0],Ne=(J==null?void 0:J.provider)||"google";X(Re=>({...Re,provider:Ne,account_id:(J==null?void 0:J.id)||"",date:L,startTime:"10:00",endTime:"10:30",calendar_id:Ne==="google"?w||Re.calendar_id:"",title:Re.title||(Ne==="calcom"?"Cal.com Booking":"Meeting")})),P(!0)},onOpenDay:q=>M(q)})]})]}),n.jsx(At,{children:Ee&&n.jsx(vm,{onClose:()=>te(null),title:`Connect ${Ee.provider==="calcom"?"Cal.com":"Calendly"} (Personal Access Token)`,children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ft,{label:"Personal Access Token",hint:Ee.provider==="calcom"?"Cal.com  Settings  API (or Developers)  Create token":"Calendly  Integrations & apps  API & Webhooks  Personal access tokens  Generate token",children:n.jsx("input",{value:we,onChange:q=>$e(q.target.value),placeholder:"paste token",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Pt,{onClick:()=>te(null),variant:"subtle",children:"Close"}),n.jsx(Pt,{onClick:Ie,variant:"primary",disabled:!we.trim(),children:"Connect"})]})]})})}),n.jsx(At,{children:Ke&&n.jsx(vm,{onClose:()=>Ge(!1),title:"Cal.com Webhook",children:n.jsxs("div",{className:"space-y-3",children:[n.jsx("div",{className:"text-sm text-slate-700",children:"Add this webhook in your Cal.com dashboard (Bookings  Webhooks) and paste the secret below:"}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[n.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Webhook URL"}),n.jsx("div",{children:(La==null?void 0:La.webhook_url)||""})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 text-xs break-all",children:[n.jsx("div",{className:"font-semibold text-slate-800 mb-1",children:"Secret"}),n.jsx("div",{children:(La==null?void 0:La.secret)||""})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Well verify requests via ",n.jsx("code",{children:"x-cal-signature-256"}),"."]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(Pt,{onClick:()=>Ge(!1),children:"Done"})})]})})}),n.jsx(At,{children:st&&n.jsx(vm,{onClose:()=>nt(!1),title:"Calendly Webhook",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"text-sm text-slate-700",children:"We can auto-register a webhook on Calendly for your account."}),n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsx(Ft,{label:"Scope",hint:"Organization scope mirrors team bookings; user scope mirrors just your link.",children:n.jsxs("select",{value:Oe,onChange:q=>ne(q.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"organization",children:"organization"}),n.jsx("option",{value:"user",children:"user"})]})}),n.jsx(Ft,{label:"Events",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:["invitee.created","invitee.canceled"].map(q=>{const L=ke.includes(q);return n.jsxs("label",{className:"text-sm rounded-xl border border-slate-200 px-3 py-1.5 flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:L,onChange:J=>{xe(Ne=>{const Re=new Set(Ne);return J.target.checked?Re.add(q):Re.delete(q),Array.from(Re)})}}),q]},q)})})})]}),n.jsxs("div",{className:"flex gap-2 justify-end",children:[n.jsx(Pt,{onClick:()=>nt(!1),variant:"subtle",children:"Close"}),n.jsx(Pt,{onClick:rs,variant:"primary",children:"Register"})]}),Q&&n.jsxs("div",{className:"rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-xs text-emerald-900 break-words",children:[n.jsx("div",{className:"font-semibold mb-1",children:"Registered"}),n.jsxs("div",{children:["Webhook ID: ",Q.webhook_id||""]}),n.jsx("div",{children:"Signing key stored on server "})]})]})})}),n.jsx(At,{children:oe&&n.jsxs(vm,{onClose:()=>P(!1),title:"Create Event",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsx(Ft,{label:"Provider / Account",children:n.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[n.jsxs("select",{value:le.account_id,onChange:q=>{const L=q.target.value,J=s.find(Ne=>Ne.id===L);X(Ne=>({...Ne,account_id:L,provider:(J==null?void 0:J.provider)||"google",calendar_id:(J==null?void 0:J.provider)==="google"?Ne.calendar_id:""})),(J==null?void 0:J.provider)==="google"&&g.length===0&&pt()},className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Choose account"}),s.map(q=>n.jsxs("option",{value:q.id,children:[q.provider.toUpperCase(),"  ",q.external_email||q.external_account_id]},q.id))]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Selected: ",n.jsx("b",{children:le.provider})]})]})}),n.jsx(Ft,{label:"Title",children:n.jsx("input",{value:le.title,onChange:q=>X(L=>({...L,title:q.target.value})),placeholder:"e.g. Discovery Call",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Date",children:n.jsx("input",{type:"date",value:le.date,onChange:q=>X(L=>({...L,date:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ft,{label:"Start",children:n.jsx("input",{type:"time",value:le.startTime,onChange:q=>X(L=>({...L,startTime:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"End",children:n.jsx("input",{type:"time",value:le.endTime,onChange:q=>X(L=>({...L,endTime:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsx(Ft,{label:"Timezone",children:n.jsx("select",{value:le.timezone,onChange:q=>X(L=>({...L,timezone:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:vO.map(q=>n.jsx("option",{value:q,children:q},q))})}),le.provider==="google"&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{label:"Calendar",children:n.jsxs("select",{value:le.calendar_id,onChange:q=>X(L=>({...L,calendar_id:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Select"}),g.map(q=>n.jsxs("option",{value:q.id,children:[q.summary||q.id," ",q.primary?" (primary)":""]},q.id))]})}),n.jsx(Ft,{label:"Phone (optional)",hint:"Stored in appointments table only",children:n.jsxs("div",{className:"relative",children:[n.jsx(vt,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:le.phone,onChange:q=>X(L=>({...L,phone:q.target.value})),placeholder:"+92",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsx(Ft,{label:"Location (optional)",children:n.jsxs("div",{className:"relative",children:[n.jsx(Ys,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:le.location,onChange:q=>X(L=>({...L,location:q.target.value})),placeholder:"e.g. Google Meet",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsx(Ft,{label:"Notes (optional)",children:n.jsxs("div",{className:"relative",children:[n.jsx(QF,{className:"pointer-events-none absolute left-3 top-2 h-4 w-4 text-slate-400"}),n.jsx("textarea",{rows:3,value:le.notes,onChange:q=>X(L=>({...L,notes:q.target.value})),placeholder:"Agenda, context, etc.",className:"pl-9 w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),le.provider==="calcom"&&n.jsxs(n.Fragment,{children:[n.jsx(Ft,{label:"Event Type (slug or ID)",children:n.jsx("input",{value:le.event_type,onChange:q=>X(L=>({...L,event_type:q.target.value})),placeholder:"e.g. 30min",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Attendee Name",children:n.jsx("input",{value:le.attendee_name,onChange:q=>X(L=>({...L,attendee_name:q.target.value})),placeholder:"Guest name",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Attendee Email",children:n.jsx("input",{value:le.attendee_email,onChange:q=>X(L=>({...L,attendee_email:q.target.value})),placeholder:"guest@example.com",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Location (optional)",children:n.jsx("input",{value:le.location,onChange:q=>X(L=>({...L,location:q.target.value})),placeholder:"Zoom / Meet link",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Notes (optional)",children:n.jsx("textarea",{rows:3,value:le.notes,onChange:q=>X(L=>({...L,notes:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),le.provider==="calendly"&&n.jsx("div",{className:"sm:col-span-2 rounded-xl border border-amber-200 bg-amber-50 p-3 text-sm text-amber-900",children:"Calendly API bookings are limited. Create via your scheduling linkour webhook will mirror it into your DB."})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-between gap-2",children:[n.jsx(Pt,{onClick:()=>{const q=new Date,L=q.toISOString().slice(0,10),J=Xe=>String(Xe).padStart(2,"0"),Ne=Xe=>new Date(q.getTime()+Xe*6e4),Re=Ne(15),Fe=Ne(45);X(Xe=>{var wt,Gt;return{...Xe,date:L,startTime:`${J(Re.getHours())}:${J(Re.getMinutes())}`,endTime:`${J(Fe.getHours())}:${J(Fe.getMinutes())}`,title:Xe.title||(Xe.provider==="calcom"?"Cal.com Booking":"Test Meeting"),calendar_id:Xe.provider==="google"&&(Xe.calendar_id||((wt=g.find(da=>da.primary))==null?void 0:wt.id)||((Gt=g[0])==null?void 0:Gt.id))||""}})},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:"Quick Fill Test Slot"}),n.jsxs("div",{className:"ml-auto flex gap-2",children:[n.jsx(Pt,{onClick:()=>P(!1),variant:"subtle",children:"Close"}),n.jsx(Pt,{onClick:me,variant:"primary",disabled:K||!le.title||!le.date||!le.startTime||!le.endTime||!le.account_id||le.provider==="google"&&!le.calendar_id||le.provider==="calcom"&&(!le.event_type||!le.attendee_email||!le.attendee_name),children:K?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(qa,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})]})}),n.jsx(At,{children:B&&n.jsxs(vm,{onClose:()=>A(null),title:"Update Event (Google)",children:[n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[n.jsx(Ft,{label:"Title",children:n.jsx("input",{value:B._title,onChange:q=>A(L=>({...L,_title:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Calendar",children:n.jsxs("select",{value:B._calendar,onChange:q=>A(L=>({...L,_calendar:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"(no change)"}),g.map(q=>n.jsxs("option",{value:q.id,children:[q.summary||q.id," ",q.primary?" (primary)":""]},q.id))]})}),n.jsx(Ft,{label:"Date",children:n.jsx("input",{type:"date",value:B._date,onChange:q=>A(L=>({...L,_date:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ft,{label:"Start",children:n.jsx("input",{type:"time",value:B._start,onChange:q=>A(L=>({...L,_start:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"End",children:n.jsx("input",{type:"time",value:B._end,onChange:q=>A(L=>({...L,_end:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsx(Ft,{label:"Timezone",children:n.jsx("select",{value:B._timezone,onChange:q=>A(L=>({...L,_timezone:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:vO.map(q=>n.jsx("option",{value:q,children:q},q))})}),n.jsx(Ft,{label:"Location",children:n.jsx("input",{value:B._location,onChange:q=>A(L=>({...L,_location:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Phone",children:n.jsx("input",{value:B._phone,onChange:q=>A(L=>({...L,_phone:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Notes",children:n.jsx("textarea",{rows:3,value:B._notes,onChange:q=>A(L=>({...L,_notes:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Pt,{onClick:()=>A(null),variant:"subtle",children:"Close"}),n.jsx(Pt,{onClick:lt,variant:"primary",disabled:z,children:z?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Save"})]})]})}),n.jsx(At,{children:_e&&n.jsx(jO,{onClose:()=>Me(!1),title:"Google Free/Busy",children:n.jsxs("div",{className:"space-y-4",children:[n.jsx(Ft,{label:"Calendars to check",children:n.jsx("div",{className:"flex flex-wrap gap-2",children:g.map(q=>{const L=xt.calendar_ids.includes(q.id);return n.jsxs("label",{className:"flex items-center gap-2 text-sm rounded-xl border border-slate-200 px-3 py-1.5",children:[n.jsx("input",{type:"checkbox",checked:L,onChange:J=>{Vn(Ne=>{const Re=new Set(Ne.calendar_ids);return J.target.checked?Re.add(q.id):Re.delete(q.id),{...Ne,calendar_ids:Array.from(Re)}})}}),n.jsx("span",{className:"text-slate-700",children:q.summary||q.id}),q.primary&&n.jsx(zs,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Primary"})]},q.id)})})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(Ft,{label:"Date",children:n.jsx("input",{type:"date",value:xt.date,onChange:q=>Vn(L=>({...L,date:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"Start",children:n.jsx("input",{type:"time",value:xt.startTime,onChange:q=>Vn(L=>({...L,startTime:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Ft,{label:"End",children:n.jsx("input",{type:"time",value:xt.endTime,onChange:q=>Vn(L=>({...L,endTime:q.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"flex gap-2 flex-wrap",children:[n.jsx(Pt,{onClick:Et,disabled:qe,variant:"primary",children:qe?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Checking"]}):n.jsxs(n.Fragment,{children:[n.jsx(An,{className:"h-4 w-4 mr-2"})," Show Busy Blocks"]})}),ye&&n.jsxs(Pt,{onClick:()=>{const q=new Date(ye.start),L=new Date(ye.end),J=Ne=>String(Ne).padStart(2,"0");X(Ne=>{var Re,Fe;return{...Ne,provider:"google",account_id:c,date:q.toISOString().slice(0,10),startTime:`${J(q.getHours())}:${J(q.getMinutes())}`,endTime:`${J(L.getHours())}:${J(L.getMinutes())}`,title:Ne.title||"Suggested Slot",calendar_id:Ne.calendar_id||((Re=g.find(Xe=>Xe.primary))==null?void 0:Re.id)||((Fe=g[0])==null?void 0:Fe.id)||""}}),P(!0),R.success("Applied suggested free slot to Create form")},className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",children:[n.jsx(qa,{className:"h-4 w-4 mr-1"}),"Use Suggested Slot"]})]}),Pe&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Busy blocks"}),n.jsx("div",{className:"space-y-3",children:Object.entries(Pe.freebusy||{}).map(([q,L])=>n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3 overflow-hidden",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 break-all mb-2",children:q}),(L.busy||[]).length===0?n.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):n.jsx("div",{className:"grid gap-1",children:L.busy.map((J,Ne)=>n.jsxs("div",{className:"text-xs text-slate-700",children:[" ",bi(J.start),"  ",bi(J.end)]},Ne))})]},q))}),ye&&n.jsxs("div",{className:"mt-4 rounded-xl border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-800",children:[n.jsx("b",{children:"Suggestion:"})," ",bi(ye.start),"  ",bi(ye.end)," (30 min)"]})]})]})})}),n.jsx(At,{children:I&&n.jsx(jO,{onClose:()=>M(null),title:`Details  ${I.toLocaleDateString()}`,children:n.jsxs("div",{className:"space-y-4",children:[f==="google"&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Busy (live)"}),n.jsx("div",{className:"mt-2 space-y-1",children:(((He=C[Ro(I)])==null?void 0:He.blocks)||[]).length===0?n.jsx("div",{className:"text-xs text-emerald-700",children:"No busy blocks "}):C[Ro(I)].blocks.map((q,L)=>n.jsxs("div",{className:"text-xs text-slate-700",children:[" ",bi(q.start),"  ",bi(q.end)]},L))})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Events"}),n.jsx("div",{className:"mt-2 space-y-2",children:U.filter(q=>{const L=new Date(q.start_at),J=Zw(I),Ne=Qw(I);return!(new Date(q.end_at)<J||L>Ne)}).sort((q,L)=>new Date(q.start_at)-new Date(L.start_at)).map(q=>{var L,J,Ne;return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 break-words",children:q.title}),n.jsxs("div",{className:"text-xs text-slate-600 break-words",children:[bi(q.start_at),"  ",bi(q.end_at),q.location?n.jsxs(n.Fragment,{children:["  ",n.jsx("b",{children:q.location})]}):null,(J=(L=q.links)==null?void 0:L[0])!=null&&J.provider?n.jsxs(n.Fragment,{children:["  ",n.jsx("i",{children:q.links[0].provider})]}):null]}),n.jsx("div",{className:"mt-2 flex gap-2 flex-wrap",children:(Ne=q.links)!=null&&Ne.some(Re=>Re.provider==="google")?n.jsxs(n.Fragment,{children:[n.jsxs(Pt,{size:"sm",onClick:()=>Ze(q),children:[n.jsx(yd,{className:"h-4 w-4 mr-1"})," Edit"]}),n.jsxs(Pt,{size:"sm",variant:"danger",onClick:()=>yt(q.id),children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Cancel"]})]}):n.jsx("div",{className:"text-[11px] text-slate-500",children:"Edit/cancel here is available for Google-created events."})})]},q.id)})}),n.jsx("div",{className:"mt-4",children:n.jsxs(Pt,{onClick:()=>{const q=Ro(I),L=m||s[0];L&&(X(J=>({...J,provider:L.provider,account_id:L.id,date:q,startTime:"09:00",endTime:"09:30",calendar_id:L.provider==="google"?w||J.calendar_id:"",title:J.title||(L.provider==="calcom"?"Cal.com Booking":"New meeting")})),P(!0))},variant:"primary",children:[n.jsx(qa,{className:"h-4 w-4 mr-1"})," Create on ",Uhe(I)]})})]})]})})})]})}function Whe({date:e,compact:t,busyMap:a,events:r,eventsLoading:s,onDayClick:l,onOpenDay:c}){const u=e.getFullYear(),m=e.getMonth(),f=new Date(u,m+1,0).getDate(),h=x.useMemo(()=>Array.from({length:f},(b,y)=>new Date(u,m,y+1)),[u,m,f]),g=x.useMemo(()=>{const b={},y=j=>[new Date(j.start_at).toISOString(),new Date(j.end_at).toISOString(),(j.title||"").trim().toLowerCase(),(j.location||"").trim().toLowerCase()].join("|");return(r||[]).forEach(j=>{const w=new Date(j.start_at),S=new Date(j.end_at),k=new Date(u,m,1),_=new Date(u,m,f,23,59,59,999);if(S<k||w>_)return;const C=new Date(Math.max(Zw(w),k)),O=new Date(Math.min(Qw(S),_));for(;C<=O;){const T=Ro(C);b[T]||(b[T]=[]);const E=y(j);b[T].some(I=>y(I)===E)||b[T].push(j),C.setDate(C.getDate()+1)}}),Object.values(b).forEach(j=>j.sort((w,S)=>new Date(w.start_at)-new Date(S.start_at))),b},[r,u,m,f]);return n.jsxs("div",{className:"p-2 sm:p-4 w-full overflow-x-hidden",children:[n.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 w-full",children:h.map((b,y)=>{var T;const w=Ghe(b,new Date),S=Ro(b),k=((T=a==null?void 0:a[S])==null?void 0:T.count)||0,_=g[S]||[],C=t?"min-h-[72px] sm:min-h-[88px]":"min-h-[110px] sm:min-h-[130px]",O=b.toLocaleString(void 0,{weekday:"short"});return n.jsxs(pe.div,{initial:{opacity:0,y:4},animate:{opacity:1,y:0},transition:{duration:.2},className:`${C} relative rounded-2xl border border-slate-200 bg-white shadow-sm overflow-hidden group cursor-pointer ${w?"ring-2 ring-blue-500":""} min-w-0`,onClick:()=>l&&l(b),children:[n.jsxs("div",{className:"flex items-center justify-between px-2.5 pt-1.5",children:[n.jsx("div",{className:"flex items-center gap-1.5",children:k>0?n.jsxs(zs,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[k," busy"]}):n.jsx(zs,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Free"})}),n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"hidden xs:inline text-[10px] text-slate-400",children:O}),n.jsx("button",{className:"hidden sm:inline-flex rounded-lg p-1 text-slate-500 hover:bg-slate-100",title:"Open day details",onClick:E=>{E.stopPropagation(),c&&c(b)},children:n.jsx(An,{className:"h-3.5 w-3.5"})}),n.jsx("div",{className:`h-6 w-6 grid place-content-center rounded-md text-[11px] font-bold ${w?"bg-blue-600 text-white":"text-slate-700 bg-slate-100"}`,children:b.getDate()})]})]}),n.jsx("div",{className:`px-2.5 pb-2 ${t?"mt-1":"mt-2"}`,children:_.length===0?n.jsx("div",{className:"text-[11px] text-slate-400 italic",children:"No events"}):n.jsx(n.Fragment,{children:(()=>{const E=t?3:5,I=_.slice(0,E);return n.jsxs(n.Fragment,{children:[I.map(M=>{var ie,Se;const V=new Date(M.start_at),Y=new Date(M.end_at),U=`${V.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}${Y.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})}`,F=((Se=(ie=M.links)==null?void 0:ie[0])==null?void 0:Se.provider)||M.provider||M.links&&M.links[0]&&M.links[0].provider||"";return n.jsxs("div",{className:"mb-1.5 last:mb-0 rounded-lg border border-slate-200 bg-slate-50 px-2 py-1.5",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 min-w-0",children:[n.jsx("div",{className:"text-[11px] font-semibold text-slate-800 truncate",children:M.title||"Untitled"}),F?n.jsx(zs,{className:"border bg-white text-slate-700 border-slate-200 capitalize",children:F}):null]}),n.jsxs("div",{className:"mt-0.5 text-[11px] text-slate-600 truncate",children:[U,M.location?n.jsxs(n.Fragment,{children:["  ",n.jsx("span",{className:"font-medium",children:M.location})]}):null]})]},`${M.id||M.title}-${M.start_at}`)}),_.length>E&&n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["+",_.length-E," more"]})]})})()})}),n.jsxs("button",{className:"absolute bottom-1 right-1 inline-flex sm:hidden items-center gap-1 rounded-lg bg-white/70 backdrop-blur px-2 py-1 text-[10px] text-slate-700 border border-slate-200",onClick:E=>{E.stopPropagation(),c&&c(b)},children:[n.jsx(An,{className:"h-3.5 w-3.5"}),"Details"]})]},S)})}),s&&n.jsx("div",{className:"mt-3 text-center text-xs text-slate-500",children:"Loading events"})]})}function K0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="cyan"?"text-cyan-600":"text-blue-600",l=r==="cyan"?"ring-cyan-200":"ring-blue-200";return n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:`grid h-10 w-10 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ${l} shadow-inner`,children:a?n.jsx(a,{className:`h-5 w-5 ${s}`}):null}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs font-semibold text-slate-500",children:e}),n.jsx("div",{className:"text-xl sm:text-2xl font-extrabold text-slate-900",children:t})]})]})})}function Xhe(...e){return e.filter(Boolean).join(" ")}const wO="https://app.thedbt.ai";function Zhe({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function Qhe({className:e="",onMenuToggle:t,profilePath:a="/admin/settings"}){const[r,s]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),f=dn();x.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const S=await fetch(`${wO}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${wO}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const h=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return n.jsxs("button",{type:"button",onClick:()=>f(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?n.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:Xhe("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(Zhe,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(g,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(g,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(g,{size:36})}),n.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(wp,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function Jhe({compact:e=!1}){const t=x.useMemo(()=>[{text:"Make Calls",Icon:vt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:nr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Z2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Fa,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:nr,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=x.useState(0),[s,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=t[a].text,b=40,y=28,j=1100;let w;return!c&&s.length<g.length?w=setTimeout(()=>l(g.slice(0,s.length+1)),b):!c&&s.length===g.length?w=setTimeout(()=>u(!0),j):c&&s.length>0?w=setTimeout(()=>l(g.slice(0,s.length-1)),y):c&&s.length===0&&(u(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(w)},[s,c,a,t]);const{Icon:m,from:f,to:h}=t[a];return n.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[n.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[n.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${f}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${f}, ${h})`},children:s}),n.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function e0e(){const[e,t]=x.useState(!1),[a,r]=x.useState(!1),[s,l]=x.useState(!1),c=Zs(),u=dn();x.useEffect(()=>{const h=()=>{const g=window.innerWidth;l(g<768),t(g<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),x.useEffect(()=>{r(!1)},[c.pathname]),x.useEffect(()=>{const h=()=>{s?r(g=>!g):t(g=>!g)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const m=[{id:"dashboard",label:"Dashboard",icon:o2,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:Fa,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:vt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:Fa,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:Fa,href:"/admin/callhistory",color:"text-purple-600"}],f=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(Jhe,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:m.map(h=>{const g=h.icon,b=c.pathname===h.href;return n.jsxs("button",{type:"button",onClick:()=>u(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${b?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[b&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsx(g,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${b?h.color:"text-slate-500 group-hover:text-slate-700"} ${b?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),b&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(yn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(Da,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(f,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(f,{})})})]})]})}function t0e(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(e0e,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(Qhe,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx(aP,{})})]})]})}const cj={},Po="https://app.thedbt.ai",n0e=(cj==null?void 0:cj.VITE_AFTER_IMPERSONATE_PATH)||"/",Tl={USERS:`${Po}/api/admin/users`,USER:e=>`${Po}/api/admin/users/${e}`,USER_DETAILS:e=>`${Po}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Po}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Po}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Po}/api/admin/impersonate/login-as`},a0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",G0=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Po}${t}`},dj=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function ym({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function r0e(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Lt({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function s0e(){var pt,En;const[e,t]=x.useState([]),[a,r]=x.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(""),[b,y]=x.useState("all"),[j,w]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,O]=x.useState(!1),[T,E]=x.useState(null),[I,M]=x.useState(!1),[V,Y]=x.useState(null),[U,F]=x.useState(!1),[ie,Se]=x.useState(!1),[oe,P]=x.useState(null),[K,W]=x.useState(!1),[B,A]=x.useState(!1),[z,$]=x.useState(null),[G,ue]=x.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[ee,Z]=x.useState(null),[Ae,ae]=x.useState(!1),[_e,Me]=x.useState(null),[Pe,ge]=x.useState(!1),[qe,Ve]=x.useState(""),[ye,ce]=x.useState(null),[Ee,te]=x.useState(null),[we,$e]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Ke=x.useCallback(async()=>{if(we){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const le=localStorage.getItem("token");if(!le){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),u("No auth token found."),R.error("No authentication token found.");return}try{l(!0),u("");const X=await fetch(Tl.USERS,{headers:{Authorization:`Bearer ${le}`,Accept:"application/json"},mode:"cors"});if(!X.ok){const ut=await X.text();throw new Error(`HTTP ${X.status}${ut?`  ${ut}`:""}`)}const se=await X.json();if(!(se!=null&&se.success)||!Array.isArray(se==null?void 0:se.users))throw new Error("Unexpected response shape.");const me=(se.users||[]).map(ut=>({id:ut.id,name:ut.name||"",email:ut.email||"",email_verified:!!ut.email_verified,role:ut.role||"user",profile_photo_url:G0(ut.profile_photo_url||ut.profile_photo)}));me.sort((ut,Mt)=>ut.name.localeCompare(Mt.name)),t(me);const Ze=me.filter(ut=>ut.role==="admin").length,lt=me.filter(ut=>ut.email_verified).length,yt=me.filter(ut=>!!ut.profile_photo_url).length;r({total:se.total_users??me.length,admins:Ze,verified:lt,withPhoto:yt})}catch(X){u((X==null?void 0:X.message)||"Failed to load users"),R.error((X==null?void 0:X.message)||"Failed to load users")}finally{l(!1)}},[we]);x.useEffect(()=>{Ke()},[Ke]);const Ge=x.useMemo(()=>{let le=[...e];if(h.trim()){const X=h.trim().toLowerCase();le=le.filter(se=>String(se.name||"").toLowerCase().includes(X)||String(se.email||"").toLowerCase().includes(X))}return b!=="all"&&(le=le.filter(X=>X.role===b)),j!=="all"&&(le=le.filter(X=>j==="verified"?X.email_verified:!X.email_verified)),le},[e,h,b,j]),st=Math.max(1,Math.ceil(Ge.length/_)),nt=S*_,Oe=nt-_,ne=Ge.slice(Oe,nt);x.useEffect(()=>{k(1)},[h,b,j]);const ke=le=>{E({id:le.id,name:le.name,email:le.email,role:le.role}),O(!0)},xe=async()=>{if(!T)return;const le=localStorage.getItem("token");if(!le)return R.error("No authentication token found.");const X={name:String(T.name||"").trim(),email:String(T.email||"").trim(),role:T.role==="admin"?"admin":"user"};try{M(!0);const se=await fetch(Tl.USER(T.id),{method:"PUT",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);R.success(" User updated"),O(!1),E(null),t(Ze=>Ze.map(lt=>{var yt;return lt.id===((yt=me.updated_user)==null?void 0:yt.id)?{...lt,name:me.updated_user.name,email:me.updated_user.email,role:me.updated_user.role,profile_photo_url:G0(me.updated_user.profile_photo_url||me.updated_user.profile_photo)}:lt})),Ke()}catch(se){R.error((se==null?void 0:se.message)||"Update failed")}finally{M(!1)}},Be=le=>Y(le),at=async()=>{const le=V;if(!le)return;const X=localStorage.getItem("token");if(!X)return R.error("No authentication token found.");try{f(le);const se=await fetch(Tl.USER(le),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);R.success(" User deleted"),t(Ze=>Ze.filter(lt=>lt.id!==le)),r(Ze=>({...Ze,total:Math.max(0,Ze.total-1)})),Y(null)}catch(se){R.error((se==null?void 0:se.message)||"Delete failed")}finally{f(null)}},dt=async le=>{const X=localStorage.getItem("token");if(!X){R.error("No authentication token found.");return}try{F(!0),Se(!0),P(null);const se=await fetch(Tl.USER_DETAILS(le.id),{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);P(me.details)}catch(se){R.error((se==null?void 0:se.message)||"Failed to load details")}finally{Se(!1)}},Je=async le=>{const X=localStorage.getItem("token");if(!X)return R.error("No authentication token found.");try{ce(le);const se=await fetch(Tl.USER_PHOTO_DELETE(le),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);R.success(" Profile photo removed"),t(Ze=>Ze.map(lt=>lt.id===le?{...lt,profile_photo_url:null}:lt)),r(Ze=>({...Ze,withPhoto:Math.max(0,Ze.withPhoto-1)}))}catch(se){R.error((se==null?void 0:se.message)||"Failed to remove photo")}finally{ce(null)}},$t=async()=>{const le=localStorage.getItem("token");if(!le)return R.error("No authentication token found.");const X={name:G.name.trim(),email:G.email.trim(),role:G.role,password:G.setPasswordManually?(G.password||"").trim():null};if(!X.name||!X.email)return R.error("Name and email are required.");if(G.setPasswordManually&&X.password.length<6)return R.error("Password must be at least 6 characters.");try{A(!0);const se=await fetch(Tl.USERS,{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);const Ze=me.created_user,lt={id:Ze.id,name:Ze.name,email:Ze.email,role:Ze.role||"user",email_verified:!!Ze.email_verified,profile_photo_url:G0(Ze.profile_photo_url||Ze.profile_photo)};t(yt=>[lt,...yt].sort((ut,Mt)=>ut.name.localeCompare(Mt.name))),r(yt=>({...yt,total:yt.total+1,admins:yt.admins+(lt.role==="admin"?1:0),verified:yt.verified+(lt.email_verified?1:0),withPhoto:yt.withPhoto+(lt.profile_photo_url?1:0)})),me.initial_password?$(me.initial_password):R.success(" User created"),W(!1),ue({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(se){R.error((se==null?void 0:se.message)||"Create failed")}finally{A(!1)}},Tt=async()=>{if(!ee)return;const le=localStorage.getItem("token");if(!le)return R.error("No authentication token found.");const X=Pe&&qe?{new_password:qe}:{new_password:null};try{ae(!0);const se=await fetch(Tl.RESET_PASSWORD(ee),{method:"POST",headers:{Authorization:`Bearer ${le}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);me.new_password?Me(me.new_password):(R.success(" Password updated"),Z(null),Ve(""),ge(!1))}catch(se){R.error((se==null?void 0:se.message)||"Reset failed")}finally{ae(!1)}},Ie=async le=>{const X=localStorage.getItem("token");if(!X)return R.error("No authentication token found.");try{te(le.id);const se=await fetch(Tl.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:le.id,reason:"Admin impersonation from Users panel"})}),me=await se.json();if(!se.ok||!(me!=null&&me.success))throw new Error((me==null?void 0:me.detail)||(me==null?void 0:me.message)||`HTTP ${se.status}`);const{token:Ze,acting_as:lt,impersonated_by:yt}=me;localStorage.setItem("admin_token_backup",X),localStorage.setItem("token",Ze),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:lt,impersonated_by:yt,started_at:Date.now()})),R.success(` Now impersonating ${(lt==null?void 0:lt.email)||"user"}`),window.location.assign(n0e)}catch(se){R.error((se==null?void 0:se.message)||"Impersonation failed")}finally{te(null)}},We=()=>{const le=localStorage.getItem("admin_token_backup");if(!le){R.error("No admin backup token found.");return}localStorage.setItem("token",le),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),$e(null),R.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[we&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(t0,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(pt=we.acting_as)==null?void 0:pt.email})]})]}),n.jsxs(Lt,{onClick:We,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(wp,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Fa,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${a0e}`,children:"User Management"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Lt,{onClick:()=>W(!0),disabled:!!we,variant:"primary",children:[n.jsx(qa,{className:"mr-2 h-4 w-4"}),"Add User"]}),n.jsx(Lt,{onClick:Ke,disabled:s||!!we,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(Y0,{label:"Total Users",value:a.total,Icon:Fa,tone:"blue"}),n.jsx(Y0,{label:"Admins",value:a.admins,Icon:Ev,tone:"cyan"}),n.jsx(Y0,{label:"Verified",value:a.verified,Icon:vn,tone:"blue"}),n.jsx(Y0,{label:"With Photo",value:a.withPhoto,Icon:NF,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:le=>g(le.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!we})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(zl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:le=>y(le.target.value),disabled:!!we,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All roles"}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]}),n.jsxs("select",{value:j,onChange:le=>w(le.target.value),disabled:!!we,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||b!=="all"||j!=="all")&&n.jsx(Lt,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!we,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(Fa,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ge.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),we?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(t0,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Lt,{onClick:We,variant:"primary",children:[n.jsx(wp,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ye,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ge.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Fa,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(jm,{children:"User"}),n.jsx(jm,{children:"Email"}),n.jsx(jm,{children:"Role"}),n.jsx(jm,{children:"Status"}),n.jsx(jm,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(le=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(wm,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(uj,{url:le.profile_photo_url,name:le.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:le.name}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",le.id]})]})]})}),n.jsx(wm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:le.email})]})}),n.jsx(wm,{children:n.jsx(ym,{className:`border ${dj(le.role)}`,children:le.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(Ev,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(Qr,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),n.jsx(wm,{children:le.email_verified?n.jsxs(ym,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(ym,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(_r,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),n.jsx(wm,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(Lt,{onClick:()=>dt(le),variant:"outline",size:"sm",title:"View details",children:n.jsx(An,{className:"h-4 w-4"})}),n.jsx(Lt,{onClick:()=>ke(le),variant:"outline",size:"sm",title:"Edit",children:n.jsx(yd,{className:"h-4 w-4"})}),n.jsx(Lt,{onClick:()=>Z(le.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:n.jsx(Rl,{className:"h-4 w-4"})}),n.jsx(Lt,{onClick:()=>Ie(le),disabled:Ee===le.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:Ee===le.id?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(t0,{className:"h-4 w-4"})}),n.jsx(Lt,{onClick:()=>Be(le.id),variant:"danger",size:"sm",title:"Delete",children:m===le.id?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(Tn,{className:"h-4 w-4"})}),le.profile_photo_url?n.jsx(Lt,{onClick:()=>Je(le.id),disabled:ye===le.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:ye===le.id?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(Jk,{className:"h-4 w-4"})}):null]})})]},le.id))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map((le,X)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[X===0&&n.jsx(r0e,{}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(uj,{size:48,url:le.profile_photo_url,name:le.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:le.name}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[n.jsx(Ra,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:le.email})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${dj(le.role)} text-[11px] font-semibold`,children:le.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(Ev,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(Qr,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),le.email_verified?n.jsxs(ym,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(ym,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(_r,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Lt,{onClick:()=>dt(le),size:"sm",className:"grow sm:grow-0",children:[n.jsx(An,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs(Lt,{onClick:()=>ke(le),size:"sm",className:"grow sm:grow-0",children:[n.jsx(yd,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Lt,{onClick:()=>Z(le.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[n.jsx(Rl,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsx(Lt,{onClick:()=>Ie(le),disabled:Ee===le.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:Ee===le.id?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):n.jsxs(n.Fragment,{children:[n.jsx(t0,{className:"h-4 w-4 mr-1"})," Login as"]})}),n.jsx(Lt,{onClick:()=>Be(le.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:m===le.id?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Delete"]})}),le.profile_photo_url&&n.jsx(Lt,{onClick:()=>Je(le.id),disabled:ye===le.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:ye===le.id?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):n.jsxs(n.Fragment,{children:[n.jsx(Jk,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",le.id]})]},le.id))})}),Ge.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Oe+1}),"",n.jsx("b",{children:Math.min(nt,Ge.length)})," of"," ",n.jsx("b",{children:Ge.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Lt,{onClick:()=>k(le=>Math.max(1,le-1)),disabled:S===1,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,st)},(le,X)=>{let se;if(st<=5||S<=3?se=X+1:S>=st-2?se=st-4+X:se=S-2+X,se<1||se>st)return null;const me=S===se;return n.jsx("button",{onClick:()=>k(se),className:`px-3 py-2 text-sm font-semibold rounded-xl ${me?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:se},se)})}),n.jsxs(Lt,{onClick:()=>k(le=>Math.min(st,le+1)),disabled:S>=st,children:["Next ",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(At,{children:K&&n.jsxs(_m,{onClose:()=>W(!1),title:"Add User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(id,{label:"Name",children:n.jsx("input",{value:G.name,onChange:le=>ue(X=>({...X,name:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),n.jsx(id,{label:"Email",children:n.jsx("input",{type:"email",value:G.email,onChange:le=>ue(X=>({...X,email:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(id,{label:"Role",children:n.jsxs("select",{value:G.role,onChange:le=>ue(X=>({...X,role:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:G.setPasswordManually,onChange:le=>ue(X=>({...X,setPasswordManually:le.target.checked,password:le.target.checked?X.password:""}))}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),G.setPasswordManually&&n.jsx("div",{className:"mt-3",children:n.jsx("input",{type:"text",value:G.password,onChange:le=>ue(X=>({...X,password:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Lt,{onClick:()=>W(!1),variant:"subtle",children:"Cancel"}),n.jsx(Lt,{onClick:$t,disabled:B||!G.name.trim()||!G.email.trim()||G.setPasswordManually&&G.password.trim().length<6,variant:"primary",children:B?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(qa,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(At,{children:z&&n.jsxs(_m,{onClose:()=>$(null),title:"Initial Password",children:[n.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(Rl,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:z}),n.jsxs(Lt,{onClick:()=>{navigator.clipboard.writeText(z),R.success("Copied!")},className:"ml-auto",children:[n.jsx(ja,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(Lt,{onClick:()=>$(null),variant:"primary",children:"Got it"})})]})}),n.jsx(At,{children:C&&T&&n.jsxs(_m,{onClose:()=>O(!1),title:"Edit User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(id,{label:"Name",children:n.jsx("input",{value:T.name,onChange:le=>E(X=>({...X,name:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),n.jsx(id,{label:"Email",children:n.jsx("input",{type:"email",value:T.email,onChange:le=>E(X=>({...X,email:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),n.jsx(id,{label:"Role",children:n.jsxs("select",{value:T.role,onChange:le=>E(X=>({...X,role:le.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Lt,{onClick:()=>O(!1),variant:"subtle",children:"Cancel"}),n.jsx(Lt,{onClick:xe,disabled:I||!T.name||!T.email,variant:"primary",children:I?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(At,{children:V&&n.jsxs(_m,{onClose:()=>Y(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",n.jsx("b",{className:"break-words",children:((En=e.find(le=>le.id===V))==null?void 0:En.name)||"this user"}),"? This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Lt,{onClick:()=>Y(null),variant:"subtle",children:"Cancel"}),n.jsx(Lt,{onClick:at,disabled:m===V,variant:"danger",children:m===V?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),n.jsx(At,{children:ee&&n.jsx(_m,{onClose:()=>{Z(null),Me(null),ge(!1),Ve("")},title:"Reset Password",children:_e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(Rl,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:_e}),n.jsxs(Lt,{onClick:()=>{navigator.clipboard.writeText(_e),R.success("Copied!")},className:"ml-auto",children:[n.jsx(ja,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(Lt,{onClick:()=>{Z(null),Me(null)},variant:"primary",children:"Done"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Pe,onChange:le=>ge(le.target.checked)}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Pe&&n.jsx("input",{type:"text",value:qe,onChange:le=>Ve(le.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),n.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[n.jsx(Lt,{onClick:()=>{Z(null),ge(!1),Ve("")},variant:"subtle",children:"Cancel"}),n.jsx(Lt,{onClick:Tt,disabled:Ae||Pe&&qe.trim().length<6,variant:"primary",children:Ae?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),n.jsx(At,{children:U&&n.jsx(i0e,{onClose:()=>F(!1),title:"User Details",children:ie?n.jsxs("div",{className:"grid place-content-center h-48",children:[n.jsx(Ye,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):oe?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(uj,{url:G0(oe.user.profile_photo_url||oe.user.profile_photo),name:oe.user.name,size:48}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:oe.user.name}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:oe.user.email}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${dj(oe.user.role)}`,children:oe.user.role})})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(Nm,{label:"Phone Numbers",value:oe.counts.purchased_numbers}),n.jsx(Nm,{label:"Assistants",value:oe.counts.assistants}),n.jsx(Nm,{label:"Call Logs",value:oe.counts.call_logs}),n.jsx(Nm,{label:"Documents",value:oe.counts.documents}),n.jsx(Nm,{label:"Leads",value:oe.counts.leads})]}),n.jsx(Sm,{title:"Phone Numbers",items:(oe.purchased_numbers||[]).map(le=>({k:le.id,primary:le.phone_number,secondary:le.iso_country||le.region||"",badge:le.friendly_name}))}),n.jsx(Sm,{title:"Assistants",items:(oe.assistants||[]).map(le=>({k:le.id,primary:le.name||le.vapi_assistant_id,secondary:le.provider||le.model||"",badge:le.category}))}),n.jsx(Sm,{title:"Documents",items:(oe.documents||[]).map(le=>({k:le.id,primary:le.file_name,secondary:le.vapi_file_id}))}),n.jsx(Sm,{title:"Leads",items:(oe.leads||[]).map(le=>({k:le.id,primary:`${le.first_name||""} ${le.last_name||""}`.trim()||le.email,secondary:(le.email||le.mobile||"").toString(),badge:le.state||le.timezone}))}),n.jsx(Sm,{title:"Call Logs",items:(oe.call_logs||[]).map(le=>({k:le.id,primary:le.customer_name||le.customer_number||le.call_id,secondary:`${le.status||""}  ${le.call_duration||0}s`}))})]}):n.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function Y0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function uj({url:e,name:t,size:a=38}){const[r,s]=x.useState(!1),l=(t||"?").split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:a,height:a},children:c?n.jsx("span",{style:{fontSize:a<40?12:13},children:l}):n.jsx("img",{src:e,alt:t,width:a,height:a,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function jm({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function wm({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function id({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Nm({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function Sm({title:e,items:t}){const a=(t||[]).slice(0,5);return a.length===0?null:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),n.jsx("div",{className:"space-y-2",children:a.map(r=>n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),n.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&n.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function _m({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Lt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function i0e({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Lt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const km="https://app.thedbt.ai",l0e=[`${km}/api/admin/basic-admin-stats`,`${km}/basic-admin-stats`,`${km}/api/basic-admin-stats`,`${km}/statistics`,`${km}/api/statistics`],Ta={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},xp="3 3";function o0e(){const[e,t]=x.useState({width:0,height:0});return x.useEffect(()=>{const a=()=>t({width:window.innerWidth,height:window.innerHeight});return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function bL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function NO(e={},t="name",a="value"){return Object.entries(e||{}).map(([r,s])=>({[t]:String(r),[a]:Number(s||0)}))}function No(e){const a=Math.max(0,Number(e)||0),r=Array.from({length:12},(s,l)=>{const c=l/11,u=Math.sin(c*Math.PI)*.45,m=(Math.random()-.5)*.14,f=Math.max(0,Math.round(a*(.55+u+m)));return{label:`P${l+1}`,value:f}});return r.length&&(r[r.length-1].value=a),r}async function c0e(){var a;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of l0e)try{const s=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((a=l==null?void 0:l.stats)!=null&&a.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function d0e({value:e,className:t}){const a=Pd(0),[r,s]=x.useState(0);return x.useEffect(()=>{const l=rW(a,Number(e||0),{duration:.5,ease:"easeOut"}),c=a.on("change",u=>s(Math.round(u)));return()=>{l.stop(),c()}},[e]),n.jsx("span",{className:t,children:bL(r)})}function u0e({points:e,width:t,height:a}){if(!e||!e[0])return null;const r=e[0].x;return n.jsxs("g",{children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx("line",{x1:r,x2:r,y1:0,y2:a,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function mj(e){const{x:t,y:a,width:r,height:s}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx("rect",{x:t,y:a,width:r,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function SO(e){const{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,fill:u}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(jN,{cx:t,cy:a,innerRadius:r,outerRadius:s+6,startAngle:l,endAngle:c,fill:u,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function ld({title:e,right:t,children:a,className:r=""}){return n.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[n.jsx(m0e,{}),n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),a]})}function m0e(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${Ta.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function f0e({label:e,value:t,icon:a,color:r,series:s,badge:l="Live",loading:c}){const u=Pd(0),m=Pd(0),f=Ap(m,[-60,60],[10,-10]),h=Ap(u,[-60,60],[-10,10]),g=x.useRef(null);return n.jsxs(pe.div,{ref:g,onMouseMove:b=>{var j;const y=(j=g.current)==null?void 0:j.getBoundingClientRect();y&&(u.set(b.clientX-y.left-y.width/2),m.set(b.clientY-y.top-y.height/2))},onMouseLeave:()=>{u.set(0),m.set(0)},style:{rotateX:f,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?n.jsx(h0e,{}):n.jsx(d0e,{value:t})}),l&&n.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),n.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(XS,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(Il,{strokeDasharray:xp,strokeOpacity:.12}),n.jsx(Ei,{dataKey:"label",hide:!0}),n.jsx(Oi,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(Us,{contentStyle:{borderRadius:12},cursor:n.jsx(u0e,{})}),n.jsx(ug,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function h0e(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function p0e(){const{width:e}=o0e(),t=e<768,[a,r]=x.useState(!0),[s,l]=x.useState(""),[c,u]=x.useState(null),[m,f]=x.useState(null),[h,g]=x.useState(null),[b,y]=x.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[j,w]=x.useState({}),[S,k]=x.useState({attached_to_assistant:0,unattached:0}),[_,C]=x.useState({transferred:0,not_transferred:0,by_status:{}}),O=async()=>{try{r(!0),l("");const U=await c0e(),F=(U==null?void 0:U.stats)||U||{},ie=(F==null?void 0:F.totals)||{};y({users:Number(ie.users||0),leads:Number(ie.leads||0),files:Number(ie.files||0),knowledge_base_documents:Number(ie.knowledge_base_documents||0),assistants:Number(ie.assistants||0),phone_numbers:Number(ie.phone_numbers||0),call_logs:Number(ie.call_logs||0)}),w((F==null?void 0:F.users_by_role)||{}),k((F==null?void 0:F.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((F==null?void 0:F.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),u((U==null?void 0:U.generated_at)||new Date().toISOString())}catch(U){const F=(U==null?void 0:U.message)||"Failed to load stats",ie=F.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(F+ie)}finally{r(!1)}};x.useEffect(()=>{O()},[]);const T=x.useMemo(()=>[{key:"users",label:"Users",value:b.users,icon:Fa,color:Ta.blue,series:No(b.users)},{key:"leads",label:"Leads",value:b.leads,icon:Qr,color:Ta.cyan,series:No(b.leads)},{key:"files",label:"Files",value:b.files,icon:_f,color:Ta.sky,series:No(b.files)},{key:"assistants",label:"Assistants",value:b.assistants,icon:i2,color:Ta.cyan,series:No(b.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:b.phone_numbers,icon:vt,color:Ta.sky,series:No(b.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:b.knowledge_base_documents,icon:vd,color:Ta.blue,series:No(b.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:b.call_logs,icon:Np,color:Ta.cyan,series:No(b.call_logs)}],[b]),E=x.useMemo(()=>NO(j,"name","value"),[j]),I=x.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=x.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),V=x.useMemo(()=>NO(_.by_status||{},"status","count"),[_]),Y=x.useMemo(()=>[{name:"Users",value:b.users},{name:"Leads",value:b.leads},{name:"Files",value:b.files},{name:"Assistants",value:b.assistants},{name:"Phones",value:b.phone_numbers},{name:"KB",value:b.knowledge_base_documents},{name:"Calls",value:b.call_logs}],[b]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&n.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:n.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),n.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:O,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[n.jsx(Ye,{className:"h-4 w-4"}),"Refresh"]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),n.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[n.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:T.map(U=>n.jsx(f0e,{label:U.label,value:U.value,icon:U.icon,color:U.color,series:U.series,loading:a},U.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[n.jsx(ld,{title:"Overview by Metric",right:n.jsx(Cm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(mp,{data:Y,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:Ta.sky}),n.jsx("stop",{offset:"100%",stopColor:Ta.light})]})]}),n.jsx(Il,{strokeDasharray:xp,strokeOpacity:.2}),n.jsx(Ei,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(Oi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:U=>U>=1e3?`${Math.round(U/1e3)}k`:U}),n.jsx(Us,{contentStyle:{borderRadius:12},cursor:n.jsx(mj,{})}),n.jsx(qm,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),n.jsx(ld,{title:"Users by Role",right:n.jsx(Cm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(mp,{data:E,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:Ta.blue}),n.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),n.jsx(Il,{strokeDasharray:xp,strokeOpacity:.2}),n.jsx(Ei,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(Oi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:U=>U>=1e3?`${Math.round(U/1e3)}k`:U}),n.jsx(Us,{contentStyle:{borderRadius:12},cursor:n.jsx(mj,{})}),n.jsx(qm,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[n.jsx(ld,{title:"Phone Numbers  Attached vs Unattached",right:n.jsx(Cm,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(hx,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:Ta.cyan}),n.jsx("stop",{offset:"100%",stopColor:Ta.blue})]})}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsxs(gf,{data:I,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:m,onMouseEnter:(U,F)=>f(F),onMouseLeave:()=>f(null),activeShape:SO,label:t?({name:U,percent:F})=>F>=.18?U:"":!1,labelLine:!1,children:[n.jsx(_i,{fill:"url(#pieGradPhones)"}),n.jsx(_i,{fill:"#bfe9ff"})]})]})})})}),n.jsx(ld,{title:"Calls  Transferred vs Not",right:n.jsx(Cm,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(hx,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:Ta.sky}),n.jsx("stop",{offset:"100%",stopColor:Ta.blue})]})}),n.jsx(Us,{contentStyle:{borderRadius:12}}),n.jsxs(gf,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(U,F)=>g(F),onMouseLeave:()=>g(null),activeShape:SO,label:t?({name:U,percent:F})=>F>=.18?U:"":!1,labelLine:!1,children:[n.jsx(_i,{fill:"url(#pieGradCalls)"}),n.jsx(_i,{fill:"#d7eeff"})]})]})})})}),n.jsx(ld,{title:"Call Logs  by Status",right:n.jsx(Cm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(Fs,{width:"100%",height:"100%",children:n.jsxs(mp,{data:V,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:Ta.cyan}),n.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),n.jsx(Il,{strokeDasharray:xp,strokeOpacity:.2}),n.jsx(Ei,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(Oi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:U=>U>=1e3?`${Math.round(U/1e3)}k`:U}),n.jsx(Us,{contentStyle:{borderRadius:12},cursor:n.jsx(mj,{})}),n.jsx(qm,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsx("section",{className:"mt-8",children:n.jsx(ld,{title:"Status Breakdown (Compact List)",children:a?n.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[V.length===0&&n.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),V.map(U=>n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[n.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:U.status}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:bL(U.count)})]},U.status))]})})}),n.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function Cm({text:e}){return n.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function x0e(){const e=dn(),[t,a]=x.useState(!1),[r,s]=x.useState(!1),[l,c]=x.useState(["","","",""]),[u,m]=x.useState({name:"",email:"",password:""}),[f,h]=x.useState(!1),[g,b]=x.useState({profile:!1,update:!1,delete:!1,otp:!1}),y=x.useRef([]),j=x.useRef(null),w=async()=>{var I,M;b(V=>({...V,profile:!0}));try{const V=localStorage.getItem("token");if(!V){R.error("Authentication required. Please login again."),e("/login");return}const Y=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${V}`}});if(!Y.ok){const F=await Y.json();throw new Error(F.detail||"Failed to fetch user data")}const U=await Y.json();m({name:((I=U.users)==null?void 0:I.name)||"",email:((M=U.users)==null?void 0:M.email)||"",password:""})}catch(V){R.error(V.message),V.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{b(V=>({...V,profile:!1}))}};x.useEffect(()=>{w()},[]);const S=()=>u.name.trim()?u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)?u.password&&u.password.length<8?(R.error("Password must be at least 8 characters long"),!1):!0:(R.error("Please enter a valid email address"),!1):(R.error("Email is required"),!1):(R.error("Name is required"),!1),k=async I=>{if(I.preventDefault(),!!S()){b(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V={name:u.name,email:u.email,...u.password&&{password:u.password}},Y=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(V)});if(!Y.ok){const F=await Y.json();throw new Error(F.detail||"Failed to update profile")}const U=await Y.json();U!=null&&U.otp_needed?(s(!0),setTimeout(()=>{var F;return(F=y.current[0])==null?void 0:F.focus()},0),R.info("Verification code sent to your email")):(localStorage.setItem("name",V.name),R.success("Profile updated successfully"),m(F=>({...F,password:""})))}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,update:!1}))}}},_=async I=>{if(I.preventDefault(),l.some(M=>!M)){R.error("Please enter the complete verification code");return}b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email,code:l.join(""),name:u.name,...u.password&&{password:u.password}})});if(!V.ok){const Y=await V.json();throw new Error(Y.detail||"Verification failed")}R.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",u.name),localStorage.setItem("email",u.email),m(Y=>({...Y,password:""}))}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}},C=async()=>{b(I=>({...I,delete:!0}));try{const I=localStorage.getItem("token");if(!I)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${I}`}});if(!M.ok){const V=await M.json();throw new Error(V.detail||"Failed to delete account")}R.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(I){R.error(I.message),I.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(I=>({...I,delete:!1}))}},O=(I,M)=>{var V;if(/^\d?$/.test(M)){const Y=[...l];Y[I]=M,c(Y),M&&I<3&&((V=y.current[I+1])==null||V.focus())}},T=(I,M)=>{var V;M.key==="Backspace"&&!l[I]&&I>0&&((V=y.current[I-1])==null||V.focus())},E=async()=>{var I;b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const V=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email})});if(!V.ok){const Y=await V.json();throw new Error(Y.detail||"Failed to resend OTP")}c(["","","",""]),(I=y.current[0])==null||I.focus(),R.success("OTP resent successfully")}catch(M){R.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:n.jsxs("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(g.profile||g.update||g.delete||g.otp)&&n.jsx("div",{className:"flex justify-center items-center mb-4",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Vw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Vw,{className:"w-5 h-5 text-blue-600 mr-2"}),n.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",n.jsx("strong",{children:u.email}),". Please enter it below."]}),n.jsxs("form",{onSubmit:_,children:[n.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((I,M)=>n.jsx("input",{type:"text",maxLength:"1",value:I,onChange:V=>O(M,V.target.value),onKeyDown:V=>T(M,V),ref:V=>y.current[M]=V,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:g.otp},M))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx("button",{type:"submit",disabled:l.some(I=>!I)||g.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.otp?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(Fw,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),n.jsx("button",{type:"button",onClick:E,disabled:g.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Sd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Sd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),n.jsxs("form",{ref:j,onSubmit:k,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(Sd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:u.name,onChange:I=>m({...u,name:I.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(nL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:u.email,onChange:I=>m({...u,email:I.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(aL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:t?"text":"password",value:u.password,onChange:I=>m({...u,password:I.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:g.profile||g.update,minLength:8}),n.jsx("button",{type:"button",onClick:()=>a(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:g.profile||g.update,children:t?n.jsx(Dm,{className:"w-5 h-5"}):n.jsx(Rm,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:u.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"submit",disabled:g.profile||g.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.update?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Fw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(px,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx("button",{onClick:()=>h(!0),disabled:g.profile||g.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),f&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(px,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>h(!1),disabled:g.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{h(!1),C()},disabled:g.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:g.delete?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Hw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]}),n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})]})})}const gp="https://app.thedbt.ai",fj={CALL_LOGS:`${gp}/api/admin/call-logs`,VAPI_CALL_LOGS:`${gp}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${gp}/api/admin/call-logs/${e}`},g0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",_O=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${gp}${t}`},sn=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},Am=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},W0=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),a=Math.floor(t/60),r=Math.floor(t%60);return`${a}m ${r}s`},od=e=>String(e??"").toLowerCase();function kO(e=[],t=[]){const a=[],r=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};a.push(l),l.call_id&&r.set(l.call_id,l)}for(const s of t){const l=s.call_id&&r.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(a.push(c),c.call_id&&r.set(c.call_id,c))}return a.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),a}function CO(e,t){const a=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=e,s.click(),URL.revokeObjectURL(r)}function b0e(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],a=u=>{const m=u==null?"":String(u);return/[",\n]/.test(m)?`"${m.replaceAll('"','""')}"`:m},r=[t.join(",")];for(const u of e)r.push([u.id??"",u.call_id??"",u.source??"",u.customer_name??"",u.customer_number??"",u.started_at??"",u.ended_at??"",u.duration??"",u.cost??"",u.status??"",u.ended_reason??"",u.transferred??"",u.criteria_satisfied??"",u.assistant_id??"",u.phone_number_id??"",((s=u.user)==null?void 0:s.id)??"",((l=u.user)==null?void 0:l.name)??"",((c=u.user)==null?void 0:c.email)??""].map(a).join(","));return r.join(`
`)}function v0e(){var Ee;const[e,t]=x.useState([]),[a,r]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState(""),[j,w]=x.useState("all"),[S,k]=x.useState("all"),[_,C]=x.useState(""),[O,T]=x.useState(""),[E,I]=x.useState("started_at"),[M,V]=x.useState("desc"),[Y,U]=x.useState(1),F=10,[ie,Se]=x.useState(!1),[oe,P]=x.useState(null),[K,W]=x.useState(null),[B,A]=x.useState(null),[z,$]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),G=x.useCallback(async()=>{if(z){f("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const te=localStorage.getItem("token");if(!te){f("No auth token found."),R.error("No authentication token found."),t([]),r([]),l([]);return}try{u(!0),f("");const we={Authorization:`Bearer ${te}`,Accept:"application/json"},[$e,Ke]=await Promise.all([fetch(fj.CALL_LOGS,{headers:we,mode:"cors"}),h?fetch(fj.VAPI_CALL_LOGS,{headers:we,mode:"cors"}):Promise.resolve(null)]);if(!($e!=null&&$e.ok)){const Oe=await $e.text();throw new Error(`Call logs HTTP ${$e.status}${Oe?`  ${Oe}`:""}`)}const Ge=await $e.json(),st=Array.isArray(Ge==null?void 0:Ge.call_logs)?Ge.call_logs:[];let nt=[];if(h&&Ke){if(!Ke.ok){const ne=await Ke.text();throw new Error(`VAPI call logs HTTP ${Ke.status}${ne?`  ${ne}`:""}`)}const Oe=await Ke.json();nt=Array.isArray(Oe==null?void 0:Oe.call_logs)?Oe.call_logs:[]}t(st),r(nt),l(kO(st,nt))}catch(we){f((we==null?void 0:we.message)||"Failed to load call logs"),R.error((we==null?void 0:we.message)||"Failed to load call logs")}finally{u(!1)}},[h,z]);x.useEffect(()=>{G()},[G]),x.useEffect(()=>{l(kO(e,h?a:[]))},[e,a,h]);const ue=x.useMemo(()=>{const te=new Set(s.map(we=>(we.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(te)]},[s]),ee=x.useMemo(()=>{let te=[...s];if(b.trim()){const we=b.trim().toLowerCase();te=te.filter($e=>{var Ke,Ge;return od($e.customer_name).includes(we)||od($e.customer_number).includes(we)||od($e.call_id).includes(we)||od((Ke=$e.user)==null?void 0:Ke.email).includes(we)||od((Ge=$e.user)==null?void 0:Ge.name).includes(we)})}if(j!=="all"&&(te=te.filter(we=>od(we.status)===j)),S!=="all"){const we=S==="yes";te=te.filter($e=>!!$e.transferred===we)}if(_){const we=new Date(_).getTime();te=te.filter($e=>new Date($e.started_at||0).getTime()>=we)}if(O){const we=new Date(O).getTime();te=te.filter($e=>new Date($e.started_at||0).getTime()<=we)}return te.sort((we,$e)=>{const Ke=M==="asc"?1:-1,Ge=we[E],st=$e[E];return E.includes("date")||E.includes("started")?Ke*(new Date(Ge||0)-new Date(st||0)):Ke*((Ge??0)-(st??0))}),te},[s,b,j,S,_,O,E,M]),Z=Math.max(1,Math.ceil(ee.length/F)),Ae=Y*F,ae=Ae-F,_e=ee.slice(ae,Ae);x.useEffect(()=>{U(1)},[b,j,S,_,O,E,M]);const Me=x.useMemo(()=>{const te=ee.length,we=ee.filter(st=>st.transferred).length,$e=te-we,Ke=ee.reduce((st,nt)=>st+(Number.isFinite(Number(nt.duration))?Number(nt.duration):0),0),Ge=ee.reduce((st,nt)=>st+(Number.isFinite(Number(nt.cost))?Number(nt.cost):0),0);return{total:te,transferred:we,notTransferred:$e,totalDuration:Ke,totalCost:Ge}},[ee]),Pe=te=>{P(te),Se(!0)},ge=te=>W((te==null?void 0:te.id)||null),qe=async()=>{const te=K;if(!te)return;const we=localStorage.getItem("token");if(!we)return R.error("No authentication token found.");try{A(te);const $e=await fetch(fj.CALL_LOG(te),{method:"DELETE",headers:{Authorization:`Bearer ${we}`,Accept:"application/json"}}),Ke=await $e.json();if(!$e.ok||!(Ke!=null&&Ke.success))throw new Error((Ke==null?void 0:Ke.detail)||(Ke==null?void 0:Ke.message)||`HTTP ${$e.status}`);R.success(" Call log deleted"),W(null),t(Ge=>Ge.filter(st=>st.id!==te))}catch($e){R.error(($e==null?void 0:$e.message)||"Delete failed")}finally{A(null)}},Ve=()=>{const te=b0e(ee),we=new Date().toISOString().replace(/[:.]/g,"-");CO(`call-history-${we}.csv`,te)},ye=()=>{y(""),w("all"),k("all"),C(""),T(""),I("started_at"),V("desc")},ce=()=>{const te=localStorage.getItem("admin_token_backup");if(!te){R.error("No admin backup token found.");return}localStorage.setItem("token",te),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),$(null),R.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[z&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(Ov,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:sn((Ee=z.acting_as)==null?void 0:Ee.email)})]})]}),n.jsx(Qa,{onClick:ce,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Np,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${g0e}`,children:"Call History"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(c2,{className:"h-4 w-4"}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:te=>g(te.target.checked),disabled:!!z,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),n.jsxs(Qa,{onClick:Ve,disabled:ee.length===0||!!z,"aria-label":"Export CSV",children:[n.jsx(Zm,{className:"mr-2 h-4 w-4"})," Export CSV"]}),n.jsx(Qa,{onClick:G,disabled:c||!!z,"aria-label":"Refresh",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(hj,{label:"Total Calls",value:Me.total,Icon:Ov,tone:"blue"}),n.jsx(hj,{label:"Transferred",value:Me.transferred,Icon:vn,tone:"cyan"}),n.jsx(hj,{label:"Not Transferred",value:Me.notTransferred,Icon:_r,tone:"blue"}),n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:n.jsx(Xk,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),n.jsxs("div",{className:"text-sm font-black text-slate-900",children:[W0(Me.totalDuration),"  $",Me.totalCost.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:b,onChange:te=>y(te.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!z,"aria-label":"Search calls"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),n.jsx("select",{value:j,onChange:te=>w(te.target.value),disabled:!!z,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ue.map(te=>n.jsx("option",{value:te,children:te==="all"?"All statuses":te},te))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),n.jsxs("select",{value:S,onChange:te=>k(te.target.value),disabled:!!z,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),n.jsx("input",{type:"datetime-local",value:_,onChange:te=>C(te.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),n.jsx("input",{type:"datetime-local",value:O,onChange:te=>T(te.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:E,onChange:te=>I(te.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[n.jsx("option",{value:"started_at",children:"Start time"}),n.jsx("option",{value:"duration",children:"Duration"}),n.jsx("option",{value:"cost",children:"Cost"})]}),n.jsxs("select",{value:M,onChange:te=>V(te.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsx("div",{className:"md:col-span-12 flex justify-end",children:(b||j!=="all"||S!=="all"||_||O||E!=="started_at"||M!=="desc")&&n.jsxs(Qa,{onClick:ye,className:"text-slate-700","aria-label":"Clear filters",children:[n.jsx(zl,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(Np,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",ee.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),z?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(Ov,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsx(Qa,{onClick:ce,variant:"primary",children:"Exit Impersonation"})})]}):c?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ye,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):ee.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(vt,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(vi,{children:"Caller"}),n.jsx(vi,{children:"User"}),n.jsx(vi,{children:"Start"}),n.jsx(vi,{children:"Duration"}),n.jsx(vi,{children:"Status"}),n.jsx(vi,{children:"Transferred"}),n.jsx(vi,{children:"Cost"}),n.jsx(vi,{children:"Source"}),n.jsx(vi,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:_e.map(te=>{const we=te.cost===null||te.cost===void 0||Number.isNaN(Number(te.cost))?"Unknown":Number(te.cost).toFixed(2);return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(yi,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:sn(te.customer_name)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[n.jsx(vt,{className:"h-3.5 w-3.5"})," ",sn(te.customer_number)]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",sn(te.call_id)]})]})}),n.jsx(yi,{children:te.user?n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[n.jsx(Ho,{className:"h-3.5 w-3.5"})," ",sn(te.user.name)]}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:sn(te.user.email)})]}):n.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),n.jsxs(yi,{children:[n.jsx("div",{className:"text-xs text-slate-800",children:Am(te.started_at)}),n.jsx("div",{className:"text-[11px] text-slate-500",children:Am(te.ended_at)})]}),n.jsx(yi,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(Di,{className:"h-3.5 w-3.5"})," ",W0(te.duration)]})}),n.jsxs(yi,{children:[n.jsx(El,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:sn(te.status)}),n.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",sn(te.ended_reason)]})]}),n.jsx(yi,{children:te.transferred?n.jsxs(El,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):n.jsxs(El,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(_r,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),n.jsx(yi,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(Xk,{className:"h-3.5 w-3.5"})," ",we]})}),n.jsx(yi,{children:n.jsx(El,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:sn(te.source)})}),n.jsx(yi,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(Qa,{onClick:()=>Pe(te),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:n.jsx(An,{className:"h-4 w-4"})}),te.source!=="vapi"&&n.jsx(Qa,{onClick:()=>ge(te),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:B===te.id?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(Tn,{className:"h-4 w-4"})})]})})]},te._key)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:_e.map((te,we)=>{const $e=te.cost===null||te.cost===void 0||Number.isNaN(Number(te.cost))?"Unknown":Number(te.cost).toFixed(2);return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[we===0&&n.jsx(y0e,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500"})," ",sn(te.customer_name)]}),n.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:sn(te.customer_number)}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",sn(te.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Am(te.started_at)}),n.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[n.jsx(Di,{className:"h-3.5 w-3.5 mr-1"})," ",W0(te.duration)]}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:sn(te.status)}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:sn(te.source)})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",sn(te.ended_reason)]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",$e]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Qa,{onClick:()=>Pe(te),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[n.jsx(An,{className:"h-4 w-4 mr-1"})," View"]}),te.source!=="vapi"&&n.jsx(Qa,{onClick:()=>ge(te),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:B===te.id?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},te._key)})})}),ee.length>F&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:ae+1}),"",n.jsx("b",{children:Math.min(Ae,ee.length)})," of ",n.jsx("b",{children:ee.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Qa,{onClick:()=>U(te=>Math.max(1,te-1)),disabled:Y===1,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Z)},(te,we)=>{let $e;if(Z<=5||Y<=3?$e=we+1:Y>=Z-2?$e=Z-4+we:$e=Y-2+we,$e<1||$e>Z)return null;const Ke=Y===$e;return n.jsx("button",{onClick:()=>U($e),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ke?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${$e}`,children:$e},$e)})}),n.jsxs(Qa,{onClick:()=>U(te=>Math.min(Z,te+1)),disabled:Y>=Z,children:["Next ",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(At,{children:K&&n.jsxs(j0e,{onClose:()=>W(null),title:"Confirm Delete",children:[n.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Qa,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),n.jsx(Qa,{onClick:qe,disabled:B===K,variant:"danger",children:B===K?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),n.jsx(At,{children:ie&&oe&&n.jsx(w0e,{onClose:()=>Se(!1),title:"Call Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(vt,{className:"h-4 w-4 text-slate-500"})," ",sn(oe.customer_name)]}),n.jsx("div",{className:"text-sm text-slate-600 break-all",children:sn(oe.customer_number)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",sn(oe.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[n.jsx(El,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:sn(oe.source)}),n.jsx(El,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:sn(oe.status)}),oe.transferred?n.jsx(El,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):n.jsx(El,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),n.jsxs("div",{className:"text-right text-sm text-slate-700",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Start:"})," ",Am(oe.started_at)]}),n.jsxs("div",{children:[n.jsx("b",{children:"End:"})," ",Am(oe.ended_at)]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("b",{children:"Duration:"})," ",W0(oe.duration)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Cost:"})," ",oe.cost===null||oe.cost===void 0||Number.isNaN(Number(oe.cost))?"Unknown":`$${Number(oe.cost).toFixed(2)}`]})]})]}),oe.user?n.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ho,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," ",sn(oe.user.name)]}),n.jsx("div",{className:"ml-5 break-all",children:sn(oe.user.email)})]}):n.jsx("div",{className:"mt-3 text-xs text-slate-600",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Ho,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(oe.assistant_id||oe.phone_number_id)&&n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Assistant ID:"})," ",sn(oe.assistant_id)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Phone Number ID:"})," ",sn(oe.phone_number_id)]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[n.jsx("b",{children:"End Reason:"})," ",sn(oe.ended_reason)]})]}),oe.recording_url&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),n.jsx("audio",{controls:!0,className:"w-full",children:n.jsx("source",{src:_O(oe.recording_url)||oe.recording_url})}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.jsxs("a",{href:_O(oe.recording_url)||oe.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[n.jsx(Hs,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),oe.summary&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),n.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:oe.summary})]}),oe.transcript&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),n.jsxs(Qa,{onClick:()=>CO(`transcript-${oe.call_id||oe.id}.txt`,oe.transcript),size:"sm",children:[n.jsx(Zm,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),n.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:oe.transcript})]}),oe.analysis&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),n.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof oe.analysis=="string"?oe.analysis:JSON.stringify(oe.analysis,null,2)})]})]})})})]})}function hj({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function El({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function y0e(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Qa({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function vi({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function yi({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function j0e({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function w0e({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Bs={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},AO=/^\+\d{7,15}$/,TO=[{id:1,key:"core",label:"Core & Transcription",Icon:l2},{id:2,key:"voice",label:"Voice",Icon:f2},{id:3,key:"review",label:"Review & Create",Icon:Ul}],N0e=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],S0e=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function _0e(){const e=dn(),[t,a]=x.useState(1),[r,s]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,f]=x.useState(!1),[h,g]=x.useState("all"),[b,y]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[O,T]=x.useState(""),E=x.useMemo(()=>{const P=b.voice_provider==="openai"?ou:dc;return(h==="all"?P:P.filter(W=>W.gender===h)).slice().sort((W,B)=>((W==null?void 0:W.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);x.useEffect(()=>{if(!b.voice)return;const P=E.find(K=>(K==null?void 0:K.name)===b.voice);P!=null&&P.voice&&(y(K=>({...K,voice_model:P.voice})),w(K=>({...K,voice_model:""})))},[b.voice,E]);const I="https://app.thedbt.ai",M=P=>{const{id:K,value:W,type:B,checked:A}=P.target,z=B==="checkbox"?A:W;y($=>({...$,[K]:z})),w($=>({...$,[K]:""}))},V=P=>{try{u.current&&(u.current.pause(),u.current=null);const K=new Audio(P);u.current=K,c(!0),K.play().catch(()=>{R.error("Failed to play voice preview"),c(!1),u.current=null}),K.onended=()=>{c(!1),u.current=null}}catch{R.error("Failed to play voice preview"),c(!1)}},Y=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},U=P=>{if(P!==t){if(P===3&&(!b.voice||!m)){w(K=>({...K,voice:"Select a voice and press Next to continue"})),R.error("Please select a voice and press Next to continue.");return}Y(),a(P)}},F=()=>{if(t===1){a(2);return}if(t===2){if(!b.voice){w(P=>({...P,voice:"Please select a voice"})),R.error("Select a voice to continue.");return}if(!m){w(P=>({...P,voice:"Click a voice card to confirm your choice"})),R.info("Click a voice card to confirm your choice.");return}a(3)}},ie=async()=>{C(!0),T("");try{const P=localStorage.getItem("token"),K=await fetch(`${I}/api/purchased_numbers`,{headers:{Accept:"application/json",...P?{Authorization:`Bearer ${P}`}:{}}});if(!K.ok)throw new Error(`HTTP ${K.status}`);const W=await K.json(),A=(Array.isArray(W)?W:(W==null?void 0:W.purchased_numbers)||[]).filter(Boolean).map(z=>({phone_number:(z==null?void 0:z.phone_number)||"",friendly_name:(z==null?void 0:z.friendly_name)||"",attached_assistant:(z==null?void 0:z.attached_assistant)??null})).filter(z=>z.phone_number);k(A)}catch(P){console.error(P),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ie()},[]);const Se=()=>{const P=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],K={};let W=!0;if(P.forEach(B=>{const A=b[B];(A==null||A===""||Number.isNaN(A))&&(K[B]="Required",W=!1)}),(b.temperature<0||b.temperature>2)&&(K.temperature="Temperature must be between 0 and 2",W=!1),b.maxTokens<1&&(K.maxTokens="maxTokens must be a positive integer",W=!1),b.forwardingPhoneNumber&&!AO.test(b.forwardingPhoneNumber)&&(K.forwardingPhoneNumber="Must be E.164 (+123...)",W=!1),b.attached_Number&&!AO.test(b.attached_Number)&&(K.attached_Number="Invalid number format",W=!1),w(K),!W){const B=$=>$.some(G=>K[G]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],z=["voice_provider","voice_model","voice"];B(A)?a(1):B(z)&&a(2)}return W},oe=async P=>{if(P.preventDefault(),!r){if(t!==3){R.error("Please complete the steps first.");return}if(Se()){s(!0),Y();try{const K=localStorage.getItem("token"),W=`${I}/api/assistants`,B={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:b.systemPrompt||null,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},A=await fetch(W,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...K?{Authorization:`Bearer ${K}`}:{}},body:JSON.stringify(B)});if(!A.ok){let z=`HTTP ${A.status}`;try{const $=await A.json();$!=null&&$.detail&&(z=$.detail)}catch{const $=await A.text();$&&(z=`${z}  ${$}`)}throw new Error(z)}R.success("Assistant created successfully!"),e("/user/callassistent")}catch(K){R.error((K==null?void 0:K.message)||"Failed to create assistant")}finally{s(!1)}}}};return x.useEffect(()=>{f(!1),y(P=>({...P,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Bs.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Bs.border,backgroundColor:Bs.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(Ul,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(k0e,{currentStep:t,onChange:U}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Bs.card,borderColor:Bs.border},children:n.jsxs("form",{onSubmit:oe,noValidate:!0,children:[n.jsxs(At,{mode:"wait",children:[t===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(X0,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),n.jsx(X0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Ym,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:ie,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(P=>n.jsx("option",{value:P.phone_number,className:"bg-white",children:P.friendly_name?`${P.friendly_name}  ${P.phone_number}`:P.phone_number},P.phone_number))]}),O&&n.jsx($o,{children:O}),j.attached_Number&&n.jsx($o,{children:j.attached_Number})]}),n.jsx(X0,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Ym,{children:"System Prompt"}),n.jsx(PO,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),j.systemPrompt&&n.jsx($o,{children:j.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Ym,{children:"First Message"}),n.jsx(PO,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! ",rows:3}),j.first_message&&n.jsx($o,{children:j.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(MO,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),n.jsx(MO,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),t===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(OO,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:P=>{Y();const K=P.target.value;y(W=>({...W,voice_provider:K,voice:"",voice_model:""})),f(!1),w(W=>({...W,voice:"",voice_model:""}))},options:N0e,error:j.voice_provider}),n.jsx(OO,{id:"genderFilter",label:"Gender",value:h,onChange:P=>{Y(),g(P.target.value),f(!1)},options:S0e}),n.jsx(X0,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Bs.border},children:"No voices match this filter."}),E.map(P=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===P.name?"#93c5fd":Bs.border,backgroundColor:b.voice===P.name?"#eff6ff":Bs.card},onClick:()=>{y(K=>({...K,voice:P.name,voice_model:P.voice,voice_provider:P.provider||b.voice_provider})),f(!0),w(K=>({...K,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===P.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:P.showName||P.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[P.gender||"unknown","  ",P.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:P.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(C0e,{isActive:l&&b.voice===P.name,onPlay:()=>V(P.audioSr||""),onStop:Y})})]})]},`${P.provider}-${P.name}`))]}),j.voice&&n.jsx($o,{children:j.voice})]},"step2"),t===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Bs.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(So,{label:"Name",value:b.name||""}),n.jsx(So,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(So,{label:"Voice Provider",value:b.voice_provider}),n.jsx(So,{label:"Voice",value:b.voice||""}),n.jsx(So,{label:"Voice Model",value:b.voice_model||""}),n.jsx(So,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(So,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(pj,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(pj,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(pj,{onClick:()=>U(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs(EO,{onClick:F,children:["Next ",n.jsx(yn,{className:"ml-1 h-4 w-4"})]}):n.jsx(EO,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function k0e({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:TO.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(pe.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/TO.length*100}%`}})})]})}function EO({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function pj({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Ym({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function $o({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function X0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:u=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Ym,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx($o,{children:s})]})}function OO({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Ym,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx($o,{children:l})]})}function PO({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function MO({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function So({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Bs.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function C0e({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(Td,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Yd,{className:"h-5 w-5"})})})}const ot={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},A0e=()=>{const{assistantId:e}=yf(),t=dn(),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(1),[m,f]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,g]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[b,y]=x.useState(!0),j=x.useRef(null),w=[...F1,...V1].sort((M,V)=>M.showName.localeCompare(V.showName));x.useEffect(()=>{(async()=>{const V=localStorage.getItem("token");if(!V){R.error("No authentication token found. Please log in."),t("/login");return}try{const Y=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(!Y.ok){if(Y.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(Y.status===401)throw new Error("Unauthorized: Please log in again");{const ie=await Y.text();throw new Error(`HTTP error! Status: ${Y.status}`)}}const F=(await Y.json()).assistants.find(ie=>ie.assistant_id===e);if(!F)throw new Error("Assistant not found");f({name:F.name||"",phone:F.phone||"",system_prompt:F.system_prompt||"",first_message:F.first_message||"",files:null,existing_file_urls:F.file_urls||[],voice:F.voice||"",voiceSet:"all"}),y(!1)}catch(Y){console.error("Error fetching assistant:",Y.message),R.error(Y.message),t("/")}})()},[e,t]),x.useEffect(()=>{var M;if(c===2&&!m.voice){const V=w.filter(Y=>m.voiceSet==="voiceset1"?F1.includes(Y):m.voiceSet==="voiceset2"?V1.includes(Y):!0);V.length>0&&((M=V[0])!=null&&M.name)&&(f(Y=>({...Y,voice:V[0].name})),g(Y=>({...Y,voice:""})))}},[m.voiceSet,c]);const S=M=>{const{id:V,value:Y}=M.target;f(U=>({...U,[V]:Y})),g(U=>({...U,[V]:""}))},k=M=>{f(V=>({...V,files:M.target.files})),g(V=>({...V,files:""}))},_=()=>{const M={...h};let V=!0;const Y=/^\+\d{10,15}$/,U=["text/plain","application/pdf","text/csv"],F=5*1024*1024;if(m.name.trim()||(M.name="Please enter an assistant name",V=!1),m.phone?Y.test(m.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",V=!1):(M.phone="Please select a phone number",V=!1),m.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",V=!1),m.first_message.trim()||(M.first_message="Please enter a first message",V=!1),m.files&&m.files.length>0)for(let ie=0;ie<m.files.length;ie++){if(!U.includes(m.files[ie].type)){M.files="Only .txt, .pdf, and .csv files are allowed",V=!1;break}if(m.files[ie].size>F){M.files="Each file must be under 5MB",V=!1;break}}return g(M),V},C=()=>{const M={...h};let V=!0;return m.voice||(M.voice="Please select a voice",V=!1),g(M),V},O=M=>{j.current&&(j.current.pause(),j.current=null,l(!1));const V=new Audio(M);j.current=V,l(!0),V.play().catch(Y=>{console.error("Error playing audio:",Y),R.error("Failed to play voice preview"),l(!1)}),V.onended=()=>{l(!1),j.current=null}},T=()=>{j.current&&(j.current.pause(),j.current=null,l(!1))},E=M=>{M!==c&&(u(M),T())},I=async M=>{if(M.preventDefault(),a)return;const V=_(),Y=C();if(!V){u(1);return}if(!Y){u(2);return}r(!0),T();try{const U=new FormData;if(U.append("assistantName",m.name),U.append("phone",m.phone),U.append("systemPrompt",m.system_prompt),U.append("firstMessage",m.first_message),U.append("voice",m.voice),m.files)for(let Se=0;Se<m.files.length;Se++)U.append("files",m.files[Se]);m.existing_file_urls.length>0&&U.append("file_urls",JSON.stringify(m.existing_file_urls));const F=localStorage.getItem("token");if(!F)throw new Error("No authentication token found. Please log in.");const ie=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${F}`},body:U});if(!ie.ok){const Se=await ie.text();throw new Error(`HTTP error! Status: ${ie.status}`)}R.success("Assistant updated successfully!"),t("/admin/assistants")}catch(U){console.error("Error updating assistant:",U.message),R.error(U.message)}finally{r(!1)}};return b?n.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:ot.background},children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:ot.primary}})}):n.jsx("div",{className:"min-h-screen",style:{backgroundColor:ot.background},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:ot.border},children:n.jsx("h1",{className:"text-3xl font-bold",style:{color:ot.text},children:"Edit Assistant"})}),n.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[n.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),n.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),n.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:ot.card,borderColor:ot.border},children:n.jsxs("form",{onSubmit:I,noValidate:!0,children:[c===1&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),n.jsx("input",{type:"text",id:"name",value:m.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),n.jsxs("select",{id:"phone",value:m.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},children:[n.jsx("option",{value:"",children:"Select a phone number"}),n.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),n.jsx("option",{value:"+1987654321",children:"+1987654321"}),n.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),n.jsx("textarea",{id:"system_prompt",value:m.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),n.jsx("textarea",{id:"first_message",value:m.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),n.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card}}),h.files&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),n.jsx("p",{className:"text-sm mt-2",style:{color:ot.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),m.existing_file_urls.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"font-medium",style:{color:ot.text},children:"Existing Files:"}),n.jsx("ul",{className:"list-disc pl-5",children:m.existing_file_urls.map((M,V)=>n.jsx("li",{children:n.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:ot.primary},children:M})},V))})]})]})]}),c===2&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:ot.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),n.jsx("div",{className:"mb-6",children:n.jsxs("select",{id:"voiceSet",value:m.voiceSet,onChange:M=>{f(V=>({...V,voiceSet:M.target.value,voice:""})),g(V=>({...V,voice:""})),T()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:ot.border,color:ot.text,backgroundColor:ot.card},children:[n.jsx("option",{value:"all",children:"All Voices"}),n.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),n.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(M=>m.voiceSet==="voiceset1"?F1.includes(M):m.voiceSet==="voiceset2"?V1.includes(M):!0).map(M=>M&&M.name?n.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${m.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:m.voice===M.name?ot.radioBorder:ot.border,backgroundColor:m.voice===M.name?ot.hover:ot.card},onClick:()=>{console.log("Selected voice:",M),f(V=>({...V,voice:M.name})),g(V=>({...V,voice:""}))},children:[n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${m.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:m.voice===M.name?ot.radioBorder:ot.border,backgroundColor:m.voice===M.name?ot.radioSelected:"transparent"},children:m.voice===M.name&&n.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),n.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",style:{color:ot.text},children:M.showName||"Unnamed Voice"}),n.jsx("p",{className:"text-sm",style:{color:ot.lightText},children:M.gender||"Unknown"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),O(M.audioSr||"")},disabled:s&&m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.secondary,color:"white"},title:s&&m.voice!==M.name?"Audio playing":"Play voice preview",children:s&&m.voice===M.name?n.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),n.jsx("button",{type:"button",onClick:V=>{V.stopPropagation(),T()},disabled:!s||m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.danger,color:"white"},title:"Stop voice preview",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:ot.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&n.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:ot.border,color:ot.text},children:"Back"}),c===1&&n.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:ot.primary,color:"white"},children:"Next"}),c===2&&n.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:ot.primary,color:"white"},children:a?"Updating...":"Update Assistant"})]})]})})]})})},Z0="https://app.thedbt.ai";function T0e(){const e=dn(),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(!0),[f,h]=x.useState(""),[g,b]=x.useState("all"),[y,j]=x.useState("all"),[w,S]=x.useState("created_at"),[k,_]=x.useState("desc"),[C,O]=x.useState(!1),[T,E]=x.useState(null),[I,M]=x.useState([]),[V,Y]=x.useState(!1),[U,F]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ie,Se]=x.useState(1),oe=10,P=x.useMemo(()=>localStorage.getItem("token"),[]),K=async()=>{try{c(!0);const ce=await fetch(`${Z0}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:P?`Bearer ${P}`:""}});if(!ce.ok)throw new Error(`HTTP ${ce.status}`);const Ee=await ce.json(),te=Array.isArray(Ee)?Ee:Array.isArray(Ee==null?void 0:Ee.assistants)?Ee.assistants:[];a(te)}catch(ce){console.error(ce),R.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};x.useEffect(()=>{K()},[]),x.useEffect(()=>{if(!u)return;const ce=setInterval(K,15e3);return()=>clearInterval(ce)},[u]);const W=x.useMemo(()=>{let ce=[...t];g!=="all"&&(ce=ce.filter(te=>((te==null?void 0:te.provider)||"").toLowerCase()===g)),y!=="all"&&(ce=ce.filter(te=>((te==null?void 0:te.category)||"").toLowerCase()===y));const Ee=f.trim().toLowerCase();return Ee&&(ce=ce.filter(te=>[te==null?void 0:te.name,te==null?void 0:te.model,te==null?void 0:te.voice,te==null?void 0:te.category,te==null?void 0:te.attached_Number].filter(Boolean).map(String).map($e=>$e.toLowerCase()).some($e=>$e.includes(Ee)))),ce.sort((te,we)=>{if(w==="created_at"){const Ge=te!=null&&te.created_at?new Date(te.created_at).getTime():0,st=we!=null&&we.created_at?new Date(we.created_at).getTime():0;return k==="asc"?Ge-st:st-Ge}const $e=((te==null?void 0:te[w])??"").toString().toLowerCase(),Ke=((we==null?void 0:we[w])??"").toString().toLowerCase();return $e<Ke?k==="asc"?-1:1:$e>Ke?k==="asc"?1:-1:0}),ce},[t,f,g,y,w,k]),B=x.useMemo(()=>{const ce=new Set((t||[]).map(Ee=>((Ee==null?void 0:Ee.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ce)]},[t]),A=x.useMemo(()=>{const ce=new Set((t||[]).map(Ee=>((Ee==null?void 0:Ee.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ce)]},[t]),z=Math.max(1,Math.ceil(W.length/oe)),$=Math.min(ie,z),G=W.slice(($-1)*oe,$*oe),ue=x.useMemo(()=>W.length?W.reduce((ce,Ee)=>{const te=ce!=null&&ce.created_at?new Date(ce.created_at):null,we=Ee!=null&&Ee.created_at?new Date(Ee.created_at):null;return!te&&we?Ee:!we&&te||!te&&!we?ce:we>te?Ee:ce},W[0]):null,[W]),ee=ce=>{w===ce?_(Ee=>Ee==="asc"?"desc":"asc"):(S(ce),_("asc"))},Z=ce=>{E(ce),O(!0)},Ae=async()=>{if(T)try{const ce=await fetch(`${Z0}/api/assistants/${T}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:P?`Bearer ${P}`:""}});if(!ce.ok){let Ee=`HTTP ${ce.status}`;try{const te=await ce.json();te!=null&&te.detail&&(Ee=te.detail)}catch{}throw new Error(Ee)}R.success("Assistant deleted"),M(Ee=>Ee.filter(te=>te!==T)),K()}catch(ce){console.error(ce),R.error((ce==null?void 0:ce.message)||"Delete failed")}finally{O(!1),E(null)}},ae=ce=>{const Ee=ce==null?void 0:ce.knowledge_base;if(Array.isArray(Ee)&&Ee.length){const te=Ee.filter(we=>typeof we=="string"&&/^https?:\/\//i.test(we));if(te.length){te.forEach(we=>window.open(we,"_blank","noopener"));return}}R.info("No file URLs available for this assistant.")},_e=ce=>{if(!(ce!=null&&ce.vapi_assistant_id)){R.error("Missing VAPI Assistant ID");return}F({vapi_assistant_id:ce.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),Y(!0)},Me=async ce=>{ce.preventDefault();const{vapi_assistant_id:Ee,number:te,first_name:we,last_name:$e,email:Ke}=U;if(!te)return R.error("Enter the customer's phone number (E.164 preferred)");try{const Ge=`${Z0}/api/phone-call/${encodeURIComponent(Ee)}/${encodeURIComponent(te)}`,st={first_name:we||"Caller",last_name:$e||"",email:Ke||"caller@example.com",add_date:new Date().toISOString(),mobile_no:te,custom_field_01:null,custom_field_02:null},nt=await fetch(Ge,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:P?`Bearer ${P}`:""},body:JSON.stringify(st)}),Oe=await nt.json().catch(()=>({}));if(!nt.ok||(Oe==null?void 0:Oe.success)===!1)throw new Error((Oe==null?void 0:Oe.detail)||`HTTP ${nt.status}`);R.success("Call initiated"),Y(!1)}catch(Ge){console.error(Ge),R.error((Ge==null?void 0:Ge.message)||"Failed to initiate call")}},Pe=ce=>I.includes(ce),ge=ce=>{M(Ee=>Ee.includes(ce)?Ee.filter(te=>te!==ce):[...Ee,ce])},qe=()=>{const ce=G.map(te=>te.id).filter(Boolean),Ee=ce.every(te=>I.includes(te));M(te=>Ee?te.filter(we=>!ce.includes(we)):Array.from(new Set([...te,...ce])))},Ve=async()=>{if(!I.length)return R.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const ce of I)await fetch(`${Z0}/api/assistants/${ce}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:P?`Bearer ${P}`:""}});R.success("Bulk delete complete"),M([]),K()}catch(ce){console.error(ce),R.error("Bulk delete encountered an error")}},ye=()=>{const ce=["Name","Model","Voice","Attached Number","Category","Created"],Ee=W.map(Ge=>[(Ge==null?void 0:Ge.name)??"",(Ge==null?void 0:Ge.model)??"",(Ge==null?void 0:Ge.voice)??"",(Ge==null?void 0:Ge.attached_Number)??"",(Ge==null?void 0:Ge.category)??"",Ge!=null&&Ge.created_at?new Date(Ge.created_at).toLocaleString():""]),te=[ce,...Ee].map(Ge=>Ge.map(st=>`"${String(st).replace(/"/g,'""')}"`).join(",")).join(`
`),we=new Blob([te],{type:"text/csv;charset=utf-8;"}),$e=URL.createObjectURL(we),Ke=document.createElement("a");Ke.href=$e,Ke.download="assistants.csv",Ke.click(),URL.revokeObjectURL($e)};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((ce,Ee)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},Ee))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((ce,Ee)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((te,we)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},we))})]})},Ee))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(Fd,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[W.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xx,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",u?"enabled":"disabled"]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>m(ce=>!ce),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${u?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${u?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:K,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(cL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:ye,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(oL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(pg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(dL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:f,onChange:ce=>h(ce.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(DO,{label:"Provider",value:g,onChange:b,options:B,icon:n.jsx(vfe,{className:"h-4 w-4"})}),n.jsx(DO,{label:"Category",value:y,onChange:j,options:A,icon:n.jsx(bf,{className:"h-4 w-4"})})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(Q0,{title:"Total Assistants",value:W.length,icon:n.jsx(Fd,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(Q0,{title:"Active Calls",value:"24",icon:n.jsx(Bl,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(Q0,{title:"Success Rate",value:"94.2%",icon:n.jsx(js,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(Q0,{title:"Last Created",value:ue!=null&&ue.name?ue.name.length>12?`${ue.name.slice(0,12)}`:ue.name:"",icon:n.jsx(xx,{className:"h-6 w-6 text-cyan-600"}),subtitle:ue!=null&&ue.created_at?new Date(ue.created_at).toLocaleDateString():""})]}),I.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(js,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[I.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:qe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:Ve,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),W.length===0?n.jsx(M0e,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx(E0e,{className:"w-12 text-center",checked:G.every(ce=>I.includes(ce.id))&&G.length>0,onChange:qe}),n.jsx(cd,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:w==="name"?k:null,onSort:ee}),n.jsx(cd,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:w==="model"?k:null,onSort:ee}),n.jsx(cd,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:w==="voice"?k:null,onSort:ee}),n.jsx(cd,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:w==="attached_Number"?k:null,onSort:ee}),n.jsx(cd,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:w==="category"?k:null,onSort:ee}),n.jsx(cd,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:w==="created_at"?k:null,onSort:ee}),n.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:G.map(ce=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Pe(ce.id)?"bg-blue-50/50":""}`,children:[n.jsx(O0e,{className:"w-12 text-center",checked:Pe(ce.id),onChange:()=>ge(ce.id)}),n.jsx("td",{className:"w-[24%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(bf,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:ce.name||""}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(ce.knowledge_base)?ce.knowledge_base.length:0," KB items"]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(Cd,{variant:"secondary",children:ce.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(Cd,{variant:"accent",children:ce.voice||""})})}),n.jsx("td",{className:"w-[16%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:ce.attached_Number||""}),ce.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>D0e(ce.attached_Number),children:n.jsx(lL,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:ce.category?n.jsx(Cd,{variant:"primary",children:ce.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:ce.created_at?new Date(ce.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(J0,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${ce.id}`),variant:"primary",children:n.jsx(fg,{className:"h-4 w-4"})}),n.jsx(J0,{title:"View Files",onClick:()=>ae(ce),variant:"success",children:n.jsx(hg,{className:"h-4 w-4"})}),n.jsx(J0,{title:"Start Call",onClick:()=>_e(ce),variant:"secondary",children:n.jsx(Bl,{className:"h-4 w-4"})}),n.jsx(J0,{title:"Delete",onClick:()=>Z(ce.id),variant:"danger",children:n.jsx(Zo,{className:"h-4 w-4"})})]})})]},ce.id??ce.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:G.map(ce=>n.jsx(P0e,{assistant:ce,isSelected:Pe(ce.id),onToggleSelect:()=>ge(ce.id),onEdit:()=>e(`/admin/edit-assistants/${ce.id}`),onViewFiles:()=>ae(ce),onCall:()=>_e(ce),onDelete:()=>Z(ce.id)},ce.id??ce.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",($-1)*oe+1," to ",Math.min($*oe,W.length)," of"," ",W.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(RO,{disabled:$<=1,onClick:()=>Se(ce=>Math.max(1,ce-1)),children:[n.jsx(rL,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,z)},(ce,Ee)=>{const te=Ee+1;return n.jsx("button",{onClick:()=>Se(te),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${te===$?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:te},te)})}),n.jsxs(RO,{disabled:$>=z,onClick:()=>Se(ce=>Math.min(z,ce+1)),children:["Next",n.jsx(sL,{className:"h-4 w-4"})]})]})]})]})]}),C&&n.jsx($O,{onClose:()=>O(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(Zo,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>O(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ae,children:"Delete Assistant"})]})]})}),V&&n.jsxs($O,{onClose:()=>Y(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(Bl,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:Me,className:"space-y-4",children:[n.jsx(ep,{label:"Customer Phone Number",value:U.number,onChange:ce=>F(Ee=>({...Ee,number:ce})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(ep,{label:"First Name",value:U.first_name,onChange:ce=>F(Ee=>({...Ee,first_name:ce})),placeholder:"John"}),n.jsx(ep,{label:"Last Name",value:U.last_name,onChange:ce=>F(Ee=>({...Ee,last_name:ce})),placeholder:"Doe"})]}),n.jsx(ep,{label:"Email Address",value:U.email,onChange:ce=>F(Ee=>({...Ee,email:ce})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>Y(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Q0({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function DO({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(mg,{className:"h-4 w-4 text-white/70"})})]})}function Cd({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function J0({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function cd({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(iL,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(mg,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function E0e({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function O0e({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(js,{className:"h-3 w-3"})})})})}function P0e({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(js,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(bf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(Cd,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(Cd,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(Cd,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(fg,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(hg,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(Bl,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(Zo,{className:"h-4 w-4"}),"Delete"]})]})]})}function RO({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function $O({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function ep({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function M0e(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(Fd,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(pg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function D0e(e){e&&navigator.clipboard.writeText(e).then(()=>R.success("Copied to clipboard")).catch(()=>R.info(e))}const LO="https://app.thedbt.ai",IO={PHONE_NUMBERS:`${LO}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${LO}/api/admin/phone-numbers/${e}`},R0e="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function BO(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function ms({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function tp({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function _o({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ko({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function $0e(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function np({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function L0e({name:e="?",size:t=38,url:a=null}){const r=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:n.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function I0e({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(ms,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(wa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function B0e(){var K,W;const[e,t]=x.useState([]),[a,r]=x.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(""),[b,y]=x.useState("all"),[j,w]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,O]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[T,E]=x.useState(null),I=x.useCallback(async()=>{if(C){t([]),r({total:0,attached:0,unattached:0,countries:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const B=localStorage.getItem("token");if(!B){t([]),r({total:0,attached:0,unattached:0,countries:0}),u("No auth token found."),R.error("No authentication token found.");return}try{l(!0),u("");const A=await fetch(IO.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${B}`,Accept:"application/json"},mode:"cors"});if(!A.ok){const Ae=await A.text();throw new Error(`HTTP ${A.status}${Ae?`  ${Ae}`:""}`)}const z=await A.json();if(!(z!=null&&z.success)||!Array.isArray(z==null?void 0:z.phone_numbers))throw new Error("Unexpected response shape.");const $=(z.phone_numbers||[]).map(Ae=>({id:Ae.id,phone_number:Ae.phone_number,friendly_name:Ae.friendly_name||"",region:Ae.region||"",postal_code:Ae.postal_code||"",iso_country:(Ae.iso_country||"").toUpperCase(),last_month_payment:Ae.last_month_payment,created_at:Ae.created_at,updated_at:Ae.updated_at,attached_assistant:Ae.attached_assistant,vapi_phone_uuid:Ae.vapi_phone_uuid||null,owner:Ae.user||null}));$.sort((Ae,ae)=>new Date(ae.updated_at||ae.created_at||0)-new Date(Ae.updated_at||Ae.created_at||0)),t($);const G=$.filter(Ae=>Ae.attached_assistant!==null&&Ae.attached_assistant!==void 0).length,ue=z.total_phone_numbers??$.length,ee=Math.max(0,ue-G),Z=new Set($.map(Ae=>Ae.iso_country||"")).size;r({total:ue,attached:G,unattached:ee,countries:Z})}catch(A){u((A==null?void 0:A.message)||"Failed to load phone numbers"),R.error((A==null?void 0:A.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);x.useEffect(()=>{I()},[I]);const M=x.useMemo(()=>{const B=new Set(e.map(A=>A.iso_country).filter(Boolean));return["all",...Array.from(B).sort()]},[e]),V=x.useMemo(()=>{let B=[...e];if(h.trim()){const A=h.trim().toLowerCase();B=B.filter(z=>{var $,G;return String(z.phone_number||"").toLowerCase().includes(A)||String(z.friendly_name||"").toLowerCase().includes(A)||String(z.region||"").toLowerCase().includes(A)||String(z.postal_code||"").toLowerCase().includes(A)||String((($=z.owner)==null?void 0:$.name)||"").toLowerCase().includes(A)||String(((G=z.owner)==null?void 0:G.email)||"").toLowerCase().includes(A)})}return b!=="all"&&(B=B.filter(A=>b==="attached"?A.attached_assistant:!A.attached_assistant)),j!=="all"&&(B=B.filter(A=>(A.iso_country||"").toUpperCase()===j)),B},[e,h,b,j]),Y=Math.max(1,Math.ceil(V.length/_)),U=S*_,F=U-_,ie=V.slice(F,U);x.useEffect(()=>{k(1)},[h,b,j]);const Se=B=>E(B),oe=async()=>{const B=T;if(!B)return;const A=localStorage.getItem("token");if(!A)return R.error("No authentication token found.");const z=e.find($=>$.id===B);if(z!=null&&z.attached_assistant)return R.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{f(B);const $=await fetch(IO.PHONE_NUMBER(B),{method:"DELETE",headers:{Authorization:`Bearer ${A}`,Accept:"application/json"}}),G=await $.json();if(!$.ok||!(G!=null&&G.success))throw new Error((G==null?void 0:G.detail)||(G==null?void 0:G.message)||`HTTP ${$.status}`);R.success(" Phone number deleted"),t(ue=>ue.filter(ee=>ee.id!==B)),r(ue=>({...ue,total:Math.max(0,ue.total-1),unattached:Math.max(0,ue.unattached-1)})),E(null)}catch($){R.error(($==null?void 0:$.message)||"Delete failed")}finally{f(null)}},P=()=>{const B=localStorage.getItem("admin_token_backup");if(!B){R.error("No admin backup token found.");return}localStorage.setItem("token",B),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),O(null),R.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(Hs,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(K=C.acting_as)==null?void 0:K.email})]})]}),n.jsxs(ms,{onClick:P,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(wa,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(vt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${R0e}`,children:"Phone Numbers"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.jsx(ms,{onClick:I,disabled:s||!!C,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(np,{label:"Total Numbers",value:a.total,Icon:vt,tone:"blue"}),n.jsx(np,{label:"Attached",value:a.attached,Icon:Hs,tone:"cyan"}),n.jsx(np,{label:"Unattached",value:a.unattached,Icon:_r,tone:"blue"}),n.jsx(np,{label:"Countries",value:a.countries,Icon:Ci,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:B=>g(B.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(zl,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:B=>y(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"attached",children:"Attached"}),n.jsx("option",{value:"unattached",children:"Unattached"})]}),n.jsx("select",{value:j,onChange:B=>w(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(B=>n.jsx("option",{value:B,children:B==="all"?"All countries":B},B))}),(h||b!=="all"||j!=="all")&&n.jsx(ms,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(vt,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",V.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(Hs,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(ms,{onClick:P,variant:"primary",children:[n.jsx(wa,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ye,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):V.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(vt,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(_o,{children:"Number"}),n.jsx(_o,{children:"Owner"}),n.jsx(_o,{children:"Region"}),n.jsx(_o,{children:"Country"}),n.jsx(_o,{children:"Status"}),n.jsx(_o,{children:"Last Month"}),n.jsx(_o,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ie.map(B=>{const A=!!B.attached_assistant;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(ko,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name})]})}),n.jsx(ko,{children:B.owner?n.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[n.jsx(L0e,{name:B.owner.name,size:34}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-semibold truncate",children:B.owner.name}),n.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[n.jsx(Ra,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),n.jsx("span",{className:"truncate break-all",children:B.owner.email})]})]})]}):n.jsx("div",{className:"text-xs text-slate-500",children:""})}),n.jsx(ko,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(Ys,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-all",children:B.region})]})}),n.jsx(ko,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(Ci,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]})}),n.jsx(ko,{children:A?n.jsxs(tp,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):n.jsxs(tp,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(_r,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),n.jsx(ko,{children:n.jsx("div",{className:"text-xs font-semibold text-slate-800",children:BO(B.last_month_payment)})}),n.jsx(ko,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsx(ms,{onClick:()=>Se(B.id),variant:"danger",size:"sm",disabled:A,title:A?"Detach from assistant before deleting":"Delete number",children:m===B.id?n.jsx(Ye,{className:"h-4 w-4 animate-spin"}):n.jsx(Tn,{className:"h-4 w-4"})})})})]},B.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ie.map((B,A)=>{var $,G;const z=!!B.attached_assistant;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[A===0&&n.jsx($0e,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(kP,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate font-semibold",children:(($=B.owner)==null?void 0:$.name)||""}),((G=B.owner)==null?void 0:G.email)&&n.jsx("div",{className:"text-xs text-slate-500 truncate",children:B.owner.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Ci,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsx(Ys,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-words",children:B.region})]}),n.jsx("div",{className:"col-span-2",children:z?n.jsxs(tp,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(vn,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):n.jsxs(tp,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(_r,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.jsx(ms,{onClick:()=>Se(B.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:z,children:m===B.id?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Tn,{className:"h-4 w-4 mr-1"})," Delete"]})})}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:BO(B.last_month_payment)})]})]},B.id)})})}),V.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:F+1}),"",n.jsx("b",{children:Math.min(U,V.length)})," of ",n.jsx("b",{children:V.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(ms,{onClick:()=>k(B=>Math.max(1,B-1)),disabled:S===1,children:[n.jsx(Da,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Y)},(B,A)=>{let z;if(Y<=5||S<=3?z=A+1:S>=Y-2?z=Y-4+A:z=S-2+A,z<1||z>Y)return null;const $=S===z;return n.jsx("button",{onClick:()=>k(z),className:`px-3 py-2 text-sm font-semibold rounded-xl ${$?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:z},z)})}),n.jsxs(ms,{onClick:()=>k(B=>Math.min(Y,B+1)),disabled:S>=Y,children:["Next ",n.jsx(yn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(At,{children:T&&n.jsxs(I0e,{onClose:()=>E(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",n.jsx("b",{className:"break-words",children:((W=e.find(B=>B.id===T))==null?void 0:W.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(ms,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),n.jsx(ms,{onClick:oe,disabled:m===T,variant:"danger",children:m===T?n.jsxs(n.Fragment,{children:[n.jsx(Ye,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const z0e=()=>{const[e,t]=x.useState([]),[a,r]=x.useState({name:"",id:null}),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(null),b=dn();x.useEffect(()=>{y()},[]);const y=async()=>{try{const T=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to fetch leads");const E=await T.json();t(E)}catch(T){console.error("Error fetching leads:",T)}},j=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),u(!1),y()}catch(T){console.error("Error creating lead:",T)}},w=T=>{r({name:T.name,id:T.id}),l(!0),u(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${a.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),u(!1),y()}catch(T){console.error("Error updating lead:",T)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");f(!1),g(null),y()}catch(T){console.error("Error deleting lead:",T)}},_=T=>{b(`/admin/lead/${T}`)},C=e.length,O=e.length>0?e[e.length-1]:null;return n.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),n.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:O?`${O.name} (${O.created_at})`:"No leads yet"})]})]}),n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs("button",{onClick:()=>{l(!s),u(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("input",{type:"text",placeholder:"Lead Name",value:a.name,onChange:T=>r({...a,name:T.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:c?S:j,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>f(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),n.jsxs("table",{className:"w-full text-sm sm:text-base",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{className:"hidden sm:table-row",children:[n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(T=>n.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),T.id]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),T.name]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),T.created_at]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),n.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>_(T.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:n.jsx(ZW,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>w(T),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:n.jsx(XW,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>{g(T.id),f(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:n.jsx(JW,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},T.id))})]})]})]})})},zO="https://app.thedbt.ai",UO={LIST:`${zO}/api/admin/leadss`,UPDATE:e=>`${zO}/api/admin/leads/${e}`};function sc(...e){return e.filter(Boolean).join(" ")}const br=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function U0e(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function F0e(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${s}`}function FO(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const V0e={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},VO={show:{transition:{staggerChildren:.05}}},H0e={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},q0e={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function dd({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return n.jsx("span",{className:sc("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function xj({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function K0e(){const e=x.useRef(localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(""),f=U0e(u,250),[h,g]=x.useState("add_date"),[b,y]=x.useState("desc"),[j,w]=x.useState(1),[S,k]=x.useState(12),[_,C]=x.useState(!1),[O,T]=x.useState(!1),[E,I]=x.useState(null),[M,V]=x.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function Y(){if(!e.current){s(!1),R.error("No auth token found. Please log in.");return}try{s(!0);const G=await fetch(UO.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!G.ok)throw new Error(`HTTP ${G.status}`);const ue=await G.json(),ee=Array.isArray(ue)?ue:Array.isArray(ue==null?void 0:ue.leads)?ue.leads:[];a(ee)}catch(G){console.error(G),R.error("Failed to fetch leads"),a([])}finally{s(!1)}}x.useEffect(()=>{Y()},[]);async function U(){c(!0),await Y(),c(!1)}const F=x.useMemo(()=>{const G=f.trim().toLowerCase();let ue=t.filter(Z=>G?[`${Z.first_name||""} ${Z.last_name||""}`.toLowerCase(),(Z.email||"").toLowerCase(),(Z.mobile||"").toLowerCase(),(Z.salesforce_id||"").toLowerCase(),(Z.state||"").toLowerCase()].some(_e=>_e.includes(G)):!0);const ee=b==="asc"?1:-1;return ue.sort((Z,Ae)=>{const ae=`${Z.first_name||""} ${Z.last_name||""}`.trim().toLowerCase(),_e=`${Ae.first_name||""} ${Ae.last_name||""}`.trim().toLowerCase();let Me,Pe;switch(h){case"name":Me=ae,Pe=_e;break;case"email":Me=(Z.email||"").toLowerCase(),Pe=(Ae.email||"").toLowerCase();break;case"mobile":Me=(Z.mobile||"").toLowerCase(),Pe=(Ae.mobile||"").toLowerCase();break;case"state":Me=(Z.state||"").toLowerCase(),Pe=(Ae.state||"").toLowerCase();break;case"add_date":default:Me=new Date(Z.add_date||0).getTime(),Pe=new Date(Ae.add_date||0).getTime()}return Me<Pe?-1*ee:Me>Pe?1*ee:0}),ue},[t,f,h,b]),ie=F.length,Se=Math.max(1,Math.ceil(ie/S));x.useEffect(()=>{j>Se&&w(Se)},[j,Se]);const oe=(j-1)*S,P=oe+S,K=F.slice(oe,P),W=x.useMemo(()=>{const G=F.filter(ee=>!ee.dnc).length,ue=F.filter(ee=>!!ee.dnc).length;return{total:F.length,callable:G,dnc:ue}},[F]);function B(G){I(G),V({first_name:G.first_name||"",last_name:G.last_name||"",email:G.email||"",add_date:F0e(G.add_date),salesforce_id:G.salesforce_id||"",mobile:G.mobile||"",state:G.state||""}),C(!0)}function A(G){const{name:ue,value:ee}=G.target;V(Z=>({...Z,[ue]:ee}))}async function z(){if(!E)return;if(!e.current){R.error("No auth token found.");return}const G={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{T(!0);const ue=await fetch(UO.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(G)}),ee=await ue.json().catch(()=>({}));if(!ue.ok||(ee==null?void 0:ee.success)===!1)throw new Error((ee==null?void 0:ee.detail)||`HTTP ${ue.status}`);const Z=(ee==null?void 0:ee.updated_lead)||{...E,...G};a(Ae=>Ae.map(ae=>ae.id===E.id?{...ae,...Z}:ae)),R.success("Lead updated"),C(!1),I(null)}catch(ue){console.error(ue),R.error((ue==null?void 0:ue.message)||"Update failed")}finally{T(!1)}}function $(G){g(ue=>ue===G?(y(ee=>ee==="asc"?"desc":"asc"),ue):(y(G==="add_date"?"desc":"asc"),G)),w(1)}return n.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),n.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),n.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:n.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-black tracking-tight",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),n.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(HO,{onClick:U,icon:n.jsx(Ye,{className:sc("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-2",children:[n.jsx(Ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),n.jsx("input",{value:u,onChange:G=>{m(G.target.value),w(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:ie})]}),n.jsx("select",{value:S,onChange:G=>{k(Number(G.target.value)),w(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(G=>n.jsxs("option",{value:G,children:[G," / page"]},G))})]})]})]})}),n.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(xj,{label:"Total Leads",value:W.total,Icon:Fa,tone:"blue"}),n.jsx(xj,{label:"Callable",value:W.callable,Icon:vn,tone:"cyan"}),n.jsx(xj,{label:"DNC",value:W.dnc,Icon:_r,tone:"blue"})]})}),n.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[n.jsx(pe.div,{initial:"hidden",animate:"show",variants:VO,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:n.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[n.jsx(Tm,{sortKey:"add_date",sortBy:h,sortDir:b,onSort:$,children:"Added"}),n.jsx(Tm,{sortKey:"name",sortBy:h,sortDir:b,onSort:$,children:"Name"}),n.jsx(Tm,{sortKey:"email",sortBy:h,sortDir:b,onSort:$,children:"Email"}),n.jsx(Tm,{sortKey:"mobile",sortBy:h,sortDir:b,onSort:$,children:"Mobile"}),n.jsx(Tm,{sortKey:"state",sortBy:h,sortDir:b,onSort:$,children:"State"}),n.jsx("th",{className:"px-5 py-3",children:"SFDC"}),n.jsx("th",{className:"px-5 py-3",children:"Status"}),n.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:r?n.jsx(KO,{rows:8,cols:8}):K.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):K.map(G=>{const ue=`${br(G.first_name)} ${G.last_name?br(G.last_name):""}`.trim();return n.jsxs(pe.tr,{variants:V0e,className:"hover:bg-slate-50/70 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:G.add_date?n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(xU,{className:"h-4 w-4 text-slate-400"}),FO(G.add_date)]}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ue}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(Ra,{className:"h-4 w-4 text-slate-400"}),br(G.email)]})}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(t3,{className:"h-4 w-4 text-slate-400"}),br(G.mobile)]})}),n.jsx("td",{className:"px-5 py-3",children:G.state?n.jsx(dd,{tone:"blue",children:br(G.state)}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 text-slate-800",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(Qk,{className:"h-4 w-4 text-slate-400"}),br(G.salesforce_id)]})}),n.jsx("td",{className:"px-5 py-3",children:G.dnc?n.jsx(dd,{tone:"red",children:"DNC"}):n.jsx(dd,{tone:"green",children:"Callable"})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsx(gj,{onClick:()=>B(G),icon:n.jsx(e3,{className:"h-4 w-4"}),children:"Edit"})})})]},G.id)})})]})}),n.jsx("div",{className:"lg:hidden",children:r?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:n.jsx(KO,{rows:6,cols:1})}):K.length===0?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):n.jsx(pe.div,{initial:"hidden",animate:"show",variants:VO,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:K.map(G=>{const ue=`${br(G.first_name)} ${G.last_name?br(G.last_name):""}`.trim();return n.jsxs(pe.article,{variants:H0e,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ue}),n.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:G.add_date?FO(G.add_date):"Unknown"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[G.state?n.jsx(dd,{tone:"blue",children:br(G.state)}):null,G.dnc?n.jsx(dd,{tone:"red",children:"DNC"}):n.jsx(dd,{tone:"green",children:"Callable"})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[n.jsx(ap,{icon:n.jsx(Ra,{className:"h-4 w-4"}),label:"Email",value:br(G.email),copySafe:!0}),n.jsx(ap,{icon:n.jsx(t3,{className:"h-4 w-4"}),label:"Mobile",value:br(G.mobile),copySafe:!0}),n.jsx(ap,{icon:n.jsx(Qk,{className:"h-4 w-4"}),label:"SFDC",value:br(G.salesforce_id)}),G.timezone?n.jsx(ap,{icon:n.jsx(Qr,{className:"h-4 w-4"}),label:"Timezone",value:br(G.timezone)}):null]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(gj,{onClick:()=>B(G),icon:n.jsx(e3,{className:"h-4 w-4"}),children:"Edit"})})]},G.id)})})}),!r&&ie>0&&n.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[n.jsxs("div",{className:"text-sm",children:["Showing ",n.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(P,ie)})," of ",ie]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(qO,{disabled:j<=1,onClick:()=>w(G=>Math.max(1,G-1)),children:[n.jsx(Da,{className:"h-4 w-4"})," Prev"]}),n.jsxs("div",{className:"text-sm",children:["Page ",n.jsx("span",{className:"font-semibold text-slate-900",children:j})," / ",Se]}),n.jsxs(qO,{disabled:j>=Se,onClick:()=>w(G=>Math.min(Se,G+1)),children:["Next ",n.jsx(yn,{className:"h-4 w-4"})]})]})]})]}),n.jsx(At,{children:_&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:q0e,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),n.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:n.jsx(wa,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",n.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(HO,{onClick:()=>C(!1),children:"Cancel"}),n.jsx(gj,{onClick:z,disabled:O,icon:O?n.jsx(Dn,{className:"h-4 w-4 animate-spin"}):void 0,children:O?"Saving":"Save"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(Co,{label:"First name",name:"first_name",value:M.first_name,onChange:A}),n.jsx(Co,{label:"Last name",name:"last_name",value:M.last_name,onChange:A}),n.jsx(Co,{label:"Email",name:"email",value:M.email,onChange:A,type:"email"}),n.jsx(Co,{label:"Mobile",name:"mobile",value:M.mobile,onChange:A}),n.jsx(Co,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:A}),n.jsx(Co,{label:"Add date",name:"add_date",value:M.add_date,onChange:A,type:"date"}),n.jsx(Co,{label:"State",name:"state",value:M.state,onChange:A})]}),n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[n.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function gj({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(pe.button,{whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:sc("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function HO({children:e,onClick:t,icon:a,type:r="button"}){return n.jsxs(pe.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function qO({children:e,disabled:t,onClick:a}){return n.jsx(pe.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:sc("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function Tm({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:sc("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:sc("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function KO({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Co({label:e,name:t,value:a,onChange:r,type:s="text"}){return n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function ap({label:e,value:t,copySafe:a=!1,icon:r}){return n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:sc("text-sm text-slate-800",a?"break-all":"break-words"),children:t})]})]})}const G0e=()=>{const[e,t]=x.useState(null),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState(0),j=x.useRef(null),w=x.useRef(null),{id:S}=yf(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;x.useEffect(()=>{const F=ie=>{c&&(ie.key==="Enter"||ie.key==="Escape")&&u(!1)};return window.addEventListener("keydown",F),()=>window.removeEventListener("keydown",F)},[c]);const C=F=>{F.preventDefault(),F.stopPropagation(),r(!0)},O=F=>{F.preventDefault(),F.stopPropagation(),r(!1)},T=F=>{F.preventDefault(),F.stopPropagation()},E=F=>{F.preventDefault(),F.stopPropagation(),r(!1);const ie=F.dataTransfer.files[0];ie&&ie.type==="text/csv"?ie.size>k?(f("File size exceeds 5MB limit."),g(!1),u(!0)):t(ie):(f("Please upload a valid CSV file."),g(!1),u(!0))},I=F=>{const ie=F.target.files[0];ie&&ie.type==="text/csv"?ie.size>k?(f("File size exceeds 5MB limit."),g(!1),u(!0)):t(ie):(f("Please upload a valid CSV file."),g(!1),u(!0))},M=()=>{j.current.click()},V=()=>{const F=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ie=new Blob([F],{type:"text/csv"}),Se=window.URL.createObjectURL(ie),oe=document.createElement("a");oe.href=Se,oe.download="sample_users.csv",document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),window.URL.revokeObjectURL(Se)},Y=async()=>{if(!e){f("No file selected. Please choose a CSV file."),g(!1),u(!0);return}const F=_();if(!F){console.error("No auth token found. Please log in."),f("Please log in to continue."),g(!1),u(!0);return}const ie=new FormData;ie.append("file",e);try{l(!0),y(0);const Se=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${F}`},body:ie});if(y(100),Se.ok){const oe=await Se.json();console.log("File uploaded successfully:",oe),f("CSV file uploaded successfully!"),g(!0),u(!0),t(null),j.current&&(j.current.value="")}else{let oe=`HTTP error! status: ${Se.status}`;try{const P=await Se.json();P&&P.error&&(oe=P.error)}catch{}throw new Error(oe)}}catch(Se){console.error("Error uploading file:",Se),f("Failed to upload CSV file. Please try again."),g(!1),u(!0)}finally{l(!1),y(0)}},U=F=>F<1024?`${F} B`:F<1024*1024?`${(F/1024).toFixed(2)} KB`:`${(F/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[n.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${a?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:T,onDragLeave:O,onDrop:E,children:n.jsxs("div",{className:"text-center",children:[n.jsx(jD,{className:`mx-auto text-5xl ${a?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:I,ref:j,className:"hidden"}),n.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),n.jsxs("button",{onClick:V,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[n.jsx(vD,{}),"Download Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",U(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:Y,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:n.jsxs("div",{ref:w,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?n.jsx(bD,{className:"text-green-400 text-2xl"}):n.jsx(yD,{className:"text-red-400 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-500 mb-6",children:m}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>u(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function Yn({children:e}){const t=dn(),[a,r]=x.useState(!1),[s,l]=x.useState(!0);return x.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("role");if(!c||!u){R.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}u==="user"?r(!0):u==="admin"?(R.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(R.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?n.jsx("div",{children:"Loading..."}):a?e:null}function us({children:e}){const t=dn(),[a,r]=x.useState(!1);return x.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){R.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(R.error("You are not authorized to access this page."),t("/user",{replace:!0})):(R.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{R.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),a?e:null}function Y0e(){return n.jsxs(n.Fragment,{children:[n.jsx(JB,{children:n.jsxs(EB,{children:[n.jsx(gt,{path:"/",element:n.jsx(AB,{to:"/signup"})}),n.jsx(gt,{path:"/signup",element:n.jsx(mH,{})}),n.jsx(gt,{path:"/login",element:n.jsx(oW,{})}),n.jsx(gt,{path:"/otp",element:n.jsx(lW,{})}),n.jsx(gt,{path:"/forget_password",element:n.jsx(dW,{})}),n.jsx(gt,{path:"/profile",element:n.jsx($W,{})}),n.jsx(gt,{path:"/privacy-policy",element:n.jsx(BW,{})}),n.jsx(gt,{path:"/terms",element:n.jsx(zW,{})}),n.jsxs(gt,{path:"/user",element:n.jsx(nX,{}),children:[n.jsx(gt,{path:"dashboard",element:n.jsx(Yn,{children:n.jsx(Ume,{})})}),n.jsx(gt,{path:"Appointments",element:n.jsx(Yn,{children:n.jsx(phe,{})})}),n.jsx(gt,{path:"Calender",element:n.jsx(Yn,{children:n.jsx(Yhe,{})})}),n.jsx(gt,{path:"PricingSection",element:n.jsx(Yn,{children:n.jsx(Bhe,{})})}),n.jsx(gt,{path:"CustomForms",element:n.jsx(Yn,{children:n.jsx(jhe,{})})}),n.jsx(gt,{path:"FacebookForms",element:n.jsx(Yn,{children:n.jsx(khe,{})})}),n.jsx(gt,{path:"TextAssistants",element:n.jsx(Yn,{children:n.jsx(Phe,{})})}),n.jsx(gt,{path:"PhoneCalls",element:n.jsx(Yn,{children:n.jsx(Jme,{})})}),n.jsx(gt,{path:"callhistory",element:n.jsx(Yn,{children:n.jsx(gfe,{})})}),n.jsx(gt,{path:"settings",element:n.jsx(Yn,{children:n.jsx(xfe,{})})}),n.jsx(gt,{path:"CRM",element:n.jsx(Yn,{children:n.jsx(uhe,{})})}),n.jsx(gt,{path:"callassistent",element:n.jsx(Yn,{children:n.jsx(jfe,{})})}),n.jsx(gt,{path:"edit-assistant/:assistantId",element:n.jsx(Yn,{children:n.jsx(Afe,{})})}),n.jsx(gt,{path:"assistant/create",element:n.jsx(Yn,{children:n.jsx(Dfe,{})})}),n.jsx(gt,{path:"leads",element:n.jsx(Yn,{children:n.jsx(Ife,{})})}),n.jsx(gt,{path:"lead/:id",element:n.jsx(Yn,{children:n.jsx(Ffe,{})})}),n.jsx(gt,{path:"upload-csv",element:n.jsx(Yn,{children:n.jsx(qfe,{})})}),n.jsx(gt,{path:"campaigns",element:n.jsx(Yn,{children:n.jsx(cO,{})})}),n.jsx(gt,{path:"campain",element:n.jsx(Yn,{children:n.jsx(cO,{})})})]}),n.jsxs(gt,{path:"/admin",element:n.jsx(t0e,{}),children:[n.jsx(gt,{path:"dashboard",element:n.jsx(us,{children:n.jsx(p0e,{})})}),n.jsx(gt,{path:"Users",element:n.jsx(us,{children:n.jsx(s0e,{})})}),n.jsx(gt,{path:"PhoneCalls",element:n.jsx(us,{children:n.jsx(v0e,{})})}),n.jsx(gt,{path:"settings",element:n.jsx(us,{children:n.jsx(x0e,{})})}),n.jsx(gt,{path:"addassistands",element:n.jsx(us,{children:n.jsx(_0e,{})})}),n.jsx(gt,{path:"edit-assistants/:assistantId",element:n.jsx(us,{children:n.jsx(A0e,{})})}),n.jsx(gt,{path:"assistants",element:n.jsx(us,{children:n.jsx(T0e,{})})}),n.jsx(gt,{path:"callhistory",element:n.jsx(us,{children:n.jsx(B0e,{})})}),n.jsx(gt,{path:"lead/:id",element:n.jsx(us,{children:n.jsx(z0e,{})})}),n.jsx(gt,{path:"lead",element:n.jsx(us,{children:n.jsx(K0e,{})})}),n.jsx(gt,{path:"upload-csv",element:n.jsx(us,{children:n.jsx(G0e,{})})})]}),n.jsx(gt,{path:"*",element:n.jsx(fH,{})})]})}),n.jsx(Hz,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}LI.createRoot(document.getElementById("root")).render(n.jsx(x.StrictMode,{children:n.jsx(Y0e,{})}));
