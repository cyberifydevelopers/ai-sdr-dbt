var o$=Object.defineProperty;var c$=(e,t,n)=>t in e?o$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var kv=(e,t,n)=>c$(e,typeof t!="symbol"?t+"":t,n);function u$(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=n(s);fetch(s.href,l)}})();function Ur(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cv={exports:{}},ud={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y5;function d$(){if(y5)return ud;y5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function n(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var d in s)d!=="key"&&(l[d]=s[d])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return ud.Fragment=t,ud.jsx=n,ud.jsxs=n,ud}var w5;function f$(){return w5||(w5=1,Cv.exports=d$()),Cv.exports}var a=f$(),Av={exports:{}},ot={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j5;function m$(){if(j5)return ot;j5=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),x=Symbol.iterator;function v(E){return E===null||typeof E!="object"?null:(E=x&&E[x]||E["@@iterator"],typeof E=="function"?E:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function S(E,R,z){this.props=E,this.context=R,this.refs=j,this.updater=z||y}S.prototype.isReactComponent={},S.prototype.setState=function(E,R){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,R,"setState")},S.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(E,R,z){this.props=E,this.context=R,this.refs=j,this.updater=z||y}var C=_.prototype=new k;C.constructor=_,w(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,A={H:null,A:null,T:null,S:null,V:null},T=Object.prototype.hasOwnProperty;function L(E,R,z,W,ce,Q){return z=Q.ref,{$$typeof:e,type:E,key:R,ref:z!==void 0?z:null,props:Q}}function M(E,R){return L(E.type,R,void 0,void 0,void 0,E.props)}function F(E){return typeof E=="object"&&E!==null&&E.$$typeof===e}function K(E){var R={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(z){return R[z]})}var V=/\/+/g;function $(E,R){return typeof E=="object"&&E!==null&&E.key!=null?K(""+E.key):R.toString(36)}function ee(){}function je(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(ee,ee):(E.status="pending",E.then(function(R){E.status==="pending"&&(E.status="fulfilled",E.value=R)},function(R){E.status==="pending"&&(E.status="rejected",E.reason=R)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function ne(E,R,z,W,ce){var Q=typeof E;(Q==="undefined"||Q==="boolean")&&(E=null);var Z=!1;if(E===null)Z=!0;else switch(Q){case"bigint":case"string":case"number":Z=!0;break;case"object":switch(E.$$typeof){case e:case t:Z=!0;break;case h:return Z=E._init,ne(Z(E._payload),R,z,W,ce)}}if(Z)return ce=ce(E),Z=W===""?"."+$(E,0):W,P(ce)?(z="",Z!=null&&(z=Z.replace(V,"$&/")+"/"),ne(ce,R,z,"",function(we){return we})):ce!=null&&(F(ce)&&(ce=M(ce,z+(ce.key==null||E&&E.key===ce.key?"":(""+ce.key).replace(V,"$&/")+"/")+Z)),R.push(ce)),1;Z=0;var Ne=W===""?".":W+":";if(P(E))for(var re=0;re<E.length;re++)W=E[re],Q=Ne+$(W,re),Z+=ne(W,R,z,Q,ce);else if(re=v(E),typeof re=="function")for(E=re.call(E),re=0;!(W=E.next()).done;)W=W.value,Q=Ne+$(W,re++),Z+=ne(W,R,z,Q,ce);else if(Q==="object"){if(typeof E.then=="function")return ne(je(E),R,z,W,ce);throw R=String(E),Error("Objects are not valid as a React child (found: "+(R==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":R)+"). If you meant to render a collection of children, use an array instead.")}return Z}function D(E,R,z){if(E==null)return E;var W=[],ce=0;return ne(E,W,"","",function(Q){return R.call(z,Q,ce++)}),W}function Y(E){if(E._status===-1){var R=E._result;R=R(),R.then(function(z){(E._status===0||E._status===-1)&&(E._status=1,E._result=z)},function(z){(E._status===0||E._status===-1)&&(E._status=2,E._result=z)}),E._status===-1&&(E._status=0,E._result=R)}if(E._status===1)return E._result.default;throw E._result}var H=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var R=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(R))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function I(){}return ot.Children={map:D,forEach:function(E,R,z){D(E,function(){R.apply(this,arguments)},z)},count:function(E){var R=0;return D(E,function(){R++}),R},toArray:function(E){return D(E,function(R){return R})||[]},only:function(E){if(!F(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ot.Component=S,ot.Fragment=n,ot.Profiler=s,ot.PureComponent=_,ot.StrictMode=r,ot.Suspense=f,ot.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,ot.__COMPILER_RUNTIME={__proto__:null,c:function(E){return A.H.useMemoCache(E)}},ot.cache=function(E){return function(){return E.apply(null,arguments)}},ot.cloneElement=function(E,R,z){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var W=w({},E.props),ce=E.key,Q=void 0;if(R!=null)for(Z in R.ref!==void 0&&(Q=void 0),R.key!==void 0&&(ce=""+R.key),R)!T.call(R,Z)||Z==="key"||Z==="__self"||Z==="__source"||Z==="ref"&&R.ref===void 0||(W[Z]=R[Z]);var Z=arguments.length-2;if(Z===1)W.children=z;else if(1<Z){for(var Ne=Array(Z),re=0;re<Z;re++)Ne[re]=arguments[re+2];W.children=Ne}return L(E.type,ce,void 0,void 0,Q,W)},ot.createContext=function(E){return E={$$typeof:c,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:l,_context:E},E},ot.createElement=function(E,R,z){var W,ce={},Q=null;if(R!=null)for(W in R.key!==void 0&&(Q=""+R.key),R)T.call(R,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ce[W]=R[W]);var Z=arguments.length-2;if(Z===1)ce.children=z;else if(1<Z){for(var Ne=Array(Z),re=0;re<Z;re++)Ne[re]=arguments[re+2];ce.children=Ne}if(E&&E.defaultProps)for(W in Z=E.defaultProps,Z)ce[W]===void 0&&(ce[W]=Z[W]);return L(E,Q,void 0,void 0,null,ce)},ot.createRef=function(){return{current:null}},ot.forwardRef=function(E){return{$$typeof:d,render:E}},ot.isValidElement=F,ot.lazy=function(E){return{$$typeof:h,_payload:{_status:-1,_result:E},_init:Y}},ot.memo=function(E,R){return{$$typeof:m,type:E,compare:R===void 0?null:R}},ot.startTransition=function(E){var R=A.T,z={};A.T=z;try{var W=E(),ce=A.S;ce!==null&&ce(z,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(I,H)}catch(Q){H(Q)}finally{A.T=R}},ot.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},ot.use=function(E){return A.H.use(E)},ot.useActionState=function(E,R,z){return A.H.useActionState(E,R,z)},ot.useCallback=function(E,R){return A.H.useCallback(E,R)},ot.useContext=function(E){return A.H.useContext(E)},ot.useDebugValue=function(){},ot.useDeferredValue=function(E,R){return A.H.useDeferredValue(E,R)},ot.useEffect=function(E,R,z){var W=A.H;if(typeof z=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(E,R)},ot.useId=function(){return A.H.useId()},ot.useImperativeHandle=function(E,R,z){return A.H.useImperativeHandle(E,R,z)},ot.useInsertionEffect=function(E,R){return A.H.useInsertionEffect(E,R)},ot.useLayoutEffect=function(E,R){return A.H.useLayoutEffect(E,R)},ot.useMemo=function(E,R){return A.H.useMemo(E,R)},ot.useOptimistic=function(E,R){return A.H.useOptimistic(E,R)},ot.useReducer=function(E,R,z){return A.H.useReducer(E,R,z)},ot.useRef=function(E){return A.H.useRef(E)},ot.useState=function(E){return A.H.useState(E)},ot.useSyncExternalStore=function(E,R,z){return A.H.useSyncExternalStore(E,R,z)},ot.useTransition=function(){return A.H.useTransition()},ot.version="19.1.0",ot}var N5;function Xc(){return N5||(N5=1,Av.exports=m$()),Av.exports}var g=Xc();const Nt=Ur(g),h$=u$({__proto__:null,default:Nt},[g]);var Tv={exports:{}},dd={},Ev={exports:{}},Pv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S5;function p$(){return S5||(S5=1,function(e){function t(D,Y){var H=D.length;D.push(Y);e:for(;0<H;){var I=H-1>>>1,E=D[I];if(0<s(E,Y))D[I]=Y,D[H]=E,H=I;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var Y=D[0],H=D.pop();if(H!==Y){D[0]=H;e:for(var I=0,E=D.length,R=E>>>1;I<R;){var z=2*(I+1)-1,W=D[z],ce=z+1,Q=D[ce];if(0>s(W,H))ce<E&&0>s(Q,W)?(D[I]=Q,D[ce]=H,I=ce):(D[I]=W,D[z]=H,I=z);else if(ce<E&&0>s(Q,H))D[I]=Q,D[ce]=H,I=ce;else break e}}return Y}function s(D,Y){var H=D.sortIndex-Y.sortIndex;return H!==0?H:D.id-Y.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();e.unstable_now=function(){return c.now()-d}}var f=[],m=[],h=1,x=null,v=3,y=!1,w=!1,j=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(D){for(var Y=n(m);Y!==null;){if(Y.callback===null)r(m);else if(Y.startTime<=D)r(m),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=n(m)}}function A(D){if(j=!1,P(D),!w)if(n(f)!==null)w=!0,T||(T=!0,$());else{var Y=n(m);Y!==null&&ne(A,Y.startTime-D)}}var T=!1,L=-1,M=5,F=-1;function K(){return S?!0:!(e.unstable_now()-F<M)}function V(){if(S=!1,T){var D=e.unstable_now();F=D;var Y=!0;try{e:{w=!1,j&&(j=!1,_(L),L=-1),y=!0;var H=v;try{t:{for(P(D),x=n(f);x!==null&&!(x.expirationTime>D&&K());){var I=x.callback;if(typeof I=="function"){x.callback=null,v=x.priorityLevel;var E=I(x.expirationTime<=D);if(D=e.unstable_now(),typeof E=="function"){x.callback=E,P(D),Y=!0;break t}x===n(f)&&r(f),P(D)}else r(f);x=n(f)}if(x!==null)Y=!0;else{var R=n(m);R!==null&&ne(A,R.startTime-D),Y=!1}}break e}finally{x=null,v=H,y=!1}Y=void 0}}finally{Y?$():T=!1}}}var $;if(typeof C=="function")$=function(){C(V)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,je=ee.port2;ee.port1.onmessage=V,$=function(){je.postMessage(null)}}else $=function(){k(V,0)};function ne(D,Y){L=k(function(){D(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(D){switch(v){case 1:case 2:case 3:var Y=3;break;default:Y=v}var H=v;v=Y;try{return D()}finally{v=H}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(D,Y){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var H=v;v=D;try{return Y()}finally{v=H}},e.unstable_scheduleCallback=function(D,Y,H){var I=e.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?I+H:I):H=I,D){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=H+E,D={id:h++,callback:Y,priorityLevel:D,startTime:H,expirationTime:E,sortIndex:-1},H>I?(D.sortIndex=H,t(m,D),n(f)===null&&D===n(m)&&(j?(_(L),L=-1):j=!0,ne(A,H-I))):(D.sortIndex=E,t(f,D),w||y||(w=!0,T||(T=!0,$()))),D},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(D){var Y=v;return function(){var H=v;v=Y;try{return D.apply(this,arguments)}finally{v=H}}}}(Pv)),Pv}var _5;function x$(){return _5||(_5=1,Ev.exports=p$()),Ev.exports}var Ov={exports:{}},Jn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k5;function g$(){if(k5)return Jn;k5=1;var e=Xc();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)m+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(t(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(f,m,h){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:f,containerInfo:m,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Jn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Jn.createPortal=function(f,m){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return l(f,m,null,h)},Jn.flushSync=function(f){var m=c.T,h=r.p;try{if(c.T=null,r.p=2,f)return f()}finally{c.T=m,r.p=h,r.d.f()}},Jn.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(f,m))},Jn.prefetchDNS=function(f){typeof f=="string"&&r.d.D(f)},Jn.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,y=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;h==="style"?r.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:y}):h==="script"&&r.d.X(f,{crossOrigin:x,integrity:v,fetchPriority:y,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Jn.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var h=d(m.as,m.crossOrigin);r.d.M(f,{crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(f)},Jn.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var h=m.as,x=d(h,m.crossOrigin);r.d.L(f,h,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Jn.preloadModule=function(f,m){if(typeof f=="string")if(m){var h=d(m.as,m.crossOrigin);r.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:h,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(f)},Jn.requestFormReset=function(f){r.d.r(f)},Jn.unstable_batchedUpdates=function(f,m){return f(m)},Jn.useFormState=function(f,m,h){return c.H.useFormState(f,m,h)},Jn.useFormStatus=function(){return c.H.useHostTransitionStatus()},Jn.version="19.1.0",Jn}var C5;function TE(){if(C5)return Ov.exports;C5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Ov.exports=g$(),Ov.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5;function v$(){if(A5)return dd;A5=1;var e=x$(),t=Xc(),n=TE();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var u=2;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(l(i)!==i)throw Error(r(188))}function f(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var u=i,p=o;;){var b=u.return;if(b===null)break;var N=b.alternate;if(N===null){if(p=b.return,p!==null){u=p;continue}break}if(b.child===N.child){for(N=b.child;N;){if(N===u)return d(b),i;if(N===p)return d(b),o;N=N.sibling}throw Error(r(188))}if(u.return!==p.return)u=b,p=N;else{for(var O=!1,B=b.child;B;){if(B===u){O=!0,u=b,p=N;break}if(B===p){O=!0,p=b,u=N;break}B=B.sibling}if(!O){for(B=N.child;B;){if(B===u){O=!0,u=N,p=b;break}if(B===p){O=!0,p=N,u=b;break}B=B.sibling}if(!O)throw Error(r(189))}}if(u.alternate!==p)throw Error(r(190))}if(u.tag!==3)throw Error(r(188));return u.stateNode.current===u?i:o}function m(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=m(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),V=Symbol.iterator;function $(i){return i===null||typeof i!="object"?null:(i=V&&i[V]||i["@@iterator"],typeof i=="function"?i:null)}var ee=Symbol.for("react.client.reference");function je(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ee?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case w:return"Fragment";case S:return"Profiler";case j:return"StrictMode";case A:return"Suspense";case T:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case L:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}var ne=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},I=[],E=-1;function R(i){return{current:i}}function z(i){0>E||(i.current=I[E],I[E]=null,E--)}function W(i,o){E++,I[E]=i.current,i.current=o}var ce=R(null),Q=R(null),Z=R(null),Ne=R(null);function re(i,o){switch(W(Z,o),W(Q,i),W(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?Y_(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=Y_(o),i=W_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}z(ce),W(ce,i)}function we(){z(ce),z(Q),z(Z)}function _e(i){i.memoizedState!==null&&W(Ne,i);var o=ce.current,u=W_(o,i.type);o!==u&&(W(Q,i),W(ce,u))}function Se(i){Q.current===i&&(z(ce),z(Q)),Ne.current===i&&(z(Ne),sd._currentValue=H)}var me=Object.prototype.hasOwnProperty,Be=e.unstable_scheduleCallback,Ue=e.unstable_cancelCallback,be=e.unstable_shouldYield,q=e.unstable_requestPaint,ie=e.unstable_now,G=e.unstable_getCurrentPriorityLevel,xe=e.unstable_ImmediatePriority,ke=e.unstable_UserBlockingPriority,Re=e.unstable_NormalPriority,Ee=e.unstable_LowPriority,et=e.unstable_IdlePriority,Ze=e.log,ye=e.unstable_setDisableYieldValue,Me=null,$e=null;function Le(i){if(typeof Ze=="function"&&ye(i),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(Me,i)}catch{}}var Ie=Math.clz32?Math.clz32:Sn,lt=Math.log,wt=Math.LN2;function Sn(i){return i>>>=0,i===0?32:31-(lt(i)/wt|0)|0}var Zn=256,sn=4194304;function Pe(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Fe(i,o,u){var p=i.pendingLanes;if(p===0)return 0;var b=0,N=i.suspendedLanes,O=i.pingedLanes;i=i.warmLanes;var B=p&134217727;return B!==0?(p=B&~N,p!==0?b=Pe(p):(O&=B,O!==0?b=Pe(O):u||(u=B&~i,u!==0&&(b=Pe(u))))):(B=p&~N,B!==0?b=Pe(B):O!==0?b=Pe(O):u||(u=p&~i,u!==0&&(b=Pe(u)))),b===0?0:o!==0&&o!==b&&(o&N)===0&&(N=b&-b,u=o&-o,N>=u||N===32&&(u&4194048)!==0)?o:b}function St(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Hr(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function de(){var i=Zn;return Zn<<=1,(Zn&4194048)===0&&(Zn=256),i}function X(){var i=sn;return sn<<=1,(sn&62914560)===0&&(sn=4194304),i}function te(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function se(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Ge(i,o,u,p,b,N){var O=i.pendingLanes;i.pendingLanes=u,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=u,i.entangledLanes&=u,i.errorRecoveryDisabledLanes&=u,i.shellSuspendCounter=0;var B=i.entanglements,J=i.expirationTimes,fe=i.hiddenUpdates;for(u=O&~u;0<u;){var Ce=31-Ie(u),Te=1<<Ce;B[Ce]=0,J[Ce]=-1;var pe=fe[Ce];if(pe!==null)for(fe[Ce]=null,Ce=0;Ce<pe.length;Ce++){var ge=pe[Ce];ge!==null&&(ge.lane&=-536870913)}u&=~Te}p!==0&&nt(i,p,0),N!==0&&b===0&&i.tag!==0&&(i.suspendedLanes|=N&~(O&~o))}function nt(i,o,u){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-Ie(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|u&4194090}function xt(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-Ie(u),b=1<<p;b&o|i[p]&o&&(i[p]|=o),u&=~b}}function it(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Tt(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Dt(){var i=Y.p;return i!==0?i:(i=window.event,i===void 0?32:h5(i.type))}function Nr(i,o){var u=Y.p;try{return Y.p=i,o()}finally{Y.p=u}}var gn=Math.random().toString(36).slice(2),Ct="__reactFiber$"+gn,an="__reactProps$"+gn,hs="__reactContainer$"+gn,go="__reactEvents$"+gn,Zf="__reactListeners$"+gn,Qf="__reactHandles$"+gn,xu="__reactResources$"+gn,di="__reactMarker$"+gn;function vo(i){delete i[Ct],delete i[an],delete i[go],delete i[Zf],delete i[Qf]}function ps(i){var o=i[Ct];if(o)return o;for(var u=i.parentNode;u;){if(o=u[hs]||u[Ct]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=J_(i);i!==null;){if(u=i[Ct])return u;i=J_(i)}return o}i=u,u=i.parentNode}return null}function xs(i){if(i=i[Ct]||i[hs]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function fi(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function gs(i){var o=i[xu];return o||(o=i[xu]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function oe(i){i[di]=!0}var Oe=new Set,Ke={};function ze(i,o){Ve(i,o),Ve(i+"Capture",o)}function Ve(i,o){for(Ke[i]=o,i=0;i<o.length;i++)Oe.add(o[i])}var vt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),la={},gu={};function t9(i){return me.call(gu,i)?!0:me.call(la,i)?!1:vt.test(i)?gu[i]=!0:(la[i]=!0,!1)}function Jf(i,o,u){if(t9(o))if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+u)}}function em(i,o,u){if(u===null)i.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+u)}}function vs(i,o,u,p){if(p===null)i.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(u);return}i.setAttributeNS(o,u,""+p)}}var yx,UN;function bo(i){if(yx===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);yx=o&&o[1]||"",UN=-1<u.stack.indexOf(`
    at`)?" (<anonymous>)":-1<u.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yx+i+UN}var wx=!1;function jx(i,o){if(!i||wx)return"";wx=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Te=function(){throw Error()};if(Object.defineProperty(Te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Te,[])}catch(ge){var pe=ge}Reflect.construct(i,[],Te)}else{try{Te.call()}catch(ge){pe=ge}i.call(Te.prototype)}}else{try{throw Error()}catch(ge){pe=ge}(Te=i())&&typeof Te.catch=="function"&&Te.catch(function(){})}}catch(ge){if(ge&&pe&&typeof ge.stack=="string")return[ge.stack,pe.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),O=N[0],B=N[1];if(O&&B){var J=O.split(`
`),fe=B.split(`
`);for(b=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;b<fe.length&&!fe[b].includes("DetermineComponentFrameRoot");)b++;if(p===J.length||b===fe.length)for(p=J.length-1,b=fe.length-1;1<=p&&0<=b&&J[p]!==fe[b];)b--;for(;1<=p&&0<=b;p--,b--)if(J[p]!==fe[b]){if(p!==1||b!==1)do if(p--,b--,0>b||J[p]!==fe[b]){var Ce=`
`+J[p].replace(" at new "," at ");return i.displayName&&Ce.includes("<anonymous>")&&(Ce=Ce.replace("<anonymous>",i.displayName)),Ce}while(1<=p&&0<=b);break}}}finally{wx=!1,Error.prepareStackTrace=u}return(u=i?i.displayName||i.name:"")?bo(u):""}function n9(i){switch(i.tag){case 26:case 27:case 5:return bo(i.type);case 16:return bo("Lazy");case 13:return bo("Suspense");case 19:return bo("SuspenseList");case 0:case 15:return jx(i.type,!1);case 11:return jx(i.type.render,!1);case 1:return jx(i.type,!0);case 31:return bo("Activity");default:return""}}function FN(i){try{var o="";do o+=n9(i),i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}function Ja(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function VN(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function a9(i){var o=VN(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var b=u.get,N=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return b.call(this)},set:function(O){p=""+O,N.call(this,O)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(O){p=""+O},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function tm(i){i._valueTracker||(i._valueTracker=a9(i))}function HN(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=VN(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function nm(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var r9=/[\n"\\]/g;function er(i){return i.replace(r9,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function Nx(i,o,u,p,b,N,O,B){i.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?i.type=O:i.removeAttribute("type"),o!=null?O==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ja(o)):i.value!==""+Ja(o)&&(i.value=""+Ja(o)):O!=="submit"&&O!=="reset"||i.removeAttribute("value"),o!=null?Sx(i,O,Ja(o)):u!=null?Sx(i,O,Ja(u)):p!=null&&i.removeAttribute("value"),b==null&&N!=null&&(i.defaultChecked=!!N),b!=null&&(i.checked=b&&typeof b!="function"&&typeof b!="symbol"),B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?i.name=""+Ja(B):i.removeAttribute("name")}function qN(i,o,u,p,b,N,O,B){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||u!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;u=u!=null?""+Ja(u):"",o=o!=null?""+Ja(o):u,B||o===i.value||(i.value=o),i.defaultValue=o}p=p??b,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=B?i.checked:!!p,i.defaultChecked=!!p,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(i.name=O)}function Sx(i,o,u){o==="number"&&nm(i.ownerDocument)===i||i.defaultValue===""+u||(i.defaultValue=""+u)}function yo(i,o,u,p){if(i=i.options,o){o={};for(var b=0;b<u.length;b++)o["$"+u[b]]=!0;for(u=0;u<i.length;u++)b=o.hasOwnProperty("$"+i[u].value),i[u].selected!==b&&(i[u].selected=b),b&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Ja(u),o=null,b=0;b<i.length;b++){if(i[b].value===u){i[b].selected=!0,p&&(i[b].defaultSelected=!0);return}o!==null||i[b].disabled||(o=i[b])}o!==null&&(o.selected=!0)}}function KN(i,o,u){if(o!=null&&(o=""+Ja(o),o!==i.value&&(i.value=o),u==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=u!=null?""+Ja(u):""}function GN(i,o,u,p){if(o==null){if(p!=null){if(u!=null)throw Error(r(92));if(ne(p)){if(1<p.length)throw Error(r(93));p=p[0]}u=p}u==null&&(u=""),o=u}u=Ja(o),i.defaultValue=u,p=i.textContent,p===u&&p!==""&&p!==null&&(i.value=p)}function wo(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var s9=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function YN(i,o,u){var p=o.indexOf("--")===0;u==null||typeof u=="boolean"||u===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,u):typeof u!="number"||u===0||s9.has(o)?o==="float"?i.cssFloat=u:i[o]=(""+u).trim():i[o]=u+"px"}function WN(i,o,u){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,u!=null){for(var p in u)!u.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var b in o)p=o[b],o.hasOwnProperty(b)&&u[b]!==p&&YN(i,b,p)}else for(var N in o)o.hasOwnProperty(N)&&YN(i,N,o[N])}function _x(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var i9=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),l9=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function am(i){return l9.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var kx=null;function Cx(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jo=null,No=null;function XN(i){var o=xs(i);if(o&&(i=o.stateNode)){var u=i[an]||null;e:switch(i=o.stateNode,o.type){case"input":if(Nx(i,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll('input[name="'+er(""+o)+'"][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var b=p[an]||null;if(!b)throw Error(r(90));Nx(p,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(o=0;o<u.length;o++)p=u[o],p.form===i.form&&HN(p)}break e;case"textarea":KN(i,u.value,u.defaultValue);break e;case"select":o=u.value,o!=null&&yo(i,!!u.multiple,o,!1)}}}var Ax=!1;function ZN(i,o,u){if(Ax)return i(o,u);Ax=!0;try{var p=i(o);return p}finally{if(Ax=!1,(jo!==null||No!==null)&&(Fm(),jo&&(o=jo,i=No,No=jo=null,XN(o),i)))for(o=0;o<i.length;o++)XN(i[o])}}function vu(i,o){var u=i.stateNode;if(u===null)return null;var p=u[an]||null;if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(r(231,o,typeof u));return u}var bs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tx=!1;if(bs)try{var bu={};Object.defineProperty(bu,"passive",{get:function(){Tx=!0}}),window.addEventListener("test",bu,bu),window.removeEventListener("test",bu,bu)}catch{Tx=!1}var mi=null,Ex=null,rm=null;function QN(){if(rm)return rm;var i,o=Ex,u=o.length,p,b="value"in mi?mi.value:mi.textContent,N=b.length;for(i=0;i<u&&o[i]===b[i];i++);var O=u-i;for(p=1;p<=O&&o[u-p]===b[N-p];p++);return rm=b.slice(i,1<p?1-p:void 0)}function sm(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function im(){return!0}function JN(){return!1}function xa(i){function o(u,p,b,N,O){this._reactName=u,this._targetInst=b,this.type=p,this.nativeEvent=N,this.target=O,this.currentTarget=null;for(var B in i)i.hasOwnProperty(B)&&(u=i[B],this[B]=u?u(N):N[B]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?im:JN,this.isPropagationStopped=JN,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=im)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=im)},persist:function(){},isPersistent:im}),o}var dl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lm=xa(dl),yu=h({},dl,{view:0,detail:0}),o9=xa(yu),Px,Ox,wu,om=h({},yu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Dx,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==wu&&(wu&&i.type==="mousemove"?(Px=i.screenX-wu.screenX,Ox=i.screenY-wu.screenY):Ox=Px=0,wu=i),Px)},movementY:function(i){return"movementY"in i?i.movementY:Ox}}),eS=xa(om),c9=h({},om,{dataTransfer:0}),u9=xa(c9),d9=h({},yu,{relatedTarget:0}),Mx=xa(d9),f9=h({},dl,{animationName:0,elapsedTime:0,pseudoElement:0}),m9=xa(f9),h9=h({},dl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),p9=xa(h9),x9=h({},dl,{data:0}),tS=xa(x9),g9={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},v9={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},b9={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function y9(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=b9[i])?!!o[i]:!1}function Dx(){return y9}var w9=h({},yu,{key:function(i){if(i.key){var o=g9[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=sm(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?v9[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Dx,charCode:function(i){return i.type==="keypress"?sm(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?sm(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),j9=xa(w9),N9=h({},om,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nS=xa(N9),S9=h({},yu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Dx}),_9=xa(S9),k9=h({},dl,{propertyName:0,elapsedTime:0,pseudoElement:0}),C9=xa(k9),A9=h({},om,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),T9=xa(A9),E9=h({},dl,{newState:0,oldState:0}),P9=xa(E9),O9=[9,13,27,32],Rx=bs&&"CompositionEvent"in window,ju=null;bs&&"documentMode"in document&&(ju=document.documentMode);var M9=bs&&"TextEvent"in window&&!ju,aS=bs&&(!Rx||ju&&8<ju&&11>=ju),rS=" ",sS=!1;function iS(i,o){switch(i){case"keyup":return O9.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var So=!1;function D9(i,o){switch(i){case"compositionend":return lS(o);case"keypress":return o.which!==32?null:(sS=!0,rS);case"textInput":return i=o.data,i===rS&&sS?null:i;default:return null}}function R9(i,o){if(So)return i==="compositionend"||!Rx&&iS(i,o)?(i=QN(),rm=Ex=mi=null,So=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return aS&&o.locale!=="ko"?null:o.data;default:return null}}var L9={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oS(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!L9[i.type]:o==="textarea"}function cS(i,o,u,p){jo?No?No.push(p):No=[p]:jo=p,o=Ym(o,"onChange"),0<o.length&&(u=new lm("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var Nu=null,Su=null;function $9(i){V_(i,0)}function cm(i){var o=fi(i);if(HN(o))return i}function uS(i,o){if(i==="change")return o}var dS=!1;if(bs){var Lx;if(bs){var $x="oninput"in document;if(!$x){var fS=document.createElement("div");fS.setAttribute("oninput","return;"),$x=typeof fS.oninput=="function"}Lx=$x}else Lx=!1;dS=Lx&&(!document.documentMode||9<document.documentMode)}function mS(){Nu&&(Nu.detachEvent("onpropertychange",hS),Su=Nu=null)}function hS(i){if(i.propertyName==="value"&&cm(Su)){var o=[];cS(o,Su,i,Cx(i)),ZN($9,o)}}function I9(i,o,u){i==="focusin"?(mS(),Nu=o,Su=u,Nu.attachEvent("onpropertychange",hS)):i==="focusout"&&mS()}function z9(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return cm(Su)}function B9(i,o){if(i==="click")return cm(o)}function U9(i,o){if(i==="input"||i==="change")return cm(o)}function F9(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ta=typeof Object.is=="function"?Object.is:F9;function _u(i,o){if(Ta(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var b=u[p];if(!me.call(o,b)||!Ta(i[b],o[b]))return!1}return!0}function pS(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function xS(i,o){var u=pS(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=pS(u)}}function gS(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?gS(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function vS(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=nm(i.document);o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=nm(i.document)}return o}function Ix(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var V9=bs&&"documentMode"in document&&11>=document.documentMode,_o=null,zx=null,ku=null,Bx=!1;function bS(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Bx||_o==null||_o!==nm(p)||(p=_o,"selectionStart"in p&&Ix(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),ku&&_u(ku,p)||(ku=p,p=Ym(zx,"onSelect"),0<p.length&&(o=new lm("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=_o)))}function fl(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var ko={animationend:fl("Animation","AnimationEnd"),animationiteration:fl("Animation","AnimationIteration"),animationstart:fl("Animation","AnimationStart"),transitionrun:fl("Transition","TransitionRun"),transitionstart:fl("Transition","TransitionStart"),transitioncancel:fl("Transition","TransitionCancel"),transitionend:fl("Transition","TransitionEnd")},Ux={},yS={};bs&&(yS=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function ml(i){if(Ux[i])return Ux[i];if(!ko[i])return i;var o=ko[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in yS)return Ux[i]=o[u];return i}var wS=ml("animationend"),jS=ml("animationiteration"),NS=ml("animationstart"),H9=ml("transitionrun"),q9=ml("transitionstart"),K9=ml("transitioncancel"),SS=ml("transitionend"),_S=new Map,Fx="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fx.push("scrollEnd");function Sr(i,o){_S.set(i,o),ze(o,[i])}var kS=new WeakMap;function tr(i,o){if(typeof i=="object"&&i!==null){var u=kS.get(i);return u!==void 0?u:(o={value:i,source:o,stack:FN(o)},kS.set(i,o),o)}return{value:i,source:o,stack:FN(o)}}var nr=[],Co=0,Vx=0;function um(){for(var i=Co,o=Vx=Co=0;o<i;){var u=nr[o];nr[o++]=null;var p=nr[o];nr[o++]=null;var b=nr[o];nr[o++]=null;var N=nr[o];if(nr[o++]=null,p!==null&&b!==null){var O=p.pending;O===null?b.next=b:(b.next=O.next,O.next=b),p.pending=b}N!==0&&CS(u,b,N)}}function dm(i,o,u,p){nr[Co++]=i,nr[Co++]=o,nr[Co++]=u,nr[Co++]=p,Vx|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function Hx(i,o,u,p){return dm(i,o,u,p),fm(i)}function Ao(i,o){return dm(i,null,null,o),fm(i)}function CS(i,o,u){i.lanes|=u;var p=i.alternate;p!==null&&(p.lanes|=u);for(var b=!1,N=i.return;N!==null;)N.childLanes|=u,p=N.alternate,p!==null&&(p.childLanes|=u),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(b=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,b&&o!==null&&(b=31-Ie(u),i=N.hiddenUpdates,p=i[b],p===null?i[b]=[o]:p.push(o),o.lane=u|536870912),N):null}function fm(i){if(50<Zu)throw Zu=0,Xg=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var To={};function G9(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ea(i,o,u,p){return new G9(i,o,u,p)}function qx(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ys(i,o){var u=i.alternate;return u===null?(u=Ea(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&65011712,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u.refCleanup=i.refCleanup,u}function AS(i,o){i.flags&=65011714;var u=i.alternate;return u===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=u.childLanes,i.lanes=u.lanes,i.child=u.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=u.memoizedProps,i.memoizedState=u.memoizedState,i.updateQueue=u.updateQueue,i.type=u.type,o=u.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function mm(i,o,u,p,b,N){var O=0;if(p=i,typeof i=="function")qx(i)&&(O=1);else if(typeof i=="string")O=W7(i,u,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=Ea(31,u,o,b),i.elementType=F,i.lanes=N,i;case w:return hl(u.children,b,N,o);case j:O=8,b|=24;break;case S:return i=Ea(12,u,o,b|2),i.elementType=S,i.lanes=N,i;case A:return i=Ea(13,u,o,b),i.elementType=A,i.lanes=N,i;case T:return i=Ea(19,u,o,b),i.elementType=T,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:O=10;break e;case _:O=9;break e;case P:O=11;break e;case L:O=14;break e;case M:O=16,p=null;break e}O=29,u=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Ea(O,u,o,b),o.elementType=i,o.type=p,o.lanes=N,o}function hl(i,o,u,p){return i=Ea(7,i,p,o),i.lanes=u,i}function Kx(i,o,u){return i=Ea(6,i,null,o),i.lanes=u,i}function Gx(i,o,u){return o=Ea(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Eo=[],Po=0,hm=null,pm=0,ar=[],rr=0,pl=null,ws=1,js="";function xl(i,o){Eo[Po++]=pm,Eo[Po++]=hm,hm=i,pm=o}function TS(i,o,u){ar[rr++]=ws,ar[rr++]=js,ar[rr++]=pl,pl=i;var p=ws;i=js;var b=32-Ie(p)-1;p&=~(1<<b),u+=1;var N=32-Ie(o)+b;if(30<N){var O=b-b%5;N=(p&(1<<O)-1).toString(32),p>>=O,b-=O,ws=1<<32-Ie(o)+b|u<<b|p,js=N+i}else ws=1<<N|u<<b|p,js=i}function Yx(i){i.return!==null&&(xl(i,1),TS(i,1,0))}function Wx(i){for(;i===hm;)hm=Eo[--Po],Eo[Po]=null,pm=Eo[--Po],Eo[Po]=null;for(;i===pl;)pl=ar[--rr],ar[rr]=null,js=ar[--rr],ar[rr]=null,ws=ar[--rr],ar[rr]=null}var oa=null,ln=null,At=!1,gl=null,qr=!1,Xx=Error(r(519));function vl(i){var o=Error(r(418,""));throw Tu(tr(o,i)),Xx}function ES(i){var o=i.stateNode,u=i.type,p=i.memoizedProps;switch(o[Ct]=i,o[an]=p,u){case"dialog":ht("cancel",o),ht("close",o);break;case"iframe":case"object":case"embed":ht("load",o);break;case"video":case"audio":for(u=0;u<Ju.length;u++)ht(Ju[u],o);break;case"source":ht("error",o);break;case"img":case"image":case"link":ht("error",o),ht("load",o);break;case"details":ht("toggle",o);break;case"input":ht("invalid",o),qN(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),tm(o);break;case"select":ht("invalid",o);break;case"textarea":ht("invalid",o),GN(o,p.value,p.defaultValue,p.children),tm(o)}u=p.children,typeof u!="string"&&typeof u!="number"&&typeof u!="bigint"||o.textContent===""+u||p.suppressHydrationWarning===!0||G_(o.textContent,u)?(p.popover!=null&&(ht("beforetoggle",o),ht("toggle",o)),p.onScroll!=null&&ht("scroll",o),p.onScrollEnd!=null&&ht("scrollend",o),p.onClick!=null&&(o.onclick=Wm),o=!0):o=!1,o||vl(i)}function PS(i){for(oa=i.return;oa;)switch(oa.tag){case 5:case 13:qr=!1;return;case 27:case 3:qr=!0;return;default:oa=oa.return}}function Cu(i){if(i!==oa)return!1;if(!At)return PS(i),At=!0,!1;var o=i.tag,u;if((u=o!==3&&o!==27)&&((u=o===5)&&(u=i.type,u=!(u!=="form"&&u!=="button")||fv(i.type,i.memoizedProps)),u=!u),u&&ln&&vl(i),PS(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(u=i.data,u==="/$"){if(o===0){ln=kr(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++;i=i.nextSibling}ln=null}}else o===27?(o=ln,Ti(i.type)?(i=xv,xv=null,ln=i):ln=o):ln=oa?kr(i.stateNode.nextSibling):null;return!0}function Au(){ln=oa=null,At=!1}function OS(){var i=gl;return i!==null&&(ba===null?ba=i:ba.push.apply(ba,i),gl=null),i}function Tu(i){gl===null?gl=[i]:gl.push(i)}var Zx=R(null),bl=null,Ns=null;function hi(i,o,u){W(Zx,o._currentValue),o._currentValue=u}function Ss(i){i._currentValue=Zx.current,z(Zx)}function Qx(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Jx(i,o,u,p){var b=i.child;for(b!==null&&(b.return=i);b!==null;){var N=b.dependencies;if(N!==null){var O=b.child;N=N.firstContext;e:for(;N!==null;){var B=N;N=b;for(var J=0;J<o.length;J++)if(B.context===o[J]){N.lanes|=u,B=N.alternate,B!==null&&(B.lanes|=u),Qx(N.return,u,i),p||(O=null);break e}N=B.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(r(341));O.lanes|=u,N=O.alternate,N!==null&&(N.lanes|=u),Qx(O,u,i),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===i){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function Eu(i,o,u,p){i=null;for(var b=o,N=!1;b!==null;){if(!N){if((b.flags&524288)!==0)N=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(r(387));if(O=O.memoizedProps,O!==null){var B=b.type;Ta(b.pendingProps.value,O.value)||(i!==null?i.push(B):i=[B])}}else if(b===Ne.current){if(O=b.alternate,O===null)throw Error(r(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(i!==null?i.push(sd):i=[sd])}b=b.return}i!==null&&Jx(o,i,u,p),o.flags|=262144}function xm(i){for(i=i.firstContext;i!==null;){if(!Ta(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function yl(i){bl=i,Ns=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qn(i){return MS(bl,i)}function gm(i,o){return bl===null&&yl(i),MS(i,o)}function MS(i,o){var u=o._currentValue;if(o={context:o,memoizedValue:u,next:null},Ns===null){if(i===null)throw Error(r(308));Ns=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Ns=Ns.next=o;return u}var Y9=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(u,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(u){return u()})}},W9=e.unstable_scheduleCallback,X9=e.unstable_NormalPriority,_n={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eg(){return{controller:new Y9,data:new Map,refCount:0}}function Pu(i){i.refCount--,i.refCount===0&&W9(X9,function(){i.controller.abort()})}var Ou=null,tg=0,Oo=0,Mo=null;function Z9(i,o){if(Ou===null){var u=Ou=[];tg=0,Oo=av(),Mo={status:"pending",value:void 0,then:function(p){u.push(p)}}}return tg++,o.then(DS,DS),o}function DS(){if(--tg===0&&Ou!==null){Mo!==null&&(Mo.status="fulfilled");var i=Ou;Ou=null,Oo=0,Mo=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function Q9(i,o){var u=[],p={status:"pending",value:null,reason:null,then:function(b){u.push(b)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var b=0;b<u.length;b++)(0,u[b])(o)},function(b){for(p.status="rejected",p.reason=b,b=0;b<u.length;b++)(0,u[b])(void 0)}),p}var RS=D.S;D.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&Z9(i,o),RS!==null&&RS(i,o)};var wl=R(null);function ng(){var i=wl.current;return i!==null?i:Vt.pooledCache}function vm(i,o){o===null?W(wl,wl.current):W(wl,o.pool)}function LS(){var i=ng();return i===null?null:{parent:_n._currentValue,pool:i}}var Mu=Error(r(460)),$S=Error(r(474)),bm=Error(r(542)),ag={then:function(){}};function IS(i){return i=i.status,i==="fulfilled"||i==="rejected"}function ym(){}function zS(i,o,u){switch(u=i[u],u===void 0?i.push(o):u!==o&&(o.then(ym,ym),o=u),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,US(i),i;default:if(typeof o.status=="string")o.then(ym,ym);else{if(i=Vt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var b=o;b.status="fulfilled",b.value=p}},function(p){if(o.status==="pending"){var b=o;b.status="rejected",b.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,US(i),i}throw Du=o,Mu}}var Du=null;function BS(){if(Du===null)throw Error(r(459));var i=Du;return Du=null,i}function US(i){if(i===Mu||i===bm)throw Error(r(483))}var pi=!1;function rg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sg(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function xi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function gi(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Et&2)!==0){var b=p.pending;return b===null?o.next=o:(o.next=b.next,b.next=o),p.pending=o,o=fm(i),CS(i,null,u),o}return dm(i,p,o,u),fm(i)}function Ru(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,xt(i,u)}}function ig(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var b=null,N=null;if(u=u.firstBaseUpdate,u!==null){do{var O={lane:u.lane,tag:u.tag,payload:u.payload,callback:null,next:null};N===null?b=N=O:N=N.next=O,u=u.next}while(u!==null);N===null?b=N=o:N=N.next=o}else b=N=o;u={baseState:p.baseState,firstBaseUpdate:b,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}var lg=!1;function Lu(){if(lg){var i=Mo;if(i!==null)throw i}}function $u(i,o,u,p){lg=!1;var b=i.updateQueue;pi=!1;var N=b.firstBaseUpdate,O=b.lastBaseUpdate,B=b.shared.pending;if(B!==null){b.shared.pending=null;var J=B,fe=J.next;J.next=null,O===null?N=fe:O.next=fe,O=J;var Ce=i.alternate;Ce!==null&&(Ce=Ce.updateQueue,B=Ce.lastBaseUpdate,B!==O&&(B===null?Ce.firstBaseUpdate=fe:B.next=fe,Ce.lastBaseUpdate=J))}if(N!==null){var Te=b.baseState;O=0,Ce=fe=J=null,B=N;do{var pe=B.lane&-536870913,ge=pe!==B.lane;if(ge?(bt&pe)===pe:(p&pe)===pe){pe!==0&&pe===Oo&&(lg=!0),Ce!==null&&(Ce=Ce.next={lane:0,tag:B.tag,payload:B.payload,callback:null,next:null});e:{var rt=i,tt=B;pe=o;var $t=u;switch(tt.tag){case 1:if(rt=tt.payload,typeof rt=="function"){Te=rt.call($t,Te,pe);break e}Te=rt;break e;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=tt.payload,pe=typeof rt=="function"?rt.call($t,Te,pe):rt,pe==null)break e;Te=h({},Te,pe);break e;case 2:pi=!0}}pe=B.callback,pe!==null&&(i.flags|=64,ge&&(i.flags|=8192),ge=b.callbacks,ge===null?b.callbacks=[pe]:ge.push(pe))}else ge={lane:pe,tag:B.tag,payload:B.payload,callback:B.callback,next:null},Ce===null?(fe=Ce=ge,J=Te):Ce=Ce.next=ge,O|=pe;if(B=B.next,B===null){if(B=b.shared.pending,B===null)break;ge=B,B=ge.next,ge.next=null,b.lastBaseUpdate=ge,b.shared.pending=null}}while(!0);Ce===null&&(J=Te),b.baseState=J,b.firstBaseUpdate=fe,b.lastBaseUpdate=Ce,N===null&&(b.shared.lanes=0),_i|=O,i.lanes=O,i.memoizedState=Te}}function FS(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function VS(i,o){var u=i.callbacks;if(u!==null)for(i.callbacks=null,i=0;i<u.length;i++)FS(u[i],o)}var Do=R(null),wm=R(0);function HS(i,o){i=Ps,W(wm,i),W(Do,o),Ps=i|o.baseLanes}function og(){W(wm,Ps),W(Do,Do.current)}function cg(){Ps=wm.current,z(Do),z(wm)}var vi=0,ut=null,Rt=null,vn=null,jm=!1,Ro=!1,jl=!1,Nm=0,Iu=0,Lo=null,J9=0;function mn(){throw Error(r(321))}function ug(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!Ta(i[u],o[u]))return!1;return!0}function dg(i,o,u,p,b,N){return vi=N,ut=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,D.H=i===null||i.memoizedState===null?C4:A4,jl=!1,N=u(p,b),jl=!1,Ro&&(N=KS(o,u,p,b)),qS(i),N}function qS(i){D.H=Tm;var o=Rt!==null&&Rt.next!==null;if(vi=0,vn=Rt=ut=null,jm=!1,Iu=0,Lo=null,o)throw Error(r(300));i===null||Dn||(i=i.dependencies,i!==null&&xm(i)&&(Dn=!0))}function KS(i,o,u,p){ut=i;var b=0;do{if(Ro&&(Lo=null),Iu=0,Ro=!1,25<=b)throw Error(r(301));if(b+=1,vn=Rt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}D.H=i7,N=o(u,p)}while(Ro);return N}function e7(){var i=D.H,o=i.useState()[0];return o=typeof o.then=="function"?zu(o):o,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(ut.flags|=1024),o}function fg(){var i=Nm!==0;return Nm=0,i}function mg(i,o,u){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~u}function hg(i){if(jm){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}jm=!1}vi=0,vn=Rt=ut=null,Ro=!1,Iu=Nm=0,Lo=null}function ga(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vn===null?ut.memoizedState=vn=i:vn=vn.next=i,vn}function bn(){if(Rt===null){var i=ut.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var o=vn===null?ut.memoizedState:vn.next;if(o!==null)vn=o,Rt=i;else{if(i===null)throw ut.alternate===null?Error(r(467)):Error(r(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},vn===null?ut.memoizedState=vn=i:vn=vn.next=i}return vn}function pg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function zu(i){var o=Iu;return Iu+=1,Lo===null&&(Lo=[]),i=zS(Lo,i,o),o=ut,(vn===null?o.memoizedState:vn.next)===null&&(o=o.alternate,D.H=o===null||o.memoizedState===null?C4:A4),i}function Sm(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return zu(i);if(i.$$typeof===C)return Qn(i)}throw Error(r(438,String(i)))}function xg(i){var o=null,u=ut.updateQueue;if(u!==null&&(o=u.memoCache),o==null){var p=ut.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(b){return b.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),u===null&&(u=pg(),ut.updateQueue=u),u.memoCache=o,u=o.data[o.index],u===void 0)for(u=o.data[o.index]=Array(i),p=0;p<i;p++)u[p]=K;return o.index++,u}function _s(i,o){return typeof o=="function"?o(i):o}function _m(i){var o=bn();return gg(o,Rt,i)}function gg(i,o,u){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=u;var b=i.baseQueue,N=p.pending;if(N!==null){if(b!==null){var O=b.next;b.next=N.next,N.next=O}o.baseQueue=b=N,p.pending=null}if(N=i.baseState,b===null)i.memoizedState=N;else{o=b.next;var B=O=null,J=null,fe=o,Ce=!1;do{var Te=fe.lane&-536870913;if(Te!==fe.lane?(bt&Te)===Te:(vi&Te)===Te){var pe=fe.revertLane;if(pe===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Te===Oo&&(Ce=!0);else if((vi&pe)===pe){fe=fe.next,pe===Oo&&(Ce=!0);continue}else Te={lane:0,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(B=J=Te,O=N):J=J.next=Te,ut.lanes|=pe,_i|=pe;Te=fe.action,jl&&u(N,Te),N=fe.hasEagerState?fe.eagerState:u(N,Te)}else pe={lane:Te,revertLane:fe.revertLane,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},J===null?(B=J=pe,O=N):J=J.next=pe,ut.lanes|=Te,_i|=Te;fe=fe.next}while(fe!==null&&fe!==o);if(J===null?O=N:J.next=B,!Ta(N,i.memoizedState)&&(Dn=!0,Ce&&(u=Mo,u!==null)))throw u;i.memoizedState=N,i.baseState=O,i.baseQueue=J,p.lastRenderedState=N}return b===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function vg(i){var o=bn(),u=o.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=i;var p=u.dispatch,b=u.pending,N=o.memoizedState;if(b!==null){u.pending=null;var O=b=b.next;do N=i(N,O.action),O=O.next;while(O!==b);Ta(N,o.memoizedState)||(Dn=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),u.lastRenderedState=N}return[N,p]}function GS(i,o,u){var p=ut,b=bn(),N=At;if(N){if(u===void 0)throw Error(r(407));u=u()}else u=o();var O=!Ta((Rt||b).memoizedState,u);O&&(b.memoizedState=u,Dn=!0),b=b.queue;var B=XS.bind(null,p,b,i);if(Bu(2048,8,B,[i]),b.getSnapshot!==o||O||vn!==null&&vn.memoizedState.tag&1){if(p.flags|=2048,$o(9,km(),WS.bind(null,p,b,u,o),null),Vt===null)throw Error(r(349));N||(vi&124)!==0||YS(p,o,u)}return u}function YS(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=ut.updateQueue,o===null?(o=pg(),ut.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function WS(i,o,u,p){o.value=u,o.getSnapshot=p,ZS(o)&&QS(i)}function XS(i,o,u){return u(function(){ZS(o)&&QS(i)})}function ZS(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!Ta(i,u)}catch{return!0}}function QS(i){var o=Ao(i,2);o!==null&&Ra(o,i,2)}function bg(i){var o=ga();if(typeof i=="function"){var u=i;if(i=u(),jl){Le(!0);try{u()}finally{Le(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:i},o}function JS(i,o,u,p){return i.baseState=u,gg(i,Rt,typeof p=="function"?p:_s)}function t7(i,o,u,p,b){if(Am(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:b,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){N.listeners.push(O)}};D.T!==null?u(!0):N.isTransition=!1,p(N),u=o.pending,u===null?(N.next=o.pending=N,e4(o,N)):(N.next=u.next,o.pending=u.next=N)}}function e4(i,o){var u=o.action,p=o.payload,b=i.state;if(o.isTransition){var N=D.T,O={};D.T=O;try{var B=u(b,p),J=D.S;J!==null&&J(O,B),t4(i,o,B)}catch(fe){yg(i,o,fe)}finally{D.T=N}}else try{N=u(b,p),t4(i,o,N)}catch(fe){yg(i,o,fe)}}function t4(i,o,u){u!==null&&typeof u=="object"&&typeof u.then=="function"?u.then(function(p){n4(i,o,p)},function(p){return yg(i,o,p)}):n4(i,o,u)}function n4(i,o,u){o.status="fulfilled",o.value=u,a4(o),i.state=u,o=i.pending,o!==null&&(u=o.next,u===o?i.pending=null:(u=u.next,o.next=u,e4(i,u)))}function yg(i,o,u){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=u,a4(o),o=o.next;while(o!==p)}i.action=null}function a4(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function r4(i,o){return o}function s4(i,o){if(At){var u=Vt.formState;if(u!==null){e:{var p=ut;if(At){if(ln){t:{for(var b=ln,N=qr;b.nodeType!==8;){if(!N){b=null;break t}if(b=kr(b.nextSibling),b===null){b=null;break t}}N=b.data,b=N==="F!"||N==="F"?b:null}if(b){ln=kr(b.nextSibling),p=b.data==="F!";break e}}vl(p)}p=!1}p&&(o=u[0])}}return u=ga(),u.memoizedState=u.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r4,lastRenderedState:o},u.queue=p,u=S4.bind(null,ut,p),p.dispatch=u,p=bg(!1),N=_g.bind(null,ut,!1,p.queue),p=ga(),b={state:o,dispatch:null,action:i,pending:null},p.queue=b,u=t7.bind(null,ut,b,N,u),b.dispatch=u,p.memoizedState=i,[o,u,!1]}function i4(i){var o=bn();return l4(o,Rt,i)}function l4(i,o,u){if(o=gg(i,o,r4)[0],i=_m(_s)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=zu(o)}catch(O){throw O===Mu?bm:O}else p=o;o=bn();var b=o.queue,N=b.dispatch;return u!==o.memoizedState&&(ut.flags|=2048,$o(9,km(),n7.bind(null,b,u),null)),[p,N,i]}function n7(i,o){i.action=o}function o4(i){var o=bn(),u=Rt;if(u!==null)return l4(o,u,i);bn(),o=o.memoizedState,u=bn();var p=u.queue.dispatch;return u.memoizedState=i,[o,p,!1]}function $o(i,o,u,p){return i={tag:i,create:u,deps:p,inst:o,next:null},o=ut.updateQueue,o===null&&(o=pg(),ut.updateQueue=o),u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i),i}function km(){return{destroy:void 0,resource:void 0}}function c4(){return bn().memoizedState}function Cm(i,o,u,p){var b=ga();p=p===void 0?null:p,ut.flags|=i,b.memoizedState=$o(1|o,km(),u,p)}function Bu(i,o,u,p){var b=bn();p=p===void 0?null:p;var N=b.memoizedState.inst;Rt!==null&&p!==null&&ug(p,Rt.memoizedState.deps)?b.memoizedState=$o(o,N,u,p):(ut.flags|=i,b.memoizedState=$o(1|o,N,u,p))}function u4(i,o){Cm(8390656,8,i,o)}function d4(i,o){Bu(2048,8,i,o)}function f4(i,o){return Bu(4,2,i,o)}function m4(i,o){return Bu(4,4,i,o)}function h4(i,o){if(typeof o=="function"){i=i();var u=o(i);return function(){typeof u=="function"?u():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function p4(i,o,u){u=u!=null?u.concat([i]):null,Bu(4,4,h4.bind(null,o,i),u)}function wg(){}function x4(i,o){var u=bn();o=o===void 0?null:o;var p=u.memoizedState;return o!==null&&ug(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function g4(i,o){var u=bn();o=o===void 0?null:o;var p=u.memoizedState;if(o!==null&&ug(o,p[1]))return p[0];if(p=i(),jl){Le(!0);try{i()}finally{Le(!1)}}return u.memoizedState=[p,o],p}function jg(i,o,u){return u===void 0||(vi&1073741824)!==0?i.memoizedState=o:(i.memoizedState=u,i=y_(),ut.lanes|=i,_i|=i,u)}function v4(i,o,u,p){return Ta(u,o)?u:Do.current!==null?(i=jg(i,u,p),Ta(i,o)||(Dn=!0),i):(vi&42)===0?(Dn=!0,i.memoizedState=u):(i=y_(),ut.lanes|=i,_i|=i,o)}function b4(i,o,u,p,b){var N=Y.p;Y.p=N!==0&&8>N?N:8;var O=D.T,B={};D.T=B,_g(i,!1,o,u);try{var J=b(),fe=D.S;if(fe!==null&&fe(B,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Ce=Q9(J,p);Uu(i,o,Ce,Da(i))}else Uu(i,o,p,Da(i))}catch(Te){Uu(i,o,{then:function(){},status:"rejected",reason:Te},Da())}finally{Y.p=N,D.T=O}}function a7(){}function Ng(i,o,u,p){if(i.tag!==5)throw Error(r(476));var b=y4(i).queue;b4(i,b,o,H,u===null?a7:function(){return w4(i),u(p)})}function y4(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:H},next:null};var u={};return o.next={memoizedState:u,baseState:u,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_s,lastRenderedState:u},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function w4(i){var o=y4(i).next.queue;Uu(i,o,{},Da())}function Sg(){return Qn(sd)}function j4(){return bn().memoizedState}function N4(){return bn().memoizedState}function r7(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var u=Da();i=xi(u);var p=gi(o,i,u);p!==null&&(Ra(p,o,u),Ru(p,o,u)),o={cache:eg()},i.payload=o;return}o=o.return}}function s7(i,o,u){var p=Da();u={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null},Am(i)?_4(o,u):(u=Hx(i,o,u,p),u!==null&&(Ra(u,i,p),k4(u,o,p)))}function S4(i,o,u){var p=Da();Uu(i,o,u,p)}function Uu(i,o,u,p){var b={lane:p,revertLane:0,action:u,hasEagerState:!1,eagerState:null,next:null};if(Am(i))_4(o,b);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var O=o.lastRenderedState,B=N(O,u);if(b.hasEagerState=!0,b.eagerState=B,Ta(B,O))return dm(i,o,b,0),Vt===null&&um(),!1}catch{}finally{}if(u=Hx(i,o,b,p),u!==null)return Ra(u,i,p),k4(u,o,p),!0}return!1}function _g(i,o,u,p){if(p={lane:2,revertLane:av(),action:p,hasEagerState:!1,eagerState:null,next:null},Am(i)){if(o)throw Error(r(479))}else o=Hx(i,u,p,2),o!==null&&Ra(o,i,2)}function Am(i){var o=i.alternate;return i===ut||o!==null&&o===ut}function _4(i,o){Ro=jm=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function k4(i,o,u){if((u&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,xt(i,u)}}var Tm={readContext:Qn,use:Sm,useCallback:mn,useContext:mn,useEffect:mn,useImperativeHandle:mn,useLayoutEffect:mn,useInsertionEffect:mn,useMemo:mn,useReducer:mn,useRef:mn,useState:mn,useDebugValue:mn,useDeferredValue:mn,useTransition:mn,useSyncExternalStore:mn,useId:mn,useHostTransitionStatus:mn,useFormState:mn,useActionState:mn,useOptimistic:mn,useMemoCache:mn,useCacheRefresh:mn},C4={readContext:Qn,use:Sm,useCallback:function(i,o){return ga().memoizedState=[i,o===void 0?null:o],i},useContext:Qn,useEffect:u4,useImperativeHandle:function(i,o,u){u=u!=null?u.concat([i]):null,Cm(4194308,4,h4.bind(null,o,i),u)},useLayoutEffect:function(i,o){return Cm(4194308,4,i,o)},useInsertionEffect:function(i,o){Cm(4,2,i,o)},useMemo:function(i,o){var u=ga();o=o===void 0?null:o;var p=i();if(jl){Le(!0);try{i()}finally{Le(!1)}}return u.memoizedState=[p,o],p},useReducer:function(i,o,u){var p=ga();if(u!==void 0){var b=u(o);if(jl){Le(!0);try{u(o)}finally{Le(!1)}}}else b=o;return p.memoizedState=p.baseState=b,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:b},p.queue=i,i=i.dispatch=s7.bind(null,ut,i),[p.memoizedState,i]},useRef:function(i){var o=ga();return i={current:i},o.memoizedState=i},useState:function(i){i=bg(i);var o=i.queue,u=S4.bind(null,ut,o);return o.dispatch=u,[i.memoizedState,u]},useDebugValue:wg,useDeferredValue:function(i,o){var u=ga();return jg(u,i,o)},useTransition:function(){var i=bg(!1);return i=b4.bind(null,ut,i.queue,!0,!1),ga().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,u){var p=ut,b=ga();if(At){if(u===void 0)throw Error(r(407));u=u()}else{if(u=o(),Vt===null)throw Error(r(349));(bt&124)!==0||YS(p,o,u)}b.memoizedState=u;var N={value:u,getSnapshot:o};return b.queue=N,u4(XS.bind(null,p,N,i),[i]),p.flags|=2048,$o(9,km(),WS.bind(null,p,N,u,o),null),u},useId:function(){var i=ga(),o=Vt.identifierPrefix;if(At){var u=js,p=ws;u=(p&~(1<<32-Ie(p)-1)).toString(32)+u,o=""+o+"R"+u,u=Nm++,0<u&&(o+="H"+u.toString(32)),o+=""}else u=J9++,o=""+o+"r"+u.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:Sg,useFormState:s4,useActionState:s4,useOptimistic:function(i){var o=ga();o.memoizedState=o.baseState=i;var u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=u,o=_g.bind(null,ut,!0,u),u.dispatch=o,[i,o]},useMemoCache:xg,useCacheRefresh:function(){return ga().memoizedState=r7.bind(null,ut)}},A4={readContext:Qn,use:Sm,useCallback:x4,useContext:Qn,useEffect:d4,useImperativeHandle:p4,useInsertionEffect:f4,useLayoutEffect:m4,useMemo:g4,useReducer:_m,useRef:c4,useState:function(){return _m(_s)},useDebugValue:wg,useDeferredValue:function(i,o){var u=bn();return v4(u,Rt.memoizedState,i,o)},useTransition:function(){var i=_m(_s)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:zu(i),o]},useSyncExternalStore:GS,useId:j4,useHostTransitionStatus:Sg,useFormState:i4,useActionState:i4,useOptimistic:function(i,o){var u=bn();return JS(u,Rt,i,o)},useMemoCache:xg,useCacheRefresh:N4},i7={readContext:Qn,use:Sm,useCallback:x4,useContext:Qn,useEffect:d4,useImperativeHandle:p4,useInsertionEffect:f4,useLayoutEffect:m4,useMemo:g4,useReducer:vg,useRef:c4,useState:function(){return vg(_s)},useDebugValue:wg,useDeferredValue:function(i,o){var u=bn();return Rt===null?jg(u,i,o):v4(u,Rt.memoizedState,i,o)},useTransition:function(){var i=vg(_s)[0],o=bn().memoizedState;return[typeof i=="boolean"?i:zu(i),o]},useSyncExternalStore:GS,useId:j4,useHostTransitionStatus:Sg,useFormState:o4,useActionState:o4,useOptimistic:function(i,o){var u=bn();return Rt!==null?JS(u,Rt,i,o):(u.baseState=i,[i,u.queue.dispatch])},useMemoCache:xg,useCacheRefresh:N4},Io=null,Fu=0;function Em(i){var o=Fu;return Fu+=1,Io===null&&(Io=[]),zS(Io,i,o)}function Vu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Pm(i,o){throw o.$$typeof===x?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function T4(i){var o=i._init;return o(i._payload)}function E4(i){function o(le,ae){if(i){var ue=le.deletions;ue===null?(le.deletions=[ae],le.flags|=16):ue.push(ae)}}function u(le,ae){if(!i)return null;for(;ae!==null;)o(le,ae),ae=ae.sibling;return null}function p(le){for(var ae=new Map;le!==null;)le.key!==null?ae.set(le.key,le):ae.set(le.index,le),le=le.sibling;return ae}function b(le,ae){return le=ys(le,ae),le.index=0,le.sibling=null,le}function N(le,ae,ue){return le.index=ue,i?(ue=le.alternate,ue!==null?(ue=ue.index,ue<ae?(le.flags|=67108866,ae):ue):(le.flags|=67108866,ae)):(le.flags|=1048576,ae)}function O(le){return i&&le.alternate===null&&(le.flags|=67108866),le}function B(le,ae,ue,Ae){return ae===null||ae.tag!==6?(ae=Kx(ue,le.mode,Ae),ae.return=le,ae):(ae=b(ae,ue),ae.return=le,ae)}function J(le,ae,ue,Ae){var Ye=ue.type;return Ye===w?Ce(le,ae,ue.props.children,Ae,ue.key):ae!==null&&(ae.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&T4(Ye)===ae.type)?(ae=b(ae,ue.props),Vu(ae,ue),ae.return=le,ae):(ae=mm(ue.type,ue.key,ue.props,null,le.mode,Ae),Vu(ae,ue),ae.return=le,ae)}function fe(le,ae,ue,Ae){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=Gx(ue,le.mode,Ae),ae.return=le,ae):(ae=b(ae,ue.children||[]),ae.return=le,ae)}function Ce(le,ae,ue,Ae,Ye){return ae===null||ae.tag!==7?(ae=hl(ue,le.mode,Ae,Ye),ae.return=le,ae):(ae=b(ae,ue),ae.return=le,ae)}function Te(le,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=Kx(""+ae,le.mode,ue),ae.return=le,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case v:return ue=mm(ae.type,ae.key,ae.props,null,le.mode,ue),Vu(ue,ae),ue.return=le,ue;case y:return ae=Gx(ae,le.mode,ue),ae.return=le,ae;case M:var Ae=ae._init;return ae=Ae(ae._payload),Te(le,ae,ue)}if(ne(ae)||$(ae))return ae=hl(ae,le.mode,ue,null),ae.return=le,ae;if(typeof ae.then=="function")return Te(le,Em(ae),ue);if(ae.$$typeof===C)return Te(le,gm(le,ae),ue);Pm(le,ae)}return null}function pe(le,ae,ue,Ae){var Ye=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ye!==null?null:B(le,ae,""+ue,Ae);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:return ue.key===Ye?J(le,ae,ue,Ae):null;case y:return ue.key===Ye?fe(le,ae,ue,Ae):null;case M:return Ye=ue._init,ue=Ye(ue._payload),pe(le,ae,ue,Ae)}if(ne(ue)||$(ue))return Ye!==null?null:Ce(le,ae,ue,Ae,null);if(typeof ue.then=="function")return pe(le,ae,Em(ue),Ae);if(ue.$$typeof===C)return pe(le,ae,gm(le,ue),Ae);Pm(le,ue)}return null}function ge(le,ae,ue,Ae,Ye){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return le=le.get(ue)||null,B(ae,le,""+Ae,Ye);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:return le=le.get(Ae.key===null?ue:Ae.key)||null,J(ae,le,Ae,Ye);case y:return le=le.get(Ae.key===null?ue:Ae.key)||null,fe(ae,le,Ae,Ye);case M:var dt=Ae._init;return Ae=dt(Ae._payload),ge(le,ae,ue,Ae,Ye)}if(ne(Ae)||$(Ae))return le=le.get(ue)||null,Ce(ae,le,Ae,Ye,null);if(typeof Ae.then=="function")return ge(le,ae,ue,Em(Ae),Ye);if(Ae.$$typeof===C)return ge(le,ae,ue,gm(ae,Ae),Ye);Pm(ae,Ae)}return null}function rt(le,ae,ue,Ae){for(var Ye=null,dt=null,Qe=ae,at=ae=0,Ln=null;Qe!==null&&at<ue.length;at++){Qe.index>at?(Ln=Qe,Qe=null):Ln=Qe.sibling;var _t=pe(le,Qe,ue[at],Ae);if(_t===null){Qe===null&&(Qe=Ln);break}i&&Qe&&_t.alternate===null&&o(le,Qe),ae=N(_t,ae,at),dt===null?Ye=_t:dt.sibling=_t,dt=_t,Qe=Ln}if(at===ue.length)return u(le,Qe),At&&xl(le,at),Ye;if(Qe===null){for(;at<ue.length;at++)Qe=Te(le,ue[at],Ae),Qe!==null&&(ae=N(Qe,ae,at),dt===null?Ye=Qe:dt.sibling=Qe,dt=Qe);return At&&xl(le,at),Ye}for(Qe=p(Qe);at<ue.length;at++)Ln=ge(Qe,le,at,ue[at],Ae),Ln!==null&&(i&&Ln.alternate!==null&&Qe.delete(Ln.key===null?at:Ln.key),ae=N(Ln,ae,at),dt===null?Ye=Ln:dt.sibling=Ln,dt=Ln);return i&&Qe.forEach(function(Di){return o(le,Di)}),At&&xl(le,at),Ye}function tt(le,ae,ue,Ae){if(ue==null)throw Error(r(151));for(var Ye=null,dt=null,Qe=ae,at=ae=0,Ln=null,_t=ue.next();Qe!==null&&!_t.done;at++,_t=ue.next()){Qe.index>at?(Ln=Qe,Qe=null):Ln=Qe.sibling;var Di=pe(le,Qe,_t.value,Ae);if(Di===null){Qe===null&&(Qe=Ln);break}i&&Qe&&Di.alternate===null&&o(le,Qe),ae=N(Di,ae,at),dt===null?Ye=Di:dt.sibling=Di,dt=Di,Qe=Ln}if(_t.done)return u(le,Qe),At&&xl(le,at),Ye;if(Qe===null){for(;!_t.done;at++,_t=ue.next())_t=Te(le,_t.value,Ae),_t!==null&&(ae=N(_t,ae,at),dt===null?Ye=_t:dt.sibling=_t,dt=_t);return At&&xl(le,at),Ye}for(Qe=p(Qe);!_t.done;at++,_t=ue.next())_t=ge(Qe,le,at,_t.value,Ae),_t!==null&&(i&&_t.alternate!==null&&Qe.delete(_t.key===null?at:_t.key),ae=N(_t,ae,at),dt===null?Ye=_t:dt.sibling=_t,dt=_t);return i&&Qe.forEach(function(l$){return o(le,l$)}),At&&xl(le,at),Ye}function $t(le,ae,ue,Ae){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case v:e:{for(var Ye=ue.key;ae!==null;){if(ae.key===Ye){if(Ye=ue.type,Ye===w){if(ae.tag===7){u(le,ae.sibling),Ae=b(ae,ue.props.children),Ae.return=le,le=Ae;break e}}else if(ae.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&T4(Ye)===ae.type){u(le,ae.sibling),Ae=b(ae,ue.props),Vu(Ae,ue),Ae.return=le,le=Ae;break e}u(le,ae);break}else o(le,ae);ae=ae.sibling}ue.type===w?(Ae=hl(ue.props.children,le.mode,Ae,ue.key),Ae.return=le,le=Ae):(Ae=mm(ue.type,ue.key,ue.props,null,le.mode,Ae),Vu(Ae,ue),Ae.return=le,le=Ae)}return O(le);case y:e:{for(Ye=ue.key;ae!==null;){if(ae.key===Ye)if(ae.tag===4&&ae.stateNode.containerInfo===ue.containerInfo&&ae.stateNode.implementation===ue.implementation){u(le,ae.sibling),Ae=b(ae,ue.children||[]),Ae.return=le,le=Ae;break e}else{u(le,ae);break}else o(le,ae);ae=ae.sibling}Ae=Gx(ue,le.mode,Ae),Ae.return=le,le=Ae}return O(le);case M:return Ye=ue._init,ue=Ye(ue._payload),$t(le,ae,ue,Ae)}if(ne(ue))return rt(le,ae,ue,Ae);if($(ue)){if(Ye=$(ue),typeof Ye!="function")throw Error(r(150));return ue=Ye.call(ue),tt(le,ae,ue,Ae)}if(typeof ue.then=="function")return $t(le,ae,Em(ue),Ae);if(ue.$$typeof===C)return $t(le,ae,gm(le,ue),Ae);Pm(le,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ae!==null&&ae.tag===6?(u(le,ae.sibling),Ae=b(ae,ue),Ae.return=le,le=Ae):(u(le,ae),Ae=Kx(ue,le.mode,Ae),Ae.return=le,le=Ae),O(le)):u(le,ae)}return function(le,ae,ue,Ae){try{Fu=0;var Ye=$t(le,ae,ue,Ae);return Io=null,Ye}catch(Qe){if(Qe===Mu||Qe===bm)throw Qe;var dt=Ea(29,Qe,null,le.mode);return dt.lanes=Ae,dt.return=le,dt}finally{}}}var zo=E4(!0),P4=E4(!1),sr=R(null),Kr=null;function bi(i){var o=i.alternate;W(kn,kn.current&1),W(sr,i),Kr===null&&(o===null||Do.current!==null||o.memoizedState!==null)&&(Kr=i)}function O4(i){if(i.tag===22){if(W(kn,kn.current),W(sr,i),Kr===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(Kr=i)}}else yi()}function yi(){W(kn,kn.current),W(sr,sr.current)}function ks(i){z(sr),Kr===i&&(Kr=null),z(kn)}var kn=R(0);function Om(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||pv(u)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function kg(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:h({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var Cg={enqueueSetState:function(i,o,u){i=i._reactInternals;var p=Da(),b=xi(p);b.payload=o,u!=null&&(b.callback=u),o=gi(i,b,p),o!==null&&(Ra(o,i,p),Ru(o,i,p))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=Da(),b=xi(p);b.tag=1,b.payload=o,u!=null&&(b.callback=u),o=gi(i,b,p),o!==null&&(Ra(o,i,p),Ru(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=Da(),p=xi(u);p.tag=2,o!=null&&(p.callback=o),o=gi(i,p,u),o!==null&&(Ra(o,i,u),Ru(o,i,u))}};function M4(i,o,u,p,b,N,O){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,O):o.prototype&&o.prototype.isPureReactComponent?!_u(u,p)||!_u(b,N):!0}function D4(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&Cg.enqueueReplaceState(o,o.state,null)}function Nl(i,o){var u=o;if("ref"in o){u={};for(var p in o)p!=="ref"&&(u[p]=o[p])}if(i=i.defaultProps){u===o&&(u=h({},u));for(var b in i)u[b]===void 0&&(u[b]=i[b])}return u}var Mm=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function R4(i){Mm(i)}function L4(i){console.error(i)}function $4(i){Mm(i)}function Dm(i,o){try{var u=i.onUncaughtError;u(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function I4(i,o,u){try{var p=i.onCaughtError;p(u.value,{componentStack:u.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function Ag(i,o,u){return u=xi(u),u.tag=3,u.payload={element:null},u.callback=function(){Dm(i,o)},u}function z4(i){return i=xi(i),i.tag=3,i}function B4(i,o,u,p){var b=u.type.getDerivedStateFromError;if(typeof b=="function"){var N=p.value;i.payload=function(){return b(N)},i.callback=function(){I4(o,u,p)}}var O=u.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(i.callback=function(){I4(o,u,p),typeof b!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var B=p.stack;this.componentDidCatch(p.value,{componentStack:B!==null?B:""})})}function l7(i,o,u,p,b){if(u.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=u.alternate,o!==null&&Eu(o,u,b,!0),u=sr.current,u!==null){switch(u.tag){case 13:return Kr===null?Qg():u.alternate===null&&on===0&&(on=3),u.flags&=-257,u.flags|=65536,u.lanes=b,p===ag?u.flags|=16384:(o=u.updateQueue,o===null?u.updateQueue=new Set([p]):o.add(p),ev(i,p,b)),!1;case 22:return u.flags|=65536,p===ag?u.flags|=16384:(o=u.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},u.updateQueue=o):(u=o.retryQueue,u===null?o.retryQueue=new Set([p]):u.add(p)),ev(i,p,b)),!1}throw Error(r(435,u.tag))}return ev(i,p,b),Qg(),!1}if(At)return o=sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=b,p!==Xx&&(i=Error(r(422),{cause:p}),Tu(tr(i,u)))):(p!==Xx&&(o=Error(r(423),{cause:p}),Tu(tr(o,u))),i=i.current.alternate,i.flags|=65536,b&=-b,i.lanes|=b,p=tr(p,u),b=Ag(i.stateNode,p,b),ig(i,b),on!==4&&(on=2)),!1;var N=Error(r(520),{cause:p});if(N=tr(N,u),Xu===null?Xu=[N]:Xu.push(N),on!==4&&(on=2),o===null)return!0;p=tr(p,u),u=o;do{switch(u.tag){case 3:return u.flags|=65536,i=b&-b,u.lanes|=i,i=Ag(u.stateNode,p,i),ig(u,i),!1;case 1:if(o=u.type,N=u.stateNode,(u.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ki===null||!ki.has(N))))return u.flags|=65536,b&=-b,u.lanes|=b,b=z4(b),B4(b,i,u,p),ig(u,b),!1}u=u.return}while(u!==null);return!1}var U4=Error(r(461)),Dn=!1;function Vn(i,o,u,p){o.child=i===null?P4(o,null,u,p):zo(o,i.child,u,p)}function F4(i,o,u,p,b){u=u.render;var N=o.ref;if("ref"in p){var O={};for(var B in p)B!=="ref"&&(O[B]=p[B])}else O=p;return yl(o),p=dg(i,o,u,O,N,b),B=fg(),i!==null&&!Dn?(mg(i,o,b),Cs(i,o,b)):(At&&B&&Yx(o),o.flags|=1,Vn(i,o,p,b),o.child)}function V4(i,o,u,p,b){if(i===null){var N=u.type;return typeof N=="function"&&!qx(N)&&N.defaultProps===void 0&&u.compare===null?(o.tag=15,o.type=N,H4(i,o,N,p,b)):(i=mm(u.type,null,p,o,o.mode,b),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!Lg(i,b)){var O=N.memoizedProps;if(u=u.compare,u=u!==null?u:_u,u(O,p)&&i.ref===o.ref)return Cs(i,o,b)}return o.flags|=1,i=ys(N,p),i.ref=o.ref,i.return=o,o.child=i}function H4(i,o,u,p,b){if(i!==null){var N=i.memoizedProps;if(_u(N,p)&&i.ref===o.ref)if(Dn=!1,o.pendingProps=p=N,Lg(i,b))(i.flags&131072)!==0&&(Dn=!0);else return o.lanes=i.lanes,Cs(i,o,b)}return Tg(i,o,u,p,b)}function q4(i,o,u){var p=o.pendingProps,b=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|u:u,i!==null){for(b=o.child=i.child,N=0;b!==null;)N=N|b.lanes|b.childLanes,b=b.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return K4(i,o,p,u)}if((u&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&vm(o,N!==null?N.cachePool:null),N!==null?HS(o,N):og(),O4(o);else return o.lanes=o.childLanes=536870912,K4(i,o,N!==null?N.baseLanes|u:u,u)}else N!==null?(vm(o,N.cachePool),HS(o,N),yi(),o.memoizedState=null):(i!==null&&vm(o,null),og(),yi());return Vn(i,o,b,u),o.child}function K4(i,o,u,p){var b=ng();return b=b===null?null:{parent:_n._currentValue,pool:b},o.memoizedState={baseLanes:u,cachePool:b},i!==null&&vm(o,null),og(),O4(o),i!==null&&Eu(i,o,p,!0),null}function Rm(i,o){var u=o.ref;if(u===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof u!="function"&&typeof u!="object")throw Error(r(284));(i===null||i.ref!==u)&&(o.flags|=4194816)}}function Tg(i,o,u,p,b){return yl(o),u=dg(i,o,u,p,void 0,b),p=fg(),i!==null&&!Dn?(mg(i,o,b),Cs(i,o,b)):(At&&p&&Yx(o),o.flags|=1,Vn(i,o,u,b),o.child)}function G4(i,o,u,p,b,N){return yl(o),o.updateQueue=null,u=KS(o,p,u,b),qS(i),p=fg(),i!==null&&!Dn?(mg(i,o,N),Cs(i,o,N)):(At&&p&&Yx(o),o.flags|=1,Vn(i,o,u,N),o.child)}function Y4(i,o,u,p,b){if(yl(o),o.stateNode===null){var N=To,O=u.contextType;typeof O=="object"&&O!==null&&(N=Qn(O)),N=new u(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=Cg,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},rg(o),O=u.contextType,N.context=typeof O=="object"&&O!==null?Qn(O):To,N.state=o.memoizedState,O=u.getDerivedStateFromProps,typeof O=="function"&&(kg(o,u,O,p),N.state=o.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(O=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),O!==N.state&&Cg.enqueueReplaceState(N,N.state,null),$u(o,p,N,b),Lu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var B=o.memoizedProps,J=Nl(u,B);N.props=J;var fe=N.context,Ce=u.contextType;O=To,typeof Ce=="object"&&Ce!==null&&(O=Qn(Ce));var Te=u.getDerivedStateFromProps;Ce=typeof Te=="function"||typeof N.getSnapshotBeforeUpdate=="function",B=o.pendingProps!==B,Ce||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(B||fe!==O)&&D4(o,N,p,O),pi=!1;var pe=o.memoizedState;N.state=pe,$u(o,p,N,b),Lu(),fe=o.memoizedState,B||pe!==fe||pi?(typeof Te=="function"&&(kg(o,u,Te,p),fe=o.memoizedState),(J=pi||M4(o,u,J,p,pe,fe,O))?(Ce||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=fe),N.props=p,N.state=fe,N.context=O,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,sg(i,o),O=o.memoizedProps,Ce=Nl(u,O),N.props=Ce,Te=o.pendingProps,pe=N.context,fe=u.contextType,J=To,typeof fe=="object"&&fe!==null&&(J=Qn(fe)),B=u.getDerivedStateFromProps,(fe=typeof B=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(O!==Te||pe!==J)&&D4(o,N,p,J),pi=!1,pe=o.memoizedState,N.state=pe,$u(o,p,N,b),Lu();var ge=o.memoizedState;O!==Te||pe!==ge||pi||i!==null&&i.dependencies!==null&&xm(i.dependencies)?(typeof B=="function"&&(kg(o,u,B,p),ge=o.memoizedState),(Ce=pi||M4(o,u,Ce,p,pe,ge,J)||i!==null&&i.dependencies!==null&&xm(i.dependencies))?(fe||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,ge,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,ge,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ge),N.props=p,N.state=ge,N.context=J,p=Ce):(typeof N.componentDidUpdate!="function"||O===i.memoizedProps&&pe===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||O===i.memoizedProps&&pe===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,Rm(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,u=p&&typeof u.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=zo(o,i.child,null,b),o.child=zo(o,null,u,b)):Vn(i,o,u,b),o.memoizedState=N.state,i=o.child):i=Cs(i,o,b),i}function W4(i,o,u,p){return Au(),o.flags|=256,Vn(i,o,u,p),o.child}var Eg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(i){return{baseLanes:i,cachePool:LS()}}function Og(i,o,u){return i=i!==null?i.childLanes&~u:0,o&&(i|=ir),i}function X4(i,o,u){var p=o.pendingProps,b=!1,N=(o.flags&128)!==0,O;if((O=N)||(O=i!==null&&i.memoizedState===null?!1:(kn.current&2)!==0),O&&(b=!0,o.flags&=-129),O=(o.flags&32)!==0,o.flags&=-33,i===null){if(At){if(b?bi(o):yi(),At){var B=ln,J;if(J=B){e:{for(J=B,B=qr;J.nodeType!==8;){if(!B){B=null;break e}if(J=kr(J.nextSibling),J===null){B=null;break e}}B=J}B!==null?(o.memoizedState={dehydrated:B,treeContext:pl!==null?{id:ws,overflow:js}:null,retryLane:536870912,hydrationErrors:null},J=Ea(18,null,null,0),J.stateNode=B,J.return=o,o.child=J,oa=o,ln=null,J=!0):J=!1}J||vl(o)}if(B=o.memoizedState,B!==null&&(B=B.dehydrated,B!==null))return pv(B)?o.lanes=32:o.lanes=536870912,null;ks(o)}return B=p.children,p=p.fallback,b?(yi(),b=o.mode,B=Lm({mode:"hidden",children:B},b),p=hl(p,b,u,null),B.return=o,p.return=o,B.sibling=p,o.child=B,b=o.child,b.memoizedState=Pg(u),b.childLanes=Og(i,O,u),o.memoizedState=Eg,p):(bi(o),Mg(o,B))}if(J=i.memoizedState,J!==null&&(B=J.dehydrated,B!==null)){if(N)o.flags&256?(bi(o),o.flags&=-257,o=Dg(i,o,u)):o.memoizedState!==null?(yi(),o.child=i.child,o.flags|=128,o=null):(yi(),b=p.fallback,B=o.mode,p=Lm({mode:"visible",children:p.children},B),b=hl(b,B,u,null),b.flags|=2,p.return=o,b.return=o,p.sibling=b,o.child=p,zo(o,i.child,null,u),p=o.child,p.memoizedState=Pg(u),p.childLanes=Og(i,O,u),o.memoizedState=Eg,o=b);else if(bi(o),pv(B)){if(O=B.nextSibling&&B.nextSibling.dataset,O)var fe=O.dgst;O=fe,p=Error(r(419)),p.stack="",p.digest=O,Tu({value:p,source:null,stack:null}),o=Dg(i,o,u)}else if(Dn||Eu(i,o,u,!1),O=(u&i.childLanes)!==0,Dn||O){if(O=Vt,O!==null&&(p=u&-u,p=(p&42)!==0?1:it(p),p=(p&(O.suspendedLanes|u))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,Ao(i,p),Ra(O,i,p),U4;B.data==="$?"||Qg(),o=Dg(i,o,u)}else B.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,ln=kr(B.nextSibling),oa=o,At=!0,gl=null,qr=!1,i!==null&&(ar[rr++]=ws,ar[rr++]=js,ar[rr++]=pl,ws=i.id,js=i.overflow,pl=o),o=Mg(o,p.children),o.flags|=4096);return o}return b?(yi(),b=p.fallback,B=o.mode,J=i.child,fe=J.sibling,p=ys(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,fe!==null?b=ys(fe,b):(b=hl(b,B,u,null),b.flags|=2),b.return=o,p.return=o,p.sibling=b,o.child=p,p=b,b=o.child,B=i.child.memoizedState,B===null?B=Pg(u):(J=B.cachePool,J!==null?(fe=_n._currentValue,J=J.parent!==fe?{parent:fe,pool:fe}:J):J=LS(),B={baseLanes:B.baseLanes|u,cachePool:J}),b.memoizedState=B,b.childLanes=Og(i,O,u),o.memoizedState=Eg,p):(bi(o),u=i.child,i=u.sibling,u=ys(u,{mode:"visible",children:p.children}),u.return=o,u.sibling=null,i!==null&&(O=o.deletions,O===null?(o.deletions=[i],o.flags|=16):O.push(i)),o.child=u,o.memoizedState=null,u)}function Mg(i,o){return o=Lm({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Lm(i,o){return i=Ea(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function Dg(i,o,u){return zo(o,i.child,null,u),i=Mg(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Z4(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Qx(i.return,o,u)}function Rg(i,o,u,p,b){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:b}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=u,N.tailMode=b)}function Q4(i,o,u){var p=o.pendingProps,b=p.revealOrder,N=p.tail;if(Vn(i,o,p.children,u),p=kn.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Z4(i,u,o);else if(i.tag===19)Z4(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(W(kn,p),b){case"forwards":for(u=o.child,b=null;u!==null;)i=u.alternate,i!==null&&Om(i)===null&&(b=u),u=u.sibling;u=b,u===null?(b=o.child,o.child=null):(b=u.sibling,u.sibling=null),Rg(o,!1,b,u,N);break;case"backwards":for(u=null,b=o.child,o.child=null;b!==null;){if(i=b.alternate,i!==null&&Om(i)===null){o.child=b;break}i=b.sibling,b.sibling=u,u=b,b=i}Rg(o,!0,u,null,N);break;case"together":Rg(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Cs(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),_i|=o.lanes,(u&o.childLanes)===0)if(i!==null){if(Eu(i,o,u,!1),(u&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,u=ys(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=ys(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function Lg(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&xm(i)))}function o7(i,o,u){switch(o.tag){case 3:re(o,o.stateNode.containerInfo),hi(o,_n,i.memoizedState.cache),Au();break;case 27:case 5:_e(o);break;case 4:re(o,o.stateNode.containerInfo);break;case 10:hi(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(bi(o),o.flags|=128,null):(u&o.child.childLanes)!==0?X4(i,o,u):(bi(o),i=Cs(i,o,u),i!==null?i.sibling:null);bi(o);break;case 19:var b=(i.flags&128)!==0;if(p=(u&o.childLanes)!==0,p||(Eu(i,o,u,!1),p=(u&o.childLanes)!==0),b){if(p)return Q4(i,o,u);o.flags|=128}if(b=o.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),W(kn,kn.current),p)break;return null;case 22:case 23:return o.lanes=0,q4(i,o,u);case 24:hi(o,_n,i.memoizedState.cache)}return Cs(i,o,u)}function J4(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps)Dn=!0;else{if(!Lg(i,u)&&(o.flags&128)===0)return Dn=!1,o7(i,o,u);Dn=(i.flags&131072)!==0}else Dn=!1,At&&(o.flags&1048576)!==0&&TS(o,pm,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,b=p._init;if(p=b(p._payload),o.type=p,typeof p=="function")qx(p)?(i=Nl(p,i),o.tag=1,o=Y4(null,o,p,i,u)):(o.tag=0,o=Tg(null,o,p,i,u));else{if(p!=null){if(b=p.$$typeof,b===P){o.tag=11,o=F4(null,o,p,i,u);break e}else if(b===L){o.tag=14,o=V4(null,o,p,i,u);break e}}throw o=je(p)||p,Error(r(306,o,""))}}return o;case 0:return Tg(i,o,o.type,o.pendingProps,u);case 1:return p=o.type,b=Nl(p,o.pendingProps),Y4(i,o,p,b,u);case 3:e:{if(re(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;b=N.element,sg(i,o),$u(o,p,null,u);var O=o.memoizedState;if(p=O.cache,hi(o,_n,p),p!==N.cache&&Jx(o,[_n],u,!0),Lu(),p=O.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:O.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=W4(i,o,p,u);break e}else if(p!==b){b=tr(Error(r(424)),o),Tu(b),o=W4(i,o,p,u);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ln=kr(i.firstChild),oa=o,At=!0,gl=null,qr=!0,u=P4(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling}else{if(Au(),p===b){o=Cs(i,o,u);break e}Vn(i,o,p,u)}o=o.child}return o;case 26:return Rm(i,o),i===null?(u=a5(o.type,null,o.pendingProps,null))?o.memoizedState=u:At||(u=o.type,i=o.pendingProps,p=Xm(Z.current).createElement(u),p[Ct]=o,p[an]=i,qn(p,u,i),oe(p),o.stateNode=p):o.memoizedState=a5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return _e(o),i===null&&At&&(p=o.stateNode=e5(o.type,o.pendingProps,Z.current),oa=o,qr=!0,b=ln,Ti(o.type)?(xv=b,ln=kr(p.firstChild)):ln=b),Vn(i,o,o.pendingProps.children,u),Rm(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&At&&((b=p=ln)&&(p=L7(p,o.type,o.pendingProps,qr),p!==null?(o.stateNode=p,oa=o,ln=kr(p.firstChild),qr=!1,b=!0):b=!1),b||vl(o)),_e(o),b=o.type,N=o.pendingProps,O=i!==null?i.memoizedProps:null,p=N.children,fv(b,N)?p=null:O!==null&&fv(b,O)&&(o.flags|=32),o.memoizedState!==null&&(b=dg(i,o,e7,null,null,u),sd._currentValue=b),Rm(i,o),Vn(i,o,p,u),o.child;case 6:return i===null&&At&&((i=u=ln)&&(u=$7(u,o.pendingProps,qr),u!==null?(o.stateNode=u,oa=o,ln=null,i=!0):i=!1),i||vl(o)),null;case 13:return X4(i,o,u);case 4:return re(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=zo(o,null,p,u):Vn(i,o,p,u),o.child;case 11:return F4(i,o,o.type,o.pendingProps,u);case 7:return Vn(i,o,o.pendingProps,u),o.child;case 8:return Vn(i,o,o.pendingProps.children,u),o.child;case 12:return Vn(i,o,o.pendingProps.children,u),o.child;case 10:return p=o.pendingProps,hi(o,o.type,p.value),Vn(i,o,p.children,u),o.child;case 9:return b=o.type._context,p=o.pendingProps.children,yl(o),b=Qn(b),p=p(b),o.flags|=1,Vn(i,o,p,u),o.child;case 14:return V4(i,o,o.type,o.pendingProps,u);case 15:return H4(i,o,o.type,o.pendingProps,u);case 19:return Q4(i,o,u);case 31:return p=o.pendingProps,u=o.mode,p={mode:p.mode,children:p.children},i===null?(u=Lm(p,u),u.ref=o.ref,o.child=u,u.return=o,o=u):(u=ys(i.child,p),u.ref=o.ref,o.child=u,u.return=o,o=u),o;case 22:return q4(i,o,u);case 24:return yl(o),p=Qn(_n),i===null?(b=ng(),b===null&&(b=Vt,N=eg(),b.pooledCache=N,N.refCount++,N!==null&&(b.pooledCacheLanes|=u),b=N),o.memoizedState={parent:p,cache:b},rg(o),hi(o,_n,b)):((i.lanes&u)!==0&&(sg(i,o),$u(o,null,null,u),Lu()),b=i.memoizedState,N=o.memoizedState,b.parent!==p?(b={parent:p,cache:p},o.memoizedState=b,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=b),hi(o,_n,p)):(p=N.cache,hi(o,_n,p),p!==b.cache&&Jx(o,[_n],u,!0))),Vn(i,o,o.pendingProps.children,u),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function As(i){i.flags|=4}function e_(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!o5(o)){if(o=sr.current,o!==null&&((bt&4194048)===bt?Kr!==null:(bt&62914560)!==bt&&(bt&536870912)===0||o!==Kr))throw Du=ag,$S;i.flags|=8192}}function $m(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?X():536870912,i.lanes|=o,Vo|=o)}function Hu(i,o){if(!At)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function rn(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags&65011712,p|=b.flags&65011712,b.return=i,b=b.sibling;else for(b=i.child;b!==null;)u|=b.lanes|b.childLanes,p|=b.subtreeFlags,p|=b.flags,b.return=i,b=b.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function c7(i,o,u){var p=o.pendingProps;switch(Wx(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rn(o),null;case 1:return rn(o),null;case 3:return u=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Ss(_n),we(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(i===null||i.child===null)&&(Cu(o)?As(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,OS())),rn(o),null;case 26:return u=o.memoizedState,i===null?(As(o),u!==null?(rn(o),e_(o,u)):(rn(o),o.flags&=-16777217)):u?u!==i.memoizedState?(As(o),rn(o),e_(o,u)):(rn(o),o.flags&=-16777217):(i.memoizedProps!==p&&As(o),rn(o),o.flags&=-16777217),null;case 27:Se(o),u=Z.current;var b=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&As(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return rn(o),null}i=ce.current,Cu(o)?ES(o):(i=e5(b,p,u),o.stateNode=i,As(o))}return rn(o),null;case 5:if(Se(o),u=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&As(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return rn(o),null}if(i=ce.current,Cu(o))ES(o);else{switch(b=Xm(Z.current),i){case 1:i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":i=b.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":i=b.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":i=b.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?b.createElement("select",{is:p.is}):b.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?b.createElement(u,{is:p.is}):b.createElement(u)}}i[Ct]=o,i[an]=p;e:for(b=o.child;b!==null;){if(b.tag===5||b.tag===6)i.appendChild(b.stateNode);else if(b.tag!==4&&b.tag!==27&&b.child!==null){b.child.return=b,b=b.child;continue}if(b===o)break e;for(;b.sibling===null;){if(b.return===null||b.return===o)break e;b=b.return}b.sibling.return=b.return,b=b.sibling}o.stateNode=i;e:switch(qn(i,u,p),u){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&As(o)}}return rn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&As(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=Z.current,Cu(o)){if(i=o.stateNode,u=o.memoizedProps,p=null,b=oa,b!==null)switch(b.tag){case 27:case 5:p=b.memoizedProps}i[Ct]=o,i=!!(i.nodeValue===u||p!==null&&p.suppressHydrationWarning===!0||G_(i.nodeValue,u)),i||vl(o)}else i=Xm(i).createTextNode(p),i[Ct]=o,o.stateNode=i}return rn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(b=Cu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!b)throw Error(r(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(r(317));b[Ct]=o}else Au(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;rn(o),b=!1}else b=OS(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=b),b=!0;if(!b)return o.flags&256?(ks(o),o):(ks(o),null)}if(ks(o),(o.flags&128)!==0)return o.lanes=u,o;if(u=p!==null,i=i!==null&&i.memoizedState!==null,u){p=o.child,b=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(b=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==b&&(p.flags|=2048)}return u!==i&&u&&(o.child.flags|=8192),$m(o,o.updateQueue),rn(o),null;case 4:return we(),i===null&&lv(o.stateNode.containerInfo),rn(o),null;case 10:return Ss(o.type),rn(o),null;case 19:if(z(kn),b=o.memoizedState,b===null)return rn(o),null;if(p=(o.flags&128)!==0,N=b.rendering,N===null)if(p)Hu(b,!1);else{if(on!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=Om(i),N!==null){for(o.flags|=128,Hu(b,!1),i=N.updateQueue,o.updateQueue=i,$m(o,i),o.subtreeFlags=0,i=u,u=o.child;u!==null;)AS(u,i),u=u.sibling;return W(kn,kn.current&1|2),o.child}i=i.sibling}b.tail!==null&&ie()>Bm&&(o.flags|=128,p=!0,Hu(b,!1),o.lanes=4194304)}else{if(!p)if(i=Om(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,$m(o,i),Hu(b,!0),b.tail===null&&b.tailMode==="hidden"&&!N.alternate&&!At)return rn(o),null}else 2*ie()-b.renderingStartTime>Bm&&u!==536870912&&(o.flags|=128,p=!0,Hu(b,!1),o.lanes=4194304);b.isBackwards?(N.sibling=o.child,o.child=N):(i=b.last,i!==null?i.sibling=N:o.child=N,b.last=N)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=ie(),o.sibling=null,i=kn.current,W(kn,p?i&1|2:i&1),o):(rn(o),null);case 22:case 23:return ks(o),cg(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(u&536870912)!==0&&(o.flags&128)===0&&(rn(o),o.subtreeFlags&6&&(o.flags|=8192)):rn(o),u=o.updateQueue,u!==null&&$m(o,u.retryQueue),u=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==u&&(o.flags|=2048),i!==null&&z(wl),null;case 24:return u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Ss(_n),rn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function u7(i,o){switch(Wx(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Ss(_n),we(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Se(o),null;case 13:if(ks(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));Au()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return z(kn),null;case 4:return we(),null;case 10:return Ss(o.type),null;case 22:case 23:return ks(o),cg(),i!==null&&z(wl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Ss(_n),null;case 25:return null;default:return null}}function t_(i,o){switch(Wx(o),o.tag){case 3:Ss(_n),we();break;case 26:case 27:case 5:Se(o);break;case 4:we();break;case 13:ks(o);break;case 19:z(kn);break;case 10:Ss(o.type);break;case 22:case 23:ks(o),cg(),i!==null&&z(wl);break;case 24:Ss(_n)}}function qu(i,o){try{var u=o.updateQueue,p=u!==null?u.lastEffect:null;if(p!==null){var b=p.next;u=b;do{if((u.tag&i)===i){p=void 0;var N=u.create,O=u.inst;p=N(),O.destroy=p}u=u.next}while(u!==b)}}catch(B){Bt(o,o.return,B)}}function wi(i,o,u){try{var p=o.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var N=b.next;p=N;do{if((p.tag&i)===i){var O=p.inst,B=O.destroy;if(B!==void 0){O.destroy=void 0,b=o;var J=u,fe=B;try{fe()}catch(Ce){Bt(b,J,Ce)}}}p=p.next}while(p!==N)}}catch(Ce){Bt(o,o.return,Ce)}}function n_(i){var o=i.updateQueue;if(o!==null){var u=i.stateNode;try{VS(o,u)}catch(p){Bt(i,i.return,p)}}}function a_(i,o,u){u.props=Nl(i.type,i.memoizedProps),u.state=i.memoizedState;try{u.componentWillUnmount()}catch(p){Bt(i,o,p)}}function Ku(i,o){try{var u=i.ref;if(u!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof u=="function"?i.refCleanup=u(p):u.current=p}}catch(b){Bt(i,o,b)}}function Gr(i,o){var u=i.ref,p=i.refCleanup;if(u!==null)if(typeof p=="function")try{p()}catch(b){Bt(i,o,b)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof u=="function")try{u(null)}catch(b){Bt(i,o,b)}else u.current=null}function r_(i){var o=i.type,u=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":u.autoFocus&&p.focus();break e;case"img":u.src?p.src=u.src:u.srcSet&&(p.srcset=u.srcSet)}}catch(b){Bt(i,i.return,b)}}function $g(i,o,u){try{var p=i.stateNode;P7(p,i.type,u,o),p[an]=o}catch(b){Bt(i,i.return,b)}}function s_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ti(i.type)||i.tag===4}function Ig(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||s_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ti(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function zg(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u).insertBefore(i,o):(o=u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,o.appendChild(i),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Wm));else if(p!==4&&(p===27&&Ti(i.type)&&(u=i.stateNode,o=null),i=i.child,i!==null))for(zg(i,o,u),i=i.sibling;i!==null;)zg(i,o,u),i=i.sibling}function Im(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(p===27&&Ti(i.type)&&(u=i.stateNode),i=i.child,i!==null))for(Im(i,o,u),i=i.sibling;i!==null;)Im(i,o,u),i=i.sibling}function i_(i){var o=i.stateNode,u=i.memoizedProps;try{for(var p=i.type,b=o.attributes;b.length;)o.removeAttributeNode(b[0]);qn(o,p,u),o[Ct]=i,o[an]=u}catch(N){Bt(i,i.return,N)}}var Ts=!1,hn=!1,Bg=!1,l_=typeof WeakSet=="function"?WeakSet:Set,Rn=null;function d7(i,o){if(i=i.containerInfo,uv=nh,i=vS(i),Ix(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var b=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{u.nodeType,N.nodeType}catch{u=null;break e}var O=0,B=-1,J=-1,fe=0,Ce=0,Te=i,pe=null;t:for(;;){for(var ge;Te!==u||b!==0&&Te.nodeType!==3||(B=O+b),Te!==N||p!==0&&Te.nodeType!==3||(J=O+p),Te.nodeType===3&&(O+=Te.nodeValue.length),(ge=Te.firstChild)!==null;)pe=Te,Te=ge;for(;;){if(Te===i)break t;if(pe===u&&++fe===b&&(B=O),pe===N&&++Ce===p&&(J=O),(ge=Te.nextSibling)!==null)break;Te=pe,pe=Te.parentNode}Te=ge}u=B===-1||J===-1?null:{start:B,end:J}}else u=null}u=u||{start:0,end:0}}else u=null;for(dv={focusedElem:i,selectionRange:u},nh=!1,Rn=o;Rn!==null;)if(o=Rn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Rn=i;else for(;Rn!==null;){switch(o=Rn,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,u=o,b=N.memoizedProps,N=N.memoizedState,p=u.stateNode;try{var rt=Nl(u.type,b,u.elementType===u.type);i=p.getSnapshotBeforeUpdate(rt,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(tt){Bt(u,u.return,tt)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,u=i.nodeType,u===9)hv(i);else if(u===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":hv(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Rn=i;break}Rn=o.return}}function o_(i,o,u){var p=u.flags;switch(u.tag){case 0:case 11:case 15:ji(i,u),p&4&&qu(5,u);break;case 1:if(ji(i,u),p&4)if(i=u.stateNode,o===null)try{i.componentDidMount()}catch(O){Bt(u,u.return,O)}else{var b=Nl(u.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(b,o,i.__reactInternalSnapshotBeforeUpdate)}catch(O){Bt(u,u.return,O)}}p&64&&n_(u),p&512&&Ku(u,u.return);break;case 3:if(ji(i,u),p&64&&(i=u.updateQueue,i!==null)){if(o=null,u.child!==null)switch(u.child.tag){case 27:case 5:o=u.child.stateNode;break;case 1:o=u.child.stateNode}try{VS(i,o)}catch(O){Bt(u,u.return,O)}}break;case 27:o===null&&p&4&&i_(u);case 26:case 5:ji(i,u),o===null&&p&4&&r_(u),p&512&&Ku(u,u.return);break;case 12:ji(i,u);break;case 13:ji(i,u),p&4&&d_(i,u),p&64&&(i=u.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(u=y7.bind(null,u),I7(i,u))));break;case 22:if(p=u.memoizedState!==null||Ts,!p){o=o!==null&&o.memoizedState!==null||hn,b=Ts;var N=hn;Ts=p,(hn=o)&&!N?Ni(i,u,(u.subtreeFlags&8772)!==0):ji(i,u),Ts=b,hn=N}break;case 30:break;default:ji(i,u)}}function c_(i){var o=i.alternate;o!==null&&(i.alternate=null,c_(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&vo(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Zt=null,va=!1;function Es(i,o,u){for(u=u.child;u!==null;)u_(i,o,u),u=u.sibling}function u_(i,o,u){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(Me,u)}catch{}switch(u.tag){case 26:hn||Gr(u,o),Es(i,o,u),u.memoizedState?u.memoizedState.count--:u.stateNode&&(u=u.stateNode,u.parentNode.removeChild(u));break;case 27:hn||Gr(u,o);var p=Zt,b=va;Ti(u.type)&&(Zt=u.stateNode,va=!1),Es(i,o,u),td(u.stateNode),Zt=p,va=b;break;case 5:hn||Gr(u,o);case 6:if(p=Zt,b=va,Zt=null,Es(i,o,u),Zt=p,va=b,Zt!==null)if(va)try{(Zt.nodeType===9?Zt.body:Zt.nodeName==="HTML"?Zt.ownerDocument.body:Zt).removeChild(u.stateNode)}catch(N){Bt(u,o,N)}else try{Zt.removeChild(u.stateNode)}catch(N){Bt(u,o,N)}break;case 18:Zt!==null&&(va?(i=Zt,Q_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,u.stateNode),cd(i)):Q_(Zt,u.stateNode));break;case 4:p=Zt,b=va,Zt=u.stateNode.containerInfo,va=!0,Es(i,o,u),Zt=p,va=b;break;case 0:case 11:case 14:case 15:hn||wi(2,u,o),hn||wi(4,u,o),Es(i,o,u);break;case 1:hn||(Gr(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"&&a_(u,o,p)),Es(i,o,u);break;case 21:Es(i,o,u);break;case 22:hn=(p=hn)||u.memoizedState!==null,Es(i,o,u),hn=p;break;default:Es(i,o,u)}}function d_(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{cd(i)}catch(u){Bt(o,o.return,u)}}function f7(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new l_),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new l_),o;default:throw Error(r(435,i.tag))}}function Ug(i,o){var u=f7(i);o.forEach(function(p){var b=w7.bind(null,i,p);u.has(p)||(u.add(p),p.then(b,b))})}function Pa(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var b=u[p],N=i,O=o,B=O;e:for(;B!==null;){switch(B.tag){case 27:if(Ti(B.type)){Zt=B.stateNode,va=!1;break e}break;case 5:Zt=B.stateNode,va=!1;break e;case 3:case 4:Zt=B.stateNode.containerInfo,va=!0;break e}B=B.return}if(Zt===null)throw Error(r(160));u_(N,O,b),Zt=null,va=!1,N=b.alternate,N!==null&&(N.return=null),b.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)f_(o,i),o=o.sibling}var _r=null;function f_(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Pa(o,i),Oa(i),p&4&&(wi(3,i,i.return),qu(3,i),wi(5,i,i.return));break;case 1:Pa(o,i),Oa(i),p&512&&(hn||u===null||Gr(u,u.return)),p&64&&Ts&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(u=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=u===null?p:u.concat(p))));break;case 26:var b=_r;if(Pa(o,i),Oa(i),p&512&&(hn||u===null||Gr(u,u.return)),p&4){var N=u!==null?u.memoizedState:null;if(p=i.memoizedState,u===null)if(p===null)if(i.stateNode===null){e:{p=i.type,u=i.memoizedProps,b=b.ownerDocument||b;t:switch(p){case"title":N=b.getElementsByTagName("title")[0],(!N||N[di]||N[Ct]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=b.createElement(p),b.head.insertBefore(N,b.querySelector("head > title"))),qn(N,p,u),N[Ct]=i,oe(N),p=N;break e;case"link":var O=i5("link","href",b).get(p+(u.href||""));if(O){for(var B=0;B<O.length;B++)if(N=O[B],N.getAttribute("href")===(u.href==null||u.href===""?null:u.href)&&N.getAttribute("rel")===(u.rel==null?null:u.rel)&&N.getAttribute("title")===(u.title==null?null:u.title)&&N.getAttribute("crossorigin")===(u.crossOrigin==null?null:u.crossOrigin)){O.splice(B,1);break t}}N=b.createElement(p),qn(N,p,u),b.head.appendChild(N);break;case"meta":if(O=i5("meta","content",b).get(p+(u.content||""))){for(B=0;B<O.length;B++)if(N=O[B],N.getAttribute("content")===(u.content==null?null:""+u.content)&&N.getAttribute("name")===(u.name==null?null:u.name)&&N.getAttribute("property")===(u.property==null?null:u.property)&&N.getAttribute("http-equiv")===(u.httpEquiv==null?null:u.httpEquiv)&&N.getAttribute("charset")===(u.charSet==null?null:u.charSet)){O.splice(B,1);break t}}N=b.createElement(p),qn(N,p,u),b.head.appendChild(N);break;default:throw Error(r(468,p))}N[Ct]=i,oe(N),p=N}i.stateNode=p}else l5(b,i.type,i.stateNode);else i.stateNode=s5(b,p,i.memoizedProps);else N!==p?(N===null?u.stateNode!==null&&(u=u.stateNode,u.parentNode.removeChild(u)):N.count--,p===null?l5(b,i.type,i.stateNode):s5(b,p,i.memoizedProps)):p===null&&i.stateNode!==null&&$g(i,i.memoizedProps,u.memoizedProps)}break;case 27:Pa(o,i),Oa(i),p&512&&(hn||u===null||Gr(u,u.return)),u!==null&&p&4&&$g(i,i.memoizedProps,u.memoizedProps);break;case 5:if(Pa(o,i),Oa(i),p&512&&(hn||u===null||Gr(u,u.return)),i.flags&32){b=i.stateNode;try{wo(b,"")}catch(ge){Bt(i,i.return,ge)}}p&4&&i.stateNode!=null&&(b=i.memoizedProps,$g(i,b,u!==null?u.memoizedProps:b)),p&1024&&(Bg=!0);break;case 6:if(Pa(o,i),Oa(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,u=i.stateNode;try{u.nodeValue=p}catch(ge){Bt(i,i.return,ge)}}break;case 3:if(Jm=null,b=_r,_r=Zm(o.containerInfo),Pa(o,i),_r=b,Oa(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{cd(o.containerInfo)}catch(ge){Bt(i,i.return,ge)}Bg&&(Bg=!1,m_(i));break;case 4:p=_r,_r=Zm(i.stateNode.containerInfo),Pa(o,i),Oa(i),_r=p;break;case 12:Pa(o,i),Oa(i);break;case 13:Pa(o,i),Oa(i),i.child.flags&8192&&i.memoizedState!==null!=(u!==null&&u.memoizedState!==null)&&(Gg=ie()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ug(i,p)));break;case 22:b=i.memoizedState!==null;var J=u!==null&&u.memoizedState!==null,fe=Ts,Ce=hn;if(Ts=fe||b,hn=Ce||J,Pa(o,i),hn=Ce,Ts=fe,Oa(i),p&8192)e:for(o=i.stateNode,o._visibility=b?o._visibility&-2:o._visibility|1,b&&(u===null||J||Ts||hn||Sl(i)),u=null,o=i;;){if(o.tag===5||o.tag===26){if(u===null){J=u=o;try{if(N=J.stateNode,b)O=N.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{B=J.stateNode;var Te=J.memoizedProps.style,pe=Te!=null&&Te.hasOwnProperty("display")?Te.display:null;B.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(ge){Bt(J,J.return,ge)}}}else if(o.tag===6){if(u===null){J=o;try{J.stateNode.nodeValue=b?"":J.memoizedProps}catch(ge){Bt(J,J.return,ge)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;u===o&&(u=null),o=o.return}u===o&&(u=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(u=p.retryQueue,u!==null&&(p.retryQueue=null,Ug(i,u))));break;case 19:Pa(o,i),Oa(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,Ug(i,p)));break;case 30:break;case 21:break;default:Pa(o,i),Oa(i)}}function Oa(i){var o=i.flags;if(o&2){try{for(var u,p=i.return;p!==null;){if(s_(p)){u=p;break}p=p.return}if(u==null)throw Error(r(160));switch(u.tag){case 27:var b=u.stateNode,N=Ig(i);Im(i,N,b);break;case 5:var O=u.stateNode;u.flags&32&&(wo(O,""),u.flags&=-33);var B=Ig(i);Im(i,B,O);break;case 3:case 4:var J=u.stateNode.containerInfo,fe=Ig(i);zg(i,fe,J);break;default:throw Error(r(161))}}catch(Ce){Bt(i,i.return,Ce)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function m_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;m_(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function ji(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)o_(i,o.alternate,o),o=o.sibling}function Sl(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:wi(4,o,o.return),Sl(o);break;case 1:Gr(o,o.return);var u=o.stateNode;typeof u.componentWillUnmount=="function"&&a_(o,o.return,u),Sl(o);break;case 27:td(o.stateNode);case 26:case 5:Gr(o,o.return),Sl(o);break;case 22:o.memoizedState===null&&Sl(o);break;case 30:Sl(o);break;default:Sl(o)}i=i.sibling}}function Ni(i,o,u){for(u=u&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,b=i,N=o,O=N.flags;switch(N.tag){case 0:case 11:case 15:Ni(b,N,u),qu(4,N);break;case 1:if(Ni(b,N,u),p=N,b=p.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(fe){Bt(p,p.return,fe)}if(p=N,b=p.updateQueue,b!==null){var B=p.stateNode;try{var J=b.shared.hiddenCallbacks;if(J!==null)for(b.shared.hiddenCallbacks=null,b=0;b<J.length;b++)FS(J[b],B)}catch(fe){Bt(p,p.return,fe)}}u&&O&64&&n_(N),Ku(N,N.return);break;case 27:i_(N);case 26:case 5:Ni(b,N,u),u&&p===null&&O&4&&r_(N),Ku(N,N.return);break;case 12:Ni(b,N,u);break;case 13:Ni(b,N,u),u&&O&4&&d_(b,N);break;case 22:N.memoizedState===null&&Ni(b,N,u),Ku(N,N.return);break;case 30:break;default:Ni(b,N,u)}o=o.sibling}}function Fg(i,o){var u=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==u&&(i!=null&&i.refCount++,u!=null&&Pu(u))}function Vg(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pu(i))}function Yr(i,o,u,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)h_(i,o,u,p),o=o.sibling}function h_(i,o,u,p){var b=o.flags;switch(o.tag){case 0:case 11:case 15:Yr(i,o,u,p),b&2048&&qu(9,o);break;case 1:Yr(i,o,u,p);break;case 3:Yr(i,o,u,p),b&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Pu(i)));break;case 12:if(b&2048){Yr(i,o,u,p),i=o.stateNode;try{var N=o.memoizedProps,O=N.id,B=N.onPostCommit;typeof B=="function"&&B(O,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Bt(o,o.return,J)}}else Yr(i,o,u,p);break;case 13:Yr(i,o,u,p);break;case 23:break;case 22:N=o.stateNode,O=o.alternate,o.memoizedState!==null?N._visibility&2?Yr(i,o,u,p):Gu(i,o):N._visibility&2?Yr(i,o,u,p):(N._visibility|=2,Bo(i,o,u,p,(o.subtreeFlags&10256)!==0)),b&2048&&Fg(O,o);break;case 24:Yr(i,o,u,p),b&2048&&Vg(o.alternate,o);break;default:Yr(i,o,u,p)}}function Bo(i,o,u,p,b){for(b=b&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,O=o,B=u,J=p,fe=O.flags;switch(O.tag){case 0:case 11:case 15:Bo(N,O,B,J,b),qu(8,O);break;case 23:break;case 22:var Ce=O.stateNode;O.memoizedState!==null?Ce._visibility&2?Bo(N,O,B,J,b):Gu(N,O):(Ce._visibility|=2,Bo(N,O,B,J,b)),b&&fe&2048&&Fg(O.alternate,O);break;case 24:Bo(N,O,B,J,b),b&&fe&2048&&Vg(O.alternate,O);break;default:Bo(N,O,B,J,b)}o=o.sibling}}function Gu(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var u=i,p=o,b=p.flags;switch(p.tag){case 22:Gu(u,p),b&2048&&Fg(p.alternate,p);break;case 24:Gu(u,p),b&2048&&Vg(p.alternate,p);break;default:Gu(u,p)}o=o.sibling}}var Yu=8192;function Uo(i){if(i.subtreeFlags&Yu)for(i=i.child;i!==null;)p_(i),i=i.sibling}function p_(i){switch(i.tag){case 26:Uo(i),i.flags&Yu&&i.memoizedState!==null&&Z7(_r,i.memoizedState,i.memoizedProps);break;case 5:Uo(i);break;case 3:case 4:var o=_r;_r=Zm(i.stateNode.containerInfo),Uo(i),_r=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Yu,Yu=16777216,Uo(i),Yu=o):Uo(i));break;default:Uo(i)}}function x_(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Wu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Rn=p,v_(p,i)}x_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)g_(i),i=i.sibling}function g_(i){switch(i.tag){case 0:case 11:case 15:Wu(i),i.flags&2048&&wi(9,i,i.return);break;case 3:Wu(i);break;case 12:Wu(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,zm(i)):Wu(i);break;default:Wu(i)}}function zm(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var u=0;u<o.length;u++){var p=o[u];Rn=p,v_(p,i)}x_(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:wi(8,o,o.return),zm(o);break;case 22:u=o.stateNode,u._visibility&2&&(u._visibility&=-3,zm(o));break;default:zm(o)}i=i.sibling}}function v_(i,o){for(;Rn!==null;){var u=Rn;switch(u.tag){case 0:case 11:case 15:wi(8,u,o);break;case 23:case 22:if(u.memoizedState!==null&&u.memoizedState.cachePool!==null){var p=u.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:Pu(u.memoizedState.cache)}if(p=u.child,p!==null)p.return=u,Rn=p;else e:for(u=i;Rn!==null;){p=Rn;var b=p.sibling,N=p.return;if(c_(p),p===u){Rn=null;break e}if(b!==null){b.return=N,Rn=b;break e}Rn=N}}}var m7={getCacheForType:function(i){var o=Qn(_n),u=o.data.get(i);return u===void 0&&(u=i(),o.data.set(i,u)),u}},h7=typeof WeakMap=="function"?WeakMap:Map,Et=0,Vt=null,mt=null,bt=0,Pt=0,Ma=null,Si=!1,Fo=!1,Hg=!1,Ps=0,on=0,_i=0,_l=0,qg=0,ir=0,Vo=0,Xu=null,ba=null,Kg=!1,Gg=0,Bm=1/0,Um=null,ki=null,Hn=0,Ci=null,Ho=null,qo=0,Yg=0,Wg=null,b_=null,Zu=0,Xg=null;function Da(){if((Et&2)!==0&&bt!==0)return bt&-bt;if(D.T!==null){var i=Oo;return i!==0?i:av()}return Dt()}function y_(){ir===0&&(ir=(bt&536870912)===0||At?de():536870912);var i=sr.current;return i!==null&&(i.flags|=32),ir}function Ra(i,o,u){(i===Vt&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)&&(Ko(i,0),Ai(i,bt,ir,!1)),se(i,u),((Et&2)===0||i!==Vt)&&(i===Vt&&((Et&2)===0&&(_l|=u),on===4&&Ai(i,bt,ir,!1)),Wr(i))}function w_(i,o,u){if((Et&6)!==0)throw Error(r(327));var p=!u&&(o&124)===0&&(o&i.expiredLanes)===0||St(i,o),b=p?g7(i,o):Jg(i,o,!0),N=p;do{if(b===0){Fo&&!p&&Ai(i,o,0,!1);break}else{if(u=i.current.alternate,N&&!p7(u)){b=Jg(i,o,!1),N=!1;continue}if(b===2){if(N=o,i.errorRecoveryDisabledLanes&N)var O=0;else O=i.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){o=O;e:{var B=i;b=Xu;var J=B.current.memoizedState.isDehydrated;if(J&&(Ko(B,O).flags|=256),O=Jg(B,O,!1),O!==2){if(Hg&&!J){B.errorRecoveryDisabledLanes|=N,_l|=N,b=4;break e}N=ba,ba=b,N!==null&&(ba===null?ba=N:ba.push.apply(ba,N))}b=O}if(N=!1,b!==2)continue}}if(b===1){Ko(i,0),Ai(i,o,0,!0);break}e:{switch(p=i,N=b,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Ai(p,o,ir,!Si);break e;case 2:ba=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(b=Gg+300-ie(),10<b)){if(Ai(p,o,ir,!Si),Fe(p,0,!0)!==0)break e;p.timeoutHandle=X_(j_.bind(null,p,u,ba,Um,Kg,o,ir,_l,Vo,Si,N,2,-0,0),b);break e}j_(p,u,ba,Um,Kg,o,ir,_l,Vo,Si,N,0,-0,0)}}break}while(!0);Wr(i)}function j_(i,o,u,p,b,N,O,B,J,fe,Ce,Te,pe,ge){if(i.timeoutHandle=-1,Te=o.subtreeFlags,(Te&8192||(Te&16785408)===16785408)&&(rd={stylesheets:null,count:0,unsuspend:X7},p_(o),Te=Q7(),Te!==null)){i.cancelPendingCommit=Te(T_.bind(null,i,o,N,u,p,b,O,B,J,Ce,1,pe,ge)),Ai(i,N,O,!fe);return}T_(i,o,N,u,p,b,O,B,J)}function p7(i){for(var o=i;;){var u=o.tag;if((u===0||u===11||u===15)&&o.flags&16384&&(u=o.updateQueue,u!==null&&(u=u.stores,u!==null)))for(var p=0;p<u.length;p++){var b=u[p],N=b.getSnapshot;b=b.value;try{if(!Ta(N(),b))return!1}catch{return!1}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ai(i,o,u,p){o&=~qg,o&=~_l,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var b=o;0<b;){var N=31-Ie(b),O=1<<N;p[N]=-1,b&=~O}u!==0&&nt(i,u,o)}function Fm(){return(Et&6)===0?(Qu(0),!1):!0}function Zg(){if(mt!==null){if(Pt===0)var i=mt.return;else i=mt,Ns=bl=null,hg(i),Io=null,Fu=0,i=mt;for(;i!==null;)t_(i.alternate,i),i=i.return;mt=null}}function Ko(i,o){var u=i.timeoutHandle;u!==-1&&(i.timeoutHandle=-1,M7(u)),u=i.cancelPendingCommit,u!==null&&(i.cancelPendingCommit=null,u()),Zg(),Vt=i,mt=u=ys(i.current,null),bt=o,Pt=0,Ma=null,Si=!1,Fo=St(i,o),Hg=!1,Vo=ir=qg=_l=_i=on=0,ba=Xu=null,Kg=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var b=31-Ie(p),N=1<<b;o|=i[b],p&=~N}return Ps=o,um(),u}function N_(i,o){ut=null,D.H=Tm,o===Mu||o===bm?(o=BS(),Pt=3):o===$S?(o=BS(),Pt=4):Pt=o===U4?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Ma=o,mt===null&&(on=1,Dm(i,tr(o,i.current)))}function S_(){var i=D.H;return D.H=Tm,i===null?Tm:i}function __(){var i=D.A;return D.A=m7,i}function Qg(){on=4,Si||(bt&4194048)!==bt&&sr.current!==null||(Fo=!0),(_i&134217727)===0&&(_l&134217727)===0||Vt===null||Ai(Vt,bt,ir,!1)}function Jg(i,o,u){var p=Et;Et|=2;var b=S_(),N=__();(Vt!==i||bt!==o)&&(Um=null,Ko(i,o)),o=!1;var O=on;e:do try{if(Pt!==0&&mt!==null){var B=mt,J=Ma;switch(Pt){case 8:Zg(),O=6;break e;case 3:case 2:case 9:case 6:sr.current===null&&(o=!0);var fe=Pt;if(Pt=0,Ma=null,Go(i,B,J,fe),u&&Fo){O=0;break e}break;default:fe=Pt,Pt=0,Ma=null,Go(i,B,J,fe)}}x7(),O=on;break}catch(Ce){N_(i,Ce)}while(!0);return o&&i.shellSuspendCounter++,Ns=bl=null,Et=p,D.H=b,D.A=N,mt===null&&(Vt=null,bt=0,um()),O}function x7(){for(;mt!==null;)k_(mt)}function g7(i,o){var u=Et;Et|=2;var p=S_(),b=__();Vt!==i||bt!==o?(Um=null,Bm=ie()+500,Ko(i,o)):Fo=St(i,o);e:do try{if(Pt!==0&&mt!==null){o=mt;var N=Ma;t:switch(Pt){case 1:Pt=0,Ma=null,Go(i,o,N,1);break;case 2:case 9:if(IS(N)){Pt=0,Ma=null,C_(o);break}o=function(){Pt!==2&&Pt!==9||Vt!==i||(Pt=7),Wr(i)},N.then(o,o);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:IS(N)?(Pt=0,Ma=null,C_(o)):(Pt=0,Ma=null,Go(i,o,N,7));break;case 5:var O=null;switch(mt.tag){case 26:O=mt.memoizedState;case 5:case 27:var B=mt;if(!O||o5(O)){Pt=0,Ma=null;var J=B.sibling;if(J!==null)mt=J;else{var fe=B.return;fe!==null?(mt=fe,Vm(fe)):mt=null}break t}}Pt=0,Ma=null,Go(i,o,N,5);break;case 6:Pt=0,Ma=null,Go(i,o,N,6);break;case 8:Zg(),on=6;break e;default:throw Error(r(462))}}v7();break}catch(Ce){N_(i,Ce)}while(!0);return Ns=bl=null,D.H=p,D.A=b,Et=u,mt!==null?0:(Vt=null,bt=0,um(),on)}function v7(){for(;mt!==null&&!be();)k_(mt)}function k_(i){var o=J4(i.alternate,i,Ps);i.memoizedProps=i.pendingProps,o===null?Vm(i):mt=o}function C_(i){var o=i,u=o.alternate;switch(o.tag){case 15:case 0:o=G4(u,o,o.pendingProps,o.type,void 0,bt);break;case 11:o=G4(u,o,o.pendingProps,o.type.render,o.ref,bt);break;case 5:hg(o);default:t_(u,o),o=mt=AS(o,Ps),o=J4(u,o,Ps)}i.memoizedProps=i.pendingProps,o===null?Vm(i):mt=o}function Go(i,o,u,p){Ns=bl=null,hg(o),Io=null,Fu=0;var b=o.return;try{if(l7(i,b,o,u,bt)){on=1,Dm(i,tr(u,i.current)),mt=null;return}}catch(N){if(b!==null)throw mt=b,N;on=1,Dm(i,tr(u,i.current)),mt=null;return}o.flags&32768?(At||p===1?i=!0:Fo||(bt&536870912)!==0?i=!1:(Si=i=!0,(p===2||p===9||p===3||p===6)&&(p=sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),A_(o,i)):Vm(o)}function Vm(i){var o=i;do{if((o.flags&32768)!==0){A_(o,Si);return}i=o.return;var u=c7(o.alternate,o,Ps);if(u!==null){mt=u;return}if(o=o.sibling,o!==null){mt=o;return}mt=o=i}while(o!==null);on===0&&(on=5)}function A_(i,o){do{var u=u7(i.alternate,i);if(u!==null){u.flags&=32767,mt=u;return}if(u=i.return,u!==null&&(u.flags|=32768,u.subtreeFlags=0,u.deletions=null),!o&&(i=i.sibling,i!==null)){mt=i;return}mt=i=u}while(i!==null);on=6,mt=null}function T_(i,o,u,p,b,N,O,B,J){i.cancelPendingCommit=null;do Hm();while(Hn!==0);if((Et&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=Vx,Ge(i,u,N,O,B,J),i===Vt&&(mt=Vt=null,bt=0),Ho=o,Ci=i,qo=u,Yg=N,Wg=b,b_=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,j7(Re,function(){return D_(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=D.T,D.T=null,b=Y.p,Y.p=2,O=Et,Et|=4;try{d7(i,o,u)}finally{Et=O,Y.p=b,D.T=p}}Hn=1,E_(),P_(),O_()}}function E_(){if(Hn===1){Hn=0;var i=Ci,o=Ho,u=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||u){u=D.T,D.T=null;var p=Y.p;Y.p=2;var b=Et;Et|=4;try{f_(o,i);var N=dv,O=vS(i.containerInfo),B=N.focusedElem,J=N.selectionRange;if(O!==B&&B&&B.ownerDocument&&gS(B.ownerDocument.documentElement,B)){if(J!==null&&Ix(B)){var fe=J.start,Ce=J.end;if(Ce===void 0&&(Ce=fe),"selectionStart"in B)B.selectionStart=fe,B.selectionEnd=Math.min(Ce,B.value.length);else{var Te=B.ownerDocument||document,pe=Te&&Te.defaultView||window;if(pe.getSelection){var ge=pe.getSelection(),rt=B.textContent.length,tt=Math.min(J.start,rt),$t=J.end===void 0?tt:Math.min(J.end,rt);!ge.extend&&tt>$t&&(O=$t,$t=tt,tt=O);var le=xS(B,tt),ae=xS(B,$t);if(le&&ae&&(ge.rangeCount!==1||ge.anchorNode!==le.node||ge.anchorOffset!==le.offset||ge.focusNode!==ae.node||ge.focusOffset!==ae.offset)){var ue=Te.createRange();ue.setStart(le.node,le.offset),ge.removeAllRanges(),tt>$t?(ge.addRange(ue),ge.extend(ae.node,ae.offset)):(ue.setEnd(ae.node,ae.offset),ge.addRange(ue))}}}}for(Te=[],ge=B;ge=ge.parentNode;)ge.nodeType===1&&Te.push({element:ge,left:ge.scrollLeft,top:ge.scrollTop});for(typeof B.focus=="function"&&B.focus(),B=0;B<Te.length;B++){var Ae=Te[B];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}nh=!!uv,dv=uv=null}finally{Et=b,Y.p=p,D.T=u}}i.current=o,Hn=2}}function P_(){if(Hn===2){Hn=0;var i=Ci,o=Ho,u=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||u){u=D.T,D.T=null;var p=Y.p;Y.p=2;var b=Et;Et|=4;try{o_(i,o.alternate,o)}finally{Et=b,Y.p=p,D.T=u}}Hn=3}}function O_(){if(Hn===4||Hn===3){Hn=0,q();var i=Ci,o=Ho,u=qo,p=b_;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Hn=5:(Hn=0,Ho=Ci=null,M_(i,i.pendingLanes));var b=i.pendingLanes;if(b===0&&(ki=null),Tt(u),o=o.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(Me,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=D.T,b=Y.p,Y.p=2,D.T=null;try{for(var N=i.onRecoverableError,O=0;O<p.length;O++){var B=p[O];N(B.value,{componentStack:B.stack})}}finally{D.T=o,Y.p=b}}(qo&3)!==0&&Hm(),Wr(i),b=i.pendingLanes,(u&4194090)!==0&&(b&42)!==0?i===Xg?Zu++:(Zu=0,Xg=i):Zu=0,Qu(0)}}function M_(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Pu(o)))}function Hm(i){return E_(),P_(),O_(),D_()}function D_(){if(Hn!==5)return!1;var i=Ci,o=Yg;Yg=0;var u=Tt(qo),p=D.T,b=Y.p;try{Y.p=32>u?32:u,D.T=null,u=Wg,Wg=null;var N=Ci,O=qo;if(Hn=0,Ho=Ci=null,qo=0,(Et&6)!==0)throw Error(r(331));var B=Et;if(Et|=4,g_(N.current),h_(N,N.current,O,u),Et=B,Qu(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(Me,N)}catch{}return!0}finally{Y.p=b,D.T=p,M_(i,o)}}function R_(i,o,u){o=tr(u,o),o=Ag(i.stateNode,o,2),i=gi(i,o,2),i!==null&&(se(i,2),Wr(i))}function Bt(i,o,u){if(i.tag===3)R_(i,i,u);else for(;o!==null;){if(o.tag===3){R_(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ki===null||!ki.has(p))){i=tr(u,i),u=z4(2),p=gi(o,u,2),p!==null&&(B4(u,p,o,i),se(p,2),Wr(p));break}}o=o.return}}function ev(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new h7;var b=new Set;p.set(o,b)}else b=p.get(o),b===void 0&&(b=new Set,p.set(o,b));b.has(u)||(Hg=!0,b.add(u),i=b7.bind(null,i,o,u),o.then(i,i))}function b7(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&u,i.warmLanes&=~u,Vt===i&&(bt&u)===u&&(on===4||on===3&&(bt&62914560)===bt&&300>ie()-Gg?(Et&2)===0&&Ko(i,0):qg|=u,Vo===bt&&(Vo=0)),Wr(i)}function L_(i,o){o===0&&(o=X()),i=Ao(i,o),i!==null&&(se(i,o),Wr(i))}function y7(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),L_(i,u)}function w7(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,b=i.memoizedState;b!==null&&(u=b.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),L_(i,u)}function j7(i,o){return Be(i,o)}var qm=null,Yo=null,tv=!1,Km=!1,nv=!1,kl=0;function Wr(i){i!==Yo&&i.next===null&&(Yo===null?qm=Yo=i:Yo=Yo.next=i),Km=!0,tv||(tv=!0,S7())}function Qu(i,o){if(!nv&&Km){nv=!0;do for(var u=!1,p=qm;p!==null;){if(i!==0){var b=p.pendingLanes;if(b===0)var N=0;else{var O=p.suspendedLanes,B=p.pingedLanes;N=(1<<31-Ie(42|i)+1)-1,N&=b&~(O&~B),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(u=!0,B_(p,N))}else N=bt,N=Fe(p,p===Vt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||St(p,N)||(u=!0,B_(p,N));p=p.next}while(u);nv=!1}}function N7(){$_()}function $_(){Km=tv=!1;var i=0;kl!==0&&(O7()&&(i=kl),kl=0);for(var o=ie(),u=null,p=qm;p!==null;){var b=p.next,N=I_(p,o);N===0?(p.next=null,u===null?qm=b:u.next=b,b===null&&(Yo=u)):(u=p,(i!==0||(N&3)!==0)&&(Km=!0)),p=b}Qu(i)}function I_(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,b=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var O=31-Ie(N),B=1<<O,J=b[O];J===-1?((B&u)===0||(B&p)!==0)&&(b[O]=Hr(B,o)):J<=o&&(i.expiredLanes|=B),N&=~B}if(o=Vt,u=bt,u=Fe(i,i===o?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,u===0||i===o&&(Pt===2||Pt===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Ue(p),i.callbackNode=null,i.callbackPriority=0;if((u&3)===0||St(i,u)){if(o=u&-u,o===i.callbackPriority)return o;switch(p!==null&&Ue(p),Tt(u)){case 2:case 8:u=ke;break;case 32:u=Re;break;case 268435456:u=et;break;default:u=Re}return p=z_.bind(null,i),u=Be(u,p),i.callbackPriority=o,i.callbackNode=u,o}return p!==null&&p!==null&&Ue(p),i.callbackPriority=2,i.callbackNode=null,2}function z_(i,o){if(Hn!==0&&Hn!==5)return i.callbackNode=null,i.callbackPriority=0,null;var u=i.callbackNode;if(Hm()&&i.callbackNode!==u)return null;var p=bt;return p=Fe(i,i===Vt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(w_(i,p,o),I_(i,ie()),i.callbackNode!=null&&i.callbackNode===u?z_.bind(null,i):null)}function B_(i,o){if(Hm())return null;w_(i,o,!0)}function S7(){D7(function(){(Et&6)!==0?Be(xe,N7):$_()})}function av(){return kl===0&&(kl=de()),kl}function U_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:am(""+i)}function F_(i,o){var u=o.ownerDocument.createElement("input");return u.name=o.name,u.value=o.value,i.id&&u.setAttribute("form",i.id),o.parentNode.insertBefore(u,o),i=new FormData(i),u.parentNode.removeChild(u),i}function _7(i,o,u,p,b){if(o==="submit"&&u&&u.stateNode===b){var N=U_((b[an]||null).action),O=p.submitter;O&&(o=(o=O[an]||null)?U_(o.formAction):O.getAttribute("formAction"),o!==null&&(N=o,O=null));var B=new lm("action","action",null,p,b);i.push({event:B,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(kl!==0){var J=O?F_(b,O):new FormData(b);Ng(u,{pending:!0,data:J,method:b.method,action:N},null,J)}}else typeof N=="function"&&(B.preventDefault(),J=O?F_(b,O):new FormData(b),Ng(u,{pending:!0,data:J,method:b.method,action:N},N,J))},currentTarget:b}]})}}for(var rv=0;rv<Fx.length;rv++){var sv=Fx[rv],k7=sv.toLowerCase(),C7=sv[0].toUpperCase()+sv.slice(1);Sr(k7,"on"+C7)}Sr(wS,"onAnimationEnd"),Sr(jS,"onAnimationIteration"),Sr(NS,"onAnimationStart"),Sr("dblclick","onDoubleClick"),Sr("focusin","onFocus"),Sr("focusout","onBlur"),Sr(H9,"onTransitionRun"),Sr(q9,"onTransitionStart"),Sr(K9,"onTransitionCancel"),Sr(SS,"onTransitionEnd"),Ve("onMouseEnter",["mouseout","mouseover"]),Ve("onMouseLeave",["mouseout","mouseover"]),Ve("onPointerEnter",["pointerout","pointerover"]),Ve("onPointerLeave",["pointerout","pointerover"]),ze("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ze("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ze("onBeforeInput",["compositionend","keypress","textInput","paste"]),ze("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ze("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ju="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ju));function V_(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],b=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var O=p.length-1;0<=O;O--){var B=p[O],J=B.instance,fe=B.currentTarget;if(B=B.listener,J!==N&&b.isPropagationStopped())break e;N=B,b.currentTarget=fe;try{N(b)}catch(Ce){Mm(Ce)}b.currentTarget=null,N=J}else for(O=0;O<p.length;O++){if(B=p[O],J=B.instance,fe=B.currentTarget,B=B.listener,J!==N&&b.isPropagationStopped())break e;N=B,b.currentTarget=fe;try{N(b)}catch(Ce){Mm(Ce)}b.currentTarget=null,N=J}}}}function ht(i,o){var u=o[go];u===void 0&&(u=o[go]=new Set);var p=i+"__bubble";u.has(p)||(H_(o,i,2,!1),u.add(p))}function iv(i,o,u){var p=0;o&&(p|=4),H_(u,i,p,o)}var Gm="_reactListening"+Math.random().toString(36).slice(2);function lv(i){if(!i[Gm]){i[Gm]=!0,Oe.forEach(function(u){u!=="selectionchange"&&(A7.has(u)||iv(u,!1,i),iv(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Gm]||(o[Gm]=!0,iv("selectionchange",!1,o))}}function H_(i,o,u,p){switch(h5(o)){case 2:var b=t$;break;case 8:b=n$;break;default:b=wv}u=b.bind(null,o,u,i),b=void 0,!Tx||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(b=!0),p?b!==void 0?i.addEventListener(o,u,{capture:!0,passive:b}):i.addEventListener(o,u,!0):b!==void 0?i.addEventListener(o,u,{passive:b}):i.addEventListener(o,u,!1)}function ov(i,o,u,p,b){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var O=p.tag;if(O===3||O===4){var B=p.stateNode.containerInfo;if(B===b)break;if(O===4)for(O=p.return;O!==null;){var J=O.tag;if((J===3||J===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;B!==null;){if(O=ps(B),O===null)return;if(J=O.tag,J===5||J===6||J===26||J===27){p=N=O;continue e}B=B.parentNode}}p=p.return}ZN(function(){var fe=N,Ce=Cx(u),Te=[];e:{var pe=_S.get(i);if(pe!==void 0){var ge=lm,rt=i;switch(i){case"keypress":if(sm(u)===0)break e;case"keydown":case"keyup":ge=j9;break;case"focusin":rt="focus",ge=Mx;break;case"focusout":rt="blur",ge=Mx;break;case"beforeblur":case"afterblur":ge=Mx;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ge=eS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ge=u9;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ge=_9;break;case wS:case jS:case NS:ge=m9;break;case SS:ge=C9;break;case"scroll":case"scrollend":ge=o9;break;case"wheel":ge=T9;break;case"copy":case"cut":case"paste":ge=p9;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ge=nS;break;case"toggle":case"beforetoggle":ge=P9}var tt=(o&4)!==0,$t=!tt&&(i==="scroll"||i==="scrollend"),le=tt?pe!==null?pe+"Capture":null:pe;tt=[];for(var ae=fe,ue;ae!==null;){var Ae=ae;if(ue=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||ue===null||le===null||(Ae=vu(ae,le),Ae!=null&&tt.push(ed(ae,Ae,ue))),$t)break;ae=ae.return}0<tt.length&&(pe=new ge(pe,rt,null,u,Ce),Te.push({event:pe,listeners:tt}))}}if((o&7)===0){e:{if(pe=i==="mouseover"||i==="pointerover",ge=i==="mouseout"||i==="pointerout",pe&&u!==kx&&(rt=u.relatedTarget||u.fromElement)&&(ps(rt)||rt[hs]))break e;if((ge||pe)&&(pe=Ce.window===Ce?Ce:(pe=Ce.ownerDocument)?pe.defaultView||pe.parentWindow:window,ge?(rt=u.relatedTarget||u.toElement,ge=fe,rt=rt?ps(rt):null,rt!==null&&($t=l(rt),tt=rt.tag,rt!==$t||tt!==5&&tt!==27&&tt!==6)&&(rt=null)):(ge=null,rt=fe),ge!==rt)){if(tt=eS,Ae="onMouseLeave",le="onMouseEnter",ae="mouse",(i==="pointerout"||i==="pointerover")&&(tt=nS,Ae="onPointerLeave",le="onPointerEnter",ae="pointer"),$t=ge==null?pe:fi(ge),ue=rt==null?pe:fi(rt),pe=new tt(Ae,ae+"leave",ge,u,Ce),pe.target=$t,pe.relatedTarget=ue,Ae=null,ps(Ce)===fe&&(tt=new tt(le,ae+"enter",rt,u,Ce),tt.target=ue,tt.relatedTarget=$t,Ae=tt),$t=Ae,ge&&rt)t:{for(tt=ge,le=rt,ae=0,ue=tt;ue;ue=Wo(ue))ae++;for(ue=0,Ae=le;Ae;Ae=Wo(Ae))ue++;for(;0<ae-ue;)tt=Wo(tt),ae--;for(;0<ue-ae;)le=Wo(le),ue--;for(;ae--;){if(tt===le||le!==null&&tt===le.alternate)break t;tt=Wo(tt),le=Wo(le)}tt=null}else tt=null;ge!==null&&q_(Te,pe,ge,tt,!1),rt!==null&&$t!==null&&q_(Te,$t,rt,tt,!0)}}e:{if(pe=fe?fi(fe):window,ge=pe.nodeName&&pe.nodeName.toLowerCase(),ge==="select"||ge==="input"&&pe.type==="file")var Ye=uS;else if(oS(pe))if(dS)Ye=U9;else{Ye=z9;var dt=I9}else ge=pe.nodeName,!ge||ge.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?fe&&_x(fe.elementType)&&(Ye=uS):Ye=B9;if(Ye&&(Ye=Ye(i,fe))){cS(Te,Ye,u,Ce);break e}dt&&dt(i,pe,fe),i==="focusout"&&fe&&pe.type==="number"&&fe.memoizedProps.value!=null&&Sx(pe,"number",pe.value)}switch(dt=fe?fi(fe):window,i){case"focusin":(oS(dt)||dt.contentEditable==="true")&&(_o=dt,zx=fe,ku=null);break;case"focusout":ku=zx=_o=null;break;case"mousedown":Bx=!0;break;case"contextmenu":case"mouseup":case"dragend":Bx=!1,bS(Te,u,Ce);break;case"selectionchange":if(V9)break;case"keydown":case"keyup":bS(Te,u,Ce)}var Qe;if(Rx)e:{switch(i){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else So?iS(i,u)&&(at="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(at="onCompositionStart");at&&(aS&&u.locale!=="ko"&&(So||at!=="onCompositionStart"?at==="onCompositionEnd"&&So&&(Qe=QN()):(mi=Ce,Ex="value"in mi?mi.value:mi.textContent,So=!0)),dt=Ym(fe,at),0<dt.length&&(at=new tS(at,i,null,u,Ce),Te.push({event:at,listeners:dt}),Qe?at.data=Qe:(Qe=lS(u),Qe!==null&&(at.data=Qe)))),(Qe=M9?D9(i,u):R9(i,u))&&(at=Ym(fe,"onBeforeInput"),0<at.length&&(dt=new tS("onBeforeInput","beforeinput",null,u,Ce),Te.push({event:dt,listeners:at}),dt.data=Qe)),_7(Te,i,fe,u,Ce)}V_(Te,o)})}function ed(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Ym(i,o){for(var u=o+"Capture",p=[];i!==null;){var b=i,N=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||N===null||(b=vu(i,u),b!=null&&p.unshift(ed(i,b,N)),b=vu(i,o),b!=null&&p.push(ed(i,b,N))),i.tag===3)return p;i=i.return}return[]}function Wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function q_(i,o,u,p,b){for(var N=o._reactName,O=[];u!==null&&u!==p;){var B=u,J=B.alternate,fe=B.stateNode;if(B=B.tag,J!==null&&J===p)break;B!==5&&B!==26&&B!==27||fe===null||(J=fe,b?(fe=vu(u,N),fe!=null&&O.unshift(ed(u,fe,J))):b||(fe=vu(u,N),fe!=null&&O.push(ed(u,fe,J)))),u=u.return}O.length!==0&&i.push({event:o,listeners:O})}var T7=/\r\n?/g,E7=/\u0000|\uFFFD/g;function K_(i){return(typeof i=="string"?i:""+i).replace(T7,`
`).replace(E7,"")}function G_(i,o){return o=K_(o),K_(i)===o}function Wm(){}function Lt(i,o,u,p,b,N){switch(u){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||wo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&wo(i,""+p);break;case"className":em(i,"class",p);break;case"tabIndex":em(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":em(i,u,p);break;case"style":WN(i,p,N);break;case"data":if(o!=="object"){em(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||u!=="href")){i.removeAttribute(u);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=am(""+p),i.setAttribute(u,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(u,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(u==="formAction"?(o!=="input"&&Lt(i,o,"name",b.name,b,null),Lt(i,o,"formEncType",b.formEncType,b,null),Lt(i,o,"formMethod",b.formMethod,b,null),Lt(i,o,"formTarget",b.formTarget,b,null)):(Lt(i,o,"encType",b.encType,b,null),Lt(i,o,"method",b.method,b,null),Lt(i,o,"target",b.target,b,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(u);break}p=am(""+p),i.setAttribute(u,p);break;case"onClick":p!=null&&(i.onclick=Wm);break;case"onScroll":p!=null&&ht("scroll",i);break;case"onScrollEnd":p!=null&&ht("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}u=am(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",u);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""+p):i.removeAttribute(u);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,""):i.removeAttribute(u);break;case"capture":case"download":p===!0?i.setAttribute(u,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(u,p):i.removeAttribute(u);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(u,p):i.removeAttribute(u);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(u):i.setAttribute(u,p);break;case"popover":ht("beforetoggle",i),ht("toggle",i),Jf(i,"popover",p);break;case"xlinkActuate":vs(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":vs(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":vs(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":vs(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":vs(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":vs(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":vs(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":vs(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":vs(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Jf(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(u=i9.get(u)||u,Jf(i,u,p))}}function cv(i,o,u,p,b,N){switch(u){case"style":WN(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(u=p.__html,u!=null){if(b.children!=null)throw Error(r(60));i.innerHTML=u}}break;case"children":typeof p=="string"?wo(i,p):(typeof p=="number"||typeof p=="bigint")&&wo(i,""+p);break;case"onScroll":p!=null&&ht("scroll",i);break;case"onScrollEnd":p!=null&&ht("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Wm);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ke.hasOwnProperty(u))e:{if(u[0]==="o"&&u[1]==="n"&&(b=u.endsWith("Capture"),o=u.slice(2,b?u.length-7:void 0),N=i[an]||null,N=N!=null?N[u]:null,typeof N=="function"&&i.removeEventListener(o,N,b),typeof p=="function")){typeof N!="function"&&N!==null&&(u in i?i[u]=null:i.hasAttribute(u)&&i.removeAttribute(u)),i.addEventListener(o,p,b);break e}u in i?i[u]=p:p===!0?i.setAttribute(u,""):Jf(i,u,p)}}}function qn(i,o,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ht("error",i),ht("load",i);var p=!1,b=!1,N;for(N in u)if(u.hasOwnProperty(N)){var O=u[N];if(O!=null)switch(N){case"src":p=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,N,O,u,null)}}b&&Lt(i,o,"srcSet",u.srcSet,u,null),p&&Lt(i,o,"src",u.src,u,null);return;case"input":ht("invalid",i);var B=N=O=b=null,J=null,fe=null;for(p in u)if(u.hasOwnProperty(p)){var Ce=u[p];if(Ce!=null)switch(p){case"name":b=Ce;break;case"type":O=Ce;break;case"checked":J=Ce;break;case"defaultChecked":fe=Ce;break;case"value":N=Ce;break;case"defaultValue":B=Ce;break;case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(r(137,o));break;default:Lt(i,o,p,Ce,u,null)}}qN(i,N,B,J,fe,O,b,!1),tm(i);return;case"select":ht("invalid",i),p=O=N=null;for(b in u)if(u.hasOwnProperty(b)&&(B=u[b],B!=null))switch(b){case"value":N=B;break;case"defaultValue":O=B;break;case"multiple":p=B;default:Lt(i,o,b,B,u,null)}o=N,u=O,i.multiple=!!p,o!=null?yo(i,!!p,o,!1):u!=null&&yo(i,!!p,u,!0);return;case"textarea":ht("invalid",i),N=b=p=null;for(O in u)if(u.hasOwnProperty(O)&&(B=u[O],B!=null))switch(O){case"value":p=B;break;case"defaultValue":b=B;break;case"children":N=B;break;case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(91));break;default:Lt(i,o,O,B,u,null)}GN(i,p,b,N),tm(i);return;case"option":for(J in u)if(u.hasOwnProperty(J)&&(p=u[J],p!=null))switch(J){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Lt(i,o,J,p,u,null)}return;case"dialog":ht("beforetoggle",i),ht("toggle",i),ht("cancel",i),ht("close",i);break;case"iframe":case"object":ht("load",i);break;case"video":case"audio":for(p=0;p<Ju.length;p++)ht(Ju[p],i);break;case"image":ht("error",i),ht("load",i);break;case"details":ht("toggle",i);break;case"embed":case"source":case"link":ht("error",i),ht("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in u)if(u.hasOwnProperty(fe)&&(p=u[fe],p!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Lt(i,o,fe,p,u,null)}return;default:if(_x(o)){for(Ce in u)u.hasOwnProperty(Ce)&&(p=u[Ce],p!==void 0&&cv(i,o,Ce,p,u,void 0));return}}for(B in u)u.hasOwnProperty(B)&&(p=u[B],p!=null&&Lt(i,o,B,p,u,null))}function P7(i,o,u,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,N=null,O=null,B=null,J=null,fe=null,Ce=null;for(ge in u){var Te=u[ge];if(u.hasOwnProperty(ge)&&Te!=null)switch(ge){case"checked":break;case"value":break;case"defaultValue":J=Te;default:p.hasOwnProperty(ge)||Lt(i,o,ge,null,p,Te)}}for(var pe in p){var ge=p[pe];if(Te=u[pe],p.hasOwnProperty(pe)&&(ge!=null||Te!=null))switch(pe){case"type":N=ge;break;case"name":b=ge;break;case"checked":fe=ge;break;case"defaultChecked":Ce=ge;break;case"value":O=ge;break;case"defaultValue":B=ge;break;case"children":case"dangerouslySetInnerHTML":if(ge!=null)throw Error(r(137,o));break;default:ge!==Te&&Lt(i,o,pe,ge,p,Te)}}Nx(i,O,B,J,fe,Ce,N,b);return;case"select":ge=O=B=pe=null;for(N in u)if(J=u[N],u.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":ge=J;default:p.hasOwnProperty(N)||Lt(i,o,N,null,p,J)}for(b in p)if(N=p[b],J=u[b],p.hasOwnProperty(b)&&(N!=null||J!=null))switch(b){case"value":pe=N;break;case"defaultValue":B=N;break;case"multiple":O=N;default:N!==J&&Lt(i,o,b,N,p,J)}o=B,u=O,p=ge,pe!=null?yo(i,!!u,pe,!1):!!p!=!!u&&(o!=null?yo(i,!!u,o,!0):yo(i,!!u,u?[]:"",!1));return;case"textarea":ge=pe=null;for(B in u)if(b=u[B],u.hasOwnProperty(B)&&b!=null&&!p.hasOwnProperty(B))switch(B){case"value":break;case"children":break;default:Lt(i,o,B,null,p,b)}for(O in p)if(b=p[O],N=u[O],p.hasOwnProperty(O)&&(b!=null||N!=null))switch(O){case"value":pe=b;break;case"defaultValue":ge=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(r(91));break;default:b!==N&&Lt(i,o,O,b,p,N)}KN(i,pe,ge);return;case"option":for(var rt in u)if(pe=u[rt],u.hasOwnProperty(rt)&&pe!=null&&!p.hasOwnProperty(rt))switch(rt){case"selected":i.selected=!1;break;default:Lt(i,o,rt,null,p,pe)}for(J in p)if(pe=p[J],ge=u[J],p.hasOwnProperty(J)&&pe!==ge&&(pe!=null||ge!=null))switch(J){case"selected":i.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:Lt(i,o,J,pe,p,ge)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var tt in u)pe=u[tt],u.hasOwnProperty(tt)&&pe!=null&&!p.hasOwnProperty(tt)&&Lt(i,o,tt,null,p,pe);for(fe in p)if(pe=p[fe],ge=u[fe],p.hasOwnProperty(fe)&&pe!==ge&&(pe!=null||ge!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,o));break;default:Lt(i,o,fe,pe,p,ge)}return;default:if(_x(o)){for(var $t in u)pe=u[$t],u.hasOwnProperty($t)&&pe!==void 0&&!p.hasOwnProperty($t)&&cv(i,o,$t,void 0,p,pe);for(Ce in p)pe=p[Ce],ge=u[Ce],!p.hasOwnProperty(Ce)||pe===ge||pe===void 0&&ge===void 0||cv(i,o,Ce,pe,p,ge);return}}for(var le in u)pe=u[le],u.hasOwnProperty(le)&&pe!=null&&!p.hasOwnProperty(le)&&Lt(i,o,le,null,p,pe);for(Te in p)pe=p[Te],ge=u[Te],!p.hasOwnProperty(Te)||pe===ge||pe==null&&ge==null||Lt(i,o,Te,pe,p,ge)}var uv=null,dv=null;function Xm(i){return i.nodeType===9?i:i.ownerDocument}function Y_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function fv(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var mv=null;function O7(){var i=window.event;return i&&i.type==="popstate"?i===mv?!1:(mv=i,!0):(mv=null,!1)}var X_=typeof setTimeout=="function"?setTimeout:void 0,M7=typeof clearTimeout=="function"?clearTimeout:void 0,Z_=typeof Promise=="function"?Promise:void 0,D7=typeof queueMicrotask=="function"?queueMicrotask:typeof Z_<"u"?function(i){return Z_.resolve(null).then(i).catch(R7)}:X_;function R7(i){setTimeout(function(){throw i})}function Ti(i){return i==="head"}function Q_(i,o){var u=o,p=0,b=0;do{var N=u.nextSibling;if(i.removeChild(u),N&&N.nodeType===8)if(u=N.data,u==="/$"){if(0<p&&8>p){u=p;var O=i.ownerDocument;if(u&1&&td(O.documentElement),u&2&&td(O.body),u&4)for(u=O.head,td(u),O=u.firstChild;O;){var B=O.nextSibling,J=O.nodeName;O[di]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&O.rel.toLowerCase()==="stylesheet"||u.removeChild(O),O=B}}if(b===0){i.removeChild(N),cd(o);return}b--}else u==="$"||u==="$?"||u==="$!"?b++:p=u.charCodeAt(0)-48;else p=0;u=N}while(u);cd(o)}function hv(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var u=o;switch(o=o.nextSibling,u.nodeName){case"HTML":case"HEAD":case"BODY":hv(u),vo(u);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(u.rel.toLowerCase()==="stylesheet")continue}i.removeChild(u)}}function L7(i,o,u,p){for(;i.nodeType===1;){var b=u;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[di])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==b.rel||i.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||i.getAttribute("title")!==(b.title==null?null:b.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(b.src==null?null:b.src)||i.getAttribute("type")!==(b.type==null?null:b.type)||i.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=b.name==null?null:""+b.name;if(b.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=kr(i.nextSibling),i===null)break}return null}function $7(i,o,u){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!u||(i=kr(i.nextSibling),i===null))return null;return i}function pv(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function I7(i,o){var u=i.ownerDocument;if(i.data!=="$?"||u.readyState==="complete")o();else{var p=function(){o(),u.removeEventListener("DOMContentLoaded",p)};u.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function kr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var xv=null;function J_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}function e5(i,o,u){switch(o=Xm(u),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function td(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);vo(i)}var lr=new Map,t5=new Set;function Zm(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Os=Y.d;Y.d={f:z7,r:B7,D:U7,C:F7,L:V7,m:H7,X:K7,S:q7,M:G7};function z7(){var i=Os.f(),o=Fm();return i||o}function B7(i){var o=xs(i);o!==null&&o.tag===5&&o.type==="form"?w4(o):Os.r(i)}var Xo=typeof document>"u"?null:document;function n5(i,o,u){var p=Xo;if(p&&typeof o=="string"&&o){var b=er(o);b='link[rel="'+i+'"][href="'+b+'"]',typeof u=="string"&&(b+='[crossorigin="'+u+'"]'),t5.has(b)||(t5.add(b),i={rel:i,crossOrigin:u,href:o},p.querySelector(b)===null&&(o=p.createElement("link"),qn(o,"link",i),oe(o),p.head.appendChild(o)))}}function U7(i){Os.D(i),n5("dns-prefetch",i,null)}function F7(i,o){Os.C(i,o),n5("preconnect",i,o)}function V7(i,o,u){Os.L(i,o,u);var p=Xo;if(p&&i&&o){var b='link[rel="preload"][as="'+er(o)+'"]';o==="image"&&u&&u.imageSrcSet?(b+='[imagesrcset="'+er(u.imageSrcSet)+'"]',typeof u.imageSizes=="string"&&(b+='[imagesizes="'+er(u.imageSizes)+'"]')):b+='[href="'+er(i)+'"]';var N=b;switch(o){case"style":N=Zo(i);break;case"script":N=Qo(i)}lr.has(N)||(i=h({rel:"preload",href:o==="image"&&u&&u.imageSrcSet?void 0:i,as:o},u),lr.set(N,i),p.querySelector(b)!==null||o==="style"&&p.querySelector(nd(N))||o==="script"&&p.querySelector(ad(N))||(o=p.createElement("link"),qn(o,"link",i),oe(o),p.head.appendChild(o)))}}function H7(i,o){Os.m(i,o);var u=Xo;if(u&&i){var p=o&&typeof o.as=="string"?o.as:"script",b='link[rel="modulepreload"][as="'+er(p)+'"][href="'+er(i)+'"]',N=b;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Qo(i)}if(!lr.has(N)&&(i=h({rel:"modulepreload",href:i},o),lr.set(N,i),u.querySelector(b)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(u.querySelector(ad(N)))return}p=u.createElement("link"),qn(p,"link",i),oe(p),u.head.appendChild(p)}}}function q7(i,o,u){Os.S(i,o,u);var p=Xo;if(p&&i){var b=gs(p).hoistableStyles,N=Zo(i);o=o||"default";var O=b.get(N);if(!O){var B={loading:0,preload:null};if(O=p.querySelector(nd(N)))B.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},u),(u=lr.get(N))&&gv(i,u);var J=O=p.createElement("link");oe(J),qn(J,"link",i),J._p=new Promise(function(fe,Ce){J.onload=fe,J.onerror=Ce}),J.addEventListener("load",function(){B.loading|=1}),J.addEventListener("error",function(){B.loading|=2}),B.loading|=4,Qm(O,o,p)}O={type:"stylesheet",instance:O,count:1,state:B},b.set(N,O)}}}function K7(i,o){Os.X(i,o);var u=Xo;if(u&&i){var p=gs(u).hoistableScripts,b=Qo(i),N=p.get(b);N||(N=u.querySelector(ad(b)),N||(i=h({src:i,async:!0},o),(o=lr.get(b))&&vv(i,o),N=u.createElement("script"),oe(N),qn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function G7(i,o){Os.M(i,o);var u=Xo;if(u&&i){var p=gs(u).hoistableScripts,b=Qo(i),N=p.get(b);N||(N=u.querySelector(ad(b)),N||(i=h({src:i,async:!0,type:"module"},o),(o=lr.get(b))&&vv(i,o),N=u.createElement("script"),oe(N),qn(N,"link",i),u.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(b,N))}}function a5(i,o,u,p){var b=(b=Z.current)?Zm(b):null;if(!b)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof u.precedence=="string"&&typeof u.href=="string"?(o=Zo(u.href),u=gs(b).hoistableStyles,p=u.get(o),p||(p={type:"style",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(u.rel==="stylesheet"&&typeof u.href=="string"&&typeof u.precedence=="string"){i=Zo(u.href);var N=gs(b).hoistableStyles,O=N.get(i);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,O),(N=b.querySelector(nd(i)))&&!N._p&&(O.instance=N,O.state.loading=5),lr.has(i)||(u={rel:"preload",as:"style",href:u.href,crossOrigin:u.crossOrigin,integrity:u.integrity,media:u.media,hrefLang:u.hrefLang,referrerPolicy:u.referrerPolicy},lr.set(i,u),N||Y7(b,i,u,O.state))),o&&p===null)throw Error(r(528,""));return O}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=u.async,u=u.src,typeof u=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Qo(u),u=gs(b).hoistableScripts,p=u.get(o),p||(p={type:"script",instance:null,count:0,state:null},u.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Zo(i){return'href="'+er(i)+'"'}function nd(i){return'link[rel="stylesheet"]['+i+"]"}function r5(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function Y7(i,o,u,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),qn(o,"link",u),oe(o),i.head.appendChild(o))}function Qo(i){return'[src="'+er(i)+'"]'}function ad(i){return"script[async]"+i}function s5(i,o,u){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+er(u.href)+'"]');if(p)return o.instance=p,oe(p),p;var b=h({},u,{"data-href":u.href,"data-precedence":u.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),oe(p),qn(p,"style",b),Qm(p,u.precedence,i),o.instance=p;case"stylesheet":b=Zo(u.href);var N=i.querySelector(nd(b));if(N)return o.state.loading|=4,o.instance=N,oe(N),N;p=r5(u),(b=lr.get(b))&&gv(p,b),N=(i.ownerDocument||i).createElement("link"),oe(N);var O=N;return O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),qn(N,"link",p),o.state.loading|=4,Qm(N,u.precedence,i),o.instance=N;case"script":return N=Qo(u.src),(b=i.querySelector(ad(N)))?(o.instance=b,oe(b),b):(p=u,(b=lr.get(N))&&(p=h({},u),vv(p,b)),i=i.ownerDocument||i,b=i.createElement("script"),oe(b),qn(b,"link",p),i.head.appendChild(b),o.instance=b);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Qm(p,u.precedence,i));return o.instance}function Qm(i,o,u){for(var p=u.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=p.length?p[p.length-1]:null,N=b,O=0;O<p.length;O++){var B=p[O];if(B.dataset.precedence===o)N=B;else if(N!==b)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=u.nodeType===9?u.head:u,o.insertBefore(i,o.firstChild))}function gv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function vv(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Jm=null;function i5(i,o,u){if(Jm===null){var p=new Map,b=Jm=new Map;b.set(u,p)}else b=Jm,p=b.get(u),p||(p=new Map,b.set(u,p));if(p.has(i))return p;for(p.set(i,null),u=u.getElementsByTagName(i),b=0;b<u.length;b++){var N=u[b];if(!(N[di]||N[Ct]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var O=N.getAttribute(o)||"";O=i+O;var B=p.get(O);B?B.push(N):p.set(O,[N])}}return p}function l5(i,o,u){i=i.ownerDocument||i,i.head.insertBefore(u,o==="title"?i.querySelector("head > title"):null)}function W7(i,o,u){if(u===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function o5(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var rd=null;function X7(){}function Z7(i,o,u){if(rd===null)throw Error(r(475));var p=rd;if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var b=Zo(u.href),N=i.querySelector(nd(b));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=eh.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,oe(N);return}N=i.ownerDocument||i,u=r5(u),(b=lr.get(b))&&gv(u,b),N=N.createElement("link"),oe(N);var O=N;O._p=new Promise(function(B,J){O.onload=B,O.onerror=J}),qn(N,"link",u),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=eh.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function Q7(){if(rd===null)throw Error(r(475));var i=rd;return i.stylesheets&&i.count===0&&bv(i,i.stylesheets),0<i.count?function(o){var u=setTimeout(function(){if(i.stylesheets&&bv(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(u)}}:null}function eh(){if(this.count--,this.count===0){if(this.stylesheets)bv(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var th=null;function bv(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,th=new Map,o.forEach(J7,i),th=null,eh.call(i))}function J7(i,o){if(!(o.state.loading&4)){var u=th.get(i);if(u)var p=u.get(null);else{u=new Map,th.set(i,u);for(var b=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<b.length;N++){var O=b[N];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(u.set(O.dataset.precedence,O),p=O)}p&&u.set(null,p)}b=o.instance,O=b.getAttribute("data-precedence"),N=u.get(O)||p,N===p&&u.set(null,b),u.set(O,b),this.count++,p=eh.bind(this),b.addEventListener("load",p),b.addEventListener("error",p),N?N.parentNode.insertBefore(b,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(b,i.firstChild)),o.state.loading|=4}}var sd={$$typeof:C,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function e$(i,o,u,p,b,N,O,B){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=te(0),this.hiddenUpdates=te(null),this.identifierPrefix=p,this.onUncaughtError=b,this.onCaughtError=N,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function c5(i,o,u,p,b,N,O,B,J,fe,Ce,Te){return i=new e$(i,o,u,O,B,J,fe,Te),o=1,N===!0&&(o|=24),N=Ea(3,null,null,o),i.current=N,N.stateNode=i,o=eg(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:u,cache:o},rg(N),i}function u5(i){return i?(i=To,i):To}function d5(i,o,u,p,b,N){b=u5(b),p.context===null?p.context=b:p.pendingContext=b,p=xi(o),p.payload={element:u},N=N===void 0?null:N,N!==null&&(p.callback=N),u=gi(i,p,o),u!==null&&(Ra(u,i,o),Ru(u,i,o))}function f5(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function yv(i,o){f5(i,o),(i=i.alternate)&&f5(i,o)}function m5(i){if(i.tag===13){var o=Ao(i,67108864);o!==null&&Ra(o,i,67108864),yv(i,67108864)}}var nh=!0;function t$(i,o,u,p){var b=D.T;D.T=null;var N=Y.p;try{Y.p=2,wv(i,o,u,p)}finally{Y.p=N,D.T=b}}function n$(i,o,u,p){var b=D.T;D.T=null;var N=Y.p;try{Y.p=8,wv(i,o,u,p)}finally{Y.p=N,D.T=b}}function wv(i,o,u,p){if(nh){var b=jv(p);if(b===null)ov(i,o,p,ah,u),p5(i,p);else if(r$(b,i,o,u,p))p.stopPropagation();else if(p5(i,p),o&4&&-1<a$.indexOf(i)){for(;b!==null;){var N=xs(b);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var O=Pe(N.pendingLanes);if(O!==0){var B=N;for(B.pendingLanes|=2,B.entangledLanes|=2;O;){var J=1<<31-Ie(O);B.entanglements[1]|=J,O&=~J}Wr(N),(Et&6)===0&&(Bm=ie()+500,Qu(0))}}break;case 13:B=Ao(N,2),B!==null&&Ra(B,N,2),Fm(),yv(N,2)}if(N=jv(p),N===null&&ov(i,o,p,ah,u),N===b)break;b=N}b!==null&&p.stopPropagation()}else ov(i,o,p,null,u)}}function jv(i){return i=Cx(i),Nv(i)}var ah=null;function Nv(i){if(ah=null,i=ps(i),i!==null){var o=l(i);if(o===null)i=null;else{var u=o.tag;if(u===13){if(i=c(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return ah=i,null}function h5(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(G()){case xe:return 2;case ke:return 8;case Re:case Ee:return 32;case et:return 268435456;default:return 32}default:return 32}}var Sv=!1,Ei=null,Pi=null,Oi=null,id=new Map,ld=new Map,Mi=[],a$="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function p5(i,o){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Pi=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":id.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ld.delete(o.pointerId)}}function od(i,o,u,p,b,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:N,targetContainers:[b]},o!==null&&(o=xs(o),o!==null&&m5(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,b!==null&&o.indexOf(b)===-1&&o.push(b),i)}function r$(i,o,u,p,b){switch(o){case"focusin":return Ei=od(Ei,i,o,u,p,b),!0;case"dragenter":return Pi=od(Pi,i,o,u,p,b),!0;case"mouseover":return Oi=od(Oi,i,o,u,p,b),!0;case"pointerover":var N=b.pointerId;return id.set(N,od(id.get(N)||null,i,o,u,p,b)),!0;case"gotpointercapture":return N=b.pointerId,ld.set(N,od(ld.get(N)||null,i,o,u,p,b)),!0}return!1}function x5(i){var o=ps(i.target);if(o!==null){var u=l(o);if(u!==null){if(o=u.tag,o===13){if(o=c(u),o!==null){i.blockedOn=o,Nr(i.priority,function(){if(u.tag===13){var p=Da();p=it(p);var b=Ao(u,p);b!==null&&Ra(b,u,p),yv(u,p)}});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rh(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=jv(i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);kx=p,u.target.dispatchEvent(p),kx=null}else return o=xs(u),o!==null&&m5(o),i.blockedOn=u,!1;o.shift()}return!0}function g5(i,o,u){rh(i)&&u.delete(o)}function s$(){Sv=!1,Ei!==null&&rh(Ei)&&(Ei=null),Pi!==null&&rh(Pi)&&(Pi=null),Oi!==null&&rh(Oi)&&(Oi=null),id.forEach(g5),ld.forEach(g5)}function sh(i,o){i.blockedOn===o&&(i.blockedOn=null,Sv||(Sv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,s$)))}var ih=null;function v5(i){ih!==i&&(ih=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){ih===i&&(ih=null);for(var o=0;o<i.length;o+=3){var u=i[o],p=i[o+1],b=i[o+2];if(typeof p!="function"){if(Nv(p||u)===null)continue;break}var N=xs(u);N!==null&&(i.splice(o,3),o-=3,Ng(N,{pending:!0,data:b,method:u.method,action:p},p,b))}}))}function cd(i){function o(J){return sh(J,i)}Ei!==null&&sh(Ei,i),Pi!==null&&sh(Pi,i),Oi!==null&&sh(Oi,i),id.forEach(o),ld.forEach(o);for(var u=0;u<Mi.length;u++){var p=Mi[u];p.blockedOn===i&&(p.blockedOn=null)}for(;0<Mi.length&&(u=Mi[0],u.blockedOn===null);)x5(u),u.blockedOn===null&&Mi.shift();if(u=(i.ownerDocument||i).$$reactFormReplay,u!=null)for(p=0;p<u.length;p+=3){var b=u[p],N=u[p+1],O=b[an]||null;if(typeof N=="function")O||v5(u);else if(O){var B=null;if(N&&N.hasAttribute("formAction")){if(b=N,O=N[an]||null)B=O.formAction;else if(Nv(b)!==null)continue}else B=O.action;typeof B=="function"?u[p+1]=B:(u.splice(p,3),p-=3),v5(u)}}}function _v(i){this._internalRoot=i}lh.prototype.render=_v.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var u=o.current,p=Da();d5(u,p,i,o,null,null)},lh.prototype.unmount=_v.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;d5(i.current,2,null,i,null,null),Fm(),o[hs]=null}};function lh(i){this._internalRoot=i}lh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Dt();i={blockedOn:null,target:i,priority:o};for(var u=0;u<Mi.length&&o!==0&&o<Mi[u].priority;u++);Mi.splice(u,0,i),u===0&&x5(i)}};var b5=t.version;if(b5!=="19.1.0")throw Error(r(527,b5,"19.1.0"));Y.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=f(o),i=i!==null?m(i):null,i=i===null?null:i.stateNode,i};var i$={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!oh.isDisabled&&oh.supportsFiber)try{Me=oh.inject(i$),$e=oh}catch{}}return dd.createRoot=function(i,o){if(!s(i))throw Error(r(299));var u=!1,p="",b=R4,N=L4,O=$4,B=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(b=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(O=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(B=o.unstable_transitionCallbacks)),o=c5(i,1,!1,null,null,u,p,b,N,O,B,null),i[hs]=o.current,lv(i),new _v(o)},dd.hydrateRoot=function(i,o,u){if(!s(i))throw Error(r(299));var p=!1,b="",N=R4,O=L4,B=$4,J=null,fe=null;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(b=u.identifierPrefix),u.onUncaughtError!==void 0&&(N=u.onUncaughtError),u.onCaughtError!==void 0&&(O=u.onCaughtError),u.onRecoverableError!==void 0&&(B=u.onRecoverableError),u.unstable_transitionCallbacks!==void 0&&(J=u.unstable_transitionCallbacks),u.formState!==void 0&&(fe=u.formState)),o=c5(i,1,!0,o,u??null,p,b,N,O,B,J,fe),o.context=u5(null),u=o.current,p=Da(),p=it(p),b=xi(p),b.callback=null,gi(u,b,p),u=p,o.current.lanes=u,se(o,u),Wr(o),i[hs]=o.current,lv(i),new lh(o)},dd.version="19.1.0",dd}var T5;function b$(){if(T5)return Tv.exports;T5=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),Tv.exports=v$(),Tv.exports}var y$=b$();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E5="popstate";function w$(e={}){function t(r,s){let{pathname:l,search:c,hash:d}=r.location;return g1("",{pathname:l,search:c,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:nf(s)}return N$(t,n,null,e)}function tn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function zr(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function j$(){return Math.random().toString(36).substring(2,10)}function P5(e,t){return{usr:e.state,key:e.key,idx:t}}function g1(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Zc(t):t,state:n,key:t&&t.key||r||j$()}}function nf({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zc(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function N$(e,t,n,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,d="POP",f=null,m=h();m==null&&(m=0,c.replaceState({...c.state,idx:m},""));function h(){return(c.state||{idx:null}).idx}function x(){d="POP";let S=h(),k=S==null?null:S-m;m=S,f&&f({action:d,location:j.location,delta:k})}function v(S,k){d="PUSH";let _=g1(j.location,S,k);m=h()+1;let C=P5(_,m),P=j.createHref(_);try{c.pushState(C,"",P)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;s.location.assign(P)}l&&f&&f({action:d,location:j.location,delta:1})}function y(S,k){d="REPLACE";let _=g1(j.location,S,k);m=h();let C=P5(_,m),P=j.createHref(_);c.replaceState(C,"",P),l&&f&&f({action:d,location:j.location,delta:0})}function w(S){return S$(S)}let j={get action(){return d},get location(){return e(s,c)},listen(S){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(E5,x),f=S,()=>{s.removeEventListener(E5,x),f=null}},createHref(S){return t(s,S)},createURL:w,encodeLocation(S){let k=w(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:v,replace:y,go(S){return c.go(S)}};return j}function S$(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),tn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:nf(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function EE(e,t,n="/"){return _$(e,t,n,!1)}function _$(e,t,n,r){let s=typeof t=="string"?Zc(t):t,l=Ys(s.pathname||"/",n);if(l==null)return null;let c=PE(e);k$(c);let d=null;for(let f=0;d==null&&f<c.length;++f){let m=$$(l);d=R$(c[f],m,r)}return d}function PE(e,t=[],n=[],r=""){let s=(l,c,d)=>{let f={relativePath:d===void 0?l.path||"":d,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};f.relativePath.startsWith("/")&&(tn(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let m=Vs([r,f.relativePath]),h=n.concat(f);l.children&&l.children.length>0&&(tn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),PE(l.children,t,h,m)),!(l.path==null&&!l.index)&&t.push({path:m,score:M$(m,l.index),routesMeta:h})};return e.forEach((l,c)=>{var d;if(l.path===""||!((d=l.path)!=null&&d.includes("?")))s(l,c);else for(let f of OE(l.path))s(l,c,f)}),t}function OE(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),l=n.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=OE(r.join("/")),d=[];return d.push(...c.map(f=>f===""?l:[l,f].join("/"))),s&&d.push(...c),d.map(f=>e.startsWith("/")&&f===""?"/":f)}function k$(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:D$(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var C$=/^:[\w-]+$/,A$=3,T$=2,E$=1,P$=10,O$=-2,O5=e=>e==="*";function M$(e,t){let n=e.split("/"),r=n.length;return n.some(O5)&&(r+=O$),t&&(r+=T$),n.filter(s=>!O5(s)).reduce((s,l)=>s+(C$.test(l)?A$:l===""?E$:P$),r)}function D$(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function R$(e,t,n=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let d=0;d<r.length;++d){let f=r[d],m=d===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",x=_0({path:f.relativePath,caseSensitive:f.caseSensitive,end:m},h),v=f.route;if(!x&&m&&n&&!r[r.length-1].route.index&&(x=_0({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},h)),!x)return null;Object.assign(s,x.params),c.push({params:s,pathname:Vs([l,x.pathname]),pathnameBase:U$(Vs([l,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(l=Vs([l,x.pathnameBase]))}return c}function _0(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=L$(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((m,{paramName:h,isOptional:x},v)=>{if(h==="*"){let w=d[v]||"";c=l.slice(0,l.length-w.length).replace(/(.)\/+$/,"$1")}const y=d[v];return x&&!y?m[h]=void 0:m[h]=(y||"").replace(/%2F/g,"/"),m},{}),pathname:l,pathnameBase:c,pattern:e}}function L$(e,t=!1,n=!0){zr(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function $$(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return zr(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Ys(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function I$(e,t="/"){let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?Zc(e):e;return{pathname:n?n.startsWith("/")?n:z$(n,t):t,search:F$(r),hash:V$(s)}}function z$(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Mv(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function B$(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function Gw(e){let t=B$(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function Yw(e,t,n,r=!1){let s;typeof e=="string"?s=Zc(e):(s={...e},tn(!s.pathname||!s.pathname.includes("?"),Mv("?","pathname","search",s)),tn(!s.pathname||!s.pathname.includes("#"),Mv("#","pathname","hash",s)),tn(!s.search||!s.search.includes("#"),Mv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,d;if(c==null)d=n;else{let x=t.length-1;if(!r&&c.startsWith("..")){let v=c.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}d=x>=0?t[x]:"/"}let f=I$(s,d),m=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(m||h)&&(f.pathname+="/"),f}var Vs=e=>e.join("/").replace(/\/\/+/g,"/"),U$=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),F$=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,V$=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function H$(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var ME=["POST","PUT","PATCH","DELETE"];new Set(ME);var q$=["GET",...ME];new Set(q$);var Qc=g.createContext(null);Qc.displayName="DataRouter";var jp=g.createContext(null);jp.displayName="DataRouterState";g.createContext(!1);var DE=g.createContext({isTransitioning:!1});DE.displayName="ViewTransition";var K$=g.createContext(new Map);K$.displayName="Fetchers";var G$=g.createContext(null);G$.displayName="Await";var Fr=g.createContext(null);Fr.displayName="Navigation";var _f=g.createContext(null);_f.displayName="Location";var wr=g.createContext({outlet:null,matches:[],isDataRoute:!1});wr.displayName="Route";var Ww=g.createContext(null);Ww.displayName="RouteError";function Y$(e,{relative:t}={}){tn(Jc(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=g.useContext(Fr),{hash:s,pathname:l,search:c}=Cf(e,{relative:t}),d=l;return n!=="/"&&(d=l==="/"?n:Vs([n,l])),r.createHref({pathname:d,search:c,hash:s})}function Jc(){return g.useContext(_f)!=null}function ms(){return tn(Jc(),"useLocation() may be used only in the context of a <Router> component."),g.useContext(_f).location}var RE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function LE(e){g.useContext(Fr).static||g.useLayoutEffect(e)}function Xt(){let{isDataRoute:e}=g.useContext(wr);return e?cI():W$()}function W$(){tn(Jc(),"useNavigate() may be used only in the context of a <Router> component.");let e=g.useContext(Qc),{basename:t,navigator:n}=g.useContext(Fr),{matches:r}=g.useContext(wr),{pathname:s}=ms(),l=JSON.stringify(Gw(r)),c=g.useRef(!1);return LE(()=>{c.current=!0}),g.useCallback((f,m={})=>{if(zr(c.current,RE),!c.current)return;if(typeof f=="number"){n.go(f);return}let h=Yw(f,JSON.parse(l),s,m.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:Vs([t,h.pathname])),(m.replace?n.replace:n.push)(h,m.state,m)},[t,n,l,s,e])}var X$=g.createContext(null);function Z$(e){let t=g.useContext(wr).outlet;return t&&g.createElement(X$.Provider,{value:e},t)}function kf(){let{matches:e}=g.useContext(wr),t=e[e.length-1];return t?t.params:{}}function Cf(e,{relative:t}={}){let{matches:n}=g.useContext(wr),{pathname:r}=ms(),s=JSON.stringify(Gw(n));return g.useMemo(()=>Yw(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function Q$(e,t){return $E(e,t)}function $E(e,t,n,r){var k;tn(Jc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=g.useContext(Fr),{matches:l}=g.useContext(wr),c=l[l.length-1],d=c?c.params:{},f=c?c.pathname:"/",m=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";IE(f,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let x=ms(),v;if(t){let _=typeof t=="string"?Zc(t):t;tn(m==="/"||((k=_.pathname)==null?void 0:k.startsWith(m)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${_.pathname}" was given in the \`location\` prop.`),v=_}else v=x;let y=v.pathname||"/",w=y;if(m!=="/"){let _=m.replace(/^\//,"").split("/");w="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let j=EE(e,{pathname:w});zr(h||j!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),zr(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=aI(j&&j.map(_=>Object.assign({},_,{params:Object.assign({},d,_.params),pathname:Vs([m,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?m:Vs([m,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,n,r);return t&&S?g.createElement(_f.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},S):S}function J$(){let e=oI(),t=H$(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=g.createElement(g.Fragment,null,g.createElement("p",null," Hey developer "),g.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",g.createElement("code",{style:l},"ErrorBoundary")," or"," ",g.createElement("code",{style:l},"errorElement")," prop on your route.")),g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},t),n?g.createElement("pre",{style:s},n):null,c)}var eI=g.createElement(J$,null),tI=class extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?g.createElement(wr.Provider,{value:this.props.routeContext},g.createElement(Ww.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function nI({routeContext:e,match:t,children:n}){let r=g.useContext(Qc);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),g.createElement(wr.Provider,{value:e},n)}function aI(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,l=n==null?void 0:n.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);tn(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,d=-1;if(n)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=f),m.route.id){let{loaderData:h,errors:x}=n,v=m.route.loader&&!h.hasOwnProperty(m.route.id)&&(!x||x[m.route.id]===void 0);if(m.route.lazy||v){c=!0,d>=0?s=s.slice(0,d+1):s=[s[0]];break}}}return s.reduceRight((f,m,h)=>{let x,v=!1,y=null,w=null;n&&(x=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||eI,c&&(d<0&&h===0?(IE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,w=null):d===h&&(v=!0,w=m.route.hydrateFallbackElement||null)));let j=t.concat(s.slice(0,h+1)),S=()=>{let k;return x?k=y:v?k=w:m.route.Component?k=g.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=f,g.createElement(nI,{match:m,routeContext:{outlet:f,matches:j,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||h===0)?g.createElement(tI,{location:n.location,revalidation:n.revalidation,component:y,error:x,children:S(),routeContext:{outlet:null,matches:j,isDataRoute:!0}}):S()},null)}function Xw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rI(e){let t=g.useContext(Qc);return tn(t,Xw(e)),t}function sI(e){let t=g.useContext(jp);return tn(t,Xw(e)),t}function iI(e){let t=g.useContext(wr);return tn(t,Xw(e)),t}function Zw(e){let t=iI(e),n=t.matches[t.matches.length-1];return tn(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function lI(){return Zw("useRouteId")}function oI(){var r;let e=g.useContext(Ww),t=sI("useRouteError"),n=Zw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function cI(){let{router:e}=rI("useNavigate"),t=Zw("useNavigate"),n=g.useRef(!1);return LE(()=>{n.current=!0}),g.useCallback(async(s,l={})=>{zr(n.current,RE),n.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var M5={};function IE(e,t,n){!t&&!M5[e]&&(M5[e]=!0,zr(!1,n))}g.memo(uI);function uI({routes:e,future:t,state:n}){return $E(e,void 0,n,t)}function dI({to:e,replace:t,state:n,relative:r}){tn(Jc(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=g.useContext(Fr);zr(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=g.useContext(wr),{pathname:c}=ms(),d=Xt(),f=Yw(e,Gw(l),c,r==="path"),m=JSON.stringify(f);return g.useEffect(()=>{d(JSON.parse(m),{replace:t,state:n,relative:r})},[d,m,r,t,n]),null}function zE(e){return Z$(e.context)}function pt(e){tn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function fI({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:s,static:l=!1}){tn(!Jc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof n=="string"&&(n=Zc(n));let{pathname:f="/",search:m="",hash:h="",state:x=null,key:v="default"}=n,y=g.useMemo(()=>{let w=Ys(f,c);return w==null?null:{location:{pathname:w,search:m,hash:h,state:x,key:v},navigationType:r}},[c,f,m,h,x,v,r]);return zr(y!=null,`<Router basename="${c}"> is not able to match the URL "${f}${m}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:g.createElement(Fr.Provider,{value:d},g.createElement(_f.Provider,{children:t,value:y}))}function mI({children:e,location:t}){return Q$(v1(e),t)}function v1(e,t=[]){let n=[];return g.Children.forEach(e,(r,s)=>{if(!g.isValidElement(r))return;let l=[...t,s];if(r.type===g.Fragment){n.push.apply(n,v1(r.props.children,l));return}tn(r.type===pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),tn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=v1(r.props.children,l)),n.push(c)}),n}var f0="get",m0="application/x-www-form-urlencoded";function Np(e){return e!=null&&typeof e.tagName=="string"}function hI(e){return Np(e)&&e.tagName.toLowerCase()==="button"}function pI(e){return Np(e)&&e.tagName.toLowerCase()==="form"}function xI(e){return Np(e)&&e.tagName.toLowerCase()==="input"}function gI(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function vI(e,t){return e.button===0&&(!t||t==="_self")&&!gI(e)}var ch=null;function bI(){if(ch===null)try{new FormData(document.createElement("form"),0),ch=!1}catch{ch=!0}return ch}var yI=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dv(e){return e!=null&&!yI.has(e)?(zr(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${m0}"`),null):e}function wI(e,t){let n,r,s,l,c;if(pI(e)){let d=e.getAttribute("action");r=d?Ys(d,t):null,n=e.getAttribute("method")||f0,s=Dv(e.getAttribute("enctype"))||m0,l=new FormData(e)}else if(hI(e)||xI(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=e.getAttribute("formaction")||d.getAttribute("action");if(r=f?Ys(f,t):null,n=e.getAttribute("formmethod")||d.getAttribute("method")||f0,s=Dv(e.getAttribute("formenctype"))||Dv(d.getAttribute("enctype"))||m0,l=new FormData(d,e),!bI()){let{name:m,type:h,value:x}=e;if(h==="image"){let v=m?`${m}.`:"";l.append(`${v}x`,"0"),l.append(`${v}y`,"0")}else m&&l.append(m,x)}}else{if(Np(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=f0,r=null,s=m0,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Qw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jI(e,t,n){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${n}`:t&&Ys(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function NI(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function SI(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function _I(e,t,n){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await NI(l,n);return c.links?c.links():[]}return[]}));return TI(r.flat(1).filter(SI).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function D5(e,t,n,r,s,l){let c=(f,m)=>n[m]?f.route.id!==n[m].route.id:!0,d=(f,m)=>{var h;return n[m].pathname!==f.pathname||((h=n[m].route.path)==null?void 0:h.endsWith("*"))&&n[m].params["*"]!==f.params["*"]};return l==="assets"?t.filter((f,m)=>c(f,m)||d(f,m)):l==="data"?t.filter((f,m)=>{var x;let h=r.routes[f.route.id];if(!h||!h.hasLoader)return!1;if(c(f,m)||d(f,m))return!0;if(f.route.shouldRevalidate){let v=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((x=n[0])==null?void 0:x.params)||{},nextUrl:new URL(e,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof v=="boolean")return v}return!0}):[]}function kI(e,t,{includeHydrateFallback:n}={}){return CI(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function CI(e){return[...new Set(e)]}function AI(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function TI(e,t){let n=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(AI(s));return n.has(l)||(n.add(l),r.push({key:l,link:s})),r},[])}function BE(){let e=g.useContext(Qc);return Qw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function EI(){let e=g.useContext(jp);return Qw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Jw=g.createContext(void 0);Jw.displayName="FrameworkContext";function UE(){let e=g.useContext(Jw);return Qw(e,"You must render this element inside a <HydratedRouter> element"),e}function PI(e,t){let n=g.useContext(Jw),[r,s]=g.useState(!1),[l,c]=g.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:m,onMouseLeave:h,onTouchStart:x}=t,v=g.useRef(null);g.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let j=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(j,{threshold:.5});return v.current&&S.observe(v.current),()=>{S.disconnect()}}},[e]),g.useEffect(()=>{if(r){let j=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(j)}}},[r]);let y=()=>{s(!0)},w=()=>{s(!1),c(!1)};return n?e!=="intent"?[l,v,{}]:[l,v,{onFocus:fd(d,y),onBlur:fd(f,w),onMouseEnter:fd(m,y),onMouseLeave:fd(h,w),onTouchStart:fd(x,y)}]:[!1,v,{}]}function fd(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function OI({page:e,...t}){let{router:n}=BE(),r=g.useMemo(()=>EE(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?g.createElement(DI,{page:e,matches:r,...t}):null}function MI(e){let{manifest:t,routeModules:n}=UE(),[r,s]=g.useState([]);return g.useEffect(()=>{let l=!1;return _I(e,t,n).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,n]),r}function DI({page:e,matches:t,...n}){let r=ms(),{manifest:s,routeModules:l}=UE(),{basename:c}=BE(),{loaderData:d,matches:f}=EI(),m=g.useMemo(()=>D5(e,t,f,s,r,"data"),[e,t,f,s,r]),h=g.useMemo(()=>D5(e,t,f,s,r,"assets"),[e,t,f,s,r]),x=g.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let w=new Set,j=!1;if(t.forEach(k=>{var C;let _=s.routes[k.route.id];!_||!_.hasLoader||(!m.some(P=>P.route.id===k.route.id)&&k.route.id in d&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?j=!0:w.add(k.route.id))}),w.size===0)return[];let S=jI(e,c,"data");return j&&w.size>0&&S.searchParams.set("_routes",t.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,d,r,s,m,t,e,l]),v=g.useMemo(()=>kI(h,s),[h,s]),y=MI(h);return g.createElement(g.Fragment,null,x.map(w=>g.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...n})),v.map(w=>g.createElement("link",{key:w,rel:"modulepreload",href:w,...n})),y.map(({key:w,link:j})=>g.createElement("link",{key:w,...j})))}function RI(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var FE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{FE&&(window.__reactRouterVersion="7.7.1")}catch{}function LI({basename:e,children:t,window:n}){let r=g.useRef();r.current==null&&(r.current=w$({window:n,v5Compat:!0}));let s=r.current,[l,c]=g.useState({action:s.action,location:s.location}),d=g.useCallback(f=>{g.startTransition(()=>c(f))},[c]);return g.useLayoutEffect(()=>s.listen(d),[s,d]),g.createElement(fI,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var VE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,HE=g.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:d,target:f,to:m,preventScrollReset:h,viewTransition:x,...v},y){let{basename:w}=g.useContext(Fr),j=typeof m=="string"&&VE.test(m),S,k=!1;if(typeof m=="string"&&j&&(S=m,FE))try{let F=new URL(window.location.href),K=m.startsWith("//")?new URL(F.protocol+m):new URL(m),V=Ys(K.pathname,w);K.origin===F.origin&&V!=null?m=V+K.search+K.hash:k=!0}catch{zr(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=Y$(m,{relative:s}),[C,P,A]=PI(r,v),T=BI(m,{replace:c,state:d,target:f,preventScrollReset:h,relative:s,viewTransition:x});function L(F){t&&t(F),F.defaultPrevented||T(F)}let M=g.createElement("a",{...v,...A,href:S||_,onClick:k||l?t:L,ref:RI(y,P),target:f,"data-discover":!j&&n==="render"?"true":void 0});return C&&!j?g.createElement(g.Fragment,null,M,g.createElement(OI,{page:_})):M});HE.displayName="Link";var $I=g.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:d,children:f,...m},h){let x=Cf(c,{relative:m.relative}),v=ms(),y=g.useContext(jp),{navigator:w,basename:j}=g.useContext(Fr),S=y!=null&&qI(x)&&d===!0,k=w.encodeLocation?w.encodeLocation(x).pathname:x.pathname,_=v.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;n||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&j&&(C=Ys(C,j)||C);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let A=_===k||!s&&_.startsWith(k)&&_.charAt(P)==="/",T=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),L={isActive:A,isPending:T,isTransitioning:S},M=A?t:void 0,F;typeof r=="function"?F=r(L):F=[r,A?"active":null,T?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l(L):l;return g.createElement(HE,{...m,"aria-current":M,className:F,ref:h,style:K,to:c,viewTransition:d},typeof f=="function"?f(L):f)});$I.displayName="NavLink";var II=g.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:s,state:l,method:c=f0,action:d,onSubmit:f,relative:m,preventScrollReset:h,viewTransition:x,...v},y)=>{let w=VI(),j=HI(d,{relative:m}),S=c.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&VE.test(d),_=C=>{if(f&&f(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,A=(P==null?void 0:P.getAttribute("formmethod"))||c;w(P||C.currentTarget,{fetcherKey:t,method:A,navigate:n,replace:s,state:l,relative:m,preventScrollReset:h,viewTransition:x})};return g.createElement("form",{ref:y,method:S,action:j,onSubmit:r?f:_,...v,"data-discover":!k&&e==="render"?"true":void 0})});II.displayName="Form";function zI(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function qE(e){let t=g.useContext(Qc);return tn(t,zI(e)),t}function BI(e,{target:t,replace:n,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let d=Xt(),f=ms(),m=Cf(e,{relative:l});return g.useCallback(h=>{if(vI(h,t)){h.preventDefault();let x=n!==void 0?n:nf(f)===nf(m);d(e,{replace:x,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[f,d,m,n,r,t,e,s,l,c])}var UI=0,FI=()=>`__${String(++UI)}__`;function VI(){let{router:e}=qE("useSubmit"),{basename:t}=g.useContext(Fr),n=lI();return g.useCallback(async(r,s={})=>{let{action:l,method:c,encType:d,formData:f,body:m}=wI(r,t);if(s.navigate===!1){let h=s.fetcherKey||FI();await e.fetch(h,n,s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:f,body:m,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,n])}function HI(e,{relative:t}={}){let{basename:n}=g.useContext(Fr),r=g.useContext(wr);tn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...Cf(e||".",{relative:t})},c=ms();if(e==null){l.search=c.search;let d=new URLSearchParams(l.search),f=d.getAll("index");if(f.some(h=>h==="")){d.delete("index"),f.filter(x=>x).forEach(x=>d.append("index",x));let h=d.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Vs([n,l.pathname])),nf(l)}function qI(e,{relative:t}={}){let n=g.useContext(DE);tn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=qE("useViewTransitionState"),s=Cf(e,{relative:t});if(!n.isTransitioning)return!1;let l=Ys(n.currentLocation.pathname,r)||n.currentLocation.pathname,c=Ys(n.nextLocation.pathname,r)||n.nextLocation.pathname;return _0(s.pathname,c)!=null||_0(s.pathname,l)!=null}var KI=TE();function KE(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=KE(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ft(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=KE(e))&&(r&&(r+=" "),r+=t);return r}function GI(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}GI(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var Af=e=>typeof e=="number"&&!isNaN(e),ao=e=>typeof e=="string",Ws=e=>typeof e=="function",YI=e=>ao(e)||Af(e),b1=e=>ao(e)||Ws(e)?e:null,WI=(e,t)=>e===!1||Af(e)&&e>0?e:t,y1=e=>g.isValidElement(e)||ao(e)||Ws(e)||Af(e);function XI(e,t,n=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${n}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}function ZI({enter:e,exit:t,appendPosition:n=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:d,done:f,nodeRef:m,isIn:h,playToast:x}){let v=n?`${e}--${c}`:e,y=n?`${t}--${c}`:t,w=g.useRef(0);return g.useLayoutEffect(()=>{let j=m.current,S=v.split(" "),k=_=>{_.target===m.current&&(x(),j.removeEventListener("animationend",k),j.removeEventListener("animationcancel",k),w.current===0&&_.type!=="animationcancel"&&j.classList.remove(...S))};j.classList.add(...S),j.addEventListener("animationend",k),j.addEventListener("animationcancel",k)},[]),g.useEffect(()=>{let j=m.current,S=()=>{j.removeEventListener("animationend",S),r?XI(j,f,s):f()};h||(d?S():(w.current=1,j.className+=` ${y}`,j.addEventListener("animationend",S)))},[h]),Nt.createElement(Nt.Fragment,null,l)}}function R5(e,t){return{content:GE(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function GE(e,t,n=!1){return g.isValidElement(e)&&!ao(e.type)?g.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):Ws(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:n}):e}function QI({closeToast:e,theme:t,ariaLabel:n="close"}){return Nt.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":n},Nt.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Nt.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function JI({delay:e,isRunning:t,closeToast:n,type:r="default",hide:s,className:l,controlledProgress:c,progress:d,rtl:f,isIn:m,theme:h}){let x=s||c&&d===0,v={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(v.transform=`scaleX(${d})`);let y=ft("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":f}),w=Ws(l)?l({rtl:f,type:r,defaultClassName:y}):ft(y,l),j={[c&&d>=1?"onTransitionEnd":"onAnimationEnd"]:c&&d<1?null:()=>{m&&n()}};return Nt.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":x},Nt.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Nt.createElement("div",{role:"progressbar","aria-hidden":x?"true":"false","aria-label":"notification timer",className:w,style:v,...j}))}var ez=1,YE=()=>`${ez++}`;function tz(e,t,n){let r=1,s=0,l=[],c=[],d=t,f=new Map,m=new Set,h=_=>(m.add(_),()=>m.delete(_)),x=()=>{c=Array.from(f.values()),m.forEach(_=>_())},v=({containerId:_,toastId:C,updateId:P})=>{let A=_?_!==e:e!==1,T=f.has(C)&&P==null;return A||T},y=(_,C)=>{f.forEach(P=>{var A;(C==null||C===P.props.toastId)&&((A=P.toggle)==null||A.call(P,_))})},w=_=>{var C,P;(P=(C=_.props)==null?void 0:C.onClose)==null||P.call(C,_.removalReason),_.isActive=!1},j=_=>{if(_==null)f.forEach(w);else{let C=f.get(_);C&&w(C)}x()},S=()=>{s-=l.length,l=[]},k=_=>{var C,P;let{toastId:A,updateId:T}=_.props,L=T==null;_.staleId&&f.delete(_.staleId),_.isActive=!0,f.set(A,_),x(),n(R5(_,L?"added":"updated")),L&&((P=(C=_.props).onOpen)==null||P.call(C))};return{id:e,props:d,observe:h,toggle:y,removeToast:j,toasts:f,clearQueue:S,buildToast:(_,C)=>{if(v(C))return;let{toastId:P,updateId:A,data:T,staleId:L,delay:M}=C,F=A==null;F&&s++;let K={...d,style:d.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([$,ee])=>ee!=null)),toastId:P,updateId:A,data:T,isIn:!1,className:b1(C.className||d.toastClassName),progressClassName:b1(C.progressClassName||d.progressClassName),autoClose:C.isLoading?!1:WI(C.autoClose,d.autoClose),closeToast($){f.get(P).removalReason=$,j(P)},deleteToast(){let $=f.get(P);if($!=null){if(n(R5($,"removed")),f.delete(P),s--,s<0&&(s=0),l.length>0){k(l.shift());return}x()}}};K.closeButton=d.closeButton,C.closeButton===!1||y1(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=y1(d.closeButton)?d.closeButton:!0);let V={content:_,props:K,staleId:L};d.limit&&d.limit>0&&s>d.limit&&F?l.push(V):Af(M)?setTimeout(()=>{k(V)},M):k(V)},setProps(_){d=_},setToggle:(_,C)=>{let P=f.get(_);P&&(P.toggle=C)},isToastActive:_=>{var C;return(C=f.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var ua=new Map,af=[],w1=new Set,nz=e=>w1.forEach(t=>t(e)),WE=()=>ua.size>0;function az(){af.forEach(e=>ZE(e.content,e.options)),af=[]}var rz=(e,{containerId:t})=>{var n;return(n=ua.get(t||1))==null?void 0:n.toasts.get(e)};function XE(e,t){var n;if(t)return!!((n=ua.get(t))!=null&&n.isToastActive(e));let r=!1;return ua.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function sz(e){if(!WE()){af=af.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||YI(e))ua.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ua.get(e.containerId);t?t.removeToast(e.id):ua.forEach(n=>{n.removeToast(e.id)})}}var iz=(e={})=>{ua.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function ZE(e,t){y1(e)&&(WE()||af.push({content:e,options:t}),ua.forEach(n=>{n.buildToast(e,t)}))}function lz(e){var t;(t=ua.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function QE(e,t){ua.forEach(n=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===n.id)&&n.toggle(e,t==null?void 0:t.id)})}function oz(e){let t=e.containerId||1;return{subscribe(n){let r=tz(t,e,nz);ua.set(t,r);let s=r.observe(n);return az(),()=>{s(),ua.delete(t)}},setProps(n){var r;(r=ua.get(t))==null||r.setProps(n)},getSnapshot(){var n;return(n=ua.get(t))==null?void 0:n.getSnapshot()}}}function cz(e){return w1.add(e),()=>{w1.delete(e)}}function uz(e){return e&&(ao(e.toastId)||Af(e.toastId))?e.toastId:YE()}function Tf(e,t){return ZE(e,t),t.toastId}function Sp(e,t){return{...t,type:t&&t.type||e,toastId:uz(t)}}function _p(e){return(t,n)=>Tf(t,Sp(e,n))}function U(e,t){return Tf(e,Sp("default",t))}U.loading=(e,t)=>Tf(e,Sp("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function dz(e,{pending:t,error:n,success:r},s){let l;t&&(l=ao(t)?U.loading(t,s):U.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},d=(m,h,x)=>{if(h==null){U.dismiss(l);return}let v={type:m,...c,...s,data:x},y=ao(h)?{render:h}:h;return l?U.update(l,{...v,...y}):U(y.render,{...v,...y}),x},f=Ws(e)?e():e;return f.then(m=>d("success",r,m)).catch(m=>d("error",n,m)),f}U.promise=dz;U.success=_p("success");U.info=_p("info");U.error=_p("error");U.warning=_p("warning");U.warn=U.warning;U.dark=(e,t)=>Tf(e,Sp("default",{theme:"dark",...t}));function fz(e){sz(e)}U.dismiss=fz;U.clearWaitingQueue=iz;U.isActive=XE;U.update=(e,t={})=>{let n=rz(e,t);if(n){let{props:r,content:s}=n,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:YE()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,Tf(c,l)}};U.done=e=>{U.update(e,{progress:1})};U.onChange=cz;U.play=e=>QE(!0,e);U.pause=e=>QE(!1,e);function mz(e){var t;let{subscribe:n,getSnapshot:r,setProps:s}=g.useRef(oz(e)).current;s(e);let l=(t=g.useSyncExternalStore(n,r,r))==null?void 0:t.slice();function c(d){if(!l)return[];let f=new Map;return e.newestOnTop&&l.reverse(),l.forEach(m=>{let{position:h}=m.props;f.has(h)||f.set(h,[]),f.get(h).push(m)}),Array.from(f,m=>d(m[0],m[1]))}return{getToastToRender:c,isToastActive:XE,count:l==null?void 0:l.length}}function hz(e){let[t,n]=g.useState(!1),[r,s]=g.useState(!1),l=g.useRef(null),c=g.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:d,pauseOnHover:f,closeToast:m,onClick:h,closeOnClick:x}=e;lz({id:e.toastId,containerId:e.containerId,fn:n}),g.useEffect(()=>{if(e.pauseOnFocusLoss)return v(),()=>{y()}},[e.pauseOnFocusLoss]);function v(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function w(L){if(e.draggable===!0||e.draggable===L.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=L.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=L.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function j(L){let{top:M,bottom:F,left:K,right:V}=l.current.getBoundingClientRect();L.nativeEvent.type!=="touchend"&&e.pauseOnHover&&L.clientX>=K&&L.clientX<=V&&L.clientY>=M&&L.clientY<=F?k():S()}function S(){n(!0)}function k(){n(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",A)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",A)}function P(L){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&k(),e.draggableDirection==="x"?c.delta=L.clientX-c.start:c.delta=L.clientY-c.start,c.start!==L.clientX&&(c.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${F},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function A(){C();let L=l.current;if(c.canDrag&&c.didMove&&L){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}L.style.transition="transform 0.2s, opacity 0.2s",L.style.removeProperty("transform"),L.style.removeProperty("opacity")}}let T={onPointerDown:w,onPointerUp:j};return d&&f&&(T.onMouseEnter=k,e.stacked||(T.onMouseLeave=S)),x&&(T.onClick=L=>{h&&h(L),c.canCloseOnClick&&m(!0)}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:T}}var pz=typeof window<"u"?g.useLayoutEffect:g.useEffect,kp=({theme:e,type:t,isLoading:n,...r})=>Nt.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function xz(e){return Nt.createElement(kp,{...e},Nt.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function gz(e){return Nt.createElement(kp,{...e},Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function vz(e){return Nt.createElement(kp,{...e},Nt.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function bz(e){return Nt.createElement(kp,{...e},Nt.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function yz(){return Nt.createElement("div",{className:"Toastify__spinner"})}var j1={info:gz,warning:xz,success:vz,error:bz,spinner:yz},wz=e=>e in j1;function jz({theme:e,type:t,isLoading:n,icon:r}){let s=null,l={theme:e,type:t};return r===!1||(Ws(r)?s=r({...l,isLoading:n}):g.isValidElement(r)?s=g.cloneElement(r,l):n?s=j1.spinner():wz(t)&&(s=j1[t](l))),s}var Nz=e=>{let{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:s,playToast:l}=hz(e),{closeButton:c,children:d,autoClose:f,onClick:m,type:h,hideProgressBar:x,closeToast:v,transition:y,position:w,className:j,style:S,progressClassName:k,updateId:_,role:C,progress:P,rtl:A,toastId:T,deleteToast:L,isIn:M,isLoading:F,closeOnClick:K,theme:V,ariaLabel:$}=e,ee=ft("Toastify__toast",`Toastify__toast-theme--${V}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":A},{"Toastify__toast--close-on-click":K}),je=Ws(j)?j({rtl:A,position:w,type:h,defaultClassName:ee}):ft(ee,j),ne=jz(e),D=!!P||!f,Y={closeToast:v,type:h,theme:V},H=null;return c===!1||(Ws(c)?H=c(Y):g.isValidElement(c)?H=g.cloneElement(c,Y):H=QI(Y)),Nt.createElement(y,{isIn:M,done:L,position:w,preventExitTransition:n,nodeRef:r,playToast:l},Nt.createElement("div",{id:T,tabIndex:0,onClick:m,"data-in":M,className:je,...s,style:S,ref:r,...M&&{role:C,"aria-label":$}},ne!=null&&Nt.createElement("div",{className:ft("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},ne),GE(d,e,!t),H,!e.customProgressBar&&Nt.createElement(JI,{..._&&!D?{key:`p-${_}`}:{},rtl:A,theme:V,delay:f,isRunning:t,isIn:M,closeToast:v,hide:x,type:h,className:k,controlledProgress:D,progress:P||0})))},Sz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),_z=ZI(Sz("bounce",!0)),kz={position:"top-right",transition:_z,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function Cz(e){let t={...kz,...e},n=e.stacked,[r,s]=g.useState(!0),l=g.useRef(null),{getToastToRender:c,isToastActive:d,count:f}=mz(t),{className:m,style:h,rtl:x,containerId:v,hotKeys:y}=t;function w(S){let k=ft("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":x});return Ws(m)?m({position:S,rtl:x,defaultClassName:k}):ft(k,b1(m))}function j(){n&&(s(!0),U.play())}return pz(()=>{var S;if(n){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=t.position)==null?void 0:S.includes("top"),P=0,A=0;Array.from(k).reverse().forEach((T,L)=>{let M=T;M.classList.add("Toastify__toast--stacked"),L>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let F=P*(r?.2:1)+(r?0:_*L);M.style.setProperty("--y",`${C?F:F*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(r?A:0)}`),P+=M.offsetHeight,A+=.025})}},[r,f,n]),g.useEffect(()=>{function S(k){var _;let C=l.current;y(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),s(!1),U.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),U.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[y]),Nt.createElement("section",{ref:l,className:"Toastify",id:v,onMouseEnter:()=>{n&&(s(!1),U.pause())},onMouseLeave:j,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,k)=>{let _=k.length?{...h}:{...h,pointerEvents:"none"};return Nt.createElement("div",{tabIndex:-1,className:w(S),"data-stacked":n,style:_,key:`c-${S}`},k.map(({content:C,props:P})=>Nt.createElement(Nz,{...P,stacked:n,collapseAll:j,isIn:d(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Tz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,n,r)=>r?r.toUpperCase():n.toLowerCase()),L5=e=>{const t=Tz(e);return t.charAt(0).toUpperCase()+t.slice(1)},JE=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim(),Ez=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=g.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...d},f)=>g.createElement("svg",{ref:f,...Pz,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:JE("lucide",s),...!l&&!Ez(d)&&{"aria-hidden":"true"},...d},[...c.map(([m,h])=>g.createElement(m,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=g.forwardRef(({className:r,...s},l)=>g.createElement(Oz,{ref:l,iconNode:t,className:JE(`lucide-${Az(L5(e))}`,`lucide-${e}`,r),...s}));return n.displayName=L5(e),n};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],eP=De("arrow-left",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Cp=De("arrow-right",Dz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Lz=De("bell-ring",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tP=De("bot",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],ej=De("brain-circuit",Iz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],$5=De("building-2",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Uz=De("calendar-days",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],Vz=De("calendar-range",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Lr=De("calendar",Hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Kz=De("camera",qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],I5=De("chart-column",Gz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],k0=De("check",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nP=De("chevron-down",Wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ca=De("chevron-left",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Tn=De("chevron-right",Zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aP=De("chevron-up",Qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],$r=De("circle-alert",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],N1=De("circle-check-big",eB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Un=De("circle-check",tB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],aB=De("circle-play",nB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],sB=De("circle-question-mark",rB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xr=De("circle-x",iB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],S1=De("circle",lB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cB=De("clock-3",oB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uB=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ro=De("clock",uB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],fB=De("cloud-upload",dB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],hB=De("code",mB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Va=De("copy",pB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],z5=De("crop",xB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gB=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Rv=De("crown",gB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Fd=De("database",vB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],B5=De("dollar-sign",bB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],rf=De("download",yB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],_1=De("external-link",wB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jB=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Oc=De("eye-off",jB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NB=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],An=De("eye",NB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],U5=De("facebook",SB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _B=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],rP=De("file-code-2",_B);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],Ld=De("file-spreadsheet",kB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CB=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],sP=De("file-text",CB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AB=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],eu=De("funnel",AB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Nc=De("globe",TB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EB=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],F5=De("hash",EB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Lv=De("history",PB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OB=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],tj=De("house",OB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MB=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],V5=De("image-off",MB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DB=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],RB=De("image",DB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LB=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],$B=De("info",LB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IB=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],hc=De("key-round",IB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zB=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],BB=De("key",zB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UB=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yi=De("link",UB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FB=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],VB=De("list-checks",FB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HB=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Xn=De("loader-circle",HB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qB=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ap=De("lock",qB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KB=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],uh=De("log-in",KB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],C0=De("log-out",GB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],vr=De("mail",YB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xs=De("map-pin",WB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XB=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],ZB=De("pause",XB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QB=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],H5=De("pen-line",QB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JB=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],k1=De("phone-call",JB);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gt=De("phone",eU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ef=De("play",tU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],iP=De("plug-zap",nU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],is=De("plus",aU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],sU=De("puzzle",rU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],lP=De("radio",iU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],oU=De("refresh-ccw",lU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],We=De("refresh-cw",cU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uU=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],nj=De("rocket",uU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fU=De("rotate-ccw",dU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ka=De("search",mU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],pU=De("send",hU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],oP=De("settings",xU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],vU=De("shield-alert",gU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],aj=De("shield-check",bU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Mc=De("shield",yU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wU=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],dh=De("shopping-cart",wU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],NU=De("skip-forward",jU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SU=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],q5=De("smartphone",SU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],tu=De("sparkles",_U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kU=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],K5=De("square-check-big",kU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],$v=De("square-kanban",CU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Vd=De("square-pen",AU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],EU=De("square-terminal",TU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],Dc=De("square",PU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],MU=De("sticky-note",OU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],RU=De("test-tube-diagonal",DU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],sa=De("trash-2",LU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IU=De("triangle-alert",$U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],BU=De("unlink",zU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],cP=De("user-round",UU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Sc=De("user",FU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],da=De("users",VU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HU=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],rj=De("volume-2",HU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],KU=De("wand-sparkles",qU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],YU=De("wrench",GU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pa=De("x",WU);function XU(){const[e,t]=g.useState({username:"",email:"",password:""}),[n,r]=g.useState(!1),[s,l]=g.useState({}),[c,d]=g.useState(!1),f=Xt(),m="http://localhost:8000",h=j=>{const{name:S,value:k}=j.target;t(_=>({..._,[S]:k})),s[S]&&l(_=>({..._,[S]:""}))},x=()=>{const j={};return e.username.trim()?e.username.length<3&&(j.username="Username must be at least 3 characters"):j.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(j.email="Please enter a valid email address"):j.email="Email is required",e.password?e.password.length<6&&(j.password="Password must be at least 6 characters"):j.password="Password is required",l(j),Object.keys(j).length===0},v=async j=>{if(j.preventDefault(),!!x()){d(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${m}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)U.success("Account created successfully! "),setTimeout(()=>{f(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),U.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),U.error(S)}finally{d(!1)}}},y=e.password.length,w=y>=6?"bg-green-500 w-full":y>=4?"bg-blue-500 w-3/4":y>=2?"bg-yellow-500 w-1/2":y>0?"bg-red-500 w-1/4":"w-0";return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(Sc,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",a.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:a.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Sc,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(N1,{className:"h-5 w-5 text-green-500"})})]}),s.username&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),s.username]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vr,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:a.jsx(N1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),s.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ap,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!n),children:n?a.jsx(Oc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(An,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:a.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${w}`})}),a.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx($r,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):a.jsxs("div",{className:"flex items-center",children:["Create account",a.jsx(Cp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})})})]})}function ZU(){const[e,t]=g.useState(30),n="/",r="/bg.gif";g.useEffect(()=>{const d=setInterval(()=>{t(f=>f<=1?(window.location.href=n,0):f-1)},1e3);return()=>clearInterval(d)},[]);const s=()=>window.location.href=n,l=()=>window.history.back(),c=()=>window.location.reload();return a.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[a.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:a.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),a.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:a.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[a.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),a.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),a.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),a.jsxs("div",{className:"mt-6 space-y-3",children:[a.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[a.jsx(tj,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[a.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(eP,{className:"mr-2 h-4 w-4"}),"Go Back"]}),a.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[a.jsx(We,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),a.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[a.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),a.jsx("span",{className:"mx-2",children:""}),a.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),a.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),a.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",a.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const sj=g.createContext({});function Pf(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const ij=typeof window<"u",lj=ij?g.useLayoutEffect:g.useEffect,Tp=g.createContext(null);function oj(e,t){e.indexOf(t)===-1&&e.push(t)}function Ep(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const Zs=(e,t,n)=>n>t?t:n<e?e:n;let cj=()=>{};const Qs={},uP=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function dP(e){return typeof e=="object"&&e!==null}const fP=e=>/^0[^.\s]+$/u.test(e);function uj(e){let t;return()=>(t===void 0&&(t=e()),t)}const gr=e=>e,QU=(e,t)=>n=>t(e(n)),Of=(...e)=>e.reduce(QU),Rc=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r};class dj{constructor(){this.subscriptions=[]}add(t){return oj(this.subscriptions,t),()=>Ep(this.subscriptions,t)}notify(t,n,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,n,r);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ir=e=>e*1e3,ls=e=>e/1e3;function mP(e,t){return t?e*(1e3/t):0}const JU=(e,t,n)=>{const r=t-e;return((n-e)%r+r)%r+e},hP=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,eF=1e-7,tF=12;function nF(e,t,n,r,s){let l,c,d=0;do c=t+(n-t)/2,l=hP(c,r,s)-e,l>0?n=c:t=c;while(Math.abs(l)>eF&&++d<tF);return c}function Mf(e,t,n,r){if(e===t&&n===r)return gr;const s=l=>nF(l,0,1,e,n);return l=>l===0||l===1?l:hP(s(l),t,r)}const pP=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,xP=e=>t=>1-e(1-t),gP=Mf(.33,1.53,.69,.99),fj=xP(gP),vP=pP(fj),bP=e=>(e*=2)<1?.5*fj(e):.5*(2-Math.pow(2,-10*(e-1))),mj=e=>1-Math.sin(Math.acos(e)),yP=xP(mj),wP=pP(mj),aF=Mf(.42,0,1,1),rF=Mf(0,0,.58,1),jP=Mf(.42,0,.58,1),NP=e=>Array.isArray(e)&&typeof e[0]!="number";function SP(e,t){return NP(e)?e[JU(0,e.length,t)]:e}const _P=e=>Array.isArray(e)&&typeof e[0]=="number",sF={linear:gr,easeIn:aF,easeInOut:jP,easeOut:rF,circIn:mj,circInOut:wP,circOut:yP,backIn:fj,backInOut:vP,backOut:gP,anticipate:bP},iF=e=>typeof e=="string",G5=e=>{if(_P(e)){cj(e.length===4);const[t,n,r,s]=e;return Mf(t,n,r,s)}else if(iF(e))return sF[e];return e},fh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function lF(e,t){let n=new Set,r=new Set,s=!1,l=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function f(h){c.has(h)&&(m.schedule(h),e()),h(d)}const m={schedule:(h,x=!1,v=!1)=>{const w=v&&s?n:r;return x&&c.add(h),w.has(h)||w.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(d=h,s){l=!0;return}s=!0,[n,r]=[r,n],n.forEach(f),n.clear(),s=!1,l&&(l=!1,m.process(h))}};return m}const oF=40;function kP(e,t){let n=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>n=!0,c=fh.reduce((C,P)=>(C[P]=lF(l),C),{}),{setup:d,read:f,resolveKeyframes:m,preUpdate:h,update:x,preRender:v,render:y,postRender:w}=c,j=()=>{const C=Qs.useManualTiming?s.timestamp:performance.now();n=!1,Qs.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,oF),1)),s.timestamp=C,s.isProcessing=!0,d.process(s),f.process(s),m.process(s),h.process(s),x.process(s),v.process(s),y.process(s),w.process(s),s.isProcessing=!1,n&&t&&(r=!1,e(j))},S=()=>{n=!0,r=!0,s.isProcessing||e(j)};return{schedule:fh.reduce((C,P)=>{const A=c[P];return C[P]=(T,L=!1,M=!1)=>(n||S(),A.schedule(T,L,M)),C},{}),cancel:C=>{for(let P=0;P<fh.length;P++)c[fh[P]].cancel(C)},state:s,steps:c}}const{schedule:Yt,cancel:Js,state:Yn,steps:Iv}=kP(typeof requestAnimationFrame<"u"?requestAnimationFrame:gr,!0);let h0;function cF(){h0=void 0}const Sa={now:()=>(h0===void 0&&Sa.set(Yn.isProcessing||Qs.useManualTiming?Yn.timestamp:performance.now()),h0),set:e=>{h0=e,queueMicrotask(cF)}},CP=e=>t=>typeof t=="string"&&t.startsWith(e),hj=CP("--"),uF=CP("var(--"),pj=e=>uF(e)?dF.test(e.split("/*")[0].trim()):!1,dF=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nu={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},sf={...nu,transform:e=>Zs(0,1,e)},mh={...nu,default:1},Hd=e=>Math.round(e*1e5)/1e5,xj=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function fF(e){return e==null}const mF=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,gj=(e,t)=>n=>!!(typeof n=="string"&&mF.test(n)&&n.startsWith(e)||t&&!fF(n)&&Object.prototype.hasOwnProperty.call(n,t)),AP=(e,t,n)=>r=>{if(typeof r!="string")return r;const[s,l,c,d]=r.match(xj);return{[e]:parseFloat(s),[t]:parseFloat(l),[n]:parseFloat(c),alpha:d!==void 0?parseFloat(d):1}},hF=e=>Zs(0,255,e),zv={...nu,transform:e=>Math.round(hF(e))},Hl={test:gj("rgb","red"),parse:AP("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+zv.transform(e)+", "+zv.transform(t)+", "+zv.transform(n)+", "+Hd(sf.transform(r))+")"};function pF(e){let t="",n="",r="",s="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,n+=n,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const C1={test:gj("#"),parse:pF,transform:Hl.transform},Df=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Hi=Df("deg"),os=Df("%"),st=Df("px"),xF=Df("vh"),gF=Df("vw"),Y5={...os,parse:e=>os.parse(e)/100,transform:e=>os.transform(e*100)},pc={test:gj("hsl","hue"),parse:AP("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+os.transform(Hd(t))+", "+os.transform(Hd(n))+", "+Hd(sf.transform(r))+")"},wn={test:e=>Hl.test(e)||C1.test(e)||pc.test(e),parse:e=>Hl.test(e)?Hl.parse(e):pc.test(e)?pc.parse(e):C1.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Hl.transform(e):pc.transform(e),getAnimatableNone:e=>{const t=wn.parse(e);return t.alpha=0,wn.transform(t)}},vF=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function bF(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(xj))==null?void 0:t.length)||0)+(((n=e.match(vF))==null?void 0:n.length)||0)>0}const TP="number",EP="color",yF="var",wF="var(",W5="${}",jF=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function lf(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},s=[];let l=0;const d=t.replace(jF,f=>(wn.test(f)?(r.color.push(l),s.push(EP),n.push(wn.parse(f))):f.startsWith(wF)?(r.var.push(l),s.push(yF),n.push(f)):(r.number.push(l),s.push(TP),n.push(parseFloat(f))),++l,W5)).split(W5);return{values:n,split:d,indexes:r,types:s}}function PP(e){return lf(e).values}function OP(e){const{split:t,types:n}=lf(e),r=t.length;return s=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],s[c]!==void 0){const d=n[c];d===TP?l+=Hd(s[c]):d===EP?l+=wn.transform(s[c]):l+=s[c]}return l}}const NF=e=>typeof e=="number"?0:wn.test(e)?wn.getAnimatableNone(e):e;function SF(e){const t=PP(e);return OP(e)(t.map(NF))}const Ji={test:bF,parse:PP,createTransformer:OP,getAnimatableNone:SF};function Bv(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function _F({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let s=0,l=0,c=0;if(!t)s=l=c=n;else{const d=n<.5?n*(1+t):n+t-n*t,f=2*n-d;s=Bv(f,d,e+1/3),l=Bv(f,d,e),c=Bv(f,d,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function A0(e,t){return n=>n>0?t:e}const Qt=(e,t,n)=>e+(t-e)*n,Uv=(e,t,n)=>{const r=e*e,s=n*(t*t-r)+r;return s<0?0:Math.sqrt(s)},kF=[C1,Hl,pc],CF=e=>kF.find(t=>t.test(e));function X5(e){const t=CF(e);if(!t)return!1;let n=t.parse(e);return t===pc&&(n=_F(n)),n}const Z5=(e,t)=>{const n=X5(e),r=X5(t);if(!n||!r)return A0(e,t);const s={...n};return l=>(s.red=Uv(n.red,r.red,l),s.green=Uv(n.green,r.green,l),s.blue=Uv(n.blue,r.blue,l),s.alpha=Qt(n.alpha,r.alpha,l),Hl.transform(s))},A1=new Set(["none","hidden"]);function AF(e,t){return A1.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function TF(e,t){return n=>Qt(e,t,n)}function vj(e){return typeof e=="number"?TF:typeof e=="string"?pj(e)?A0:wn.test(e)?Z5:OF:Array.isArray(e)?MP:typeof e=="object"?wn.test(e)?Z5:EF:A0}function MP(e,t){const n=[...e],r=n.length,s=e.map((l,c)=>vj(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)n[c]=s[c](l);return n}}function EF(e,t){const n={...e,...t},r={};for(const s in n)e[s]!==void 0&&t[s]!==void 0&&(r[s]=vj(e[s])(e[s],t[s]));return s=>{for(const l in r)n[l]=r[l](s);return n}}function PF(e,t){const n=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][r[l]],d=e.values[c]??0;n[s]=d,r[l]++}return n}const OF=(e,t)=>{const n=Ji.createTransformer(t),r=lf(e),s=lf(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?A1.has(e)&&!s.values.length||A1.has(t)&&!r.values.length?AF(e,t):Of(MP(PF(r,s),s.values),n):A0(e,t)};function DP(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?Qt(e,t,n):vj(e)(e,t)}const MF=e=>{const t=({timestamp:n})=>e(n);return{start:(n=!0)=>Yt.update(t,n),stop:()=>Js(t),now:()=>Yn.isProcessing?Yn.timestamp:Sa.now()}},RP=(e,t,n=10)=>{let r="";const s=Math.max(Math.round(t/n),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},T0=2e4;function bj(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<T0;)t+=n,r=e.next(t);return t>=T0?1/0:t}function LP(e,t=100,n){const r=n({...e,keyframes:[0,t]}),s=Math.min(bj(r),T0);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:ls(s)}}const DF=5;function $P(e,t,n){const r=Math.max(t-DF,0);return mP(n-e(r),t-r)}const dn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Fv=.001;function RF({duration:e=dn.duration,bounce:t=dn.bounce,velocity:n=dn.velocity,mass:r=dn.mass}){let s,l,c=1-t;c=Zs(dn.minDamping,dn.maxDamping,c),e=Zs(dn.minDuration,dn.maxDuration,ls(e)),c<1?(s=m=>{const h=m*c,x=h*e,v=h-n,y=T1(m,c),w=Math.exp(-x);return Fv-v/y*w},l=m=>{const x=m*c*e,v=x*n+n,y=Math.pow(c,2)*Math.pow(m,2)*e,w=Math.exp(-x),j=T1(Math.pow(m,2),c);return(-s(m)+Fv>0?-1:1)*((v-y)*w)/j}):(s=m=>{const h=Math.exp(-m*e),x=(m-n)*e+1;return-Fv+h*x},l=m=>{const h=Math.exp(-m*e),x=(n-m)*(e*e);return h*x});const d=5/e,f=$F(s,l,d);if(e=Ir(e),isNaN(f))return{stiffness:dn.stiffness,damping:dn.damping,duration:e};{const m=Math.pow(f,2)*r;return{stiffness:m,damping:c*2*Math.sqrt(r*m),duration:e}}}const LF=12;function $F(e,t,n){let r=n;for(let s=1;s<LF;s++)r=r-e(r)/t(r);return r}function T1(e,t){return e*Math.sqrt(1-t*t)}const IF=["duration","bounce"],zF=["stiffness","damping","mass"];function Q5(e,t){return t.some(n=>e[n]!==void 0)}function BF(e){let t={velocity:dn.velocity,stiffness:dn.stiffness,damping:dn.damping,mass:dn.mass,isResolvedFromDuration:!1,...e};if(!Q5(e,zF)&&Q5(e,IF))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),s=r*r,l=2*Zs(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:dn.mass,stiffness:s,damping:l}}else{const n=RF(e);t={...t,...n,mass:dn.mass},t.isResolvedFromDuration=!0}return t}function of(e=dn.visualDuration,t=dn.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=n;const l=n.keyframes[0],c=n.keyframes[n.keyframes.length-1],d={done:!1,value:l},{stiffness:f,damping:m,mass:h,duration:x,velocity:v,isResolvedFromDuration:y}=BF({...n,velocity:-ls(n.velocity||0)}),w=v||0,j=m/(2*Math.sqrt(f*h)),S=c-l,k=ls(Math.sqrt(f/h)),_=Math.abs(S)<5;r||(r=_?dn.restSpeed.granular:dn.restSpeed.default),s||(s=_?dn.restDelta.granular:dn.restDelta.default);let C;if(j<1){const A=T1(k,j);C=T=>{const L=Math.exp(-j*k*T);return c-L*((w+j*k*S)/A*Math.sin(A*T)+S*Math.cos(A*T))}}else if(j===1)C=A=>c-Math.exp(-k*A)*(S+(w+k*S)*A);else{const A=k*Math.sqrt(j*j-1);C=T=>{const L=Math.exp(-j*k*T),M=Math.min(A*T,300);return c-L*((w+j*k*S)*Math.sinh(M)+A*S*Math.cosh(M))/A}}const P={calculatedDuration:y&&x||null,next:A=>{const T=C(A);if(y)d.done=A>=x;else{let L=A===0?w:0;j<1&&(L=A===0?Ir(w):$P(C,A,T));const M=Math.abs(L)<=r,F=Math.abs(c-T)<=s;d.done=M&&F}return d.value=d.done?c:T,d},toString:()=>{const A=Math.min(bj(P),T0),T=RP(L=>P.next(A*L).value,A,30);return A+"ms "+T},toTransition:()=>{}};return P}of.applyToOptions=e=>{const t=LP(e,100,of);return e.ease=t.ease,e.duration=Ir(t.duration),e.type="keyframes",e};function E1({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:d,max:f,restDelta:m=.5,restSpeed:h}){const x=e[0],v={done:!1,value:x},y=M=>d!==void 0&&M<d||f!==void 0&&M>f,w=M=>d===void 0?f:f===void 0||Math.abs(d-M)<Math.abs(f-M)?d:f;let j=n*t;const S=x+j,k=c===void 0?S:c(S);k!==S&&(j=k-x);const _=M=>-j*Math.exp(-M/r),C=M=>k+_(M),P=M=>{const F=_(M),K=C(M);v.done=Math.abs(F)<=m,v.value=v.done?k:K};let A,T;const L=M=>{y(v.value)&&(A=M,T=of({keyframes:[v.value,w(v.value)],velocity:$P(C,M,v.value),damping:s,stiffness:l,restDelta:m,restSpeed:h}))};return L(0),{calculatedDuration:null,next:M=>{let F=!1;return!T&&A===void 0&&(F=!0,P(M),L(M)),A!==void 0&&M>=A?T.next(M-A):(!F&&P(M),v)}}}function UF(e,t,n){const r=[],s=n||Qs.mix||DP,l=e.length-1;for(let c=0;c<l;c++){let d=s(e[c],e[c+1]);if(t){const f=Array.isArray(t)?t[c]||gr:t;d=Of(f,d)}r.push(d)}return r}function IP(e,t,{clamp:n=!0,ease:r,mixer:s}={}){const l=e.length;if(cj(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const d=UF(t,r,s),f=d.length,m=h=>{if(c&&h<e[0])return t[0];let x=0;if(f>1)for(;x<e.length-2&&!(h<e[x+1]);x++);const v=Rc(e[x],e[x+1],h);return d[x](v)};return n?h=>m(Zs(e[0],e[l-1],h)):m}function zP(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const s=Rc(0,t,r);e.push(Qt(n,1,s))}}function BP(e){const t=[0];return zP(t,e.length-1),t}function FF(e,t){return e.map(n=>n*t)}function VF(e,t){return e.map(()=>t||jP).splice(0,e.length-1)}function qd({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const s=NP(r)?r.map(G5):G5(r),l={done:!1,value:t[0]},c=FF(n&&n.length===t.length?n:BP(t),e),d=IP(c,t,{ease:Array.isArray(s)?s:VF(t,s)});return{calculatedDuration:e,next:f=>(l.value=d(f),l.done=f>=e,l)}}const HF=e=>e!==null;function yj(e,{repeat:t,repeatType:n="loop"},r,s=1){const l=e.filter(HF),d=s<0||t&&n!=="loop"&&t%2===1?0:l.length-1;return!d||r===void 0?l[d]:r}const qF={decay:E1,inertia:E1,tween:qd,keyframes:qd,spring:of};function UP(e){typeof e.type=="string"&&(e.type=qF[e.type])}class wj{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,n){return this.finished.then(t,n)}}const KF=e=>e/100;class jj extends wj{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:n}=this.options;n&&n.updatedAt!==Sa.now()&&this.tick(Sa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;UP(t);const{type:n=qd,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:d}=t;const f=n||qd;f!==qd&&typeof d[0]!="number"&&(this.mixKeyframes=Of(KF,DP(d[0],d[1])),d=[0,100]);const m=f({...t,keyframes:d});l==="mirror"&&(this.mirroredGenerator=f({...t,keyframes:[...d].reverse(),velocity:-c})),m.calculatedDuration===null&&(m.calculatedDuration=bj(m));const{calculatedDuration:h}=m;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=m}updateTime(t){const n=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(t,n=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:d,calculatedDuration:f}=this;if(this.startTime===null)return r.next(0);const{delay:m=0,keyframes:h,repeat:x,repeatType:v,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),n?this.currentTime=t:this.updateTime(t);const k=this.currentTime-m*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,P=r;if(x){const M=Math.min(this.currentTime,s)/d;let F=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&F--,F=Math.min(F,x+1),!!(F%2)&&(v==="reverse"?(K=1-K,y&&(K-=y/d)):v==="mirror"&&(P=c)),C=Zs(0,1,K)*d}const A=_?{done:!1,value:h[0]}:P.next(C);l&&(A.value=l(A.value));let{done:T}=A;!_&&f!==null&&(T=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&T);return L&&w!==E1&&(A.value=yj(h,this.options,S,this.speed)),j&&j(A.value),L&&this.finish(),A}then(t,n){return this.finished.then(t,n)}get duration(){return ls(this.calculatedDuration)}get time(){return ls(this.currentTime)}set time(t){var n;t=Ir(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Sa.now());const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=ls(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=MF,startTime:n}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Sa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(t=this.options).onComplete)==null||n.call(t)}cancel(){var t,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(t=this.options).onCancel)==null||n.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),t.observe(this)}}function GF(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ql=e=>e*180/Math.PI,P1=e=>{const t=ql(Math.atan2(e[1],e[0]));return O1(t)},YF={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:P1,rotateZ:P1,skewX:e=>ql(Math.atan(e[1])),skewY:e=>ql(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},O1=e=>(e=e%360,e<0&&(e+=360),e),J5=P1,e3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),t3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),WF={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:e3,scaleY:t3,scale:e=>(e3(e)+t3(e))/2,rotateX:e=>O1(ql(Math.atan2(e[6],e[5]))),rotateY:e=>O1(ql(Math.atan2(-e[2],e[0]))),rotateZ:J5,rotate:J5,skewX:e=>ql(Math.atan(e[4])),skewY:e=>ql(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function M1(e){return e.includes("scale")?1:0}function D1(e,t){if(!e||e==="none")return M1(t);const n=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(n)r=WF,s=n;else{const d=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=YF,s=d}if(!s)return M1(t);const l=r[t],c=s[1].split(",").map(ZF);return typeof l=="function"?l(c):c[l]}const XF=(e,t)=>{const{transform:n="none"}=getComputedStyle(e);return D1(n,t)};function ZF(e){return parseFloat(e.trim())}const au=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ru=new Set(au),n3=e=>e===nu||e===st,QF=new Set(["x","y","z"]),JF=au.filter(e=>!QF.has(e));function eV(e){const t=[];return JF.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Zl={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>D1(t,"x"),y:(e,{transform:t})=>D1(t,"y")};Zl.translateX=Zl.x;Zl.translateY=Zl.y;const Ql=new Set;let R1=!1,L1=!1,$1=!1;function FP(){if(L1){const e=Array.from(Ql).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const s=eV(r);s.length&&(n.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=n.get(r);s&&s.forEach(([l,c])=>{var d;(d=r.getValue(l))==null||d.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}L1=!1,R1=!1,Ql.forEach(e=>e.complete($1)),Ql.clear()}function VP(){Ql.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(L1=!0)})}function tV(){$1=!0,VP(),FP(),$1=!1}class Nj{constructor(t,n,r,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Ql.add(this),R1||(R1=!0,Yt.read(VP),Yt.resolveKeyframes(FP))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&n){const d=r.readValue(n,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}GF(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Ql.delete(this)}cancel(){this.state==="scheduled"&&(Ql.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const nV=e=>e.startsWith("--");function aV(e,t,n){nV(t)?e.style.setProperty(t,n):e.style[t]=n}const rV=uj(()=>window.ScrollTimeline!==void 0),sV={};function iV(e,t){const n=uj(e);return()=>sV[t]??n()}const HP=iV(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$d=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,a3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$d([0,.65,.55,1]),circOut:$d([.55,0,1,.45]),backIn:$d([.31,.01,.66,-.59]),backOut:$d([.33,1.53,.69,.99])};function qP(e,t){if(e)return typeof e=="function"?HP()?RP(e,t):"ease-out":_P(e)?$d(e):Array.isArray(e)?e.map(n=>qP(n,t)||a3.easeOut):a3[e]}function lV(e,t,n,{delay:r=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:d="easeOut",times:f}={},m=void 0){const h={[t]:n};f&&(h.offset=f);const x=qP(d,s);Array.isArray(x)&&(h.easing=x);const v={delay:r,duration:s,easing:Array.isArray(x)?"linear":x,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return m&&(v.pseudoElement=m),e.animate(h,v)}function Sj(e){return typeof e=="function"&&"applyToOptions"in e}function oV({type:e,...t}){return Sj(e)&&HP()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class cV extends wj{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:n,name:r,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:d,onComplete:f}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,cj(typeof t.type!="string");const m=oV(t);this.animation=lV(n,r,s,m,l),m.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=yj(s,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(h):aV(n,r,h),this.animation.cancel()}f==null||f(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,n;(n=(t=this.animation).finish)==null||n.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,n;this.isPseudoElement||(n=(t=this.animation).commitStyles)==null||n.call(t)}get duration(){var n,r;const t=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return ls(Number(t))}get time(){return ls(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=Ir(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&rV()?(this.animation.timeline=t,gr):n(this)}}const KP={anticipate:bP,backInOut:vP,circInOut:wP};function uV(e){return e in KP}function dV(e){typeof e.ease=="string"&&uV(e.ease)&&(e.ease=KP[e.ease])}const r3=10;class fV extends cV{constructor(t){dV(t),UP(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:n,onUpdate:r,onComplete:s,element:l,...c}=this.options;if(!n)return;if(t!==void 0){n.set(t);return}const d=new jj({...c,autoplay:!1}),f=Ir(this.finishedTime??this.time);n.setWithVelocity(d.sample(f-r3).value,d.sample(f).value,r3),d.stop()}}const s3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Ji.test(e)||e==="0")&&!e.startsWith("url("));function mV(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function hV(e,t,n,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=s3(s,t),d=s3(l,t);return!c||!d?!1:mV(e)||(n==="spring"||Sj(n))&&r}function I1(e){e.duration=0,e.type}const pV=new Set(["opacity","clipPath","filter","transform"]),xV=uj(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function gV(e){var h;const{motionValue:t,name:n,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:m}=t.owner.getProps();return xV()&&n&&pV.has(n)&&(n!=="transform"||!m)&&!f&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}const vV=40;class bV extends wj{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:d,name:f,motionValue:m,element:h,...x}){var w;super(),this.stop=()=>{var j,S;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Sa.now();const v={autoplay:t,delay:n,type:r,repeat:s,repeatDelay:l,repeatType:c,name:f,motionValue:m,element:h,...x},y=(h==null?void 0:h.KeyframeResolver)||Nj;this.keyframeResolver=new y(d,(j,S,k)=>this.onKeyframesResolved(j,S,v,!k),f,m,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(t,n,r,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:d,delay:f,isHandoff:m,onUpdate:h}=r;this.resolvedAt=Sa.now(),hV(t,l,c,d)||((Qs.instantAnimations||!f)&&(h==null||h(yj(t,r,n))),t[0]=t[t.length-1],I1(r),r.repeat=0);const v={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>vV?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:t},y=!m&&gV(v)?new fV({...v,element:v.motionValue.owner.current}):new jj(v);y.finished.then(()=>this.notifyFinished()).catch(gr),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,n){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),tV()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class yV{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t){const n=this.animations.map(r=>r.attachTimeline(t));return()=>{n.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class wV extends yV{then(t,n){return this.finished.finally(t).then(()=>{})}}const jV=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function NV(e){const t=jV.exec(e);if(!t)return[,];const[,n,r,s]=t;return[`--${n??r}`,s]}function GP(e,t,n=1){const[r,s]=NV(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return uP(c)?parseFloat(c):c}return pj(s)?GP(s,t,n+1):s}function _j(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const YP=new Set(["width","height","top","left","right","bottom",...au]),SV={test:e=>e==="auto",parse:e=>e},WP=e=>t=>t.test(e),XP=[nu,st,os,Hi,gF,xF,SV],i3=e=>XP.find(WP(e));function _V(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||fP(e):!0}const kV=new Set(["brightness","contrast","saturate","opacity"]);function CV(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(xj)||[];if(!r)return e;const s=n.replace(r,"");let l=kV.has(t)?1:0;return r!==n&&(l*=100),t+"("+l+s+")"}const AV=/\b([a-z-]*)\(.*?\)/gu,z1={...Ji,getAnimatableNone:e=>{const t=e.match(AV);return t?t.map(CV).join(" "):e}},l3={...nu,transform:Math.round},TV={rotate:Hi,rotateX:Hi,rotateY:Hi,rotateZ:Hi,scale:mh,scaleX:mh,scaleY:mh,scaleZ:mh,skew:Hi,skewX:Hi,skewY:Hi,distance:st,translateX:st,translateY:st,translateZ:st,x:st,y:st,z:st,perspective:st,transformPerspective:st,opacity:sf,originX:Y5,originY:Y5,originZ:st},kj={borderWidth:st,borderTopWidth:st,borderRightWidth:st,borderBottomWidth:st,borderLeftWidth:st,borderRadius:st,radius:st,borderTopLeftRadius:st,borderTopRightRadius:st,borderBottomRightRadius:st,borderBottomLeftRadius:st,width:st,maxWidth:st,height:st,maxHeight:st,top:st,right:st,bottom:st,left:st,padding:st,paddingTop:st,paddingRight:st,paddingBottom:st,paddingLeft:st,margin:st,marginTop:st,marginRight:st,marginBottom:st,marginLeft:st,backgroundPositionX:st,backgroundPositionY:st,...TV,zIndex:l3,fillOpacity:sf,strokeOpacity:sf,numOctaves:l3},EV={...kj,color:wn,backgroundColor:wn,outlineColor:wn,fill:wn,stroke:wn,borderColor:wn,borderTopColor:wn,borderRightColor:wn,borderBottomColor:wn,borderLeftColor:wn,filter:z1,WebkitFilter:z1},ZP=e=>EV[e];function QP(e,t){let n=ZP(e);return n!==z1&&(n=Ji),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const PV=new Set(["auto","none","0"]);function OV(e,t,n){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!PV.has(l)&&lf(l).values.length&&(s=e[r]),r++}if(s&&n)for(const l of t)e[l]=QP(n,s)}class MV extends Nj{constructor(t,n,r,s,l){super(t,n,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let f=0;f<t.length;f++){let m=t[f];if(typeof m=="string"&&(m=m.trim(),pj(m))){const h=GP(m,n.current);h!==void 0&&(t[f]=h),f===t.length-1&&(this.finalKeyframe=m)}}if(this.resolveNoneKeyframes(),!YP.has(r)||t.length!==2)return;const[s,l]=t,c=i3(s),d=i3(l);if(c!==d)if(n3(c)&&n3(d))for(let f=0;f<t.length;f++){const m=t[f];typeof m=="string"&&(t[f]=parseFloat(m))}else Zl[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||_V(t[s]))&&r.push(s);r.length&&OV(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Zl[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const s=n[n.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var d;const{element:t,name:n,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(n);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Zl[n](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(d=this.removedTransforms)!=null&&d.length&&this.removedTransforms.forEach(([f,m])=>{t.getValue(f).set(m)}),this.resolveNoneKeyframes()}}function JP(e,t,n){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(n==null?void 0:n[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const eO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function tO(e){return dP(e)&&"offsetHeight"in e}const o3=30,DV=e=>!isNaN(parseFloat(e)),Kd={current:void 0};class RV{constructor(t,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=Sa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Sa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=DV(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new dj);const r=this.events[t].add(n);return t==="change"?()=>{r(),Yt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return Kd.current&&Kd.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Sa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>o3)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,o3);return mP(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,n;(t=this.dependents)==null||t.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function so(e,t){return new RV(e,t)}const{schedule:Cj}=kP(queueMicrotask,!1),Tr={x:!1,y:!1};function nO(){return Tr.x||Tr.y}function LV(e){return e==="x"||e==="y"?Tr[e]?null:(Tr[e]=!0,()=>{Tr[e]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}function aO(e,t){const n=JP(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[n,s,()=>r.abort()]}function c3(e){return!(e.pointerType==="touch"||nO())}function $V(e,t,n={}){const[r,s,l]=aO(e,n),c=d=>{if(!c3(d))return;const{target:f}=d,m=t(f,d);if(typeof m!="function"||!f)return;const h=x=>{c3(x)&&(m(x),f.removeEventListener("pointerleave",h))};f.addEventListener("pointerleave",h,s)};return r.forEach(d=>{d.addEventListener("pointerenter",c,s)}),l}const rO=(e,t)=>t?e===t?!0:rO(e,t.parentElement):!1,Aj=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,IV=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function zV(e){return IV.has(e.tagName)||e.tabIndex!==-1}const p0=new WeakSet;function u3(e){return t=>{t.key==="Enter"&&e(t)}}function Vv(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const BV=(e,t)=>{const n=e.currentTarget;if(!n)return;const r=u3(()=>{if(p0.has(n))return;Vv(n,"down");const s=u3(()=>{Vv(n,"up")}),l=()=>Vv(n,"cancel");n.addEventListener("keyup",s,t),n.addEventListener("blur",l,t)});n.addEventListener("keydown",r,t),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),t)};function d3(e){return Aj(e)&&!nO()}function UV(e,t,n={}){const[r,s,l]=aO(e,n),c=d=>{const f=d.currentTarget;if(!d3(d))return;p0.add(f);const m=t(f,d),h=(y,w)=>{window.removeEventListener("pointerup",x),window.removeEventListener("pointercancel",v),p0.has(f)&&p0.delete(f),d3(y)&&typeof m=="function"&&m(y,{success:w})},x=y=>{h(y,f===window||f===document||n.useGlobalTarget||rO(f,y.target))},v=y=>{h(y,!1)};window.addEventListener("pointerup",x,s),window.addEventListener("pointercancel",v,s)};return r.forEach(d=>{(n.useGlobalTarget?window:d).addEventListener("pointerdown",c,s),tO(d)&&(d.addEventListener("focus",m=>BV(m,s)),!zV(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),l}function Tj(e){return dP(e)&&"ownerSVGElement"in e}function sO(e){return Tj(e)&&e.tagName==="svg"}function FV(...e){const t=!Array.isArray(e[0]),n=t?0:-1,r=e[0+n],s=e[1+n],l=e[2+n],c=e[3+n],d=IP(s,l,c);return t?d(r):d}const zn=e=>!!(e&&e.getVelocity),VV=[...XP,wn,Ji],HV=e=>VV.find(WP(e)),Pp=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class qV extends g.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=n.offsetParent,s=tO(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=n.offsetHeight||0,l.width=n.offsetWidth||0,l.top=n.offsetTop,l.left=n.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function KV({children:e,isPresent:t,anchorX:n,root:r}){const s=g.useId(),l=g.useRef(null),c=g.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=g.useContext(Pp);return g.useInsertionEffect(()=>{const{width:f,height:m,top:h,left:x,right:v}=c.current;if(t||!l.current||!f||!m)return;const y=n==="left"?`left: ${x}`:`right: ${v}`;l.current.dataset.motionPopId=s;const w=document.createElement("style");d&&(w.nonce=d);const j=r??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${f}px !important;
            height: ${m}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[t]),a.jsx(qV,{isPresent:t,childRef:l,sizeRef:c,children:g.cloneElement(e,{ref:l})})}const GV=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:c,anchorX:d,root:f})=>{const m=Pf(YV),h=g.useId();let x=!0,v=g.useMemo(()=>(x=!1,{id:h,initial:t,isPresent:n,custom:s,onExitComplete:y=>{m.set(y,!0);for(const w of m.values())if(!w)return;r&&r()},register:y=>(m.set(y,!1),()=>m.delete(y))}),[n,m,r]);return l&&x&&(v={...v}),g.useMemo(()=>{m.forEach((y,w)=>m.set(w,!1))},[n]),g.useEffect(()=>{!n&&!m.size&&r&&r()},[n]),c==="popLayout"&&(e=a.jsx(KV,{isPresent:n,anchorX:d,root:f,children:e})),a.jsx(Tp.Provider,{value:v,children:e})};function YV(){return new Map}function iO(e=!0){const t=g.useContext(Tp);if(t===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:s}=t,l=g.useId();g.useEffect(()=>{if(e)return s(l)},[e]);const c=g.useCallback(()=>e&&r&&r(l),[l,r,e]);return!n&&r?[!1,c]:[!0]}const hh=e=>e.key||"";function f3(e){const t=[];return g.Children.forEach(e,n=>{g.isValidElement(n)&&t.push(n)}),t}const Mt=({children:e,custom:t,initial:n=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:d="left",root:f})=>{const[m,h]=iO(c),x=g.useMemo(()=>f3(e),[e]),v=c&&!m?[]:x.map(hh),y=g.useRef(!0),w=g.useRef(x),j=Pf(()=>new Map),[S,k]=g.useState(x),[_,C]=g.useState(x);lj(()=>{y.current=!1,w.current=x;for(let T=0;T<_.length;T++){const L=hh(_[T]);v.includes(L)?j.delete(L):j.get(L)!==!0&&j.set(L,!1)}},[_,v.length,v.join("-")]);const P=[];if(x!==S){let T=[...x];for(let L=0;L<_.length;L++){const M=_[L],F=hh(M);v.includes(F)||(T.splice(L,0,M),P.push(M))}return l==="wait"&&P.length&&(T=P),C(f3(T)),k(x),null}const{forceRender:A}=g.useContext(sj);return a.jsx(a.Fragment,{children:_.map(T=>{const L=hh(T),M=c&&!m?!1:x===_||v.includes(L),F=()=>{if(j.has(L))j.set(L,!0);else return;let K=!0;j.forEach(V=>{V||(K=!1)}),K&&(A==null||A(),C(w.current),c&&(h==null||h()),r&&r())};return a.jsx(GV,{isPresent:M,initial:!y.current||n?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:f,onExitComplete:M?void 0:F,anchorX:d,children:T},L)})})},lO=g.createContext({strict:!1}),m3={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Lc={};for(const e in m3)Lc[e]={isEnabled:t=>m3[e].some(n=>!!t[n])};function WV(e){for(const t in e)Lc[t]={...Lc[t],...e[t]}}const XV=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function E0(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||XV.has(e)}let oO=e=>!E0(e);function ZV(e){typeof e=="function"&&(oO=t=>t.startsWith("on")?!E0(t):e(t))}try{ZV(require("@emotion/is-prop-valid").default)}catch{}function QV(e,t,n){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(oO(s)||n===!0&&E0(s)||!t&&!E0(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const Op=g.createContext({});function Mp(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function cf(e){return typeof e=="string"||Array.isArray(e)}const Ej=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Pj=["initial",...Ej];function Dp(e){return Mp(e.animate)||Pj.some(t=>cf(e[t]))}function cO(e){return!!(Dp(e)||e.variants)}function JV(e,t){if(Dp(e)){const{initial:n,animate:r}=e;return{initial:n===!1||cf(n)?n:void 0,animate:cf(r)?r:void 0}}return e.inherit!==!1?t:{}}function eH(e){const{initial:t,animate:n}=JV(e,g.useContext(Op));return g.useMemo(()=>({initial:t,animate:n}),[h3(t),h3(n)])}function h3(e){return Array.isArray(e)?e.join(" "):e}const uf={};function tH(e){for(const t in e)uf[t]=e[t],hj(t)&&(uf[t].isCSSVariable=!0)}function uO(e,{layout:t,layoutId:n}){return ru.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!uf[e]||e==="opacity")}const nH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},aH=au.length;function rH(e,t,n){let r="",s=!0;for(let l=0;l<aH;l++){const c=au[l],d=e[c];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(c.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||n){const m=eO(d,kj[c]);if(!f){s=!1;const h=nH[c]||c;r+=`${h}(${m}) `}n&&(t[c]=m)}}return r=r.trim(),n?r=n(t,s?"":r):s&&(r="none"),r}function Oj(e,t,n){const{style:r,vars:s,transformOrigin:l}=e;let c=!1,d=!1;for(const f in t){const m=t[f];if(ru.has(f)){c=!0;continue}else if(hj(f)){s[f]=m;continue}else{const h=eO(m,kj[f]);f.startsWith("origin")?(d=!0,l[f]=h):r[f]=h}}if(t.transform||(c||n?r.transform=rH(t,e.transform,n):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:m="50%",originZ:h=0}=l;r.transformOrigin=`${f} ${m} ${h}`}}const Mj=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function dO(e,t,n){for(const r in t)!zn(t[r])&&!uO(r,n)&&(e[r]=t[r])}function sH({transformTemplate:e},t){return g.useMemo(()=>{const n=Mj();return Oj(n,t,e),Object.assign({},n.vars,n.style)},[t])}function iH(e,t){const n=e.style||{},r={};return dO(r,n,e),Object.assign(r,sH(e,t)),r}function lH(e,t){const n={},r=iH(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const oH={offset:"stroke-dashoffset",array:"stroke-dasharray"},cH={offset:"strokeDashoffset",array:"strokeDasharray"};function uH(e,t,n=1,r=0,s=!0){e.pathLength=1;const l=s?oH:cH;e[l.offset]=st.transform(-r);const c=st.transform(t),d=st.transform(n);e[l.array]=`${c} ${d}`}function fO(e,{attrX:t,attrY:n,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...d},f,m,h){if(Oj(e,d,m),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:x,style:v}=e;x.transform&&(v.transform=x.transform,delete x.transform),(v.transform||x.transformOrigin)&&(v.transformOrigin=x.transformOrigin??"50% 50%",delete x.transformOrigin),v.transform&&(v.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete x.transformBox),t!==void 0&&(x.x=t),n!==void 0&&(x.y=n),r!==void 0&&(x.scale=r),s!==void 0&&uH(x,s,l,c,!1)}const mO=()=>({...Mj(),attrs:{}}),hO=e=>typeof e=="string"&&e.toLowerCase()==="svg";function dH(e,t,n,r){const s=g.useMemo(()=>{const l=mO();return fO(l,t,hO(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};dO(l,e.style,e),s.style={...l,...s.style}}return s}const fH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Dj(e){return typeof e!="string"||e.includes("-")?!1:!!(fH.indexOf(e)>-1||/[A-Z]/u.test(e))}function mH(e,t,n,{latestValues:r},s,l=!1){const d=(Dj(e)?dH:lH)(t,r,s,e),f=QV(t,typeof e=="string",l),m=e!==g.Fragment?{...f,...d,ref:n}:{},{children:h}=t,x=g.useMemo(()=>zn(h)?h.get():h,[h]);return g.createElement(e,{...m,children:x})}function p3(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function Rj(e,t,n,r){if(typeof t=="function"){const[s,l]=p3(r);t=t(n!==void 0?n:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=p3(r);t=t(n!==void 0?n:e.custom,s,l)}return t}function x0(e){return zn(e)?e.get():e}function hH({scrapeMotionValuesFromProps:e,createRenderState:t},n,r,s){return{latestValues:pH(n,r,s,e),renderState:t()}}function pH(e,t,n,r){const s={},l=r(e,{});for(const v in l)s[v]=x0(l[v]);let{initial:c,animate:d}=e;const f=Dp(e),m=cO(e);t&&m&&!f&&e.inherit!==!1&&(c===void 0&&(c=t.initial),d===void 0&&(d=t.animate));let h=n?n.initial===!1:!1;h=h||c===!1;const x=h?d:c;if(x&&typeof x!="boolean"&&!Mp(x)){const v=Array.isArray(x)?x:[x];for(let y=0;y<v.length;y++){const w=Rj(e,v[y]);if(w){const{transitionEnd:j,transition:S,...k}=w;for(const _ in k){let C=k[_];if(Array.isArray(C)){const P=h?C.length-1:0;C=C[P]}C!==null&&(s[_]=C)}for(const _ in j)s[_]=j[_]}}}return s}const pO=e=>(t,n)=>{const r=g.useContext(Op),s=g.useContext(Tp),l=()=>hH(e,t,r,s);return n?l():Pf(l)};function Lj(e,t,n){var l;const{style:r}=e,s={};for(const c in r)(zn(r[c])||t.style&&zn(t.style[c])||uO(c,e)||((l=n==null?void 0:n.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const xH=pO({scrapeMotionValuesFromProps:Lj,createRenderState:Mj});function xO(e,t,n){const r=Lj(e,t,n);for(const s in e)if(zn(e[s])||zn(t[s])){const l=au.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const gH=pO({scrapeMotionValuesFromProps:xO,createRenderState:mO}),vH=Symbol.for("motionComponentSymbol");function xc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function bH(e,t,n){return g.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):xc(n)&&(n.current=r))},[t])}const $j=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yH="framerAppearId",gO="data-"+$j(yH),vO=g.createContext({});function wH(e,t,n,r,s){var j,S;const{visualElement:l}=g.useContext(Op),c=g.useContext(lO),d=g.useContext(Tp),f=g.useContext(Pp).reducedMotion,m=g.useRef(null);r=r||c.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:l,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:f}));const h=m.current,x=g.useContext(vO);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&jH(m.current,n,s,x);const v=g.useRef(!1);g.useInsertionEffect(()=>{h&&v.current&&h.update(n,d)});const y=n[gO],w=g.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return lj(()=>{h&&(v.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),g.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),w.current=!1),h.enteringChildren=void 0)}),h}function jH(e,t,n,r){const{layoutId:s,layout:l,drag:c,dragConstraints:d,layoutScroll:f,layoutRoot:m,layoutCrossfade:h}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:bO(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||d&&xc(d),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:f,layoutRoot:m})}function bO(e){if(e)return e.options.allowProjection!==!1?e.projection:bO(e.parent)}function Hv(e,{forwardMotionProps:t=!1}={},n,r){n&&WV(n);const s=Dj(e)?gH:xH;function l(d,f){let m;const h={...g.useContext(Pp),...d,layoutId:NH(d)},{isStatic:x}=h,v=eH(d),y=s(d,x);if(!x&&ij){SH();const w=_H(h);m=w.MeasureLayout,v.visualElement=wH(e,y,h,r,w.ProjectionNode)}return a.jsxs(Op.Provider,{value:v,children:[m&&v.visualElement?a.jsx(m,{visualElement:v.visualElement,...h}):null,mH(e,d,bH(y,v.visualElement,f),y,x,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=g.forwardRef(l);return c[vH]=e,c}function NH({layoutId:e}){const t=g.useContext(sj).id;return t&&e!==void 0?t+"-"+e:e}function SH(e,t){g.useContext(lO).strict}function _H(e){const{drag:t,layout:n}=Lc;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function kH(e,t){if(typeof Proxy>"u")return Hv;const n=new Map,r=(l,c)=>Hv(l,c,e,t),s=(l,c)=>r(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?r:(n.has(c)||n.set(c,Hv(c,void 0,e,t)),n.get(c))})}function yO({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function CH({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function AH(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function qv(e){return e===void 0||e===1}function B1({scale:e,scaleX:t,scaleY:n}){return!qv(e)||!qv(t)||!qv(n)}function Ll(e){return B1(e)||wO(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function wO(e){return x3(e.x)||x3(e.y)}function x3(e){return e&&e!=="0%"}function P0(e,t,n){const r=e-n,s=t*r;return n+s}function g3(e,t,n,r,s){return s!==void 0&&(e=P0(e,s,r)),P0(e,n,r)+t}function U1(e,t=0,n=1,r,s){e.min=g3(e.min,t,n,r,s),e.max=g3(e.max,t,n,r,s)}function jO(e,{x:t,y:n}){U1(e.x,t.translate,t.scale,t.originPoint),U1(e.y,n.translate,n.scale,n.originPoint)}const v3=.999999999999,b3=1.0000000000001;function TH(e,t,n,r=!1){const s=n.length;if(!s)return;t.x=t.y=1;let l,c;for(let d=0;d<s;d++){l=n[d],c=l.projectionDelta;const{visualElement:f}=l.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&vc(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,jO(e,c)),r&&Ll(l.latestValues)&&vc(e,l.latestValues))}t.x<b3&&t.x>v3&&(t.x=1),t.y<b3&&t.y>v3&&(t.y=1)}function gc(e,t){e.min=e.min+t,e.max=e.max+t}function y3(e,t,n,r,s=.5){const l=Qt(e.min,e.max,s);U1(e,t,n,l,r)}function vc(e,t){y3(e.x,t.x,t.scaleX,t.scale,t.originX),y3(e.y,t.y,t.scaleY,t.scale,t.originY)}function NO(e,t){return yO(AH(e.getBoundingClientRect(),t))}function EH(e,t,n){const r=NO(e,n),{scroll:s}=t;return s&&(gc(r.x,s.offset.x),gc(r.y,s.offset.y)),r}const w3=()=>({translate:0,scale:1,origin:0,originPoint:0}),bc=()=>({x:w3(),y:w3()}),j3=()=>({min:0,max:0}),un=()=>({x:j3(),y:j3()}),F1={current:null},SO={current:!1};function PH(){if(SO.current=!0,!!ij)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>F1.current=e.matches;e.addEventListener("change",t),t()}else F1.current=!1}const df=new WeakMap;function OH(e,t,n){for(const r in t){const s=t[r],l=n[r];if(zn(s))e.addValue(r,s);else if(zn(l))e.addValue(r,so(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,so(c!==void 0?c:s,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const N3=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class _O{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Nj,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const v=Sa.now();this.renderScheduledAt<v&&(this.renderScheduledAt=v,Yt.render(this.render,!1,!0))};const{latestValues:f,renderState:m}=c;this.latestValues=f,this.baseTarget={...f},this.initialValues=n.initial?{...f}:{},this.renderState=m,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!l,this.isControllingVariants=Dp(n),this.isVariantNode=cO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...x}=this.scrapeMotionValuesFromProps(n,{},this);for(const v in x){const y=x[v];f[v]!==void 0&&zn(y)&&y.set(f[v])}}mount(t){var n;this.current=t,df.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),SO.current||PH(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:F1.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),Js(this.notifyUpdate),Js(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ru.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=n.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&Yt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Lc){const n=Lc[t];if(!n)continue;const{isEnabled:r,Feature:s}=n;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):un()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<N3.length;r++){const s=N3[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=OH(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=so(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(uP(r)||fP(r))?r=parseFloat(r):!HV(r)&&Ji.test(n)&&(r=QP(t,n)),this.setBaseTarget(t,zn(r)?r.get():r)),zn(r)?r.get():r}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var l;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const c=Rj(this.props,n,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(n&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!zn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new dj),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}scheduleRenderMicrotask(){Cj.render(this.render)}}class kO extends _O{constructor(){super(...arguments),this.KeyframeResolver=MV}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;zn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function CO(e,{style:t,vars:n},r,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,r);for(c in n)l.setProperty(c,n[c])}function MH(e){return window.getComputedStyle(e)}class AO extends kO{constructor(){super(...arguments),this.type="html",this.renderInstance=CO}readValueFromInstance(t,n){var r;if(ru.has(n))return(r=this.projection)!=null&&r.isProjecting?M1(n):XF(t,n);{const s=MH(t),l=(hj(n)?s.getPropertyValue(n):s[n])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:n}){return NO(t,n)}build(t,n,r){Oj(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return Lj(t,n,r)}}const TO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function DH(e,t,n,r){CO(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(TO.has(s)?s:$j(s),t.attrs[s])}class EO extends kO{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=un}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ru.has(n)){const r=ZP(n);return r&&r.default||0}return n=TO.has(n)?n:$j(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return xO(t,n,r)}build(t,n,r){fO(t,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,n,r,s){DH(t,n,r,s)}mount(t){this.isSVGTag=hO(t.tagName),super.mount(t)}}const RH=(e,t)=>Dj(e)?new EO(t):new AO(t,{allowProjection:e!==g.Fragment});function _c(e,t,n){const r=e.getProps();return Rj(r,t,n!==void 0?n:r.custom,e)}const V1=e=>Array.isArray(e);function LH(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,so(n))}function $H(e){return V1(e)?e[e.length-1]||0:e}function IH(e,t){const n=_c(e,t);let{transitionEnd:r={},transition:s={},...l}=n||{};l={...l,...r};for(const c in l){const d=$H(l[c]);LH(e,c,d)}}function zH(e){return!!(zn(e)&&e.add)}function H1(e,t){const n=e.getValue("willChange");if(zH(n))return n.add(t);if(!n&&Qs.WillChange){const r=new Qs.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function PO(e){return e.props[gO]}const BH=e=>e!==null;function UH(e,{repeat:t,repeatType:n="loop"},r){const s=e.filter(BH),l=t&&n!=="loop"&&t%2===1?0:s.length-1;return s[l]}const FH={type:"spring",stiffness:500,damping:25,restSpeed:10},VH=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),HH={type:"keyframes",duration:.8},qH={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},KH=(e,{keyframes:t})=>t.length>2?HH:ru.has(e)?e.startsWith("scale")?VH(t[1]):FH:qH;function GH({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:d,from:f,elapsed:m,...h}){return!!Object.keys(h).length}const Ij=(e,t,n,r={},s,l)=>c=>{const d=_j(r,e)||{},f=d.delay||r.delay||0;let{elapsed:m=0}=r;m=m-Ir(f);const h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...d,delay:-m,onUpdate:v=>{t.set(v),d.onUpdate&&d.onUpdate(v)},onComplete:()=>{c(),d.onComplete&&d.onComplete()},name:e,motionValue:t,element:l?void 0:s};GH(d)||Object.assign(h,KH(e,h)),h.duration&&(h.duration=Ir(h.duration)),h.repeatDelay&&(h.repeatDelay=Ir(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let x=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(I1(h),h.delay===0&&(x=!0)),(Qs.instantAnimations||Qs.skipAnimations)&&(x=!0,I1(h),h.delay=0),h.allowFlatten=!d.type&&!d.ease,x&&!l&&t.get()!==void 0){const v=UH(h.keyframes,d);if(v!==void 0){Yt.update(()=>{h.onUpdate(v),h.onComplete()});return}}return d.isSync?new jj(h):new bV(h)};function YH({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function zj(e,t,{delay:n=0,transitionOverride:r,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...d}=t;r&&(l=r);const f=[],m=s&&e.animationState&&e.animationState.getState()[s];for(const h in d){const x=e.getValue(h,e.latestValues[h]??null),v=d[h];if(v===void 0||m&&YH(m,h))continue;const y={delay:n,..._j(l||{},h)},w=x.get();if(w!==void 0&&!x.isAnimating&&!Array.isArray(v)&&v===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const k=PO(e);if(k){const _=window.MotionHandoffAnimation(k,h,Yt);_!==null&&(y.startTime=_,j=!0)}}H1(e,h),x.start(Ij(h,x,v,e.shouldReduceMotion&&YP.has(h)?{type:!1}:y,e,j));const S=x.animation;S&&f.push(S)}return c&&Promise.all(f).then(()=>{Yt.update(()=>{c&&IH(e,c)})}),f}function OO(e,t,n,r=0,s=1){const l=Array.from(e).sort((m,h)=>m.sortNodePosition(h)).indexOf(t),c=e.size,d=(c-1)*r;return typeof n=="function"?n(l,c):s===1?l*r:d-l*r}function q1(e,t,n={}){var f;const r=_c(e,t,n.type==="exit"?(f=e.presenceContext)==null?void 0:f.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(s=n.transitionOverride);const l=r?()=>Promise.all(zj(e,r,n)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(m=0)=>{const{delayChildren:h=0,staggerChildren:x,staggerDirection:v}=s;return WH(e,t,m,h,x,v,n)}:()=>Promise.resolve(),{when:d}=s;if(d){const[m,h]=d==="beforeChildren"?[l,c]:[c,l];return m().then(()=>h())}else return Promise.all([l(),c(n.delay)])}function WH(e,t,n=0,r=0,s=0,l=1,c){const d=[];for(const f of e.variantChildren)f.notify("AnimationStart",t),d.push(q1(f,t,{...c,delay:n+(typeof r=="function"?0:r)+OO(e.variantChildren,f,r,s,l)}).then(()=>f.notify("AnimationComplete",t)));return Promise.all(d)}function XH(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>q1(e,l,n));r=Promise.all(s)}else if(typeof t=="string")r=q1(e,t,n);else{const s=typeof t=="function"?_c(e,t,n.custom):t;r=Promise.all(zj(e,s,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}function MO(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}const ZH=Pj.length;function DO(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?DO(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<ZH;n++){const r=Pj[n],s=e.props[r];(cf(s)||s===!1)&&(t[r]=s)}return t}const QH=[...Ej].reverse(),JH=Ej.length;function eq(e){return t=>Promise.all(t.map(({animation:n,options:r})=>XH(e,n,r)))}function tq(e){let t=eq(e),n=S3(),r=!0;const s=f=>(m,h)=>{var v;const x=_c(e,h,f==="exit"?(v=e.presenceContext)==null?void 0:v.custom:void 0);if(x){const{transition:y,transitionEnd:w,...j}=x;m={...m,...j,...w}}return m};function l(f){t=f(e)}function c(f){const{props:m}=e,h=DO(e.parent)||{},x=[],v=new Set;let y={},w=1/0;for(let S=0;S<JH;S++){const k=QH[S],_=n[k],C=m[k]!==void 0?m[k]:h[k],P=cf(C),A=k===f?_.isActive:null;A===!1&&(w=S);let T=C===h[k]&&C!==m[k]&&P;if(T&&r&&e.manuallyAnimateOnMount&&(T=!1),_.protectedKeys={...y},!_.isActive&&A===null||!C&&!_.prevProp||Mp(C)||typeof C=="boolean")continue;const L=nq(_.prevProp,C);let M=L||k===f&&_.isActive&&!T&&P||S>w&&P,F=!1;const K=Array.isArray(C)?C:[C];let V=K.reduce(s(k),{});A===!1&&(V={});const{prevResolvedValues:$={}}=_,ee={...$,...V},je=Y=>{M=!0,v.has(Y)&&(F=!0,v.delete(Y)),_.needsAnimating[Y]=!0;const H=e.getValue(Y);H&&(H.liveStyle=!1)};for(const Y in ee){const H=V[Y],I=$[Y];if(y.hasOwnProperty(Y))continue;let E=!1;V1(H)&&V1(I)?E=!MO(H,I):E=H!==I,E?H!=null?je(Y):v.add(Y):H!==void 0&&v.has(Y)?je(Y):_.protectedKeys[Y]=!0}_.prevProp=C,_.prevResolvedValues=V,_.isActive&&(y={...y,...V}),r&&e.blockInitialAnimation&&(M=!1);const ne=T&&L;M&&(!ne||F)&&x.push(...K.map(Y=>{const H={type:k};if(typeof Y=="string"&&r&&!ne&&e.manuallyAnimateOnMount&&e.parent){const{parent:I}=e,E=_c(I,Y);if(I.enteringChildren&&E){const{delayChildren:R}=E.transition||{};H.delay=OO(I.enteringChildren,e,R)}}return{animation:Y,options:H}}))}if(v.size){const S={};if(typeof m.initial!="boolean"){const k=_c(e,Array.isArray(m.initial)?m.initial[0]:m.initial);k&&k.transition&&(S.transition=k.transition)}v.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),x.push({animation:S})}let j=!!x.length;return r&&(m.initial===!1||m.initial===m.animate)&&!e.manuallyAnimateOnMount&&(j=!1),r=!1,j?t(x):Promise.resolve()}function d(f,m){var x;if(n[f].isActive===m)return Promise.resolve();(x=e.variantChildren)==null||x.forEach(v=>{var y;return(y=v.animationState)==null?void 0:y.setActive(f,m)}),n[f].isActive=m;const h=c(f);for(const v in n)n[v].protectedKeys={};return h}return{animateChanges:c,setActive:d,setAnimateFunction:l,getState:()=>n,reset:()=>{n=S3(),r=!0}}}function nq(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!MO(t,e):!1}function Cl(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function S3(){return{animate:Cl(!0),whileInView:Cl(),whileHover:Cl(),whileTap:Cl(),whileDrag:Cl(),whileFocus:Cl(),exit:Cl()}}class rl{constructor(t){this.isMounted=!1,this.node=t}update(){}}class aq extends rl{constructor(t){super(t),t.animationState||(t.animationState=tq(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Mp(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let rq=0;class sq extends rl{constructor(){super(...arguments),this.id=rq++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);n&&!t&&s.then(()=>{n(this.id)})}mount(){const{register:t,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const iq={animation:{Feature:aq},exit:{Feature:sq}};function ff(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function Rf(e){return{point:{x:e.pageX,y:e.pageY}}}const lq=e=>t=>Aj(t)&&e(t,Rf(t));function Gd(e,t,n,r){return ff(e,t,lq(n),r)}const RO=1e-4,oq=1-RO,cq=1+RO,LO=.01,uq=0-LO,dq=0+LO;function fa(e){return e.max-e.min}function fq(e,t,n){return Math.abs(e-t)<=n}function _3(e,t,n,r=.5){e.origin=r,e.originPoint=Qt(t.min,t.max,e.origin),e.scale=fa(n)/fa(t),e.translate=Qt(n.min,n.max,e.origin)-e.originPoint,(e.scale>=oq&&e.scale<=cq||isNaN(e.scale))&&(e.scale=1),(e.translate>=uq&&e.translate<=dq||isNaN(e.translate))&&(e.translate=0)}function Yd(e,t,n,r){_3(e.x,t.x,n.x,r?r.originX:void 0),_3(e.y,t.y,n.y,r?r.originY:void 0)}function k3(e,t,n){e.min=n.min+t.min,e.max=e.min+fa(t)}function mq(e,t,n){k3(e.x,t.x,n.x),k3(e.y,t.y,n.y)}function C3(e,t,n){e.min=t.min-n.min,e.max=e.min+fa(t)}function Wd(e,t,n){C3(e.x,t.x,n.x),C3(e.y,t.y,n.y)}function mr(e){return[e("x"),e("y")]}const $O=({current:e})=>e?e.ownerDocument.defaultView:null,A3=(e,t)=>Math.abs(e-t);function hq(e,t){const n=A3(e.x,t.x),r=A3(e.y,t.y);return Math.sqrt(n**2+r**2)}class IO{constructor(t,n,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=Gv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=hq(v.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:j}=v,{timestamp:S}=Yn;this.history.push({...j,timestamp:S});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Kv(y,this.transformPagePoint),Yt.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Gv(v.type==="pointercancel"?this.lastMoveEventInfo:Kv(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(v,k),j&&j(v,k)},!Aj(t))return;this.dragSnapToOrigin=l,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const d=Rf(t),f=Kv(d,this.transformPagePoint),{point:m}=f,{timestamp:h}=Yn;this.history=[{...m,timestamp:h}];const{onSessionStart:x}=n;x&&x(t,Gv(f,this.history)),this.removeListeners=Of(Gd(this.contextWindow,"pointermove",this.handlePointerMove),Gd(this.contextWindow,"pointerup",this.handlePointerUp),Gd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Js(this.updatePoint)}}function Kv(e,t){return t?{point:t(e.point)}:e}function T3(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Gv({point:e},t){return{point:e,delta:T3(e,zO(t)),offset:T3(e,pq(t)),velocity:xq(t,.1)}}function pq(e){return e[0]}function zO(e){return e[e.length-1]}function xq(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const s=zO(e);for(;n>=0&&(r=e[n],!(s.timestamp-r.timestamp>Ir(t)));)n--;if(!r)return{x:0,y:0};const l=ls(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function gq(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?Qt(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?Qt(n,e,r.max):Math.min(e,n)),e}function E3(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function vq(e,{top:t,left:n,bottom:r,right:s}){return{x:E3(e.x,n,s),y:E3(e.y,t,r)}}function P3(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function bq(e,t){return{x:P3(e.x,t.x),y:P3(e.y,t.y)}}function yq(e,t){let n=.5;const r=fa(e),s=fa(t);return s>r?n=Rc(t.min,t.max-r,e.min):r>s&&(n=Rc(e.min,e.max-s,t.min)),Zs(0,1,n)}function wq(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const K1=.35;function jq(e=K1){return e===!1?e=0:e===!0&&(e=K1),{x:O3(e,"left","right"),y:O3(e,"top","bottom")}}function O3(e,t,n){return{min:M3(e,t),max:M3(e,n)}}function M3(e,t){return typeof e=="number"?e:e[t]||0}const Nq=new WeakMap;class Sq{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=un(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=x=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Rf(x).point)},c=(x,v)=>{const{drag:y,dragPropagation:w,onDragStart:j}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=LV(y),!this.openDragLock))return;this.latestPointerEvent=x,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),mr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(os.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[k];P&&(_=fa(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),j&&Yt.postRender(()=>j(x,v)),H1(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},d=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:j,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=v;if(w&&this.currentDirection===null){this.currentDirection=_q(k),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",v.point,k),this.updateAxis("y",v.point,k),this.visualElement.render(),S&&S(x,v)},f=(x,v)=>{this.latestPointerEvent=x,this.latestPanInfo=v,this.stop(x,v),this.latestPointerEvent=null,this.latestPanInfo=null},m=()=>mr(x=>{var v;return this.getAnimationState(x)==="paused"&&((v=this.getAxisMotionValue(x).animation)==null?void 0:v.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new IO(t,{onSessionStart:l,onStart:c,onMove:d,onSessionEnd:f,resumeAnimation:m},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:$O(this.visualElement)})}stop(t,n){const r=t||this.latestPointerEvent,s=n||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:d}=this.getProps();d&&Yt.postRender(()=>d(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:s}=this.getProps();if(!r||!ph(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=gq(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&xc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=vq(r.layoutBox,t):this.constraints=!1,this.elastic=jq(n),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&mr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=wq(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!xc(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=EH(r,s.root,this.visualElement.getTransformPagePoint());let c=bq(s.layout.layoutBox,l);if(n){const d=n(CH(c));this.hasMutatedConstraints=!!d,d&&(c=yO(d))}return c}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},m=mr(h=>{if(!ph(h,n,this.currentDirection))return;let x=f&&f[h]||{};c&&(x={min:0,max:0});const v=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:r?t[h]:0,bounceStiffness:v,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...x};return this.startAxisValueAnimation(h,w)});return Promise.all(m).then(d)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return H1(this.visualElement,t),r.start(Ij(t,r,0,n,this.visualElement,!1))}stopAnimation(){mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){mr(t=>{var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)==null?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[n];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){mr(n=>{const{drag:r}=this.getProps();if(!ph(n,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(n);if(s&&s.layout){const{min:c,max:d}=s.layout.layoutBox[n];l.set(t[n]-Qt(c,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!xc(n)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};mr(c=>{const d=this.getAxisMotionValue(c);if(d&&this.constraints!==!1){const f=d.get();s[c]=yq({min:f,max:f},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),mr(c=>{if(!ph(c,t,null))return;const d=this.getAxisMotionValue(c),{min:f,max:m}=this.constraints[c];d.set(Qt(f,m,s[c]))})}addListeners(){if(!this.visualElement.current)return;Nq.set(this.visualElement,this);const t=this.visualElement.current,n=Gd(t,"pointerdown",f=>{const{drag:m,dragListener:h=!0}=this.getProps();m&&h&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();xc(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),Yt.read(r);const c=ff(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m})=>{this.isDragging&&m&&(mr(h=>{const x=this.getAxisMotionValue(h);x&&(this.originPoint[h]+=f[h].translate,x.set(x.get()+f[h].translate))}),this.visualElement.render())});return()=>{c(),n(),l(),d&&d()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=K1,dragMomentum:d=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:d}}}function ph(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function _q(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class kq extends rl{constructor(t){super(t),this.removeGroupControls=gr,this.removeListeners=gr,this.controls=new Sq(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||gr}unmount(){this.removeGroupControls(),this.removeListeners()}}const D3=e=>(t,n)=>{e&&Yt.postRender(()=>e(t,n))};class Cq extends rl{constructor(){super(...arguments),this.removePointerDownListener=gr}onPointerDown(t){this.session=new IO(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$O(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:D3(t),onStart:D3(n),onMove:r,onEnd:(l,c)=>{delete this.session,s&&Yt.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Gd(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const g0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function R3(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const md={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(st.test(e))e=parseFloat(e);else return e;const n=R3(e,t.target.x),r=R3(e,t.target.y);return`${n}% ${r}%`}},Aq={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,s=Ji.parse(e);if(s.length>5)return r;const l=Ji.createTransformer(e),c=typeof s[0]!="number"?1:0,d=n.x.scale*t.x,f=n.y.scale*t.y;s[0+c]/=d,s[1+c]/=f;const m=Qt(d,f,.5);return typeof s[2+c]=="number"&&(s[2+c]/=m),typeof s[3+c]=="number"&&(s[3+c]/=m),l(s)}};let Yv=!1;class Tq extends g.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;tH(Eq),l&&(n.group&&n.group.add(l),r&&r.register&&s&&r.register(l),Yv&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),g0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:s,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Yv=!0,s||t.layoutDependency!==n||n===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||Yt.postRender(()=>{const d=c.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),Cj.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:s}=t;Yv=!0,s&&(s.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function BO(e){const[t,n]=iO(),r=g.useContext(sj);return a.jsx(Tq,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(vO),isPresent:t,safeToRemove:n})}const Eq={borderRadius:{...md,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:md,borderTopRightRadius:md,borderBottomLeftRadius:md,borderBottomRightRadius:md,boxShadow:Aq};function UO(e,t,n){const r=zn(e)?e:so(e);return r.start(Ij("",r,t,n)),r.animation}const Pq=(e,t)=>e.depth-t.depth;class Oq{constructor(){this.children=[],this.isDirty=!1}add(t){oj(this.children,t),this.isDirty=!0}remove(t){Ep(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Pq),this.isDirty=!1,this.children.forEach(t)}}function Mq(e,t){const n=Sa.now(),r=({timestamp:s})=>{const l=s-n;l>=t&&(Js(r),e(l-t))};return Yt.setup(r,!0),()=>Js(r)}const FO=["TopLeft","TopRight","BottomLeft","BottomRight"],Dq=FO.length,L3=e=>typeof e=="string"?parseFloat(e):e,$3=e=>typeof e=="number"||st.test(e);function Rq(e,t,n,r,s,l){s?(e.opacity=Qt(0,n.opacity??1,Lq(r)),e.opacityExit=Qt(t.opacity??1,0,$q(r))):l&&(e.opacity=Qt(t.opacity??1,n.opacity??1,r));for(let c=0;c<Dq;c++){const d=`border${FO[c]}Radius`;let f=I3(t,d),m=I3(n,d);if(f===void 0&&m===void 0)continue;f||(f=0),m||(m=0),f===0||m===0||$3(f)===$3(m)?(e[d]=Math.max(Qt(L3(f),L3(m),r),0),(os.test(m)||os.test(f))&&(e[d]+="%")):e[d]=m}(t.rotate||n.rotate)&&(e.rotate=Qt(t.rotate||0,n.rotate||0,r))}function I3(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const Lq=VO(0,.5,yP),$q=VO(.5,.95,gr);function VO(e,t,n){return r=>r<e?0:r>t?1:n(Rc(e,t,r))}function z3(e,t){e.min=t.min,e.max=t.max}function or(e,t){z3(e.x,t.x),z3(e.y,t.y)}function B3(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function U3(e,t,n,r,s){return e-=t,e=P0(e,1/n,r),s!==void 0&&(e=P0(e,1/s,r)),e}function Iq(e,t=0,n=1,r=.5,s,l=e,c=e){if(os.test(t)&&(t=parseFloat(t),t=Qt(c.min,c.max,t/100)-c.min),typeof t!="number")return;let d=Qt(l.min,l.max,r);e===l&&(d-=t),e.min=U3(e.min,t,n,d,s),e.max=U3(e.max,t,n,d,s)}function F3(e,t,[n,r,s],l,c){Iq(e,t[n],t[r],t[s],t.scale,l,c)}const zq=["x","scaleX","originX"],Bq=["y","scaleY","originY"];function V3(e,t,n,r){F3(e.x,t,zq,n?n.x:void 0,r?r.x:void 0),F3(e.y,t,Bq,n?n.y:void 0,r?r.y:void 0)}function H3(e){return e.translate===0&&e.scale===1}function HO(e){return H3(e.x)&&H3(e.y)}function q3(e,t){return e.min===t.min&&e.max===t.max}function Uq(e,t){return q3(e.x,t.x)&&q3(e.y,t.y)}function K3(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function qO(e,t){return K3(e.x,t.x)&&K3(e.y,t.y)}function G3(e){return fa(e.x)/fa(e.y)}function Y3(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class Fq{constructor(){this.members=[]}add(t){oj(this.members,t),t.scheduleRender()}remove(t){if(Ep(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(s=>t===s);if(n===0)return!1;let r;for(let s=n;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Vq(e,t,n){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(n==null?void 0:n.z)||0;if((s||l||c)&&(r=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:m,rotate:h,rotateX:x,rotateY:v,skewX:y,skewY:w}=n;m&&(r=`perspective(${m}px) ${r}`),h&&(r+=`rotate(${h}deg) `),x&&(r+=`rotateX(${x}deg) `),v&&(r+=`rotateY(${v}deg) `),y&&(r+=`skewX(${y}deg) `),w&&(r+=`skewY(${w}deg) `)}const d=e.x.scale*t.x,f=e.y.scale*t.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Wv=["","X","Y","Z"],Hq=1e3;let qq=0;function Xv(e,t,n,r){const{latestValues:s}=t;s[e]&&(n[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function KO(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=PO(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",Yt,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&KO(r)}function GO({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},d=t==null?void 0:t()){this.id=qq++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yq),this.nodes.forEach(Qq),this.nodes.forEach(Jq),this.nodes.forEach(Wq)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new Oq)}addEventListener(c,d){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new dj),this.eventHandlers.get(c).add(d)}notifyListeners(c,...d){const f=this.eventHandlers.get(c);f&&f.notify(...d)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=Tj(c)&&!sO(c),this.instance=c;const{layoutId:d,layout:f,visualElement:m}=this.options;if(m&&!m.current&&m.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(f||d)&&(this.isLayoutDirty=!0),e){let h,x=0;const v=()=>this.root.updateBlockedByResize=!1;Yt.read(()=>{x=window.innerWidth}),e(c,()=>{const y=window.innerWidth;y!==x&&(x=y,this.root.updateBlockedByResize=!0,h&&h(),h=Mq(v,250),g0.hasAnimatedSinceResize&&(g0.hasAnimatedSinceResize=!1,this.nodes.forEach(Z3)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||f)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:x,hasRelativeLayoutChanged:v,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||m.getDefaultTransition()||rK,{onLayoutAnimationStart:j,onLayoutAnimationComplete:S}=m.getProps(),k=!this.targetLayout||!qO(this.targetLayout,y),_=!x&&v;if(this.options.layoutRoot||this.resumeFrom||_||x&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={..._j(w,"layout"),onPlay:j,onComplete:S};(m.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,_)}else x||Z3(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Js(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(eK),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&KO(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const x=this.path[h];x.shouldResetTransform=!0,x.updateScroll("snapshot"),x.options.layoutRoot&&x.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const m=this.getTransformTemplate();this.prevTransformTemplateValue=m?m(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(W3);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(X3);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Zq),this.nodes.forEach(Kq),this.nodes.forEach(Gq)):this.nodes.forEach(X3),this.clearAllSnapshots();const d=Sa.now();Yn.delta=Zs(0,1e3/60,d-Yn.timestamp),Yn.timestamp=d,Yn.isProcessing=!0,Iv.update.process(Yn),Iv.preRender.process(Yn),Iv.render.process(Yn),Yn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Cj.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Xq),this.sharedNodes.forEach(tK)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Yt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Yt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!fa(this.snapshot.measuredBox.x)&&!fa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=un(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(d=!1),d&&this.instance){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:f,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!HO(this.projectionDelta),f=this.getTransformTemplate(),m=f?f(this.latestValues,""):void 0,h=m!==this.prevTransformTemplateValue;c&&this.instance&&(d||Ll(this.latestValues)||h)&&(s(this.instance,m),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return c&&(f=this.removeTransform(f)),sK(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var m;const{visualElement:c}=this.options;if(!c)return un();const d=c.measureViewportBox();if(!(((m=this.scroll)==null?void 0:m.wasRoot)||this.path.some(iK))){const{scroll:h}=this.root;h&&(gc(d.x,h.offset.x),gc(d.y,h.offset.y))}return d}removeElementScroll(c){var f;const d=un();if(or(d,c),(f=this.scroll)!=null&&f.wasRoot)return d;for(let m=0;m<this.path.length;m++){const h=this.path[m],{scroll:x,options:v}=h;h!==this.root&&x&&v.layoutScroll&&(x.wasRoot&&or(d,c),gc(d.x,x.offset.x),gc(d.y,x.offset.y))}return d}applyTransform(c,d=!1){const f=un();or(f,c);for(let m=0;m<this.path.length;m++){const h=this.path[m];!d&&h.options.layoutScroll&&h.scroll&&h!==h.root&&vc(f,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ll(h.latestValues)&&vc(f,h.latestValues)}return Ll(this.latestValues)&&vc(f,this.latestValues),f}removeTransform(c){const d=un();or(d,c);for(let f=0;f<this.path.length;f++){const m=this.path[f];if(!m.instance||!Ll(m.latestValues))continue;B1(m.latestValues)&&m.updateSnapshot();const h=un(),x=m.measurePageBox();or(h,x),V3(d,m.latestValues,m.snapshot?m.snapshot.layoutBox:void 0,h)}return Ll(this.latestValues)&&V3(d,this.latestValues),d}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Yn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var v;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const f=!!this.resumingFrom||this!==d;if(!(c||f&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:x}=this.options;if(!(!this.layout||!(h||x))){if(this.resolvedRelativeTargetAt=Yn.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Wd(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=un(),this.targetWithTransforms=un()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),mq(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):or(this.target,this.layout.layoutBox),jO(this.target,this.targetDelta)):or(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=un(),this.relativeTargetOrigin=un(),Wd(this.relativeTargetOrigin,this.target,y.target),or(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||B1(this.parent.latestValues)||wO(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let f=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(f=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(f=!1),this.resolvedRelativeTargetAt===Yn.timestamp&&(f=!1),f)return;const{layout:m,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||h))return;or(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,v=this.treeScale.y;TH(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=un());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(B3(this.prevProjectionDelta.x,this.projectionDelta.x),B3(this.prevProjectionDelta.y,this.projectionDelta.y)),Yd(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==v||!Y3(this.projectionDelta.x,this.prevProjectionDelta.x)||!Y3(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var d;if((d=this.options.visualElement)==null||d.scheduleRender(),c){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=bc(),this.projectionDelta=bc(),this.projectionDeltaWithTransform=bc()}setAnimationOrigin(c,d=!1){const f=this.snapshot,m=f?f.latestValues:{},h={...this.latestValues},x=bc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const v=un(),y=f?f.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,S=this.getStack(),k=!S||S.members.length<=1,_=!!(j&&!k&&this.options.crossfade===!0&&!this.path.some(aK));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const A=P/1e3;Q3(x.x,c.x,A),Q3(x.y,c.y,A),this.setTargetDelta(x),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Wd(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),nK(this.relativeTarget,this.relativeTargetOrigin,v,A),C&&Uq(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=un()),or(C,this.relativeTarget)),j&&(this.animationValues=h,Rq(h,m,this.latestValues,A,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var d,f,m;this.notifyListeners("animationStart"),(d=this.currentAnimation)==null||d.stop(),(m=(f=this.resumingFrom)==null?void 0:f.currentAnimation)==null||m.stop(),this.pendingAnimation&&(Js(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Yt.update(()=>{g0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=so(0)),this.currentAnimation=UO(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Hq),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:d,target:f,layout:m,latestValues:h}=c;if(!(!d||!f||!m)){if(this!==c&&this.layout&&m&&YO(this.options.animationType,this.layout.layoutBox,m.layoutBox)){f=this.target||un();const x=fa(this.layout.layoutBox.x);f.x.min=c.target.x.min,f.x.max=f.x.min+x;const v=fa(this.layout.layoutBox.y);f.y.min=c.target.y.min,f.y.max=f.y.min+v}or(d,f),vc(d,h),Yd(this.projectionDeltaWithTransform,this.layoutCorrected,d,h)}}registerSharedNode(c,d){this.sharedNodes.has(c)||this.sharedNodes.set(c,new Fq),this.sharedNodes.get(c).add(d);const m=d.options.initialPromotionConfig;d.promote({transition:m?m.transition:void 0,preserveFollowOpacity:m&&m.shouldPreserveFollowOpacity?m.shouldPreserveFollowOpacity(d):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var d;const{layoutId:c}=this.options;return c?((d=this.getStack())==null?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:c}=this.options;return c?(d=this.getStack())==null?void 0:d.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:d,preserveFollowOpacity:f}={}){const m=this.getStack();m&&m.promote(this,f),c&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let d=!1;const{latestValues:f}=c;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const m={};f.z&&Xv("z",c,m,this.animationValues);for(let h=0;h<Wv.length;h++)Xv(`rotate${Wv[h]}`,c,m,this.animationValues),Xv(`skew${Wv[h]}`,c,m,this.animationValues);c.render();for(const h in m)c.setStaticValue(h,m[h]),this.animationValues&&(this.animationValues[h]=m[h]);c.scheduleRender()}applyProjectionStyles(c,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const f=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=x0(d==null?void 0:d.pointerEvents)||"",c.transform=f?f(this.latestValues,""):"none";return}const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=x0(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Ll(this.latestValues)&&(c.transform=f?f({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=m.animationValues||m.latestValues;this.applyTransformsToTarget();let x=Vq(this.projectionDeltaWithTransform,this.treeScale,h);f&&(x=f(h,x)),c.transform=x;const{x:v,y}=this.projectionDelta;c.transformOrigin=`${v.origin*100}% ${y.origin*100}% 0`,m.animationValues?c.opacity=m===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=m===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in uf){if(h[w]===void 0)continue;const{correct:j,applyTo:S,isCSSVariable:k}=uf[w],_=x==="none"?h[w]:j(h[w],m);if(S){const C=S.length;for(let P=0;P<C;P++)c[S[P]]=_}else k?this.options.visualElement.renderState.vars[w]=_:c[w]=_}this.options.layoutId&&(c.pointerEvents=m===this?x0(d==null?void 0:d.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var d;return(d=c.currentAnimation)==null?void 0:d.stop()}),this.root.nodes.forEach(W3),this.root.sharedNodes.clear()}}}function Kq(e){e.updateLayout()}function Gq(e){var n;const t=((n=e.resumeFrom)==null?void 0:n.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?mr(x=>{const v=c?t.measuredBox[x]:t.layoutBox[x],y=fa(v);v.min=r[x].min,v.max=v.min+y}):YO(l,t.layoutBox,r)&&mr(x=>{const v=c?t.measuredBox[x]:t.layoutBox[x],y=fa(r[x]);v.max=v.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[x].max=e.relativeTarget[x].min+y)});const d=bc();Yd(d,r,t.layoutBox);const f=bc();c?Yd(f,e.applyTransform(s,!0),t.measuredBox):Yd(f,r,t.layoutBox);const m=!HO(d);let h=!1;if(!e.resumeFrom){const x=e.getClosestProjectingParent();if(x&&!x.resumeFrom){const{snapshot:v,layout:y}=x;if(v&&y){const w=un();Wd(w,t.layoutBox,v.layoutBox);const j=un();Wd(j,r,y.layoutBox),qO(w,j)||(h=!0),x.options.layoutRoot&&(e.relativeTarget=j,e.relativeTargetOrigin=w,e.relativeParent=x)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function Yq(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function Wq(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function Xq(e){e.clearSnapshot()}function W3(e){e.clearMeasurements()}function X3(e){e.isLayoutDirty=!1}function Zq(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function Z3(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function Qq(e){e.resolveTargetDelta()}function Jq(e){e.calcProjection()}function eK(e){e.resetSkewAndRotation()}function tK(e){e.removeLeadSnapshot()}function Q3(e,t,n){e.translate=Qt(t.translate,0,n),e.scale=Qt(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function J3(e,t,n,r){e.min=Qt(t.min,n.min,r),e.max=Qt(t.max,n.max,r)}function nK(e,t,n,r){J3(e.x,t.x,n.x,r),J3(e.y,t.y,n.y,r)}function aK(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const rK={duration:.45,ease:[.4,0,.1,1]},ek=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),tk=ek("applewebkit/")&&!ek("chrome/")?Math.round:gr;function nk(e){e.min=tk(e.min),e.max=tk(e.max)}function sK(e){nk(e.x),nk(e.y)}function YO(e,t,n){return e==="position"||e==="preserve-aspect"&&!fq(G3(t),G3(n),.2)}function iK(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const lK=GO({attachResizeListener:(e,t)=>ff(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Zv={current:void 0},WO=GO({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Zv.current){const e=new lK({});e.mount(window),e.setOptions({layoutScroll:!0}),Zv.current=e}return Zv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),oK={pan:{Feature:Cq},drag:{Feature:kq,ProjectionNode:WO,MeasureLayout:BO}};function ak(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n==="Start");const s="onHover"+n,l=r[s];l&&Yt.postRender(()=>l(t,Rf(t)))}class cK extends rl{mount(){const{current:t}=this.node;t&&(this.unmount=$V(t,(n,r)=>(ak(this.node,r,"Start"),s=>ak(this.node,s,"End"))))}unmount(){}}class uK extends rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Of(ff(this.node.current,"focus",()=>this.onFocus()),ff(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function rk(e,t,n){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",n==="Start");const s="onTap"+(n==="End"?"":n),l=r[s];l&&Yt.postRender(()=>l(t,Rf(t)))}class dK extends rl{mount(){const{current:t}=this.node;t&&(this.unmount=UV(t,(n,r)=>(rk(this.node,r,"Start"),(s,{success:l})=>rk(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const G1=new WeakMap,Qv=new WeakMap,fK=e=>{const t=G1.get(e.target);t&&t(e)},mK=e=>{e.forEach(fK)};function hK({root:e,...t}){const n=e||document;Qv.has(n)||Qv.set(n,{});const r=Qv.get(n),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(mK,{root:e,...t})),r[s]}function pK(e,t,n){const r=hK(t);return G1.set(e,n),r.observe(e),()=>{G1.delete(e),r.unobserve(e)}}const xK={some:0,all:1};class gK extends rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:s="some",once:l}=t,c={root:n?n.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:xK[s]},d=f=>{const{isIntersecting:m}=f;if(this.isInView===m||(this.isInView=m,l&&!m&&this.hasEnteredView))return;m&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",m);const{onViewportEnter:h,onViewportLeave:x}=this.node.getProps(),v=m?h:x;v&&v(f)};return pK(this.node.current,c,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(vK(t,n))&&this.startObserver()}unmount(){}}function vK({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const bK={inView:{Feature:gK},tap:{Feature:dK},focus:{Feature:uK},hover:{Feature:cK}},yK={layout:{ProjectionNode:WO,MeasureLayout:BO}},wK={...iq,...bK,...oK,...yK},he=kH(wK,RH);function $c(e){const t=Pf(()=>so(e)),{isStatic:n}=g.useContext(Pp);if(n){const[,r]=g.useState(e);g.useEffect(()=>t.on("change",r),[])}return t}function XO(e,t){const n=$c(t()),r=()=>n.set(t());return r(),lj(()=>{const s=()=>Yt.preRender(r,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),Js(r)}}),n}function jK(e){Kd.current=[],e();const t=XO(Kd.current,e);return Kd.current=void 0,t}function O0(e,t,n,r){if(typeof e=="function")return jK(e);const s=typeof t=="function"?t:FV(t,n,r);return Array.isArray(e)?sk(e,s):sk([e],([l])=>s(l))}function sk(e,t){const n=Pf(()=>[]);return XO(e,()=>{n.length=0;const r=e.length;for(let s=0;s<r;s++)n[s]=e[s].get();return t(n)})}function Bj(e){return typeof e=="object"&&!Array.isArray(e)}function ZO(e,t,n,r){return typeof e=="string"&&Bj(t)?JP(e,n,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function NK(e,t,n){return e*(t+1)}function ik(e,t,n,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?n:t.startsWith("<")?Math.max(0,n+parseFloat(t.slice(1))):r.get(t)??e}function SK(e,t,n){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<n&&(Ep(e,s),r--)}}function _K(e,t,n,r,s,l){SK(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:Qt(s,l,r[c]),easing:SP(n,c)})}function kK(e,t){for(let n=0;n<e.length;n++)e[n]=e[n]/(t+1)}function CK(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const AK="easeInOut";function TK(e,{defaultTransition:t={},...n}={},r,s){const l=t.duration||.3,c=new Map,d=new Map,f={},m=new Map;let h=0,x=0,v=0;for(let y=0;y<e.length;y++){const w=e[y];if(typeof w=="string"){m.set(w,x);continue}else if(!Array.isArray(w)){m.set(w.name,ik(x,w.at,h,m));continue}let[j,S,k={}]=w;k.at!==void 0&&(x=ik(x,k.at,h,m));let _=0;const C=(P,A,T,L=0,M=0)=>{const F=EK(P),{delay:K=0,times:V=BP(F),type:$="keyframes",repeat:ee,repeatType:je,repeatDelay:ne=0,...D}=A;let{ease:Y=t.ease||"easeOut",duration:H}=A;const I=typeof K=="function"?K(L,M):K,E=F.length,R=Sj($)?$:s==null?void 0:s[$||"keyframes"];if(E<=2&&R){let Q=100;if(E===2&&MK(F)){const re=F[1]-F[0];Q=Math.abs(re)}const Z={...D};H!==void 0&&(Z.duration=Ir(H));const Ne=LP(Z,Q,R);Y=Ne.ease,H=Ne.duration}H??(H=l);const z=x+I;V.length===1&&V[0]===0&&(V[1]=1);const W=V.length-F.length;if(W>0&&zP(V,W),F.length===1&&F.unshift(null),ee){H=NK(H,ee);const Q=[...F],Z=[...V];Y=Array.isArray(Y)?[...Y]:[Y];const Ne=[...Y];for(let re=0;re<ee;re++){F.push(...Q);for(let we=0;we<Q.length;we++)V.push(Z[we]+(re+1)),Y.push(we===0?"linear":SP(Ne,we-1))}kK(V,ee)}const ce=z+H;_K(T,F,Y,V,z,ce),_=Math.max(I+H,_),v=Math.max(ce,v)};if(zn(j)){const P=lk(j,d);C(S,k,ok("default",P))}else{const P=ZO(j,S,r,f),A=P.length;for(let T=0;T<A;T++){S=S,k=k;const L=P[T],M=lk(L,d);for(const F in S)C(S[F],PK(k,F),ok(F,M),T,A)}}h=x,x+=_}return d.forEach((y,w)=>{for(const j in y){const S=y[j];S.sort(CK);const k=[],_=[],C=[];for(let A=0;A<S.length;A++){const{at:T,value:L,easing:M}=S[A];k.push(L),_.push(Rc(0,v,T)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(AK)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(w)||c.set(w,{keyframes:{},transition:{}});const P=c.get(w);P.keyframes[j]=k,P.transition[j]={...t,duration:v,ease:C,times:_,...n}}}),c}function lk(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function ok(e,t){return t[e]||(t[e]=[]),t[e]}function EK(e){return Array.isArray(e)?e:[e]}function PK(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const OK=e=>typeof e=="number",MK=e=>e.every(OK);function DK(e,t){return e in t}class RK extends _O{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,n){if(DK(n,t)){const r=t[n];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,n){delete n.output[t]}measureInstanceViewportBox(){return un()}build(t,n){Object.assign(t.output,n)}renderInstance(t,{output:n}){Object.assign(t,n)}sortInstanceNodePosition(){return 0}}function LK(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},n=Tj(e)&&!sO(e)?new EO(t):new AO(t);n.mount(e),df.set(e,n)}function $K(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},n=new RK(t);n.mount(e),df.set(e,n)}function IK(e,t){return zn(e)||typeof e=="number"||typeof e=="string"&&!Bj(t)}function QO(e,t,n,r){const s=[];if(IK(e,t))s.push(UO(e,Bj(t)&&t.default||t,n&&(n.default||n)));else{const l=ZO(e,t,r),c=l.length;for(let d=0;d<c;d++){const f=l[d],m=f instanceof Element?LK:$K;df.has(f)||m(f);const h=df.get(f),x={...n};"delay"in x&&typeof x.delay=="function"&&(x.delay=x.delay(d,c)),s.push(...zj(h,{...t,transition:x},{}))}}return s}function zK(e,t,n){const r=[];return TK(e,t,n,{spring:of}).forEach(({keyframes:l,transition:c},d)=>{r.push(...QO(d,l,c))}),r}function BK(e){return Array.isArray(e)&&e.some(Array.isArray)}function UK(e){function t(n,r,s){let l=[];return BK(n)?l=zK(n,r,e):l=QO(n,r,s,e),new wV(l)}return t}const FK=UK(),VK="http://localhost:8000";function HK({isOpen:e,onSuccess:t}){const[n,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(!1),[f,m]=g.useState(!1),[h,x]=g.useState(!0),[v,y]=g.useState(!1);if(!e)return null;const w=async j=>{if(j.preventDefault(),!n.trim()||!s.trim()){U.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){U.error("You must be logged in."),window.location.href="/login";return}y(!0);try{const k=await fetch(`${VK}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:n.trim(),auth_token:s.trim(),validate:h})}),_=await k.json().catch(()=>({}));if(k.ok)U.success("Twilio credentials saved "),t==null||t();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");U.error(C)}}catch{U.error("Network error. Please try again.")}finally{y(!1)}};return a.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),a.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:a.jsx(Mc,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),a.jsxs("form",{onSubmit:w,className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c?"text":"password",autoComplete:"off",value:n,onChange:j=>r(j.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),a.jsx("button",{type:"button",onClick:()=>d(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?a.jsx(Oc,{className:"h-5 w-5"}):a.jsx(An,{className:"h-5 w-5"})})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:f?"text":"password",autoComplete:"off",value:s,onChange:j=>l(j.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),a.jsx("button",{type:"button",onClick:()=>m(j=>!j),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":f?"Hide Token":"Show Token",children:f?a.jsx(Oc,{className:"h-5 w-5"}):a.jsx(An,{className:"h-5 w-5"})})]})]}),a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:h,onChange:j=>x(j.target.checked)}),a.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),a.jsx("button",{type:"submit",disabled:v,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:v?a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):a.jsxs(a.Fragment,{children:["Save & Continue",a.jsx(hc,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),a.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const ck="http://localhost:8000";function qK(){const[e,t]=g.useState(["","","",""]),[n,r]=g.useState(""),[s,l]=g.useState(!1),[c,d]=g.useState(0),[f,m]=g.useState(!1),h=[g.useRef(null),g.useRef(null),g.useRef(null),g.useRef(null)],x=Xt();g.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&r(decodeURIComponent(C)),setTimeout(()=>{var P;return(P=h[0].current)==null?void 0:P.focus()},50)},[]),g.useEffect(()=>{if(c>0){const _=setTimeout(()=>d(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const v=(_,C)=>{var T;const P=C.replace(/\D/g,"");if(P.length>1)return;const A=[...e];A[_]=P,t(A),P&&_<3&&((T=h[_+1].current)==null||T.focus()),A.every(L=>L!=="")&&A.join("").length===4&&j(A.join(""))},y=(_,C)=>{var P,A,T;C.key==="Backspace"&&!e[_]&&_>0&&((P=h[_-1].current)==null||P.focus()),C.key==="Enter"&&j(e.join("")),C.key==="ArrowLeft"&&_>0&&((A=h[_-1].current)==null||A.focus()),C.key==="ArrowRight"&&_<3&&((T=h[_+1].current)==null||T.focus())},w=_=>{var T,L;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const P=["","","",""];for(let M=0;M<C.length;M++)P[M]=C[M];t(P);const A=P.findIndex(M=>M==="");A!==-1?(T=h[A].current)==null||T.focus():(L=h[3].current)==null||L.focus(),P.every(M=>M!=="")&&j(P.join(""))},j=async(_=null)=>{var P,A,T;const C=_||e.join("");if(C.length!==4){U.error("Please enter all 4 digits");return}if(!n){U.error("Email is required for verification");return}l(!0);try{const L=await fetch(`${ck}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:n})}),M=await L.json().catch(()=>({}));L.ok?(M.token&&localStorage.setItem("token",M.token),(P=M.user)!=null&&P.role&&localStorage.setItem("role",M.user.role),U.success("Account verified successfully! "),m(!0)):(U.error("Invalid OTP. Please try again."),t(["","","",""]),(A=h[0].current)==null||A.focus())}catch{U.error("Network error. Please check your connection and try again."),t(["","","",""]),(T=h[0].current)==null||T.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!n)){l(!0);try{(await fetch(`${ck}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})})).ok?(U.success("New verification code sent to your email."),d(60),t(["","","",""]),(_=h[0].current)==null||_.focus()):U.error("Failed to resend code. Please try again.")}catch{U.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return a.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[a.jsx(he.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(he.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),a.jsx(he.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),a.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsxs(he.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[a.jsx(he.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),a.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),a.jsx(vr,{className:"relative w-7 h-7 text-blue-600"})]})}),a.jsx(he.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),a.jsxs(he.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",a.jsx("br",{}),a.jsx("span",{className:"font-medium text-blue-600",children:n||"your email"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsx(he.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:a.jsxs("form",{onSubmit:_=>{_.preventDefault(),j()},children:[a.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),a.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>a.jsx(he.input,{ref:h[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:P=>P.target.select(),onChange:P=>v(C,P.target.value),onKeyDown:P=>y(C,P),onPaste:w,"aria-label":`OTP digit ${C+1}`,disabled:s,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),a.jsxs(he.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[a.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:a.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),s?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):a.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",a.jsx(Cp,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),a.jsxs("div",{className:"mt-5 text-center",children:[a.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),a.jsxs("button",{type:"button",onClick:S,disabled:c>0||s||!n,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[a.jsx(We,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),a.jsx(HK,{isOpen:f,onSuccess:()=>{m(!1),setTimeout(()=>x("/profile"),300)}})]})}function KK(){const[e,t]=g.useState({email:"",password:""}),[n,r]=g.useState(!1),[s,l]=g.useState({}),[c,d]=g.useState(!1),f=Xt(),m="http://localhost:8000",h=y=>{const{name:w,value:j}=y.target;t(S=>({...S,[w]:j})),s[w]&&l(S=>({...S,[w]:""}))},x=()=>{const y={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Please enter a valid email address"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",l(y),Object.keys(y).length===0},v=async y=>{var w,j,S;if(y.preventDefault(),!!x()){d(!0),l({});try{const k=await fetch(`${m}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(w=_.user)!=null&&w.role&&localStorage.setItem("role",_.user.role),(j=_.user)!=null&&j.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),U.success("Login successful! "),setTimeout(()=>{var P,A,T;const C=((T=(A=(P=_.user)==null?void 0:P.role)==null?void 0:A.toLowerCase)==null?void 0:T.call(A))||"";f(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";U.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";U.error(k),l({submit:k})}finally{d(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(Sc,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",a.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&a.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[a.jsx($r,{className:"h-5 w-5 text-red-600 mr-3"}),a.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),a.jsxs("form",{className:"space-y-6",onSubmit:v,children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(vr,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&a.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a.jsx(N1,{className:"h-5 w-5 text-green-500"})})]}),s.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),s.email]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx(Ap,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),a.jsx("input",{id:"password",name:"password",type:n?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),a.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!n),children:n?a.jsx(Oc,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):a.jsx(An,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),a.jsx("div",{className:"mt-2 flex justify-end",children:a.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),s.password]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):a.jsxs("div",{className:"flex items-center",children:["Sign in",a.jsx(Cp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]})]})})]})}function GK({length:e=4,value:t,onChange:n}){const r=g.useRef([]),s=f=>{const m=r.current[f];m&&m.focus()},l=(f,m)=>{const h=m.replace(/\D/g,"").slice(0,1),x=(t||"").split("");x[f]=h;const v=x.join("");n(v),h&&f<e-1&&s(f+1)},c=(f,m)=>{const h=(t||"")[f]||"";if(m.key==="Backspace"){if(!h&&f>0){m.preventDefault();const x=(t||"").split("");x[f-1]="",n(x.join("")),s(f-1)}}else m.key==="ArrowLeft"&&f>0?(m.preventDefault(),s(f-1)):m.key==="ArrowRight"&&f<e-1&&(m.preventDefault(),s(f+1))},d=f=>{f.preventDefault();const m=(f.clipboardData.getData("text")||"").replace(/\D/g,"");if(!m)return;const h=(t||"").split("");for(let v=0;v<e;v++)h[v]=m[v]||"";n(h.join(""));const x=Math.min(m.length,e)-1;s(x>=0?x:0)};return a.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((f,m)=>{const h=(t||"")[m]||"";return a.jsx("input",{ref:x=>r.current[m]=x,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:x=>l(m,x.target.value),onKeyDown:x=>c(m,x),onPaste:m===0?d:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${m+1}`},m)})})}function YK(){const[e,t]=g.useState(1),[n,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(!1),[h,x]=g.useState({}),[v,y]=g.useState(!1),w=Xt(),j="http://localhost:8000",S=()=>{const P={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(P.email="Please enter a valid email address"):P.email="Email is required",x(P),Object.keys(P).length===0},k=()=>{const P={};return(!s||s.length!==4)&&(P.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(P.password="Password must be at least 6 characters"):P.password="Password is required",x(P),Object.keys(P).length===0},_=async P=>{if(P.preventDefault(),!!S()){y(!0);try{const A=await fetch(`${j}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n})}),T=await A.json();A.ok?(U.success("Password reset OTP sent to your email! "),t(2)):U.error(T.detail||"Something went wrong.")}catch{U.error("Network error. Please try again.")}finally{y(!1)}}},C=async P=>{if(P.preventDefault(),!!k()){y(!0);try{const A=await fetch(`${j}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,code:s,password:c})}),T=await A.json();A.ok?(U.success("Password changed successfully! "),w("/user")):U.error(T.detail||"Failed to reset password.")}catch{U.error("Network error. Please try again.")}finally{y(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:a.jsx(BB,{className:"w-8 h-8 text-white"})})}),a.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&a.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",a.jsx("span",{className:"font-medium",children:n})]})]}),a.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:a.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&a.jsxs("form",{className:"space-y-6",onSubmit:_,children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),a.jsxs("div",{className:"relative",children:[a.jsx(vr,{className:`h-5 w-5 absolute left-3 top-3 ${n?"text-blue-500":"text-gray-400"}`}),a.jsx("input",{type:"email",value:n,onChange:P=>r(P.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),h.email]})]}),a.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:v?a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):a.jsxs("div",{className:"flex items-center",children:["Send OTP",a.jsx(Cp,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&a.jsxs("form",{className:"space-y-6",onSubmit:C,children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-baseline justify-between",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),a.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),a.jsx(GK,{length:4,value:s,onChange:l}),h.code&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),h.code]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ap,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:f?"text":"password",value:c,onChange:P=>d(P.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>m(P=>!P),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":f?"Hide password":"Show password",children:f?a.jsx(Oc,{className:"h-5 w-5"}):a.jsx(An,{className:"h-5 w-5"})})]}),h.password&&a.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[a.jsx($r,{className:"h-4 w-4 mr-1"}),h.password]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),a.jsx("button",{type:"submit",disabled:v||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:v?"Resetting":"Reset Password"}),a.jsx("div",{className:"text-center",children:a.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[a.jsx(eP,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),a.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:a.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",a.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var Y1=function(e,t){return Y1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])},Y1(e,t)};function WK(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Y1(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var $n=function(){return $n=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(t[l]=n[l])}return t},$n.apply(this,arguments)};var Jv,uk;function XK(){if(uk)return Jv;uk=1;var e=!1,t,n,r,s,l,c,d,f,m,h,x,v,y,w,j;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),P=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(v=/\b(iPhone|iP[ao]d)/.exec(_),y=/\b(iP[ao]d)/.exec(_),h=/Android/i.exec(_),w=/FBAN\/\w+;/i.exec(_),j=/Mobile/i.exec(_),x=!!/Win64/.exec(_),C){t=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var A=/(?:Trident\/(\d+.\d+))/.exec(_);c=A?parseFloat(A[1])+4:t,n=C[2]?parseFloat(C[2]):NaN,r=C[3]?parseFloat(C[3]):NaN,s=C[4]?parseFloat(C[4]):NaN,s?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else t=n=r=l=s=NaN;if(P){if(P[1]){var T=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);d=T?parseFloat(T[1].replace("_",".")):!0}else d=!1;f=!!P[2],m=!!P[3]}else d=f=m=!1}}var k={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return k.ie()&&x},firefox:function(){return S()||n},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||f},osx:function(){return S()||d},linux:function(){return S()||m},iphone:function(){return S()||v},mobile:function(){return S()||v||y||h||j},nativeApp:function(){return S()||w},android:function(){return S()||h},ipad:function(){return S()||y}};return Jv=k,Jv}var eb,dk;function ZK(){if(dk)return eb;dk=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return eb=t,eb}var tb,fk;function QK(){if(fk)return tb;fk=1;var e=ZK(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function n(r,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var d=document.createElement("div");d.setAttribute(l,"return;"),c=typeof d[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return tb=n,tb}var nb,mk;function JK(){if(mk)return nb;mk=1;var e=XK(),t=QK(),n=10,r=40,s=800;function l(c){var d=0,f=0,m=0,h=0;return"detail"in c&&(f=c.detail),"wheelDelta"in c&&(f=-c.wheelDelta/120),"wheelDeltaY"in c&&(f=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(d=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(d=f,f=0),m=d*n,h=f*n,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(m=c.deltaX),(m||h)&&c.deltaMode&&(c.deltaMode==1?(m*=r,h*=r):(m*=s,h*=s)),m&&!d&&(d=m<1?-1:1),h&&!f&&(f=h<1?-1:1),{spinX:d,spinY:f,pixelX:m,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},nb=l,nb}var ab,hk;function eG(){return hk||(hk=1,ab=JK()),ab}var tG=eG();const nG=Ur(tG);function aG(e,t,n,r,s,l){l===void 0&&(l=0);var c=Ic(e,t,l),d=c.width,f=c.height,m=Math.min(d,n),h=Math.min(f,r);return m>h*s?{width:h*s,height:h}:{width:m,height:m/s}}function rG(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function hd(e,t,n,r,s){s===void 0&&(s=0);var l=Ic(t.width,t.height,s),c=l.width,d=l.height;return{x:pk(e.x,c,n.width,r),y:pk(e.y,d,n.height,r)}}function pk(e,t,n,r){var s=t*r/2-n/2;return Rp(e,-s,s)}function xk(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function gk(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function sG(e,t,n,r,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var d=c?iG:lG,f=Ic(t.width,t.height,l),m=Ic(t.naturalWidth,t.naturalHeight,l),h={x:d(100,((f.width-n.width/s)/2-e.x/s)/f.width*100),y:d(100,((f.height-n.height/s)/2-e.y/s)/f.height*100),width:d(100,n.width/f.width*100/s),height:d(100,n.height/f.height*100/s)},x=Math.round(d(m.width,h.width*m.width/100)),v=Math.round(d(m.height,h.height*m.height/100)),y=m.width>=m.height*r,w=y?{width:Math.round(v*r),height:v}:{width:x,height:Math.round(x/r)},j=$n($n({},w),{x:Math.round(d(m.width-w.width,h.x*m.width/100)),y:Math.round(d(m.height-w.height,h.y*m.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:j}}function iG(e,t){return Math.min(e,Math.max(0,t))}function lG(e,t){return t}function oG(e,t,n,r,s,l){var c=Ic(t.width,t.height,n),d=Rp(r.width/c.width*(100/e.width),s,l),f={x:d*c.width/2-r.width/2-c.width*d*(e.x/100),y:d*c.height/2-r.height/2-c.height*d*(e.y/100)};return{crop:f,zoom:d}}function cG(e,t,n){var r=rG(t);return n.height>n.width?n.height/(e.height*r):n.width/(e.width*r)}function uG(e,t,n,r,s,l){n===void 0&&(n=0);var c=Ic(t.naturalWidth,t.naturalHeight,n),d=Rp(cG(e,t,r),s,l),f=r.height>r.width?r.height/e.height:r.width/e.width,m={x:((c.width-e.width)/2-e.x)*f,y:((c.height-e.height)/2-e.y)*f};return{crop:m,zoom:d}}function vk(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function dG(e){return e*Math.PI/180}function Ic(e,t,n){var r=dG(n);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function Rp(e,t,n){return Math.min(Math.max(e,t),n)}function xh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(n){return typeof n=="string"&&n.length>0}).join(" ").trim()}var fG=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,mG=1,hG=3,pG=1,xG=function(e){WK(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.cropperRef=g.createRef(),n.imageRef=g.createRef(),n.videoRef=g.createRef(),n.containerPosition={x:0,y:0},n.containerRef=null,n.styleRef=null,n.containerRect=null,n.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},n.dragStartPosition={x:0,y:0},n.dragStartCrop={x:0,y:0},n.gestureZoomStart=0,n.gestureRotationStart=0,n.isTouching=!1,n.lastPinchDistance=0,n.lastPinchRotation=0,n.rafDragTimeout=null,n.rafPinchTimeout=null,n.wheelTimer=null,n.currentDoc=typeof document<"u"?document:null,n.currentWindow=typeof window<"u"?window:null,n.resizeObserver=null,n.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},n.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!n.containerRef)){var r=!0;n.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}n.computeSizes()}),n.resizeObserver.observe(n.containerRef)}},n.preventZoomSafari=function(r){return r.preventDefault()},n.cleanEvents=function(){n.currentDoc&&(n.currentDoc.removeEventListener("mousemove",n.onMouseMove),n.currentDoc.removeEventListener("mouseup",n.onDragStopped),n.currentDoc.removeEventListener("touchmove",n.onTouchMove),n.currentDoc.removeEventListener("touchend",n.onDragStopped),n.currentDoc.removeEventListener("gesturechange",n.onGestureChange),n.currentDoc.removeEventListener("gestureend",n.onGestureEnd),n.currentDoc.removeEventListener("scroll",n.onScroll))},n.clearScrollEvent=function(){n.containerRef&&n.containerRef.removeEventListener("wheel",n.onWheel),n.wheelTimer&&clearTimeout(n.wheelTimer)},n.onMediaLoad=function(){var r=n.computeSizes();r&&(n.emitCropData(),n.setInitialCrop(r)),n.props.onMediaLoaded&&n.props.onMediaLoaded(n.mediaSize)},n.setInitialCrop=function(r){if(n.props.initialCroppedAreaPercentages){var s=oG(n.props.initialCroppedAreaPercentages,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=s.crop,c=s.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}else if(n.props.initialCroppedAreaPixels){var d=uG(n.props.initialCroppedAreaPixels,n.mediaSize,n.props.rotation,r,n.props.minZoom,n.props.maxZoom),l=d.crop,c=d.zoom;n.props.onCropChange(l),n.props.onZoomChange&&n.props.onZoomChange(c)}},n.computeSizes=function(){var r,s,l,c,d,f,m=n.imageRef.current||n.videoRef.current;if(m&&n.containerRef){n.containerRect=n.containerRef.getBoundingClientRect(),n.saveContainerPosition();var h=n.containerRect.width/n.containerRect.height,x=((r=n.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=n.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,v=((l=n.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=n.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=m.offsetWidth<x||m.offsetHeight<v,w=x/v,j=void 0;if(y)switch(n.state.mediaObjectFit){default:case"contain":j=h>w?{width:n.containerRect.height*w,height:n.containerRect.height}:{width:n.containerRect.width,height:n.containerRect.width/w};break;case"horizontal-cover":j={width:n.containerRect.width,height:n.containerRect.width/w};break;case"vertical-cover":j={width:n.containerRect.height*w,height:n.containerRect.height};break}else j={width:m.offsetWidth,height:m.offsetHeight};n.mediaSize=$n($n({},j),{naturalWidth:x,naturalHeight:v}),n.props.setMediaSize&&n.props.setMediaSize(n.mediaSize);var S=n.props.cropSize?n.props.cropSize:aG(n.mediaSize.width,n.mediaSize.height,n.containerRect.width,n.containerRect.height,n.props.aspect,n.props.rotation);return(((d=n.state.cropSize)===null||d===void 0?void 0:d.height)!==S.height||((f=n.state.cropSize)===null||f===void 0?void 0:f.width)!==S.width)&&n.props.onCropSizeChange&&n.props.onCropSizeChange(S),n.setState({cropSize:S},n.recomputeCropPosition),n.props.setCropSize&&n.props.setCropSize(S),S}},n.saveContainerPosition=function(){if(n.containerRef){var r=n.containerRef.getBoundingClientRect();n.containerPosition={x:r.left,y:r.top}}},n.onMouseDown=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("mousemove",n.onMouseMove),n.currentDoc.addEventListener("mouseup",n.onDragStopped),n.saveContainerPosition(),n.onDragStart(t.getMousePoint(r)))},n.onMouseMove=function(r){return n.onDrag(t.getMousePoint(r))},n.onScroll=function(r){n.currentDoc&&(r.preventDefault(),n.saveContainerPosition())},n.onTouchStart=function(r){n.currentDoc&&(n.isTouching=!0,!(n.props.onTouchRequest&&!n.props.onTouchRequest(r))&&(n.currentDoc.addEventListener("touchmove",n.onTouchMove,{passive:!1}),n.currentDoc.addEventListener("touchend",n.onDragStopped),n.saveContainerPosition(),r.touches.length===2?n.onPinchStart(r):r.touches.length===1&&n.onDragStart(t.getTouchPoint(r.touches[0]))))},n.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?n.onPinchMove(r):r.touches.length===1&&n.onDrag(t.getTouchPoint(r.touches[0]))},n.onGestureStart=function(r){n.currentDoc&&(r.preventDefault(),n.currentDoc.addEventListener("gesturechange",n.onGestureChange),n.currentDoc.addEventListener("gestureend",n.onGestureEnd),n.gestureZoomStart=n.props.zoom,n.gestureRotationStart=n.props.rotation)},n.onGestureChange=function(r){if(r.preventDefault(),!n.isTouching){var s=t.getMousePoint(r),l=n.gestureZoomStart-1+r.scale;if(n.setNewZoom(l,s,{shouldUpdatePosition:!0}),n.props.onRotationChange){var c=n.gestureRotationStart+r.rotation;n.props.onRotationChange(c)}}},n.onGestureEnd=function(r){n.cleanEvents()},n.onDragStart=function(r){var s,l,c=r.x,d=r.y;n.dragStartPosition={x:c,y:d},n.dragStartCrop=$n({},n.props.crop),(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s)},n.onDrag=function(r){var s=r.x,l=r.y;n.currentWindow&&(n.rafDragTimeout&&n.currentWindow.cancelAnimationFrame(n.rafDragTimeout),n.rafDragTimeout=n.currentWindow.requestAnimationFrame(function(){if(n.state.cropSize&&!(s===void 0||l===void 0)){var c=s-n.dragStartPosition.x,d=l-n.dragStartPosition.y,f={x:n.dragStartCrop.x+c,y:n.dragStartCrop.y+d},m=n.props.restrictPosition?hd(f,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):f;n.props.onCropChange(m)}}))},n.onDragStopped=function(){var r,s;n.isTouching=!1,n.cleanEvents(),n.emitCropData(),(s=(r=n.props).onInteractionEnd)===null||s===void 0||s.call(r)},n.onWheel=function(r){if(n.currentWindow&&!(n.props.onWheelRequest&&!n.props.onWheelRequest(r))){r.preventDefault();var s=t.getMousePoint(r),l=nG(r).pixelY,c=n.props.zoom-l*n.props.zoomSpeed/200;n.setNewZoom(c,s,{shouldUpdatePosition:!0}),n.state.hasWheelJustStarted||n.setState({hasWheelJustStarted:!0},function(){var d,f;return(f=(d=n.props).onInteractionStart)===null||f===void 0?void 0:f.call(d)}),n.wheelTimer&&clearTimeout(n.wheelTimer),n.wheelTimer=n.currentWindow.setTimeout(function(){return n.setState({hasWheelJustStarted:!1},function(){var d,f;return(f=(d=n.props).onInteractionEnd)===null||f===void 0?void 0:f.call(d)})},250)}},n.getPointOnContainer=function(r,s){var l=r.x,c=r.y;if(!n.containerRect)throw new Error("The Cropper is not mounted");return{x:n.containerRect.width/2-(l-s.x),y:n.containerRect.height/2-(c-s.y)}},n.getPointOnMedia=function(r){var s=r.x,l=r.y,c=n.props,d=c.crop,f=c.zoom;return{x:(s+d.x)/f,y:(l+d.y)/f}},n.setNewZoom=function(r,s,l){var c=l===void 0?{}:l,d=c.shouldUpdatePosition,f=d===void 0?!0:d;if(!(!n.state.cropSize||!n.props.onZoomChange)){var m=Rp(r,n.props.minZoom,n.props.maxZoom);if(f){var h=n.getPointOnContainer(s,n.containerPosition),x=n.getPointOnMedia(h),v={x:x.x*m-h.x,y:x.y*m-h.y},y=n.props.restrictPosition?hd(v,n.mediaSize,n.state.cropSize,m,n.props.rotation):v;n.props.onCropChange(y)}n.props.onZoomChange(m)}},n.getCropData=function(){if(!n.state.cropSize)return null;var r=n.props.restrictPosition?hd(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;return sG(r,n.mediaSize,n.state.cropSize,n.getAspect(),n.props.zoom,n.props.rotation,n.props.restrictPosition)},n.emitCropData=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropComplete&&n.props.onCropComplete(s,l),n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.emitCropAreaChange=function(){var r=n.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;n.props.onCropAreaChange&&n.props.onCropAreaChange(s,l)}},n.recomputeCropPosition=function(){if(n.state.cropSize){var r=n.props.restrictPosition?hd(n.props.crop,n.mediaSize,n.state.cropSize,n.props.zoom,n.props.rotation):n.props.crop;n.props.onCropChange(r),n.emitCropData()}},n.onKeyDown=function(r){var s,l,c=n.props,d=c.crop,f=c.onCropChange,m=c.keyboardStep,h=c.zoom,x=c.rotation,v=m;if(n.state.cropSize){r.shiftKey&&(v*=.2);var y=$n({},d);switch(r.key){case"ArrowUp":y.y-=v,r.preventDefault();break;case"ArrowDown":y.y+=v,r.preventDefault();break;case"ArrowLeft":y.x-=v,r.preventDefault();break;case"ArrowRight":y.x+=v,r.preventDefault();break;default:return}n.props.restrictPosition&&(y=hd(y,n.mediaSize,n.state.cropSize,h,x)),r.repeat||(l=(s=n.props).onInteractionStart)===null||l===void 0||l.call(s),f(y)}},n.onKeyUp=function(r){var s,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}n.emitCropData(),(l=(s=n.props).onInteractionEnd)===null||l===void 0||l.call(s)},n}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=fG,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var n,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(n=this.resizeObserver)===null||n===void 0||n.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(n){var r,s,l,c,d,f,m,h,x;n.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):n.aspect!==this.props.aspect?this.computeSizes():n.objectFit!==this.props.objectFit?this.computeSizes():n.zoom!==this.props.zoom?this.recomputeCropPosition():((r=n.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=n.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((d=n.crop)===null||d===void 0?void 0:d.x)!==((f=this.props.crop)===null||f===void 0?void 0:f.x)||((m=n.crop)===null||m===void 0?void 0:m.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),n.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),n.video!==this.props.video&&((x=this.videoRef.current)===null||x===void 0||x.load());var v=this.getObjectFit();v!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:v},this.computeSizes)},t.prototype.getAspect=function(){var n=this.props,r=n.cropSize,s=n.aspect;return r?r.width/r.height:s},t.prototype.getObjectFit=function(){var n,r,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var d=this.containerRect.width/this.containerRect.height,f=((n=this.imageRef.current)===null||n===void 0?void 0:n.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,m=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=f/m;return h<d?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(n){var r=t.getTouchPoint(n.touches[0]),s=t.getTouchPoint(n.touches[1]);this.lastPinchDistance=xk(r,s),this.lastPinchRotation=gk(r,s),this.onDragStart(vk(r,s))},t.prototype.onPinchMove=function(n){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(n.touches[0]),l=t.getTouchPoint(n.touches[1]),c=vk(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var d=xk(s,l),f=r.props.zoom*(d/r.lastPinchDistance);r.setNewZoom(f,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=d;var m=gk(s,l),h=r.props.rotation+(m-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=m})}},t.prototype.render=function(){var n=this,r,s=this.props,l=s.image,c=s.video,d=s.mediaProps,f=s.cropperProps,m=s.transform,h=s.crop,x=h.x,v=h.y,y=s.rotation,w=s.zoom,j=s.cropShape,S=s.showGrid,k=s.roundCropAreaPixels,_=s.style,C=_.containerStyle,P=_.cropAreaStyle,A=_.mediaStyle,T=s.classes,L=T.containerClassName,M=T.cropAreaClassName,F=T.mediaClassName,K=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return g.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function($){return n.containerRef=$},"data-testid":"container",style:C,className:xh("reactEasyCrop_Container",L)},l?g.createElement("img",$n({alt:"",className:xh("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},d,{src:l,ref:this.imageRef,style:$n($n({},A),{transform:m||"translate(".concat(x,"px, ").concat(v,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),onLoad:this.onMediaLoad})):c&&g.createElement("video",$n({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:xh("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},d,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:$n($n({},A),{transform:m||"translate(".concat(x,"px, ").concat(v,"px) rotate(").concat(y,"deg) scale(").concat(w,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(V){return g.createElement("source",$n({key:V.src},V))})),this.state.cropSize&&g.createElement("div",$n({ref:this.cropperRef,style:$n($n({},P),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:xh("reactEasyCrop_CropArea",j==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},f)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:hG,minZoom:mG,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:pG},t.getMousePoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t.getTouchPoint=function(n){return{x:Number(n.clientX),y:Number(n.clientY)}},t}(g.Component);const bk="http://localhost:8000",yk=["image/png","image/jpeg","image/webp"],gG=5*1024*1024,vG=[`${bk}/api/auth`,`${bk}/api`];function gh(...e){return e.filter(Boolean).join(" ")}async function bG(e,t,n=0){const s=await(k=>new Promise((_,C)=>{const P=new Image;P.addEventListener("load",()=>_(P)),P.addEventListener("error",A=>C(A)),P.crossOrigin="anonymous",P.src=k}))(e),l=n*Math.PI/180,c=s.naturalWidth||s.width,d=s.naturalHeight||s.height,f=document.createElement("canvas"),m=f.getContext("2d"),h=Math.abs(Math.sin(l)),x=Math.abs(Math.cos(l)),v=Math.floor(c*x+d*h),y=Math.floor(c*h+d*x);f.width=v,f.height=y,m.translate(v/2,y/2),m.rotate(l),m.drawImage(s,-c/2,-d/2);const w=m.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),j=document.createElement("canvas");return j.width=Math.round(t.width),j.height=Math.round(t.height),j.getContext("2d").putImageData(w,0,0),new Promise(k=>{j.toBlob(_=>k(_),"image/jpeg",.92)})}function yG(){const e=Xt(),[t,n]=g.useState(null),[r,s]=g.useState(null),[l,c]=g.useState(null),[d,f]=g.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[m,h]=g.useState({name:"",email:""}),[x,v]=g.useState(!1),[y,w]=g.useState({x:0,y:0}),[j,S]=g.useState(1),[k,_]=g.useState(0),[C,P]=g.useState(null),[A,T]=g.useState(!1),[L,M]=g.useState(!1),F=g.useRef(null),K=()=>localStorage.getItem("token")||"",V=()=>K()?{Authorization:`Bearer ${K()}`}:{},$=()=>K()?!0:(U.error("Authentication required. Please login again."),e("/login"),!1),ee=async(Q,Z={},{expectJson:Ne=!0}={})=>{const re=[];for(const _e of vG)try{const Se=await fetch(`${_e}${Q}`,Z);if(Se.status===401||Se.status===403){const Be=await Se.text().catch(()=>"");throw new Error(Be||"Unauthorized")}if(Se.ok)return Ne?await Se.json():Se;if(Se.status===404){re.push({base:_e,status:404});continue}const me=await Se.json().catch(()=>({}));throw new Error((me==null?void 0:me.detail)||`Request failed (${Se.status})`)}catch(Se){if(re.push({base:_e,err:Se==null?void 0:Se.message}),(Se==null?void 0:Se.message)==="Unauthorized")throw Se}const we=re!=null&&re.length?`Request failed: ${re.map(_e=>`${_e.base}${_e.status||_e.err}`).join(" | ")}`:"Network error";throw new Error(we)},je=g.useMemo(()=>((m==null?void 0:m.name)||localStorage.getItem("name")||"User").trim().split(" ").map(Z=>Z[0]).join("").slice(0,2).toUpperCase(),[m==null?void 0:m.name]),ne=g.useCallback(()=>{const Q=(localStorage.getItem("role")||"").toLowerCase();return Q==="user"?e("/user/dashboard",{replace:!0}):Q==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);g.useEffect(()=>{if(x){const Q=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Q}}},[x]);const D=async()=>{var Q,Z,Ne;if($())try{const re=await ee("/user-info",{headers:{...V(),Accept:"application/json"}}),we=((Q=re==null?void 0:re.data)==null?void 0:Q.email)||"";h({name:(Z=re==null?void 0:re.data)==null?void 0:Z.name,email:we});const _e=((Ne=re==null?void 0:re.data)==null?void 0:Ne.profile_photo_url)||null,Se=_e?_e+(_e.includes("?")?"&":"?")+"t="+Date.now():null;if(n(Se),Se&&!r&&s(Se),we){const me=`profileComplete:${we.toLowerCase()}`;if(localStorage.getItem(me)==="1"){ne();return}}}catch(re){U.error(re.message||"Could not load profile info")}};g.useEffect(()=>{(async()=>(f(Q=>({...Q,init:!0})),await D(),f(Q=>({...Q,init:!1}))))()},[]);const Y=Q=>{if(!Q)return;if(!yk.includes(Q.type)){U.error("Only PNG, JPEG or WEBP images are allowed.");return}if(Q.size>gG){U.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(Q);const Z=URL.createObjectURL(Q);s(Z),v(!1)},H=Q=>{var Ne;const Z=(Ne=Q.target.files)==null?void 0:Ne[0];Y(Z)},I=Q=>{var Ne;Q.preventDefault(),Q.stopPropagation();const Z=(Ne=Q.dataTransfer.files)==null?void 0:Ne[0];Y(Z)},E=Q=>{Q.preventDefault(),Q.stopPropagation()};g.useCallback((Q,Z)=>{P(Z),T(!0)},[]);const R=async()=>{if(!r&&!t){U.info("Choose an image first.");return}if(!A||!C){U.info("Adjust the crop a tiny bit, then save.");return}try{f(Be=>({...Be,saving:!0}));const Z=await bG(r||t,C,k),Ne=URL.createObjectURL(Z);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(Ne);const re=new FormData,we=`avatar_${Date.now()}.jpg`;re.append("file",Z,we);const _e=await ee("/profile-photo",{method:"POST",headers:{...V()},body:re}),Se=_e==null?void 0:_e.photo_url,me=Se?Se+(Se.includes("?")?"&":"?")+"t="+Date.now():null;n(me),v(!1),c(null),T(!1),M(!0),setTimeout(()=>M(!1),1400),U.success("Profile photo saved!")}catch(Q){U.error(Q.message||"Could not save the cropped photo")}finally{f(Q=>({...Q,saving:!1}))}},z=async()=>{if(!t){U.info("No profile photo to delete.");return}try{f(Q=>({...Q,delete:!0})),await ee("/profile-photo",{method:"DELETE",headers:{...V(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),n(null),s(null),c(null),U.success("Profile photo deleted.")}catch(Q){U.error(Q.message||"Delete error")}finally{f(Q=>({...Q,delete:!1}))}},W=async()=>{f(Q=>({...Q,refresh:!0})),await D(),f(Q=>({...Q,refresh:!1}))},ce=()=>{const Q=((m==null?void 0:m.email)||"").toLowerCase();Q&&localStorage.setItem(`profileComplete:${Q}`,"1"),ne()};return a.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[a.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),a.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[a.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),a.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:W,disabled:d.refresh||d.init,className:gh("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[d.refresh?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):a.jsx(oU,{className:"h-4 w-4"}),"Refresh"]}),a.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[a.jsx(k0,{className:"h-4 w-4"}),"Confirm"]}),a.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[a.jsx(NU,{className:"h-4 w-4"}),"Skip for now"]})]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:a.jsxs("div",{className:"relative flex flex-col items-center",children:[a.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),a.jsxs("div",{className:gh("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",L?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var Q;return(Q=F.current)==null?void 0:Q.click()},onDrop:I,onDragOver:E,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[a.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:a.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[d.init?a.jsx(Xn,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?a.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{n(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(null)}}):a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(cP,{className:"h-10 w-10 text-slate-400"}),a.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:je})]}),a.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[a.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:a.jsx(Kz,{className:"h-5 w-5 text-blue-600"})}),a.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),a.jsx("input",{ref:F,type:"file",accept:yk.join(","),className:"hidden",onChange:H})]}),a.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[a.jsx(Un,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),a.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[a.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){U.info("Select or upload an image first.");return}_(0),S(1),T(!1),v(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[a.jsx(z5,{className:"h-4 w-4"}),"Crop"]}),a.jsx("button",{type:"button",onClick:z,disabled:d.delete||!t,className:gh("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:d.delete?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),x&&(r||t)&&a.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>v(!1)}),a.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(z5,{className:"h-4 w-4 text-blue-600"}),a.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),a.jsx("button",{onClick:()=>v(!1),className:"p-1 rounded-md hover:bg-slate-100",children:a.jsx(pa,{className:"h-4 w-4 text-slate-500"})})]}),a.jsxs("div",{className:"bg-slate-900",children:[a.jsx("div",{className:"relative h-[360px] overflow-hidden",children:a.jsx(xG,{image:r||t,crop:y,zoom:j,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:w,onRotationChange:_,onZoomChange:S,onCropComplete:(Q,Z)=>{P(Z),T(!0)}})}),a.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),a.jsx("input",{type:"range",min:1,max:3,step:.01,value:j,onChange:Q=>S(parseFloat(Q.target.value)),className:"w-full accent-blue-500"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),a.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:Q=>_(parseFloat(Q.target.value)),className:"w-full accent-blue-500"}),a.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[a.jsx(fU,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[a.jsx("button",{type:"button",onClick:()=>v(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),a.jsx("button",{type:"button",onClick:R,disabled:d.saving||!A,className:gh("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",A?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:d.saving?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"})," Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(k0,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function wG(...e){return e.filter(Boolean).join(" ")}const wk="http://localhost:8000";function jG({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function NG({className:e="",onMenuToggle:t,profilePath:n="/user/settings"}){const[r,s]=g.useState(""),[l,c]=g.useState(null),[d,f]=g.useState(!1),m=Xt();g.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),g.useEffect(()=>{const y=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${wk}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${wk}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=y=>y.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:y=40})=>{const w=y;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},v=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:wG("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(jG,{onClick:v}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),a.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(C0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}var JO={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},jk=Nt.createContext&&Nt.createContext(JO),SG=["attr","size","title"];function _G(e,t){if(e==null)return{};var n=kG(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function kG(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function M0(){return M0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},M0.apply(this,arguments)}function Nk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function D0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Nk(Object(n),!0).forEach(function(r){CG(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CG(e,t,n){return t=AG(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AG(e){var t=TG(e,"string");return typeof t=="symbol"?t:t+""}function TG(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function eM(e){return e&&e.map((t,n)=>Nt.createElement(t.tag,D0({key:n},t.attr),eM(t.child)))}function zt(e){return t=>Nt.createElement(EG,M0({attr:D0({},e.attr)},t),eM(e.child))}function EG(e){var t=n=>{var{attr:r,size:s,title:l}=e,c=_G(e,SG),d=s||n.size||"1em",f;return n.className&&(f=n.className),e.className&&(f=(f?f+" ":"")+e.className),Nt.createElement("svg",M0({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,r,c,{className:f,style:D0(D0({color:e.color||n.color},n.style),e.style),height:d,width:d,xmlns:"http://www.w3.org/2000/svg"}),l&&Nt.createElement("title",null,l),e.children)};return jk!==void 0?Nt.createElement(jk.Consumer,null,n=>t(n)):t(JO)}function PG(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function tM(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function nM(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function OG(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function aM(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function MG(e){return zt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function DG(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function Uj(e){return zt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function RG(e){return zt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function rM(e){return zt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function LG({compact:e=!1}){const t=g.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Lr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Uj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:da,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Lr,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=g.useState(0),[s,l]=g.useState(""),[c,d]=g.useState(!1);g.useEffect(()=>{const x=t[n].text,v=40,y=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),v):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),y):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),a.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function $G(){const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState({}),f=ms(),m=Xt();g.useEffect(()=>{const y=()=>{const w=window.innerWidth;l(w<768),t(w<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),g.useEffect(()=>{r(!1)},[f.pathname]),g.useEffect(()=>{const y=()=>{s?r(w=>!w):t(w=>!w)};return window.addEventListener("app:toggle-sidebar",y),()=>window.removeEventListener("app:toggle-sidebar",y)},[s]);const h=y=>f.pathname===y,x=[{id:"dashboard",label:"Dashboard",icon:tj,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:gt,href:"/user/callhistory",color:"text-orange-600"},{id:"callassistence",label:"Assistants",icon:Uj,href:"/user/callassistent",color:"text-green-600"},{id:"Leads",label:"Leads",icon:da,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:Lr,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:oP,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:DG,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:Vz,href:"/user/Appointments",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:Yi,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:rP,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:PG,href:"/user/FacebookForms",color:"text-blue-600"}]}];g.useEffect(()=>{var w;const y=x.find(j=>j.id==="formconnection");y&&((w=y.children)!=null&&w.some(j=>h(j.href)))&&d(j=>({...j,formconnection:!0}))},[f.pathname]);const v=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(LG,{compact:e&&!s})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:x.map(y=>{var _;if(y.type==="group"){const C=y.icon,P=(_=y.children)==null?void 0:_.some(L=>h(L.href)),A=c[y.id]===!0,T=()=>{e&&!s?(t(!1),d(L=>({...L,[y.id]:!0}))):d(L=>({...L,[y.id]:!L[y.id]}))};return a.jsxs("div",{className:"group",children:[a.jsxs("button",{type:"button",onClick:T,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${P?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[P&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),a.jsx("div",{className:"relative z-10",children:a.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!s?"w-6 h-6":"w-5 h-5"}
                      ${P?y.color:"text-slate-500 group-hover:text-slate-700"}
                      ${P?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),a.jsx("span",{className:"ml-auto text-slate-500",children:A?a.jsx(aP,{className:"w-4 h-4"}):a.jsx(nP,{className:"w-4 h-4"})})]})]}),A&&a.jsx("div",{className:`${e&&!s?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:y.children.map(L=>{const M=L.icon,F=h(L.href);return a.jsxs("button",{type:"button",onClick:()=>m(L.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                            ${F?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                            p-2`,title:L.label,children:[a.jsx(M,{className:`w-4 h-4 ${F?L.color:"text-slate-400 group-hover:text-slate-600"}`}),a.jsx("span",{className:"text-sm",children:L.label}),F&&a.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},L.id)})})]},y.id)}const w=y.icon,j=h(y.href),S=j&&(!e||s)?s?"pl-5":"pl-4":"",k=e&&!s?"gap-0":s?"gap-4":"gap-3";return a.jsxs("button",{type:"button",onClick:()=>m(y.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${j?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${S}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[j&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),a.jsx("div",{className:"relative z-10",children:a.jsx(w,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${j?y.color:"text-slate-500 group-hover:text-slate-700"}
                    ${j?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&a.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),j&&(!e||s)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},y.id)})}),!s&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(y=>!y),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Tn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(Ca,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!s&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(v,{})})}),s&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(v,{})})})]})]})}function IG(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx($G,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(NG,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(zE,{})})]})]})}var rb={},sb={},Sk;function zG(){return Sk||(Sk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t}(sb)),sb}var ib={},_k;function sM(){return _k||(_k=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t}(ib)),ib}var lb={},kk;function iM(){return kk||(kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t}(lb)),lb}var ob={},Ck;function Fj(){return Ck||(Ck=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){const r=[],s=n.length;if(s===0)return r;let l=0,c="",d="",f=!1;for(n.charCodeAt(0)===46&&(r.push(""),l++);l<s;){const m=n[l];d?m==="\\"&&l+1<s?(l++,c+=n[l]):m===d?d="":c+=m:f?m==='"'||m==="'"?d=m:m==="]"?(f=!1,r.push(c),c=""):c+=m:m==="["?(f=!0,c&&(r.push(c),c="")):m==="."?c&&(r.push(c),c=""):c+=m,l++}return c&&r.push(c),r}e.toPath=t}(ob)),ob}var Ak;function Vj(){return Ak||(Ak=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zG(),n=sM(),r=iM(),s=Fj();function l(d,f,m){if(d==null)return m;switch(typeof f){case"string":{if(t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?n.isDeepKey(f)?l(d,s.toPath(f),m):m:h}case"number":case"symbol":{typeof f=="number"&&(f=r.toKey(f));const h=d[f];return h===void 0?m:h}default:{if(Array.isArray(f))return c(d,f,m);if(Object.is(f==null?void 0:f.valueOf(),-0)?f="-0":f=String(f),t.isUnsafeProperty(f))return m;const h=d[f];return h===void 0?m:h}}}function c(d,f,m){if(f.length===0)return m;let h=d;for(let x=0;x<f.length;x++){if(h==null||t.isUnsafeProperty(f[x]))return m;h=h[f[x]]}return h===void 0?m:h}e.get=l}(rb)),rb}var cb,Tk;function BG(){return Tk||(Tk=1,cb=Vj().get),cb}var UG=BG();const el=Ur(UG);var ub={exports:{}},It={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ek;function FG(){if(Ek)return It;Ek=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function w(j){if(typeof j=="object"&&j!==null){var S=j.$$typeof;switch(S){case e:switch(j=j.type,j){case n:case s:case r:case f:case m:case v:return j;default:switch(j=j&&j.$$typeof,j){case c:case d:case x:case h:return j;case l:return j;default:return S}}case t:return S}}}return It.ContextConsumer=l,It.ContextProvider=c,It.Element=e,It.ForwardRef=d,It.Fragment=n,It.Lazy=x,It.Memo=h,It.Portal=t,It.Profiler=s,It.StrictMode=r,It.Suspense=f,It.SuspenseList=m,It.isContextConsumer=function(j){return w(j)===l},It.isContextProvider=function(j){return w(j)===c},It.isElement=function(j){return typeof j=="object"&&j!==null&&j.$$typeof===e},It.isForwardRef=function(j){return w(j)===d},It.isFragment=function(j){return w(j)===n},It.isLazy=function(j){return w(j)===x},It.isMemo=function(j){return w(j)===h},It.isPortal=function(j){return w(j)===t},It.isProfiler=function(j){return w(j)===s},It.isStrictMode=function(j){return w(j)===r},It.isSuspense=function(j){return w(j)===f},It.isSuspenseList=function(j){return w(j)===m},It.isValidElementType=function(j){return typeof j=="string"||typeof j=="function"||j===n||j===s||j===r||j===f||j===m||typeof j=="object"&&j!==null&&(j.$$typeof===x||j.$$typeof===h||j.$$typeof===c||j.$$typeof===l||j.$$typeof===d||j.$$typeof===y||j.getModuleId!==void 0)},It.typeOf=w,It}var Pk;function VG(){return Pk||(Pk=1,ub.exports=FG()),ub.exports}var HG=VG(),Bn=e=>e===0?0:e>0?1:-1,Ga=e=>typeof e=="number"&&e!=+e,Kl=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,He=e=>(typeof e=="number"||e instanceof Number)&&!Ga(e),us=e=>He(e)||typeof e=="string",qG=0,mf=e=>{var t=++qG;return"".concat(e||"").concat(t)},ha=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!He(t)&&typeof t!="string")return r;var l;if(Kl(t)){if(n==null)return r;var c=t.indexOf("%");l=n*parseFloat(t.slice(0,c))/100}else l=+t;return Ga(l)&&(l=r),s&&n!=null&&l>n&&(l=n),l},lM=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[e[r]])n[e[r]]=!0;else return!0;return!1},Ok=(e,t)=>He(e)&&He(t)?n=>e+n*(t-e):()=>t;function Or(e,t,n){return He(e)&&He(t)?e+n*(t-e):t}function oM(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):el(r,t))===n)}var Wt=e=>e===null||typeof e>"u",Lf=e=>Wt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),KG=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Hj(e){if(typeof e!="string")return!1;var t=KG;return t.includes(e)}var GG=["viewBox","children"],Mk=["points","pathLength"],db={svg:GG,polygon:Mk,polyline:Mk},qj=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(s=>{Hj(s)&&(r[s]=l=>n[s](n,l))}),r},YG=(e,t,n)=>r=>(e(t,n,r),null),Lp=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];Hj(s)&&typeof l=="function"&&(r||(r={}),r[s]=YG(l,t,n))}),r},WG=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function cM(e){if(typeof e!="string")return!1;var t=WG;return t.includes(e)}function si(e){var t=Object.entries(e).filter(n=>{var[r]=n;return cM(r)});return Object.fromEntries(t)}var Dk=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",Rk=null,fb=null,uM=e=>{if(e===Rk&&Array.isArray(fb))return fb;var t=[];return g.Children.forEach(e,n=>{Wt(n)||(HG.isFragment(n)?t=t.concat(uM(n.props.children)):t.push(n))}),fb=t,Rk=e,t};function $f(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(s=>Dk(s)):r=[Dk(t)],uM(e).forEach(s=>{var l=el(s,"type.displayName")||el(s,"type.name");r.indexOf(l)!==-1&&n.push(s)}),n}var dM=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,XG=(e,t,n,r)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=r&&(db==null?void 0:db[r]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),d=typeof e!="function"&&(!!r&&l.includes(t)||cM(t)),f=!!n&&Hj(t);return c||d||f},Jt=(e,t,n)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(g.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(l=>{var c;XG((c=r)===null||c===void 0?void 0:c[l],l,t,n)&&(s[l]=r[l])}),s},ZG=["children","width","height","viewBox","className","style","title","desc"];function W1(){return W1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W1.apply(null,arguments)}function QG(e,t){if(e==null)return{};var n,r,s=JG(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function JG(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var fM=g.forwardRef((e,t)=>{var{children:n,width:r,height:s,viewBox:l,className:c,style:d,title:f,desc:m}=e,h=QG(e,ZG),x=l||{width:r,height:s,x:0,y:0},v=ft("recharts-surface",c);return g.createElement("svg",W1({},Jt(h,!0,"svg"),{className:v,width:r,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),g.createElement("title",null,f),g.createElement("desc",null,m),n)}),eY=["children","className"];function X1(){return X1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},X1.apply(null,arguments)}function tY(e,t){if(e==null)return{};var n,r,s=nY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function nY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var ia=g.forwardRef((e,t)=>{var{children:n,className:r}=e,s=tY(e,eY),l=ft("recharts-layer",r);return g.createElement("g",X1({className:l},Jt(s,!0),{ref:t}),n)}),aY=g.createContext(null);function qt(e){return function(){return e}}const mM=Math.cos,R0=Math.sin,Vr=Math.sqrt,L0=Math.PI,$p=2*L0,Z1=Math.PI,Q1=2*Z1,$l=1e-6,rY=Q1-$l;function hM(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function sY(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hM;const n=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*n)/n+r[s]}}class iY{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hM:sY(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,s){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,n,r,s,l,c){this._append`C${+t},${+n},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,n,r,s,l){if(t=+t,n=+n,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,d=this._y1,f=r-t,m=s-n,h=c-t,x=d-n,v=h*h+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(v>$l)if(!(Math.abs(x*f-m*h)>$l)||!l)this._append`L${this._x1=t},${this._y1=n}`;else{let y=r-c,w=s-d,j=f*f+m*m,S=y*y+w*w,k=Math.sqrt(j),_=Math.sqrt(v),C=l*Math.tan((Z1-Math.acos((j+v-S)/(2*k*_)))/2),P=C/_,A=C/k;Math.abs(P-1)>$l&&this._append`L${t+P*h},${n+P*x}`,this._append`A${l},${l},0,0,${+(x*y>h*w)},${this._x1=t+A*f},${this._y1=n+A*m}`}}arc(t,n,r,s,l,c){if(t=+t,n=+n,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let d=r*Math.cos(s),f=r*Math.sin(s),m=t+d,h=n+f,x=1^c,v=c?s-l:l-s;this._x1===null?this._append`M${m},${h}`:(Math.abs(this._x1-m)>$l||Math.abs(this._y1-h)>$l)&&this._append`L${m},${h}`,r&&(v<0&&(v=v%Q1+Q1),v>rY?this._append`A${r},${r},0,1,${x},${t-d},${n-f}A${r},${r},0,1,${x},${this._x1=m},${this._y1=h}`:v>$l&&this._append`A${r},${r},0,${+(v>=Z1)},${x},${this._x1=t+r*Math.cos(l)},${this._y1=n+r*Math.sin(l)}`)}rect(t,n,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function Kj(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new iY(t)}function Gj(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function pM(e){this._context=e}pM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ip(e){return new pM(e)}function xM(e){return e[0]}function gM(e){return e[1]}function vM(e,t){var n=qt(!0),r=null,s=Ip,l=null,c=Kj(d);e=typeof e=="function"?e:e===void 0?xM:qt(e),t=typeof t=="function"?t:t===void 0?gM:qt(t);function d(f){var m,h=(f=Gj(f)).length,x,v=!1,y;for(r==null&&(l=s(y=c())),m=0;m<=h;++m)!(m<h&&n(x=f[m],m,f))===v&&((v=!v)?l.lineStart():l.lineEnd()),v&&l.point(+e(x,m,f),+t(x,m,f));if(y)return l=null,y+""||null}return d.x=function(f){return arguments.length?(e=typeof f=="function"?f:qt(+f),d):e},d.y=function(f){return arguments.length?(t=typeof f=="function"?f:qt(+f),d):t},d.defined=function(f){return arguments.length?(n=typeof f=="function"?f:qt(!!f),d):n},d.curve=function(f){return arguments.length?(s=f,r!=null&&(l=s(r)),d):s},d.context=function(f){return arguments.length?(f==null?r=l=null:l=s(r=f),d):r},d}function vh(e,t,n){var r=null,s=qt(!0),l=null,c=Ip,d=null,f=Kj(m);e=typeof e=="function"?e:e===void 0?xM:qt(+e),t=typeof t=="function"?t:qt(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?gM:qt(+n);function m(x){var v,y,w,j=(x=Gj(x)).length,S,k=!1,_,C=new Array(j),P=new Array(j);for(l==null&&(d=c(_=f())),v=0;v<=j;++v){if(!(v<j&&s(S=x[v],v,x))===k)if(k=!k)y=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),w=v-1;w>=y;--w)d.point(C[w],P[w]);d.lineEnd(),d.areaEnd()}k&&(C[v]=+e(S,v,x),P[v]=+t(S,v,x),d.point(r?+r(S,v,x):C[v],n?+n(S,v,x):P[v]))}if(_)return d=null,_+""||null}function h(){return vM().defined(s).curve(c).context(l)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:qt(+x),r=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:qt(+x),m):e},m.x1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:qt(+x),m):r},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:qt(+x),n=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:qt(+x),m):t},m.y1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:qt(+x),m):n},m.lineX0=m.lineY0=function(){return h().x(e).y(t)},m.lineY1=function(){return h().x(e).y(n)},m.lineX1=function(){return h().x(r).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:qt(!!x),m):s},m.curve=function(x){return arguments.length?(c=x,l!=null&&(d=c(l)),m):c},m.context=function(x){return arguments.length?(x==null?l=d=null:d=c(l=x),m):l},m}class bM{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function lY(e){return new bM(e,!0)}function oY(e){return new bM(e,!1)}const Yj={draw(e,t){const n=Vr(t/L0);e.moveTo(n,0),e.arc(0,0,n,0,$p)}},cY={draw(e,t){const n=Vr(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},yM=Vr(1/3),uY=yM*2,dY={draw(e,t){const n=Vr(t/uY),r=n*yM;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},fY={draw(e,t){const n=Vr(t),r=-n/2;e.rect(r,r,n,n)}},mY=.8908130915292852,wM=R0(L0/10)/R0(7*L0/10),hY=R0($p/10)*wM,pY=-mM($p/10)*wM,xY={draw(e,t){const n=Vr(t*mY),r=hY*n,s=pY*n;e.moveTo(0,-n),e.lineTo(r,s);for(let l=1;l<5;++l){const c=$p*l/5,d=mM(c),f=R0(c);e.lineTo(f*n,-d*n),e.lineTo(d*r-f*s,f*r+d*s)}e.closePath()}},mb=Vr(3),gY={draw(e,t){const n=-Vr(t/(mb*3));e.moveTo(0,n*2),e.lineTo(-mb*n,-n),e.lineTo(mb*n,-n),e.closePath()}},cr=-.5,ur=Vr(3)/2,J1=1/Vr(12),vY=(J1/2+1)*3,bY={draw(e,t){const n=Vr(t/vY),r=n/2,s=n*J1,l=r,c=n*J1+n,d=-l,f=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(d,f),e.lineTo(cr*r-ur*s,ur*r+cr*s),e.lineTo(cr*l-ur*c,ur*l+cr*c),e.lineTo(cr*d-ur*f,ur*d+cr*f),e.lineTo(cr*r+ur*s,cr*s-ur*r),e.lineTo(cr*l+ur*c,cr*c-ur*l),e.lineTo(cr*d+ur*f,cr*f-ur*d),e.closePath()}};function yY(e,t){let n=null,r=Kj(s);e=typeof e=="function"?e:qt(e||Yj),t=typeof t=="function"?t:qt(t===void 0?64:+t);function s(){let l;if(n||(n=l=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),l)return n=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:qt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:qt(+l),s):t},s.context=function(l){return arguments.length?(n=l??null,s):n},s}function $0(){}function I0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function jM(e){this._context=e}jM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:I0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function wY(e){return new jM(e)}function NM(e){this._context=e}NM.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jY(e){return new NM(e)}function SM(e){this._context=e}SM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:I0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function NY(e){return new SM(e)}function _M(e){this._context=e}_M.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function SY(e){return new _M(e)}function Lk(e){return e<0?-1:1}function $k(e,t,n){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(n-e._y1)/(s||r<0&&-0),d=(l*s+c*r)/(r+s);return(Lk(l)+Lk(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(d))||0}function Ik(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function hb(e,t,n){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,d=(l-r)/3;e._context.bezierCurveTo(r+d,s+d*t,l-d,c-d*n,l,c)}function z0(e){this._context=e}z0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:hb(this,this._t0,Ik(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,hb(this,Ik(this,n=$k(this,e,t)),n);break;default:hb(this,this._t0,n=$k(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function kM(e){this._context=new CM(e)}(kM.prototype=Object.create(z0.prototype)).point=function(e,t){z0.prototype.point.call(this,t,e)};function CM(e){this._context=e}CM.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,s,l){this._context.bezierCurveTo(t,e,r,n,l,s)}};function _Y(e){return new z0(e)}function kY(e){return new kM(e)}function AM(e){this._context=e}AM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=zk(e),s=zk(t),l=0,c=1;c<n;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function zk(e){var t,n=e.length-1,r,s=new Array(n),l=new Array(n),c=new Array(n);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<n-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[n-1]=2,l[n-1]=7,c[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[n-1]=c[n-1]/l[n-1],t=n-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[n-1]=(e[n]+s[n-1])/2,t=0;t<n-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function CY(e){return new AM(e)}function zp(e,t){this._context=e,this._t=t}zp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function AY(e){return new zp(e,.5)}function TY(e){return new zp(e,0)}function EY(e){return new zp(e,1)}function zc(e,t){if((c=e.length)>1)for(var n=1,r,s,l=e[t[0]],c,d=l.length;n<c;++n)for(s=l,l=e[t[n]],r=0;r<d;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function ew(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function PY(e,t){return e[t]}function OY(e){const t=[];return t.key=e,t}function MY(){var e=qt([]),t=ew,n=zc,r=PY;function s(l){var c=Array.from(e.apply(this,arguments),OY),d,f=c.length,m=-1,h;for(const x of l)for(d=0,++m;d<f;++d)(c[d][m]=[0,+r(x,c[d].key,m,l)]).data=x;for(d=0,h=Gj(t(c));d<f;++d)c[h[d]].index=d;return n(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:qt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:qt(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?ew:typeof l=="function"?l:qt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(n=l??zc,s):n},s}function DY(e,t){if((r=e.length)>0){for(var n,r,s=0,l=e[0].length,c;s<l;++s){for(c=n=0;n<r;++n)c+=e[n][s][1]||0;if(c)for(n=0;n<r;++n)e[n][s][1]/=c}zc(e,t)}}function RY(e,t){if((s=e.length)>0){for(var n=0,r=e[t[0]],s,l=r.length;n<l;++n){for(var c=0,d=0;c<s;++c)d+=e[c][n][1]||0;r[n][1]+=r[n][0]=-d/2}zc(e,t)}}function LY(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var n=0,r=1,s,l,c;r<l;++r){for(var d=0,f=0,m=0;d<c;++d){for(var h=e[t[d]],x=h[r][1]||0,v=h[r-1][1]||0,y=(x-v)/2,w=0;w<d;++w){var j=e[t[w]],S=j[r][1]||0,k=j[r-1][1]||0;y+=S-k}f+=x,m+=y*x}s[r-1][1]+=s[r-1][0]=n,f&&(n-=m/f)}s[r-1][1]+=s[r-1][0]=n,zc(e,t)}}var $Y=["type","size","sizeType"];function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tw.apply(null,arguments)}function Bk(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Uk(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Bk(Object(n),!0).forEach(function(r){IY(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Bk(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function IY(e,t,n){return(t=zY(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zY(e){var t=BY(e,"string");return typeof t=="symbol"?t:t+""}function BY(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UY(e,t){if(e==null)return{};var n,r,s=FY(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function FY(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var TM={symbolCircle:Yj,symbolCross:cY,symbolDiamond:dY,symbolSquare:fY,symbolStar:xY,symbolTriangle:gY,symbolWye:bY},VY=Math.PI/180,HY=e=>{var t="symbol".concat(Lf(e));return TM[t]||Yj},qY=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*VY;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},KY=(e,t)=>{TM["symbol".concat(Lf(e))]=t},EM=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,s=UY(e,$Y),l=Uk(Uk({},s),{},{type:t,size:n,sizeType:r}),c=()=>{var x=HY(t),v=yY().type(x).size(qY(n,r,t));return v()},{className:d,cx:f,cy:m}=l,h=Jt(l,!0);return f===+f&&m===+m&&n===+n?g.createElement("path",tw({},h,{className:ft("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(m,")"),d:c()})):null};EM.registerSymbol=KY;var pb={},xb={},Fk;function GY(){return Fk||(Fk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const s=new Map;for(let l=0;l<n.length;l++){const c=n[l],d=r(c);s.has(d)||s.set(d,c)}return Array.from(s.values())}e.uniqBy=t}(xb)),xb}var gb={},Vk;function PM(){return Vk||(Vk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t}(gb)),gb}var vb={},bb={},yb={},Hk;function YY(){return Hk||(Hk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t}(yb)),yb}var qk;function Wj(){return qk||(qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=YY();function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n}(bb)),bb}var wb={},Kk;function WY(){return Kk||(Kk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t}(wb)),wb}var Gk;function XY(){return Gk||(Gk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Wj(),n=WY();function r(s){return n.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(vb)),vb}var jb={},Nb={},Yk;function ZY(){return Yk||(Yk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Vj();function n(r){return function(s){return t.get(s,r)}}e.property=n}(Nb)),Nb}var Sb={},_b={},kb={},Cb={},Wk;function OM(){return Wk||(Wk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t}(Cb)),Cb}var Ab={},Xk;function MM(){return Xk||(Xk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t}(Ab)),Ab}var Tb={},Zk;function Xj(){return Zk||(Zk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.eq=t}(Tb)),Tb}var Qk;function QY(){return Qk||(Qk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),n=OM(),r=MM(),s=Xj();function l(x,v,y){return typeof y!="function"?t.isMatch(x,v):c(x,v,function w(j,S,k,_,C,P){const A=y(j,S,k,_,C,P);return A!==void 0?!!A:c(j,S,w,P)},new Map)}function c(x,v,y,w){if(v===x)return!0;switch(typeof v){case"object":return d(x,v,y,w);case"function":return Object.keys(v).length>0?c(x,{...v},y,w):s.eq(x,v);default:return n.isObject(x)?typeof v=="string"?v==="":!0:s.eq(x,v)}}function d(x,v,y,w){if(v==null)return!0;if(Array.isArray(v))return m(x,v,y,w);if(v instanceof Map)return f(x,v,y,w);if(v instanceof Set)return h(x,v,y,w);const j=Object.keys(v);if(x==null)return j.length===0;if(j.length===0)return!0;if(w&&w.has(v))return w.get(v)===x;w&&w.set(v,x);try{for(let S=0;S<j.length;S++){const k=j[S];if(!r.isPrimitive(x)&&!(k in x)||v[k]===void 0&&x[k]!==void 0||v[k]===null&&x[k]!==null||!y(x[k],v[k],k,x,v,w))return!1}return!0}finally{w&&w.delete(v)}}function f(x,v,y,w){if(v.size===0)return!0;if(!(x instanceof Map))return!1;for(const[j,S]of v.entries()){const k=x.get(j);if(y(k,S,j,x,v,w)===!1)return!1}return!0}function m(x,v,y,w){if(v.length===0)return!0;if(!Array.isArray(x))return!1;const j=new Set;for(let S=0;S<v.length;S++){const k=v[S];let _=!1;for(let C=0;C<x.length;C++){if(j.has(C))continue;const P=x[C];let A=!1;if(y(P,k,S,x,v,w)&&(A=!0),A){j.add(C),_=!0;break}}if(!_)return!1}return!0}function h(x,v,y,w){return v.size===0?!0:x instanceof Set?m([...x],[...v],y,w):!1}e.isMatchWith=l,e.isSetMatch=h}(kb)),kb}var Jk;function Zj(){return Jk||(Jk=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QY();function n(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=n}(_b)),_b}var Eb={},Pb={},Ob={},eC;function DM(){return eC||(eC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t}(Ob)),Ob}var Mb={},tC;function Qj(){return tC||(tC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t}(Mb)),Mb}var Db={},nC;function Jj(){return nC||(nC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",d="[object Date]",f="[object Map]",m="[object Set]",h="[object Array]",x="[object Function]",v="[object ArrayBuffer]",y="[object Object]",w="[object Error]",j="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",A="[object Int8Array]",T="[object Int16Array]",L="[object Int32Array]",M="[object BigInt64Array]",F="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=v,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=j,e.dateTag=d,e.errorTag=w,e.float32ArrayTag=F,e.float64ArrayTag=K,e.functionTag=x,e.int16ArrayTag=T,e.int32ArrayTag=L,e.int8ArrayTag=A,e.mapTag=f,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=m,e.stringTag=n,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k}(Db)),Db}var Rb={},aC;function JY(){return aC||(aC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t}(Rb)),Rb}var rC;function RM(){return rC||(rC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DM(),n=Qj(),r=Jj(),s=MM(),l=JY();function c(h,x){return d(h,void 0,h,new Map,x)}function d(h,x,v,y=new Map,w=void 0){const j=w==null?void 0:w(h,x,v,y);if(j!==void 0)return j;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,v,y,w);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[k,_]of h)S.set(k,d(_,k,v,y,w));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const k of h)S.add(d(k,void 0,v,y,w));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=d(h[k],k,v,y,w);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),f(S,h,v,y,w),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),f(S,h,v,y,w),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),f(S,h,v,y,w),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,f(S,h,v,y,w),S}if(typeof h=="object"&&m(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),f(S,h,v,y,w),S}return h}function f(h,x,v=h,y,w){const j=[...Object.keys(x),...t.getSymbols(x)];for(let S=0;S<j.length;S++){const k=j[S],_=Object.getOwnPropertyDescriptor(h,k);(_==null||_.writable)&&(h[k]=d(x[k],k,v,y,w))}}function m(h){switch(n.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=d,e.copyProperties=f}(Pb)),Pb}var sC;function eW(){return sC||(sC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM();function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n}(Eb)),Eb}var iC;function tW(){return iC||(iC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),n=eW();function r(s){return s=n.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r}(Sb)),Sb}var Lb={},$b={},Ib={},lC;function nW(){return lC||(lC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RM(),n=Jj();function r(s,l){return t.cloneDeepWith(s,(c,d,f,m)=>{const h=l==null?void 0:l(c,d,f,m);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case n.numberTag:case n.stringTag:case n.booleanTag:{const x=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(x,s),x}case n.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=r}(Ib)),Ib}var oC;function aW(){return oC||(oC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nW();function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n}($b)),$b}var zb={},Bb={},cC;function LM(){return cC||(cC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n}(Bb)),Bb}var Ub={},uC;function rW(){return uC||(uC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Qj();function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n}(Ub)),Ub}var dC;function sW(){return dC||(dC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=sM(),n=LM(),r=rW(),s=Fj();function l(c,d){let f;if(Array.isArray(d)?f=d:typeof d=="string"&&t.isDeepKey(d)&&(c==null?void 0:c[d])==null?f=s.toPath(d):f=[d],f.length===0)return!1;let m=c;for(let h=0;h<f.length;h++){const x=f[h];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||r.isArguments(m))&&n.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=l}(zb)),zb}var fC;function iW(){return fC||(fC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Zj(),n=iM(),r=aW(),s=Vj(),l=sW();function c(d,f){switch(typeof d){case"object":{Object.is(d==null?void 0:d.valueOf(),-0)&&(d="-0");break}case"number":{d=n.toKey(d);break}}return f=r.cloneDeep(f),function(m){const h=s.get(m,d);return h===void 0?l.has(m,d):f===void 0?h===void 0:t.isMatch(h,f)}}e.matchesProperty=c}(Lb)),Lb}var mC;function lW(){return mC||(mC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PM(),n=ZY(),r=tW(),s=iW();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return n.property(c)}}e.iteratee=l}(jb)),jb}var hC;function oW(){return hC||(hC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GY(),n=PM(),r=XY(),s=lW();function l(c,d=n.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(d)):[]}e.uniqBy=l}(pb)),pb}var Fb,pC;function cW(){return pC||(pC=1,Fb=oW().uniqBy),Fb}var uW=cW();const xC=Ur(uW);function dW(e,t,n){return t===!0?xC(e,n):typeof t=="function"?xC(e,t):e}var Vb={exports:{}},Hb={},qb={exports:{}},Kb={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gC;function fW(){if(gC)return Kb;gC=1;var e=Xc();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var n=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function d(x,v){var y=v(),w=r({inst:{value:y,getSnapshot:v}}),j=w[0].inst,S=w[1];return l(function(){j.value=y,j.getSnapshot=v,f(j)&&S({inst:j})},[x,y,v]),s(function(){return f(j)&&S({inst:j}),x(function(){f(j)&&S({inst:j})})},[x]),c(y),y}function f(x){var v=x.getSnapshot;x=x.value;try{var y=v();return!n(x,y)}catch{return!0}}function m(x,v){return v()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return Kb.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Kb}var vC;function mW(){return vC||(vC=1,qb.exports=fW()),qb.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bC;function hW(){if(bC)return Hb;bC=1;var e=Xc(),t=mW();function n(m,h){return m===h&&(m!==0||1/m===1/h)||m!==m&&h!==h}var r=typeof Object.is=="function"?Object.is:n,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,d=e.useMemo,f=e.useDebugValue;return Hb.useSyncExternalStoreWithSelector=function(m,h,x,v,y){var w=l(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=d(function(){function k(T){if(!_){if(_=!0,C=T,T=v(T),y!==void 0&&j.hasValue){var L=j.value;if(y(L,T))return P=L}return P=T}if(L=P,r(C,T))return L;var M=v(T);return y!==void 0&&y(L,M)?(C=T,L):(C=T,P=M)}var _=!1,C,P,A=x===void 0?null:x;return[function(){return k(h())},A===null?void 0:function(){return k(A())}]},[h,x,v,y]);var S=s(m,w[0],w[1]);return c(function(){j.hasValue=!0,j.value=S},[S]),f(S),S},Hb}var yC;function pW(){return yC||(yC=1,Vb.exports=hW()),Vb.exports}var xW=pW(),e2=g.createContext(null),gW=e=>e,pn=()=>{var e=g.useContext(e2);return e?e.store.dispatch:gW},v0=()=>{},vW=()=>v0,bW=(e,t)=>e===t;function Xe(e){var t=g.useContext(e2);return xW.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:vW,t?t.store.getState:v0,t?t.store.getState:v0,t?e:v0,bW)}function yW(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function wW(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function jW(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var wC=e=>Array.isArray(e)?e:[e];function NW(e){const t=Array.isArray(e[0])?e[0]:e;return jW(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function SW(e,t){const n=[],{length:r}=e;for(let s=0;s<r;s++)n.push(e[s].apply(null,t));return n}var _W=class{constructor(e){this.value=e}deref(){return this.value}},kW=typeof WeakRef<"u"?WeakRef:_W,CW=0,jC=1;function bh(){return{s:CW,v:void 0,o:null,p:null}}function $M(e,t={}){let n=bh();const{resultEqualityCheck:r}=t;let s,l=0;function c(){var x;let d=n;const{length:f}=arguments;for(let v=0,y=f;v<y;v++){const w=arguments[v];if(typeof w=="function"||typeof w=="object"&&w!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const S=j.get(w);S===void 0?(d=bh(),j.set(w,d)):d=S}else{let j=d.p;j===null&&(d.p=j=new Map);const S=j.get(w);S===void 0?(d=bh(),j.set(w,d)):d=S}}const m=d;let h;if(d.s===jC)h=d.v;else if(h=e.apply(null,arguments),l++,r){const v=((x=s==null?void 0:s.deref)==null?void 0:x.call(s))??s;v!=null&&r(v,h)&&(h=v,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new kW(h):h}return m.s=jC,m.v=h,h}return c.clearCache=()=>{n=bh(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function AW(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,d,f={},m=s.pop();typeof m=="object"&&(f=m,m=s.pop()),yW(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const h={...n,...f},{memoize:x,memoizeOptions:v=[],argsMemoize:y=$M,argsMemoizeOptions:w=[]}=h,j=wC(v),S=wC(w),k=NW(s),_=x(function(){return l++,m.apply(null,arguments)},...j),C=y(function(){c++;const A=SW(k,arguments);return d=_.apply(null,A),d},...S);return Object.assign(C,{resultFunc:m,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>d,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:x,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var ve=AW($M),TW=Object.assign((e,t=ve)=>{wW(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,d,f)=>(c[n[f]]=d,c),{}))},{withTypes:()=>TW}),Gb={},Yb={},Wb={},NC;function EW(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,s,l)=>{if(r!==s){const c=t(r),d=t(s);if(c===d&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?d-c:c-d}return 0};e.compareValues=n}(Wb)),Wb}var Xb={},Zb={},SC;function IM(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t}(Zb)),Zb}var _C;function PW(){return _C||(_C=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IM(),n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!n.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(Xb)),Xb}var kC;function OW(){return kC||(kC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=EW(),n=PW(),r=Fj();function s(l,c,d,f){if(l==null)return[];d=f?void 0:d,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(y=>String(y));const m=(y,w)=>{let j=y;for(let S=0;S<w.length&&j!=null;++S)j=j[w[S]];return j},h=(y,w)=>w==null||y==null?w:typeof y=="object"&&"key"in y?Object.hasOwn(w,y.key)?w[y.key]:m(w,y.path):typeof y=="function"?y(w):Array.isArray(y)?m(w,y):typeof w=="object"?w[y]:w,x=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||n.isKey(y)?y:{key:y,path:r.toPath(y)}));return l.map(y=>({original:y,criteria:x.map(w=>h(w,y))})).slice().sort((y,w)=>{for(let j=0;j<x.length;j++){const S=t.compareValues(y.criteria[j],w.criteria[j],d[j]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=s}(Yb)),Yb}var Qb={},CC;function MW(){return CC||(CC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const s=[],l=Math.floor(r),c=(d,f)=>{for(let m=0;m<d.length;m++){const h=d[m];Array.isArray(h)&&f<l?c(h,f+1):s.push(h)}};return c(n,0),s}e.flatten=t}(Qb)),Qb}var Jb={},AC;function zM(){return AC||(AC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LM(),n=Wj(),r=OM(),s=Xj();function l(c,d,f){return r.isObject(f)&&(typeof d=="number"&&n.isArrayLike(f)&&t.isIndex(d)&&d<f.length||typeof d=="string"&&d in f)?s.eq(f[d],c):!1}e.isIterateeCall=l}(Jb)),Jb}var TC;function DW(){return TC||(TC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OW(),n=MW(),r=zM();function s(l,...c){const d=c.length;return d>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:d>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,n.flatten(c),["asc"])}e.sortBy=s}(Gb)),Gb}var ey,EC;function RW(){return EC||(EC=1,ey=DW().sortBy),ey}var LW=RW();const Bp=Ur(LW);var BM=e=>e.legend.settings,$W=e=>e.legend.size,IW=e=>e.legend.payload;ve([IW,BM],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?Bp(r,n):r});var yh=1;function zW(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>yh||Math.abs(c.left-t.left)>yh||Math.abs(c.top-t.top)>yh||Math.abs(c.width-t.width)>yh)&&n({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Gn(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var BW=typeof Symbol=="function"&&Symbol.observable||"@@observable",PC=BW,ty=()=>Math.random().toString(36).substring(7).split("").join("."),UW={INIT:`@@redux/INIT${ty()}`,REPLACE:`@@redux/REPLACE${ty()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${ty()}`},B0=UW;function t2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function UM(e,t,n){if(typeof e!="function")throw new Error(Gn(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Gn(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Gn(1));return n(UM)(e,t)}let r=e,s=t,l=new Map,c=l,d=0,f=!1;function m(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function h(){if(f)throw new Error(Gn(3));return s}function x(S){if(typeof S!="function")throw new Error(Gn(4));if(f)throw new Error(Gn(5));let k=!0;m();const _=d++;return c.set(_,S),function(){if(k){if(f)throw new Error(Gn(6));k=!1,m(),c.delete(_),l=null}}}function v(S){if(!t2(S))throw new Error(Gn(7));if(typeof S.type>"u")throw new Error(Gn(8));if(typeof S.type!="string")throw new Error(Gn(17));if(f)throw new Error(Gn(9));try{f=!0,s=r(s,S)}finally{f=!1}return(l=c).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(Gn(10));r=S,v({type:B0.REPLACE})}function w(){const S=x;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(Gn(11));function _(){const P=k;P.next&&P.next(h())}return _(),{unsubscribe:S(_)}},[PC](){return this}}}return v({type:B0.INIT}),{dispatch:v,subscribe:x,getState:h,replaceReducer:y,[PC]:w}}function FW(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:B0.INIT})>"u")throw new Error(Gn(12));if(typeof n(void 0,{type:B0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Gn(13))})}function FM(e){const t=Object.keys(e),n={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(n[c]=e[c])}const r=Object.keys(n);let s;try{FW(n)}catch(l){s=l}return function(c={},d){if(s)throw s;let f=!1;const m={};for(let h=0;h<r.length;h++){const x=r[h],v=n[x],y=c[x],w=v(y,d);if(typeof w>"u")throw d&&d.type,new Error(Gn(14));m[x]=w,f=f||w!==y}return f=f||r.length!==Object.keys(c).length,f?m:c}}function U0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function VW(...e){return t=>(n,r)=>{const s=t(n,r);let l=()=>{throw new Error(Gn(15))};const c={getState:s.getState,dispatch:(f,...m)=>l(f,...m)},d=e.map(f=>f(c));return l=U0(...d)(s.dispatch),{...s,dispatch:l}}}function VM(e){return t2(e)&&"type"in e&&typeof e.type=="string"}var HM=Symbol.for("immer-nothing"),OC=Symbol.for("immer-draftable"),Ya=Symbol.for("immer-state");function Dr(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Bc=Object.getPrototypeOf;function io(e){return!!e&&!!e[Ya]}function ei(e){var t;return e?qM(e)||Array.isArray(e)||!!e[OC]||!!((t=e.constructor)!=null&&t[OC])||Fp(e)||Vp(e):!1}var HW=Object.prototype.constructor.toString();function qM(e){if(!e||typeof e!="object")return!1;const t=Bc(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===HW}function F0(e,t){Up(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function Up(e){const t=e[Ya];return t?t.type_:Array.isArray(e)?1:Fp(e)?2:Vp(e)?3:0}function nw(e,t){return Up(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function KM(e,t,n){const r=Up(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function qW(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Fp(e){return e instanceof Map}function Vp(e){return e instanceof Set}function Il(e){return e.copy_||e.base_}function aw(e,t){if(Fp(e))return new Map(e);if(Vp(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=qM(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Ya];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],d=r[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(r[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[c]})}return Object.create(Bc(e),r)}else{const r=Bc(e);if(r!==null&&n)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function n2(e,t=!1){return Hp(e)||io(e)||!ei(e)||(Up(e)>1&&(e.set=e.add=e.clear=e.delete=KW),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>n2(r,!0))),e}function KW(){Dr(2)}function Hp(e){return Object.isFrozen(e)}var GW={};function lo(e){const t=GW[e];return t||Dr(0,e),t}var hf;function GM(){return hf}function YW(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function MC(e,t){t&&(lo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function rw(e){sw(e),e.drafts_.forEach(WW),e.drafts_=null}function sw(e){e===hf&&(hf=e.parent_)}function DC(e){return hf=YW(hf,e)}function WW(e){const t=e[Ya];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function RC(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Ya].modified_&&(rw(t),Dr(4)),ei(e)&&(e=V0(t,e),t.parent_||H0(t,e)),t.patches_&&lo("Patches").generateReplacementPatches_(n[Ya].base_,e,t.patches_,t.inversePatches_)):e=V0(t,n,[]),rw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==HM?e:void 0}function V0(e,t,n){if(Hp(t))return t;const r=t[Ya];if(!r)return F0(t,(s,l)=>LC(e,r,t,s,l,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return H0(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),F0(l,(d,f)=>LC(e,r,s,d,f,n,c)),H0(e,s,!1),n&&e.patches_&&lo("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function LC(e,t,n,r,s,l,c){if(io(s)){const d=l&&t&&t.type_!==3&&!nw(t.assigned_,r)?l.concat(r):void 0,f=V0(e,s,d);if(KM(n,r,f),io(f))e.canAutoFreeze_=!1;else return}else c&&n.add(s);if(ei(s)&&!Hp(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;V0(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&H0(e,s)}}function H0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&n2(t,n)}function XW(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:GM(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=a2;n&&(s=[r],l=pf);const{revoke:c,proxy:d}=Proxy.revocable(s,l);return r.draft_=d,r.revoke_=c,d}var a2={get(e,t){if(t===Ya)return e;const n=Il(e);if(!nw(n,t))return ZW(e,n,t);const r=n[t];return e.finalized_||!ei(r)?r:r===ny(e.base_,t)?(ay(e),e.copy_[t]=lw(r,e)):r},has(e,t){return t in Il(e)},ownKeys(e){return Reflect.ownKeys(Il(e))},set(e,t,n){const r=YM(Il(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const s=ny(Il(e),t),l=s==null?void 0:s[Ya];if(l&&l.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(qW(n,s)&&(n!==void 0||nw(e.base_,t)))return!0;ay(e),iw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return ny(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,ay(e),iw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Il(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Dr(11)},getPrototypeOf(e){return Bc(e.base_)},setPrototypeOf(){Dr(12)}},pf={};F0(a2,(e,t)=>{pf[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});pf.deleteProperty=function(e,t){return pf.set.call(this,e,t,void 0)};pf.set=function(e,t,n){return a2.set.call(this,e[0],t,n,e[0])};function ny(e,t){const n=e[Ya];return(n?Il(n):e)[t]}function ZW(e,t,n){var s;const r=YM(t,n);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function YM(e,t){if(!(t in e))return;let n=Bc(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Bc(n)}}function iw(e){e.modified_||(e.modified_=!0,e.parent_&&iw(e.parent_))}function ay(e){e.copy_||(e.copy_=aw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var QW=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const l=n;n=t;const c=this;return function(f=l,...m){return c.produce(f,h=>n.call(this,h,...m))}}typeof n!="function"&&Dr(6),r!==void 0&&typeof r!="function"&&Dr(7);let s;if(ei(t)){const l=DC(this),c=lw(t,void 0);let d=!0;try{s=n(c),d=!1}finally{d?rw(l):sw(l)}return MC(l,r),RC(s,l)}else if(!t||typeof t!="object"){if(s=n(t),s===void 0&&(s=t),s===HM&&(s=void 0),this.autoFreeze_&&n2(s,!0),r){const l=[],c=[];lo("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else Dr(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(c,...d)=>this.produceWithPatches(c,f=>t(f,...d));let r,s;return[this.produce(t,n,(c,d)=>{r=c,s=d}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ei(e)||Dr(8),io(e)&&(e=Hs(e));const t=DC(this),n=lw(e,void 0);return n[Ya].isManual_=!0,sw(t),n}finishDraft(e,t){const n=e&&e[Ya];(!n||!n.isManual_)&&Dr(9);const{scope_:r}=n;return MC(r,t),RC(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const s=t[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(t=t.slice(n+1));const r=lo("Patches").applyPatches_;return io(e)?r(e,t):this.produce(e,s=>r(s,t))}};function lw(e,t){const n=Fp(e)?lo("MapSet").proxyMap_(e,t):Vp(e)?lo("MapSet").proxySet_(e,t):XW(e,t);return(t?t.scope_:GM()).drafts_.push(n),n}function Hs(e){return io(e)||Dr(10,e),WM(e)}function WM(e){if(!ei(e)||Hp(e))return e;const t=e[Ya];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=aw(e,t.scope_.immer_.useStrictShallowCopy_)}else n=aw(e,!0);return F0(n,(r,s)=>{KM(n,r,WM(s))}),t&&(t.finalized_=!1),n}var Wa=new QW,XM=Wa.produce;Wa.produceWithPatches.bind(Wa);Wa.setAutoFreeze.bind(Wa);Wa.setUseStrictShallowCopy.bind(Wa);Wa.applyPatches.bind(Wa);Wa.createDraft.bind(Wa);Wa.finishDraft.bind(Wa);function ZM(e){return({dispatch:n,getState:r})=>s=>l=>typeof l=="function"?l(n,r,e):s(l)}var JW=ZM(),eX=ZM,tX=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?U0:U0.apply(null,arguments)};function br(e,t){function n(...r){if(t){let s=t(...r);if(!s)throw new Error(Ka(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>VM(r)&&r.type===e,n}var QM=class Id extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Id.prototype)}static get[Symbol.species](){return Id}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Id(...t[0].concat(this)):new Id(...t.concat(this))}};function $C(e){return ei(e)?XM(e,()=>{}):e}function wh(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function nX(e){return typeof e=="boolean"}var aX=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new QM;return n&&(nX(n)?c.push(JW):c.push(eX(n.extraArgument))),c},rX="RTK_autoBatch",IC=e=>t=>{setTimeout(t,e)},sX=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let s=!0,l=!1,c=!1;const d=new Set,f=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:IC(10):e.type==="callback"?e.queueNotification:IC(e.timeout),m=()=>{c=!1,l&&(l=!1,d.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const x=()=>s&&h(),v=r.subscribe(x);return d.add(h),()=>{v(),d.delete(h)}},dispatch(h){var x;try{return s=!((x=h==null?void 0:h.meta)!=null&&x[rX]),l=!s,l&&(c||(c=!0,f(m))),r.dispatch(h)}finally{s=!0}}})},iX=e=>function(n){const{autoBatch:r=!0}=n??{};let s=new QM(e);return r&&s.push(sX(typeof r=="object"?r:void 0)),s};function lX(e){const t=aX(),{reducer:n=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let d;if(typeof n=="function")d=n;else if(t2(n))d=FM(n);else throw new Error(Ka(1));let f;typeof r=="function"?f=r(t):f=t();let m=U0;s&&(m=tX({trace:!1,...typeof s=="object"&&s}));const h=VW(...f),x=iX(h);let v=typeof c=="function"?c(x):x();const y=m(...v);return UM(d,l,y)}function JM(e){const t={},n=[];let r;const s={addCase(l,c){const d=typeof l=="string"?l:l.type;if(!d)throw new Error(Ka(28));if(d in t)throw new Error(Ka(29));return t[d]=c,s},addMatcher(l,c){return n.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,n,r]}function oX(e){return typeof e=="function"}function cX(e,t){let[n,r,s]=JM(t),l;if(oX(e))l=()=>$C(e());else{const d=$C(e);l=()=>d}function c(d=l(),f){let m=[n[f.type],...r.filter(({matcher:h})=>h(f)).map(({reducer:h})=>h)];return m.filter(h=>!!h).length===0&&(m=[s]),m.reduce((h,x)=>{if(x)if(io(h)){const y=x(h,f);return y===void 0?h:y}else{if(ei(h))return XM(h,v=>x(v,f));{const v=x(h,f);if(v===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return h},d)}return c.getInitialState=l,c}var uX="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",dX=(e=21)=>{let t="",n=e;for(;n--;)t+=uX[Math.random()*64|0];return t},fX=Symbol.for("rtk-slice-createasyncthunk");function mX(e,t){return`${e}/${t}`}function hX({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[fX];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(Ka(11));const d=(typeof s.reducers=="function"?s.reducers(xX()):s.reducers)||{},f=Object.keys(d),m={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,A){const T=typeof P=="string"?P:P.type;if(!T)throw new Error(Ka(12));if(T in m.sliceCaseReducersByType)throw new Error(Ka(13));return m.sliceCaseReducersByType[T]=A,h},addMatcher(P,A){return m.sliceMatchers.push({matcher:P,reducer:A}),h},exposeAction(P,A){return m.actionCreators[P]=A,h},exposeCaseReducer(P,A){return m.sliceCaseReducersByName[P]=A,h}};f.forEach(P=>{const A=d[P],T={reducerName:P,type:mX(l,P),createNotation:typeof s.reducers=="function"};vX(A)?yX(T,A,h,t):gX(T,A,h)});function x(){const[P={},A=[],T=void 0]=typeof s.extraReducers=="function"?JM(s.extraReducers):[s.extraReducers],L={...P,...m.sliceCaseReducersByType};return cX(s.initialState,M=>{for(let F in L)M.addCase(F,L[F]);for(let F of m.sliceMatchers)M.addMatcher(F.matcher,F.reducer);for(let F of A)M.addMatcher(F.matcher,F.reducer);T&&M.addDefaultCase(T)})}const v=P=>P,y=new Map,w=new WeakMap;let j;function S(P,A){return j||(j=x()),j(P,A)}function k(){return j||(j=x()),j.getInitialState()}function _(P,A=!1){function T(M){let F=M[P];return typeof F>"u"&&A&&(F=wh(w,T,k)),F}function L(M=v){const F=wh(y,A,()=>new WeakMap);return wh(F,M,()=>{const K={};for(const[V,$]of Object.entries(s.selectors??{}))K[V]=pX($,M,()=>wh(w,M,k),A);return K})}return{reducerPath:P,getSelectors:L,get selectors(){return L(T)},selectSlice:T}}const C={name:l,reducer:S,actions:m.actionCreators,caseReducers:m.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(P,{reducerPath:A,...T}={}){const L=A??c;return P.inject({reducerPath:L,reducer:S},T),{...C,..._(L,!0)}}};return C}}function pX(e,t,n,r){function s(l,...c){let d=t(l);return typeof d>"u"&&r&&(d=n()),e(d,...c)}return s.unwrapped=e,s}var Za=hX();function xX(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function gX({type:e,reducerName:t,createNotation:n},r,s){let l,c;if("reducer"in r){if(n&&!bX(r))throw new Error(Ka(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?br(e,c):br(e))}function vX(e){return e._reducerDefinitionType==="asyncThunk"}function bX(e){return e._reducerDefinitionType==="reducerWithPrepare"}function yX({type:e,reducerName:t},n,r,s){if(!s)throw new Error(Ka(18));const{payloadCreator:l,fulfilled:c,pending:d,rejected:f,settled:m,options:h}=n,x=s(e,l,h);r.exposeAction(t,x),c&&r.addCase(x.fulfilled,c),d&&r.addCase(x.pending,d),f&&r.addCase(x.rejected,f),m&&r.addMatcher(x.settled,m),r.exposeCaseReducer(t,{fulfilled:c||jh,pending:d||jh,rejected:f||jh,settled:m||jh})}function jh(){}var wX="task",eD="listener",tD="completed",r2="cancelled",jX=`task-${r2}`,NX=`task-${tD}`,ow=`${eD}-${r2}`,SX=`${eD}-${tD}`,qp=class{constructor(e){kv(this,"name","TaskAbortError");kv(this,"message");this.code=e,this.message=`${wX} ${r2} (reason: ${e})`}},s2=(e,t)=>{if(typeof e!="function")throw new TypeError(Ka(32))},q0=()=>{},nD=(e,t=q0)=>(e.catch(t),e),aD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Jl=(e,t)=>{const n=e.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},eo=e=>{if(e.aborted){const{reason:t}=e;throw new qp(t)}};function rD(e,t){let n=q0;return new Promise((r,s)=>{const l=()=>s(new qp(e.reason));if(e.aborted){l();return}n=aD(e,l),t.finally(()=>n()).then(r,s)}).finally(()=>{n=q0})}var _X=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof qp?"cancelled":"rejected",error:n}}finally{t==null||t()}},K0=e=>t=>nD(rD(e,t).then(n=>(eo(e),n))),sD=e=>{const t=K0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:kc}=Object,zC={},Kp="listenerMiddleware",kX=(e,t)=>{const n=r=>aD(e,()=>Jl(r,e.reason));return(r,s)=>{s2(r);const l=new AbortController;n(l);const c=_X(async()=>{eo(e),eo(l.signal);const d=await r({pause:K0(l.signal),delay:sD(l.signal),signal:l.signal});return eo(l.signal),d},()=>Jl(l,NX));return s!=null&&s.autoJoin&&t.push(c.catch(q0)),{result:K0(e)(c),cancel(){Jl(l,jX)}}}},CX=(e,t)=>{const n=async(r,s)=>{eo(t);let l=()=>{};const d=[new Promise((f,m)=>{let h=e({predicate:r,effect:(x,v)=>{v.unsubscribe(),f([x,v.getState(),v.getOriginalState()])}});l=()=>{h(),m()}})];s!=null&&d.push(new Promise(f=>setTimeout(f,s,null)));try{const f=await rD(t,Promise.race(d));return eo(t),f}finally{l()}};return(r,s)=>nD(n(r,s))},iD=e=>{let{type:t,actionCreator:n,matcher:r,predicate:s,effect:l}=e;if(t)s=br(t).match;else if(n)t=n.type,s=n.match;else if(r)s=r;else if(!s)throw new Error(Ka(21));return s2(l),{predicate:s,type:t,effect:l}},lD=kc(e=>{const{type:t,predicate:n,effect:r}=iD(e);return{id:dX(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Ka(22))}}},{withTypes:()=>lD}),BC=(e,t)=>{const{type:n,effect:r,predicate:s}=iD(t);return Array.from(e.values()).find(l=>(typeof n=="string"?l.type===n:l.predicate===s)&&l.effect===r)},cw=e=>{e.pending.forEach(t=>{Jl(t,ow)})},AX=e=>()=>{e.forEach(cw),e.clear()},UC=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},oD=kc(br(`${Kp}/add`),{withTypes:()=>oD}),TX=br(`${Kp}/removeAll`),cD=kc(br(`${Kp}/remove`),{withTypes:()=>cD}),EX=(...e)=>{console.error(`${Kp}/error`,...e)},If=(e={})=>{const t=new Map,{extra:n,onError:r=EX}=e;s2(r);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),x=>{h.unsubscribe(),x!=null&&x.cancelActive&&cw(h)}),l=h=>{const x=BC(t,h)??lD(h);return s(x)};kc(l,{withTypes:()=>l});const c=h=>{const x=BC(t,h);return x&&(x.unsubscribe(),h.cancelActive&&cw(x)),!!x};kc(c,{withTypes:()=>c});const d=async(h,x,v,y)=>{const w=new AbortController,j=CX(l,w.signal),S=[];try{h.pending.add(w),await Promise.resolve(h.effect(x,kc({},v,{getOriginalState:y,condition:(k,_)=>j(k,_).then(Boolean),take:j,delay:sD(w.signal),pause:K0(w.signal),extra:n,signal:w.signal,fork:kX(w.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,_,C)=>{k!==w&&(Jl(k,ow),C.delete(k))})},cancel:()=>{Jl(w,ow),h.pending.delete(w)},throwIfCancelled:()=>{eo(w.signal)}})))}catch(k){k instanceof qp||UC(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),Jl(w,SX),h.pending.delete(w)}},f=AX(t);return{middleware:h=>x=>v=>{if(!VM(v))return x(v);if(oD.match(v))return l(v.payload);if(TX.match(v)){f();return}if(cD.match(v))return c(v.payload);let y=h.getState();const w=()=>{if(y===zC)throw new Error(Ka(23));return y};let j;try{if(j=x(v),t.size>0){const S=h.getState(),k=Array.from(t.values());for(const _ of k){let C=!1;try{C=_.predicate(v,S,y)}catch(P){C=!1,UC(r,P,{raisedBy:"predicate"})}C&&d(_,v,h,w)}}}finally{y=zC}return j},startListening:l,stopListening:c,clearListeners:f}};function Ka(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var PX={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},uD=Za({name:"chartLayout",initialState:PX,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:OX,setLayout:MX,setChartSize:DX,setScale:RX}=uD.actions,LX=uD.reducer;function FC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function VC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FC(Object(n),!0).forEach(function(r){$X(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $X(e,t,n){return(t=IX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function IX(e){var t=zX(e,"string");return typeof t=="symbol"?t:t+""}function zX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var G0=Math.PI/180,BX=e=>e*180/Math.PI,jn=(e,t,n,r)=>({x:e+Math.cos(-G0*r)*n,y:t+Math.sin(-G0*r)*n}),dD=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},UX=(e,t)=>{var{x:n,y:r}=e,{x:s,y:l}=t;return Math.sqrt((n-s)**2+(r-l)**2)},FX=(e,t)=>{var{x:n,y:r}=e,{cx:s,cy:l}=t,c=UX({x:n,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var d=(n-s)/c,f=Math.acos(d);return r>l&&(f=2*Math.PI-f),{radius:c,angle:BX(f),angleInRadian:f}},VX=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),s=Math.floor(n/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:n-l*360}},HX=(e,t)=>{var{startAngle:n,endAngle:r}=t,s=Math.floor(n/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},qX=(e,t)=>{var{x:n,y:r}=e,{radius:s,angle:l}=FX({x:n,y:r},t),{innerRadius:c,outerRadius:d}=t;if(s<c||s>d||s===0)return null;var{startAngle:f,endAngle:m}=VX(t),h=l,x;if(f<=m){for(;h>m;)h-=360;for(;h<f;)h+=360;x=h>=f&&h<=m}else{for(;h>f;)h-=360;for(;h<m;)h+=360;x=h>=m&&h<=f}return x?VC(VC({},t),{},{radius:s,angle:HX(h,t)}):null};function fD(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function HC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?HC(Object(n),!0).forEach(function(r){KX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):HC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function KX(e,t,n){return(t=GX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GX(e){var t=YX(e,"string");return typeof t=="symbol"?t:t+""}function YX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ut(e,t,n){return Wt(e)||Wt(t)?n:us(t)?el(e,t,n):typeof t=="function"?t(e):n}var WX=(e,t,n,r,s)=>{var l,c=-1,d=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(d<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var f=0;f<d;f++){var m=f>0?n[f-1].coordinate:n[d-1].coordinate,h=n[f].coordinate,x=f>=d-1?n[0].coordinate:n[f+1].coordinate,v=void 0;if(Bn(h-m)!==Bn(x-h)){var y=[];if(Bn(x-h)===Bn(s[1]-s[0])){v=x;var w=h+s[1]-s[0];y[0]=Math.min(w,(w+m)/2),y[1]=Math.max(w,(w+m)/2)}else{v=m;var j=x+s[1]-s[0];y[0]=Math.min(h,(j+h)/2),y[1]=Math.max(h,(j+h)/2)}var S=[Math.min(h,(v+h)/2),Math.max(h,(v+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:c}=n[f]);break}}else{var k=Math.min(m,x),_=Math.max(m,x);if(e>(k+h)/2&&e<=(_+h)/2){({index:c}=n[f]);break}}}else if(t){for(var C=0;C<d;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===d-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},XX=(e,t,n)=>{if(t&&n){var{width:r,height:s}=n,{align:l,verticalAlign:c,layout:d}=t;if((d==="vertical"||d==="horizontal"&&c==="middle")&&l!=="center"&&He(e[l]))return hr(hr({},e),{},{[l]:e[l]+(r||0)});if((d==="horizontal"||d==="vertical"&&l==="center")&&c!=="middle"&&He(e[c]))return hr(hr({},e),{},{[c]:e[c]+(s||0)})}return e},sl=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",mD=(e,t,n,r)=>{if(r)return e.map(d=>d.coordinate);var s,l,c=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===n&&(l=!0),d.coordinate));return s||c.push(t),l||c.push(n),c},hD=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:d,isCategorical:f,categoricalDomain:m,tickCount:h,ticks:x,niceTicks:v,axisType:y}=e;if(!c)return null;var w=d==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,j=s==="category"&&c.bandwidth?c.bandwidth()/w:0;if(j=y==="angleAxis"&&l&&l.length>=2?Bn(l[0]-l[1])*2*j:j,x||v){var S=(x||v||[]).map((k,_)=>{var C=r?r.indexOf(k):k;return{coordinate:c(C)+j,value:k,offset:j,index:_}});return S.filter(k=>!Ga(k.coordinate))}return f&&m?m.map((k,_)=>({coordinate:c(k)+j,value:k,index:_,offset:j})):c.ticks&&h!=null?c.ticks(h).map((k,_)=>({coordinate:c(k)+j,value:k,offset:j,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+j,value:r?r[k]:k,index:_,offset:j}))},qC=1e-4,ZX=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),s=Math.min(r[0],r[1])-qC,l=Math.max(r[0],r[1])+qC,c=e(t[0]),d=e(t[n-1]);(c<s||c>l||d<s||d>l)&&e.domain([t[0],t[n-1]])}},QX=(e,t)=>{if(!t||t.length!==2||!He(t[0])||!He(t[1]))return e;var n=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!He(e[0])||e[0]<n)&&(s[0]=n),(!He(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<n&&(s[1]=n),s},JX=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,l=0,c=0;c<t;++c){var d=Ga(e[c][n][1])?e[c][n][0]:e[c][n][1];d>=0?(e[c][n][0]=s,e[c][n][1]=s+d,s=e[c][n][1]):(e[c][n][0]=l,e[c][n][1]=l+d,l=e[c][n][1])}},eZ=e=>{var t=e.length;if(!(t<=0))for(var n=0,r=e[0].length;n<r;++n)for(var s=0,l=0;l<t;++l){var c=Ga(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=0,e[l][n][1]=0)}},tZ={sign:JX,expand:DY,none:zc,silhouette:RY,wiggle:LY,positive:eZ},nZ=(e,t,n)=>{var r=tZ[n],s=MY().keys(t).value((l,c)=>+Ut(l,c,0)).order(ew).offset(r);return s(e)};function aZ(e){return e==null?void 0:String(e)}function KC(e){var{axis:t,ticks:n,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!Wt(s[t.dataKey])){var d=oM(n,"value",s[t.dataKey]);if(d)return d.coordinate+r/2}return n[l]?n[l].coordinate+r/2:null}var f=Ut(s,Wt(c)?t.dataKey:c);return Wt(f)?null:t.scale(f)}var GC=e=>{var{axis:t,ticks:n,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return n[c]?n[c].coordinate+r:null;var d=Ut(l,t.dataKey,t.scale.domain()[c]);return Wt(d)?null:t.scale(d)-s/2+r},rZ=e=>{var{numericAxis:t}=e,n=t.scale.domain();if(t.type==="number"){var r=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return r<=0&&s>=0?0:s<0?s:r}return n[0]},sZ=e=>{var t=e.flat(2).filter(He);return[Math.min(...t),Math.max(...t)]},iZ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],lZ=(e,t,n)=>{if(e!=null)return iZ(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,d=c.reduce((f,m)=>{var h=fD(m,t,n),x=sZ(h);return[Math.min(f[0],x[0]),Math.max(f[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],r[0]),Math.max(d[1],r[1])]},[1/0,-1/0]))},YC=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WC=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xf=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var s=Bp(t,h=>h.coordinate),l=1/0,c=1,d=s.length;c<d;c++){var f=s[c],m=s[c-1];l=Math.min((f.coordinate||0)-(m.coordinate||0),l)}return l===1/0?0:l}return n?void 0:0};function XC(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:s,name:l}=e;return hr(hr({},t),{},{dataKey:n,payload:r,value:s,name:l})}function su(e,t){if(e)return String(e);if(typeof t=="string")return t}function oZ(e,t,n,r,s){if(n==="horizontal"||n==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return r?qX({x:e,y:t},r):null}var cZ=(e,t,n,r)=>{var s=t.find(m=>m&&m.index===n);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=r;return hr(hr(hr({},r),jn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var d=s.coordinate,{angle:f}=r;return hr(hr(hr({},r),jn(r.cx,r.cy,d,f)),{},{angle:f,radius:d})}return{x:0,y:0}},uZ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,ii=e=>e.layout.width,li=e=>e.layout.height,dZ=e=>e.layout.scale,pD=e=>e.layout.margin,i2=ve(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),l2=ve(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),xD="data-recharts-item-index",gD="data-recharts-item-data-key",Gp=60;function ZC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ri(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZC(Object(n),!0).forEach(function(r){fZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fZ(e,t,n){return(t=mZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mZ(e){var t=hZ(e,"string");return typeof t=="symbol"?t:t+""}function hZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pZ=e=>e.brush.height,En=ve([ii,li,pD,pZ,i2,l2,BM,$W],(e,t,n,r,s,l,c,d)=>{var f=l.reduce((w,j)=>{var{orientation:S}=j;if(!j.mirror&&!j.hide){var k=typeof j.width=="number"?j.width:Gp;return Ri(Ri({},w),{},{[S]:w[S]+k})}return w},{left:n.left||0,right:n.right||0}),m=s.reduce((w,j)=>{var{orientation:S}=j;return!j.mirror&&!j.hide?Ri(Ri({},w),{},{[S]:el(w,"".concat(S))+j.height}):w},{top:n.top||0,bottom:n.bottom||0}),h=Ri(Ri({},m),f),x=h.bottom;h.bottom+=r,h=XX(h,c,d);var v=e-h.left-h.right,y=t-h.top-h.bottom;return Ri(Ri({brushBottom:x},h),{},{width:Math.max(v,0),height:Math.max(y,0)})}),xZ=ve(En,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),vD=ve(ii,li,(e,t)=>({x:0,y:0,width:e,height:t})),gZ=g.createContext(null),Aa=()=>g.useContext(gZ)!=null,Yp=e=>e.brush,Wp=ve([Yp,En,pD],(e,t,n)=>({height:e.height,x:He(e.x)?e.x:t.left,y:He(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:He(e.width)?e.width:t.width})),o2=()=>{var e,t=Aa(),n=Xe(xZ),r=Xe(Wp),s=(e=Xe(Yp))===null||e===void 0?void 0:e.padding;return!t||!r||!s?n:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},vZ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},bD=()=>{var e;return(e=Xe(En))!==null&&e!==void 0?e:vZ},yD=()=>Xe(ii),wD=()=>Xe(li),yt=e=>e.layout.layoutType,Xp=()=>Xe(yt),bZ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},jD=Za({name:"legend",initialState:bZ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var n=Hs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)}}}),{setLegendSize:ome,setLegendSettings:cme,addLegendPayload:ND,removeLegendPayload:SD}=jD.actions,yZ=jD.reducer;function uw(){return uw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},uw.apply(null,arguments)}function QC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ry(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QC(Object(n),!0).forEach(function(r){wZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function wZ(e,t,n){return(t=jZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jZ(e){var t=NZ(e,"string");return typeof t=="symbol"?t:t+""}function NZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function SZ(e){return Array.isArray(e)&&us(e[0])&&us(e[1])?e.join(" ~ "):e}var _Z=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:d,wrapperClassName:f,labelClassName:m,label:h,labelFormatter:x,accessibilityLayer:v=!1}=e,y=()=>{if(l&&l.length){var A={padding:0,margin:0},T=(d?Bp(l,d):l).map((L,M)=>{if(L.type==="none")return null;var F=L.formatter||c||SZ,{value:K,name:V}=L,$=K,ee=V;if(F){var je=F(K,V,L,M,l);if(Array.isArray(je))[$,ee]=je;else if(je!=null)$=je;else return null}var ne=ry({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:ne},us(ee)?g.createElement("span",{className:"recharts-tooltip-item-name"},ee):null,us(ee)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},$),g.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:A},T)}return null},w=ry({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),j=ry({margin:0},s),S=!Wt(h),k=S?h:"",_=ft("recharts-default-tooltip",f),C=ft("recharts-tooltip-label",m);S&&x&&l!==void 0&&l!==null&&(k=x(h,l));var P=v?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",uw({className:_,style:w},P),g.createElement("p",{className:C,style:j},g.isValidElement(k)?k:"".concat(k)),y())},pd="recharts-tooltip-wrapper",kZ={visibility:"hidden"};function CZ(e){var{coordinate:t,translateX:n,translateY:r}=e;return ft(pd,{["".concat(pd,"-right")]:He(n)&&t&&He(t.x)&&n>=t.x,["".concat(pd,"-left")]:He(n)&&t&&He(t.x)&&n<t.x,["".concat(pd,"-bottom")]:He(r)&&t&&He(t.y)&&r>=t.y,["".concat(pd,"-top")]:He(r)&&t&&He(t.y)&&r<t.y})}function JC(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:d,viewBox:f,viewBoxDimension:m}=e;if(l&&He(l[r]))return l[r];var h=n[r]-d-(s>0?s:0),x=n[r]+s;if(t[r])return c[r]?h:x;var v=f[r];if(v==null)return 0;if(c[r]){var y=h,w=v;return y<w?Math.max(x,v):Math.max(h,v)}if(m==null)return 0;var j=x+d,S=v+m;return j>S?Math.max(h,v):Math.max(x,v)}function AZ(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function TZ(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:d,viewBox:f}=e,m,h,x;return c.height>0&&c.width>0&&n?(h=JC({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:f,viewBoxDimension:f.width}),x=JC({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:f,viewBoxDimension:f.height}),m=AZ({translateX:h,translateY:x,useTranslate3d:d})):m=kZ,{cssProperties:m,cssClasses:CZ({translateX:h,translateY:x,coordinate:n})}}function eA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Nh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eA(Object(n),!0).forEach(function(r){dw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function dw(e,t,n){return(t=EZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function EZ(e){var t=PZ(e,"string");return typeof t=="symbol"?t:t+""}function PZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class OZ extends g.PureComponent{constructor(){super(...arguments),dw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),dw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:d,isAnimationActive:f,offset:m,position:h,reverseDirection:x,useTranslate3d:v,viewBox:y,wrapperStyle:w,lastBoundingBox:j,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=TZ({allowEscapeViewBox:n,coordinate:c,offsetTopLeft:m,position:h,reverseDirection:x,tooltipBox:{height:j.height,width:j.width},useTranslate3d:v,viewBox:y}),P=k?{}:Nh(Nh({transition:f&&t?"transform ".concat(r,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),A=Nh(Nh({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},w);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:A,ref:S},l)}}var MZ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fo={isSsr:MZ()},_D=()=>Xe(e=>e.rootProps.accessibilityLayer);function Xa(e){return Number.isFinite(e)}function Uc(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function fw(){return fw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fw.apply(null,arguments)}function tA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function nA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tA(Object(n),!0).forEach(function(r){DZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function DZ(e,t,n){return(t=RZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function RZ(e){var t=LZ(e,"string");return typeof t=="symbol"?t:t+""}function LZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aA={curveBasisClosed:jY,curveBasisOpen:NY,curveBasis:wY,curveBumpX:lY,curveBumpY:oY,curveLinearClosed:SY,curveLinear:Ip,curveMonotoneX:_Y,curveMonotoneY:kY,curveNatural:CY,curveStep:AY,curveStepAfter:EY,curveStepBefore:TY},Sh=e=>Xa(e.x)&&Xa(e.y),xd=e=>e.x,gd=e=>e.y,$Z=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(Lf(e));return(n==="curveMonotone"||n==="curveBump")&&t?aA["".concat(n).concat(t==="vertical"?"Y":"X")]:aA[n]||Ip},IZ=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=$Z(t,s),d=l?n.filter(Sh):n,f;if(Array.isArray(r)){var m=l?r.filter(x=>Sh(x)):r,h=d.map((x,v)=>nA(nA({},x),{},{base:m[v]}));return s==="vertical"?f=vh().y(gd).x1(xd).x0(x=>x.base.x):f=vh().x(xd).y1(gd).y0(x=>x.base.y),f.defined(Sh).curve(c),f(h)}return s==="vertical"&&He(r)?f=vh().y(gd).x1(xd).x0(r):He(r)?f=vh().x(xd).y1(gd).y0(r):f=vM().x(xd).y(gd),f.defined(Sh).curve(c),f(d)},c2=e=>{var{className:t,points:n,path:r,pathRef:s}=e;if((!n||!n.length)&&!r)return null;var l=n&&n.length?IZ(e):r;return g.createElement("path",fw({},si(e),qj(e),{className:ft("recharts-curve",t),d:l===null?void 0:l,ref:s}))},zZ=["x","y","top","left","width","height","className"];function mw(){return mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mw.apply(null,arguments)}function rA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function BZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rA(Object(n),!0).forEach(function(r){UZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function UZ(e,t,n){return(t=FZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function FZ(e){var t=VZ(e,"string");return typeof t=="symbol"?t:t+""}function VZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HZ(e,t){if(e==null)return{};var n,r,s=qZ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function qZ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var KZ=(e,t,n,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(n),GZ=e=>{var{x:t=0,y:n=0,top:r=0,left:s=0,width:l=0,height:c=0,className:d}=e,f=HZ(e,zZ),m=BZ({x:t,y:n,top:r,left:s,width:l,height:c},f);return!He(t)||!He(n)||!He(l)||!He(c)||!He(r)||!He(s)?null:g.createElement("path",mw({},Jt(m,!0),{className:ft("recharts-cross",d),d:KZ(t,n,l,c,r,s)}))};function YZ(e,t,n,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-s,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function sA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function WZ(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sA(Object(n),!0).forEach(function(r){XZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XZ(e,t,n){return(t=ZZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qa(e,t){var n=WZ({},e),r=t,s=Object.keys(t),l=s.reduce((c,d)=>(c[d]===void 0&&r[d]!==void 0&&(c[d]=r[d]),c),n);return l}var sy={},iy={},ly={},iA;function JZ(){return iA||(iA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}e.isPlainObject=t}(ly)),ly}var lA;function eQ(){return lA||(lA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=JZ(),n=DM(),r=Qj(),s=Jj(),l=Xj();function c(m,h,x){return d(m,h,void 0,void 0,void 0,void 0,x)}function d(m,h,x,v,y,w,j){const S=j(m,h,x,v,y,w);if(S!==void 0)return S;if(typeof m==typeof h)switch(typeof m){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return m===h;case"number":return m===h||Object.is(m,h);case"function":return m===h;case"object":return f(m,h,w,j)}return f(m,h,w,j)}function f(m,h,x,v){if(Object.is(m,h))return!0;let y=r.getTag(m),w=r.getTag(h);if(y===s.argumentsTag&&(y=s.objectTag),w===s.argumentsTag&&(w=s.objectTag),y!==w)return!1;switch(y){case s.stringTag:return m.toString()===h.toString();case s.numberTag:{const k=m.valueOf(),_=h.valueOf();return l.eq(k,_)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(m.valueOf(),h.valueOf());case s.regexpTag:return m.source===h.source&&m.flags===h.flags;case s.functionTag:return m===h}x=x??new Map;const j=x.get(m),S=x.get(h);if(j!=null&&S!=null)return j===h;x.set(m,h),x.set(h,m);try{switch(y){case s.mapTag:{if(m.size!==h.size)return!1;for(const[k,_]of m.entries())if(!h.has(k)||!d(_,h.get(k),k,m,h,x,v))return!1;return!0}case s.setTag:{if(m.size!==h.size)return!1;const k=Array.from(m.values()),_=Array.from(h.values());for(let C=0;C<k.length;C++){const P=k[C],A=_.findIndex(T=>d(P,T,void 0,m,h,x,v));if(A===-1)return!1;_.splice(A,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(m)!==Buffer.isBuffer(h)||m.length!==h.length)return!1;for(let k=0;k<m.length;k++)if(!d(m[k],h[k],k,m,h,x,v))return!1;return!0}case s.arrayBufferTag:return m.byteLength!==h.byteLength?!1:f(new Uint8Array(m),new Uint8Array(h),x,v);case s.dataViewTag:return m.byteLength!==h.byteLength||m.byteOffset!==h.byteOffset?!1:f(new Uint8Array(m),new Uint8Array(h),x,v);case s.errorTag:return m.name===h.name&&m.message===h.message;case s.objectTag:{if(!(f(m.constructor,h.constructor,x,v)||t.isPlainObject(m)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(m),...n.getSymbols(m)],C=[...Object.keys(h),...n.getSymbols(h)];if(_.length!==C.length)return!1;for(let P=0;P<_.length;P++){const A=_[P],T=m[A];if(!Object.hasOwn(h,A))return!1;const L=h[A];if(!d(T,L,A,m,h,x,v))return!1}return!0}default:return!1}}finally{x.delete(m),x.delete(h)}}e.isEqualWith=c}(iy)),iy}var oy={},oA;function tQ(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(oy)),oy}var cA;function nQ(){return cA||(cA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eQ(),n=tQ();function r(s,l){return t.isEqualWith(s,l,n.noop)}e.isEqual=r}(sy)),sy}var cy,uA;function aQ(){return uA||(uA=1,cy=nQ().isEqual),cy}var rQ=aQ();const sQ=Ur(rQ);var Y0=1e-4,kD=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],CD=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),dA=(e,t)=>n=>{var r=kD(e,t);return CD(r,n)},iQ=(e,t)=>n=>{var r=kD(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return CD(s,n)},fA=function(){for(var t,n,r,s,l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];if(c.length===1)switch(c[0]){case"linear":[t,r,n,s]=[0,0,1,1];break;case"ease":[t,r,n,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,n,s]=[.42,0,1,1];break;case"ease-out":[t,r,n,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,n,s]=[0,0,.58,1];break;default:{var f=c[0].split("(");f[0]==="cubic-bezier"&&f[1].split(")")[0].split(",").length===4&&([t,r,n,s]=f[1].split(")")[0].split(",").map(w=>parseFloat(w)))}}else c.length===4&&([t,r,n,s]=c);var m=dA(t,n),h=dA(r,s),x=iQ(t,n),v=w=>w>1?1:w<0?0:w,y=w=>{for(var j=w>1?1:w,S=j,k=0;k<8;++k){var _=m(S)-j,C=x(S);if(Math.abs(_-j)<Y0||C<Y0)return h(S);S=v(S-_/C)}return h(S)};return y.isStepper=!1,y},lQ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:s=17}=t,l=(c,d,f)=>{var m=-(c-d)*n,h=f*r,x=f+(m-h)*s/1e3,v=f*s/1e3+c;return Math.abs(v-d)<Y0&&Math.abs(x)<Y0?[d,0]:[v,x]};return l.isStepper=!0,l.dt=s,l},AD=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return fA(e);case"spring":return lQ();default:if(e.split("(")[0]==="cubic-bezier")return fA(e)}return typeof e=="function"?e:null};function mA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function hA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mA(Object(n),!0).forEach(function(r){oQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oQ(e,t,n){return(t=cQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function cQ(e){var t=uQ(e,"string");return typeof t=="symbol"?t:t+""}function uQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var dQ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),fQ=(e,t,n)=>e.map(r=>"".concat(dQ(r)," ").concat(t,"ms ").concat(n)).join(","),mQ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(s=>r.includes(s))),gf=(e,t)=>Object.keys(t).reduce((n,r)=>hA(hA({},n),{},{[r]:e(r,t[r])}),{});function pA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Wn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pA(Object(n),!0).forEach(function(r){hQ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hQ(e,t,n){return(t=pQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pQ(e){var t=xQ(e,"string");return typeof t=="symbol"?t:t+""}function xQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var W0=(e,t,n)=>e+(t-e)*n,hw=e=>{var{from:t,to:n}=e;return t!==n},TD=(e,t,n)=>{var r=gf((s,l)=>{if(hw(l)){var[c,d]=e(l.from,l.to,l.velocity);return Wn(Wn({},l),{},{from:c,velocity:d})}return l},t);return n<1?gf((s,l)=>hw(l)?Wn(Wn({},l),{},{velocity:W0(l.velocity,r[s].velocity,n),from:W0(l.from,r[s].from,n)}):l,t):TD(e,r,n-1)};function gQ(e,t,n,r,s,l){var c,d=r.reduce((v,y)=>Wn(Wn({},v),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),f=()=>gf((v,y)=>y.from,d),m=()=>!Object.values(d).filter(hw).length,h=null,x=v=>{c||(c=v);var y=v-c,w=y/n.dt;d=TD(n,d,w),s(Wn(Wn(Wn({},e),t),f())),c=v,m()||(h=l.setTimeout(x))};return()=>(h=l.setTimeout(x),()=>{h()})}function vQ(e,t,n,r,s,l,c){var d=null,f=s.reduce((x,v)=>Wn(Wn({},x),{},{[v]:[e[v],t[v]]}),{}),m,h=x=>{m||(m=x);var v=(x-m)/r,y=gf((j,S)=>W0(...S,n(v)),f);if(l(Wn(Wn(Wn({},e),t),y)),v<1)d=c.setTimeout(h);else{var w=gf((j,S)=>W0(...S,n(1)),f);l(Wn(Wn(Wn({},e),t),w))}};return()=>(d=c.setTimeout(h),()=>{d()})}const ED=(e,t,n,r,s,l)=>{var c=mQ(e,t);return n.isStepper===!0?gQ(e,t,n,c,s,l):vQ(e,t,n,r,c,s,l)};function bQ(e){var t,n=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var d=c,[f,...m]=d;if(typeof f=="number"){s=e.setTimeout(l.bind(null,m),f);return}l(f),s=e.setTimeout(l.bind(null,m));return}typeof c=="string"&&(t=c,n(t)),typeof c=="object"&&(t=c,n(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(n=c,()=>{n=()=>null}),getTimeoutController:()=>e}}class yQ{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=n?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function wQ(){return bQ(new yQ)}var jQ=g.createContext(wQ);function PD(e,t){var n=g.useContext(jQ);return g.useMemo(()=>t??n(e),[e,t,n])}var NQ=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pw.apply(null,arguments)}function SQ(e,t){if(e==null)return{};var n,r,s=_Q(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function _Q(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function xA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Li(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xA(Object(n),!0).forEach(function(r){Gl(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gl(e,t,n){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class u2 extends g.PureComponent{constructor(t,n){super(t,n),Gl(this,"mounted",!1),Gl(this,"manager",void 0),Gl(this,"stopJSAnimation",null),Gl(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:l,to:c,children:d,duration:f,animationManager:m}=this.props;if(this.manager=m,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||f<=0){this.state={style:{}},typeof d=="function"&&(this.state={style:c});return}if(l){if(typeof d=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:n}=this.props;this.mounted=!0,!(!t||!n)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:n,canBegin:r,attributeName:s,shouldReAnimate:l,to:c,from:d}=this.props,{style:f}=this.state;if(r){if(!n){var m={style:s?{[s]:c}:c};this.state&&f&&(s&&f[s]!==c||!s&&f!==c)&&this.setState(m);return}if(!(sQ(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var x=h||l?d:t.to;if(this.state&&f){var v={style:s?{[s]:x}:x};(s&&f[s]!==x||!s&&f!==x)&&this.setState(v)}this.runAnimation(Li(Li({},this.props),{},{from:x,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:n,to:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f}=t,m=ED(n,r,AD(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=m()};this.manager.start([f,c,h,s,d])}runAnimation(t){var{begin:n,duration:r,attributeName:s,to:l,easing:c,onAnimationStart:d,onAnimationEnd:f,children:m}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof m=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,x=fQ(Object.keys(h),r,c);this.manager.start([d,n,Li(Li({},h),{},{transition:x}),r,f])}render(){var t=this.props,{children:n,begin:r,duration:s,attributeName:l,easing:c,isActive:d,from:f,to:m,canBegin:h,onAnimationEnd:x,shouldReAnimate:v,onAnimationReStart:y,animationManager:w}=t,j=SQ(t,NQ),S=g.Children.count(n),k=this.state.style;if(typeof n=="function")return n(k);if(!d||S===0||s<=0)return n;var _=C=>{var{style:P={},className:A}=C.props,T=g.cloneElement(C,Li(Li({},j),{},{style:Li(Li({},P),k),className:A}));return T};return S===1?_(g.Children.only(n)):g.createElement("div",null,g.Children.map(n,C=>_(C)))}}Gl(u2,"displayName","Animate");Gl(u2,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function X0(e){var t,n=PD((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return g.createElement(u2,pw({},e,{animationManager:n}))}function Z0(){return Z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Z0.apply(null,arguments)}var gA=(e,t,n,r,s)=>{var l=Math.min(Math.abs(n)/2,Math.abs(r)/2),c=r>=0?1:-1,d=n>=0?1:-1,f=r>=0&&n>=0||r<0&&n<0?1:0,m;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],x=0,v=4;x<v;x++)h[x]=s[x]>l?l:s[x];m="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(m+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(f,",").concat(e+d*h[0],",").concat(t)),m+="L ".concat(e+n-d*h[1],",").concat(t),h[1]>0&&(m+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(f,`,
        `).concat(e+n,",").concat(t+c*h[1])),m+="L ".concat(e+n,",").concat(t+r-c*h[2]),h[2]>0&&(m+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(f,`,
        `).concat(e+n-d*h[2],",").concat(t+r)),m+="L ".concat(e+d*h[3],",").concat(t+r),h[3]>0&&(m+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(f,`,
        `).concat(e,",").concat(t+r-c*h[3])),m+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);m="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+d*y,",").concat(t,`
            L `).concat(e+n-d*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+n,",").concat(t+c*y,`
            L `).concat(e+n,",").concat(t+r-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e+n-d*y,",").concat(t+r,`
            L `).concat(e+d*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(f,",").concat(e,",").concat(t+r-c*y," Z")}else m="M ".concat(e,",").concat(t," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return m},AQ={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},OD=e=>{var t=Qa(e,AQ),n=g.useRef(null),[r,s]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var k=n.current.getTotalLength();k&&s(k)}catch{}},[]);var{x:l,y:c,width:d,height:f,radius:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:y,isAnimationActive:w,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||d===0||f===0)return null;var S=ft("recharts-rectangle",h);return j?g.createElement(X0,{canBegin:r>0,from:{width:d,height:f,x:l,y:c},to:{width:d,height:f,x:l,y:c},duration:v,animationEasing:x,isActive:j},k=>{var{width:_,height:C,x:P,y:A}=k;return g.createElement(X0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,isActive:w,easing:x},g.createElement("path",Z0({},Jt(t,!0),{className:S,d:gA(P,A,_,C,m),ref:n})))}):g.createElement("path",Z0({},Jt(t,!0),{className:S,d:gA(l,c,d,f,m)}))};function MD(e){var{cx:t,cy:n,radius:r,startAngle:s,endAngle:l}=e,c=jn(t,n,r,s),d=jn(t,n,r,l);return{points:[c,d],cx:t,cy:n,radius:r,startAngle:s,endAngle:l}}function xw(){return xw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xw.apply(null,arguments)}var TQ=(e,t)=>{var n=Bn(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},_h=e=>{var{cx:t,cy:n,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:d,cornerIsExternal:f}=e,m=d*(c?1:-1)+r,h=Math.asin(d/m)/G0,x=f?s:s+l*h,v=jn(t,n,m,x),y=jn(t,n,r,x),w=f?s-l*h:s,j=jn(t,n,m*Math.cos(h*G0),w);return{center:v,circleTangency:y,lineTangency:j,theta:h}},DD=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,d=TQ(l,c),f=l+d,m=jn(t,n,s,l),h=jn(t,n,s,f),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(l>f),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var v=jn(t,n,r,l),y=jn(t,n,r,f);x+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(l<=f),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(t,",").concat(n," Z");return x},EQ=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}=e,h=Bn(m-f),{circleTangency:x,lineTangency:v,theta:y}=_h({cx:t,cy:n,radius:s,angle:f,sign:h,cornerRadius:l,cornerIsExternal:d}),{circleTangency:w,lineTangency:j,theta:S}=_h({cx:t,cy:n,radius:s,angle:m,sign:-h,cornerRadius:l,cornerIsExternal:d}),k=d?Math.abs(f-m):Math.abs(f-m)-y-S;if(k<0)return c?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):DD({cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:f,endAngle:m});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:P,theta:A}=_h({cx:t,cy:n,radius:r,angle:f,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),{circleTangency:T,lineTangency:L,theta:M}=_h({cx:t,cy:n,radius:r,angle:m,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:d}),F=d?Math.abs(f-m):Math.abs(f-m)-A-M;if(F<0&&l===0)return"".concat(_,"L").concat(t,",").concat(n,"Z");_+="L".concat(L.x,",").concat(L.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(T.x,",").concat(T.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(n,"Z");return _},PQ={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},d2=e=>{var t=Qa(e,PQ),{cx:n,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h,className:x}=t;if(l<s||m===h)return null;var v=ft("recharts-sector",x),y=l-s,w=ha(c,y,0,!0),j;return w>0&&Math.abs(m-h)<360?j=EQ({cx:n,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(w,y/2),forceCornerRadius:d,cornerIsExternal:f,startAngle:m,endAngle:h}):j=DD({cx:n,cy:r,innerRadius:s,outerRadius:l,startAngle:m,endAngle:h}),g.createElement("path",xw({},Jt(t,!0),{className:v,d:j}))};function OQ(e,t,n){var r,s,l,c;if(e==="horizontal")r=t.x,l=r,s=n.top,c=n.top+n.height;else if(e==="vertical")s=t.y,c=s,r=n.left,l=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:f,innerRadius:m,outerRadius:h,angle:x}=t,v=jn(d,f,m,x),y=jn(d,f,h,x);r=v.x,s=v.y,l=y.x,c=y.y}else return MD(t);return[{x:r,y:s},{x:l,y:c}]}var uy={},dy={},fy={},vA;function MQ(){return vA||(vA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=IM();function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n}(fy)),fy}var bA;function DQ(){return bA||(bA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MQ();function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n}(dy)),dy}var yA;function RQ(){return yA||(yA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zM(),n=DQ();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=n.toFinite(s),l===void 0?(l=s,s=0):l=n.toFinite(l),c=c===void 0?s<l?1:-1:n.toFinite(c);const d=Math.max(Math.ceil((l-s)/(c||1)),0),f=new Array(d);for(let m=0;m<d;m++)f[m]=s,s+=c;return f}e.range=r}(uy)),uy}var my,wA;function LQ(){return wA||(wA=1,my=RQ().range),my}var $Q=LQ();const RD=Ur($Q);function Wi(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function IQ(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function f2(e){let t,n,r;e.length!==2?(t=Wi,n=(d,f)=>Wi(e(d),f),r=(d,f)=>e(d)-f):(t=e===Wi||e===IQ?e:zQ,n=e,r=e);function s(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<0?m=x+1:h=x}while(m<h)}return m}function l(d,f,m=0,h=d.length){if(m<h){if(t(f,f)!==0)return h;do{const x=m+h>>>1;n(d[x],f)<=0?m=x+1:h=x}while(m<h)}return m}function c(d,f,m=0,h=d.length){const x=s(d,f,m,h-1);return x>m&&r(d[x-1],f)>-r(d[x],f)?x-1:x}return{left:s,center:c,right:l}}function zQ(){return 0}function LD(e){return e===null?NaN:+e}function*BQ(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const UQ=f2(Wi),zf=UQ.right;f2(LD).center;class jA extends Map{constructor(t,n=HQ){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(NA(this,t))}has(t){return super.has(NA(this,t))}set(t,n){return super.set(FQ(this,t),n)}delete(t){return super.delete(VQ(this,t))}}function NA({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function FQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function VQ({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function HQ(e){return e!==null&&typeof e=="object"?e.valueOf():e}function qQ(e=Wi){if(e===Wi)return $D;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function $D(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const KQ=Math.sqrt(50),GQ=Math.sqrt(10),YQ=Math.sqrt(2);function Q0(e,t,n){const r=(t-e)/Math.max(0,n),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=KQ?10:l>=GQ?5:l>=YQ?2:1;let d,f,m;return s<0?(m=Math.pow(10,-s)/c,d=Math.round(e*m),f=Math.round(t*m),d/m<e&&++d,f/m>t&&--f,m=-m):(m=Math.pow(10,s)*c,d=Math.round(e/m),f=Math.round(t/m),d*m<e&&++d,f*m>t&&--f),f<d&&.5<=n&&n<2?Q0(e,t,n*2):[d,f,m]}function gw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?Q0(t,e,n):Q0(e,t,n);if(!(l>=s))return[];const d=l-s+1,f=new Array(d);if(r)if(c<0)for(let m=0;m<d;++m)f[m]=(l-m)/-c;else for(let m=0;m<d;++m)f[m]=(l-m)*c;else if(c<0)for(let m=0;m<d;++m)f[m]=(s+m)/-c;else for(let m=0;m<d;++m)f[m]=(s+m)*c;return f}function vw(e,t,n){return t=+t,e=+e,n=+n,Q0(e,t,n)[2]}function bw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,s=r?vw(t,e,n):vw(e,t,n);return(r?-1:1)*(s<0?1/-s:s)}function SA(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function _A(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function ID(e,t,n=0,r=1/0,s){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(s=s===void 0?$D:qQ(s);r>n;){if(r-n>600){const f=r-n+1,m=t-n+1,h=Math.log(f),x=.5*Math.exp(2*h/3),v=.5*Math.sqrt(h*x*(f-x)/f)*(m-f/2<0?-1:1),y=Math.max(n,Math.floor(t-m*x/f+v)),w=Math.min(r,Math.floor(t+(f-m)*x/f+v));ID(e,t,y,w,s)}const l=e[t];let c=n,d=r;for(vd(e,n,t),s(e[r],l)>0&&vd(e,n,r);c<d;){for(vd(e,c,d),++c,--d;s(e[c],l)<0;)++c;for(;s(e[d],l)>0;)--d}s(e[n],l)===0?vd(e,n,d):(++d,vd(e,d,r)),d<=t&&(n=d+1),t<=d&&(r=d-1)}return e}function vd(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function WQ(e,t,n){if(e=Float64Array.from(BQ(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return _A(e);if(t>=1)return SA(e);var r,s=(r-1)*t,l=Math.floor(s),c=SA(ID(e,l).subarray(0,l+1)),d=_A(e.subarray(l+1));return c+(d-c)*(s-l)}}function XQ(e,t,n=LD){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+n(e[l],l,e),d=+n(e[l+1],l+1,e);return c+(d-c)*(s-l)}}function ZQ(e,t,n){e=+e,t=+t,n=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+n;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/n))|0,l=new Array(s);++r<s;)l[r]=e+r*n;return l}function jr(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function oi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const yw=Symbol("implicit");function m2(){var e=new jA,t=[],n=[],r=yw;function s(l){let c=e.get(l);if(c===void 0){if(r!==yw)return r;e.set(l,c=t.push(l)-1)}return n[c%n.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new jA;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(n=Array.from(l),s):n.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return m2(t,n).unknown(r)},jr.apply(s,arguments),s}function h2(){var e=m2().unknown(void 0),t=e.domain,n=e.range,r=0,s=1,l,c,d=!1,f=0,m=0,h=.5;delete e.unknown;function x(){var v=t().length,y=s<r,w=y?s:r,j=y?r:s;l=(j-w)/Math.max(1,v-f+m*2),d&&(l=Math.floor(l)),w+=(j-w-l*(v-f))*h,c=l*(1-f),d&&(w=Math.round(w),c=Math.round(c));var S=ZQ(v).map(function(k){return w+l*k});return n(y?S.reverse():S)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([r,s]=v,r=+r,s=+s,x()):[r,s]},e.rangeRound=function(v){return[r,s]=v,r=+r,s=+s,d=!0,x()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(v){return arguments.length?(d=!!v,x()):d},e.padding=function(v){return arguments.length?(f=Math.min(1,m=+v),x()):f},e.paddingInner=function(v){return arguments.length?(f=Math.min(1,v),x()):f},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(h=Math.max(0,Math.min(1,v)),x()):h},e.copy=function(){return h2(t(),[r,s]).round(d).paddingInner(f).paddingOuter(m).align(h)},jr.apply(x(),arguments)}function zD(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return zD(t())},e}function QQ(){return zD(h2.apply(null,arguments).paddingInner(1))}function p2(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function BD(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function Bf(){}var vf=.7,J0=1/vf,Cc="\\s*([+-]?\\d+)\\s*",bf="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",cs="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",JQ=/^#([0-9a-f]{3,8})$/,eJ=new RegExp(`^rgb\\(${Cc},${Cc},${Cc}\\)$`),tJ=new RegExp(`^rgb\\(${cs},${cs},${cs}\\)$`),nJ=new RegExp(`^rgba\\(${Cc},${Cc},${Cc},${bf}\\)$`),aJ=new RegExp(`^rgba\\(${cs},${cs},${cs},${bf}\\)$`),rJ=new RegExp(`^hsl\\(${bf},${cs},${cs}\\)$`),sJ=new RegExp(`^hsla\\(${bf},${cs},${cs},${bf}\\)$`),kA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};p2(Bf,yf,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:CA,formatHex:CA,formatHex8:iJ,formatHsl:lJ,formatRgb:AA,toString:AA});function CA(){return this.rgb().formatHex()}function iJ(){return this.rgb().formatHex8()}function lJ(){return UD(this).formatHsl()}function AA(){return this.rgb().formatRgb()}function yf(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=JQ.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?TA(t):n===3?new _a(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?kh(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?kh(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eJ.exec(e))?new _a(t[1],t[2],t[3],1):(t=tJ.exec(e))?new _a(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nJ.exec(e))?kh(t[1],t[2],t[3],t[4]):(t=aJ.exec(e))?kh(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=rJ.exec(e))?OA(t[1],t[2]/100,t[3]/100,1):(t=sJ.exec(e))?OA(t[1],t[2]/100,t[3]/100,t[4]):kA.hasOwnProperty(e)?TA(kA[e]):e==="transparent"?new _a(NaN,NaN,NaN,0):null}function TA(e){return new _a(e>>16&255,e>>8&255,e&255,1)}function kh(e,t,n,r){return r<=0&&(e=t=n=NaN),new _a(e,t,n,r)}function oJ(e){return e instanceof Bf||(e=yf(e)),e?(e=e.rgb(),new _a(e.r,e.g,e.b,e.opacity)):new _a}function ww(e,t,n,r){return arguments.length===1?oJ(e):new _a(e,t,n,r??1)}function _a(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}p2(_a,ww,BD(Bf,{brighter(e){return e=e==null?J0:Math.pow(J0,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?vf:Math.pow(vf,e),new _a(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _a(to(this.r),to(this.g),to(this.b),ep(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EA,formatHex:EA,formatHex8:cJ,formatRgb:PA,toString:PA}));function EA(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}`}function cJ(){return`#${Yl(this.r)}${Yl(this.g)}${Yl(this.b)}${Yl((isNaN(this.opacity)?1:this.opacity)*255)}`}function PA(){const e=ep(this.opacity);return`${e===1?"rgb(":"rgba("}${to(this.r)}, ${to(this.g)}, ${to(this.b)}${e===1?")":`, ${e})`}`}function ep(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function to(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Yl(e){return e=to(e),(e<16?"0":"")+e.toString(16)}function OA(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Rr(e,t,n,r)}function UD(e){if(e instanceof Rr)return new Rr(e.h,e.s,e.l,e.opacity);if(e instanceof Bf||(e=yf(e)),!e)return new Rr;if(e instanceof Rr)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,s=Math.min(t,n,r),l=Math.max(t,n,r),c=NaN,d=l-s,f=(l+s)/2;return d?(t===l?c=(n-r)/d+(n<r)*6:n===l?c=(r-t)/d+2:c=(t-n)/d+4,d/=f<.5?l+s:2-l-s,c*=60):d=f>0&&f<1?0:c,new Rr(c,d,f,e.opacity)}function uJ(e,t,n,r){return arguments.length===1?UD(e):new Rr(e,t,n,r??1)}function Rr(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}p2(Rr,uJ,BD(Bf,{brighter(e){return e=e==null?J0:Math.pow(J0,e),new Rr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?vf:Math.pow(vf,e),new Rr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,s=2*n-r;return new _a(hy(e>=240?e-240:e+120,s,r),hy(e,s,r),hy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new Rr(MA(this.h),Ch(this.s),Ch(this.l),ep(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ep(this.opacity);return`${e===1?"hsl(":"hsla("}${MA(this.h)}, ${Ch(this.s)*100}%, ${Ch(this.l)*100}%${e===1?")":`, ${e})`}`}}));function MA(e){return e=(e||0)%360,e<0?e+360:e}function Ch(e){return Math.max(0,Math.min(1,e||0))}function hy(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const x2=e=>()=>e;function dJ(e,t){return function(n){return e+n*t}}function fJ(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function mJ(e){return(e=+e)==1?FD:function(t,n){return n-t?fJ(t,n,e):x2(isNaN(t)?n:t)}}function FD(e,t){var n=t-e;return n?dJ(e,n):x2(isNaN(e)?t:e)}const DA=function e(t){var n=mJ(t);function r(s,l){var c=n((s=ww(s)).r,(l=ww(l)).r),d=n(s.g,l.g),f=n(s.b,l.b),m=FD(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=d(h),s.b=f(h),s.opacity=m(h),s+""}}return r.gamma=e,r}(1);function hJ(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<n;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function pJ(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function xJ(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,s=new Array(r),l=new Array(n),c;for(c=0;c<r;++c)s[c]=iu(e[c],t[c]);for(;c<n;++c)l[c]=t[c];return function(d){for(c=0;c<r;++c)l[c]=s[c](d);return l}}function gJ(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function tp(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vJ(e,t){var n={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?n[s]=iu(e[s],t[s]):r[s]=t[s];return function(l){for(s in n)r[s]=n[s](l);return r}}var jw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,py=new RegExp(jw.source,"g");function bJ(e){return function(){return e}}function yJ(e){return function(t){return e(t)+""}}function wJ(e,t){var n=jw.lastIndex=py.lastIndex=0,r,s,l,c=-1,d=[],f=[];for(e=e+"",t=t+"";(r=jw.exec(e))&&(s=py.exec(t));)(l=s.index)>n&&(l=t.slice(n,l),d[c]?d[c]+=l:d[++c]=l),(r=r[0])===(s=s[0])?d[c]?d[c]+=s:d[++c]=s:(d[++c]=null,f.push({i:c,x:tp(r,s)})),n=py.lastIndex;return n<t.length&&(l=t.slice(n),d[c]?d[c]+=l:d[++c]=l),d.length<2?f[0]?yJ(f[0].x):bJ(t):(t=f.length,function(m){for(var h=0,x;h<t;++h)d[(x=f[h]).i]=x.x(m);return d.join("")})}function iu(e,t){var n=typeof t,r;return t==null||n==="boolean"?x2(t):(n==="number"?tp:n==="string"?(r=yf(t))?(t=r,DA):wJ:t instanceof yf?DA:t instanceof Date?gJ:pJ(t)?hJ:Array.isArray(t)?xJ:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vJ:tp)(e,t)}function g2(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function jJ(e,t){t===void 0&&(t=e,e=iu);for(var n=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);n<r;)l[n]=e(s,s=t[++n]);return function(c){var d=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[d](c-d)}}function NJ(e){return function(){return e}}function np(e){return+e}var RA=[0,1];function ma(e){return e}function Nw(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:NJ(isNaN(t)?NaN:.5)}function SJ(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function _J(e,t,n){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=Nw(s,r),l=n(c,l)):(r=Nw(r,s),l=n(l,c)),function(d){return l(r(d))}}function kJ(e,t,n){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=Nw(e[c],e[c+1]),l[c]=n(t[c],t[c+1]);return function(d){var f=zf(e,d,1,r)-1;return l[f](s[f](d))}}function Uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Zp(){var e=RA,t=RA,n=iu,r,s,l,c=ma,d,f,m;function h(){var v=Math.min(e.length,t.length);return c!==ma&&(c=SJ(e[0],e[v-1])),d=v>2?kJ:_J,f=m=null,x}function x(v){return v==null||isNaN(v=+v)?l:(f||(f=d(e.map(r),t,n)))(r(c(v)))}return x.invert=function(v){return c(s((m||(m=d(t,e.map(r),tp)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,np),h()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),h()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),n=g2,h()},x.clamp=function(v){return arguments.length?(c=v?!0:ma,h()):c!==ma},x.interpolate=function(v){return arguments.length?(n=v,h()):n},x.unknown=function(v){return arguments.length?(l=v,x):l},function(v,y){return r=v,s=y,h()}}function v2(){return Zp()(ma,ma)}function CJ(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function ap(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Fc(e){return e=ap(Math.abs(e)),e?e[1]:NaN}function AJ(e,t){return function(n,r){for(var s=n.length,l=[],c=0,d=e[0],f=0;s>0&&d>0&&(f+d+1>r&&(d=Math.max(1,r-f)),l.push(n.substring(s-=d,s+d)),!((f+=d+1)>r));)d=e[c=(c+1)%e.length];return l.reverse().join(t)}}function TJ(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var EJ=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function wf(e){if(!(t=EJ.exec(e)))throw new Error("invalid format: "+e);var t;return new b2({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}wf.prototype=b2.prototype;function b2(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}b2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function PJ(e){e:for(var t=e.length,n=1,r=-1,s;n<t;++n)switch(e[n]){case".":r=s=n;break;case"0":r===0&&(r=n),s=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var VD;function OJ(e,t){var n=ap(e,t);if(!n)return e+"";var r=n[0],s=n[1],l=s-(VD=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+ap(e,Math.max(0,t+l-1))[0]}function LA(e,t){var n=ap(e,t);if(!n)return e+"";var r=n[0],s=n[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const $A={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:CJ,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>LA(e*100,t),r:LA,s:OJ,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IA(e){return e}var zA=Array.prototype.map,BA=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function MJ(e){var t=e.grouping===void 0||e.thousands===void 0?IA:AJ(zA.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?IA:TJ(zA.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"":e.minus+"",f=e.nan===void 0?"NaN":e.nan+"";function m(x){x=wf(x);var v=x.fill,y=x.align,w=x.sign,j=x.symbol,S=x.zero,k=x.width,_=x.comma,C=x.precision,P=x.trim,A=x.type;A==="n"?(_=!0,A="g"):$A[A]||(C===void 0&&(C=12),P=!0,A="g"),(S||v==="0"&&y==="=")&&(S=!0,v="0",y="=");var T=j==="$"?n:j==="#"&&/[boxX]/.test(A)?"0"+A.toLowerCase():"",L=j==="$"?r:/[%p]/.test(A)?c:"",M=$A[A],F=/[defgprs%]/.test(A);C=C===void 0?6:/[gprs]/.test(A)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(V){var $=T,ee=L,je,ne,D;if(A==="c")ee=M(V)+ee,V="";else{V=+V;var Y=V<0||1/V<0;if(V=isNaN(V)?f:M(Math.abs(V),C),P&&(V=PJ(V)),Y&&+V==0&&w!=="+"&&(Y=!1),$=(Y?w==="("?w:d:w==="-"||w==="("?"":w)+$,ee=(A==="s"?BA[8+VD/3]:"")+ee+(Y&&w==="("?")":""),F){for(je=-1,ne=V.length;++je<ne;)if(D=V.charCodeAt(je),48>D||D>57){ee=(D===46?s+V.slice(je+1):V.slice(je))+ee,V=V.slice(0,je);break}}}_&&!S&&(V=t(V,1/0));var H=$.length+V.length+ee.length,I=H<k?new Array(k-H+1).join(v):"";switch(_&&S&&(V=t(I+V,I.length?k-ee.length:1/0),I=""),y){case"<":V=$+V+ee+I;break;case"=":V=$+I+V+ee;break;case"^":V=I.slice(0,H=I.length>>1)+$+V+ee+I.slice(H);break;default:V=I+$+V+ee;break}return l(V)}return K.toString=function(){return x+""},K}function h(x,v){var y=m((x=wf(x),x.type="f",x)),w=Math.max(-8,Math.min(8,Math.floor(Fc(v)/3)))*3,j=Math.pow(10,-w),S=BA[8+w/3];return function(k){return y(j*k)+S}}return{format:m,formatPrefix:h}}var Ah,y2,HD;DJ({thousands:",",grouping:[3],currency:["$",""]});function DJ(e){return Ah=MJ(e),y2=Ah.format,HD=Ah.formatPrefix,Ah}function RJ(e){return Math.max(0,-Fc(Math.abs(e)))}function LJ(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Fc(t)/3)))*3-Fc(Math.abs(e)))}function $J(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Fc(t)-Fc(e))+1}function qD(e,t,n,r){var s=bw(e,t,n),l;switch(r=wf(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=LJ(s,c))&&(r.precision=l),HD(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=$J(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=RJ(s))&&(r.precision=l-(r.type==="%")*2);break}}return y2(r)}function il(e){var t=e.domain;return e.ticks=function(n){var r=t();return gw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var s=t();return qD(s[0],s[s.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),s=0,l=r.length-1,c=r[s],d=r[l],f,m,h=10;for(d<c&&(m=c,c=d,d=m,m=s,s=l,l=m);h-- >0;){if(m=vw(c,d,n),m===f)return r[s]=c,r[l]=d,t(r);if(m>0)c=Math.floor(c/m)*m,d=Math.ceil(d/m)*m;else if(m<0)c=Math.ceil(c*m)/m,d=Math.floor(d*m)/m;else break;f=m}return e},e}function KD(){var e=v2();return e.copy=function(){return Uf(e,KD())},jr.apply(e,arguments),il(e)}function GD(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,np),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return GD(e).unknown(t)},e=arguments.length?Array.from(e,np):[0,1],il(n)}function YD(e,t){e=e.slice();var n=0,r=e.length-1,s=e[n],l=e[r],c;return l<s&&(c=n,n=r,r=c,c=s,s=l,l=c),e[n]=t.floor(s),e[r]=t.ceil(l),e}function UA(e){return Math.log(e)}function FA(e){return Math.exp(e)}function IJ(e){return-Math.log(-e)}function zJ(e){return-Math.exp(-e)}function BJ(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UJ(e){return e===10?BJ:e===Math.E?Math.exp:t=>Math.pow(e,t)}function FJ(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function VA(e){return(t,n)=>-e(-t,n)}function w2(e){const t=e(UA,FA),n=t.domain;let r=10,s,l;function c(){return s=FJ(r),l=UJ(r),n()[0]<0?(s=VA(s),l=VA(l),e(IJ,zJ)):e(UA,FA),t}return t.base=function(d){return arguments.length?(r=+d,c()):r},t.domain=function(d){return arguments.length?(n(d),c()):n()},t.ticks=d=>{const f=n();let m=f[0],h=f[f.length-1];const x=h<m;x&&([m,h]=[h,m]);let v=s(m),y=s(h),w,j;const S=d==null?10:+d;let k=[];if(!(r%1)&&y-v<S){if(v=Math.floor(v),y=Math.ceil(y),m>0){for(;v<=y;++v)for(w=1;w<r;++w)if(j=v<0?w/l(-v):w*l(v),!(j<m)){if(j>h)break;k.push(j)}}else for(;v<=y;++v)for(w=r-1;w>=1;--w)if(j=v>0?w/l(-v):w*l(v),!(j<m)){if(j>h)break;k.push(j)}k.length*2<S&&(k=gw(m,h,S))}else k=gw(v,y,Math.min(y-v,S)).map(l);return x?k.reverse():k},t.tickFormat=(d,f)=>{if(d==null&&(d=10),f==null&&(f=r===10?"s":","),typeof f!="function"&&(!(r%1)&&(f=wf(f)).precision==null&&(f.trim=!0),f=y2(f)),d===1/0)return f;const m=Math.max(1,r*d/t.ticks().length);return h=>{let x=h/l(Math.round(s(h)));return x*r<r-.5&&(x*=r),x<=m?f(h):""}},t.nice=()=>n(YD(n(),{floor:d=>l(Math.floor(s(d))),ceil:d=>l(Math.ceil(s(d)))})),t}function WD(){const e=w2(Zp()).domain([1,10]);return e.copy=()=>Uf(e,WD()).base(e.base()),jr.apply(e,arguments),e}function HA(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function qA(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j2(e){var t=1,n=e(HA(t),qA(t));return n.constant=function(r){return arguments.length?e(HA(t=+r),qA(t)):t},il(n)}function XD(){var e=j2(Zp());return e.copy=function(){return Uf(e,XD()).constant(e.constant())},jr.apply(e,arguments)}function KA(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VJ(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function HJ(e){return e<0?-e*e:e*e}function N2(e){var t=e(ma,ma),n=1;function r(){return n===1?e(ma,ma):n===.5?e(VJ,HJ):e(KA(n),KA(1/n))}return t.exponent=function(s){return arguments.length?(n=+s,r()):n},il(t)}function S2(){var e=N2(Zp());return e.copy=function(){return Uf(e,S2()).exponent(e.exponent())},jr.apply(e,arguments),e}function qJ(){return S2.apply(null,arguments).exponent(.5)}function GA(e){return Math.sign(e)*e*e}function KJ(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function ZD(){var e=v2(),t=[0,1],n=!1,r;function s(l){var c=KJ(e(l));return isNaN(c)?r:n?Math.round(c):c}return s.invert=function(l){return e.invert(GA(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,np)).map(GA)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(n=!!l,s):n},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return ZD(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},jr.apply(s,arguments),il(s)}function QD(){var e=[],t=[],n=[],r;function s(){var c=0,d=Math.max(1,t.length);for(n=new Array(d-1);++c<d;)n[c-1]=XQ(e,c/d);return l}function l(c){return c==null||isNaN(c=+c)?r:t[zf(n,c)]}return l.invertExtent=function(c){var d=t.indexOf(c);return d<0?[NaN,NaN]:[d>0?n[d-1]:e[0],d<n.length?n[d]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let d of c)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(Wi),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return n.slice()},l.copy=function(){return QD().domain(e).range(t).unknown(r)},jr.apply(l,arguments)}function JD(){var e=0,t=1,n=1,r=[.5],s=[0,1],l;function c(f){return f!=null&&f<=f?s[zf(r,f,0,n)]:l}function d(){var f=-1;for(r=new Array(n);++f<n;)r[f]=((f+1)*t-(f-n)*e)/(n+1);return c}return c.domain=function(f){return arguments.length?([e,t]=f,e=+e,t=+t,d()):[e,t]},c.range=function(f){return arguments.length?(n=(s=Array.from(f)).length-1,d()):s.slice()},c.invertExtent=function(f){var m=s.indexOf(f);return m<0?[NaN,NaN]:m<1?[e,r[0]]:m>=n?[r[n-1],t]:[r[m-1],r[m]]},c.unknown=function(f){return arguments.length&&(l=f),c},c.thresholds=function(){return r.slice()},c.copy=function(){return JD().domain([e,t]).range(s).unknown(l)},jr.apply(il(c),arguments)}function e8(){var e=[.5],t=[0,1],n,r=1;function s(l){return l!=null&&l<=l?t[zf(e,l,0,r)]:n}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(n=l,s):n},s.copy=function(){return e8().domain(e).range(t).unknown(n)},jr.apply(s,arguments)}const xy=new Date,gy=new Date;function Pn(e,t,n,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),d=s.ceil(l);return l-c<d-l?c:d},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,d)=>{const f=[];if(l=s.ceil(l),d=d==null?1:Math.floor(d),!(l<c)||!(d>0))return f;let m;do f.push(m=new Date(+l)),t(l,d),e(l);while(m<l&&l<c);return f},s.filter=l=>Pn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,d)=>{if(c>=c)if(d<0)for(;++d<=0;)for(;t(c,-1),!l(c););else for(;--d>=0;)for(;t(c,1),!l(c););}),n&&(s.count=(l,c)=>(xy.setTime(+l),gy.setTime(+c),e(xy),e(gy),Math.floor(n(xy,gy))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const rp=Pn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);rp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Pn(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):rp);rp.range;const Bs=1e3,pr=Bs*60,Us=pr*60,ti=Us*24,_2=ti*7,YA=ti*30,vy=ti*365,Wl=Pn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Bs)},(e,t)=>(t-e)/Bs,e=>e.getUTCSeconds());Wl.range;const k2=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getMinutes());k2.range;const C2=Pn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*pr)},(e,t)=>(t-e)/pr,e=>e.getUTCMinutes());C2.range;const A2=Pn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Bs-e.getMinutes()*pr)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getHours());A2.range;const T2=Pn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Us)},(e,t)=>(t-e)/Us,e=>e.getUTCHours());T2.range;const Ff=Pn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*pr)/ti,e=>e.getDate()-1);Ff.range;const Qp=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ti,e=>e.getUTCDate()-1);Qp.range;const t8=Pn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ti,e=>Math.floor(e/ti));t8.range;function mo(e){return Pn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*pr)/_2)}const Jp=mo(0),sp=mo(1),GJ=mo(2),YJ=mo(3),Vc=mo(4),WJ=mo(5),XJ=mo(6);Jp.range;sp.range;GJ.range;YJ.range;Vc.range;WJ.range;XJ.range;function ho(e){return Pn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/_2)}const ex=ho(0),ip=ho(1),ZJ=ho(2),QJ=ho(3),Hc=ho(4),JJ=ho(5),eee=ho(6);ex.range;ip.range;ZJ.range;QJ.range;Hc.range;JJ.range;eee.range;const E2=Pn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());E2.range;const P2=Pn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());P2.range;const ni=Pn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ni.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ni.range;const ai=Pn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ai.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Pn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ai.range;function n8(e,t,n,r,s,l){const c=[[Wl,1,Bs],[Wl,5,5*Bs],[Wl,15,15*Bs],[Wl,30,30*Bs],[l,1,pr],[l,5,5*pr],[l,15,15*pr],[l,30,30*pr],[s,1,Us],[s,3,3*Us],[s,6,6*Us],[s,12,12*Us],[r,1,ti],[r,2,2*ti],[n,1,_2],[t,1,YA],[t,3,3*YA],[e,1,vy]];function d(m,h,x){const v=h<m;v&&([m,h]=[h,m]);const y=x&&typeof x.range=="function"?x:f(m,h,x),w=y?y.range(m,+h+1):[];return v?w.reverse():w}function f(m,h,x){const v=Math.abs(h-m)/x,y=f2(([,,S])=>S).right(c,v);if(y===c.length)return e.every(bw(m/vy,h/vy,x));if(y===0)return rp.every(Math.max(bw(m,h,x),1));const[w,j]=c[v/c[y-1][2]<c[y][2]/v?y-1:y];return w.every(j)}return[d,f]}const[tee,nee]=n8(ai,P2,ex,t8,T2,C2),[aee,ree]=n8(ni,E2,Jp,Ff,A2,k2);function by(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yy(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function bd(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function see(e){var t=e.dateTime,n=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,d=e.months,f=e.shortMonths,m=yd(s),h=wd(s),x=yd(l),v=wd(l),y=yd(c),w=wd(c),j=yd(d),S=wd(d),k=yd(f),_=wd(f),C={a:Y,A:H,b:I,B:E,c:null,d:e6,e:e6,f:Aee,g:Iee,G:Bee,H:_ee,I:kee,j:Cee,L:a8,m:Tee,M:Eee,p:R,q:z,Q:a6,s:r6,S:Pee,u:Oee,U:Mee,V:Dee,w:Ree,W:Lee,x:null,X:null,y:$ee,Y:zee,Z:Uee,"%":n6},P={a:W,A:ce,b:Q,B:Z,c:null,d:t6,e:t6,f:qee,g:tte,G:ate,H:Fee,I:Vee,j:Hee,L:s8,m:Kee,M:Gee,p:Ne,q:re,Q:a6,s:r6,S:Yee,u:Wee,U:Xee,V:Zee,w:Qee,W:Jee,x:null,X:null,y:ete,Y:nte,Z:rte,"%":n6},A={a:K,A:V,b:$,B:ee,c:je,d:QA,e:QA,f:wee,g:ZA,G:XA,H:JA,I:JA,j:gee,L:yee,m:xee,M:vee,p:F,q:pee,Q:Nee,s:See,S:bee,u:uee,U:dee,V:fee,w:cee,W:mee,x:ne,X:D,y:ZA,Y:XA,Z:hee,"%":jee};C.x=T(n,C),C.X=T(r,C),C.c=T(t,C),P.x=T(n,P),P.X=T(r,P),P.c=T(t,P);function T(we,_e){return function(Se){var me=[],Be=-1,Ue=0,be=we.length,q,ie,G;for(Se instanceof Date||(Se=new Date(+Se));++Be<be;)we.charCodeAt(Be)===37&&(me.push(we.slice(Ue,Be)),(ie=WA[q=we.charAt(++Be)])!=null?q=we.charAt(++Be):ie=q==="e"?" ":"0",(G=_e[q])&&(q=G(Se,ie)),me.push(q),Ue=Be+1);return me.push(we.slice(Ue,Be)),me.join("")}}function L(we,_e){return function(Se){var me=bd(1900,void 0,1),Be=M(me,we,Se+="",0),Ue,be;if(Be!=Se.length)return null;if("Q"in me)return new Date(me.Q);if("s"in me)return new Date(me.s*1e3+("L"in me?me.L:0));if(_e&&!("Z"in me)&&(me.Z=0),"p"in me&&(me.H=me.H%12+me.p*12),me.m===void 0&&(me.m="q"in me?me.q:0),"V"in me){if(me.V<1||me.V>53)return null;"w"in me||(me.w=1),"Z"in me?(Ue=yy(bd(me.y,0,1)),be=Ue.getUTCDay(),Ue=be>4||be===0?ip.ceil(Ue):ip(Ue),Ue=Qp.offset(Ue,(me.V-1)*7),me.y=Ue.getUTCFullYear(),me.m=Ue.getUTCMonth(),me.d=Ue.getUTCDate()+(me.w+6)%7):(Ue=by(bd(me.y,0,1)),be=Ue.getDay(),Ue=be>4||be===0?sp.ceil(Ue):sp(Ue),Ue=Ff.offset(Ue,(me.V-1)*7),me.y=Ue.getFullYear(),me.m=Ue.getMonth(),me.d=Ue.getDate()+(me.w+6)%7)}else("W"in me||"U"in me)&&("w"in me||(me.w="u"in me?me.u%7:"W"in me?1:0),be="Z"in me?yy(bd(me.y,0,1)).getUTCDay():by(bd(me.y,0,1)).getDay(),me.m=0,me.d="W"in me?(me.w+6)%7+me.W*7-(be+5)%7:me.w+me.U*7-(be+6)%7);return"Z"in me?(me.H+=me.Z/100|0,me.M+=me.Z%100,yy(me)):by(me)}}function M(we,_e,Se,me){for(var Be=0,Ue=_e.length,be=Se.length,q,ie;Be<Ue;){if(me>=be)return-1;if(q=_e.charCodeAt(Be++),q===37){if(q=_e.charAt(Be++),ie=A[q in WA?_e.charAt(Be++):q],!ie||(me=ie(we,Se,me))<0)return-1}else if(q!=Se.charCodeAt(me++))return-1}return me}function F(we,_e,Se){var me=m.exec(_e.slice(Se));return me?(we.p=h.get(me[0].toLowerCase()),Se+me[0].length):-1}function K(we,_e,Se){var me=y.exec(_e.slice(Se));return me?(we.w=w.get(me[0].toLowerCase()),Se+me[0].length):-1}function V(we,_e,Se){var me=x.exec(_e.slice(Se));return me?(we.w=v.get(me[0].toLowerCase()),Se+me[0].length):-1}function $(we,_e,Se){var me=k.exec(_e.slice(Se));return me?(we.m=_.get(me[0].toLowerCase()),Se+me[0].length):-1}function ee(we,_e,Se){var me=j.exec(_e.slice(Se));return me?(we.m=S.get(me[0].toLowerCase()),Se+me[0].length):-1}function je(we,_e,Se){return M(we,t,_e,Se)}function ne(we,_e,Se){return M(we,n,_e,Se)}function D(we,_e,Se){return M(we,r,_e,Se)}function Y(we){return c[we.getDay()]}function H(we){return l[we.getDay()]}function I(we){return f[we.getMonth()]}function E(we){return d[we.getMonth()]}function R(we){return s[+(we.getHours()>=12)]}function z(we){return 1+~~(we.getMonth()/3)}function W(we){return c[we.getUTCDay()]}function ce(we){return l[we.getUTCDay()]}function Q(we){return f[we.getUTCMonth()]}function Z(we){return d[we.getUTCMonth()]}function Ne(we){return s[+(we.getUTCHours()>=12)]}function re(we){return 1+~~(we.getUTCMonth()/3)}return{format:function(we){var _e=T(we+="",C);return _e.toString=function(){return we},_e},parse:function(we){var _e=L(we+="",!1);return _e.toString=function(){return we},_e},utcFormat:function(we){var _e=T(we+="",P);return _e.toString=function(){return we},_e},utcParse:function(we){var _e=L(we+="",!0);return _e.toString=function(){return we},_e}}}var WA={"-":"",_:" ",0:"0"},Fn=/^\s*\d+/,iee=/^%/,lee=/[\\^$*+?|[\]().{}]/g;function kt(e,t,n){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<n?new Array(n-l+1).join(t)+s:s)}function oee(e){return e.replace(lee,"\\$&")}function yd(e){return new RegExp("^(?:"+e.map(oee).join("|")+")","i")}function wd(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cee(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uee(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function mee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function XA(e,t,n){var r=Fn.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function ZA(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function hee(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function pee(e,t,n){var r=Fn.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function xee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function QA(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function gee(e,t,n){var r=Fn.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function JA(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function bee(e,t,n){var r=Fn.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function yee(e,t,n){var r=Fn.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wee(e,t,n){var r=Fn.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function jee(e,t,n){var r=iee.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Nee(e,t,n){var r=Fn.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function See(e,t,n){var r=Fn.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function e6(e,t){return kt(e.getDate(),t,2)}function _ee(e,t){return kt(e.getHours(),t,2)}function kee(e,t){return kt(e.getHours()%12||12,t,2)}function Cee(e,t){return kt(1+Ff.count(ni(e),e),t,3)}function a8(e,t){return kt(e.getMilliseconds(),t,3)}function Aee(e,t){return a8(e,t)+"000"}function Tee(e,t){return kt(e.getMonth()+1,t,2)}function Eee(e,t){return kt(e.getMinutes(),t,2)}function Pee(e,t){return kt(e.getSeconds(),t,2)}function Oee(e){var t=e.getDay();return t===0?7:t}function Mee(e,t){return kt(Jp.count(ni(e)-1,e),t,2)}function r8(e){var t=e.getDay();return t>=4||t===0?Vc(e):Vc.ceil(e)}function Dee(e,t){return e=r8(e),kt(Vc.count(ni(e),e)+(ni(e).getDay()===4),t,2)}function Ree(e){return e.getDay()}function Lee(e,t){return kt(sp.count(ni(e)-1,e),t,2)}function $ee(e,t){return kt(e.getFullYear()%100,t,2)}function Iee(e,t){return e=r8(e),kt(e.getFullYear()%100,t,2)}function zee(e,t){return kt(e.getFullYear()%1e4,t,4)}function Bee(e,t){var n=e.getDay();return e=n>=4||n===0?Vc(e):Vc.ceil(e),kt(e.getFullYear()%1e4,t,4)}function Uee(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+kt(t/60|0,"0",2)+kt(t%60,"0",2)}function t6(e,t){return kt(e.getUTCDate(),t,2)}function Fee(e,t){return kt(e.getUTCHours(),t,2)}function Vee(e,t){return kt(e.getUTCHours()%12||12,t,2)}function Hee(e,t){return kt(1+Qp.count(ai(e),e),t,3)}function s8(e,t){return kt(e.getUTCMilliseconds(),t,3)}function qee(e,t){return s8(e,t)+"000"}function Kee(e,t){return kt(e.getUTCMonth()+1,t,2)}function Gee(e,t){return kt(e.getUTCMinutes(),t,2)}function Yee(e,t){return kt(e.getUTCSeconds(),t,2)}function Wee(e){var t=e.getUTCDay();return t===0?7:t}function Xee(e,t){return kt(ex.count(ai(e)-1,e),t,2)}function i8(e){var t=e.getUTCDay();return t>=4||t===0?Hc(e):Hc.ceil(e)}function Zee(e,t){return e=i8(e),kt(Hc.count(ai(e),e)+(ai(e).getUTCDay()===4),t,2)}function Qee(e){return e.getUTCDay()}function Jee(e,t){return kt(ip.count(ai(e)-1,e),t,2)}function ete(e,t){return kt(e.getUTCFullYear()%100,t,2)}function tte(e,t){return e=i8(e),kt(e.getUTCFullYear()%100,t,2)}function nte(e,t){return kt(e.getUTCFullYear()%1e4,t,4)}function ate(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hc(e):Hc.ceil(e),kt(e.getUTCFullYear()%1e4,t,4)}function rte(){return"+0000"}function n6(){return"%"}function a6(e){return+e}function r6(e){return Math.floor(+e/1e3)}var Jo,l8,o8;ste({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function ste(e){return Jo=see(e),l8=Jo.format,Jo.parse,o8=Jo.utcFormat,Jo.utcParse,Jo}function ite(e){return new Date(e)}function lte(e){return e instanceof Date?+e:+new Date(+e)}function O2(e,t,n,r,s,l,c,d,f,m){var h=v2(),x=h.invert,v=h.domain,y=m(".%L"),w=m(":%S"),j=m("%I:%M"),S=m("%I %p"),k=m("%a %d"),_=m("%b %d"),C=m("%B"),P=m("%Y");function A(T){return(f(T)<T?y:d(T)<T?w:c(T)<T?j:l(T)<T?S:r(T)<T?s(T)<T?k:_:n(T)<T?C:P)(T)}return h.invert=function(T){return new Date(x(T))},h.domain=function(T){return arguments.length?v(Array.from(T,lte)):v().map(ite)},h.ticks=function(T){var L=v();return e(L[0],L[L.length-1],T??10)},h.tickFormat=function(T,L){return L==null?A:m(L)},h.nice=function(T){var L=v();return(!T||typeof T.range!="function")&&(T=t(L[0],L[L.length-1],T??10)),T?v(YD(L,T)):h},h.copy=function(){return Uf(h,O2(e,t,n,r,s,l,c,d,f,m))},h}function ote(){return jr.apply(O2(aee,ree,ni,E2,Jp,Ff,A2,k2,Wl,l8).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cte(){return jr.apply(O2(tee,nee,ai,P2,ex,Qp,T2,C2,Wl,o8).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function tx(){var e=0,t=1,n,r,s,l,c=ma,d=!1,f;function m(x){return x==null||isNaN(x=+x)?f:c(s===0?.5:(x=(l(x)-n)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,n=l(e=+e),r=l(t=+t),s=n===r?0:1/(r-n),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(c=x,m):c};function h(x){return function(v){var y,w;return arguments.length?([y,w]=v,c=x(y,w),m):[c(0),c(1)]}}return m.range=h(iu),m.rangeRound=h(g2),m.unknown=function(x){return arguments.length?(f=x,m):f},function(x){return l=x,n=x(e),r=x(t),s=n===r?0:1/(r-n),m}}function ll(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function c8(){var e=il(tx()(ma));return e.copy=function(){return ll(e,c8())},oi.apply(e,arguments)}function u8(){var e=w2(tx()).domain([1,10]);return e.copy=function(){return ll(e,u8()).base(e.base())},oi.apply(e,arguments)}function d8(){var e=j2(tx());return e.copy=function(){return ll(e,d8()).constant(e.constant())},oi.apply(e,arguments)}function M2(){var e=N2(tx());return e.copy=function(){return ll(e,M2()).exponent(e.exponent())},oi.apply(e,arguments)}function ute(){return M2.apply(null,arguments).exponent(.5)}function f8(){var e=[],t=ma;function n(r){if(r!=null&&!isNaN(r=+r))return t((zf(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(Wi),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(s,l)=>WQ(e,l/r))},n.copy=function(){return f8(t).domain(e)},oi.apply(n,arguments)}function nx(){var e=0,t=.5,n=1,r=1,s,l,c,d,f,m=ma,h,x=!1,v;function y(j){return isNaN(j=+j)?v:(j=.5+((j=+h(j))-l)*(r*j<r*l?d:f),m(x?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([e,t,n]=j,s=h(e=+e),l=h(t=+t),c=h(n=+n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,y):[e,t,n]},y.clamp=function(j){return arguments.length?(x=!!j,y):x},y.interpolator=function(j){return arguments.length?(m=j,y):m};function w(j){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,m=jJ(j,[k,_,C]),y):[m(0),m(.5),m(1)]}}return y.range=w(iu),y.rangeRound=w(g2),y.unknown=function(j){return arguments.length?(v=j,y):v},function(j){return h=j,s=j(e),l=j(t),c=j(n),d=s===l?0:.5/(l-s),f=l===c?0:.5/(c-l),r=l<s?-1:1,y}}function m8(){var e=il(nx()(ma));return e.copy=function(){return ll(e,m8())},oi.apply(e,arguments)}function h8(){var e=w2(nx()).domain([.1,1,10]);return e.copy=function(){return ll(e,h8()).base(e.base())},oi.apply(e,arguments)}function p8(){var e=j2(nx());return e.copy=function(){return ll(e,p8()).constant(e.constant())},oi.apply(e,arguments)}function D2(){var e=N2(nx());return e.copy=function(){return ll(e,D2()).exponent(e.exponent())},oi.apply(e,arguments)}function dte(){return D2.apply(null,arguments).exponent(.5)}const zd=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:h2,scaleDiverging:m8,scaleDivergingLog:h8,scaleDivergingPow:D2,scaleDivergingSqrt:dte,scaleDivergingSymlog:p8,scaleIdentity:GD,scaleImplicit:yw,scaleLinear:KD,scaleLog:WD,scaleOrdinal:m2,scalePoint:QQ,scalePow:S2,scaleQuantile:QD,scaleQuantize:JD,scaleRadial:ZD,scaleSequential:c8,scaleSequentialLog:u8,scaleSequentialPow:M2,scaleSequentialQuantile:f8,scaleSequentialSqrt:ute,scaleSequentialSymlog:d8,scaleSqrt:qJ,scaleSymlog:XD,scaleThreshold:e8,scaleTime:ote,scaleUtc:cte,tickFormat:qD},Symbol.toStringTag,{value:"Module"}));var ol=e=>e.chartData,R2=ve([ol],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),ax=(e,t,n,r)=>r?R2(e):ol(e);function qc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(Xa(t)&&Xa(n))return!0}return!1}function s6(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function fte(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,s,l;if(Xa(n))s=n;else if(typeof n=="function")return;if(Xa(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(qc(c))return c}}function mte(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(qc(r))return s6(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,d;if(s==="auto")t!=null&&(c=Math.min(...t));else if(He(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&YC.test(s)){var f=YC.exec(s);if(f==null||t==null)c=void 0;else{var m=+f[1];c=t[0]-m}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(d=Math.max(...t));else if(He(l))d=l;else if(typeof l=="function")try{t!=null&&(d=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&WC.test(l)){var h=WC.exec(l);if(h==null||t==null)d=void 0;else{var x=+h[1];d=t[1]+x}}else d=t==null?void 0:t[1];var v=[c,d];if(qc(v))return t==null?v:s6(v,t,n)}}}var lu=1e9,hte={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$2,en=!0,yr="[DecimalError] ",no=yr+"Invalid argument: ",L2=yr+"Exponent out of range: ",ou=Math.floor,zl=Math.pow,pte=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,qa,In=1e7,Gt=7,x8=9007199254740991,lp=ou(x8/Gt),qe={};qe.absoluteValue=qe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};qe.comparedTo=qe.cmp=function(e){var t,n,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,n=r<s?r:s;t<n;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};qe.decimalPlaces=qe.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*Gt;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};qe.dividedBy=qe.div=function(e){return qs(this,new this.constructor(e))};qe.dividedToIntegerBy=qe.idiv=function(e){var t=this,n=t.constructor;return Ft(qs(t,new n(e),0,1),n.precision)};qe.equals=qe.eq=function(e){return!this.cmp(e)};qe.exponent=function(){return Nn(this)};qe.greaterThan=qe.gt=function(e){return this.cmp(e)>0};qe.greaterThanOrEqualTo=qe.gte=function(e){return this.cmp(e)>=0};qe.isInteger=qe.isint=function(){return this.e>this.d.length-2};qe.isNegative=qe.isneg=function(){return this.s<0};qe.isPositive=qe.ispos=function(){return this.s>0};qe.isZero=function(){return this.s===0};qe.lessThan=qe.lt=function(e){return this.cmp(e)<0};qe.lessThanOrEqualTo=qe.lte=function(e){return this.cmp(e)<1};qe.logarithm=qe.log=function(e){var t,n=this,r=n.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(qa))throw Error(yr+"NaN");if(n.s<1)throw Error(yr+(n.s?"NaN":"-Infinity"));return n.eq(qa)?new r(0):(en=!1,t=qs(jf(n,l),jf(e,l),l),en=!0,Ft(t,s))};qe.minus=qe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?b8(t,e):g8(t,(e.s=-e.s,e))};qe.modulo=qe.mod=function(e){var t,n=this,r=n.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(yr+"NaN");return n.s?(en=!1,t=qs(n,e,0,1).times(e),en=!0,n.minus(t)):Ft(new r(n),s)};qe.naturalExponential=qe.exp=function(){return v8(this)};qe.naturalLogarithm=qe.ln=function(){return jf(this)};qe.negated=qe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};qe.plus=qe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?g8(t,e):b8(t,(e.s=-e.s,e))};qe.precision=qe.sd=function(e){var t,n,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(no+e);if(t=Nn(s)+1,r=s.d.length-1,n=r*Gt+1,r=s.d[r],r){for(;r%10==0;r/=10)n--;for(r=s.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};qe.squareRoot=qe.sqrt=function(){var e,t,n,r,s,l,c,d=this,f=d.constructor;if(d.s<1){if(!d.s)return new f(0);throw Error(yr+"NaN")}for(e=Nn(d),en=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=ss(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=ou((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new f(t)):r=new f(s.toString()),n=f.precision,s=c=n+3;;)if(l=r,r=l.plus(qs(d,l,c+2)).times(.5),ss(l.d).slice(0,c)===(t=ss(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Ft(l,n+1,0),l.times(l).eq(d)){r=l;break}}else if(t!="9999")break;c+=4}return en=!0,Ft(r,n)};qe.times=qe.mul=function(e){var t,n,r,s,l,c,d,f,m,h=this,x=h.constructor,v=h.d,y=(e=new x(e)).d;if(!h.s||!e.s)return new x(0);for(e.s*=h.s,n=h.e+e.e,f=v.length,m=y.length,f<m&&(l=v,v=y,y=l,c=f,f=m,m=c),l=[],c=f+m,r=c;r--;)l.push(0);for(r=m;--r>=0;){for(t=0,s=f+r;s>r;)d=l[s]+y[r]*v[s-r-1]+t,l[s--]=d%In|0,t=d/In|0;l[s]=(l[s]+t)%In|0}for(;!l[--c];)l.pop();return t?++n:l.shift(),e.d=l,e.e=n,en?Ft(e,x.precision):e};qe.toDecimalPlaces=qe.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(ds(e,0,lu),t===void 0?t=r.rounding:ds(t,0,8),Ft(n,e+Nn(n)+1,t))};qe.toExponential=function(e,t){var n,r=this,s=r.constructor;return e===void 0?n=oo(r,!0):(ds(e,0,lu),t===void 0?t=s.rounding:ds(t,0,8),r=Ft(new s(r),e+1,t),n=oo(r,!0,e+1)),n};qe.toFixed=function(e,t){var n,r,s=this,l=s.constructor;return e===void 0?oo(s):(ds(e,0,lu),t===void 0?t=l.rounding:ds(t,0,8),r=Ft(new l(s),e+Nn(s)+1,t),n=oo(r.abs(),!1,e+Nn(r)+1),s.isneg()&&!s.isZero()?"-"+n:n)};qe.toInteger=qe.toint=function(){var e=this,t=e.constructor;return Ft(new t(e),Nn(e)+1,t.rounding)};qe.toNumber=function(){return+this};qe.toPower=qe.pow=function(e){var t,n,r,s,l,c,d=this,f=d.constructor,m=12,h=+(e=new f(e));if(!e.s)return new f(qa);if(d=new f(d),!d.s){if(e.s<1)throw Error(yr+"Infinity");return d}if(d.eq(qa))return d;if(r=f.precision,e.eq(qa))return Ft(d,r);if(t=e.e,n=e.d.length-1,c=t>=n,l=d.s,c){if((n=h<0?-h:h)<=x8){for(s=new f(qa),t=Math.ceil(r/Gt+4),en=!1;n%2&&(s=s.times(d),l6(s.d,t)),n=ou(n/2),n!==0;)d=d.times(d),l6(d.d,t);return en=!0,e.s<0?new f(qa).div(s):Ft(s,r)}}else if(l<0)throw Error(yr+"NaN");return l=l<0&&e.d[Math.max(t,n)]&1?-1:1,d.s=1,en=!1,s=e.times(jf(d,r+m)),en=!0,s=v8(s),s.s=l,s};qe.toPrecision=function(e,t){var n,r,s=this,l=s.constructor;return e===void 0?(n=Nn(s),r=oo(s,n<=l.toExpNeg||n>=l.toExpPos)):(ds(e,1,lu),t===void 0?t=l.rounding:ds(t,0,8),s=Ft(new l(s),e,t),n=Nn(s),r=oo(s,e<=n||n<=l.toExpNeg,e)),r};qe.toSignificantDigits=qe.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(ds(e,1,lu),t===void 0?t=r.rounding:ds(t,0,8)),Ft(new r(n),e,t)};qe.toString=qe.valueOf=qe.val=qe.toJSON=qe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Nn(e),n=e.constructor;return oo(e,t<=n.toExpNeg||t>=n.toExpPos)};function g8(e,t){var n,r,s,l,c,d,f,m,h=e.constructor,x=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),en?Ft(t,x):t;if(f=e.d,m=t.d,c=e.e,s=t.e,f=f.slice(),l=c-s,l){for(l<0?(r=f,l=-l,d=m.length):(r=m,s=c,d=f.length),c=Math.ceil(x/Gt),d=c>d?c+1:d+1,l>d&&(l=d,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(d=f.length,l=m.length,d-l<0&&(l=d,r=m,m=f,f=r),n=0;l;)n=(f[--l]=f[l]+m[l]+n)/In|0,f[l]%=In;for(n&&(f.unshift(n),++s),d=f.length;f[--d]==0;)f.pop();return t.d=f,t.e=s,en?Ft(t,x):t}function ds(e,t,n){if(e!==~~e||e<t||e>n)throw Error(no+e)}function ss(e){var t,n,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",n=Gt-r.length,n&&(l+=qi(n)),l+=r;c=e[t],r=c+"",n=Gt-r.length,n&&(l+=qi(n))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var qs=function(){function e(r,s){var l,c=0,d=r.length;for(r=r.slice();d--;)l=r[d]*s+c,r[d]=l%In|0,c=l/In|0;return c&&r.unshift(c),r}function t(r,s,l,c){var d,f;if(l!=c)f=l>c?1:-1;else for(d=f=0;d<l;d++)if(r[d]!=s[d]){f=r[d]>s[d]?1:-1;break}return f}function n(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*In+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var d,f,m,h,x,v,y,w,j,S,k,_,C,P,A,T,L,M,F=r.constructor,K=r.s==s.s?1:-1,V=r.d,$=s.d;if(!r.s)return new F(r);if(!s.s)throw Error(yr+"Division by zero");for(f=r.e-s.e,L=$.length,A=V.length,y=new F(K),w=y.d=[],m=0;$[m]==(V[m]||0);)++m;if($[m]>(V[m]||0)&&--f,l==null?_=l=F.precision:c?_=l+(Nn(r)-Nn(s))+1:_=l,_<0)return new F(0);if(_=_/Gt+2|0,m=0,L==1)for(h=0,$=$[0],_++;(m<A||h)&&_--;m++)C=h*In+(V[m]||0),w[m]=C/$|0,h=C%$|0;else{for(h=In/($[0]+1)|0,h>1&&($=e($,h),V=e(V,h),L=$.length,A=V.length),P=L,j=V.slice(0,L),S=j.length;S<L;)j[S++]=0;M=$.slice(),M.unshift(0),T=$[0],$[1]>=In/2&&++T;do h=0,d=t($,j,L,S),d<0?(k=j[0],L!=S&&(k=k*In+(j[1]||0)),h=k/T|0,h>1?(h>=In&&(h=In-1),x=e($,h),v=x.length,S=j.length,d=t(x,j,v,S),d==1&&(h--,n(x,L<v?M:$,v))):(h==0&&(d=h=1),x=$.slice()),v=x.length,v<S&&x.unshift(0),n(j,x,S),d==-1&&(S=j.length,d=t($,j,L,S),d<1&&(h++,n(j,L<S?M:$,S))),S=j.length):d===0&&(h++,j=[0]),w[m++]=h,d&&j[0]?j[S++]=V[P]||0:(j=[V[P]],S=1);while((P++<A||j[0]!==void 0)&&_--)}return w[0]||w.shift(),y.e=f,Ft(y,c?l+Nn(y)+1:l)}}();function v8(e,t){var n,r,s,l,c,d,f=0,m=0,h=e.constructor,x=h.precision;if(Nn(e)>16)throw Error(L2+Nn(e));if(!e.s)return new h(qa);for(en=!1,d=x,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),m+=5;for(r=Math.log(zl(2,m))/Math.LN10*2+5|0,d+=r,n=s=l=new h(qa),h.precision=d;;){if(s=Ft(s.times(e),d),n=n.times(++f),c=l.plus(qs(s,n,d)),ss(c.d).slice(0,d)===ss(l.d).slice(0,d)){for(;m--;)l=Ft(l.times(l),d);return h.precision=x,t==null?(en=!0,Ft(l,x)):l}l=c}}function Nn(e){for(var t=e.e*Gt,n=e.d[0];n>=10;n/=10)t++;return t}function wy(e,t,n){if(t>e.LN10.sd())throw en=!0,n&&(e.precision=n),Error(yr+"LN10 precision limit exceeded");return Ft(new e(e.LN10),t)}function qi(e){for(var t="";e--;)t+="0";return t}function jf(e,t){var n,r,s,l,c,d,f,m,h,x=1,v=10,y=e,w=y.d,j=y.constructor,S=j.precision;if(y.s<1)throw Error(yr+(y.s?"NaN":"-Infinity"));if(y.eq(qa))return new j(0);if(t==null?(en=!1,m=S):m=t,y.eq(10))return t==null&&(en=!0),wy(j,m);if(m+=v,j.precision=m,n=ss(w),r=n.charAt(0),l=Nn(y),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)y=y.times(e),n=ss(y.d),r=n.charAt(0),x++;l=Nn(y),r>1?(y=new j("0."+n),l++):y=new j(r+"."+n.slice(1))}else return f=wy(j,m+2,S).times(l+""),y=jf(new j(r+"."+n.slice(1)),m-v).plus(f),j.precision=S,t==null?(en=!0,Ft(y,S)):y;for(d=c=y=qs(y.minus(qa),y.plus(qa),m),h=Ft(y.times(y),m),s=3;;){if(c=Ft(c.times(h),m),f=d.plus(qs(c,new j(s),m)),ss(f.d).slice(0,m)===ss(d.d).slice(0,m))return d=d.times(2),l!==0&&(d=d.plus(wy(j,m+2,S).times(l+""))),d=qs(d,new j(x),m),j.precision=S,t==null?(en=!0,Ft(d,S)):d;d=f,s+=2}}function i6(e,t){var n,r,s;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,n=n-r-1,e.e=ou(n/Gt),e.d=[],r=(n+1)%Gt,n<0&&(r+=Gt),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=Gt;r<s;)e.d.push(+t.slice(r,r+=Gt));t=t.slice(r),r=Gt-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),en&&(e.e>lp||e.e<-lp))throw Error(L2+n)}else e.s=0,e.e=0,e.d=[0];return e}function Ft(e,t,n){var r,s,l,c,d,f,m,h,x=e.d;for(c=1,l=x[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=Gt,s=t,m=x[h=0];else{if(h=Math.ceil((r+1)/Gt),l=x.length,h>=l)return e;for(m=l=x[h],c=1;l>=10;l/=10)c++;r%=Gt,s=r-Gt+c}if(n!==void 0&&(l=zl(10,c-s-1),d=m/l%10|0,f=t<0||x[h+1]!==void 0||m%l,f=n<4?(d||f)&&(n==0||n==(e.s<0?3:2)):d>5||d==5&&(n==4||f||n==6&&(r>0?s>0?m/zl(10,c-s):0:x[h-1])%10&1||n==(e.s<0?8:7))),t<1||!x[0])return f?(l=Nn(e),x.length=1,t=t-l-1,x[0]=zl(10,(Gt-t%Gt)%Gt),e.e=ou(-t/Gt)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(r==0?(x.length=h,l=1,h--):(x.length=h+1,l=zl(10,Gt-r),x[h]=s>0?(m/zl(10,c-s)%zl(10,s)|0)*l:0),f)for(;;)if(h==0){(x[0]+=l)==In&&(x[0]=1,++e.e);break}else{if(x[h]+=l,x[h]!=In)break;x[h--]=0,l=1}for(r=x.length;x[--r]===0;)x.pop();if(en&&(e.e>lp||e.e<-lp))throw Error(L2+Nn(e));return e}function b8(e,t){var n,r,s,l,c,d,f,m,h,x,v=e.constructor,y=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),en?Ft(t,y):t;if(f=e.d,x=t.d,r=t.e,m=e.e,f=f.slice(),c=m-r,c){for(h=c<0,h?(n=f,c=-c,d=x.length):(n=x,r=m,d=f.length),s=Math.max(Math.ceil(y/Gt),d)+2,c>s&&(c=s,n.length=1),n.reverse(),s=c;s--;)n.push(0);n.reverse()}else{for(s=f.length,d=x.length,h=s<d,h&&(d=s),s=0;s<d;s++)if(f[s]!=x[s]){h=f[s]<x[s];break}c=0}for(h&&(n=f,f=x,x=n,t.s=-t.s),d=f.length,s=x.length-d;s>0;--s)f[d++]=0;for(s=x.length;s>c;){if(f[--s]<x[s]){for(l=s;l&&f[--l]===0;)f[l]=In-1;--f[l],f[s]+=In}f[s]-=x[s]}for(;f[--d]===0;)f.pop();for(;f[0]===0;f.shift())--r;return f[0]?(t.d=f,t.e=r,en?Ft(t,y):t):new v(0)}function oo(e,t,n){var r,s=Nn(e),l=ss(e.d),c=l.length;return t?(n&&(r=n-c)>0?l=l.charAt(0)+"."+l.slice(1)+qi(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+qi(-s-1)+l,n&&(r=n-c)>0&&(l+=qi(r))):s>=c?(l+=qi(s+1-c),n&&(r=n-s-1)>0&&(l=l+"."+qi(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),n&&(r=n-c)>0&&(s+1===c&&(l+="."),l+=qi(r))),e.s<0?"-"+l:l}function l6(e,t){if(e.length>t)return e.length=t,!0}function y8(e){var t,n,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(no+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return i6(c,l.toString())}else if(typeof l!="string")throw Error(no+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,pte.test(l))i6(c,l);else throw Error(no+l)}if(s.prototype=qe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=y8,s.config=s.set=xte,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return s.config(e),s}function xte(e){if(!e||typeof e!="object")throw Error(yr+"Object expected");var t,n,r,s=["precision",1,lu,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[n=s[t]])!==void 0)if(ou(r)===r&&r>=s[t+1]&&r<=s[t+2])this[n]=r;else throw Error(no+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(no+n+": "+r);return this}var $2=y8(hte);qa=new $2(1);const Ot=$2;var gte=e=>e,w8={},j8=e=>e===w8,o6=e=>function t(){return arguments.length===0||arguments.length===1&&j8(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},N8=(e,t)=>e===1?t:o6(function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var l=r.filter(c=>c!==w8).length;return l>=e?t(...r):N8(e-l,o6(function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];var m=r.map(h=>j8(h)?d.shift():h);return t(...m,...d)}))}),rx=e=>N8(e.length,e),Sw=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},vte=rx((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),bte=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return gte;var s=n.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((d,f)=>f(d),l(...arguments))}},_w=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),S8=e=>{var t=null,n=null;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return t&&s.every((c,d)=>{var f;return c===((f=t)===null||f===void 0?void 0:f[d])})||(t=s,n=e(...s)),n}};function _8(e){var t;return e===0?t=1:t=Math.floor(new Ot(e).abs().log(10).toNumber())+1,t}function k8(e,t,n){for(var r=new Ot(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(n),s++;return l}rx((e,t,n)=>{var r=+e,s=+t;return r+n*(s-r)});rx((e,t,n)=>{var r=t-+e;return r=r||1/0,(n-e)/r});rx((e,t,n)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});var C8=e=>{var[t,n]=e,[r,s]=[t,n];return t>n&&([r,s]=[n,t]),[r,s]},A8=(e,t,n)=>{if(e.lte(0))return new Ot(0);var r=_8(e.toNumber()),s=new Ot(10).pow(r),l=e.div(s),c=r!==1?.05:.1,d=new Ot(Math.ceil(l.div(c).toNumber())).add(n).mul(c),f=d.mul(s);return t?new Ot(f.toNumber()):new Ot(Math.ceil(f.toNumber()))},yte=(e,t,n)=>{var r=new Ot(1),s=new Ot(e);if(!s.isint()&&n){var l=Math.abs(e);l<1?(r=new Ot(10).pow(_8(e)-1),s=new Ot(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new Ot(Math.floor(e)))}else e===0?s=new Ot(Math.floor((t-1)/2)):n||(s=new Ot(Math.floor(e)));var c=Math.floor((t-1)/2),d=bte(vte(f=>s.add(new Ot(f-c).mul(r)).toNumber()),Sw);return d(0,t)},T8=function(t,n,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new Ot(0),tickMin:new Ot(0),tickMax:new Ot(0)};var c=A8(new Ot(n).sub(t).div(r-1),s,l),d;t<=0&&n>=0?d=new Ot(0):(d=new Ot(t).add(n).div(2),d=d.sub(new Ot(d).mod(c)));var f=Math.ceil(d.sub(t).div(c).toNumber()),m=Math.ceil(new Ot(n).sub(d).div(c).toNumber()),h=f+m+1;return h>r?T8(t,n,r,s,l+1):(h<r&&(m=n>0?m+(r-h):m,f=n>0?f:f+(r-h)),{step:c,tickMin:d.sub(new Ot(f).mul(c)),tickMax:d.add(new Ot(m).mul(c))})};function wte(e){var[t,n]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,d]=C8([t,n]);if(c===-1/0||d===1/0){var f=d===1/0?[c,...Sw(0,r-1).map(()=>1/0)]:[...Sw(0,r-1).map(()=>-1/0),d];return t>n?_w(f):f}if(c===d)return yte(c,r,s);var{step:m,tickMin:h,tickMax:x}=T8(c,d,l,s,0),v=k8(h,x.add(new Ot(.1).mul(m)),m);return t>n?_w(v):v}function jte(e,t){var[n,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=C8([n,r]);if(l===-1/0||c===1/0)return[n,r];if(l===c)return[l];var d=Math.max(t,2),f=A8(new Ot(c).sub(l).div(d-1),s,0),m=[...k8(new Ot(l),new Ot(c),f),c];return s===!1&&(m=m.map(h=>Math.round(h))),n>r?_w(m):m}var Nte=S8(wte),Ste=S8(jte),E8=e=>e.rootProps.maxBarSize,_te=e=>e.rootProps.barGap,P8=e=>e.rootProps.barCategoryGap,kte=e=>e.rootProps.barSize,Vf=e=>e.rootProps.stackOffset,I2=e=>e.options.chartName,z2=e=>e.rootProps.syncId,O8=e=>e.rootProps.syncMethod,B2=e=>e.options.eventEmitter,Is={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Fa={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},sx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Cte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:Is.reversed,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:Is.type,unit:void 0},Ate={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:Fa.type,unit:void 0},Tte={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Is.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Is.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Is.scale,tick:Is.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},Ete={allowDataOverflow:Fa.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Fa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Fa.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Fa.scale,tick:Fa.tick,tickCount:Fa.tickCount,ticks:void 0,type:"category",unit:void 0},U2=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?Tte:Cte,F2=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?Ete:Ate,ix=e=>e.polarOptions,V2=ve([ii,li,En],dD),M8=ve([ix,V2],(e,t)=>{if(e!=null)return ha(e.innerRadius,t,0)}),D8=ve([ix,V2],(e,t)=>{if(e!=null)return ha(e.outerRadius,t,t*.8)}),Pte=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},R8=ve([ix],Pte);ve([U2,R8],sx);var L8=ve([V2,M8,D8],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});ve([F2,L8],sx);var $8=ve([yt,ix,M8,D8,ii,li],(e,t,n,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:c,cy:d,startAngle:f,endAngle:m}=t;return{cx:ha(c,s,s/2),cy:ha(d,l,l/2),innerRadius:n,outerRadius:r,startAngle:f,endAngle:m,clockWise:!1}}}),nn=(e,t)=>t,Hf=(e,t,n)=>n;function H2(e){return e==null?void 0:e.id}var On=e=>{var t=yt(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},cu=e=>e.tooltip.settings.axisId,Mn=e=>{var t=On(e),n=cu(e);return qf(e,t,n)};function I8(e,t,n){var{chartData:r=[]}=t,s=n==null?void 0:n.dataKey,l=new Map;return e.forEach(c=>{var d,f=(d=c.data)!==null&&d!==void 0?d:r;if(!(f==null||f.length===0)){var m=H2(c);f.forEach((h,x)=>{var v=s==null?x:String(Ut(h,s,null)),y=Ut(h,c.dataKey,0),w;l.has(v)?w=l.get(v):w={},Object.assign(w,{[m]:y}),l.set(v,w)})}}),Array.from(l.values())}function lx(e){return e.stackId!=null&&e.dataKey!=null}function c6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function op(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(n),!0).forEach(function(r){Ote(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ote(e,t,n){return(t=Mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mte(e){var t=Dte(e,"string");return typeof t=="symbol"?t:t+""}function Dte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kw=[0,"auto"],Ba={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},ci=(e,t)=>{var n=e.cartesianAxis.xAxis[t];return n??Ba},Ua={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:kw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Gp},cl=(e,t)=>{var n=e.cartesianAxis.yAxis[t];return n??Ua},Rte={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},q2=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??Rte},xn=(e,t,n)=>{switch(t){case"xAxis":return ci(e,n);case"yAxis":return cl(e,n);case"zAxis":return q2(e,n);case"angleAxis":return U2(e,n);case"radiusAxis":return F2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Lte=(e,t,n)=>{switch(t){case"xAxis":return ci(e,n);case"yAxis":return cl(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},qf=(e,t,n)=>{switch(t){case"xAxis":return ci(e,n);case"yAxis":return cl(e,n);case"angleAxis":return U2(e,n);case"radiusAxis":return F2(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},z8=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function K2(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var ox=e=>e.graphicalItems.cartesianItems,$te=ve([nn,Hf],K2),G2=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Kf=ve([ox,xn,$te],G2),B8=ve([Kf],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(lx)),U8=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),F8=ve([Kf],U8),Y2=e=>e.map(t=>t.data).filter(Boolean).flat(1),Ite=ve([Kf],Y2),W2=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:n.slice(r,s+1)},X2=ve([Ite,ax],W2),Z2=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Ut(s,r)}))):e.map(r=>({value:r})),cx=ve([X2,xn,Kf],Z2);function V8(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function po(e){return e.filter(t=>us(t)||t instanceof Date).map(Number).filter(t=>Ga(t)===!1)}function zte(e,t,n){return!n||typeof t!="number"||Ga(t)?[]:n.length?po(n.flatMap(r=>{var s=Ut(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!Xa(l)||!Xa(c)))return[t-l,t+c]})):[]}var Bte=ve([B8,ax,Mn],I8),H8=(e,t,n)=>{var r={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,d]=l,f=d.map(H2);return[c,{stackedData:nZ(e,f,n),graphicalItems:d}]}))},Cw=ve([Bte,B8,Vf],H8),q8=(e,t,n)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(n!=="zAxis"){var l=lZ(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},Ute=ve([Cw,ol,nn],q8),K8=(e,t,n,r,s)=>n.length>0?e.flatMap(l=>n.flatMap(c=>{var d,f,m=(d=r[c.id])===null||d===void 0?void 0:d.filter(x=>V8(s,x)),h=Ut(l,(f=t.dataKey)!==null&&f!==void 0?f:c.dataKey);return{value:h,errorDomain:zte(l,h,m)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Ut(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),ux=e=>e.errorBars,G8=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>V8(n,r));ve([F8,ux,nn],G8);var Fte=ve([X2,xn,F8,ux,nn],K8);function Vte(e){var{value:t}=e;if(us(t)||t instanceof Date)return t}var u6=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=po(t);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Hte=(e,t,n)=>{var r=e.map(Vte).filter(s=>s!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&lM(r))?RD(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},Q2=e=>{var t;if(e==null||!("domain"in e))return kw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var n=po(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:kw},cp=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var s=n.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),d=Math.max(...l);return[c,d]}},Y8=e=>e.referenceElements.dots,uu=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),qte=ve([Y8,nn,Hf],uu),W8=e=>e.referenceElements.areas,Kte=ve([W8,nn,Hf],uu),X8=e=>e.referenceElements.lines,Gte=ve([X8,nn,Hf],uu),Z8=(e,t)=>{var n=po(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Yte=ve(qte,nn,Z8),Q8=(e,t)=>{var n=po(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Wte=ve([Kte,nn],Q8),J8=(e,t)=>{var n=po(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},Xte=ve(Gte,nn,J8),Zte=ve(Yte,Xte,Wte,(e,t,n)=>cp(e,n,t)),eR=ve([xn],Q2),J2=(e,t,n,r,s,l,c)=>{var d=fte(t,e.allowDataOverflow);if(d!=null)return d;var f=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",m=f?cp(n,s,u6(r)):cp(s,u6(r));return mte(t,m,e.allowDataOverflow)},Qte=ve([xn,eR,Ute,Fte,Zte,yt,nn],J2),Jte=[0,1],eN=(e,t,n,r,s,l,c)=>{if(!((e==null||n==null||n.length===0)&&c===void 0)){var{dataKey:d,type:f}=e,m=sl(t,l);return m&&d==null?RD(0,n.length):f==="category"?Hte(r,e,m):s==="expand"?Jte:c}},tN=ve([xn,yt,X2,cx,Vf,nn,Qte],eN),tR=(e,t,n,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var d="scale".concat(Lf(l));return d in zd?d:"point"}}},du=ve([xn,yt,z8,I2,nn],tR);function ene(e){if(e!=null){if(e in zd)return zd[e]();var t="scale".concat(Lf(e));if(t in zd)return zd[t]()}}function nN(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var s=ene(t);if(s!=null){var l=s.domain(n).range(r);return ZX(l),l}}}var aN=(e,t,n)=>{var r=Q2(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&qc(e))return Nte(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&qc(e))return Ste(e,t.tickCount,t.allowDecimals)}},rN=ve([tN,qf,du],aN),sN=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&qc(t)&&Array.isArray(n)&&n.length>0){var s=t[0],l=n[0],c=t[1],d=n[n.length-1];return[Math.min(s,l),Math.max(c,d)]}return t},tne=ve([xn,tN,rN,nn],sN),nne=ve(cx,xn,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(po(e.map(d=>d.value))).sort((d,f)=>d-f);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];n=Math.min(n,c)}return n/s}}),nR=ve(nne,yt,P8,En,(e,t,n,r)=>r,(e,t,n,r,s)=>{if(!Xa(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=ha(n,e*l),d=e*l/2;return d-c-(d-c)/l*c}return 0}),ane=(e,t)=>{var n=ci(e,t);return n==null||typeof n.padding!="string"?0:nR(e,"xAxis",t,n.padding)},rne=(e,t)=>{var n=cl(e,t);return n==null||typeof n.padding!="string"?0:nR(e,"yAxis",t,n.padding)},sne=ve(ci,ane,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((n=s.left)!==null&&n!==void 0?n:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),ine=ve(cl,rne,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((n=s.top)!==null&&n!==void 0?n:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),lne=ve([En,sne,Wp,Yp,(e,t,n)=>n],(e,t,n,r,s)=>{var{padding:l}=r;return s?[l.left,n.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),one=ve([En,yt,ine,Wp,Yp,(e,t,n)=>n],(e,t,n,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Gf=(e,t,n,r)=>{var s;switch(t){case"xAxis":return lne(e,n,r);case"yAxis":return one(e,n,r);case"zAxis":return(s=q2(e,n))===null||s===void 0?void 0:s.range;case"angleAxis":return R8(e);case"radiusAxis":return L8(e,n);default:return}},aR=ve([xn,Gf],sx),fu=ve([xn,du,tne,aR],nN);ve([Kf,ux,nn],G8);function rR(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var dx=(e,t)=>t,fx=(e,t,n)=>n,cne=ve(i2,dx,fx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rR)),une=ve(l2,dx,fx,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(rR)),sR=(e,t)=>({width:e.width,height:t.height}),dne=(e,t)=>{var n=typeof t.width=="number"?t.width:Gp;return{width:n,height:e.height}},iR=ve(En,ci,sR),fne=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},mne=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},hne=ve(li,En,cne,dx,fx,(e,t,n,r,s)=>{var l={},c;return n.forEach(d=>{var f=sR(t,d);c==null&&(c=fne(t,r,e));var m=r==="top"&&!s||r==="bottom"&&s;l[d.id]=c-Number(m)*f.height,c+=(m?-1:1)*f.height}),l}),pne=ve(ii,En,une,dx,fx,(e,t,n,r,s)=>{var l={},c;return n.forEach(d=>{var f=dne(t,d);c==null&&(c=mne(t,r,e));var m=r==="left"&&!s||r==="right"&&s;l[d.id]=c-Number(m)*f.width,c+=(m?-1:1)*f.width}),l}),xne=(e,t)=>{var n=En(e),r=ci(e,t);if(r!=null){var s=hne(e,r.orientation,r.mirror),l=s[t];return l==null?{x:n.left,y:0}:{x:n.left,y:l}}},gne=(e,t)=>{var n=En(e),r=cl(e,t);if(r!=null){var s=pne(e,r.orientation,r.mirror),l=s[t];return l==null?{x:0,y:n.top}:{x:l,y:n.top}}},lR=ve(En,cl,(e,t)=>{var n=typeof t.width=="number"?t.width:Gp;return{width:n,height:e.height}}),d6=(e,t,n)=>{switch(t){case"xAxis":return iR(e,n).width;case"yAxis":return lR(e,n).height;default:return}},oR=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=n,d=sl(e,r),f=t.map(m=>m.value);if(c&&d&&l==="category"&&s&&lM(f))return f}},iN=ve([yt,cx,xn,nn],oR),cR=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:s,scale:l}=n,c=sl(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(d=>d.value)}},lN=ve([yt,cx,qf,nn],cR),f6=ve([yt,Lte,du,fu,iN,lN,Gf,rN,nn],(e,t,n,r,s,l,c,d,f)=>{if(t==null)return null;var m=sl(e,f);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:f,categoricalDomain:l,duplicateDomain:s,isCategorical:m,niceTicks:d,range:c,realScaleType:n,scale:r}}),vne=(e,t,n,r,s,l,c,d,f)=>{if(!(t==null||r==null)){var m=sl(e,f),{type:h,ticks:x,tickCount:v}=t,y=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,w=h==="category"&&r.bandwidth?r.bandwidth()/y:0;w=f==="angleAxis"&&l!=null&&l.length>=2?Bn(l[0]-l[1])*2*w:w;var j=x||s;if(j){var S=j.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:r(C)+w,value:k,offset:w}});return S.filter(k=>!Ga(k.coordinate))}return m&&d?d.map((k,_)=>({coordinate:r(k)+w,value:k,index:_,offset:w})):r.ticks?r.ticks(v).map(k=>({coordinate:r(k)+w,value:k,offset:w})):r.domain().map((k,_)=>({coordinate:r(k)+w,value:c?c[k]:k,index:_,offset:w}))}},uR=ve([yt,qf,du,fu,rN,Gf,iN,lN,nn],vne),bne=(e,t,n,r,s,l,c)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var d=sl(e,c),{tickCount:f}=t,m=0;return m=c==="angleAxis"&&(r==null?void 0:r.length)>=2?Bn(r[0]-r[1])*2*m:m,d&&l?l.map((h,x)=>({coordinate:n(h)+m,value:h,index:x,offset:m})):n.ticks?n.ticks(f).map(h=>({coordinate:n(h)+m,value:h,offset:m})):n.domain().map((h,x)=>({coordinate:n(h)+m,value:s?s[h]:h,index:x,offset:m}))}},tl=ve([yt,qf,fu,Gf,iN,lN,nn],bne),nl=ve(xn,fu,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})}),yne=ve([xn,du,tN,aR],nN);ve((e,t,n)=>q2(e,n),yne,(e,t)=>{if(!(e==null||t==null))return op(op({},e),{},{scale:t})});var wne=ve([yt,i2,l2],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),dR=e=>e.options.defaultTooltipEventType,fR=e=>e.options.validateTooltipEventTypes;function mR(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function oN(e,t){var n=dR(e),r=fR(e);return mR(t,n,r)}function jne(e){return Xe(t=>oN(t,e))}var hR=(e,t)=>{var n,r=Number(t);if(!(Ga(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},Nne=e=>e.tooltip.settings,Ki={active:!1,index:null,dataKey:void 0,coordinate:void 0},Sne={itemInteraction:{click:Ki,hover:Ki},axisInteraction:{click:Ki,hover:Ki},keyboardInteraction:Ki,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},pR=Za({name:"tooltip",initialState:Sne,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var n=Hs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:_ne,removeTooltipEntrySettings:kne,setTooltipSettingsState:Cne,setActiveMouseOverItemIndex:xR,mouseLeaveItem:Ane,mouseLeaveChart:gR,setActiveClickItemIndex:Tne,setMouseOverAxisIndex:vR,setMouseClickAxisIndex:Ene,setSyncInteraction:Aw,setKeyboardInteraction:Tw}=pR.actions,Pne=pR.reducer;function m6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Th(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(n),!0).forEach(function(r){One(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function One(e,t,n){return(t=Mne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mne(e){var t=Dne(e,"string");return typeof t=="symbol"?t:t+""}function Dne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rne(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Lne(e){return e.index!=null}var bR=(e,t,n,r)=>{if(t==null)return Ki;var s=Rne(e,t,n);if(s==null)return Ki;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(Lne(s)){if(l)return Th(Th({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return Th(Th({},Ki),{},{coordinate:s.coordinate})},cN=(e,t)=>{var n=e==null?void 0:e.index;if(n==null)return null;var r=Number(n);if(!Xa(r))return n;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(r,l)))},yR=(e,t,n,r,s,l,c,d)=>{if(!(l==null||d==null)){var f=c[0],m=f==null?void 0:d(f.positions,l);if(m!=null)return m;var h=s==null?void 0:s[Number(l)];if(h)switch(n){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},wR=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return n==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Yf=e=>e.options.tooltipPayloadSearcher,mu=e=>e.tooltip;function h6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function p6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h6(Object(n),!0).forEach(function(r){$ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ne(e,t,n){return(t=Ine(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ine(e){var t=zne(e,"string");return typeof t=="symbol"?t:t+""}function zne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bne(e,t){return e??t}var jR=(e,t,n,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:d,computedData:f,dataStartIndex:m,dataEndIndex:h}=n,x=[];return e.reduce((v,y)=>{var w,{dataDefinedOnItem:j,settings:S}=y,k=Bne(j,d),_=Array.isArray(k)?fD(k,m,h):k,C=(w=S==null?void 0:S.dataKey)!==null&&w!==void 0?w:r==null?void 0:r.dataKey,P=S==null?void 0:S.nameKey,A;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?A=oM(_,r.dataKey,s):A=l(_,t,f,P),Array.isArray(A))A.forEach(L=>{var M=p6(p6({},S),{},{name:L.name,unit:L.unit,color:void 0,fill:void 0});v.push(XC({tooltipEntrySettings:M,dataKey:L.dataKey,payload:L.payload,value:Ut(L.payload,L.dataKey),name:L.name}))});else{var T;v.push(XC({tooltipEntrySettings:S,dataKey:C,payload:A,value:Ut(A,C),name:(T=Ut(A,P))!==null&&T!==void 0?T:S==null?void 0:S.name}))}return v},x)}},uN=ve([Mn,yt,z8,I2,On],tR),Une=ve([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),Fne=ve([On,cu],K2),Wf=ve([Une,Mn,Fne],G2),Vne=ve([Wf],e=>e.filter(lx)),Hne=ve([Wf],Y2),hu=ve([Hne,ol],W2),qne=ve([Vne,ol,Mn],I8),dN=ve([hu,Mn,Wf],Z2),Kne=ve([Mn],Q2),Gne=ve([Wf],e=>e.filter(lx)),Yne=ve([qne,Gne,Vf],H8),Wne=ve([Yne,ol,On],q8),Xne=ve([Wf],U8),Zne=ve([hu,Mn,Xne,ux,On],K8),Qne=ve([Y8,On,cu],uu),Jne=ve([Qne,On],Z8),eae=ve([W8,On,cu],uu),tae=ve([eae,On],Q8),nae=ve([X8,On,cu],uu),aae=ve([nae,On],J8),rae=ve([Jne,aae,tae],cp),sae=ve([Mn,Kne,Wne,Zne,rae,yt,On],J2),NR=ve([Mn,yt,hu,dN,Vf,On,sae],eN),iae=ve([NR,Mn,uN],aN),lae=ve([Mn,NR,iae,On],sN),SR=e=>{var t=On(e),n=cu(e),r=!1;return Gf(e,t,n,r)},_R=ve([Mn,SR],sx),kR=ve([Mn,uN,lae,_R],nN),oae=ve([yt,dN,Mn,On],oR),cae=ve([yt,dN,Mn,On],cR),uae=(e,t,n,r,s,l,c,d)=>{if(t){var{type:f}=t,m=sl(e,d);if(r){var h=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,x=f==="category"&&r.bandwidth?r.bandwidth()/h:0;return x=d==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?Bn(s[0]-s[1])*2*x:x,m&&c?c.map((v,y)=>({coordinate:r(v)+x,value:v,index:y,offset:x})):r.domain().map((v,y)=>({coordinate:r(v)+x,value:l?l[v]:v,index:y,offset:x}))}}},ui=ve([yt,Mn,uN,kR,SR,oae,cae,On],uae),fN=ve([dR,fR,Nne],(e,t,n)=>mR(n.shared,e,t)),CR=e=>e.tooltip.settings.trigger,mN=e=>e.tooltip.settings.defaultIndex,mx=ve([mu,fN,CR,mN],bR),al=ve([mx,hu],cN),AR=ve([ui,al],hR),TR=ve([mx],e=>{if(e)return e.dataKey}),ER=ve([mu,fN,CR,mN],wR),dae=ve([ii,li,yt,En,ui,mN,ER,Yf],yR),fae=ve([mx,dae],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),mae=ve([mx],e=>e.active),hae=ve([ER,al,ol,Mn,AR,Yf,fN],jR),pae=ve([hae],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function x6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function g6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?x6(Object(n),!0).forEach(function(r){xae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):x6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function xae(e,t,n){return(t=gae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gae(e){var t=vae(e,"string");return typeof t=="symbol"?t:t+""}function vae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var bae=()=>Xe(Mn),yae=()=>{var e=bae(),t=Xe(ui),n=Xe(kR);return xf(g6(g6({},e),{},{scale:n}),t)},wae=()=>Xe(I2),hN=(e,t)=>t,PR=(e,t,n)=>n,pN=(e,t,n,r)=>r,jae=ve(ui,e=>Bp(e,t=>t.coordinate)),xN=ve([mu,hN,PR,pN],bR),OR=ve([xN,hu],cN),Nae=(e,t,n)=>{if(t!=null){var r=mu(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},MR=ve([mu,hN,PR,pN],wR),up=ve([ii,li,yt,En,ui,pN,MR,Yf],yR),Sae=ve([xN,up],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),DR=ve(ui,OR,hR),_ae=ve([MR,OR,ol,Mn,DR,Yf,hN],jR),kae=ve([xN],e=>({isActive:e.active,activeIndex:e.index})),Cae=(e,t,n,r,s,l,c,d)=>{if(!(!e||!t||!r||!s||!l)){var f=oZ(e.chartX,e.chartY,t,n,d);if(f){var m=uZ(f,t),h=WX(m,c,l,r,s),x=cZ(t,l,h,f);return{activeIndex:String(h),activeCoordinate:x}}}};function Ew(){return Ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ew.apply(null,arguments)}function v6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Eh(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v6(Object(n),!0).forEach(function(r){Aae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Aae(e,t,n){return(t=Tae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tae(e){var t=Eae(e,"string");return typeof t=="symbol"?t:t+""}function Eae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pae(e){var{coordinate:t,payload:n,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:d,tooltipEventType:f,chartName:m}=e,h=t,x=n,v=r;if(!d||!h||m!=="ScatterChart"&&f!=="axis")return null;var y,w;if(m==="ScatterChart")y=h,w=GZ;else if(m==="BarChart")y=YZ(c,h,s,l),w=OD;else if(c==="radial"){var{cx:j,cy:S,radius:k,startAngle:_,endAngle:C}=MD(h);y={cx:j,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},w=d2}else y={points:OQ(c,h,s)},w=c2;var P=typeof d=="object"&&"className"in d?d.className:void 0,A=Eh(Eh(Eh(Eh({stroke:"#ccc",pointerEvents:"none"},s),y),Jt(d,!1)),{},{payload:x,payloadIndex:v,className:ft("recharts-tooltip-cursor",P)});return g.isValidElement(d)?g.cloneElement(d,A):g.createElement(w,A)}function Oae(e){var t=yae(),n=bD(),r=Xp(),s=wae();return g.createElement(Pae,Ew({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:n,layout:r,tooltipAxisBandSize:t,chartName:s}))}var RR=g.createContext(null),Mae=()=>g.useContext(RR),jy={exports:{}},b6;function Dae(){return b6||(b6=1,function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(f,m,h){this.fn=f,this.context=m,this.once=h||!1}function l(f,m,h,x,v){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,x||f,v),w=n?n+m:m;return f._events[w]?f._events[w].fn?f._events[w]=[f._events[w],y]:f._events[w].push(y):(f._events[w]=y,f._eventsCount++),f}function c(f,m){--f._eventsCount===0?f._events=new r:delete f._events[m]}function d(){this._events=new r,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],h,x;if(this._eventsCount===0)return m;for(x in h=this._events)t.call(h,x)&&m.push(n?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(h)):m},d.prototype.listeners=function(m){var h=n?n+m:m,x=this._events[h];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,y=x.length,w=new Array(y);v<y;v++)w[v]=x[v].fn;return w},d.prototype.listenerCount=function(m){var h=n?n+m:m,x=this._events[h];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,h,x,v,y,w){var j=n?n+m:m;if(!this._events[j])return!1;var S=this._events[j],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(m,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,x),!0;case 4:return S.fn.call(S.context,h,x,v),!0;case 5:return S.fn.call(S.context,h,x,v,y),!0;case 6:return S.fn.call(S.context,h,x,v,y,w),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var P=S.length,A;for(C=0;C<P;C++)switch(S[C].once&&this.removeListener(m,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,x);break;case 4:S[C].fn.call(S[C].context,h,x,v);break;default:if(!_)for(A=1,_=new Array(k-1);A<k;A++)_[A-1]=arguments[A];S[C].fn.apply(S[C].context,_)}}return!0},d.prototype.on=function(m,h,x){return l(this,m,h,x,!1)},d.prototype.once=function(m,h,x){return l(this,m,h,x,!0)},d.prototype.removeListener=function(m,h,x,v){var y=n?n+m:m;if(!this._events[y])return this;if(!h)return c(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!v||w.once)&&(!x||w.context===x)&&c(this,y);else{for(var j=0,S=[],k=w.length;j<k;j++)(w[j].fn!==h||v&&!w[j].once||x&&w[j].context!==x)&&S.push(w[j]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},d.prototype.removeAllListeners=function(m){var h;return m?(h=n?n+m:m,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=n,d.EventEmitter=d,e.exports=d}(jy)),jy.exports}var Rae=Dae();const Lae=Ur(Rae);var Nf=new Lae,Pw="recharts.syncEvent.tooltip",y6="recharts.syncEvent.brush";function gN(e,t){if(t){var n=Number.parseInt(t,10);if(!Ga(n))return e==null?void 0:e[n]}}var $ae={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},LR=Za({name:"options",initialState:$ae,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),Iae=LR.reducer,{createEventEmitter:zae}=LR.actions;function Bae(e){return e.tooltip.syncInteraction}var Uae={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$R=Za({name:"chartData",initialState:Uae,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:w6,setDataStartEndIndexes:Fae,setComputedData:ume}=$R.actions,Vae=$R.reducer,IR=()=>{};function Hae(){var e=Xe(z2),t=Xe(B2),n=pn(),r=Xe(O8),s=Xe(ui),l=Xp(),c=o2(),d=Xe(f=>f.rootProps.className);g.useEffect(()=>{if(e==null)return IR;var f=(m,h,x)=>{if(t!==x&&e===m){if(r==="index"){n(h);return}if(s!=null){var v;if(typeof r=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},w=r(s,y);v=s[w]}else r==="value"&&(v=s.find(T=>String(T.value)===h.payload.label));var{coordinate:j}=h.payload;if(v==null||h.payload.active===!1||j==null||c==null){n(Aw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:k}=j,_=Math.min(S,c.x+c.width),C=Math.min(k,c.y+c.height),P={x:l==="horizontal"?v.coordinate:_,y:l==="horizontal"?C:v.coordinate},A=Aw({active:h.payload.active,coordinate:P,dataKey:h.payload.dataKey,index:String(v.index),label:h.payload.label});n(A)}}};return Nf.on(Pw,f),()=>{Nf.off(Pw,f)}},[d,n,t,e,r,s,l,c])}function qae(){var e=Xe(z2),t=Xe(B2),n=pn();g.useEffect(()=>{if(e==null)return IR;var r=(s,l,c)=>{t!==c&&e===s&&n(Fae(l))};return Nf.on(y6,r),()=>{Nf.off(y6,r)}},[n,t,e])}function Kae(){var e=pn();g.useEffect(()=>{e(zae())},[e]),Hae(),qae()}function Gae(e,t,n,r,s,l){var c=Xe(v=>Nae(v,e,t)),d=Xe(B2),f=Xe(z2),m=Xe(O8),h=Xe(Bae),x=h==null?void 0:h.active;g.useEffect(()=>{if(!x&&f!=null&&d!=null){var v=Aw({active:l,coordinate:n,dataKey:c,index:s,label:typeof r=="number"?String(r):r});Nf.emit(Pw,f,v,d)}},[x,n,c,s,r,d,f,m,l])}function j6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function N6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?j6(Object(n),!0).forEach(function(r){Yae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Yae(e,t,n){return(t=Wae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Wae(e){var t=Xae(e,"string");return typeof t=="symbol"?t:t+""}function Xae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zae(e){return e.dataKey}function Qae(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(_Z,t)}var S6=[],Jae={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fo.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function as(e){var t=Qa(e,Jae),{active:n,allowEscapeViewBox:r,animationDuration:s,animationEasing:l,content:c,filterNull:d,isAnimationActive:f,offset:m,payloadUniqBy:h,position:x,reverseDirection:v,useTranslate3d:y,wrapperStyle:w,cursor:j,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:P}=t,A=pn(),T=typeof _=="number"?String(_):_;g.useEffect(()=>{A(Cne({shared:S,trigger:k,axisId:P,active:n,defaultIndex:T}))},[A,S,k,P,n,T]);var L=o2(),M=_D(),F=jne(S),{activeIndex:K,isActive:V}=Xe(Q=>kae(Q,F,k,T)),$=Xe(Q=>_ae(Q,F,k,T)),ee=Xe(Q=>DR(Q,F,k,T)),je=Xe(Q=>Sae(Q,F,k,T)),ne=$,D=Mae(),Y=n??V,[H,I]=zW([ne,Y]),E=F==="axis"?ee:void 0;Gae(F,k,je,E,K,Y);var R=C??D;if(R==null)return null;var z=ne??S6;Y||(z=S6),d&&z.length&&(z=dW(ne.filter(Q=>Q.value!=null&&(Q.hide!==!0||t.includeHidden)),h,Zae));var W=z.length>0,ce=g.createElement(OZ,{allowEscapeViewBox:r,animationDuration:s,animationEasing:l,isAnimationActive:f,active:Y,coordinate:je,hasPayload:W,offset:m,position:x,reverseDirection:v,useTranslate3d:y,viewBox:L,wrapperStyle:w,lastBoundingBox:H,innerRef:I,hasPortalFromProps:!!C},Qae(c,N6(N6({},t),{},{payload:z,label:E,active:Y,coordinate:je,accessibilityLayer:M})));return g.createElement(g.Fragment,null,KI.createPortal(ce,R),Y&&g.createElement(Oae,{cursor:j,tooltipEventType:F,coordinate:je,payload:ne,index:K}))}var Ny={},Sy={},_y={},_6;function ere(){return _6||(_6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:s,edges:l}={}){let c,d=null;const f=l!=null&&l.includes("leading"),m=l==null||l.includes("trailing"),h=()=>{d!==null&&(n.apply(c,d),c=void 0,d=null)},x=()=>{m&&h(),j()};let v=null;const y=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},r)},w=()=>{v!==null&&(clearTimeout(v),v=null)},j=()=>{w(),c=void 0,d=null},S=()=>{h()},k=function(..._){if(s!=null&&s.aborted)return;c=this,d=_;const C=v==null;y(),f&&C&&h()};return k.schedule=y,k.cancel=j,k.flush=S,s==null||s.addEventListener("abort",j,{once:!0}),k}e.debounce=t}(_y)),_y}var k6;function tre(){return k6||(k6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ere();function n(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:d=!0,maxWait:f}=l,m=Array(2);c&&(m[0]="leading"),d&&(m[1]="trailing");let h,x=null;const v=t.debounce(function(...j){h=r.apply(this,j),x=null},s,{edges:m}),y=function(...j){return f!=null&&(x===null&&(x=Date.now()),Date.now()-x>=f)?(h=r.apply(this,j),x=Date.now(),v.cancel(),v.schedule(),h):(v.apply(this,j),h)},w=()=>(v.flush(),h);return y.cancel=v.cancel,y.flush=w,y}e.debounce=n}(Sy)),Sy}var C6;function nre(){return C6||(C6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tre();function n(r,s=0,l={}){const{leading:c=!0,trailing:d=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:d})}e.throttle=n}(Ny)),Ny}var ky,A6;function are(){return A6||(A6=1,ky=nre().throttle),ky}var rre=are();const sre=Ur(rre);var Xd=function(t,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l]};function T6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cy(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?T6(Object(n),!0).forEach(function(r){ire(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ire(e,t,n){return(t=lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lre(e){var t=ore(e,"string");return typeof t=="symbol"?t:t+""}function ore(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rs=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:d,maxHeight:f,children:m,debounce:h=0,id:x,className:v,onResize:y,style:w={}}=e,j=g.useRef(null),S=g.useRef();S.current=y,g.useImperativeHandle(t,()=>j.current);var[k,_]=g.useState({containerWidth:r.width,containerHeight:r.height}),C=g.useCallback((A,T)=>{_(L=>{var M=Math.round(A),F=Math.round(T);return L.containerWidth===M&&L.containerHeight===F?L:{containerWidth:M,containerHeight:F}})},[]);g.useEffect(()=>{var A=F=>{var K,{width:V,height:$}=F[0].contentRect;C(V,$),(K=S.current)===null||K===void 0||K.call(S,V,$)};h>0&&(A=sre(A,h,{trailing:!0,leading:!1}));var T=new ResizeObserver(A),{width:L,height:M}=j.current.getBoundingClientRect();return C(L,M),T.observe(j.current),()=>{T.disconnect()}},[C,h]);var P=g.useMemo(()=>{var{containerWidth:A,containerHeight:T}=k;if(A<0||T<0)return null;Xd(Kl(s)||Kl(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Xd(!n||n>0,"The aspect(%s) must be greater than zero.",n);var L=Kl(s)?A:s,M=Kl(l)?T:l;return n&&n>0&&(L?M=L/n:M&&(L=M*n),f&&M>f&&(M=f)),Xd(L>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,L,M,s,l,c,d,n),g.Children.map(m,F=>g.cloneElement(F,{width:L,height:M,style:Cy({width:L,height:M},F.props.style)}))},[n,m,l,f,d,c,k,s]);return g.createElement("div",{id:x?"".concat(x):void 0,className:ft("recharts-responsive-container",v),style:Cy(Cy({},w),{},{width:s,height:l,minWidth:c,minHeight:d,maxHeight:f}),ref:j},g.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),Fs=e=>null;Fs.displayName="Cell";function cre(e,t,n){return(t=ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ure(e){var t=dre(e,"string");return typeof t=="symbol"?t:t+""}function dre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class fre{constructor(t){cre(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function E6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mre(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E6(Object(n),!0).forEach(function(r){hre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hre(e,t,n){return(t=pre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pre(e){var t=xre(e,"string");return typeof t=="symbol"?t:t+""}function xre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var gre={cacheSize:2e3,enableCache:!0},zR=mre({},gre),P6=new fre(zR.cacheSize),vre={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},O6="recharts_measurement_span";function bre(e,t){var n=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(d)}var M6=(e,t)=>{try{var n=document.getElementById(O6);n||(n=document.createElement("span"),n.setAttribute("id",O6),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,vre,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Zd=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fo.isSsr)return{width:0,height:0};if(!zR.enableCache)return M6(t,n);var r=bre(t,n),s=P6.get(r);if(s)return s;var l=M6(t,n);return P6.set(r,l),l},D6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,R6=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,yre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,wre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BR={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},jre=Object.keys(BR),yc="NaN";function Nre(e,t){return e*BR[t]}class ja{static parse(t){var n,[,r,s]=(n=wre.exec(t))!==null&&n!==void 0?n:[];return new ja(parseFloat(r),s??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,Ga(t)&&(this.unit=""),n!==""&&!yre.test(n)&&(this.num=NaN,this.unit=""),jre.includes(n)&&(this.num=Nre(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new ja(NaN,""):new ja(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new ja(NaN,""):new ja(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Ga(this.num)}}function UR(e){if(e.includes(yc))return yc;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,s,l]=(n=D6.exec(t))!==null&&n!==void 0?n:[],c=ja.parse(r??""),d=ja.parse(l??""),f=s==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return yc;t=t.replace(D6,f.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,h,x,v]=(m=R6.exec(t))!==null&&m!==void 0?m:[],y=ja.parse(h??""),w=ja.parse(v??""),j=x==="+"?y.add(w):y.subtract(w);if(j.isNaN())return yc;t=t.replace(R6,j.toString())}return t}var L6=/\(([^()]*)\)/;function Sre(e){for(var t=e,n;(n=L6.exec(t))!=null;){var[,r]=n;t=t.replace(L6,UR(r))}return t}function _re(e){var t=e.replace(/\s+/g,"");return t=Sre(t),t=UR(t),t}function kre(e){try{return _re(e)}catch{return yc}}function Ay(e){var t=kre(e.slice(5,-1));return t===yc?"":t}var Cre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Are=["dx","dy","angle","className","breakAll"];function Ow(){return Ow=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ow.apply(null,arguments)}function $6(e,t){if(e==null)return{};var n,r,s=Tre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Tre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var FR=/[ \f\n\r\t\v\u2028\u2029]+/,VR=e=>{var{children:t,breakAll:n,style:r}=e;try{var s=[];Wt(t)||(n?s=t.toString().split(""):s=t.toString().split(FR));var l=s.map(d=>({word:d,width:Zd(d,r).width})),c=n?0:Zd("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},Ere=(e,t,n,r,s)=>{var{maxLines:l,children:c,style:d,breakAll:f}=e,m=He(l),h=c,x=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(($,ee)=>{var{word:je,width:ne}=ee,D=$[$.length-1];if(D&&(r==null||s||D.width+ne+n<Number(r)))D.words.push(je),D.width+=ne+n;else{var Y={words:[je],width:ne};$.push(Y)}return $},[])},v=x(t),y=K=>K.reduce((V,$)=>V.width>$.width?V:$);if(!m||s)return v;var w=v.length>l||y(v).width>Number(r);if(!w)return v;for(var j="",S=K=>{var V=h.slice(0,K),$=VR({breakAll:f,style:d,children:V+j}).wordsWithComputedWidth,ee=x($),je=ee.length>l||y(ee).width>Number(r);return[je,ee]},k=0,_=h.length-1,C=0,P;k<=_&&C<=h.length-1;){var A=Math.floor((k+_)/2),T=A-1,[L,M]=S(T),[F]=S(A);if(!L&&!F&&(k=A+1),L&&F&&(_=A-1),!L&&F){P=M;break}C++}return P||v},I6=e=>{var t=Wt(e)?[]:e.toString().split(FR);return[{words:t}]},Pre=e=>{var{width:t,scaleToFit:n,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||n)&&!fo.isSsr){var d,f,m=VR({breakAll:l,children:r,style:s});if(m){var{wordsWithComputedWidth:h,spaceWidth:x}=m;d=h,f=x}else return I6(r);return Ere({breakAll:l,children:r,maxLines:c,style:s},d,f,t,n)}return I6(r)},z6="#808080",hx=g.forwardRef((e,t)=>{var{x:n=0,y:r=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:d="start",verticalAnchor:f="end",fill:m=z6}=e,h=$6(e,Cre),x=g.useMemo(()=>Pre({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:v,dy:y,angle:w,className:j,breakAll:S}=h,k=$6(h,Are);if(!us(n)||!us(r))return null;var _=n+(He(v)?v:0),C=r+(He(y)?y:0),P;switch(f){case"start":P=Ay("calc(".concat(l,")"));break;case"middle":P=Ay("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=Ay("calc(".concat(x.length-1," * -").concat(s,")"));break}var A=[];if(c){var T=x[0].width,{width:L}=h;A.push("scale(".concat(He(L)?L/T:1,")"))}return w&&A.push("rotate(".concat(w,", ").concat(_,", ").concat(C,")")),A.length&&(k.transform=A.join(" ")),g.createElement("text",Ow({},Jt(k,!0),{ref:t,x:_,y:C,className:ft("recharts-text",j),textAnchor:d,fill:m.includes("url")?z6:m}),x.map((M,F)=>{var K=M.words.join(S?"":" ");return g.createElement("tspan",{x:_,dy:F===0?P:s,key:"".concat(K,"-").concat(F)},K)}))});hx.displayName="Text";var Ore=["offset"],Mre=["labelRef"];function B6(e,t){if(e==null)return{};var n,r,s=Dre(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Dre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function U6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U6(Object(n),!0).forEach(function(r){Rre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rre(e,t,n){return(t=Lre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=$re(e,"string");return typeof t=="symbol"?t:t+""}function $re(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function zs(){return zs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(null,arguments)}var Ire=e=>{var{value:t,formatter:n}=e,r=Wt(e.children)?t:e.children;return typeof n=="function"?n(r):r},vN=e=>e!=null&&typeof e=="function",zre=(e,t)=>{var n=Bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Bre=(e,t,n,r)=>{var{position:s,offset:l,className:c}=e,{cx:d,cy:f,innerRadius:m,outerRadius:h,startAngle:x,endAngle:v,clockWise:y}=r,w=(m+h)/2,j=zre(x,v),S=j>=0?1:-1,k,_;s==="insideStart"?(k=x+S*l,_=y):s==="insideEnd"?(k=v-S*l,_=!y):s==="end"&&(k=v+S*l,_=y),_=j<=0?_:!_;var C=jn(d,f,w,k),P=jn(d,f,w,k+(_?1:-1)*359),A="M".concat(C.x,",").concat(C.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),T=Wt(e.id)?mf("recharts-radial-line-"):e.id;return g.createElement("text",zs({},n,{dominantBaseline:"central",className:ft("recharts-radial-bar-label",c)}),g.createElement("defs",null,g.createElement("path",{id:T,d:A})),g.createElement("textPath",{xlinkHref:"#".concat(T)},t))},Ure=(e,t,n)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:d,endAngle:f}=e,m=(d+f)/2;if(n==="outside"){var{x:h,y:x}=jn(r,s,c+t,m);return{x:h,y:x,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,{x:y,y:w}=jn(r,s,v,m);return{x:y,y:w,textAnchor:"middle",verticalAnchor:"middle"}},Fre=(e,t)=>{var{parentViewBox:n,offset:r,position:s}=e,{x:l,y:c,width:d,height:f}=t,m=f>=0?1:-1,h=m*r,x=m>0?"end":"start",v=m>0?"start":"end",y=d>=0?1:-1,w=y*r,j=y>0?"end":"start",S=y>0?"start":"end";if(s==="top"){var k={x:l+d/2,y:c-m*r,textAnchor:"middle",verticalAnchor:x};return cn(cn({},k),n?{height:Math.max(c-n.y,0),width:d}:{})}if(s==="bottom"){var _={x:l+d/2,y:c+f+h,textAnchor:"middle",verticalAnchor:v};return cn(cn({},_),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(s==="left"){var C={x:l-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"};return cn(cn({},C),n?{width:Math.max(C.x-n.x,0),height:f}:{})}if(s==="right"){var P={x:l+d+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"};return cn(cn({},P),n?{width:Math.max(n.x+n.width-P.x,0),height:f}:{})}var A=n?{width:d,height:f}:{};return s==="insideLeft"?cn({x:l+w,y:c+f/2,textAnchor:S,verticalAnchor:"middle"},A):s==="insideRight"?cn({x:l+d-w,y:c+f/2,textAnchor:j,verticalAnchor:"middle"},A):s==="insideTop"?cn({x:l+d/2,y:c+h,textAnchor:"middle",verticalAnchor:v},A):s==="insideBottom"?cn({x:l+d/2,y:c+f-h,textAnchor:"middle",verticalAnchor:x},A):s==="insideTopLeft"?cn({x:l+w,y:c+h,textAnchor:S,verticalAnchor:v},A):s==="insideTopRight"?cn({x:l+d-w,y:c+h,textAnchor:j,verticalAnchor:v},A):s==="insideBottomLeft"?cn({x:l+w,y:c+f-h,textAnchor:S,verticalAnchor:x},A):s==="insideBottomRight"?cn({x:l+d-w,y:c+f-h,textAnchor:j,verticalAnchor:x},A):s&&typeof s=="object"&&(He(s.x)||Kl(s.x))&&(He(s.y)||Kl(s.y))?cn({x:l+ha(s.x,d),y:c+ha(s.y,f),textAnchor:"end",verticalAnchor:"end"},A):cn({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},A)},Vre=e=>"cx"in e&&He(e.cx);function Ha(e){var{offset:t=5}=e,n=B6(e,Ore),r=cn({offset:t},n),{viewBox:s,position:l,value:c,children:d,content:f,className:m="",textBreakAll:h,labelRef:x}=r,v=Xe($8),y=o2(),w=l==="center"?y:v??y,j=s||w;if(!j||Wt(c)&&Wt(d)&&!g.isValidElement(f)&&typeof f!="function")return null;var S=cn(cn({},r),{},{viewBox:j});if(g.isValidElement(f)){var{labelRef:k}=S,_=B6(S,Mre);return g.cloneElement(f,_)}var C;if(typeof f=="function"){if(C=g.createElement(f,S),g.isValidElement(C))return C}else C=Ire(r);var P=Vre(j),A=Jt(r,!0);if(P&&(l==="insideStart"||l==="insideEnd"||l==="end"))return Bre(r,C,A,j);var T=P?Ure(j,r.offset,r.position):Fre(r,j);return g.createElement(hx,zs({ref:x,className:ft("recharts-label",m)},A,T,{breakAll:h}),C)}Ha.displayName="Label";var HR=e=>{var{cx:t,cy:n,angle:r,startAngle:s,endAngle:l,r:c,radius:d,innerRadius:f,outerRadius:m,x:h,y:x,top:v,left:y,width:w,height:j,clockWise:S,labelViewBox:k}=e;if(k)return k;if(He(w)&&He(j)){if(He(h)&&He(x))return{x:h,y:x,width:w,height:j};if(He(v)&&He(y))return{x:v,y,width:w,height:j}}if(He(h)&&He(x))return{x:h,y:x,width:0,height:0};if(He(t)&&He(n))return{cx:t,cy:n,startAngle:s||r||0,endAngle:l||r||0,innerRadius:f||0,outerRadius:m||d||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Hre=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(Ha,zs({key:"label-implicit"},r)):us(e)?g.createElement(Ha,zs({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===Ha?g.cloneElement(e,cn({key:"label-implicit"},r)):g.createElement(Ha,zs({key:"label-implicit",content:e},r)):vN(e)?g.createElement(Ha,zs({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(Ha,zs({},e,{key:"label-implicit"},r)):null},qre=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:l}=t,c=HR(t),d=$f(s,Ha).map((m,h)=>g.cloneElement(m,{viewBox:n||c,key:"label-".concat(h)}));if(!r)return d;var f=Hre(t.label,n||c,l);return[f,...d]};Ha.parseViewBox=HR;Ha.renderCallByParent=qre;var Ty={},Ey={},F6;function Kre(){return F6||(F6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t}(Ey)),Ey}var Py={},V6;function Gre(){return V6||(V6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t}(Py)),Py}var H6;function Yre(){return H6||(H6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Kre(),n=Gre(),r=Wj();function s(l){if(r.isArrayLike(l))return t.last(n.toArray(l))}e.last=s}(Ty)),Ty}var Oy,q6;function Wre(){return q6||(q6=1,Oy=Yre().last),Oy}var Xre=Wre();const Zre=Ur(Xre);var Qre=["valueAccessor"],Jre=["data","dataKey","clockWise","id","textBreakAll"];function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(null,arguments)}function K6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function G6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?K6(Object(n),!0).forEach(function(r){ese(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ese(e,t,n){return(t=tse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tse(e){var t=nse(e,"string");return typeof t=="symbol"?t:t+""}function nse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Y6(e,t){if(e==null)return{};var n,r,s=ase(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function ase(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var rse=e=>Array.isArray(e.value)?Zre(e.value):e.value;function Xi(e){var{valueAccessor:t=rse}=e,n=Y6(e,Qre),{data:r,dataKey:s,clockWise:l,id:c,textBreakAll:d}=n,f=Y6(n,Jre);return!r||!r.length?null:g.createElement(ia,{className:"recharts-label-list"},r.map((m,h)=>{var x=Wt(s)?t(m,h):Ut(m&&m.payload,s),v=Wt(c)?{}:{id:"".concat(c,"-").concat(h)};return g.createElement(Ha,dp({},Jt(m,!0),f,v,{parentViewBox:m.parentViewBox,value:x,textBreakAll:d,viewBox:Ha.parseViewBox(Wt(l)?m:G6(G6({},m),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}Xi.displayName="LabelList";function sse(e,t){return e?e===!0?g.createElement(Xi,{key:"labelList-implicit",data:t}):g.isValidElement(e)||vN(e)?g.createElement(Xi,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?g.createElement(Xi,dp({data:t},e,{key:"labelList-implicit"})):null:null}function ise(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var{children:r}=e,s=$f(r,Xi).map((c,d)=>g.cloneElement(c,{data:t,key:"labelList-".concat(d)}));if(!n)return s;var l=sse(e.label,t);return[l,...s]}Xi.renderCallByParent=ise;function Mw(){return Mw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mw.apply(null,arguments)}var qR=e=>{var{cx:t,cy:n,r,className:s}=e,l=ft("recharts-dot",s);return t===+t&&n===+n&&r===+r?g.createElement("circle",Mw({},si(e),qj(e),{className:l,cx:t,cy:n,r})):null},KR=e=>e.graphicalItems.polarItems,lse=ve([nn,Hf],K2),bN=ve([KR,xn,lse],G2),ose=ve([bN],Y2),yN=ve([ose,R2],W2),cse=ve([yN,xn,bN],Z2),use=ve([yN,xn,bN],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(s=>{var l,c=Ut(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Ut(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),W6=()=>{},dse=ve([xn,eR,W6,use,W6,yt,nn],J2),GR=ve([xn,yt,yN,cse,Vf,nn,dse],eN),fse=ve([GR,xn,du],aN);ve([xn,GR,fse,nn],sN);var mse={radiusAxis:{},angleAxis:{}},YR=Za({name:"polarAxis",initialState:mse,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:dme,removeRadiusAxis:fme,addAngleAxis:mme,removeAngleAxis:hme}=YR.actions,hse=YR.reducer;function X6(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Z6(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X6(Object(n),!0).forEach(function(r){pse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X6(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pse(e,t,n){return(t=xse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xse(e){var t=gse(e,"string");return typeof t=="symbol"?t:t+""}function gse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vse=(e,t)=>t,wN=ve([KR,vse],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),bse=[],jN=(e,t,n)=>(n==null?void 0:n.length)===0?bse:n,WR=ve([R2,wN,jN],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&n!=null&&(s=n.map(l=>Z6(Z6({},t.presentationProps),l.props))),s!=null)return s}}),yse=ve([WR,wN,jN],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=Ut(r,t.nameKey,t.name),d;return n!=null&&(l=n[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?d=n[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?d=r.fill:d=t.fill,{value:su(c,t.dataKey),color:d,payload:r,type:t.legendType}})}),wse=ve([WR,wN,jN,En],(e,t,n,r)=>{if(!(t==null||e==null))return hie({offset:r,pieSettings:t,displayedData:e,cells:n})}),My={},Q6;function jse(){return Q6||(Q6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var s;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const l=n[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&s.writable)?!1:n.toString()===`[object ${l}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t}(My)),My}var Dy,J6;function Nse(){return J6||(J6=1,Dy=jse().isPlainObject),Dy}var Sse=Nse();const _se=Ur(Sse);function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(null,arguments)}var eT=(e,t,n,r,s)=>{var l=n-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+n,",").concat(t),c+="L ".concat(e+n-l/2,",").concat(t+s),c+="L ".concat(e+n-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},kse={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Cse=e=>{var t=Qa(e,kse),n=g.useRef(),[r,s]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:d,lowerWidth:f,height:m,className:h}=t,{animationEasing:x,animationDuration:v,animationBegin:y,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||d!==+d||f!==+f||m!==+m||d===0&&f===0||m===0)return null;var j=ft("recharts-trapezoid",h);return w?g.createElement(X0,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:m,x:l,y:c},to:{upperWidth:d,lowerWidth:f,height:m,x:l,y:c},duration:v,animationEasing:x,isActive:w},S=>{var{upperWidth:k,lowerWidth:_,height:C,x:P,y:A}=S;return g.createElement(X0,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:v,easing:x},g.createElement("path",fp({},Jt(t,!0),{className:j,d:eT(P,A,k,_,C),ref:n})))}):g.createElement("g",null,g.createElement("path",fp({},Jt(t,!0),{className:j,d:eT(l,c,d,f,m)})))},Ase=["option","shapeType","propTransformer","activeClassName","isActive"];function Tse(e,t){if(e==null)return{};var n,r,s=Ese(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ese(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function mp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){Pse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pse(e,t,n){return(t=Ose(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ose(e){var t=Mse(e,"string");return typeof t=="symbol"?t:t+""}function Mse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Dse(e,t){return mp(mp({},t),e)}function Rse(e,t){return e==="symbols"}function nT(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(OD,n);case"trapezoid":return g.createElement(Cse,n);case"sector":return g.createElement(d2,n);case"symbols":if(Rse(t))return g.createElement(EM,n);break;default:return null}}function Lse(e){return g.isValidElement(e)?e.props:e}function XR(e){var{option:t,shapeType:n,propTransformer:r=Dse,activeClassName:s="recharts-active-shape",isActive:l}=e,c=Tse(e,Ase),d;if(g.isValidElement(t))d=g.cloneElement(t,mp(mp({},c),Lse(t)));else if(typeof t=="function")d=t(c);else if(_se(t)&&typeof t!="boolean"){var f=r(t,c);d=g.createElement(nT,{shapeType:n,elementProps:f})}else{var m=c;d=g.createElement(nT,{shapeType:n,elementProps:m})}return l?g.createElement(ia,{className:s},d):d}var NN=(e,t)=>{var n=pn();return(r,s)=>l=>{e==null||e(r,s,l),n(xR({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},SN=e=>{var t=pn();return(n,r)=>s=>{e==null||e(n,r,s),t(Ane())}},_N=(e,t)=>{var n=pn();return(r,s)=>l=>{e==null||e(r,s,l),n(Tne({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function kN(e){var{fn:t,args:n}=e,r=pn(),s=Aa();return g.useEffect(()=>{if(!s){var l=t(n);return r(_ne(l)),()=>{r(kne(l))}}},[t,n,r,s]),null}var ZR=()=>{};function QR(e){var{legendPayload:t}=e,n=pn(),r=Aa();return g.useEffect(()=>r?ZR:(n(ND(t)),()=>{n(SD(t))}),[n,r,t]),null}function $se(e){var{legendPayload:t}=e,n=pn(),r=Xe(yt);return g.useEffect(()=>r!=="centric"&&r!=="radial"?ZR:(n(ND(t)),()=>{n(SD(t))}),[n,r,t]),null}function CN(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(mf(t)),r=g.useRef(e);return r.current!==e&&(n.current=mf(t),r.current=e),n.current}var Ry,Ise=()=>{var[e]=g.useState(()=>mf("uid-"));return e},zse=(Ry=h$.useId)!==null&&Ry!==void 0?Ry:Ise;function Bse(e,t){var n=zse();return t||(e?"".concat(e,"-").concat(n):n)}var Use=g.createContext(void 0),AN=e=>{var{id:t,type:n,children:r}=e,s=Bse("recharts-".concat(n),t);return g.createElement(Use.Provider,{value:s},r(s))},Fse={cartesianItems:[],polarItems:[]},JR=Za({name:"graphicalItems",initialState:Fse,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:n,next:r}=t.payload,s=Hs(e).cartesianItems.indexOf(n);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var n=Hs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var n=Hs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)}}}),{addCartesianGraphicalItem:Vse,replaceCartesianGraphicalItem:Hse,removeCartesianGraphicalItem:qse,addPolarGraphicalItem:Kse,removePolarGraphicalItem:Gse}=JR.actions,Yse=JR.reducer;function eL(e){var t=pn(),n=g.useRef(null);return g.useEffect(()=>{n.current===null?t(Vse(e)):n.current!==e&&t(Hse({prev:n.current,next:e})),n.current=e},[t,e]),g.useEffect(()=>()=>{n.current&&(t(qse(n.current)),n.current=null)},[t]),null}function Wse(e){var t=pn();return g.useEffect(()=>(t(Kse(e)),()=>{t(Gse(e))}),[t,e]),null}function Xse(){}var Zse={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},aT={t:0},Ly={t:1};function TN(e){var t=Qa(e,Zse),{isActive:n,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:d,onAnimationStart:f,children:m}=t,h=PD("JavascriptAnimate",t.animationManager),[x,v]=g.useState(n?aT:Ly),y=g.useRef(null);return g.useEffect(()=>{n||v(Ly)},[n]),g.useEffect(()=>{if(!n||!r)return Xse;var w=ED(aT,Ly,AD(l),s,v,h.getTimeoutController()),j=()=>{y.current=w()};return h.start([f,c,j,s,d]),()=>{h.stop(),y.current&&y.current(),d()}},[n,r,s,l,c,f,d,h]),m(x.t)}var Qse=["onMouseEnter","onClick","onMouseLeave"],Jse=["id"],eie=["id"];function EN(e,t){if(e==null)return{};var n,r,s=tie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function tie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nie(e,t,n){return(t=aie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aie(e){var t=rie(e,"string");return typeof t=="symbol"?t:t+""}function rie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ri.apply(null,arguments)}function sie(e){var t=g.useMemo(()=>$f(e.children,Fs),[e.children]),n=Xe(r=>yse(r,e.id,t));return n==null?null:g.createElement($se,{legendPayload:n})}function iie(e){var{dataKey:t,nameKey:n,sectors:r,stroke:s,strokeWidth:l,fill:c,name:d,hide:f,tooltipType:m}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:n,name:su(d,t),hide:f,type:m,color:c,unit:""}}}var lie=(e,t)=>e>t?"start":e<t?"end":"middle",oie=(e,t,n)=>typeof t=="function"?t(e):ha(t,n,n*.8),cie=(e,t,n)=>{var{top:r,left:s,width:l,height:c}=t,d=dD(l,c),f=s+ha(e.cx,l,l/2),m=r+ha(e.cy,c,c/2),h=ha(e.innerRadius,d,0),x=oie(n,e.outerRadius,d),v=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:f,cy:m,innerRadius:h,outerRadius:x,maxRadius:v}},uie=(e,t)=>{var n=Bn(t-e),r=Math.min(Math.abs(t-e),360);return n*r},die=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=ft("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return g.createElement(c2,ri({},t,{type:"linear",className:n}))},fie=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var s=ft("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return g.createElement(hx,ri({},t,{alignmentBaseline:"middle",className:s}),r)};function mie(e){var{sectors:t,props:n,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=n;if(!r||!s||!t)return null;var d=si(n),f=Jt(s,!1),m=Jt(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,x=t.map((v,y)=>{var w=(v.startAngle+v.endAngle)/2,j=jn(v.cx,v.cy,v.outerRadius+h,w),S=fn(fn(fn(fn({},d),v),{},{stroke:"none"},f),{},{index:y,textAnchor:lie(j.x,v.cx)},j),k=fn(fn(fn(fn({},d),v),{},{fill:"none",stroke:v.fill},m),{},{index:y,points:[jn(v.cx,v.cy,v.outerRadius,w),j],key:"line"});return g.createElement(ia,{key:"label-".concat(v.startAngle,"-").concat(v.endAngle,"-").concat(v.midAngle,"-").concat(y)},l&&die(l,k),fie(s,S,Ut(v,c)))});return g.createElement(ia,{className:"recharts-pie-labels"},x)}function tL(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:s,showLabels:l}=e,c=Xe(al),{onMouseEnter:d,onClick:f,onMouseLeave:m}=s,h=EN(s,Qse),x=NN(d,s.dataKey),v=SN(m),y=_N(f,s.dataKey);return t==null?null:g.createElement(g.Fragment,null,t.map((w,j)=>{if((w==null?void 0:w.startAngle)===0&&(w==null?void 0:w.endAngle)===0&&t.length!==1)return null;var S=n&&String(j)===c,k=c?r:null,_=S?n:k,C=fn(fn({},w),{},{stroke:w.stroke,tabIndex:-1,[xD]:j,[gD]:s.dataKey});return g.createElement(ia,ri({tabIndex:-1,className:"recharts-pie-sector"},Lp(h,w,j),{onMouseEnter:x(w,j),onMouseLeave:v(w,j),onClick:y(w,j),key:"sector-".concat(w==null?void 0:w.startAngle,"-").concat(w==null?void 0:w.endAngle,"-").concat(w.midAngle,"-").concat(j)}),g.createElement(XR,ri({option:_,isActive:S,shapeType:"sector"},C)))}),g.createElement(mie,{sectors:t,props:s,showLabels:l}))}function hie(e){var t,{pieSettings:n,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:d,endAngle:f,dataKey:m,nameKey:h,tooltipType:x}=n,v=Math.abs(n.minAngle),y=uie(d,f),w=Math.abs(y),j=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(T=>Ut(T,m,0)!==0).length,k=(w>=360?S:S-1)*j,_=w-S*v-k,C=r.reduce((T,L)=>{var M=Ut(L,m,0);return T+(He(M)?M:0)},0),P;if(C>0){var A;P=r.map((T,L)=>{var M=Ut(T,m,0),F=Ut(T,h,L),K=cie(n,l,T),V=(He(M)?M:0)/C,$,ee=fn(fn({},T),s&&s[L]&&s[L].props);L?$=A.endAngle+Bn(y)*j*(M!==0?1:0):$=d;var je=$+Bn(y)*((M!==0?v:0)+V*_),ne=($+je)/2,D=(K.innerRadius+K.outerRadius)/2,Y=[{name:F,value:M,payload:ee,dataKey:m,type:x}],H=jn(K.cx,K.cy,D,ne);return A=fn(fn(fn(fn({},n.presentationProps),{},{percent:V,cornerRadius:c,name:F,tooltipPayload:Y,midAngle:ne,middleRadius:D,tooltipPosition:H},ee),K),{},{value:Ut(T,m),startAngle:$,endAngle:je,payload:ee,paddingAngle:Bn(y)*j}),A})}return P}function pie(e){var{props:t,previousSectorsRef:n}=e,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:d,activeShape:f,inactiveShape:m,onAnimationStart:h,onAnimationEnd:x}=t,v=CN(t,"recharts-pie-"),y=n.current,[w,j]=g.useState(!0),S=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),k=g.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return g.createElement(TN,{begin:l,duration:c,isActive:s,easing:d,onAnimationStart:k,onAnimationEnd:S,key:v},_=>{var C=[],P=r&&r[0],A=P.startAngle;return r.forEach((T,L)=>{var M=y&&y[L],F=L>0?el(T,"paddingAngle",0):0;if(M){var K=Ok(M.endAngle-M.startAngle,T.endAngle-T.startAngle),V=fn(fn({},T),{},{startAngle:A+F,endAngle:A+K(_)+F});C.push(V),A=V.endAngle}else{var{endAngle:$,startAngle:ee}=T,je=Ok(0,$-ee),ne=je(_),D=fn(fn({},T),{},{startAngle:A+F,endAngle:A+ne+F});C.push(D),A=D.endAngle}}),n.current=C,g.createElement(ia,null,g.createElement(tL,{sectors:C,activeShape:f,inactiveShape:m,allOtherPieProps:t,showLabels:!w}))})}function xie(e){var{sectors:t,isAnimationActive:n,activeShape:r,inactiveShape:s}=e,l=g.useRef(null),c=l.current;return n&&t&&t.length&&(!c||c!==t)?g.createElement(pie,{props:e,previousSectorsRef:l}):g.createElement(tL,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function gie(e){var{hide:t,className:n,rootTabIndex:r}=e,s=ft("recharts-pie",n);return t?null:g.createElement(ia,{tabIndex:r,className:s},g.createElement(xie,e))}var vie={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!fo.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function bie(e){var{id:t}=e,n=EN(e,Jse),r=g.useMemo(()=>$f(e.children,Fs),[e.children]),s=Xe(l=>wse(l,t,r));return g.createElement(g.Fragment,null,g.createElement(kN,{fn:iie,args:fn(fn({},e),{},{sectors:s})}),g.createElement(gie,ri({},n,{sectors:s})))}function Sf(e){var t=Qa(e,vie),{id:n}=t,r=EN(t,eie),s=si(r);return g.createElement(AN,{id:n,type:"pie"},l=>g.createElement(g.Fragment,null,g.createElement(Wse,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s}),g.createElement(sie,ri({},r,{id:l})),g.createElement(bie,ri({},r,{id:l})),r.children))}Sf.displayName="Pie";var yie=ve([En],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),wie=ve([yie,ii,li],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),PN=()=>Xe(wie),jie=()=>Xe(pae);function sT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function iT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(n),!0).forEach(function(r){Nie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Nie(e,t,n){return(t=Sie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Sie(e){var t=_ie(e,"string");return typeof t=="symbol"?t:t+""}function _ie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var kie=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=iT(iT({index:n,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},Jt(s,!1)),qj(s)),d;return g.isValidElement(s)?d=g.cloneElement(s,c):typeof s=="function"?d=s(c):d=g.createElement(qR,c),g.createElement(ia,{className:"recharts-active-dot"},d)};function Cie(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:s}=e,l=Xe(al),c=jie();if(t==null||c==null)return null;var d=t.find(f=>c.includes(f.payload));return Wt(d)?null:kie({point:d,childIndex:Number(l),mainColor:n,dataKey:s,activeDot:r})}var Aie="Invariant failed";function Tie(e,t){throw new Error(Aie)}var Eie=["x","y"];function Dw(){return Dw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dw.apply(null,arguments)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){Pie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Pie(e,t,n){return(t=Oie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oie(e){var t=Mie(e,"string");return typeof t=="symbol"?t:t+""}function Mie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Die(e,t){if(e==null)return{};var n,r,s=Rie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Rie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Lie(e,t){var{x:n,y:r}=e,s=Die(e,Eie),l="".concat(n),c=parseInt(l,10),d="".concat(r),f=parseInt(d,10),m="".concat(t.height||s.height),h=parseInt(m,10),x="".concat(t.width||s.width),v=parseInt(x,10);return jd(jd(jd(jd(jd({},t),s),c?{x:c}:{}),f?{y:f}:{}),{},{height:h,width:v,name:t.name,radius:t.radius})}function nL(e){return g.createElement(XR,Dw({shapeType:"rectangle",propTransformer:Lie,activeClassName:"recharts-active-bar"},e))}var $ie=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(He(t))return t;var l=He(r)||Wt(r);return l?t(r,s):(l||Tie(),n)}},Iie={},aL=Za({name:"errorBars",initialState:Iie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:pme,removeErrorBar:xme}=aL.actions,zie=aL.reducer,Bie=["children"];function Uie(e,t){if(e==null)return{};var n,r,s=Fie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Fie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Vie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Hie=g.createContext(Vie);function rL(e){var{children:t}=e,n=Uie(e,Bie);return g.createElement(Hie.Provider,{value:n},t)}function ON(e,t){var n,r,s=Xe(m=>ci(m,e)),l=Xe(m=>cl(m,t)),c=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Ba.allowDataOverflow,d=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:Ua.allowDataOverflow,f=c||d;return{needClip:f,needClipX:c,needClipY:d}}function sL(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,s=PN(),{needClipX:l,needClipY:c,needClip:d}=ON(t,n);if(!d)return null;var{x:f,y:m,width:h,height:x}=s;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:l?f:f-h/2,y:c?m:m-x/2,width:l?h:h*2,height:c?x:x*2}))}var qie=["onMouseEnter","onMouseLeave","onClick"],Kie=["value","background","tooltipPosition"],Gie=["id"],Yie=["onMouseEnter","onClick","onMouseLeave"];function Kc(){return Kc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kc.apply(null,arguments)}function oT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function aa(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oT(Object(n),!0).forEach(function(r){Wie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wie(e,t,n){return(t=Xie(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xie(e){var t=Zie(e,"string");return typeof t=="symbol"?t:t+""}function Zie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(e,t){if(e==null)return{};var n,r,s=Qie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Qie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jie=e=>{var{dataKey:t,name:n,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:su(n,t),payload:e}]};function ele(e){var{dataKey:t,stroke:n,strokeWidth:r,fill:s,name:l,hide:c,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:n,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:su(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:d}}}function tle(e){var t=Xe(al),{data:n,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:d,onClick:f}=l,m=hp(l,qie),h=NN(c,r),x=SN(d),v=_N(f,r);if(!s||n==null)return null;var y=Jt(s,!1);return g.createElement(g.Fragment,null,n.map((w,j)=>{var{value:S,background:k,tooltipPosition:_}=w,C=hp(w,Kie);if(!k)return null;var P=h(w,j),A=x(w,j),T=v(w,j),L=aa(aa(aa(aa(aa({option:s,isActive:String(j)===t},C),{},{fill:"#eee"},k),y),Lp(m,w,j)),{},{onMouseEnter:P,onMouseLeave:A,onClick:T,dataKey:r,index:j,className:"recharts-bar-background-rectangle"});return g.createElement(nL,Kc({key:"background-bar-".concat(j)},L))}))}function iL(e){var{data:t,props:n,showLabels:r}=e,s=si(n),{id:l}=s,c=hp(s,Gie),{shape:d,dataKey:f,activeBar:m}=n,h=Xe(al),x=Xe(TR),{onMouseEnter:v,onClick:y,onMouseLeave:w}=n,j=hp(n,Yie),S=NN(v,f),k=SN(w),_=_N(y,f);return t?g.createElement(g.Fragment,null,t.map((C,P)=>{var A=m&&String(P)===h&&(x==null||f===x),T=A?m:d,L=aa(aa(aa({},c),C),{},{isActive:A,option:T,index:P,dataKey:f});return g.createElement(ia,Kc({className:"recharts-bar-rectangle"},Lp(j,C,P),{onMouseEnter:S(C,P),onMouseLeave:k(C,P),onClick:_(C,P),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P)}),g.createElement(nL,L))}),r&&Xi.renderCallByParent(n,t)):null}function nle(e){var{props:t,previousRectanglesRef:n}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:d,animationEasing:f,onAnimationEnd:m,onAnimationStart:h}=t,x=n.current,v=CN(t,"recharts-bar-"),[y,w]=g.useState(!1),j=g.useCallback(()=>{typeof m=="function"&&m(),w(!1)},[m]),S=g.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return g.createElement(TN,{begin:c,duration:d,isActive:l,easing:f,onAnimationEnd:j,onAnimationStart:S,key:v},k=>{var _=k===1?r:r==null?void 0:r.map((C,P)=>{var A=x&&x[P];if(A)return aa(aa({},C),{},{x:Or(A.x,C.x,k),y:Or(A.y,C.y,k),width:Or(A.width,C.width,k),height:Or(A.height,C.height,k)});if(s==="horizontal"){var T=Or(0,C.height,k);return aa(aa({},C),{},{y:C.y+C.height-T,height:T})}var L=Or(0,C.width,k);return aa(aa({},C),{},{width:L})});return k>0&&(n.current=_??null),_==null?null:g.createElement(ia,null,g.createElement(iL,{props:t,data:_,showLabels:!y}))})}function ale(e){var{data:t,isAnimationActive:n}=e,r=g.useRef(null);return n&&t&&t.length&&(r.current==null||r.current!==t)?g.createElement(nle,{previousRectanglesRef:r,props:e}):g.createElement(iL,{props:e,data:t,showLabels:!0})}var lL=0,rle=(e,t)=>{var n=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:n,errorVal:Ut(e,t)}};class sle extends g.PureComponent{render(){var{hide:t,data:n,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:d,background:f,id:m}=this.props;if(t)return null;var h=ft("recharts-bar",s),x=m;return g.createElement(ia,{className:h,id:m},d&&g.createElement("defs",null,g.createElement(sL,{clipPathId:x,xAxisId:l,yAxisId:c})),g.createElement(ia,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},g.createElement(tle,{data:n,dataKey:r,background:f,allOtherBarProps:this.props}),g.createElement(ale,this.props)),this.props.children)}}var ile={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fo.isSsr,legendType:"rect",minPointSize:lL,xAxisId:0,yAxisId:0};function lle(e){var{xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h}=e,{needClip:x}=ON(t,n),v=Xp(),y=Aa(),w=$f(e.children,Fs),j=Xe(_=>Dle(_,t,n,y,e.id,w));if(v!=="vertical"&&v!=="horizontal")return null;var S,k=j==null?void 0:j[0];return k==null||k.height==null||k.width==null?S=0:S=v==="vertical"?k.height/2:k.width/2,g.createElement(rL,{xAxisId:t,yAxisId:n,data:j,dataPointFormatter:rle,errorBarOffset:S},g.createElement(sle,Kc({},e,{layout:v,needClip:x,data:j,xAxisId:t,yAxisId:n,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:d,animationDuration:f,animationEasing:m,isAnimationActive:h})))}function ole(e){var{layout:t,barSettings:{dataKey:n,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:d,xAxisTicks:f,yAxisTicks:m,stackedData:h,displayedData:x,offset:v,cells:y}=e,w=t==="horizontal"?d:c,j=h?w.scale.domain():null,S=rZ({numericAxis:w});return x.map((k,_)=>{var C,P,A,T,L,M;h?C=QX(h[_],j):(C=Ut(k,n),Array.isArray(C)||(C=[S,C]));var F=$ie(r,lL)(C[1],_);if(t==="horizontal"){var K,[V,$]=[d.scale(C[0]),d.scale(C[1])];P=GC({axis:c,ticks:f,bandSize:l,offset:s.offset,entry:k,index:_}),A=(K=$??V)!==null&&K!==void 0?K:void 0,T=s.size;var ee=V-$;if(L=Ga(ee)?0:ee,M={x:P,y:v.top,width:T,height:v.height},Math.abs(F)>0&&Math.abs(L)<Math.abs(F)){var je=Bn(L||F)*(Math.abs(F)-Math.abs(L));A-=je,L+=je}}else{var[ne,D]=[c.scale(C[0]),c.scale(C[1])];if(P=ne,A=GC({axis:d,ticks:m,bandSize:l,offset:s.offset,entry:k,index:_}),T=D-ne,L=s.size,M={x:v.left,y:A,width:v.width,height:L},Math.abs(F)>0&&Math.abs(T)<Math.abs(F)){var Y=Bn(T||F)*(Math.abs(F)-Math.abs(T));T+=Y}}if(P==null||A==null||T==null||L==null)return null;var H=aa(aa({},k),{},{x:P,y:A,width:T,height:L,value:h?C:C[1],payload:k,background:M,tooltipPosition:{x:P+T/2,y:A+L/2}},y&&y[_]&&y[_].props);return H}).filter(Boolean)}function Qd(e){var t=Qa(e,ile),n=Aa();return g.createElement(AN,{id:t.id,type:"bar"},r=>g.createElement(g.Fragment,null,g.createElement(QR,{legendPayload:Jie(t)}),g.createElement(kN,{fn:ele,args:t}),g.createElement(eL,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:aZ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:n}),g.createElement(lle,Kc({},t,{id:r}))))}Qd.displayName="Bar";function cT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Ph(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(n),!0).forEach(function(r){cle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):cT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cle(e,t,n){return(t=ule(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ule(e){var t=dle(e,"string");return typeof t=="symbol"?t:t+""}function dle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fle=(e,t)=>t,mle=(e,t,n)=>n,hle=(e,t,n,r)=>r,ple=(e,t,n,r,s)=>s,Xf=ve([ox,ple],(e,t)=>e.filter(n=>n.type==="bar").find(n=>n.id===t)),xle=ve([Xf],e=>e==null?void 0:e.maxBarSize),gle=(e,t,n,r,s,l)=>l,uT=(e,t,n)=>{var r=n??e;if(!Wt(r))return ha(r,t,0)},vle=ve([yt,ox,fle,mle,hle],(e,t,n,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===n:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),ble=(e,t,n,r)=>{var s=yt(e);return s==="horizontal"?Cw(e,"yAxis",n,r):Cw(e,"xAxis",t,r)},yle=(e,t,n)=>{var r=yt(e);return r==="horizontal"?d6(e,"xAxis",t):d6(e,"yAxis",n)},wle=(e,t,n)=>{var r={},s=e.filter(lx),l=e.filter(m=>m.stackId==null),c=s.reduce((m,h)=>(m[h.stackId]||(m[h.stackId]=[]),m[h.stackId].push(h),m),r),d=Object.entries(c).map(m=>{var[h,x]=m,v=x.map(w=>w.dataKey),y=uT(t,n,x[0].barSize);return{stackId:h,dataKeys:v,barSize:y}}),f=l.map(m=>{var h=[m.dataKey].filter(v=>v!=null),x=uT(t,n,m.barSize);return{stackId:void 0,dataKeys:h,barSize:x}});return[...d,...f]},jle=ve([vle,kte,yle],wle),Nle=(e,t,n,r,s)=>{var l,c,d=Xf(e,t,n,r,s);if(d!=null){var f=yt(e),m=E8(e),{maxBarSize:h}=d,x=Wt(h)?m:h,v,y;return f==="horizontal"?(v=nl(e,"xAxis",t,r),y=tl(e,"xAxis",t,r)):(v=nl(e,"yAxis",n,r),y=tl(e,"yAxis",n,r)),(l=(c=xf(v,y,!0))!==null&&c!==void 0?c:x)!==null&&l!==void 0?l:0}},oL=(e,t,n,r)=>{var s=yt(e),l,c;return s==="horizontal"?(l=nl(e,"xAxis",t,r),c=tl(e,"xAxis",t,r)):(l=nl(e,"yAxis",n,r),c=tl(e,"yAxis",n,r)),xf(l,c)};function Sle(e,t,n,r,s){var l=r.length;if(!(l<1)){var c=ha(e,n,0,!0),d,f=[];if(Xa(r[0].barSize)){var m=!1,h=n/l,x=r.reduce((k,_)=>k+(_.barSize||0),0);x+=(l-1)*c,x>=n&&(x-=(l-1)*c,c=0),x>=n&&h>0&&(m=!0,h*=.9,x=l*h);var v=(n-x)/2>>0,y={offset:v-c,size:0};d=r.reduce((k,_)=>{var C,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+c,size:m?h:(C=_.barSize)!==null&&C!==void 0?C:0}},A=[...k,P];return y=A[A.length-1].position,A},f)}else{var w=ha(t,n,0,!0);n-2*w-(l-1)*c<=0&&(c=0);var j=(n-2*w-(l-1)*c)/l;j>1&&(j>>=0);var S=Xa(s)?Math.min(j,s):j;d=r.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:w+(j+c)*C+(j-S)/2,size:S}}],f)}return d}}var _le=(e,t,n,r,s,l,c)=>{var d=Wt(c)?t:c,f=Sle(n,r,s!==l?s:l,e,d);return s!==l&&f!=null&&(f=f.map(m=>Ph(Ph({},m),{},{position:Ph(Ph({},m.position),{},{offset:m.position.offset-s/2})}))),f},kle=ve([jle,E8,_te,P8,Nle,oL,xle],_le),Cle=(e,t,n,r)=>nl(e,"xAxis",t,r),Ale=(e,t,n,r)=>nl(e,"yAxis",n,r),Tle=(e,t,n,r)=>tl(e,"xAxis",t,r),Ele=(e,t,n,r)=>tl(e,"yAxis",n,r),Ple=ve([kle,Xf],(e,t)=>{if(!(e==null||t==null)){var n=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(n!=null)return n.position}}),Ole=(e,t)=>{var n=H2(t);if(!(!e||n==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===n)}}}},Mle=ve([ble,Xf],Ole),Dle=ve([En,Cle,Ale,Tle,Ele,Ple,yt,ax,oL,Mle,Xf,gle],(e,t,n,r,s,l,c,d,f,m,h,x)=>{var{chartData:v,dataStartIndex:y,dataEndIndex:w}=d;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||n==null||r==null||s==null||f==null)){var{data:j}=h,S;if(j!=null&&j.length>0?S=j:S=v==null?void 0:v.slice(y,w+1),S!=null)return ole({layout:c,barSettings:h,pos:l,bandSize:f,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,stackedData:m,displayedData:S,offset:e,cells:x})}}),cL=e=>{var{chartData:t}=e,n=pn(),r=Aa();return g.useEffect(()=>r?()=>{}:(n(w6(t)),()=>{n(w6(void 0))}),[t,n,r]),null},dT={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},uL=Za({name:"brush",initialState:dT,reducers:{setBrushSettings(e,t){return t.payload==null?dT:t.payload}}}),{setBrushSettings:gme}=uL.actions,Rle=uL.reducer;function Lle(e,t,n){return(t=$le(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $le(e){var t=Ile(e,"string");return typeof t=="symbol"?t:t+""}function Ile(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class MN{static create(t){return new MN(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(n){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],s=n[n.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}Lle(MN,"EPS",1e-4);function zle(e){return(e%180+180)%180}var Ble=function(t){var{width:n,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=zle(s),c=l*Math.PI/180,d=Math.atan(r/n),f=c>d&&c<Math.PI-d?r/Math.sin(c):n/Math.cos(c);return Math.abs(f)},Ule={dots:[],areas:[],lines:[]},dL=Za({name:"referenceElements",initialState:Ule,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Hs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Hs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Hs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:vme,removeDot:bme,addArea:yme,removeArea:wme,addLine:jme,removeLine:Nme}=dL.actions,Fle=dL.reducer,Vle=g.createContext(void 0),Hle=e=>{var{children:t}=e,[n]=g.useState("".concat(mf("recharts"),"-clip")),r=PN();if(r==null)return null;var{x:s,y:l,width:c,height:d}=r;return g.createElement(Vle.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:s,y:l,height:d,width:c}))),t)};function $y(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function fL(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function qle(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return Ble(r,n)}function Kle(e,t,n){var r=n==="width",{x:s,y:l,width:c,height:d}=e;return t===1?{start:r?s:l,end:r?s+c:l+d}:{start:r?s+c:l+d,end:r?s:l}}function pp(e,t,n,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=n();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function Gle(e,t){return fL(e,t+1)}function Yle(e,t,n,r,s){for(var l=(r||[]).slice(),{start:c,end:d}=t,f=0,m=1,h=c,x=function(){var w=r==null?void 0:r[f];if(w===void 0)return{v:fL(r,m)};var j=f,S,k=()=>(S===void 0&&(S=n(w,j)),S),_=w.coordinate,C=f===0||pp(e,_,k,h,d);C||(f=0,h=c,m+=1),C&&(h=_+e*(k()/2+s),f+=m)},v;m<=l.length;)if(v=x(),v)return v.v;return[]}function fT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function na(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?fT(Object(n),!0).forEach(function(r){Wle(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Wle(e,t,n){return(t=Xle(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Xle(e){var t=Zle(e,"string");return typeof t=="symbol"?t:t+""}function Zle(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qle(e,t,n,r,s){for(var l=(r||[]).slice(),c=l.length,{start:d}=t,{end:f}=t,m=function(v){var y=l[v],w,j=()=>(w===void 0&&(w=n(y,v)),w);if(v===c-1){var S=e*(y.coordinate+e*j()/2-f);l[v]=y=na(na({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else l[v]=y=na(na({},y),{},{tickCoord:y.coordinate});var k=pp(e,y.tickCoord,j,d,f);k&&(f=y.tickCoord-e*(j()/2+s),l[v]=na(na({},y),{},{isShow:!0}))},h=c-1;h>=0;h--)m(h);return l}function Jle(e,t,n,r,s,l){var c=(r||[]).slice(),d=c.length,{start:f,end:m}=t;if(l){var h=r[d-1],x=n(h,d-1),v=e*(h.coordinate+e*x/2-m);c[d-1]=h=na(na({},h),{},{tickCoord:v>0?h.coordinate-v*e:h.coordinate});var y=pp(e,h.tickCoord,()=>x,f,m);y&&(m=h.tickCoord-e*(x/2+s),c[d-1]=na(na({},h),{},{isShow:!0}))}for(var w=l?d-1:d,j=function(_){var C=c[_],P,A=()=>(P===void 0&&(P=n(C,_)),P);if(_===0){var T=e*(C.coordinate-e*A()/2-f);c[_]=C=na(na({},C),{},{tickCoord:T<0?C.coordinate-T*e:C.coordinate})}else c[_]=C=na(na({},C),{},{tickCoord:C.coordinate});var L=pp(e,C.tickCoord,A,f,m);L&&(f=C.tickCoord+e*(A()/2+s),c[_]=na(na({},C),{},{isShow:!0}))},S=0;S<w;S++)j(S);return c}function DN(e,t,n){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:d,interval:f,tickFormatter:m,unit:h,angle:x}=e;if(!s||!s.length||!r)return[];if(He(f)||fo.isSsr){var v;return(v=Gle(s,He(f)?f:0))!==null&&v!==void 0?v:[]}var y=[],w=d==="top"||d==="bottom"?"width":"height",j=h&&w==="width"?Zd(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},S=(C,P)=>{var A=typeof m=="function"?m(C.value,P):C.value;return w==="width"?qle(Zd(A,{fontSize:t,letterSpacing:n}),j,x):Zd(A,{fontSize:t,letterSpacing:n})[w]},k=s.length>=2?Bn(s[1].coordinate-s[0].coordinate):1,_=Kle(l,k,w);return f==="equidistantPreserveStart"?Yle(k,_,S,s,c):(f==="preserveStart"||f==="preserveStartEnd"?y=Jle(k,_,S,s,c,f==="preserveStartEnd"):y=Qle(k,_,S,s,c),y.filter(C=>C.isShow))}var eoe=["viewBox"],toe=["viewBox"];function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wc.apply(null,arguments)}function mT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Cn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(n),!0).forEach(function(r){RN(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hT(e,t){if(e==null)return{};var n,r,s=noe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function noe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function RN(e,t,n){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aoe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ul extends g.Component{constructor(t){super(t),this.tickRefs=g.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,n){var{viewBox:r}=t,s=hT(t,eoe),l=this.props,{viewBox:c}=l,d=hT(l,toe);return!$y(r,c)||!$y(s,d)||!$y(n,this.state)}getTickLineCoord(t){var{x:n,y:r,width:s,height:l,orientation:c,tickSize:d,mirror:f,tickMargin:m}=this.props,h,x,v,y,w,j,S=f?-1:1,k=t.tickSize||d,_=He(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=x=t.coordinate,y=r+ +!f*l,v=y-S*k,j=v-S*m,w=_;break;case"left":v=y=t.coordinate,x=n+ +!f*s,h=x-S*k,w=h-S*m,j=_;break;case"right":v=y=t.coordinate,x=n+ +f*s,h=x+S*k,w=h+S*m,j=_;break;default:h=x=t.coordinate,y=r+ +f*l,v=y+S*k,j=v+S*m,w=_;break}return{line:{x1:h,y1:v,x2:x,y2:y},tick:{x:w,y:j}}}getTickTextAnchor(){var{orientation:t,mirror:n}=this.props,r;switch(t){case"left":r=n?"start":"end";break;case"right":r=n?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:n}=this.props;switch(t){case"left":case"right":return"middle";case"top":return n?"start":"end";default:return n?"end":"start"}}renderAxisLine(){var{x:t,y:n,width:r,height:s,orientation:l,mirror:c,axisLine:d}=this.props,f=Cn(Cn(Cn({},Jt(this.props,!1)),Jt(d,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var m=+(l==="top"&&!c||l==="bottom"&&c);f=Cn(Cn({},f),{},{x1:t,y1:n+m*s,x2:t+r,y2:n+m*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);f=Cn(Cn({},f),{},{x1:t+h*r,y1:n,x2:t+h*r,y2:n+s})}return g.createElement("line",wc({},f,{className:ft("recharts-cartesian-axis-line",el(d,"className"))}))}static renderTickItem(t,n,r){var s,l=ft(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))s=g.cloneElement(t,Cn(Cn({},n),{},{className:l}));else if(typeof t=="function")s=t(Cn(Cn({},n),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=ft(c,t.className)),s=g.createElement(hx,wc({},n,{className:c}),r)}return s}renderTicks(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:d,unit:f,padding:m}=this.props,h=DN(Cn(Cn({},this.props),{},{ticks:r}),t,n),x=this.getTickTextAnchor(),v=this.getTickVerticalAnchor(),y=si(this.props),w=Jt(c,!1),j=Cn(Cn({},y),{},{fill:"none"},Jt(s,!1)),S=h.map((k,_)=>{var{line:C,tick:P}=this.getTickLineCoord(k),A=Cn(Cn(Cn(Cn({textAnchor:x,verticalAnchor:v},y),{},{stroke:"none",fill:l},w),P),{},{index:_,payload:k,visibleTicksCount:h.length,tickFormatter:d,padding:m});return g.createElement(ia,wc({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},Lp(this.props,k,_)),s&&g.createElement("line",wc({},j,C,{className:ft("recharts-cartesian-axis-tick-line",el(s,"className"))})),c&&ul.renderTickItem(c,A,"".concat(typeof d=="function"?d(k.value,_):k.value).concat(f||"")))});return S.length>0?g.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:n,height:r,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return n!=null&&n<=0||r!=null&&r<=0?null:g.createElement(ia,{className:ft("recharts-cartesian-axis",s),ref:d=>{if(d){var f=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(f);var m=f[0];if(m){var h=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(h!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),Ha.renderCallByParent(this.props))}}RN(ul,"displayName","CartesianAxis");RN(ul,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var soe=["x1","y1","x2","y2","key"],ioe=["offset"],loe=["xAxisId","yAxisId"],ooe=["xAxisId","yAxisId"];function pT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function ra(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?pT(Object(n),!0).forEach(function(r){coe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):pT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function coe(e,t,n){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uoe(e){var t=doe(e,"string");return typeof t=="symbol"?t:t+""}function doe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xl(){return Xl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xl.apply(null,arguments)}function xp(e,t){if(e==null)return{};var n,r,s=foe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function foe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var moe=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:s,width:l,height:c,ry:d}=e;return g.createElement("rect",{x:r,y:s,ry:d,width:l,height:c,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function mL(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var{x1:r,y1:s,x2:l,y2:c,key:d}=t,f=xp(t,soe),m=si(f),{offset:h}=m,x=xp(m,ioe);n=g.createElement("line",Xl({},x,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:d}))}return n}function hoe(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=xp(e,loe),f=s.map((m,h)=>{var x=ra(ra({},d),{},{x1:t,y1:m,x2:t+n,y2:m,key:"line-".concat(h),index:h});return mL(r,x)});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},f)}function poe(e){var{y:t,height:n,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,d=xp(e,ooe),f=s.map((m,h)=>{var x=ra(ra({},d),{},{x1:m,y1:t,x2:m,y2:t+n,key:"line-".concat(h),index:h});return mL(r,x)});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},f)}function xoe(e){var{horizontalFill:t,fillOpacity:n,x:r,y:s,width:l,height:c,horizontalPoints:d,horizontal:f=!0}=e;if(!f||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var h=m.map((x,v)=>{var y=!m[v+1],w=y?s+c-x:m[v+1]-x;if(w<=0)return null;var j=v%t.length;return g.createElement("rect",{key:"react-".concat(v),y:x,x:r,height:w,width:l,stroke:"none",fill:t[j],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function goe(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:s,y:l,width:c,height:d,verticalPoints:f}=e;if(!t||!n||!n.length)return null;var m=f.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var h=m.map((x,v)=>{var y=!m[v+1],w=y?s+c-x:m[v+1]-x;if(w<=0)return null;var j=v%n.length;return g.createElement("rect",{key:"react-".concat(v),x,y:l,width:w,height:d,stroke:"none",fill:n[j],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var voe=(e,t)=>{var{xAxis:n,width:r,height:s,offset:l}=e;return mD(DN(ra(ra(ra({},ul.defaultProps),n),{},{ticks:hD(n),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},boe=(e,t)=>{var{yAxis:n,width:r,height:s,offset:l}=e;return mD(DN(ra(ra(ra({},ul.defaultProps),n),{},{ticks:hD(n),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},yoe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Zi(e){var t=yD(),n=wD(),r=bD(),s=ra(ra({},Qa(e,yoe)),{},{x:He(e.x)?e.x:r.left,y:He(e.y)?e.y:r.top,width:He(e.width)?e.width:r.width,height:He(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:d,y:f,width:m,height:h,syncWithTicks:x,horizontalValues:v,verticalValues:y}=s,w=Aa(),j=Xe(F=>f6(F,"xAxis",l,w)),S=Xe(F=>f6(F,"yAxis",c,w));if(!He(m)||m<=0||!He(h)||h<=0||!He(d)||d!==+d||!He(f)||f!==+f)return null;var k=s.verticalCoordinatesGenerator||voe,_=s.horizontalCoordinatesGenerator||boe,{horizontalPoints:C,verticalPoints:P}=s;if((!C||!C.length)&&typeof _=="function"){var A=v&&v.length,T=_({yAxis:S?ra(ra({},S),{},{ticks:A?v:S.ticks}):void 0,width:t,height:n,offset:r},A?!0:x);Xd(Array.isArray(T),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(C=T)}if((!P||!P.length)&&typeof k=="function"){var L=y&&y.length,M=k({xAxis:j?ra(ra({},j),{},{ticks:L?y:j.ticks}):void 0,width:t,height:n,offset:r},L?!0:x);Xd(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}return g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(moe,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),g.createElement(xoe,Xl({},s,{horizontalPoints:C})),g.createElement(goe,Xl({},s,{verticalPoints:P})),g.createElement(hoe,Xl({},s,{offset:r,horizontalPoints:C,xAxis:j,yAxis:S})),g.createElement(poe,Xl({},s,{offset:r,verticalPoints:P,xAxis:j,yAxis:S})))}Zi.displayName="CartesianGrid";var hL=(e,t,n,r)=>nl(e,"xAxis",t,r),pL=(e,t,n,r)=>tl(e,"xAxis",t,r),xL=(e,t,n,r)=>nl(e,"yAxis",n,r),gL=(e,t,n,r)=>tl(e,"yAxis",n,r),woe=ve([yt,hL,xL,pL,gL],(e,t,n,r,s)=>sl(e,"xAxis")?xf(t,r,!1):xf(n,s,!1)),joe=(e,t,n,r,s)=>s;function Noe(e){return e.type==="line"}var Soe=ve([ox,joe],(e,t)=>e.filter(Noe).find(n=>n.id===t)),_oe=ve([yt,hL,xL,pL,gL,Soe,woe,ax],(e,t,n,r,s,l,c,d)=>{var{chartData:f,dataStartIndex:m,dataEndIndex:h}=d;if(!(l==null||t==null||n==null||r==null||s==null||r.length===0||s.length===0||c==null)){var{dataKey:x,data:v}=l,y;if(v!=null&&v.length>0?y=v:y=f==null?void 0:f.slice(m,h+1),y!=null)return Koe({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:s,dataKey:x,bandSize:c,displayedData:y})}}),koe=["id"],Coe=["type","layout","connectNulls","needClip"],Aoe=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function xT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xT(Object(n),!0).forEach(function(r){Toe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Toe(e,t,n){return(t=Eoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Eoe(e){var t=Poe(e,"string");return typeof t=="symbol"?t:t+""}function Poe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function LN(e,t){if(e==null)return{};var n,r,s=Ooe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Ooe(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function co(){return co=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},co.apply(null,arguments)}var Moe=e=>{var{dataKey:t,name:n,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:su(n,t),payload:e}]};function Doe(e){var{dataKey:t,data:n,stroke:r,strokeWidth:s,fill:l,name:c,hide:d,unit:f}=e;return{dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:su(c,t),hide:d,type:e.tooltipType,color:e.stroke,unit:f}}}var vL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function Roe(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...n];return r}var Loe=(e,t,n)=>{var r=n.reduce((x,v)=>x+v);if(!r)return vL(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,d=[],f=0,m=0;f<n.length;m+=n[f],++f)if(m+n[f]>l){d=[...n.slice(0,f),l-m];break}var h=d.length%2===0?[0,c]:[c];return[...Roe(n,s),...d,...h].map(x=>"".concat(x,"px")).join(", ")};function $oe(e,t){var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{var r=ft("recharts-line-dot",typeof e!="boolean"?e.className:"");n=g.createElement(qR,co({},t,{className:r}))}return n}function Ioe(e,t){return e==null?!1:t?!0:e.length===1}function zoe(e){var{clipPathId:t,points:n,props:r}=e,{dot:s,dataKey:l,needClip:c}=r;if(!Ioe(n,s))return null;var{id:d}=r,f=LN(r,koe),m=dM(s),h=si(f),x=Jt(s,!0),v=n.map((w,j)=>{var S=Mr(Mr(Mr({key:"dot-".concat(j),r:3},h),x),{},{index:j,cx:w.x,cy:w.y,dataKey:l,value:w.value,payload:w.payload,points:n});return $oe(s,S)}),y={clipPath:c?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return g.createElement(ia,co({className:"recharts-line-dots",key:"dots"},y),v)}function Rw(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:s,props:l,showLabels:c}=e,{type:d,layout:f,connectNulls:m,needClip:h}=l,x=LN(l,Coe),v=Mr(Mr({},Jt(x,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:d,layout:f,connectNulls:m,strokeDasharray:s??l.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(c2,co({},v,{pathRef:n})),g.createElement(zoe,{points:r,clipPathId:t,props:l}),c&&Xi.renderCallByParent(l,r))}function Boe(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function Uoe(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:d,isAnimationActive:f,animationBegin:m,animationDuration:h,animationEasing:x,animateNewValues:v,width:y,height:w,onAnimationEnd:j,onAnimationStart:S}=n,k=s.current,_=CN(n,"recharts-line-"),[C,P]=g.useState(!1),A=g.useCallback(()=>{typeof j=="function"&&j(),P(!1)},[j]),T=g.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),L=Boe(r.current),M=l.current;return g.createElement(TN,{begin:m,duration:h,isActive:f,easing:x,onAnimationEnd:A,onAnimationStart:T,key:_},F=>{var K=Or(M,L+M,F),V=Math.min(K,L),$;if(d){var ee="".concat(d).split(/[,\s]+/gim).map(D=>parseFloat(D));$=Loe(V,L,ee)}else $=vL(L,V);if(k){var je=k.length/c.length,ne=F===1?c:c.map((D,Y)=>{var H=Math.floor(Y*je);if(k[H]){var I=k[H];return Mr(Mr({},D),{},{x:Or(I.x,D.x,F),y:Or(I.y,D.y,F)})}return v?Mr(Mr({},D),{},{x:Or(y*2,D.x,F),y:Or(w/2,D.y,F)}):Mr(Mr({},D),{},{x:D.x,y:D.y})});return s.current=ne,g.createElement(Rw,{props:n,points:ne,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:$})}return F>0&&L>0&&(s.current=c,l.current=V),g.createElement(Rw,{props:n,points:c,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:$})})}function Foe(e){var{clipPathId:t,props:n}=e,{points:r,isAnimationActive:s}=n,l=g.useRef(null),c=g.useRef(0),d=g.useRef(null),f=l.current;return s&&r&&r.length&&f!==r?g.createElement(Uoe,{props:n,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:d}):g.createElement(Rw,{props:n,points:r,clipPathId:t,pathRef:d,showLabels:!0})}var Voe=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Ut(e.payload,t)});class Hoe extends g.Component{render(){var t,{hide:n,dot:r,points:s,className:l,xAxisId:c,yAxisId:d,top:f,left:m,width:h,height:x,id:v,needClip:y}=this.props;if(n)return null;var w=ft("recharts-line",l),j=v,{r:S=3,strokeWidth:k=2}=(t=Jt(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=dM(r),C=S*2+k;return g.createElement(g.Fragment,null,g.createElement(ia,{className:w},y&&g.createElement("defs",null,g.createElement(sL,{clipPathId:j,xAxisId:c,yAxisId:d}),!_&&g.createElement("clipPath",{id:"clipPath-dots-".concat(j)},g.createElement("rect",{x:m-C/2,y:f-C/2,width:h+C,height:x+C}))),g.createElement(Foe,{props:this.props,clipPathId:j}),g.createElement(rL,{xAxisId:c,yAxisId:d,data:s,dataPointFormatter:Voe,errorBarOffset:0},this.props.children)),g.createElement(Cie,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var bL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fo.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function qoe(e){var t=Qa(e,bL),{activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:d,dot:f,hide:m,isAnimationActive:h,label:x,legendType:v,xAxisId:y,yAxisId:w,id:j}=t,S=LN(t,Aoe),{needClip:k}=ON(y,w),_=PN(),C=Xp(),P=Aa(),A=Xe(K=>_oe(K,y,w,P,j));if(C!=="horizontal"&&C!=="vertical"||A==null||_==null)return null;var{height:T,width:L,x:M,y:F}=_;return g.createElement(Hoe,co({},S,{id:j,connectNulls:d,dot:f,activeDot:n,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:m,label:x,legendType:v,xAxisId:y,yAxisId:w,points:A,layout:C,height:T,width:L,left:M,top:F,needClip:k}))}function Koe(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:d,displayedData:f}=e;return f.map((m,h)=>{var x=Ut(m,c);if(t==="horizontal"){var v=KC({axis:n,ticks:s,bandSize:d,entry:m,index:h}),y=Wt(x)?null:r.scale(x);return{x:v,y,value:x,payload:m}}var w=Wt(x)?null:n.scale(x),j=KC({axis:r,ticks:l,bandSize:d,entry:m,index:h});return w==null||j==null?null:{x:w,y:j,value:x,payload:m}}).filter(Boolean)}function px(e){var t=Qa(e,bL),n=Aa();return g.createElement(AN,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(QR,{legendPayload:Moe(t)}),g.createElement(kN,{fn:Doe,args:t}),g.createElement(eL,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(qoe,co({},t,{id:r}))))}px.displayName="Line";function gT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function vT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gT(Object(n),!0).forEach(function(r){Goe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Goe(e,t,n){return(t=Yoe(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yoe(e){var t=Woe(e,"string");return typeof t=="symbol"?t:t+""}function Woe(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xoe={xAxis:{},yAxis:{},zAxis:{}},yL=Za({name:"cartesianAxis",initialState:Xoe,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload;e.yAxis[n]&&(e.yAxis[n]=vT(vT({},e.yAxis[n]),{},{width:r}))}}}),{addXAxis:Zoe,removeXAxis:Qoe,addYAxis:Joe,removeYAxis:ece,addZAxis:Sme,removeZAxis:_me,updateYAxisWidth:tce}=yL.actions,nce=yL.reducer,ace=["children"],rce=["dangerouslySetInnerHTML","ticks"];function wL(e,t,n){return(t=sce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function sce(e){var t=ice(e,"string");return typeof t=="symbol"?t:t+""}function ice(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}function jL(e,t){if(e==null)return{};var n,r,s=lce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function lce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function oce(e){var t=pn(),n=g.useMemo(()=>{var{children:l}=e,c=jL(e,ace);return c},[e]),r=Xe(l=>ci(l,n.id)),s=n===r;return g.useEffect(()=>(t(Zoe(n)),()=>{t(Qoe(n))}),[n,t]),s?e.children:null}var cce=e=>{var{xAxisId:t,className:n}=e,r=Xe(vD),s=Aa(),l="xAxis",c=Xe(y=>fu(y,l,t,s)),d=Xe(y=>uR(y,l,t,s)),f=Xe(y=>iR(y,t)),m=Xe(y=>xne(y,t));if(f==null||m==null)return null;var{dangerouslySetInnerHTML:h,ticks:x}=e,v=jL(e,rce);return g.createElement(ul,Lw({},v,{scale:c,x:m.x,y:m.y,width:f.width,height:f.height,className:ft("recharts-".concat(l," ").concat(l),n),viewBox:r,ticks:d}))},uce=e=>{var t,n,r,s,l;return g.createElement(oce,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},g.createElement(cce,e))};class Ks extends g.Component{render(){return g.createElement(uce,this.props)}}wL(Ks,"displayName","XAxis");wL(Ks,"defaultProps",{allowDataOverflow:Ba.allowDataOverflow,allowDecimals:Ba.allowDecimals,allowDuplicatedCategory:Ba.allowDuplicatedCategory,height:Ba.height,hide:!1,mirror:Ba.mirror,orientation:Ba.orientation,padding:Ba.padding,reversed:Ba.reversed,scale:Ba.scale,tickCount:Ba.tickCount,type:Ba.type,xAxisId:0});var dce=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var x=h.getBoundingClientRect();x.width>c&&(c=x.width)}});var d=n?n.getBoundingClientRect().width:0,f=s+l,m=c+f+d+(n?r:0);return Math.round(m)}return 0},fce=["dangerouslySetInnerHTML","ticks"];function NL(e,t,n){return(t=mce(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mce(e){var t=hce(e,"string");return typeof t=="symbol"?t:t+""}function hce(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function $w(){return $w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$w.apply(null,arguments)}function pce(e,t){if(e==null)return{};var n,r,s=xce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function xce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gce(e){var t=pn();return g.useEffect(()=>(t(Joe(e)),()=>{t(ece(e))}),[e,t]),null}var vce=e=>{var t,{yAxisId:n,className:r,width:s,label:l}=e,c=g.useRef(null),d=g.useRef(null),f=Xe(vD),m=Aa(),h=pn(),x="yAxis",v=Xe(C=>fu(C,x,n,m)),y=Xe(C=>lR(C,n)),w=Xe(C=>gne(C,n)),j=Xe(C=>uR(C,x,n,m));if(g.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!y||vN(l)||g.isValidElement(l))){var P=c.current,A=P==null||(C=P.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:T,tickMargin:L}=P.props,M=dce({ticks:A,label:d.current,labelGapWithTick:5,tickSize:T,tickMargin:L});Math.round(y.width)!==Math.round(M)&&h(tce({id:n,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y==null?void 0:y.width,y,h,l,n,s]),y==null||w==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=pce(e,fce);return g.createElement(ul,$w({},_,{ref:c,labelRef:d,scale:v,x:w.x,y:w.y,width:y.width,height:y.height,className:ft("recharts-".concat(x," ").concat(x),r),viewBox:f,ticks:j}))},bce=e=>{var t,n,r,s,l;return g.createElement(g.Fragment,null,g.createElement(gce,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(n=e.includeHidden)!==null&&n!==void 0?n:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),g.createElement(vce,e))},yce={allowDataOverflow:Ua.allowDataOverflow,allowDecimals:Ua.allowDecimals,allowDuplicatedCategory:Ua.allowDuplicatedCategory,hide:!1,mirror:Ua.mirror,orientation:Ua.orientation,padding:Ua.padding,reversed:Ua.reversed,scale:Ua.scale,tickCount:Ua.tickCount,type:Ua.type,width:Ua.width,yAxisId:0};class Gs extends g.Component{render(){return g.createElement(bce,this.props)}}NL(Gs,"displayName","YAxis");NL(Gs,"defaultProps",yce);var Iy={exports:{}},zy={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bT;function wce(){if(bT)return zy;bT=1;var e=Xc();function t(f,m){return f===m&&(f!==0||1/f===1/m)||f!==f&&m!==m}var n=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,d=e.useDebugValue;return zy.useSyncExternalStoreWithSelector=function(f,m,h,x,v){var y=s(null);if(y.current===null){var w={hasValue:!1,value:null};y.current=w}else w=y.current;y=c(function(){function S(A){if(!k){if(k=!0,_=A,A=x(A),v!==void 0&&w.hasValue){var T=w.value;if(v(T,A))return C=T}return C=A}if(T=C,n(_,A))return T;var L=x(A);return v!==void 0&&v(T,L)?(_=A,T):(_=A,C=L)}var k=!1,_,C,P=h===void 0?null:h;return[function(){return S(m())},P===null?void 0:function(){return S(P())}]},[m,h,x,v]);var j=r(f,y[0],y[1]);return l(function(){w.hasValue=!0,w.value=j},[j]),d(j),j},zy}var yT;function jce(){return yT||(yT=1,Iy.exports=wce()),Iy.exports}jce();function Nce(e){e()}function Sce(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Nce(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var wT={notify(){},get:()=>[]};function _ce(e,t){let n,r=wT,s=0,l=!1;function c(j){h();const S=r.subscribe(j);let k=!1;return()=>{k||(k=!0,S(),x())}}function d(){r.notify()}function f(){w.onStateChange&&w.onStateChange()}function m(){return l}function h(){s++,n||(n=e.subscribe(f),r=Sce())}function x(){s--,n&&s===0&&(n(),n=void 0,r.clear(),r=wT)}function v(){l||(l=!0,h())}function y(){l&&(l=!1,x())}const w={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:f,isSubscribed:m,trySubscribe:v,tryUnsubscribe:y,getListeners:()=>r};return w}var kce=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cce=kce(),Ace=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Tce=Ace(),Ece=()=>Cce||Tce?g.useLayoutEffect:g.useEffect,Pce=Ece(),By=Symbol.for("react-redux-context"),Uy=typeof globalThis<"u"?globalThis:{};function Oce(){if(!g.createContext)return{};const e=Uy[By]??(Uy[By]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var Mce=Oce();function Dce(e){const{children:t,context:n,serverState:r,store:s}=e,l=g.useMemo(()=>{const f=_ce(s);return{store:s,subscription:f,getServerState:r?()=>r:void 0}},[s,r]),c=g.useMemo(()=>s.getState(),[s]);Pce(()=>{const{subscription:f}=l;return f.onStateChange=f.notifyNestedSubs,f.trySubscribe(),c!==s.getState()&&f.notifyNestedSubs(),()=>{f.tryUnsubscribe(),f.onStateChange=void 0}},[l,c]);const d=n||Mce;return g.createElement(d.Provider,{value:l},t)}var Rce=Dce,Lce=(e,t)=>t,$N=ve([Lce,yt,$8,On,_R,ui,jae,En],Cae),IN=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},SL=br("mouseClick"),_L=If();_L.startListening({actionCreator:SL,effect:(e,t)=>{var n=e.payload,r=$N(t.getState(),IN(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(Ene({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Iw=br("mouseMove"),kL=If();kL.startListening({actionCreator:Iw,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=oN(r,r.tooltip.settings.shared),l=$N(r,IN(n));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(vR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(gR()))}});function $ce(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var jT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},CL=Za({name:"rootProps",initialState:jT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:jT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),Ice=CL.reducer,{updateOptions:zce}=CL.actions,AL=Za({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Bce}=AL.actions,Uce=AL.reducer,TL=br("keyDown"),EL=br("focus"),zN=If();zN.startListening({actionCreator:TL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(cN(s,hu(n))),d=ui(n);if(l==="Enter"){var f=up(n,"axis","hover",String(s.index));t.dispatch(Tw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:f}));return}var m=wne(n),h=m==="left-to-right"?1:-1,x=l==="ArrowRight"?1:-1,v=c+x*h;if(!(d==null||v>=d.length||v<0)){var y=up(n,"axis","hover",String(v));t.dispatch(Tw({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});zN.startListening({actionCreator:EL,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=n.tooltip;if(!s.active&&s.index==null){var l="0",c=up(n,"axis","hover",String(l));t.dispatch(Tw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var fr=br("externalEvent"),PL=If();PL.startListening({actionCreator:fr,effect:(e,t)=>{if(e.payload.handler!=null){var n=t.getState(),r={activeCoordinate:fae(n),activeDataKey:TR(n),activeIndex:al(n),activeLabel:AR(n),activeTooltipIndex:al(n),isTooltipActive:mae(n)};e.payload.handler(r,e.payload.reactEvent)}}});var Fce=ve([mu],e=>e.tooltipItemPayloads),Vce=ve([Fce,Yf,(e,t,n)=>t,(e,t,n)=>n],(e,t,n,r)=>{var s=e.find(d=>d.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,n);return c}}}),OL=br("touchMove"),ML=If();ML.startListening({actionCreator:OL,effect:(e,t)=>{var n=e.payload,r=t.getState(),s=oN(r,r.tooltip.settings.shared);if(s==="axis"){var l=$N(r,IN({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(vR({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,d=n.touches[0],f=document.elementFromPoint(d.clientX,d.clientY);if(!f||!f.getAttribute)return;var m=f.getAttribute(xD),h=(c=f.getAttribute(gD))!==null&&c!==void 0?c:void 0,x=Vce(t.getState(),m,h);t.dispatch(xR({activeDataKey:h,activeIndex:m,activeCoordinate:x}))}}});var Hce=FM({brush:Rle,cartesianAxis:nce,chartData:Vae,errorBars:zie,graphicalItems:Yse,layout:LX,legend:yZ,options:Iae,polarAxis:hse,polarOptions:Uce,referenceElements:Fle,rootProps:Ice,tooltip:Pne}),qce=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return lX({reducer:Hce,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([_L.middleware,kL.middleware,zN.middleware,PL.middleware,ML.middleware]),devTools:{serialize:{replacer:$ce},name:"recharts-".concat(n)}})};function DL(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,s=Aa(),l=g.useRef(null);if(s)return n;l.current==null&&(l.current=qce(t,r));var c=e2;return g.createElement(Rce,{context:c,store:l.current},n)}function RL(e){var{layout:t,width:n,height:r,margin:s}=e,l=pn(),c=Aa();return g.useEffect(()=>{c||(l(MX(t)),l(DX({width:n,height:r})),l(OX(s)))},[l,c,t,n,r,s]),null}function LL(e){var t=pn();return g.useEffect(()=>{t(zce(e))},[t,e]),null}var Kce=["children"];function Gce(e,t){if(e==null)return{};var n,r,s=Yce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Yce(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gp.apply(null,arguments)}var Wce={width:"100%",height:"100%"},Xce=g.forwardRef((e,t)=>{var n=yD(),r=wD(),s=_D();if(!Uc(n)||!Uc(r))return null;var{children:l,otherAttributes:c,title:d,desc:f}=e,m,h;return typeof c.tabIndex=="number"?m=c.tabIndex:m=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,g.createElement(fM,gp({},c,{title:d,desc:f,role:h,tabIndex:m,width:n,height:r,style:Wce,ref:t}),l)}),Zce=e=>{var{children:t}=e,n=Xe(Wp);if(!n)return null;var{width:r,height:s,y:l,x:c}=n;return g.createElement(fM,{width:r,height:s,x:c,y:l},t)},NT=g.forwardRef((e,t)=>{var{children:n}=e,r=Gce(e,Kce),s=Aa();return s?g.createElement(Zce,null,n):g.createElement(Xce,gp({ref:t},r),n)});function Qce(){var e=pn(),[t,n]=g.useState(null),r=Xe(dZ);return g.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;Xa(l)&&l!==r&&e(RX(l))}},[t,e,r]),n}function ST(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Jce(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ST(Object(n),!0).forEach(function(r){eue(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ST(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function eue(e,t,n){return(t=tue(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tue(e){var t=nue(e,"string");return typeof t=="symbol"?t:t+""}function nue(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aue=g.forwardRef((e,t)=>{var{children:n,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:d,onMouseDown:f,onMouseEnter:m,onMouseLeave:h,onMouseMove:x,onMouseUp:v,onTouchEnd:y,onTouchMove:w,onTouchStart:j,style:S,width:k}=e,_=pn(),[C,P]=g.useState(null),[A,T]=g.useState(null);Kae();var L=Qce(),M=g.useCallback(z=>{L(z),typeof t=="function"&&t(z),P(z),T(z)},[L,t,P,T]),F=g.useCallback(z=>{_(SL(z)),_(fr({handler:l,reactEvent:z}))},[_,l]),K=g.useCallback(z=>{_(Iw(z)),_(fr({handler:m,reactEvent:z}))},[_,m]),V=g.useCallback(z=>{_(gR()),_(fr({handler:h,reactEvent:z}))},[_,h]),$=g.useCallback(z=>{_(Iw(z)),_(fr({handler:x,reactEvent:z}))},[_,x]),ee=g.useCallback(()=>{_(EL())},[_]),je=g.useCallback(z=>{_(TL(z.key))},[_]),ne=g.useCallback(z=>{_(fr({handler:c,reactEvent:z}))},[_,c]),D=g.useCallback(z=>{_(fr({handler:d,reactEvent:z}))},[_,d]),Y=g.useCallback(z=>{_(fr({handler:f,reactEvent:z}))},[_,f]),H=g.useCallback(z=>{_(fr({handler:v,reactEvent:z}))},[_,v]),I=g.useCallback(z=>{_(fr({handler:j,reactEvent:z}))},[_,j]),E=g.useCallback(z=>{_(OL(z)),_(fr({handler:w,reactEvent:z}))},[_,w]),R=g.useCallback(z=>{_(fr({handler:y,reactEvent:z}))},[_,y]);return g.createElement(RR.Provider,{value:C},g.createElement(aY.Provider,{value:A},g.createElement("div",{className:ft("recharts-wrapper",r),style:Jce({position:"relative",cursor:"default",width:k,height:s},S),onClick:F,onContextMenu:ne,onDoubleClick:D,onFocus:ee,onKeyDown:je,onMouseDown:Y,onMouseEnter:K,onMouseLeave:V,onMouseMove:$,onMouseUp:H,onTouchEnd:R,onTouchMove:E,onTouchStart:I,ref:M},n)))}),rue=["children","className","width","height","style","compact","title","desc"];function sue(e,t){if(e==null)return{};var n,r,s=iue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function iue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var $L=g.forwardRef((e,t)=>{var{children:n,className:r,width:s,height:l,style:c,compact:d,title:f,desc:m}=e,h=sue(e,rue),x=si(h);return d?g.createElement(NT,{otherAttributes:x,title:f,desc:m},n):g.createElement(aue,{className:r,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(NT,{otherAttributes:x,title:f,desc:m,ref:t},g.createElement(Hle,null,n)))}),lue=["width","height"];function zw(){return zw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zw.apply(null,arguments)}function oue(e,t){if(e==null)return{};var n,r,s=cue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function cue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var uue={top:5,right:5,bottom:5,left:5},due={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:uue,reverseStackOrder:!1,syncMethod:"index"},IL=g.forwardRef(function(t,n){var r,s=Qa(t.categoricalChartProps,due),{width:l,height:c}=s,d=oue(s,lue);if(!Uc(l)||!Uc(c))return null;var{chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,categoricalChartProps:v}=t,y={chartName:f,defaultTooltipEventType:m,validateTooltipEventTypes:h,tooltipPayloadSearcher:x,eventEmitter:void 0};return g.createElement(DL,{preloadedState:{options:y},reduxStoreName:(r=v.id)!==null&&r!==void 0?r:f},g.createElement(cL,{chartData:v.data}),g.createElement(RL,{width:l,height:c,layout:s.layout,margin:s.margin}),g.createElement(LL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement($L,zw({},d,{width:l,height:c,ref:n})))}),fue=["axis"],BN=g.forwardRef((e,t)=>g.createElement(IL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:fue,tooltipPayloadSearcher:gN,categoricalChartProps:e,ref:t})),mue=["axis","item"],b0=g.forwardRef((e,t)=>g.createElement(IL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:mue,tooltipPayloadSearcher:gN,categoricalChartProps:e,ref:t}));function hue(e){var t=pn();return g.useEffect(()=>{t(Bce(e))},[t,e]),null}var pue=["width","height","layout"];function Bw(){return Bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Bw.apply(null,arguments)}function xue(e,t){if(e==null)return{};var n,r,s=gue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)n=l[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function gue(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var vue={top:5,right:5,bottom:5,left:5},bue={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:vue,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},yue=g.forwardRef(function(t,n){var r,s=Qa(t.categoricalChartProps,bue),{width:l,height:c,layout:d}=s,f=xue(s,pue);if(!Uc(l)||!Uc(c))return null;var{chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:v}=t,y={chartName:m,defaultTooltipEventType:h,validateTooltipEventTypes:x,tooltipPayloadSearcher:v,eventEmitter:void 0};return g.createElement(DL,{preloadedState:{options:y},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:m},g.createElement(cL,{chartData:s.data}),g.createElement(RL,{width:l,height:c,layout:d,margin:s.margin}),g.createElement(LL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),g.createElement(hue,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),g.createElement($L,Bw({width:l,height:c},f,{ref:n})))}),wue=["item"],jue={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},vp=g.forwardRef((e,t)=>{var n=Qa(e,jue);return g.createElement(yue,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:wue,tooltipPayloadSearcher:gN,categoricalChartProps:n,ref:t})});function Nue(){const[e,t]=g.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[n,r]=g.useState(!0),[s,l]=g.useState(""),c="http://localhost:8000",{width:d}=Sue(),f=(d||0)>=1024,m=!f;g.useEffect(()=>{let j=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const P=await _.text();throw new Error(`HTTP ${_.status}${P?`  ${P}`:""}`)}const C=await _.json();if(!j)return;t({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!j)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{j&&r(!1)}})(),()=>{j=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},x=j=>{const k=Math.max(0,Number(j)||0),_=Array.from({length:12},(C,P)=>{const A=P/11,T=Math.sin(A*Math.PI)*.4,L=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+T+L)));return{label:`P${P+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},v=g.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),y=g.useMemo(()=>{const j=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/j*100}))},[e]),w=g.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:da,series:x(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:sP,series:x(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:tP,series:x(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:gt,series:x(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:Fd,series:x(e.knowledge_base),color:h.blue}],[e]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&a.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),a.jsx(_ue,{}),a.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[a.jsx(he.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),a.jsx(he.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),a.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[a.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:w.map(j=>a.jsx(Cue,{...j,loading:n},j.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[a.jsx(Fy,{title:"Leads Trend (Synthetic)",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(rs,{children:a.jsxs(BN,{data:w[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(Zi,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ks,{dataKey:"label",tick:{fontSize:12}}),a.jsx(Gs,{tick:{fontSize:12}}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsx(px,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),a.jsx(Fy,{title:"Overview by Metric",children:a.jsx("div",{className:"h-72 w-full",children:a.jsx(rs,{children:a.jsxs(b0,{data:v,margin:{top:10,right:20,left:m?0:-10,bottom:0},children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),a.jsx(Zi,{strokeDasharray:"3 3",strokeOpacity:.2}),a.jsx(Ks,{dataKey:"name",tick:{fontSize:12},hide:m}),a.jsx(Gs,{tick:{fontSize:12}}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsx(Qd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),a.jsx(Fy,{title:"Share by Metric",className:"lg:col-span-2",children:a.jsx("div",{className:"h-80 w-full",children:a.jsx(rs,{children:a.jsx(Oue,{data:y,mode:f?"desktop":"compact"})})})})]}),a.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function Sue(){const[e,t]=g.useState({width:null,height:null});return g.useEffect(()=>{function n(){t({width:window.innerWidth,height:window.innerHeight})}return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function _ue(){return a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx(he.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),a.jsx(he.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function Fy({title:e,children:t,className:n=""}){return a.jsxs(he.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${n}`,children:[a.jsx(kue,{}),a.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function kue(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Cue({label:e,value:t,icon:n,series:r,color:s,loading:l}){const c=$c(0),d=$c(0),f=O0(d,[-50,50],[8,-8]),m=O0(c,[-50,50],[-8,8]),h=g.useRef(null);return a.jsxs(he.div,{ref:h,onMouseMove:x=>{var y;const v=(y=h.current)==null?void 0:y.getBoundingClientRect();v&&(c.set(x.clientX-v.left-v.width/2),d.set(x.clientY-v.top-v.height/2))},onMouseLeave:()=>{c.set(0),d.set(0)},style:{rotateX:f,rotateY:m},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6",style:{color:s}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?a.jsx(Tue,{}):a.jsx(Aue,{value:t})}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),a.jsx("div",{className:"mt-3 h-20",children:l?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(rs,{children:a.jsxs(BN,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Zi,{strokeDasharray:"3 3",strokeOpacity:.12}),a.jsx(Ks,{dataKey:"label",hide:!0}),a.jsx(Gs,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsx(px,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function Aue({value:e,duration:t=800}){const[n,r]=g.useState(0);return g.useEffect(()=>{let s;const l=n,c=Number(e)||0,d=performance.now(),f=h=>1-Math.pow(1-h,3);function m(h){const x=Math.min(1,(h-d)/t);r(Math.round(l+(c-l)*f(x))),x<1&&(s=requestAnimationFrame(m))}return s=requestAnimationFrame(m),()=>cancelAnimationFrame(s)},[e]),a.jsx("span",{children:(n||0).toLocaleString()})}function Tue(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function Eue(e){const{cx:t,cy:n,midAngle:r,outerRadius:s,name:l,value:c,percent:d,laneSlot:f,sideRight:m,laneGap:h=24,fixedTy:x}=e,v=Math.PI/180,y=-r*v,w=s+6,j=t+Math.cos(y)*w,S=n+Math.sin(y)*w,k=s+22,_=t+Math.cos(y)*k,C=n+Math.sin(y)*k,P=!!m;let A=P?_+36:_-36,T=typeof x=="number"?x:n+f*h;const L=34,M=t+s+L,F=t-s-L;P?A=Math.max(A,M+12):A=Math.min(A,F-12);const V=(typeof f=="number"?f:0)*18,$=P?_+16:_-16,ee=C+V*.25,je=P?A-22:A+22,ne=T+V*.75,D=typeof d=="number"?Math.round(d*100):0,Y=`${l}`,H=`${c}  ${D}%`,I=Math.max(136,Y.length*8+H.length*4.2),E=P?0:-I,R=P?"start":"end";return a.jsxs(he.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[a.jsx("path",{d:`M ${j},${S} C ${$},${ee} ${je},${ne} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),a.jsxs("path",{d:`M ${j},${S} C ${$},${ee} ${je},${ne} ${A},${T}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[a.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),a.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),a.jsxs("g",{transform:`translate(${A}, ${T})`,children:[a.jsx("rect",{x:E-6,y:-22,rx:"14",ry:"14",width:I+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),a.jsx("rect",{x:E,y:-18,rx:"12",ry:"12",width:I,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),a.jsx("text",{x:E+(P?14:I-14),y:-2,textAnchor:R,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:Y}),a.jsx("text",{x:E+(P?14:I-14),y:12,textAnchor:R,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:H})]})]})}function Pue(e){const t=Math.PI/180,{cx:n,cy:r,midAngle:s,innerRadius:l,outerRadius:c,name:d,value:f,percent:m}=e,h=l+(c-l)*.58,x=n+Math.cos(-s*t)*h,v=r+Math.sin(-s*t)*h,y=Math.round((m||0)*100);return y<7?null:a.jsxs("g",{children:[a.jsx("text",{x,y:v-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:d}),a.jsxs("text",{x,y:v+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[f,"  ",y,"%"]})]})}function Oue({data:e,mode:t="desktop",width:n,height:r}){const d=Math.PI/180,f=e.reduce((V,$)=>V+(Number($.value)||0),0),m=(n||0)*.5,h=(r||0)*.5,x=t==="desktop";if(f===0)return a.jsxs(vp,{width:n,height:r,children:[a.jsx(Sf,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),a.jsx("text",{x:m,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const v=-90,w=270-v;let j=v;const k=e.map((V,$)=>({index:$,value:Number(V.value)||0})).filter(V=>V.value>0).map(V=>{const $=f?V.value/f*w:0,ee=j+$/2;j+=$;const je=-ee*d,ne=Math.cos(je)>=0,D=h+Math.sin(je)*110;return{index:V.index,ang:je,right:ne,ty0:D,mid:ee}}),_=k.filter(V=>!V.right).sort((V,$)=>V.ty0-$.ty0),C=k.filter(V=>V.right).sort((V,$)=>V.ty0-$.ty0),P=28,A=40,T=h-(110+A),L=h+(110+A),M=V=>{if(!V.length)return[];const $=V.length,ee=L-T,je=Math.min(Math.max(P,$>1?ee/($-1):P),36),ne=new Array($);ne[0]=Math.max(V[0].ty0,T);for(let Y=1;Y<$;Y++)ne[Y]=Math.max(V[Y].ty0,ne[Y-1]+je);const D=ne[$-1]-L;if(D>0){for(let Y=0;Y<$;Y++)ne[Y]-=D;if(ne[0]<T){const Y=T-ne[0];for(let H=0;H<$;H++)ne[H]+=Y}}return ne},F=M(_),K=M(C);return a.jsxs(vp,{width:n,height:r,children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[a.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),a.jsxs("filter",{id:"arrowGlow",children:[a.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),a.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),a.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),a.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),a.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),a.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[a.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),a.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),a.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:a.jsx("feGaussianBlur",{stdDeviation:"8"})}),a.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[a.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsx(Sf,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:x?V=>{if(!(V&&V.value>0))return null;const $=Math.PI/180,ee=Math.cos(-V.midAngle*$)>=0,ne=(ee?C:_).findIndex(I=>I.index===V.index);if(ne===-1)return null;const D=ee?K:F,Y=D[ne];if(typeof Y!="number")return null;const H=ne-(D.length-1)/2;return a.jsx(Eue,{...V,laneSlot:H,sideRight:ee,fixedTy:Y,laneGap:30})}:V=>a.jsx(Pue,{...V}),labelLine:!1,children:e.map((V,$)=>a.jsx(Fs,{fill:$===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][$-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${$}`))})]})}const Mue={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8000"};var _T={};const kT=typeof import.meta<"u"&&Mue&&"http://localhost:8000"||typeof process<"u"&&_T&&_T.NEXT_PUBLIC_API_URL||"http://localhost:8000";function ec(...e){return e.filter(Boolean).join(" ")}function CT({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(n=>127397+n.charCodeAt(0));return a.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function Due({open:e,onClose:t,onConfirm:n,numbers:r=[]}){if(!e)return null;const s=r.slice(0,5),l=Math.max(0,r.length-s.length);return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[a.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),a.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",a.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),a.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>a.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&a.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),a.jsx("button",{onClick:()=>n(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function Rue(){const[e,t]=g.useState("US"),[n,r]=g.useState([]),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(20),[v,y]=g.useState(1),[w,j]=g.useState(!1),[S,k]=g.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],P=()=>{try{return localStorage.getItem("token")}catch{return null}},A=H=>H.split(/[,\s]+/).map(I=>I.trim()).filter(Boolean),[T,L]=g.useState(()=>new Set),M=H=>T.has(H),F=H=>{L(I=>{const E=new Set(I);return E.has(H)?E.delete(H):E.add(H),E})},K=()=>L(new Set),V=g.useMemo(()=>{const H=v*_,I=H-_;return n.slice(I,H)},[n,v]),$=Math.ceil(n.length/_)||1,ee=async()=>{const H=A(f);l(!0);try{const I=P(),E=await fetch(`${kT}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({country:e,area_codes:H.length?H:null,limit:h})}),R=await E.json();if(!E.ok){const W=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to fetch phone numbers.";r([]),U.error(W);return}const z=Array.isArray(R)?R:[];r(z),y(1),K(),z.length===0&&U.info("No numbers found for your query.")}catch(I){console.error(I),r([]),U.error("Network error while fetching numbers.")}finally{l(!1)}},je=async H=>{if(H!=null&&H.length){d(!0);try{const I=P(),E=await fetch(`${kT}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...I?{Authorization:`Bearer ${I}`}:{}},body:JSON.stringify({phone_number:H})}),R=await E.json();if(!E.ok||!(R!=null&&R.success)){const z=R&&R.detail&&(R.detail.error||R.detail)||(R==null?void 0:R.message)||"Failed to purchase numbers.";U.error(z);return}r(z=>z.filter(W=>!H.includes(W.phone_number))),K(),U.success(` Purchased ${H.length} number${H.length>1?"s":""}.`)}catch(I){console.error(I),U.error("Network error while purchasing.")}finally{d(!1),j(!1),k([])}}},ne=H=>{if(!H)return"";if(e==="US"||e==="CA"){const E=H.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(E)return`+1 (${E[1]}) ${E[2]}-${E[3]}`}return H},D=async H=>{try{await navigator.clipboard.writeText(H),U.success("Copied!")}catch{U.error("Copy failed.")}},Y=(()=>{const H=n.length===0?0:(v-1)*_+1,I=Math.min(v*_,n.length);return{start:H,end:I}})();return a.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[a.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),a.jsx(Due,{open:w,onClose:()=>j(!1),onConfirm:H=>je(H),numbers:S}),a.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[a.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:a.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:a.jsx(gt,{className:"w-8 h-8"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),a.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:n.length?`${n.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((H,I)=>a.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[a.jsx("div",{className:"text-xl font-bold text-gray-900",children:H.value}),a.jsx("div",{className:"text-xs text-gray-500",children:H.label})]},I))})]})}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:a.jsx(ka,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(Nc,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),a.jsx("select",{value:e,onChange:H=>t(H.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(H=>a.jsxs("option",{value:H.code,children:[H.flag," ",H.name]},H.code))})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(ka,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),a.jsx("input",{type:"text",value:f,onChange:H=>m(H.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[a.jsx(eu,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),a.jsxs("select",{value:h,onChange:H=>x(Number.parseInt(H.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[a.jsx("option",{value:10,children:"10"}),a.jsx("option",{value:20,children:"20"}),a.jsx("option",{value:50,children:"50"}),a.jsx("option",{value:100,children:"100"})]})]}),a.jsx("div",{className:"lg:col-span-1 flex items-end",children:a.jsx("button",{onClick:ee,disabled:s,className:ec("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(Xn,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):a.jsxs("span",{className:"inline-flex items-center justify-center",children:[a.jsx(ka,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[a.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>{const H=V.map(E=>E.phone_number),I=H.every(E=>T.has(E));L(E=>{const R=new Set(E);return I?H.forEach(z=>R.delete(z)):H.forEach(z=>R.add(z)),R})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:V.every(H=>T.has(H.phone_number))?"Unselect Page":"Select Page"}),a.jsx("button",{onClick:()=>{if(T.size===0){U.info("Select numbers first.");return}const H=Array.from(T);k(H),j(!0)},disabled:T.size===0||c,className:ec("px-4 py-2 rounded-lg font-semibold transition shadow-sm",T.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(dh,{className:"w-4 h-4"}),"Buy Selected (",T.size,")"]})})]})]})]}),a.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(gt,{className:"w-4 h-4 text-white"})}),a.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${n.length})`})]}),a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",Y.start,"  ",Y.end," of"," ",n.length]})]})}),s?a.jsx("div",{className:"p-6 sm:p-8",children:a.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((H,I)=>a.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},I))})}):n.length===0?a.jsx("div",{className:"flex items-center justify-center py-16",children:a.jsxs("div",{className:"text-center max-w-sm",children:[a.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(gt,{className:"w-10 h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),a.jsx("button",{onClick:ee,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:V.map((H,I)=>{var R,z,W;const E=M(H.phone_number);return a.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>F(H.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":E?"Unselect":"Select",children:E?a.jsx(K5,{className:"w-5 h-5 text-blue-600"}):a.jsx(Dc,{className:"w-5 h-5"})})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ne(H.phone_number)}),a.jsx("button",{onClick:()=>D(H.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:a.jsx(Va,{className:"w-4 h-4 text-gray-500"})})]})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[a.jsx(Xs,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx(CT,{iso:H.iso_country}),H.region||"N/A"]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((R=H.capabilities)==null?void 0:R.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=H.capabilities)==null?void 0:z.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),a.jsx("td",{className:"px-6 py-4",children:a.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:ec("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Xn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(dh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},I)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:V.map((H,I)=>{var R,z,W;const E=M(H.phone_number);return a.jsxs("div",{className:"p-4 sm:p-6",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("button",{onClick:()=>F(H.phone_number),className:"text-gray-700 mr-3","aria-label":E?"Unselect":"Select",children:E?a.jsx(K5,{className:"w-5 h-5 text-blue-600"}):a.jsx(Dc,{className:"w-5 h-5"})}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:a.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-gray-900",children:ne(H.phone_number)}),a.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[a.jsx(Xs,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx(CT,{iso:H.iso_country}),H.region||"N/A"]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((R=H.capabilities)==null?void 0:R.SMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((z=H.capabilities)==null?void 0:z.MMS)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((W=H.capabilities)==null?void 0:W.voice)&&a.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),a.jsx("button",{onClick:()=>D(H.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:a.jsx(Va,{className:"w-4 h-4 text-gray-500"})})]}),a.jsx("button",{onClick:()=>{k([H.phone_number]),j(!0)},disabled:c,className:ec("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(Xn,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(dh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},I)})})]}),n.length>_&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",Y.start," to ",Y.end," of ",n.length," results"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:()=>y(H=>Math.max(1,H-1)),disabled:v===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,$)},(H,I)=>{let E;return $<=5||v<=3?E=I+1:v>=$-2?E=$-4+I:E=v-2+I,a.jsx("button",{onClick:()=>y(E),className:ec("px-3 py-2 text-sm font-medium rounded-lg transition",v===E?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:E},E)})}),a.jsx("button",{onClick:()=>y(H=>Math.min($,H+1)),disabled:v>=$,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),T.size>0&&a.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:a.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm sm:text-base",children:[a.jsx("span",{className:"font-semibold",children:T.size})," selected"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),a.jsx("button",{onClick:()=>{const H=Array.from(T);k(H),j(!0)},disabled:c,className:ec("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:a.jsxs("span",{className:"inline-flex items-center gap-2",children:[a.jsx(dh,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function Lue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const $ue=g.forwardRef(Lue);function Iue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Uw=g.forwardRef(Iue);function zue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const zL=g.forwardRef(zue);function Bue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const bp=g.forwardRef(Bue);function Uue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const Bd=g.forwardRef(Uue);function Fue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ud=g.forwardRef(Fue);function Vue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const AT=g.forwardRef(Vue);function Hue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const BL=g.forwardRef(Hue);function que({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const Kue=g.forwardRef(que);function Gue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Fw=g.forwardRef(Gue);function Yue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Vw=g.forwardRef(Yue);function Wue({title:e,titleId:t,...n},r){return g.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},n),e?g.createElement("title",{id:t},e):null,g.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const Ac=g.forwardRef(Wue),Xue="http://localhost:8000",Zue=[`${Xue}/api`];function Que(){var _e,Se,me,Be,Ue;const e=Xt(),[t,n]=g.useState({name:"",email:""}),[r,s]=g.useState(!1),[l,c]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState(!1),x=g.useRef(null),[v,y]=g.useState(!1),[w,j]=g.useState({old:!1,next:!1}),[S,k]=g.useState({old_password:"",new_password:""}),[_,C]=g.useState(!1),[P,A]=g.useState({sid:"",token:"",validate:!0}),[T,L]=g.useState(null),[M,F]=g.useState(!1),[K,V]=g.useState({sid:!1,token:!1}),[$,ee]=g.useState(!1),[je,ne]=g.useState(!1),[D,Y]=g.useState(!1),H=()=>localStorage.getItem("token")||"",I=()=>H()?{Authorization:`Bearer ${H()}`}:{},E=()=>H()?!0:(U.error("Authentication required. Please login again."),e("/login"),!1),R=async(be,q={},{expectJson:ie=!0}={})=>{const G=[];for(const ke of Zue)try{const Re=await fetch(`${ke}${be}`,q);if(Re.status===401||Re.status===403){const et=await Re.text().catch(()=>"");throw new Error(et||"Unauthorized")}if(Re.ok)return ie?await Re.json():Re;if(Re.status===404){G.push({base:ke,status:404});continue}const Ee=await Re.json().catch(()=>({}));throw new Error((Ee==null?void 0:Ee.detail)||`Request failed (${Re.status})`)}catch(Re){if(G.push({base:ke,err:Re==null?void 0:Re.message}),(Re==null?void 0:Re.message)==="Unauthorized")throw Re}const xe=G!=null&&G.length?`Request failed on all bases: ${G.map(ke=>`${ke.base}${ke.status||ke.err}`).join(" | ")}`:"Network error";throw new Error(xe)};g.useEffect(()=>{(async()=>{var be,q,ie;if(E())try{const G=await R("/user-info",{headers:{...I(),Accept:"application/json"}});n({name:((be=G==null?void 0:G.data)==null?void 0:be.name)||"",email:((q=G==null?void 0:G.data)==null?void 0:q.email)||""});const xe=(ie=G==null?void 0:G.data)==null?void 0:ie.profile_photo_url;if(xe)c(xe+(xe.includes("?")?"&":"?")+"t="+Date.now());else try{const ke=await R("/profile-photo?redirect=false",{headers:{...I(),Accept:"application/json"}}),Re=ke==null?void 0:ke.photo_url;Re&&c(Re+(Re.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{U.error("Unable to load profile")}finally{s(!0)}})()},[]),g.useEffect(()=>{(async()=>{if(E())try{const be=await R("/twilio/credentials",{headers:{...I(),Accept:"application/json"}});L(be)}catch{}})()},[]);const z=async be=>{var q;if((q=be==null?void 0:be.preventDefault)==null||q.call(be),!!E()){if(!t.name.trim())return U.error("Name is required");if(!t.email.trim())return U.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return U.error("Please enter a valid email");Y(!0);try{await R("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),U.success("Profile updated")}catch(ie){U.error(ie.message||"Update failed")}finally{Y(!1)}}},W=async be=>{var q;if((q=be==null?void 0:be.preventDefault)==null||q.call(be),!!E()){if(!S.old_password||!S.new_password)return U.error("Please fill both password fields");if(S.new_password.length<8)return U.error("New password must be at least 8 characters");C(!0);try{await R("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify(S)}),U.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(ie){U.error(ie.message||"Password change failed")}finally{C(!1)}}},ce=async be=>{var G;if((G=be==null?void 0:be.preventDefault)==null||G.call(be),!E())return;const q=P.sid.trim(),ie=P.token.trim();if(!q||!ie)return U.error("Please enter both Account SID and Auth Token");if(!q.startsWith("AC")||q.length<20)return U.error("Account SID should start with AC");if(ie.length<10)return U.error("Auth Token looks too short");F(!0);try{const xe=await R("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...I(),Accept:"application/json"},body:JSON.stringify({account_sid:q,auth_token:ie,validate:!!P.validate})});L((xe==null?void 0:xe.masked)||null),A({sid:"",token:"",validate:!0}),U.success("Twilio credentials saved")}catch(xe){U.error(xe.message||"Failed to save Twilio credentials")}finally{F(!1)}},Q=async be=>{if(!be||!E())return;if(!["image/png","image/jpeg","image/webp"].includes(be.type))return U.error("Please upload PNG, JPG or WebP");if(be.size>5*1024*1024)return U.error("Max file size is 5MB");f(!0);try{const ie=new FormData;ie.append("file",be);const G=await R("/profile-photo",{method:"POST",headers:{...I()},body:ie}),xe=G==null?void 0:G.photo_url;if(!xe)throw new Error("Upload returned no URL");c(xe+(xe.includes("?")?"&":"?")+"t="+Date.now()),U.success("Profile photo updated")}catch(ie){U.error(ie.message||"Upload failed")}finally{f(!1)}},Z=async()=>{if(E()){h(!0);try{await R("/profile-photo",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),c(null),U.success("Profile photo removed")}catch(be){U.error(be.message||"Delete failed")}finally{h(!1)}}},Ne=be=>{be.preventDefault(),y(!1);const q=be.dataTransfer.files&&be.dataTransfer.files[0]||void 0;Q(q)},re=be=>{be.preventDefault(),y(!0)},we=be=>{be.preventDefault(),y(!1)};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:a.jsxs(he.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[a.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:a.jsx(Ac,{className:"w-5 h-5 text-white"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),a.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),a.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[a.jsx(he.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[a.jsx(Kue,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),a.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[a.jsxs("div",{className:"relative shrink-0",children:[a.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:a.jsx("div",{className:"rounded-full bg-white p-1",children:a.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:a.jsx(Mt,{mode:"wait",children:l?a.jsx(he.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):a.jsx(he.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Ue=(Be=(me=(Se=(_e=t.name)==null?void 0:_e.split(" "))==null?void 0:Se.map(be=>be[0]))==null?void 0:me.join(""))==null?void 0:Be.toUpperCase())==null?void 0:Ue.slice(0,2))||"U"},"initials")})})})}),a.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:t.name||"User"}),a.jsx("p",{className:"text-slate-600 text-sm break-all",children:t.email||"-"})]})]}),a.jsxs("div",{className:`mt-5 rounded-xl border-2 ${v?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:Ne,onDragOver:re,onDragLeave:we,children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:a.jsx($ue,{className:"w-5 h-5"})}),a.jsxs("div",{className:"text-sm",children:[a.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",a.jsx("button",{type:"button",onClick:()=>{var be;return(be=x.current)==null?void 0:be.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),a.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),a.jsx("input",{ref:x,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:be=>{var q;return Q((q=be.target.files)==null?void 0:q[0])}})]}),a.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[a.jsx("button",{type:"button",onClick:()=>{var be;return(be=x.current)==null?void 0:be.click()},disabled:d,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:d?"Uploading...":"Upload New"}),a.jsx("button",{type:"button",onClick:Z,disabled:m||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:m?"Removing...":"Remove"})]})]})}),a.jsx(he.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:a.jsx(Ac,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),a.jsxs("form",{onSubmit:z,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(Ac,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:t.name,onChange:be=>n({...t,name:be.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||D,required:!0})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[a.jsx(zL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:t.email,onChange:be=>n({...t,email:be.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||D,required:!0})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:!r||D,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:D?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Uw,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),a.jsx(he.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:a.jsx(AT,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),T?a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):a.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),T&&a.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",T.account_sid]}),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",T.auth_token]})]}),a.jsxs("form",{onSubmit:ce,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:K.sid?"text":"password",value:P.sid,onChange:be=>A(q=>({...q,sid:be.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),a.jsx("button",{type:"button",onClick:()=>V(be=>({...be,sid:!be.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.sid?"Hide SID":"Show SID",children:K.sid?a.jsx(Bd,{className:"w-5 h-5"}):a.jsx(Ud,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:K.token?"text":"password",value:P.token,onChange:be=>A(q=>({...q,token:be.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),a.jsx("button",{type:"button",onClick:()=>V(be=>({...be,token:!be.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.token?"Hide Token":"Show Token",children:K.token?a.jsx(Bd,{className:"w-5 h-5"}):a.jsx(Ud,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:P.validate,onChange:be=>A(q=>({...q,validate:be.target.checked}))}),a.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(AT,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),a.jsx(he.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(bp,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[a.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),a.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsxs("button",{onClick:()=>ee(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[a.jsx(Vw,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),a.jsx(he.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[a.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:a.jsx(BL,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),a.jsxs("form",{onSubmit:W,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.old?"text":"password",value:S.old_password,onChange:be=>k({...S,old_password:be.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),a.jsx("button",{type:"button",onClick:()=>j(be=>({...be,old:!be.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.old?a.jsx(Bd,{className:"w-5 h-5"}):a.jsx(Ud,{className:"w-5 h-5"})})]})]}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:w.next?"text":"password",value:S.new_password,onChange:be=>k({...S,new_password:be.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),a.jsx("button",{type:"button",onClick:()=>j(be=>({...be,next:!be.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:w.next?a.jsx(Bd,{className:"w-5 h-5"}):a.jsx(Ud,{className:"w-5 h-5"})})]})]}),a.jsx("div",{className:"md:col-span-2",children:a.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),a.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),a.jsx(Mt,{children:$&&a.jsx(he.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsxs(he.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[a.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[a.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:a.jsx(bp,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[a.jsx("button",{onClick:()=>ee(!1),disabled:je,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),a.jsx("button",{onClick:async()=>{if(E()){ne(!0);try{await R("/delete-account",{method:"DELETE",headers:{...I(),Accept:"application/json"}}),U.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(be){U.error(be.message||"Delete failed")}finally{ne(!1),ee(!1)}}},disabled:je,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:je?"Deleting...":"Delete Forever"})]})]})})})]})}const TT="http://localhost:8000";function Jue(){var M,F;const[e,t]=g.useState([]),[n,r]=g.useState(!1),[s,l]=g.useState(1),[c,d]=g.useState({open:!1,number:null}),[f,m]=g.useState(!1),h=10,x=Xt(),v=K=>Array.isArray(K)?K:K&&Array.isArray(K.purchased_numbers)?K.purchased_numbers:[],y=K=>{if(!K)return"N/A";const $=String(K).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return $?`+1 (${$[1]}) ${$[2]}-${$[3]}`:K},w=K=>{if(!K)return"N/A";const V=new Date(K);return isNaN(V.getTime())?"N/A":V.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},j=async()=>{r(!0);try{const K=localStorage.getItem("token");if(!K){console.error("No token found in localStorage"),t([]);return}const V=await fetch(`${TT}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${K}`}});let $;try{$=await V.json()}catch{$=[]}if(!V.ok){console.error("Failed to fetch purchased numbers:",($==null?void 0:$.message)||($==null?void 0:$.detail)||"Unknown error"),t([]);return}t(v($))}catch(K){console.error("Error fetching purchased numbers:",K),t([])}finally{r(!1)}},S=async()=>{var K;if((K=c.number)!=null&&K.phone_number){m(!0);try{const V=localStorage.getItem("token");if(!V)throw new Error("No token found in localStorage");const $=await fetch(`${TT}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ee;try{ee=await $.json()}catch{ee=null}if(!$.ok||(ee==null?void 0:ee.success)===!1)throw new Error((ee==null?void 0:ee.detail)||(ee==null?void 0:ee.error)||"Failed to remove phone number");t(je=>je.filter(ne=>ne.phone_number!==c.number.phone_number)),d({open:!1,number:null})}catch(V){alert("Failed to delete number: "+V.message)}finally{m(!1)}}};g.useEffect(()=>{j()},[]);const k=Math.ceil(e.length/h)||1,_=Math.min(s*h,e.length),C=Math.max(0,_-h),P=e.slice(C,_),A=()=>s<k&&l(K=>K+1),T=()=>s>1&&l(K=>K-1),L=K=>K>=1&&K<=k&&l(K);return g.useEffect(()=>{s>k&&l(1)},[e]),a.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!f&&d({open:!1,number:null})}),a.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx(sa,{className:"w-6 h-6 text-red-500"}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),a.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",a.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:y((M=c.number)==null?void 0:M.phone_number)}),a.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",w((F=c.number)==null?void 0:F.date_purchased)]})]}),a.jsxs("div",{className:"flex justify-end space-x-2",children:[a.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!f&&d({open:!1,number:null}),disabled:f,children:"Cancel"}),a.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:f,children:f?"Deleting...":"Delete"})]})]})]}),a.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:a.jsx(gt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(gt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),a.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),a.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[a.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),a.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),a.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[a.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),a.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),n?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?a.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:a.jsx(gt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),a.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),a.jsx("button",{onClick:()=>x("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),a.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((K,V)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:a.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),a.jsx("div",{className:"text-lg font-bold text-gray-900",children:y(K.phone_number)})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Xs,{className:"w-4 h-4 text-gray-500 mr-2"}),a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.friendly_name||""})]})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:w(K.date_purchased)})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:"text-sm text-gray-700",children:K.attached_assistant??""})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[a.jsx(sa,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},K.phone_number||V))})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:P.map((K,V)=>a.jsx("div",{className:"p-4 sm:p-6",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:y(K.phone_number)}),a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx(Xs,{className:"w-4 h-4 text-gray-500 mr-1"}),a.jsx("span",{className:"text-sm text-gray-600",children:K.friendly_name||""})]}),a.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:w(K.date_purchased)}),a.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",K.attached_assistant??""]}),a.jsx("div",{children:a.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>d({open:!0,number:K}),children:[a.jsx(sa,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},K.phone_number||V))})]})]}),e.length>h&&a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[a.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("button",{onClick:T,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),a.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const K=[];let V=1,$=k;k>5&&(s<=3?(V=1,$=5):s>=k-2?(V=k-4,$=k):(V=s-2,$=s+2));for(let ee=V;ee<=$;ee++)K.push(a.jsx("button",{onClick:()=>L(ee),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===ee?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===ee?"page":void 0,children:ee},ee));return K})()}),a.jsx("button",{onClick:A,disabled:s>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function fs(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function xx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function UL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function FL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function VL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function yp(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function HL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function qL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function gx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function vx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function KL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function Gc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Qi(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function bx(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function GL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function YL(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Yc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Wc(e){return zt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Oh="http://localhost:8000";function ede(){const e=Xt(),[t,n]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(!0),[m,h]=g.useState(""),[x,v]=g.useState("all"),[y,w]=g.useState("all"),[j,S]=g.useState("created_at"),[k,_]=g.useState("desc"),[C,P]=g.useState(!1),[A,T]=g.useState(null),[L,M]=g.useState([]),[F,K]=g.useState(!1),[V,$]=g.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ee,je]=g.useState(1),ne=10,D=g.useMemo(()=>localStorage.getItem("token"),[]),Y=async()=>{try{c(!0);const q=await fetch(`${Oh}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),G=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];n(G)}catch(q){console.error(q),U.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};g.useEffect(()=>{Y()},[]),g.useEffect(()=>{if(!d)return;const q=setInterval(Y,15e3);return()=>clearInterval(q)},[d]);const H=g.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(G=>((G==null?void 0:G.provider)||"").toLowerCase()===x)),y!=="all"&&(q=q.filter(G=>((G==null?void 0:G.category)||"").toLowerCase()===y));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(G=>[G==null?void 0:G.name,G==null?void 0:G.model,G==null?void 0:G.voice,G==null?void 0:G.category,G==null?void 0:G.attached_Number].filter(Boolean).map(String).map(ke=>ke.toLowerCase()).some(ke=>ke.includes(ie)))),q.sort((G,xe)=>{if(j==="created_at"){const Ee=G!=null&&G.created_at?new Date(G.created_at).getTime():0,et=xe!=null&&xe.created_at?new Date(xe.created_at).getTime():0;return k==="asc"?Ee-et:et-Ee}const ke=((G==null?void 0:G[j])??"").toString().toLowerCase(),Re=((xe==null?void 0:xe[j])??"").toString().toLowerCase();return ke<Re?k==="asc"?-1:1:ke>Re?k==="asc"?1:-1:0}),q},[t,m,x,y,j,k]),I=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),E=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),R=Math.max(1,Math.ceil(H.length/ne)),z=Math.min(ee,R),W=H.slice((z-1)*ne,z*ne),ce=g.useMemo(()=>H.length?H.reduce((q,ie)=>{const G=q!=null&&q.created_at?new Date(q.created_at):null,xe=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!G&&xe?ie:!xe&&G||!G&&!xe?q:xe>G?ie:q},H[0]):null,[H]),Q=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Z=q=>{T(q),P(!0)},Ne=async()=>{if(A)try{const q=await fetch(`${Oh}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const G=await q.json();G!=null&&G.detail&&(ie=G.detail)}catch{}throw new Error(ie)}U.success("Assistant deleted"),M(ie=>ie.filter(G=>G!==A)),Y()}catch(q){console.error(q),U.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),T(null)}},re=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const G=ie.filter(xe=>typeof xe=="string"&&/^https?:\/\//i.test(xe));if(G.length){G.forEach(xe=>window.open(xe,"_blank","noopener"));return}}U.info("No file URLs available for this assistant.")},we=q=>{if(!(q!=null&&q.vapi_assistant_id)){U.error("Missing VAPI Assistant ID");return}$({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},_e=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:G,first_name:xe,last_name:ke,email:Re}=V;if(!G)return U.error("Enter the customer's phone number (E.164 preferred)");try{const Ee=`${Oh}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(G)}`,et={first_name:xe||"Caller",last_name:ke||"",email:Re||"caller@example.com",add_date:new Date().toISOString(),mobile_no:G,custom_field_01:null,custom_field_02:null},Ze=await fetch(Ee,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(et)}),ye=await Ze.json().catch(()=>({}));if(!Ze.ok||(ye==null?void 0:ye.success)===!1)throw new Error((ye==null?void 0:ye.detail)||`HTTP ${Ze.status}`);U.success("Call initiated"),K(!1)}catch(Ee){console.error(Ee),U.error((Ee==null?void 0:Ee.message)||"Failed to initiate call")}},Se=q=>L.includes(q),me=q=>{M(ie=>ie.includes(q)?ie.filter(G=>G!==q):[...ie,q])},Be=()=>{const q=W.map(G=>G.id).filter(Boolean),ie=q.every(G=>L.includes(G));M(G=>ie?G.filter(xe=>!q.includes(xe)):Array.from(new Set([...G,...q])))},Ue=async()=>{if(!L.length)return U.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of L)await fetch(`${Oh}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});U.success("Bulk delete complete"),M([]),Y()}catch(q){console.error(q),U.error("Bulk delete encountered an error")}},be=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Ee=>[(Ee==null?void 0:Ee.name)??"",(Ee==null?void 0:Ee.model)??"",(Ee==null?void 0:Ee.voice)??"",(Ee==null?void 0:Ee.attached_Number)??"",(Ee==null?void 0:Ee.category)??"",Ee!=null&&Ee.created_at?new Date(Ee.created_at).toLocaleString():""]),G=[q,...ie].map(Ee=>Ee.map(et=>`"${String(et).replace(/"/g,'""')}"`).join(",")).join(`
`),xe=new Blob([G],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(xe),Re=document.createElement("a");Re.href=ke,Re.download="assistants.csv",Re.click(),URL.revokeObjectURL(ke)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((G,xe)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},xe))})]})},ie))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Wc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[H.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yp,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:Y,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(GL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:be,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(qL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(bx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(YL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(ET,{label:"Provider",value:x,onChange:v,options:I,icon:a.jsx(KL,{className:"h-4 w-4"})}),a.jsx(ET,{label:"Category",value:y,onChange:w,options:E,icon:a.jsx(Gc,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Mh,{title:"Total Assistants",value:H.length,icon:a.jsx(Wc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(Mh,{title:"Active Calls",value:"24",icon:a.jsx(Qi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(Mh,{title:"Success Rate",value:"94.2%",icon:a.jsx(fs,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(Mh,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:a.jsx(yp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(fs,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Be,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Ue,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?a.jsx(rde,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(tde,{className:"w-12 text-center",checked:W.every(q=>L.includes(q.id))&&W.length>0,onChange:Be}),a.jsx(tc,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:Q}),a.jsx(tc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:Q}),a.jsx(tc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:Q}),a.jsx(tc,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:Q}),a.jsx(tc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:Q}),a.jsx(tc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:Q}),a.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Se(q.id)?"bg-blue-50/50":""}`,children:[a.jsx(nde,{className:"w-12 text-center",checked:Se(q.id),onChange:()=>me(q.id)}),a.jsx("td",{className:"w-[26%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Gc,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(Tc,{variant:"secondary",children:q.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:a.jsx(Tc,{variant:"accent",children:q.voice||""})})}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:q.attached_Number||""}),q.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>sde(q.attached_Number),children:a.jsx(HL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:q.category?a.jsx(Tc,{variant:"primary",children:q.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[14%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full min-w-[220px] items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(Dh,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${q.id}`),variant:"primary",children:a.jsx(gx,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"View Files",onClick:()=>re(q),variant:"success",children:a.jsx(vx,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"Start Call",onClick:()=>we(q),variant:"secondary",children:a.jsx(Qi,{className:"h-4 w-4"})}),a.jsx(Dh,{title:"Delete",onClick:()=>Z(q.id),variant:"danger",children:a.jsx(Yc,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>a.jsx(ade,{assistant:q,isSelected:Se(q.id),onToggleSelect:()=>me(q.id),onEdit:()=>e(`/user/edit-assistant/${q.id}`),onViewFiles:()=>re(q),onCall:()=>we(q),onDelete:()=>Z(q.id)},q.id??q.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*ne+1," to ",Math.min(z*ne,H.length)," of"," ",H.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(PT,{disabled:z<=1,onClick:()=>je(q=>Math.max(1,q-1)),children:[a.jsx(UL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(q,ie)=>{const G=ie+1;return a.jsx("button",{onClick:()=>je(G),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${G===z?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:G},G)})}),a.jsxs(PT,{disabled:z>=R,onClick:()=>je(q=>Math.min(R,q+1)),children:["Next",a.jsx(FL,{className:"h-4 w-4"})]})]})]})]})]}),C&&a.jsx(OT,{onClose:()=>P(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Yc,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ne,children:"Delete Assistant"})]})]})}),F&&a.jsxs(OT,{onClose:()=>K(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Qi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[a.jsx(Rh,{label:"Customer Phone Number",value:V.number,onChange:q=>$(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(Rh,{label:"First Name",value:V.first_name,onChange:q=>$(ie=>({...ie,first_name:q})),placeholder:"John"}),a.jsx(Rh,{label:"Last Name",value:V.last_name,onChange:q=>$(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),a.jsx(Rh,{label:"Email Address",value:V.email,onChange:q=>$(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function Mh({title:e,value:t,icon:n,trend:r,trendUp:s,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function ET({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>a.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(xx,{className:"h-4 w-4 text-white/70"})})]})}function Tc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function Dh({title:e,onClick:t,children:n,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:n})}function tc({label:e,sortKey:t,sortDir:n,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(VL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(xx,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function tde({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(fs,{className:"h-3 w-3"})})})})}function nde({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(fs,{className:"h-3 w-3"})})})})}function ade({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(fs,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Gc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(Tc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(Tc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(Tc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(gx,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(vx,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Qi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Yc,{className:"h-4 w-4"}),"Delete"]})]})]})}function PT({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function OT({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function Rh({label:e,value:t,onChange:n,placeholder:r,required:s,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function rde(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Wc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(bx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function sde(e){e&&navigator.clipboard.writeText(e).then(()=>U.success("Copied to clipboard")).catch(()=>U.info(e))}const xo=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],pu=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...xo,...pu];xo.filter(e=>e.gender==="female");const Vy=xo.filter(e=>e.gender==="male"),Hy=xo;pu.filter(e=>e.gender==="female");pu.filter(e=>e.gender==="male");const ct={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},MT=/^\+\d{7,15}$/,DT=[{id:1,label:"Core & Transcription",Icon:ej},{id:2,label:"Voice",Icon:rj},{id:3,label:"Review & Save",Icon:tu}],ide=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],lde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function ode(){const{assistantId:e}=kf(),t=Xt(),n="http://localhost:8000",[r,s]=g.useState(1),[l,c]=g.useState(!0),[d,f]=g.useState(!1),[m,h]=g.useState(!1),x=g.useRef(null),[v,y]=g.useState(!1),[w,j]=g.useState([]),[S,k]=g.useState(!1),[_,C]=g.useState(""),[P,A]=g.useState("all"),[T,L]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,F]=g.useState({}),K=g.useMemo(()=>{const E=T.voice_provider==="openai"?pu:xo;return(P==="all"?E:E.filter(z=>z.gender===P)).slice().sort((z,W)=>((z==null?void 0:z.showName)||"").localeCompare((W==null?void 0:W.showName)||""))},[T.voice_provider,P]);g.useEffect(()=>{if(!T.voice)return;const E=K.find(R=>(R==null?void 0:R.name)===T.voice);E!=null&&E.voice&&(L(R=>({...R,voice_model:E.voice})),F(R=>({...R,voice_model:""})))},[T.voice,K]),g.useEffect(()=>{if(!T.voice)return y(!1);K.some(R=>R.name===T.voice)||y(!1)},[K,T.voice]);const V=async()=>{k(!0),C("");try{const E=localStorage.getItem("token"),R=await fetch(`${n}/api/purchased_numbers`,{headers:{Accept:"application/json",...E?{Authorization:`Bearer ${E}`}:{}}});if(!R.ok)throw new Error(`HTTP ${R.status}`);const z=await R.json(),ce=(Array.isArray(z)?z:(z==null?void 0:z.purchased_numbers)||[]).filter(Boolean).map(Q=>({phone_number:(Q==null?void 0:Q.phone_number)||"",friendly_name:(Q==null?void 0:Q.friendly_name)||"",attached_assistant:(Q==null?void 0:Q.attached_assistant)??null})).filter(Q=>Q.phone_number);j(ce)}catch(E){console.error(E),C("Failed to load your purchased numbers"),j([])}finally{k(!1)}};g.useEffect(()=>{(async()=>{try{const R=localStorage.getItem("token");if(!R){U.error("No authentication token found. Please log in."),t("/login");return}const z=await fetch(`${n}/api/get-assistants`,{headers:{Authorization:`Bearer ${R}`,Accept:"application/json"}});if(!z.ok)throw new Error(`HTTP ${z.status}`);const W=await z.json(),ce=Number(e),Q=W.find(we=>Number(we.id)===ce);if(!Q)throw new Error("Assistant not found");const Z=Q.voice_provider==="openai"||Q.voice_provider==="deepgram"?Q.voice_provider:"deepgram",Ne={name:Q.name||"",provider:Q.provider||"openai",model:Q.model||"gpt-4o-mini",temperature:Q.temperature??.7,maxTokens:Q.max_tokens??Q.maxTokens??250,systemPrompt:Q.system_prompt||Q.systemPrompt||"",first_message:Q.first_message||"",transcribe_provider:Q.transcribe_provider||"google",transcribe_language:Q.transcribe_language||"English",transcribe_model:Q.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:Q.forwardingPhoneNumber||"",attached_Number:Q.attached_Number||"",category:Q.category||"",knowledgeBase:Q.knowledge_base||Q.knowledgeBase||[],leadsfile:Q.leadsfile||[],languages:Q.languages||[],endCallPhrases:Q.endCallPhrases||[],voice_provider:Z,voice_model:Q.voice_model||"",voice:Q.voice||"",speed:Q.speed??.8,stability:Q.stability??.5,similarityBoost:Q.similarityBoost??.75,draft:!!Q.draft,assistant_toggle:!!(Q.assistant_toggle??!0)};L(we=>({...we,...Ne}));const re=Ne.voice&&Ne.voice_model&&(Ne.voice_provider==="deepgram"||Ne.voice_provider==="openai");y(!!re),V(),c(!1)}catch(R){console.error("Error loading assistant:",R),U.error((R==null?void 0:R.message)||"Failed to load assistant"),t("/")}})()},[e]);const $=E=>{const{id:R,value:z,type:W,checked:ce}=E.target,Q=W==="checkbox"?ce:z;L(Z=>({...Z,[R]:Q})),F(Z=>({...Z,[R]:""}))},ee=E=>{try{x.current&&(x.current.pause(),x.current=null);const R=new Audio(E);x.current=R,h(!0),R.play().catch(()=>{U.error("Failed to play voice preview"),h(!1),x.current=null}),R.onended=()=>{h(!1),x.current=null}}catch{U.error("Failed to play voice preview"),h(!1)}},je=()=>{x.current&&(x.current.pause(),x.current=null,h(!1))},ne=E=>{if(E!==r){if(E===3&&(!T.voice||!v)){F(R=>({...R,voice:"Select a voice and press Next to continue"})),U.error("Please select a voice and press Next to continue.");return}je(),s(E)}},D=()=>{if(r===1)return s(2);if(r===2){if(!T.voice){F(E=>({...E,voice:"Please select a voice"})),U.error("Select a voice to continue.");return}if(!v){F(E=>({...E,voice:"Click a voice card to confirm your choice"})),U.info("Click a voice card to confirm your choice.");return}return s(3)}},Y=E=>{je();const R=E.target.value;L(z=>({...z,voice_provider:R,voice:"",voice_model:""})),y(!1),F(z=>({...z,voice:"",voice_model:""}))},H=()=>{const E=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],R={};let z=!0;return E.forEach(W=>{const ce=T[W];(ce==null||ce===""||Number.isNaN(ce))&&(R[W]="Required",z=!1)}),(T.temperature<0||T.temperature>2)&&(R.temperature="Temperature must be between 0 and 2",z=!1),Number(T.maxTokens)<1&&(R.maxTokens="maxTokens must be a positive integer",z=!1),T.forwardingPhoneNumber&&!MT.test(T.forwardingPhoneNumber)&&(R.forwardingPhoneNumber="Must be E.164 (+123...)",z=!1),T.attached_Number&&!MT.test(T.attached_Number)&&(R.attached_Number="Invalid number format",z=!1),F(R),z||((Q=>Q.some(Z=>R[Z]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),z},I=async E=>{if(E.preventDefault(),!d){if(r!==3){U.error("Please complete the steps first.");return}if(!H()){U.error("Fix the highlighted fields.");return}f(!0),je();try{const R=localStorage.getItem("token");if(!R)throw new Error("No authentication token found. Please log in.");const z={name:T.name,provider:T.provider,first_message:T.first_message||null,model:T.model,systemPrompt:T.systemPrompt||null,knowledgeBase:T.knowledgeBase,leadsfile:T.leadsfile,temperature:Number(T.temperature),maxTokens:Number(T.maxTokens),transcribe_provider:T.transcribe_provider,transcribe_language:T.transcribe_language,transcribe_model:T.transcribe_model,languages:T.languages,forwardingPhoneNumber:T.forwardingPhoneNumber||null,endCallPhrases:T.endCallPhrases,voice_provider:T.voice_provider,voice:T.voice,voice_model:T.voice_model,attached_Number:T.attached_Number||null,draft:!!T.draft,assistant_toggle:!!T.assistant_toggle,category:T.category||null,speed:Number(T.speed),stability:Number(T.stability),similarityBoost:Number(T.similarityBoost)},W=await fetch(`${n}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${R}`},body:JSON.stringify(z)});if(!W.ok){let ce=`HTTP ${W.status}`;try{const Q=await W.json();Q!=null&&Q.detail&&(ce=Q.detail)}catch{const Q=await W.text();Q&&(ce=`${ce}  ${Q}`)}throw new Error(ce)}U.success("Assistant updated successfully!"),t("/user/callassistent")}catch(R){console.error("Update error",R),U.error((R==null?void 0:R.message)||"Failed to update assistant")}finally{f(!1)}}};return l?a.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:ct.background},children:a.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:ct.text},children:[a.jsx(Xn,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:ct.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:ct.border,backgroundColor:ct.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:ct.text},children:[a.jsx(tu,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),a.jsx("p",{className:"mt-2 text-sm",style:{color:ct.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),a.jsx(cde,{currentStep:r,onChange:ne}),a.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:ct.card,borderColor:ct.border},children:a.jsxs("form",{onSubmit:I,noValidate:!0,children:[a.jsxs(Mt,{mode:"wait",children:[r===1&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(Lh,{id:"name",label:"Assistant Name",value:T.name,onChange:$,error:M.name,placeholder:"SupportBot"}),a.jsx(Lh,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:T.forwardingPhoneNumber,onChange:$,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Jd,{children:"Attach Purchased Number (optional)"}),a.jsxs("button",{type:"button",onClick:V,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card},disabled:S,title:"Refresh list",children:[a.jsx(We,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),a.jsxs("select",{id:"attached_Number",value:T.attached_Number,onChange:$,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card},children:[a.jsx("option",{value:"",children:w.length?"Do not change":"No purchased numbers found"}),w.map(E=>a.jsx("option",{value:E.phone_number,children:E.friendly_name?`${E.friendly_name}  ${E.phone_number}`:E.phone_number},E.phone_number))]}),_&&a.jsx(Ul,{children:_}),M.attached_Number&&a.jsx(Ul,{children:M.attached_Number})]}),a.jsx(Lh,{id:"category",label:"Category (optional)",value:T.category,onChange:$}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Jd,{children:"System Prompt"}),a.jsx($T,{id:"systemPrompt",value:T.systemPrompt,onChange:$,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&a.jsx(Ul,{children:M.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(Jd,{children:"First Message"}),a.jsx($T,{id:"first_message",value:T.first_message,onChange:$,placeholder:"Hello! ",rows:3}),M.first_message&&a.jsx(Ul,{children:M.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(IT,{id:"draft",label:"Save as Draft",checked:T.draft,onChange:$}),a.jsx(IT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:T.assistant_toggle,onChange:$})]})]},"step1"),r===2&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(LT,{id:"voice_provider",label:"Voice Provider",value:T.voice_provider,onChange:Y,options:ide,error:M.voice_provider}),a.jsx(LT,{id:"genderFilter",label:"Gender",value:P,onChange:E=>{je(),A(E.target.value)},options:lde}),a.jsx(Lh,{id:"voice_model",label:"Voice Model",value:T.voice_model,onChange:()=>{},error:M.voice_model,placeholder:T.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!v&&a.jsxs("p",{className:"text-sm",style:{color:ct.lightText},children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm",style:{color:ct.lightText},children:["Showing ",a.jsx("span",{className:"font-medium",children:K.length})," voices"]})}),a.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:K.map(E=>a.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:T.voice===E.name?"#93c5fd":ct.border,backgroundColor:T.voice===E.name?"#eff6ff":ct.card},onClick:()=>{L(R=>({...R,voice:E.name,voice_model:E.voice,voice_provider:E.provider||T.voice_provider})),y(!0),F(R=>({...R,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${T.voice===E.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold",style:{color:ct.text},children:E.showName||E.name}),a.jsxs("div",{className:"text-sm capitalize",style:{color:ct.lightText},children:[E.gender||"unknown","  ",E.provider]}),a.jsx("div",{className:"mt-1 text-xs",style:{color:ct.lightText},children:E.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(ude,{isActive:m&&T.voice===E.name,onPlay:()=>ee(E.audioSr||""),onStop:je})})]})]},`${E.provider}-${E.name}`))}),M.voice&&a.jsx(Ul,{children:M.voice})]},"step2"),r===3&&a.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:ct.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:ct.text},children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(Al,{label:"Name",value:T.name||""}),a.jsx(Al,{label:"Model",value:`${T.provider}  ${T.model}`}),a.jsx(Al,{label:"Voice Provider",value:T.voice_provider}),a.jsx(Al,{label:"Voice",value:T.voice||""}),a.jsx(Al,{label:"Voice Model",value:T.voice_model||""}),a.jsx(Al,{label:"Forwarding Number",value:T.forwardingPhoneNumber||""}),a.jsx(Al,{label:"Attach Number",value:T.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(qy,{onClick:()=>s(2),children:"Edit Voice"}),a.jsx(qy,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?a.jsx(qy,{onClick:()=>ne(r-1),children:"Back"}):a.jsx("span",{}),r<3?a.jsxs(RT,{onClick:D,children:["Next ",a.jsx(Tn,{className:"ml-1 h-4 w-4"})]}):a.jsx(RT,{type:"submit",disabled:d,children:d?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function cde({currentStep:e,onChange:t}){const n=DT;return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:n.map(({id:r,label:s,Icon:l})=>{const c=e===r;return a.jsxs(he.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:a.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),a.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/DT.length*100}%`}})})]})}function RT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function qy({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card},children:e})}function Jd({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:ct.text},children:e})}function Ul({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:ct.danger},children:e})}function Lh({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Jd,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card}}),s&&a.jsx(Ul,{children:s})]})}function LT({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(Jd,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card},children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Ul,{children:l})]})}function $T({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:ct.border,color:ct.text,backgroundColor:ct.card}})}function IT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:ct.text},children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-indigo-600"}),a.jsx("span",{children:t})]})}function Al({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:ct.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function ude({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:a.jsx(Dc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:a.jsx(Ef,{className:"h-5 w-5"})})})}const es={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},dde=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),zT=/^\+\d{7,15}$/,BT=[{id:1,key:"core",label:"Core & Transcription",Icon:ej},{id:2,key:"voice",label:"Voice",Icon:rj},{id:3,key:"review",label:"Review & Create",Icon:tu}],fde=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],mde=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function hde(){const e=Xt(),[t,n]=g.useState(1),[r,s]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[f,m]=g.useState(!1),[h,x]=g.useState("all"),[v,y]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=g.useState({}),[S,k]=g.useState([]),[_,C]=g.useState(!1),[P,A]=g.useState(""),T=g.useMemo(()=>{const D=v.voice_provider==="openai"?pu:xo;return(h==="all"?D:D.filter(H=>H.gender===h)).slice().sort((H,I)=>((H==null?void 0:H.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[v.voice_provider,h]);g.useEffect(()=>{if(!v.voice)return;const D=T.find(Y=>(Y==null?void 0:Y.name)===v.voice);D!=null&&D.voice&&(y(Y=>({...Y,voice_model:D.voice})),j(Y=>({...Y,voice_model:""})))},[v.voice,T]);const L="http://localhost:8000",M=D=>{const{id:Y,value:H,type:I,checked:E}=D.target,R=I==="checkbox"?E:H;y(z=>({...z,[Y]:R})),j(z=>({...z,[Y]:""}))},F=D=>{try{d.current&&(d.current.pause(),d.current=null);const Y=new Audio(D||"");d.current=Y,c(!0),Y.play().catch(()=>{U.error("Failed to play voice preview"),c(!1),d.current=null}),Y.onended=()=>{c(!1),d.current=null}}catch{U.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},V=D=>{if(D!==t){if(D===3&&(!v.voice||!f)){j(Y=>({...Y,voice:"Select a voice and press Next to continue"})),U.error("Please select a voice and press Next to continue.");return}K(),n(D)}},$=()=>{if(t===1)return n(2);if(t===2){if(!v.voice){j(D=>({...D,voice:"Please select a voice"})),U.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),U.info("Click a voice card to confirm your choice.");return}n(3)}},ee=async()=>{C(!0),A("");try{const D=localStorage.getItem("token"),Y=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const H=await Y.json(),E=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);k(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),k([])}finally{C(!1)}};g.useEffect(()=>{ee()},[]);const je=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],Y={};let H=!0;if(D.forEach(I=>{const E=v[I];(E==null||E===""||Number.isNaN(E))&&(Y[I]="Required",H=!1)}),(v.temperature<0||v.temperature>2)&&(Y.temperature="Temperature must be between 0 and 2",H=!1),v.maxTokens<1&&(Y.maxTokens="maxTokens must be a positive integer",H=!1),v.forwardingPhoneNumber&&!zT.test(v.forwardingPhoneNumber)&&(Y.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),v.attached_Number&&!zT.test(v.attached_Number)&&(Y.attached_Number="Invalid number format",H=!1),j(Y),!H){const I=z=>z.some(W=>Y[W]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];I(E)?n(1):I(R)&&n(2)}return H},ne=async D=>{if(D.preventDefault(),!r){if(t!==3){U.error("Please complete the steps first.");return}if(je()){s(!0),K();try{const Y=localStorage.getItem("token"),H=`${L}/api/assistants`,I=[dde,(v.systemPrompt||"").trim()].filter(Boolean).join(`

`),E={name:v.name,provider:v.provider,first_message:v.first_message||null,model:v.model,systemPrompt:I,knowledgeBase:v.knowledgeBase,leadsfile:v.leadsfile,temperature:Number(v.temperature),maxTokens:Number(v.maxTokens),transcribe_provider:v.transcribe_provider,transcribe_language:v.transcribe_language,transcribe_model:v.transcribe_model,languages:v.languages,forwardingPhoneNumber:v.forwardingPhoneNumber||null,endCallPhrases:v.endCallPhrases,voice_provider:v.voice_provider,voice:v.voice,voice_model:v.voice_model,attached_Number:v.attached_Number||null,draft:!!v.draft,assistant_toggle:!!v.assistant_toggle,category:v.category||null,speed:Number(v.speed),stability:Number(v.stability),similarityBoost:Number(v.similarityBoost)},R=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...Y?{Authorization:`Bearer ${Y}`}:{}},body:JSON.stringify(E)});if(!R.ok){let z=`HTTP ${R.status}`;try{const W=await R.json();W!=null&&W.detail&&(z=W.detail)}catch{const W=await R.text();W&&(z=`${z}  ${W}`)}throw new Error(z)}U.success("Assistant created successfully!"),e("/user/callassistent")}catch(Y){U.error((Y==null?void 0:Y.message)||"Failed to create assistant")}finally{s(!1)}}}};return g.useEffect(()=>{m(!1),y(D=>({...D,voice:"",voice_model:""}))},[v.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:es.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:es.border,backgroundColor:es.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx(tu,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx(pde,{currentStep:t,onChange:V}),a.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:es.card,borderColor:es.border},children:a.jsxs("form",{onSubmit:ne,noValidate:!0,children:[a.jsxs(Mt,{mode:"wait",children:[t===1&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx($h,{id:"name",label:"Assistant Name",value:v.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx($h,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:v.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(ef,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:ee,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:v.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>a.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),P&&a.jsx(Fl,{children:P}),w.attached_Number&&a.jsx(Fl,{children:w.attached_Number})]}),a.jsx($h,{id:"category",label:"Category (optional)",value:v.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(ef,{children:"System Prompt"}),a.jsx(VT,{id:"systemPrompt",value:v.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),w.systemPrompt&&a.jsx(Fl,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(ef,{children:"First Message"}),a.jsx(VT,{id:"first_message",value:v.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),w.first_message&&a.jsx(Fl,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(HT,{id:"draft",label:"Save as Draft",checked:v.draft,onChange:M}),a.jsx(HT,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:v.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(FT,{id:"voice_provider",label:"Voice Provider",value:v.voice_provider,onChange:D=>{K();const Y=D.target.value;y(H=>({...H,voice_provider:Y,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:fde,error:w.voice_provider}),a.jsx(FT,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:mde}),a.jsx($h,{id:"voice_model",label:"Voice Model",value:v.voice_model,onChange:()=>{},error:w.voice_model,placeholder:v.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:es.border},children:"No voices match this filter."}),T.map(D=>a.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:v.voice===D.name?"#93c5fd":es.border,backgroundColor:v.voice===D.name?"#eff6ff":es.card},onClick:()=>{y(Y=>({...Y,voice:D.name,voice_model:D.voice,voice_provider:D.provider||v.voice_provider})),m(!0),j(Y=>({...Y,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${v.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(xde,{isActive:l&&v.voice===D.name,onPlay:()=>F(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&a.jsx(Fl,{children:w.voice})]},"step2"),t===3&&a.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:es.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(Tl,{label:"Name",value:v.name||""}),a.jsx(Tl,{label:"Model",value:`${v.provider}  ${v.model}`}),a.jsx(Tl,{label:"Voice Provider",value:v.voice_provider}),a.jsx(Tl,{label:"Voice",value:v.voice||""}),a.jsx(Tl,{label:"Voice Model",value:v.voice_model||""}),a.jsx(Tl,{label:"Forwarding Number",value:v.forwardingPhoneNumber||""}),a.jsx(Tl,{label:"Attach Number",value:v.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(Ky,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(Ky,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(Ky,{onClick:()=>V(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(UT,{onClick:$,children:["Next ",a.jsx(Tn,{className:"ml-1 h-4 w-4"})]}):a.jsx(UT,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function pde({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:BT.map(({id:n,label:r,Icon:s})=>{const l=e===n;return a.jsxs(he.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/BT.length*100}%`}})})]})}function UT({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function Ky({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function ef({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Fl({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function $h({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(ef,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&a.jsx(Fl,{children:s})]})}function FT({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(ef,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Fl,{children:l})]})}function VT({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function HT({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function Tl({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:es.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function xde({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(Dc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(Ef,{className:"h-5 w-5"})})})}const Nd="http://localhost:8000",nc={FILES:`${Nd}/api/files`,FILE:e=>`${Nd}/api/files/${e}`,SYNC:{HUBSPOT:`${Nd}/api/crm/ingest/hubspot`,GHL:`${Nd}/api/crm/ingest/ghl`,MONDAY:`${Nd}/api/crm/ingest/monday`}},gde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function WL(...e){return e.filter(Boolean).join(" ")}function wa({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function qT({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(wa,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Ih({label:e,value:t,tone:n="blue"}){const r=n==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=n==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${r}`,children:a.jsx(Ld,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function zh({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Bh({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function KT({id:e}){const[t,n]=g.useState(!1);return a.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),n(!0),setTimeout(()=>n(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?a.jsx(k0,{className:"h-3.5 w-3.5"}):a.jsx(Va,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function vde(){const e=Xt(),[t,n]=g.useState([]),[r,s]=g.useState(!1),[l,c]=g.useState(""),[d,f]=g.useState(""),[m,h]=g.useState("created_at"),[x,v]=g.useState("desc"),[y,w]=g.useState(!1),[j,S]=g.useState("New List"),[k,_]=g.useState(null),[C,P]=g.useState(!1),[A,T]=g.useState(!1),L=g.useRef(null),[M,F]=g.useState({open:!1,id:null,name:""}),[K,V]=g.useState(!1),$=g.useCallback(async()=>{const Z=localStorage.getItem("token");if(!Z){n([]),c("No auth token found."),U.error("No authentication token found.");return}try{s(!0),c("");const Ne=await fetch(nc.FILES,{headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});if(!Ne.ok)throw new Error(`HTTP ${Ne.status}`);const re=await Ne.json();n(Array.isArray(re)?re:[])}catch(Ne){c((Ne==null?void 0:Ne.message)||"Failed to load lists"),U.error((Ne==null?void 0:Ne.message)||"Failed to load lists")}finally{s(!1)}},[]);g.useEffect(()=>{$()},[$]);const ee=g.useMemo(()=>{const Z=d.trim().toLowerCase();return[...Z?t.filter(we=>[we.name,we.alphanumeric_id,we.created_at].filter(Boolean).some(_e=>String(_e).toLowerCase().includes(Z))):t].sort((we,_e)=>{let Se=we[m],me=_e[m];return m==="created_at"&&(Se=new Date(we.created_at).getTime(),me=new Date(_e.created_at).getTime()),Se<me?x==="asc"?-1:1:Se>me?x==="asc"?1:-1:0})},[t,d,m,x]),je=t.length,ne=t.reduce((Z,Ne)=>Z+(Number(Ne.leads_count)||0),0),D=t[0]||null,Y=Z=>{m===Z?v(Ne=>Ne==="asc"?"desc":"asc"):(h(Z),v("desc"))},H=Z=>e(`/user/lead/${Z.id}`);async function I(Z){const Ne=localStorage.getItem("token");if(!Ne)return U.error("No authentication token found.");try{const re=await fetch(nc.FILE(Z),{method:"DELETE",headers:{Authorization:`Bearer ${Ne}`,Accept:"application/json"}});if(!re.ok)throw new Error(`HTTP ${re.status}`);U.success(" List deleted"),F({open:!1,id:null,name:""}),n(we=>we.filter(_e=>_e.id!==Z))}catch(re){U.error((re==null?void 0:re.message)||"Delete failed")}}async function E(){const Z=localStorage.getItem("token");if(!Z)return U.error("No authentication token found.");if(!k)return U.info("Choose a CSV file");if(!j.trim())return U.info("Enter a name");P(!0);try{const Ne=new FormData;Ne.append("file",k),Ne.append("name",j.trim());const re=await fetch(nc.FILES,{method:"POST",headers:{Authorization:`Bearer ${Z}`},body:Ne});if(!re.ok){const we=await re.text();throw new Error(we||`HTTP ${re.status}`)}U.success(" List created"),w(!1),_(null),S("New List"),$()}catch(Ne){U.error((Ne==null?void 0:Ne.message)||"Upload failed")}finally{P(!1)}}async function R(){const Z=localStorage.getItem("token");if(!Z)return U.error("No authentication token found.");const Ne=async we=>{const _e=await fetch(we,{method:"POST",headers:{Authorization:`Bearer ${Z}`,Accept:"application/json"}});let Se={};try{Se=await _e.json()}catch{}if(!_e.ok){const me=(Se==null?void 0:Se.detail)||(Se==null?void 0:Se.error)||(Se==null?void 0:Se.message)||`HTTP ${_e.status}`;throw new Error(me)}return Se},re=[{name:"HubSpot",url:nc.SYNC.HUBSPOT},{name:"GHL",url:nc.SYNC.GHL},{name:"monday.com",url:nc.SYNC.MONDAY}];try{V(!0);const we=await Promise.allSettled(re.map(Ue=>Ne(Ue.url)));let _e=0,Se=0,me=0,Be=0;we.forEach((Ue,be)=>{var ie,G,xe;const q=re[be].name;if(Ue.status==="fulfilled"){Be++;const ke=Array.isArray((ie=Ue.value)==null?void 0:ie.details)?Ue.value.details[0]:((G=Ue.value)==null?void 0:G.details)||{};_e+=Number((ke==null?void 0:ke.created_leads)||0),Se+=Number((ke==null?void 0:ke.updated_leads)||0),me+=Number((ke==null?void 0:ke.fetched_contacts)||0),U.success(`${q}:  ${(ke==null?void 0:ke.created_leads)||0} new, ${(ke==null?void 0:ke.updated_leads)||0} updated`,{autoClose:2500})}else{const ke=String(((xe=Ue.reason)==null?void 0:xe.message)||Ue.reason||"error");U.info(`${q}: ${ke.includes("Not connected")?"Not connected":` ${ke}`}`,{autoClose:3e3})}}),U.success(`Sync complete: ${Be}/${re.length} OK  fetched ${me}, created ${_e}, updated ${Se}.`),setTimeout($,1200)}catch(we){U.error((we==null?void 0:we.message)||"Sync failed")}finally{V(!1)}}function z(Z){Z.preventDefault(),T(!0)}function W(Z){Z.preventDefault(),T(!1)}function ce(Z){var re;Z.preventDefault(),T(!1);const Ne=(re=Z.dataTransfer.files)==null?void 0:re[0];if(Ne){if(!Q(Ne))return U.info("Please drop a .csv file");_(Ne)}}function Q(Z){const Ne=/\.csv$/i.test(Z.name),re=Z.type==="text/csv"||Z.type==="application/vnd.ms-excel"||Z.type==="";return Ne||re}return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Ld,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${gde}`,children:"Lists"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(wa,{onClick:()=>w(!0),variant:"primary",children:[a.jsx(is,{className:"mr-2 h-4 w-4"})," New List"]}),a.jsx(wa,{onClick:$,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"})," Refresh"]})}),a.jsx(wa,{onClick:R,disabled:K,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:K?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):a.jsx(a.Fragment,{children:"SYNC LEADS"})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Ih,{label:"Total Lists",value:je}),a.jsx(Ih,{label:"Total Leads",value:ne,tone:"cyan"}),a.jsx(Ih,{label:"Last Created",value:D&&D.name||""}),a.jsx(Ih,{label:"Newest Date",value:D?Uh(D.created_at):"",tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:d,onChange:Z=>f(Z.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx(Gy,{label:"Name",active:m==="name",dir:x,onClick:()=>Y("name")}),a.jsx(Gy,{label:"Leads",active:m==="leads_count",dir:x,onClick:()=>Y("leads_count")}),a.jsx(Gy,{label:"Created",active:m==="created_at",dir:x,onClick:()=>Y("created_at")})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ee.length,")"]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),r?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(We,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?a.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ee.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Ld,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),a.jsx("div",{className:"mt-3",children:a.jsxs(wa,{onClick:()=>w(!0),variant:"primary",children:[a.jsx(is,{className:"h-4 w-4 mr-2"})," New List"]})})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block w-full",children:a.jsxs("table",{className:"w-full table-fixed",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(zh,{children:"Name"}),a.jsx(zh,{children:"Leads"}),a.jsx(zh,{children:"Created"}),a.jsx(zh,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.map(Z=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsxs(Bh,{children:[a.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:"truncate max-w-[22rem]",children:Z.name}),a.jsx(KT,{id:Z.alphanumeric_id})]}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",Z.id]})]}),a.jsx(Bh,{children:a.jsx("span",{className:"text-sm font-semibold text-slate-800",children:Z.leads_count??0})}),a.jsx(Bh,{children:a.jsx("span",{className:"text-sm text-slate-800",children:Uh(Z.created_at)})}),a.jsx(Bh,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(wa,{onClick:()=>H(Z),size:"sm",title:"View",children:a.jsx(An,{className:"h-4 w-4"})}),a.jsx(wa,{onClick:()=>F({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",title:"Delete",children:a.jsx(sa,{className:"h-4 w-4"})})]})})]},Z.id))})]})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ee.map(Z=>a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:Z.name,children:Z.name}),a.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[a.jsx(KT,{id:Z.alphanumeric_id}),a.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",Z.id]})]}),a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),a.jsx("div",{className:"font-semibold text-slate-900",children:Z.leads_count??0})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),a.jsx("div",{className:"font-semibold text-slate-900 truncate",title:Uh(Z.created_at),children:Uh(Z.created_at)})]})]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs(wa,{onClick:()=>H(Z),size:"sm",className:"grow sm:grow-0",children:[a.jsx(An,{className:"h-4 w-4 mr-1"})," View"]}),a.jsxs(wa,{onClick:()=>F({open:!0,id:Z.id,name:Z.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[a.jsx(sa,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},Z.id))})})]})]})]}),a.jsx(Mt,{children:y&&a.jsx(qT,{onClose:()=>w(!1),title:"Create New List",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),a.jsx("input",{value:j,onChange:Z=>S(Z.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{onDragOver:z,onDragLeave:W,onDrop:ce,className:WL("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",A?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[a.jsxs("div",{className:"flex flex-col items-center text-center",children:[a.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:a.jsx(Ld,{className:"h-6 w-6 text-slate-700"})}),a.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),a.jsxs(wa,{type:"button",onClick:()=>{var Z;return(Z=L.current)==null?void 0:Z.click()},variant:"primary",className:"mt-2",children:[a.jsx(fB,{className:"h-4 w-4 mr-2"})," Browse Files"]}),a.jsx("input",{ref:L,type:"file",accept:".csv,text/csv",onChange:Z=>{var re;const Ne=((re=Z.target.files)==null?void 0:re[0])||null;if(!Ne)return _(null);if(!Q(Ne)){U.info("Please choose a .csv file"),Z.target.value="";return}_(Ne)},className:"hidden"}),a.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&a.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[a.jsx(Ld,{className:"h-4 w-4"}),a.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),a.jsxs("span",{className:"opacity-70",children:[" ",bde(k.size)]}),a.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:a.jsx(pa,{className:"h-3.5 w-3.5"})})]})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[a.jsx(wa,{onClick:()=>w(!1),variant:"subtle",children:"Cancel"}),a.jsx(wa,{onClick:E,disabled:C,variant:"primary",children:C?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),a.jsx(Mt,{children:M.open&&a.jsxs(qT,{onClose:()=>F({open:!1,id:null,name:""}),title:"Delete List?",children:[a.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",a.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(wa,{onClick:()=>F({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),a.jsxs(wa,{onClick:()=>I(M.id),variant:"danger",children:[a.jsx(sa,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function Uh(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function bde(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let n=0;for(;e>=1024&&n<t.length-1;)e/=1024,n++;return`${e.toFixed(e>=10||n===0?0:1)} ${t[n]}`}function Gy({label:e,active:t,dir:n,onClick:r}){const s=n==="asc"?aP:nP;return a.jsxs("button",{onClick:r,className:WL("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&a.jsx(s,{className:"h-4 w-4"})]})}const $i="http://localhost:8000",yde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function wde(e,t=250){const[n,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function jde(){const e=Xt(),{id:t}=kf(),n=Number(t),[r,s]=g.useState([]),[l,c]=g.useState([]),[d,f]=g.useState([]),[m,h]=g.useState(!0),[x,v]=g.useState(!1),[y,w]=g.useState(""),[j,S]=g.useState(""),k=wde(j,250),[_,C]=g.useState(""),[P,A]=g.useState("add_date"),[T,L]=g.useState("desc"),[M,F]=g.useState(1),[K,V]=g.useState(10),[$,ee]=g.useState(!1),[je,ne]=g.useState(!1),[D,Y]=g.useState(!1),[H,I]=g.useState(!1),[E,R]=g.useState(null),[z,W]=g.useState(null),[ce,Q]=g.useState(!1),[Z,Ne]=g.useState(!1),[re,we]=g.useState(!1),[_e,Se]=g.useState(null),me=g.useRef(localStorage.getItem("token")||null),[Be,Ue]=g.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[be,q]=g.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ie,G]=g.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),xe=g.useCallback(async()=>{const X=me.current;if(!X){h(!1),w("No auth token found"),U.error("No authentication token found.");return}try{h(!0),w("");const te=await fetch(`${$i}/api/leads${n?`?file_id=${n}`:""}`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);const se=await te.json();s(Array.isArray(se)?se:[])}catch(te){w((te==null?void 0:te.message)||"Failed to load leads"),U.error((te==null?void 0:te.message)||"Failed to load leads")}finally{h(!1)}},[n]),ke=g.useCallback(async()=>{const X=me.current;if(!X||!n){c([]);return}try{const te=await fetch(`${$i}/api/files/${n}/dynamic-columns`,{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);const se=await te.json();c(Array.isArray(se==null?void 0:se.columns)?se.columns:[])}catch(te){c([]),console.warn("Dynamic columns fetch failed:",te)}},[n]),Re=g.useCallback(async()=>{const X=me.current;try{const te=await fetch(`${$i}/api/get-assistants`,{headers:{Authorization:X?`Bearer ${X}`:"",Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);const se=await te.json(),nt=(Array.isArray(se)?se:Array.isArray(se==null?void 0:se.assistants)?se.assistants:[]).filter(xt=>xt==null?void 0:xt.vapi_assistant_id);f(nt)}catch(te){console.error(te),U.error("Failed to load assistants"),f([])}},[]);g.useEffect(()=>{xe(),ke(),Re()},[t]);const Ee=g.useMemo(()=>{const X=new Set;return r.forEach(te=>(te==null?void 0:te.state)&&X.add(te.state)),Array.from(X).sort((te,se)=>te.localeCompare(se))},[r]),et=g.useMemo(()=>{const X=k.trim().toLowerCase();return r.filter(se=>{var nt,xt;return _&&(se.state||"")!==_?!1:X?[se.first_name,se.last_name,se.email,se.mobile,se.salesforce_id,(nt=se==null?void 0:se.other_data)==null?void 0:nt.Custom_0,(xt=se==null?void 0:se.other_data)==null?void 0:xt.Custom_1].concat(Object.values((se==null?void 0:se.other_data)||{})).filter(Boolean).map(it=>String(it).toLowerCase()).some(it=>it.includes(X)):!0})},[r,k,_]),Ze=g.useMemo(()=>{const X=[...et],te=T==="asc"?1:-1;return X.sort((se,Ge)=>{const nt=`${se.first_name||""} ${se.last_name||""}`.trim(),xt=`${Ge.first_name||""} ${Ge.last_name||""}`.trim();let it,Tt;switch(P){case"name":it=nt.toLowerCase(),Tt=xt.toLowerCase();break;case"email":it=(se.email||"").toLowerCase(),Tt=(Ge.email||"").toLowerCase();break;case"mobile":it=(se.mobile||"").toLowerCase(),Tt=(Ge.mobile||"").toLowerCase();break;case"add_date":default:it=new Date(se.add_date||0).getTime(),Tt=new Date(Ge.add_date||0).getTime()}return it<Tt?-1*te:it>Tt?1*te:0}),X},[et,P,T]),ye=Ze.length,Me=Math.max(1,Math.ceil(ye/K));g.useEffect(()=>{M>Me&&F(Me)},[M,Me]);const $e=(M-1)*K,Le=Ze.slice($e,$e+K),Ie=r[r.length-1]||null,lt=X=>{var te,se;R(X.id),q({first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",mobile:X.mobile||"",salesforce_id:X.salesforce_id||"",custom0:((te=X==null?void 0:X.other_data)==null?void 0:te.Custom_0)||"",custom1:((se=X==null?void 0:X.other_data)==null?void 0:se.Custom_1)||"",add_date:X.add_date||new Date().toISOString()}),Y(!0)},wt=async()=>{const X=me.current;if(!(!X||!E))try{I(!0);const te={first_name:be.first_name.trim(),last_name:be.last_name.trim(),email:be.email.trim(),mobile:be.mobile.trim(),salesforce_id:be.salesforce_id.trim(),add_date:be.add_date,other_data:{Custom_0:be.custom0||"",Custom_1:be.custom1||""}},se=await fetch(`${$i}/api/leads/${E}`,{method:"PUT",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(te)}),Ge=await se.json();if(!se.ok||(Ge==null?void 0:Ge.success)===!1)throw new Error((Ge==null?void 0:Ge.detail)||`HTTP ${se.status}`);U.success((Ge==null?void 0:Ge.detail)||"Lead updated"),Y(!1),R(null),xe()}catch(te){U.error((te==null?void 0:te.message)||"Update failed")}finally{I(!1)}},Sn=async()=>{const X=me.current;if(!X)return U.error("Missing token");if(!Be.first_name||!Be.last_name||!Be.email||!Be.mobile)return U.info("Please fill first, last, email and mobile.");try{ne(!0);const te={first_name:Be.first_name.trim(),last_name:Be.last_name.trim(),email:Be.email.trim(),add_date:Be.add_date,mobile:Be.mobile.trim(),file_id:n||null,salesforce_id:Be.salesforce_id.trim(),other_data:{Custom_0:Be.custom0||"",Custom_1:Be.custom1||""}},se=await fetch(`${$i}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify(te)});if(!se.ok)throw new Error(`HTTP ${se.status}`);await se.json(),U.success("Lead added"),ee(!1),Ue({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),xe()}catch(te){U.error((te==null?void 0:te.message)||"Failed to add lead")}finally{ne(!1)}},Zn=async()=>{const X=me.current;if(!(!X||!z))try{const te=await fetch(`${$i}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[z]})});if(!te.ok)throw new Error(`HTTP ${te.status}`);await te.json(),U.success("Lead deleted"),W(null),re&&we(!1),xe()}catch(te){U.error((te==null?void 0:te.message)||"Delete failed")}},sn=async()=>{const X=me.current;if(!X)return U.error("Missing token");try{v(!0);const te=await fetch(`${$i}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),se=await te.json().catch(()=>({}));if(!te.ok||(se==null?void 0:se.success)===!1)throw new Error((se==null?void 0:se.detail)||`HTTP ${te.status}`);U.success(`Synced HubSpot: ${(se==null?void 0:se.created)||0} created, ${(se==null?void 0:se.updated)||0} updated`),xe()}catch(te){U.error((te==null?void 0:te.message)||"HubSpot sync failed")}finally{v(!1)}},Pe=X=>{if(!X)return"";const te=String(X).trim();return te.startsWith("+")?"+"+te.slice(1).replace(/\D+/g,""):te.replace(/\D+/g,"")},Fe=X=>{var Ge,nt,xt,it,Tt,Dt,Nr,gn,Ct,an;const se=[X==null?void 0:X.mobile,X==null?void 0:X.phone,(Ge=X==null?void 0:X.other_data)==null?void 0:Ge.phone,(nt=X==null?void 0:X.other_data)==null?void 0:nt.Phone,(xt=X==null?void 0:X.other_data)==null?void 0:xt.mobile,(it=X==null?void 0:X.other_data)==null?void 0:it.Mobile,(Tt=X==null?void 0:X.other_data)==null?void 0:Tt.telephone,(Dt=X==null?void 0:X.other_data)==null?void 0:Dt.Telephone,(Nr=X==null?void 0:X.other_data)==null?void 0:Nr.cell,(gn=X==null?void 0:X.other_data)==null?void 0:gn.Cell,(Ct=X==null?void 0:X.other_data)==null?void 0:Ct.Custom_0,(an=X==null?void 0:X.other_data)==null?void 0:an.Custom_1].filter(Boolean).find(Boolean);return Pe(se||"")},St=X=>{const te=Fe(X);te||U.info("No phone number on this lead  you can still enter one to call.");const se=localStorage.getItem("lastAssistantId")||"",Ge=d.find(nt=>String(nt.id)===String(se)&&(nt==null?void 0:nt.vapi_assistant_id))||d.find(nt=>nt==null?void 0:nt.vapi_assistant_id)||null;G({vapi_assistant_id:(Ge==null?void 0:Ge.vapi_assistant_id)||"",assistant_id:(Ge==null?void 0:Ge.id)||"",number:te,first_name:X.first_name||"",last_name:X.last_name||"",email:X.email||"",lead_id:X.id}),Q(!0)},Hr=async X=>{if(X.preventDefault(),Z)return;const te=me.current,{vapi_assistant_id:se,number:Ge,first_name:nt,last_name:xt,email:it}=ie;if(!se)return U.error("Select an assistant first");if(!Ge)return U.error("Enter a phone number");const Tt=Pe(Ge);if(!Tt)return U.error("Invalid phone number");try{Ne(!0);const Dt=`${$i}/api/phone-call/${encodeURIComponent(se)}/${encodeURIComponent(Tt)}`,Nr={first_name:nt||"Caller",last_name:xt||"",email:it||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Tt,custom_field_01:null,custom_field_02:null},gn=await fetch(Dt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:te?`Bearer ${te}`:""},body:JSON.stringify(Nr)}),Ct=await gn.json().catch(()=>({}));if(!gn.ok||(Ct==null?void 0:Ct.success)===!1)throw new Error((Ct==null?void 0:Ct.detail)||`HTTP ${gn.status}`);ie.assistant_id&&localStorage.setItem("lastAssistantId",String(ie.assistant_id)),U.success("Call initiated"),Q(!1)}catch(Dt){U.error((Dt==null?void 0:Dt.message)||"Failed to initiate call")}finally{Ne(!1)}},de=()=>{if(Ze.length===0)return U.info("Nothing to export.");const X=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],te=Array.from(new Set(["Custom_0","Custom_1",...l])),se=[...X,...te],Ge=Ze.map(Dt=>{const Nr=[Dt.id??"",Ii(Dt.first_name),Ii(Dt.last_name),Ii(Dt.email),Ii(Dt.mobile),Ii(Dt.salesforce_id),Ii(Dt.state),Ii(Dt.add_date)],gn=te.map(Ct=>{var an;return Ii((an=Dt==null?void 0:Dt.other_data)==null?void 0:an[Ct])});return[...Nr,...gn]}),nt=[se,...Ge].map(Dt=>Dt.join(",")).join(`
`),xt=new Blob([nt],{type:"text/csv;charset=utf-8;"}),it=URL.createObjectURL(xt),Tt=document.createElement("a");Tt.href=it,Tt.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Tt),Tt.click(),document.body.removeChild(Tt),URL.revokeObjectURL(it)};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(An,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${yde}`,children:"Leads"})}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",a.jsx("b",{children:n||""})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Ht,{onClick:()=>ee(!0),variant:"primary",children:[a.jsx(is,{className:"mr-2 h-4 w-4"})," New Lead"]}),a.jsx(Ht,{onClick:sn,disabled:x,children:x?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),a.jsx(Ht,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),a.jsxs(Ht,{onClick:de,children:[a.jsx(rf,{className:"mr-2 h-4 w-4"}),"Export"]}),a.jsxs(Ht,{onClick:xe,children:[a.jsx(We,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(Yy,{label:"Total Leads",value:ye}),a.jsx(Yy,{label:"Selected File",value:n||""}),a.jsx(Yy,{label:"Last Created",value:Ie&&`${Ie.first_name||""} ${Ie.last_name||""}`.trim()||"",sub:Ie!=null&&Ie.add_date?GT(Ie.add_date):Ie?"Just now":"No leads yet"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:j,onChange:X=>{S(X.target.value),F(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:_,onChange:X=>{C(X.target.value),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"",children:"All states"}),Ee.map(X=>a.jsx("option",{value:X,children:X},X))]}),a.jsx("select",{value:`${P}:${T}`,onChange:X=>{const[te,se]=X.target.value.split(":");A(te),L(se)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([X,te,se])=>a.jsx("option",{value:`${X}:${te}`,children:se},`${X}:${te}`))}),a.jsx("select",{value:K,onChange:X=>{V(Number(X.target.value)),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(X=>a.jsxs("option",{value:X,children:[X," / page"]},X))})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(An,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",Ze.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),m?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(We,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):Ze.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(An,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Fh,{children:"Name"}),a.jsx(Fh,{children:"Email"}),a.jsx(Fh,{children:"Phone"}),a.jsx(Fh,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Le.map(X=>{const te=`${X.first_name||""} ${X.last_name||""}`.trim()||"",se=X.mobile||Fe(X)||"";return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Vh,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:te}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]})}),a.jsx(Vh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:X.email||""})}),a.jsx(Vh,{children:a.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:se})}),a.jsx(Vh,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Ht,{onClick:()=>St(X),size:"sm",children:[a.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Ht,{onClick:()=>lt(X),size:"sm",children:[a.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Ht,{onClick:()=>{Se(X),we(!0)},size:"sm",children:[a.jsx(An,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},X.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Le.map((X,te)=>{const se=`${X.first_name||""} ${X.last_name||""}`.trim()||"",Ge=X.mobile||Fe(X)||"";return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[te===0&&a.jsx(Nde,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:se}),a.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:X.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ge})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(Ht,{onClick:()=>St(X),size:"sm",className:"grow sm:grow-0",children:[a.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Ht,{onClick:()=>lt(X),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Ht,{onClick:()=>{Se(X),we(!0)},size:"sm",className:"grow sm:grow-0",children:[a.jsx(An,{className:"h-4 w-4 mr-1"}),"More"]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",X.id,"  ",X.salesforce_id||"No Ext ID"]})]},X.id)})})}),Ze.length>K&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:$e+1}),"",a.jsx("b",{children:Math.min($e+K,Ze.length)})," of ",a.jsx("b",{children:Ze.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Ht,{onClick:()=>F(X=>Math.max(1,X-1)),disabled:M===1,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Me)},(X,te)=>{let se;if(Me<=5||M<=3?se=te+1:M>=Me-2?se=Me-4+te:se=M-2+te,se<1||se>Me)return null;const Ge=M===se;return a.jsx("button",{onClick:()=>F(se),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ge?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:se},se)})}),a.jsxs(Ht,{onClick:()=>F(X=>Math.min(Me,X+1)),disabled:M>=Me,children:["Next",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(Mt,{children:$&&a.jsxs(Hh,{onClose:()=>ee(!1),title:"Create Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(yn,{label:"First name",children:a.jsx("input",{value:Be.first_name,onChange:X=>Ue(te=>({...te,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Last name",children:a.jsx("input",{value:Be.last_name,onChange:X=>Ue(te=>({...te,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Email",children:a.jsx("input",{type:"email",value:Be.email,onChange:X=>Ue(te=>({...te,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Mobile (digits only)",children:a.jsx("input",{value:Be.mobile,onChange:X=>Ue(te=>({...te,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"External ID",children:a.jsx("input",{value:Be.salesforce_id,onChange:X=>Ue(te=>({...te,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Add date (ISO)",children:a.jsx("input",{value:Be.add_date,onChange:X=>Ue(te=>({...te,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),a.jsx(yn,{label:"Custom_0",children:a.jsx("input",{value:Be.custom0,onChange:X=>Ue(te=>({...te,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Custom_1",children:a.jsx("input",{value:Be.custom1,onChange:X=>Ue(te=>({...te,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Ht,{onClick:()=>ee(!1),variant:"subtle",children:"Cancel"}),a.jsx(Ht,{onClick:Sn,disabled:je||!Be.first_name||!Be.last_name||!Be.email||!Be.mobile,variant:"primary",children:je?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):a.jsxs(a.Fragment,{children:[a.jsx(Un,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(Mt,{children:D&&a.jsxs(Hh,{onClose:()=>Y(!1),title:"Edit Lead",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(yn,{label:"First name",children:a.jsx("input",{value:be.first_name,onChange:X=>q(te=>({...te,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Last name",children:a.jsx("input",{value:be.last_name,onChange:X=>q(te=>({...te,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Email",children:a.jsx("input",{type:"email",value:be.email,onChange:X=>q(te=>({...te,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Mobile (digits only)",children:a.jsx("input",{value:be.mobile,onChange:X=>q(te=>({...te,mobile:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"External ID",children:a.jsx("input",{value:be.salesforce_id,onChange:X=>q(te=>({...te,salesforce_id:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Add date (ISO)",children:a.jsx("input",{value:be.add_date,onChange:X=>q(te=>({...te,add_date:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Custom_0",children:a.jsx("input",{value:be.custom0,onChange:X=>q(te=>({...te,custom0:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Custom_1",children:a.jsx("input",{value:be.custom1,onChange:X=>q(te=>({...te,custom1:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Ht,{onClick:()=>Y(!1),variant:"subtle",children:"Cancel"}),a.jsx(Ht,{onClick:wt,disabled:H,variant:"primary",children:H?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(Mt,{children:ce&&a.jsx(Hh,{onClose:()=>Q(!1),title:"Start Phone Call",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsxs("select",{value:ie.assistant_id,onChange:X=>{const te=d.find(se=>String(se.id)===String(X.target.value));G(se=>({...se,assistant_id:X.target.value,vapi_assistant_id:(te==null?void 0:te.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[a.jsx("option",{value:"",children:"Select assistant"}),d.map(X=>a.jsx("option",{value:X.id,children:X.name||`Assistant ${X.id}`},X.id))]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(yn,{label:"Phone Number",children:a.jsx("input",{value:ie.number,onChange:X=>G(te=>({...te,number:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),a.jsx(yn,{label:"Email",children:a.jsx("input",{type:"email",value:ie.email,onChange:X=>G(te=>({...te,email:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"First name",children:a.jsx("input",{value:ie.first_name,onChange:X=>G(te=>({...te,first_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(yn,{label:"Last name",children:a.jsx("input",{value:ie.last_name,onChange:X=>G(te=>({...te,last_name:X.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),a.jsxs("div",{className:"flex justify-end gap-2",children:[a.jsx(Ht,{onClick:()=>Q(!1),variant:"subtle",children:"Cancel"}),a.jsx(Ht,{onClick:Hr,disabled:Z,variant:"primary",children:Z?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):a.jsxs(a.Fragment,{children:[a.jsx(gt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),a.jsx(Mt,{children:z&&a.jsxs(Hh,{onClose:()=>W(null),title:"Delete Lead?",children:[a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:a.jsx(vU,{className:"h-5 w-5"})}),a.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Ht,{onClick:()=>W(null),variant:"subtle",children:"Cancel"}),a.jsxs(Ht,{onClick:Zn,variant:"danger",children:[a.jsx(sa,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),a.jsx(Mt,{children:re&&_e&&a.jsx(Sde,{onClose:()=>we(!1),title:"Lead Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${_e.first_name||""} ${_e.last_name||""}`.trim()||""}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:_e.email||""}),a.jsx("div",{className:"text-xs text-slate-500 break-all",children:_e.mobile||Fe(_e)||""}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",_e.id,"  ",_e.salesforce_id||"No Ext ID"]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Wy,{label:"State",value:_e.state||""}),a.jsx(Wy,{label:"Timezone",value:_e.timezone||""}),a.jsx(Wy,{label:"Added",value:GT(_e.add_date)||""})]}),a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(ac,{label:"First name",value:_e.first_name||""}),a.jsx(ac,{label:"Last name",value:_e.last_name||""}),a.jsx(ac,{label:"Email",value:_e.email||""}),a.jsx(ac,{label:"Mobile",value:_e.mobile||Fe(_e)||""}),a.jsx(ac,{label:"External ID",value:_e.salesforce_id||""})]})]}),l&&l.length>0&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(X=>{var te;return a.jsx(ac,{label:X,value:((te=_e==null?void 0:_e.other_data)==null?void 0:te[X])??""},X)})})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs(Ht,{onClick:()=>St(_e),children:[a.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),a.jsxs(Ht,{onClick:()=>lt(_e),children:[a.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(Ht,{onClick:()=>W(_e.id),variant:"danger",children:[a.jsx(sa,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Ht({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Yy({label:e,value:t,sub:n}){return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),n&&a.jsx("div",{className:"text-sm text-slate-500 mt-1",children:n})]})]})}function Nde(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Fh({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Vh({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function yn({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Wy({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function ac({label:e,value:t}){return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function Hh({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Ht,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Sde({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Ht,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function GT(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function Ii(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const _de=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(!0),[h,x]=g.useState(0),[v,y]=g.useState(""),w=g.useRef(null),{id:j}=kf(),S=5*1024*1024,k="http://localhost:8000",_=()=>localStorage.getItem("token"),C=K=>{K&&K.type==="text/csv"?K.size>S?M("File size exceeds 5MB limit.",!1):t(K):M("Please upload a valid CSV file.",!1)},P=K=>{const V=K.target.files[0];C(V)},A=()=>w.current.click(),T=()=>{const K=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,V=new Blob([K],{type:"text/csv"}),$=window.URL.createObjectURL(V),ee=document.createElement("a");ee.href=$,ee.download="sample_users.csv",ee.click(),window.URL.revokeObjectURL($)},L=async()=>{if(!e)return M("No file selected.",!1);if(!v.trim())return M("Please provide a list name.",!1);const K=_();if(!K)return M("Please log in first.",!1);const V=new FormData;V.append("file",e),V.append("name",v);try{r(!0),x(50);const $=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:V});if(x(100),$.ok)M("CSV file uploaded successfully!",!0),t(null),y(""),w.current&&(w.current.value="");else{const ee=await $.json();throw new Error(ee.detail||`HTTP ${$.status}`)}}catch($){console.error($),M("Upload failed. Please try again.",!1)}finally{r(!1),x(0)}},M=(K,V)=>{d(K),m(V),l(!0)},F=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(2)} KB`:`${(K/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[a.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:a.jsxs("div",{className:"text-center",children:[a.jsx(rM,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),a.jsx("input",{type:"text",placeholder:"Enter list name",value:v,onChange:K=>y(K.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),a.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:P,ref:w,className:"hidden"}),a.jsx("button",{onClick:A,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),a.jsxs("button",{onClick:T,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[a.jsx(nM,{})," Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",F(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:L,disabled:n||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${n||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:n?"Uploading...":"Upload CSV"}),n&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:a.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f?a.jsx(tM,{className:"text-green-500 text-2xl"}):a.jsx(aM,{className:"text-red-500 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:c}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},Xy={},y0="http://localhost:8000",w0=(Xy==null?void 0:Xy.VITE_API_PREFIX)||"/api",La=`${y0}${w0}/campaigns/campaigns`,$a={LIST:La,CREATE:La,DETAIL:e=>`${La}/${e}`,STATS:e=>`${La}/${e}/stats`,SCHEDULE:e=>`${La}/${e}/schedule`,RETRY:e=>`${La}/${e}/retry-policy`,PAUSE:e=>`${La}/${e}/pause`,RESUME:e=>`${La}/${e}/resume`,STOP:e=>`${La}/${e}/stop`,RUN_NOW:e=>`${La}/${e}/run-now`,ICS:e=>`${La}/${e}/calendar.ics`,DELETE:e=>`${La}/${e}`,REFRESH_LEADS:e=>`${La}/${e}/refresh-leads`},Zy={FILES:`${y0}${w0}/files`,ASSISTANTS:`${y0}${w0}/get-assistants`,LEADS:e=>`${y0}${w0}/leads${e?`?file_id=${e}`:""}`};function Br(...e){return e.filter(Boolean).join(" ")}const j0=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function kde(e,t=250){const[n,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function Qy(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function Cde(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function qh(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${n}-${r}-${s}T${l}:${c}`}function Kh(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function Ade(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const n=Math.max(0,t-Date.now()),r=Math.floor(n/1e3),s=Math.floor(r/60),l=r%60;return s>0?`${s}m ${l}s`:`${l}s`}const dr={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},Jy={show:{transition:{staggerChildren:.05}}},YT={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},WT={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},Tde={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},Ede={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Er({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return a.jsx(he.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:Br("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function e1({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Gh({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?a.jsx(Er,{tone:"blue",children:"Scheduled"}):t==="running"?a.jsx(Er,{tone:"green",children:"Running"}):t==="paused"?a.jsx(Er,{tone:"orange",children:"Paused"}):t==="stopped"?a.jsx(Er,{tone:"red",children:"Stopped"}):t==="completed"?a.jsx(Er,{tone:"purple",children:"Completed"}):t==="draft"?a.jsx(Er,{tone:"slate",children:"Draft"}):a.jsx(Er,{tone:"slate",children:j0(e)})}const XL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function ZL(e,t){const n=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const s=Math.round(n/r*100);return Math.min(100,Math.max(0,s))}function QL({active:e=!1}){return e?a.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[a.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),a.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function XT({done:e,total:t,status:n}){const r=ZL(e,t),s=["scheduled","running"].includes(String(n||"").toLowerCase());return a.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[a.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:a.jsx(he.div,{className:Br("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),a.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),a.jsx(QL,{active:s})]})}function Pde({totals:e}){const t=(e==null?void 0:e.total)||0,n=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=d=>t>0?`${d/t*100}%`:"0%";return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[a.jsx(he.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(n)},initial:{width:0},animate:{width:c(n)}}),a.jsx(he.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(n+r)},initial:{width:0},animate:{width:c(n+r)}}),a.jsx(he.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(n+r+s)},initial:{width:0},animate:{width:c(n+r+s)}})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",n]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),a.jsxs("span",{className:"inline-flex items-center gap-1",children:[a.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),a.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[ZL(n,t),"%"]})]})]})}function ZT(){var nt,xt,it,Tt,Dt,Nr,gn,Ct,an,hs,go,Zf,Qf,xu,di,vo,ps,xs,fi,gs;const e=g.useRef(localStorage.getItem("token")||null),[t,n]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState([]),[m,h]=g.useState([]),[x,v]=g.useState([]),[y,w]=g.useState(!1),[j,S]=g.useState(""),k=kde(j,250),[_,C]=g.useState("created_at"),[P,A]=g.useState("desc"),[T,L]=g.useState(1),[M,F]=g.useState(10),[K,V]=g.useState(!1),[$,ee]=g.useState(1),[je,ne]=g.useState(!1),[D,Y]=g.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[H,I]=g.useState(""),[E,R]=g.useState(!1),[z,W]=g.useState(null),[ce,Q]=g.useState(!1),[Z,Ne]=g.useState(null),[re,we]=g.useState(null);g.useEffect(()=>{if(!E||!(z!=null&&z.id))return;Le(z.id),Ie(z.id);const oe=setInterval(()=>{Le(z.id),Ie(z.id),me()},4e3);return()=>clearInterval(oe)},[E,z==null?void 0:z.id]),g.useEffect(()=>{if(!e.current){s(!1),U.error("No auth token found. Please log in.");return}_e()},[]);async function _e(){s(!0);try{await Promise.all([me(),Be(),Ue()])}finally{s(!1)}}async function Se(oe,Oe={}){if(!e.current)throw U.error("No auth token found. Please log in."),new Error("No token");return await fetch(oe,{...Oe,headers:{...Oe.headers||{},Authorization:`Bearer ${e.current}`}})}async function me(){try{const oe=await Se($a.LIST);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Oe=await oe.json();n(Array.isArray(Oe)?Oe:[])}catch(oe){console.error(oe),U.error("Failed to fetch campaigns"),n([])}}async function Be(){try{const oe=await Se(Zy.FILES);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Oe=await oe.json();f(Array.isArray(Oe)?Oe:(Oe==null?void 0:Oe.items)||[])}catch(oe){console.warn("Files fetch failed:",oe.message),f([])}}async function Ue(){try{const oe=await Se(Zy.ASSISTANTS);if(!oe.ok)throw new Error(`HTTP ${oe.status}`);const Oe=await oe.json(),ze=(Array.isArray(Oe)&&Oe||(Oe==null?void 0:Oe.items)||(Oe==null?void 0:Oe.assistants)||(Oe==null?void 0:Oe.data)||[]).filter(Ve=>Ve&&Ve.id!==void 0&&Ve.id!==null);h(ze)}catch(oe){console.warn("Assistants fetch failed:",oe.message),h([])}}async function be(oe){if(!oe){v([]);return}try{w(!0);const Oe=await Se(Zy.LEADS(oe));if(!Oe.ok)throw new Error(`HTTP ${Oe.status}`);const Ke=await Oe.json(),ze=Array.isArray(Ke)?Ke:(Ke==null?void 0:Ke.leads)||(Ke==null?void 0:Ke.items)||[];v(ze)}catch(Oe){console.warn("Leads fetch failed:",Oe.message),v([])}finally{w(!1)}}async function q(){c(!0);try{await me()}finally{c(!1)}}const ie=g.useMemo(()=>{const oe=k.trim().toLowerCase(),Oe=t.filter(ze=>oe?[(ze.name||"").toLowerCase(),(ze.status||"").toLowerCase(),String(ze.id||""),String(ze.file_id||""),String(ze.assistant_id||"")].some(vt=>vt.includes(oe)):!0),Ke=P==="asc"?1:-1;return Oe.sort((ze,Ve)=>{let vt,la;switch(_){case"name":vt=(ze.name||"").toLowerCase(),la=(Ve.name||"").toLowerCase();break;case"status":vt=(ze.status||"").toLowerCase(),la=(Ve.status||"").toLowerCase();break;case"calls_per_minute":vt=ze.calls_per_minute||0,la=Ve.calls_per_minute||0;break;case"created_at":default:vt=new Date(ze.created_at||0).getTime(),la=new Date(Ve.created_at||0).getTime()}return vt<la?-1*Ke:vt>la?1*Ke:0}),Oe},[t,k,_,P]),G=ie.length,xe=Math.max(1,Math.ceil(G/M));g.useEffect(()=>{T>xe&&L(xe)},[T,xe]);const ke=(T-1)*M,Re=ke+M,Ee=ie.slice(ke,Re),et=g.useMemo(()=>{const oe=ie.length,Oe=ie.filter(ze=>(ze.status||"").toLowerCase()==="running").length,Ke=ie.filter(ze=>(ze.status||"").toLowerCase()==="paused").length;return{total:oe,running:Oe,paused:Ke}},[ie]);function Ze(oe){const{name:Oe,value:Ke,type:ze,checked:Ve}=oe.target;Y(vt=>{const la={...vt,[Oe]:ze==="checkbox"?Ve:Ke};if(Oe==="file_id"){const gu=Number(Ke)||"";gu?be(gu):v([]),la.include_lead_ids=[],la.exclude_lead_ids=[]}return Oe==="selection_mode"&&(la.include_lead_ids=[],la.exclude_lead_ids=[]),la})}function ye(oe){Y(Oe=>{const ze=Oe.days_of_week.includes(oe)?Oe.days_of_week.filter(Ve=>Ve!==oe):[...Oe.days_of_week,oe];return ze.sort((Ve,vt)=>Ve-vt),{...Oe,days_of_week:ze}})}async function Me(){var Oe,Ke;if(!D.name||!D.file_id||!D.assistant_id){U.error("Name, File and Assistant are required.");return}if(D.selection_mode!=="ALL"&&D.file_id&&x.length===0){U.error("No leads available for the selected file.");return}const oe={name:String(D.name).trim(),file_id:Number(D.file_id),assistant_id:Number(D.assistant_id),selection_mode:D.selection_mode,include_lead_ids:D.selection_mode==="ONLY"&&((Oe=D.include_lead_ids)!=null&&Oe.length)?D.include_lead_ids:null,exclude_lead_ids:D.selection_mode==="SKIP"&&((Ke=D.exclude_lead_ids)!=null&&Ke.length)?D.exclude_lead_ids:null,timezone:D.timezone||"America/Los_Angeles",days_of_week:D.days_of_week,daily_start:D.daily_start||"09:00",daily_end:D.daily_end||"18:00",start_at:Kh(D.start_at),end_at:Kh(D.end_at),calls_per_minute:Number(D.calls_per_minute)||10,parallel_calls:Number(D.parallel_calls)||2,retry_on_busy:!!D.retry_on_busy,busy_retry_delay_minutes:Number(D.busy_retry_delay_minutes)||15,max_attempts:Number(D.max_attempts)||3};try{ne(!0);const ze=await Se($a.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),Ve=await ze.json().catch(()=>({}));if(!ze.ok||(Ve==null?void 0:Ve.success)===!1)throw new Error((Ve==null?void 0:Ve.detail)||`HTTP ${ze.status}`);U.success((Ve==null?void 0:Ve.detail)||"Campaign created."),V(!1),ee(1),Y(vt=>({...vt,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await me()}catch(ze){console.error(ze),U.error((ze==null?void 0:ze.message)||"Create failed")}finally{ne(!1)}}async function $e(oe){W(oe),R(!0),await Promise.all([Le(oe.id),Ie(oe.id)])}async function Le(oe){if(oe)try{Q(!0);const Oe=await Se($a.DETAIL(oe));if(!Oe.ok)throw new Error(`HTTP ${Oe.status}`);const Ke=await Oe.json();Ne(Ke)}catch(Oe){console.error(Oe),U.error("Failed to load campaign details"),Ne(null)}finally{Q(!1)}}async function Ie(oe){if(oe)try{const Oe=await Se($a.STATS(oe));if(!Oe.ok)throw new Error(`HTTP ${Oe.status}`);const Ke=await Oe.json();we(Ke)}catch(Oe){console.error(Oe)}}async function lt(oe,Oe,Ke){try{const ze=await Se(oe(Oe),{method:"POST"}),Ve=await ze.json().catch(()=>({}));if(!ze.ok||(Ve==null?void 0:Ve.success)===!1)throw new Error((Ve==null?void 0:Ve.detail)||`HTTP ${ze.status}`);U.success((Ve==null?void 0:Ve.detail)||Ke),await me(),z&&z.id===Oe&&(await Le(Oe),await Ie(Oe))}catch(ze){console.error(ze),U.error((ze==null?void 0:ze.message)||"Action failed")}}const wt=oe=>lt($a.PAUSE,oe,"Paused"),Sn=oe=>lt($a.RESUME,oe,"Resumed"),Zn=oe=>lt($a.STOP,oe,"Stopped"),sn=oe=>lt($a.REFRESH_LEADS,oe,"Leads synced");async function Pe(oe){if(confirm("Delete this campaign and its progress rows?"))try{const Oe=await Se($a.DELETE(oe),{method:"DELETE"}),Ke=await Oe.json().catch(()=>({}));if(!Oe.ok||(Ke==null?void 0:Ke.success)===!1)throw new Error((Ke==null?void 0:Ke.detail)||`HTTP ${Oe.status}`);U.success((Ke==null?void 0:Ke.detail)||"Deleted"),R(!1),W(null),await me()}catch(Oe){console.error(Oe),U.error((Oe==null?void 0:Oe.message)||"Delete failed")}}async function Fe(oe,Oe){try{const Ke=await Se($a.RUN_NOW(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(Oe)||5})}),ze=await Ke.json().catch(()=>({}));if(!Ke.ok||(ze==null?void 0:ze.success)===!1)throw new Error((ze==null?void 0:ze.detail)||`HTTP ${Ke.status}`);U.success((ze==null?void 0:ze.detail)||"Triggered."),await Ie(oe)}catch(Ke){console.error(Ke),U.error((Ke==null?void 0:Ke.message)||"Run-now failed")}}async function St(oe,Oe){var ze;const Ke={timezone:Oe.timezone||void 0,days_of_week:(ze=Oe.days_of_week)!=null&&ze.length?Oe.days_of_week:void 0,daily_start:Oe.daily_start||void 0,daily_end:Oe.daily_end||void 0,start_at:Kh(Oe.start_at),end_at:Kh(Oe.end_at)};try{const Ve=await Se($a.SCHEDULE(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)}),vt=await Ve.json().catch(()=>({}));if(!Ve.ok||(vt==null?void 0:vt.success)===!1)throw new Error((vt==null?void 0:vt.detail)||`HTTP ${Ve.status}`);U.success((vt==null?void 0:vt.detail)||"Schedule updated"),await me(),await Le(oe),await Ie(oe)}catch(Ve){console.error(Ve),U.error((Ve==null?void 0:Ve.message)||"Update failed")}}async function Hr(oe,Oe){const Ke={retry_on_busy:!!Oe.retry_on_busy,busy_retry_delay_minutes:Number(Oe.busy_retry_delay_minutes)||15,max_attempts:Number(Oe.max_attempts)||3};try{const ze=await Se($a.RETRY(oe),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ke)}),Ve=await ze.json().catch(()=>({}));if(!ze.ok||(Ve==null?void 0:Ve.success)===!1)throw new Error((Ve==null?void 0:Ve.detail)||`HTTP ${ze.status}`);U.success((Ve==null?void 0:Ve.detail)||"Retry policy updated"),await Le(oe),await Ie(oe)}catch(ze){console.error(ze),U.error((ze==null?void 0:ze.message)||"Update failed")}}async function de(oe,Oe="campaign"){try{const Ke=await Se($a.ICS(oe));if(!Ke.ok)throw new Error(`HTTP ${Ke.status}`);const ze=await Ke.blob(),Ve=URL.createObjectURL(ze),vt=document.createElement("a");vt.href=Ve,vt.download=`${Oe||"campaign"}.ics`,document.body.appendChild(vt),vt.click(),vt.remove(),URL.revokeObjectURL(Ve)}catch(Ke){console.error(Ke),U.error("ICS download failed")}}const X=()=>{V(!0),ee(1)},te=()=>{V(!1),ee(1),Y(oe=>({...oe,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},se=()=>{ee(oe=>Math.min(6,oe+1))},Ge=()=>{ee(oe=>Math.max(1,oe-1))};return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[a.jsxs(he.div,{initial:"hidden",animate:"show",variants:dr,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),a.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[a.jsx(zi,{onClick:q,disabled:l,icon:l?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):a.jsx(We,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),a.jsxs(Gi,{onClick:X,icon:a.jsx(is,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),a.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),a.jsxs(he.div,{initial:"hidden",animate:"show",variants:WT,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:j,onChange:oe=>{S(oe.target.value),L(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:G})]}),a.jsx("select",{value:M,onChange:oe=>{F(Number(oe.target.value)),L(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(oe=>a.jsxs("option",{value:oe,children:[oe," / page"]},oe))})]})]}),a.jsxs(he.div,{initial:"hidden",animate:"show",variants:Jy,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[a.jsx(he.div,{variants:dr,children:a.jsx(e1,{label:"Total Campaigns",value:et.total,Icon:da,tone:"blue"})}),a.jsx(he.div,{variants:dr,children:a.jsx(e1,{label:"Running",value:et.running,Icon:Un,tone:"cyan"})}),a.jsx(he.div,{variants:dr,className:"sm:col-span-2 lg:col-span-1",children:a.jsx(e1,{label:"Paused",value:et.paused,Icon:xr,tone:"blue"})})]}),a.jsx(he.div,{initial:"hidden",animate:"show",variants:WT,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("div",{className:"min-w-full",children:[a.jsx("div",{className:"block sm:hidden",children:r?a.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((oe,Oe)=>a.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},Oe))}):a.jsx("div",{className:"divide-y divide-slate-200",children:Ee.map((oe,Oe)=>{var Ve,vt;const Ke=((Ve=oe.counts)==null?void 0:Ve.total)||0,ze=((vt=oe.counts)==null?void 0:vt.completed_or_failed)||0;return a.jsxs(he.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Oe*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>$e(oe),children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:j0(oe.name)}),a.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",oe.id]})]}),a.jsx(Gh,{status:oe.status})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[a.jsx("span",{children:Qy(oe.created_at)}),a.jsxs("span",{children:[Ke," leads"]})]}),a.jsx(XT,{done:ze,total:Ke,status:oe.status})]},oe.id)})})}),a.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:a.jsxs("tr",{children:[a.jsx(a1,{sortKey:"name",sortBy:_,sortDir:P,onSort:oe=>n1(oe,C,A),children:"Name"}),a.jsx(a1,{sortKey:"status",sortBy:_,sortDir:P,onSort:oe=>n1(oe,C,A),children:"Status"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),a.jsx(a1,{sortKey:"calls_per_minute",sortBy:_,sortDir:P,onSort:oe=>n1(oe,C,A),children:"Pacing"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),a.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),a.jsx("th",{})]})}),a.jsx("tbody",{children:r?a.jsx(Lde,{rows:M,cols:9}):Ee.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ee.map(oe=>{var ze,Ve;const Oe=((ze=oe.counts)==null?void 0:ze.total)||0,Ke=((Ve=oe.counts)==null?void 0:Ve.completed_or_failed)||0;return a.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:a.jsx("button",{onClick:()=>$e(oe),className:"group/cell flex items-center gap-2 text-left",children:j0(oe.name)})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(Gh,{status:oe.status})}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.file_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.assistant_id}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:oe.calls_per_minute}),a.jsx("td",{className:"px-5 py-3 text-slate-600",children:Qy(oe.created_at)}),a.jsx("td",{className:"px-5 py-3 text-slate-700",children:Oe}),a.jsx("td",{className:"px-5 py-3",children:a.jsx(XT,{done:Ke,total:Oe,status:oe.status})}),a.jsx("td",{className:"px-5 py-3 text-right",children:a.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[a.jsx(zi,{onClick:()=>de(oe.id,oe==null?void 0:oe.name),icon:a.jsx(rf,{className:"h-4 w-4"}),children:"ICS"}),a.jsx(zi,{onClick:()=>$e(oe),icon:a.jsx(An,{className:"h-4 w-4"}),children:"Details"})]})})]},oe.id)})})]})]})}),a.jsxs(he.div,{initial:"hidden",animate:"show",variants:dr,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",G===0?0:(T-1)*M+1,"",Math.min(T*M,G)," of ",G]}),a.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[a.jsxs(wp,{disabled:T<=1,onClick:()=>L(T-1),children:[a.jsx(Ca,{className:"h-3 w-3 sm:h-4 sm:w-4"}),a.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),a.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[T," of ",xe]}),a.jsxs(wp,{disabled:T>=xe,onClick:()=>L(T+1),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next"}),a.jsx(Tn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),a.jsx(Mt,{children:K&&a.jsxs(a.Fragment,{children:[a.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:YT,initial:"hidden",animate:"show",exit:"exit",onClick:te}),a.jsx(he.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:Tde,initial:"hidden",animate:"show",exit:"exit",children:a.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:a.jsx(is,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",$," of 6"]})]})]}),a.jsx("button",{onClick:te,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:a.jsx(pa,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),a.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[a.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(oe=>a.jsx(he.div,{className:Br("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",oe<=$?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:oe<=$?1:0},transition:{duration:.3,delay:oe*.05}},oe))}),a.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[a.jsx("span",{className:"hidden sm:inline",children:"Details"}),a.jsx("span",{className:"hidden sm:inline",children:"Files"}),a.jsx("span",{className:"hidden sm:inline",children:"Leads"}),a.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),a.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),a.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto",children:a.jsx(Mt,{mode:"wait",children:a.jsxs(he.div,{variants:Ede,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[$===1&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),a.jsx("input",{value:D.name,onChange:Ze,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),a.jsxs("select",{value:D.assistant_id,onChange:Ze,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select assistant"}),m.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),a.jsx("textarea",{value:D.description,onChange:Ze,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),$===2&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),a.jsxs("select",{value:D.file_id,onChange:Ze,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"",children:"Select file"}),d.map(oe=>a.jsx("option",{value:oe.id,children:oe.name},oe.id))]})]})]}),$===3&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),a.jsxs("select",{value:D.selection_mode,onChange:Ze,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[a.jsx("option",{value:"ALL",children:"All Leads"}),a.jsx("option",{value:"ONLY",children:"Only These Leads"}),a.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),D.selection_mode!=="ALL"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),a.jsx("input",{value:H,onChange:oe=>I(oe.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),y?a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[a.jsx(Xn,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):a.jsx(Rde,{leads:x,mode:D.selection_mode,search:H,selectedIds:D.selection_mode==="ONLY"?D.include_lead_ids:D.exclude_lead_ids,onChange:oe=>{D.selection_mode==="ONLY"?Y(Oe=>({...Oe,include_lead_ids:oe})):Y(Oe=>({...Oe,exclude_lead_ids:oe}))}})]})]}),$===4&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:D.timezone,onChange:Ze,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:XL.map(oe=>a.jsx("option",{value:oe.value,children:oe.label},oe.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(oe=>a.jsx("button",{type:"button",onClick:()=>ye(oe),className:Br("px-3 py-1.5 rounded-xl border text-sm",D.days_of_week.includes(oe)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][oe]},oe))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Na,{label:"Daily start",name:"daily_start",value:D.daily_start,onChange:Ze,placeholder:"HH:MM"}),a.jsx(Na,{label:"Daily end",name:"daily_end",value:D.daily_end,onChange:Ze,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Na,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:D.start_at,onChange:Ze}),a.jsx(Na,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:D.end_at,onChange:Ze})]})]})]}),$===5&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsx(Na,{label:"Calls per minute",name:"calls_per_minute",value:D.calls_per_minute,onChange:Ze}),a.jsx(Na,{label:"Parallel calls",name:"parallel_calls",value:D.parallel_calls,onChange:Ze}),a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!D.retry_on_busy,onChange:Ze}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(Na,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:D.busy_retry_delay_minutes,onChange:Ze}),a.jsx(Na,{label:"Max attempts",name:"max_attempts",value:D.max_attempts,onChange:Ze})]})]}),$===6&&a.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),a.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),a.jsx("div",{className:"text-sm text-slate-600",children:D.name||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),a.jsx("div",{className:"text-sm text-slate-600",children:((nt=d.find(oe=>String(oe.id)===String(D.file_id)))==null?void 0:nt.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),a.jsx("div",{className:"text-sm text-slate-600",children:((xt=m.find(oe=>String(oe.id)===String(D.assistant_id)))==null?void 0:xt.name)||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[t1(D.days_of_week),"  ",D.daily_start,"",D.daily_end," (",D.timezone,")"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),a.jsxs("div",{className:"text-sm text-slate-600",children:[D.calls_per_minute," CPM  ",D.parallel_calls," parallel"]})]})]})]})]},$)})}),a.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[a.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:$>1&&a.jsxs(zi,{onClick:Ge,icon:a.jsx(Ca,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Previous"}),a.jsx("span",{className:"sm:hidden",children:"Back"})]})}),a.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:$<6?a.jsxs(Gi,{onClick:se,icon:a.jsx(Tn,{className:"h-4 w-4"}),children:[a.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),a.jsx("span",{className:"sm:hidden",children:"Next"})]}):a.jsx(Gi,{onClick:Me,disabled:je,icon:je?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):a.jsx(k0,{className:"h-4 w-4"}),children:je?"Creating...":"Create Campaign"})})]})]})})]})}),a.jsx(Mt,{children:E&&a.jsxs(a.Fragment,{children:[a.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:YT,initial:"hidden",animate:"show",exit:"exit",onClick:()=>R(!1)}),a.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[a.jsx("button",{onClick:()=>R(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:a.jsx(pa,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",z==null?void 0:z.id]}),a.jsx("p",{className:"text-xs text-slate-600 truncate",children:j0(z==null?void 0:z.name)})]})]}),a.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:a.jsx(zi,{onClick:()=>de(z.id,z==null?void 0:z.name),icon:a.jsx(rf,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),a.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Gh,{status:(re==null?void 0:re.status)||(Z==null?void 0:Z.status)||(z==null?void 0:z.status)}),a.jsx(QL,{active:!!(re!=null&&re.active_now)}),re!=null&&re.active_now?a.jsx(Er,{tone:"green",children:"Active now"}):a.jsx(Er,{tone:"amber",children:"Idle"})]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(cB,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Local:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:Qy((it=re==null?void 0:re.now)==null?void 0:it.local)||""})]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Window: "}),a.jsxs("span",{className:"font-medium text-slate-800",children:[t1(((Tt=re==null?void 0:re.window)==null?void 0:Tt.days_of_week)??(Z==null?void 0:Z.days_of_week)??(z==null?void 0:z.days_of_week))," "," ",((Dt=re==null?void 0:re.window)==null?void 0:Dt.daily_start)||(Z==null?void 0:Z.daily_start)||(z==null?void 0:z.daily_start)||"09:00","",((Nr=re==null?void 0:re.window)==null?void 0:Nr.daily_end)||(Z==null?void 0:Z.daily_end)||(z==null?void 0:z.daily_end)||"18:00"," ","(",(re==null?void 0:re.timezone)||(Z==null?void 0:Z.timezone)||(z==null?void 0:z.timezone)||"Local",")"]})]}),a.jsxs("div",{className:"truncate",children:[a.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",a.jsx("span",{className:"font-medium text-slate-800",children:re!=null&&re.next_tick_at?`${Cde(re.next_tick_at)}  in ${Ade(re.next_tick_at)}`:""})]})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Pde,{totals:(re==null?void 0:re.totals)||(Z==null?void 0:Z.totals)})})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[a.jsxs(he.div,{initial:"hidden",animate:"show",variants:Jy,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[a.jsxs(he.div,{variants:dr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),a.jsx(Gh,{status:(re==null?void 0:re.status)||(Z==null?void 0:Z.status)||(z==null?void 0:z.status)})]}),a.jsxs(he.div,{variants:dr,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),a.jsxs("div",{className:"text-sm text-slate-800",children:[a.jsx("div",{className:"truncate",children:t1(((gn=re==null?void 0:re.window)==null?void 0:gn.days_of_week)??(Z==null?void 0:Z.days_of_week)??(z==null?void 0:z.days_of_week))}),a.jsx("div",{className:"text-xs sm:text-sm",children:(((Ct=re==null?void 0:re.window)==null?void 0:Ct.daily_start)||(Z==null?void 0:Z.daily_start)||(z==null?void 0:z.daily_start)||"09:00")+""+(((an=re==null?void 0:re.window)==null?void 0:an.daily_end)||(Z==null?void 0:Z.daily_end)||(z==null?void 0:z.daily_end)||"18:00")}),a.jsx("div",{className:"text-xs text-slate-500 truncate",children:(re==null?void 0:re.timezone)||(Z==null?void 0:Z.timezone)||(z==null?void 0:z.timezone)||"Local"})]})]}),a.jsxs(he.div,{variants:dr,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[a.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),a.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[a.jsxs("div",{children:["Total: ",((hs=re==null?void 0:re.totals)==null?void 0:hs.total)??((go=Z==null?void 0:Z.totals)==null?void 0:go.total)??((Zf=z==null?void 0:z.counts)==null?void 0:Zf.total)??""]}),a.jsxs("div",{children:["Done: ",((Qf=re==null?void 0:re.totals)==null?void 0:Qf.done)??((xu=Z==null?void 0:Z.totals)==null?void 0:xu.done)??((di=z==null?void 0:z.counts)==null?void 0:di.completed_or_failed)??""]}),a.jsxs("div",{children:["Calling: ",((vo=re==null?void 0:re.totals)==null?void 0:vo.calling)??""]}),a.jsxs("div",{children:["Retry: ",((ps=re==null?void 0:re.totals)==null?void 0:ps.retry)??""]})]})]})]}),a.jsxs(he.div,{initial:"hidden",animate:"show",variants:dr,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((re==null?void 0:re.status)||(Z==null?void 0:Z.status)||(z==null?void 0:z.status)).toLowerCase()==="paused"?a.jsx(Gi,{onClick:()=>Sn(z.id),icon:a.jsx(Ef,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):a.jsx(Gi,{onClick:()=>wt(z.id),icon:a.jsx(ZB,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),a.jsx(zi,{onClick:()=>Zn(z.id),icon:a.jsx(Dc,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),a.jsx(zi,{onClick:()=>sn(z.id),icon:a.jsx(We,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),a.jsx(zi,{onClick:()=>Pe(z.id),icon:a.jsx(sa,{className:"h-4 w-4"}),children:a.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),a.jsxs(he.div,{initial:"hidden",animate:"show",variants:Jy,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[a.jsx(he.div,{variants:dr,children:a.jsx(Mde,{details:re!=null&&re.window?{...Z,...re,days_of_week:(xs=re.window)==null?void 0:xs.days_of_week,daily_start:(fi=re.window)==null?void 0:fi.daily_start,daily_end:(gs=re.window)==null?void 0:gs.daily_end,timezone:re.timezone}:Z,onSubmit:oe=>St(z.id,oe),loading:ce})}),a.jsx(he.div,{variants:dr,children:a.jsx(Dde,{details:Z,onSubmit:oe=>Hr(z.id,oe),loading:ce})})]}),a.jsx(he.div,{initial:"hidden",animate:"show",variants:dr,children:a.jsx(Ode,{onRun:oe=>Fe(z.id,oe)})})]})]})]})})]})}function Ode({onRun:e}){const[t,n]=g.useState(5);return a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[a.jsx(nj,{className:"h-4 w-4"})," Run Now"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>n(Number(r.target.value)||5)}),a.jsx(Gi,{onClick:()=>e(t),icon:a.jsx(Ef,{className:"h-4 w-4"}),children:"Trigger"})]})]}),a.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function Mde({details:e,onSubmit:t,loading:n}){const[r,s]=g.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:qh(e==null?void 0:e.start_at),end_at:qh(e==null?void 0:e.end_at)});g.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:qh(e==null?void 0:e.start_at),end_at:qh(e==null?void 0:e.end_at)})},[e]);function l(d){const{name:f,value:m}=d.target;s(h=>({...h,[f]:m}))}function c(d){s(f=>{const h=f.days_of_week.includes(d)?f.days_of_week.filter(x=>x!==d):[...f.days_of_week,d];return h.sort((x,v)=>x-v),{...f,days_of_week:h}})}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(oP,{className:"h-4 w-4"})," Schedule"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),a.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:XL.map(d=>a.jsx("option",{value:d.value,children:d.label},d.value))})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(d=>a.jsx("button",{type:"button",onClick:()=>c(d),className:Br("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(d)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][d]},d))})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Na,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),a.jsx(Na,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(Na,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),a.jsx(Na,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Gi,{onClick:()=>t(r),disabled:n,children:"Save Schedule"})})]})]})}function Dde({details:e,onSubmit:t,loading:n}){const[r,s]=g.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});g.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:d,value:f,type:m,checked:h}=c.target;s(x=>({...x,[d]:m==="checkbox"?h:f}))}return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[a.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[a.jsx(nj,{className:"h-4 w-4"})," Retry Policy"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[a.jsxs("label",{className:"inline-flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),a.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),a.jsx(Na,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),a.jsx(Na,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),a.jsx("div",{className:"flex justify-end",children:a.jsx(Gi,{onClick:()=>t(r),disabled:n,children:"Save Retry Policy"})})]})]})}function Rde({leads:e,mode:t,search:n,selectedIds:r,onChange:s}){const[l,c]=g.useState(1),d=12,f=g.useMemo(()=>{const w=(n||"").toLowerCase().trim();return w?e.filter(j=>`${j.first_name||""} ${j.last_name||""}`.toLowerCase().includes(w)||(j.email||"").toLowerCase().includes(w)||(j.mobile||"").toLowerCase().includes(w)):e},[e,n]),m=Math.max(1,Math.ceil(f.length/d));g.useEffect(()=>{l>m&&c(m)},[l,m]);const h=(l-1)*d,x=h+d,v=f.slice(h,x);function y(w){const j=r.includes(w);s(j?r.filter(S=>S!==w):[...r,w])}return a.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[a.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:v.length===0?a.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):v.map(w=>{const j=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unknown";return a.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r.includes(w.id),onChange:()=>y(w.id)}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-medium text-slate-900 text-sm",children:j}),a.jsx("div",{className:"text-xs text-slate-600 break-all",children:(w.email||"")+"  "+(w.mobile||"")})]}),w.dnc?a.jsx(Er,{tone:"red",children:"DNC"}):a.jsx(Er,{tone:"green",children:"OK"})]},w.id)})}),f.length>d&&a.jsxs("div",{className:"flex items-center justify-between p-2",children:[a.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(x,f.length)," of ",f.length]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(wp,{disabled:l<=1,onClick:()=>c(w=>Math.max(1,w-1)),children:[a.jsx(Ca,{className:"h-3.5 w-3.5"})," Prev"]}),a.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",m]}),a.jsxs(wp,{disabled:l>=m,onClick:()=>c(w=>Math.min(m,w+1)),children:["Next ",a.jsx(Tn,{className:"h-3.5 w-3.5"})]})]})]}),a.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",a.jsx("strong",{children:t}),"  Selected: ",a.jsx("strong",{children:r.length})]})]})}function t1(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],n=new Set(Array.isArray(e)?e:[]);return n.size===5&&[0,1,2,3,4].every(r=>n.has(r))?"MonFri":n.size===7?"Every day":Array.from(n).sort((r,s)=>r-s).map(r=>t[r]||"?").join(", ")}function n1(e,t,n){t(r=>r===e?(n(s=>s==="asc"?"desc":"asc"),r):(n(e==="created_at"?"desc":"asc"),e))}function Gi({children:e,onClick:t,disabled:n,icon:r,type:s="button"}){return a.jsxs(he.button,{whileHover:n?void 0:{scale:1.02},whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:Br("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function zi({children:e,onClick:t,icon:n,type:r="button",disabled:s}){return a.jsxs(he.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:t,disabled:s,className:Br("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function wp({children:e,disabled:t,onClick:n}){return a.jsx(he.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:Br("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function a1({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:s}){const l=n===t;return a.jsx("th",{className:Br("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:Br("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function Lde({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Na({label:e,name:t,value:n,onChange:r,type:s="text",placeholder:l,className:c}){return a.jsxs("label",{className:Br("block",c),children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:s,name:t,value:n??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const r1={};var Ec={};const Xr=typeof import.meta<"u"&&"http://localhost:8000"||typeof process<"u"&&(Ec==null?void 0:Ec.NEXT_PUBLIC_API_URL)||"http://localhost:8000",Zr=typeof import.meta<"u"&&(r1==null?void 0:r1.VITE_API_PREFIX)||typeof process<"u"&&(Ec==null?void 0:Ec.NEXT_PUBLIC_API_PREFIX)||"/api",Yh=typeof window<"u"?window.location.origin:"",$de="/integrations",s1=["hubspot","ghl","monday"],Qr={PROVIDERS:`${Xr}${Zr}/crm/providers`,ACCOUNTS:`${Xr}${Zr}/crm/accounts`,CONNECT:e=>`${Xr}${Zr}/crm/connect/${e}`,DISCONNECT:e=>`${Xr}${Zr}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${Xr}${Zr}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${Xr}${Zr}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${Xr}${Zr}/crm/monday/boards`,MONDAY_GET_BOARD:`${Xr}${Zr}/crm/monday/board`,MONDAY_SET_BOARD:`${Xr}${Zr}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${Xr}${Zr}/crm/monday/board`},Ide="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Hw(...e){return e.filter(Boolean).join(" ")}function zde(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function ca({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Bde({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Ude({rows:e=6,cols:t=5}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-4 py-4",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Fde({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(ca,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function qw({size:e=24}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[a.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),a.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function Vde({size:e=24}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[a.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),a.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),a.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function Hde({size:e=24}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[a.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),a.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),a.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const rc={hubspot:{label:"HubSpot",Mark:qw},ghl:{label:"GHL",Mark:Vde},monday:{label:"monday.com",Mark:Hde}};function Wh({label:e,value:t,Icon:n,tone:r="blue",valueClassName:s=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:Hw("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function QT({name:e="",size:t=38}){const n=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:a.jsx("span",{style:{fontSize:t<40?12:13},children:n||"?"})})}function qde(){var Ee,et,Ze;const e=g.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,n]=g.useState([]),[r,s]=g.useState([]),[l,c]=g.useState(!0),[d,f]=g.useState(!1),[m,h]=g.useState("hubspot"),[x,v]=g.useState(25),[y,w]=g.useState([]),[j,S]=g.useState(null),[k,_]=g.useState({}),[C,P]=g.useState(""),[A,T]=g.useState(!1),[L,M]=g.useState(!1),[F,K]=g.useState(!1),[V,$]=g.useState([]),[ee,je]=g.useState(""),[ne,D]=g.useState(null),[Y,H]=g.useState(null),[I,E]=g.useState(null),R=g.useMemo(()=>{const ye={};for(const Me of r)ye[Me.crm]=Me;return ye},[r]),z=!!R[m],W=R[m],ce=!!R.monday,Q=ce&&I&&typeof I.board_id<"u"&&I.board_id!==null,Z=g.useCallback(async(ye,Me={})=>{if(!e.current)throw new Error("No token");const $e={Accept:"application/json",...Me.headers||{},Authorization:`Bearer ${e.current}`};return Me.body&&!$e["Content-Type"]&&($e["Content-Type"]="application/json"),await fetch(ye,{...Me,headers:$e})},[]),Ne=g.useCallback(async()=>{try{const Me=await(await Z(Qr.PROVIDERS)).json(),Le=(Array.isArray(Me)?Me:[]).filter(Ie=>s1.includes(Ie==null?void 0:Ie.name));n(Le),!Le.find(Ie=>Ie.name===m)&&Le[0]&&h(Le[0].name)}catch(ye){console.error(ye),n([]),U.error("Failed to fetch providers")}},[Z,m]),re=g.useCallback(async()=>{var ye;try{const $e=await(await Z(Qr.ACCOUNTS)).json(),Le=Array.isArray($e)?$e:[];s(Le.filter(lt=>s1.includes(lt==null?void 0:lt.crm)));const Ie=Le.find(lt=>lt.crm==="monday");if((ye=Ie==null?void 0:Ie.metadata)!=null&&ye.monday){const lt=Ie.metadata.monday;lt.board_id?(E({board_id:lt.board_id,board_name:lt.board_name}),D(lt.board_id),H(lt.board_name||null)):E({board_id:null,board_name:null})}else Ie||E(null)}catch(Me){console.error(Me),s([]),U.error("Failed to fetch accounts")}},[Z]);async function we(){var ye;if(ce)try{const $e=await(await Z(Qr.MONDAY_GET_BOARD)).json(),Le=($e==null?void 0:$e.selected)??null,Ie=((ye=$e==null?void 0:$e.meta)==null?void 0:ye.board_name)??null;E(Le?{board_id:Le,board_name:Ie}:{board_id:null,board_name:null}),Le&&(D(Le),H(Ie))}catch(Me){console.error("Fetch selected board failed",Me)}}g.useEffect(()=>{(async()=>{if(!e.current){U.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([Ne(),re()])}finally{c(!1)}})()},[Ne,re]),g.useEffect(()=>{const ye=new URLSearchParams(window.location.search),Me=ye.get("status"),$e=ye.get("crm");if(Me&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Me,crm:$e},Yh)}catch{}window.close()}},[]),g.useEffect(()=>{function ye(Me){var Le;if(Me.origin!==Yh)return;const $e=Me.data||{};if($e.type==="crm-oauth"){const Ie=$e.crm||m;$e.status==="success"?(U.success(`${(((Le=rc[Ie])==null?void 0:Le.label)||Ie).toUpperCase()} connected`),Ie==="monday"?re().then(we):re()):(U.error(`OAuth error: ${$e.status||"unknown"}`),re()),f(!1)}}return window.addEventListener("message",ye),()=>window.removeEventListener("message",ye)},[re,m]),g.useEffect(()=>{m==="monday"&&ce&&we()},[m,ce]);async function _e(ye){try{f(!0);const Me={redirect_to:`${Yh}${$de}`},$e=await Z(Qr.CONNECT(ye),{method:"POST",body:JSON.stringify(Me)}),Le=await $e.json();if(!$e.ok||!(Le!=null&&Le.auth_url))throw new Error((Le==null?void 0:Le.detail)||"Failed to start OAuth");const Ie=Le.auth_url,lt=680,wt=760,Sn=window.screenX+Math.max(0,(window.outerWidth-lt)/2),Zn=window.screenY+Math.max(0,(window.outerHeight-wt)/2),sn=window.open(Ie,"crm-oauth",`width=${lt},height=${wt},left=${Sn},top=${Zn}`);if(!sn){window.location.href=Ie;return}const Pe=Date.now(),Fe=setInterval(async()=>{(sn.closed||Date.now()-Pe>12e4)&&(clearInterval(Fe),await re(),f(!1))},2e3)}catch(Me){console.error(Me),U.error((Me==null?void 0:Me.message)||"OAuth failed to start"),f(!1)}}async function Se(ye){try{const Me=await Z(Qr.ENSURE_FRESH(ye),{method:"POST"}),$e=await Me.json().catch(()=>({}));if(!Me.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${Me.status}`);U.success("Token refreshed"),await re()}catch(Me){console.error(Me),U.error((Me==null?void 0:Me.message)||"Refresh failed")}}async function me(ye){var Me;if(confirm(`Disconnect ${((Me=rc[ye])==null?void 0:Me.label)||ye}?`))try{const $e=await Z(Qr.DISCONNECT(ye),{method:"DELETE"}),Le=await $e.json().catch(()=>({}));if(!$e.ok||(Le==null?void 0:Le.success)===!1)throw new Error((Le==null?void 0:Le.detail)||`HTTP ${$e.status}`);U.success((Le==null?void 0:Le.message)||"Disconnected"),await re(),ye==="monday"&&(E(null),$([]),D(null),H(null)),ye===m&&(w([]),S(null),_({}))}catch($e){console.error($e),U.error(($e==null?void 0:$e.message)||"Disconnect failed")}}async function Be(){if(!ce){U.info("Connect monday.com first");return}M(!0),await Ue(ee)}async function Ue(ye){try{K(!0);const Me=ye?`?search=${encodeURIComponent(ye)}`:"",Le=await(await Z(`${Qr.MONDAY_LIST_BOARDS}${Me}`)).json(),Ie=Array.isArray(Le==null?void 0:Le.items)?Le.items:[];$(Ie);const lt=(Le==null?void 0:Le.selected_board_id)||(Le==null?void 0:Le.selected)||null;if(lt){D(lt);const wt=Ie.find(Sn=>String(Sn.id)===String(lt));H((wt==null?void 0:wt.name)||null)}}catch(Me){console.error(Me),U.error("Failed to load boards")}finally{K(!1)}}async function be(){var ye,Me;if(!ne){U.info("Please select a board");return}try{const $e={board_id:Number(ne),board_name:Y||void 0},Le=await Z(Qr.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify($e)}),Ie=await Le.json();if(!Le.ok||(Ie==null?void 0:Ie.success)===!1)throw new Error((Ie==null?void 0:Ie.detail)||`HTTP ${Le.status}`);E({board_id:((ye=Ie.selected)==null?void 0:ye.board_id)??Number(ne),board_name:((Me=Ie.selected)==null?void 0:Me.board_name)??Y??null}),U.success("Board selected"),M(!1),await re(),m==="monday"&&await ie(!0)}catch($e){console.error($e),U.error(($e==null?void 0:$e.message)||"Failed to save board")}}async function q(){try{const ye=await Z(Qr.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Me=await ye.json();if(!ye.ok||(Me==null?void 0:Me.success)===!1)throw new Error((Me==null?void 0:Me.detail)||`HTTP ${ye.status}`);E({board_id:null,board_name:null}),D(null),H(null),U.success("Board cleared"),w([]),S(null),_({})}catch(ye){console.error(ye),U.error((ye==null?void 0:ye.message)||"Failed to clear board")}}async function ie(ye=!1){var Me,$e;if(!z){U.info(`Connect ${((Me=rc[m])==null?void 0:Me.label)||m} first`);return}try{T(!0);const Le=new URLSearchParams({limit:String(x||25)});let Ie=`${Qr.CONTACTS(m)}?${Le.toString()}`;!ye&&j&&(Ie+=`&cursor=${encodeURIComponent(j)}`);const lt=await Z(Ie),wt=await lt.json();if(m==="monday"&&lt.status===409&&(($e=wt==null?void 0:wt.detail)!=null&&$e.needs_board_selection)){U.info("Please choose your Monday board"),M(!0),await Ue(ee),T(!1);return}if(!lt.ok)throw new Error((wt==null?void 0:wt.detail)||`HTTP ${lt.status}`);const Sn=((wt==null?void 0:wt.items)||[]).map(sn=>({...sn,company:sn.company||zde(sn.raw)})),Zn=(wt==null?void 0:wt.next_cursor)||null;w(sn=>ye?Sn:[...sn,...Sn]),S(Zn),_((wt==null?void 0:wt.raw_paging)||{})}catch(Le){console.error(Le);const Ie=String((Le==null?void 0:Le.message)||"");Ie.includes("Invalid paging token")?(U.error("Invalid/expired cursor; starting over."),S(null)):U.error(Ie||"Fetch failed")}finally{T(!1)}}const G=g.useMemo(()=>{const ye=C.trim().toLowerCase();return ye?y.filter(Me=>{const $e=(Me.name||"").toLowerCase(),Le=(Me.email||"").toLowerCase(),Ie=(Me.phone||"").toLowerCase(),lt=(Me.company||"").toLowerCase();return $e.includes(ye)||Le.includes(ye)||Ie.includes(ye)||lt.includes(ye)}):y},[y,C]),xe=((Ee=rc[m])==null?void 0:Ee.Mark)||qw,ke=((et=rc[m])==null?void 0:et.label)||m,Re=m==="monday"&&z&&!Q;return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(xe,{size:24})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:a.jsxs("span",{className:`bg-clip-text text-transparent ${Ide}`,children:["CRM Integrations  ",ke]})}),a.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[z?a.jsxs(a.Fragment,{children:[a.jsxs(ca,{onClick:()=>Se(m),size:"sm",children:[a.jsx(aj,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),m==="monday"&&a.jsxs(ca,{onClick:Be,size:"sm",variant:"subtle",children:[a.jsx($v,{className:"mr-2 h-4 w-4"}),Q?"Change Board":"Choose Board"]}),a.jsxs(ca,{onClick:()=>me(m),variant:"danger",size:"sm",children:[a.jsx(BU,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):a.jsx(ca,{onClick:()=>_e(m),variant:"primary",disabled:d,size:"sm",children:d?a.jsxs(a.Fragment,{children:[a.jsx(Xn,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):a.jsxs(a.Fragment,{children:[a.jsx(Yi,{className:"mr-2 h-4 w-4"}),"Connect"]})}),a.jsxs(ca,{onClick:()=>{Ne(),re()},size:"sm",children:[a.jsx(We,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),a.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(ye=>s1.includes(ye.name)).map(ye=>{var Le;const Me=((Le=rc[ye.name])==null?void 0:Le.Mark)||qw,$e=!!R[ye.name];return a.jsxs("button",{onClick:()=>{h(ye.name),w([]),S(null),_({})},className:Hw("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",ye.name===m?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:ye.name,children:[a.jsx(Me,{size:16}),a.jsx("span",{className:"capitalize",children:ye.name}),$e?a.jsx("span",{className:"ml-1 text-emerald-600",children:""}):a.jsx("span",{className:"ml-1 text-slate-300",children:""})]},ye.name)})}),!z&&(((Ze=t.find(ye=>ye.name===m))==null?void 0:Ze.type)||"oauth")==="oauth"&&a.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[a.jsx($r,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),a.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",a.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",a.jsx("code",{className:"break-all",children:Yh}),"."]})]}),Re&&a.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[a.jsx($v,{className:"h-4 w-4 text-amber-600 mt-0.5"}),a.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",a.jsx(ca,{onClick:Be,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Wh,{label:"Connection",value:z?"Connected":"Not connected",Icon:z?Un:xr,tone:z?"blue":"cyan"}),a.jsx(Wh,{label:"Contacts Loaded",value:y.length,Icon:da,tone:"cyan"}),a.jsx(Wh,{label:"Next Cursor",value:j?String(j).slice(0,10)+"":"",Icon:Fd,tone:"blue"}),a.jsx(Wh,{label:m==="monday"?"Monday Board":"Account",value:m==="monday"?(I==null?void 0:I.board_name)||(Q?`#${I.board_id}`:"Not selected"):(W==null?void 0:W.external_account_name)||"",Icon:m==="monday"?$v:Mc,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),a.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:C,onChange:ye=>P(ye.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(Fd,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsx("select",{value:x,onChange:ye=>v(Number(ye.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(ye=>a.jsxs("option",{value:ye,children:[ye," / page"]},ye))}),a.jsxs(ca,{onClick:()=>ie(!0),disabled:!z||m==="monday"&&!Q,variant:"primary",size:"sm",children:[a.jsx(iP,{className:"mr-2 h-4 w-4"}),"Fetch"]}),a.jsxs(ca,{onClick:()=>ie(!1),disabled:!z||!j,size:"sm",children:[a.jsx(Tn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),A?a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Jr,{children:"Name"}),a.jsx(Jr,{children:"Email"}),a.jsx(Jr,{children:"Phone"}),a.jsx(Jr,{children:"Company"}),a.jsx(Jr,{children:"ID"})]})}),a.jsx("tbody",{children:a.jsx(Ude,{rows:6,cols:5})})]})})}):G.length===0?a.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[a.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:a.jsx(Fd,{className:"h-8 w-8 text-slate-400"})}),a.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),a.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",a.jsx("b",{children:"Fetch"})," to load contacts."]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Jr,{children:"Name"}),a.jsx(Jr,{children:"Email"}),a.jsx(Jr,{children:"Phone"}),a.jsx(Jr,{children:"Company"}),a.jsx(Jr,{children:"ID"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:G.map(ye=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Sd,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(QT,{name:ye.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ye.name||""}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",ye.id]})]})]})}),a.jsx(Sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(vr,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:ye.email||""})]})}),a.jsx(Sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[a.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:ye.phone||""})]})}),a.jsx(Sd,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx($5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:ye.company||""})]})}),a.jsx(Sd,{children:a.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:ye.id})})]},`${ye.id}-${ye.email||ye.name||"row"}`))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:G.map((ye,Me)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Me===0&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(QT,{name:ye.name,size:44}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:ye.name||""}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[a.jsx(vr,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:ye.email||""})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[a.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),ye.phone||""]}),a.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[a.jsx($5,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:ye.company||""})]})]})]})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",ye.id]})]},`${ye.id}-${ye.email||ye.name||"card"}`))})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",a.jsx("b",{className:"font-mono break-all",children:String(j||"")})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ca,{onClick:()=>ie(!0),disabled:!z||m==="monday"&&!Q,size:"sm",children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsxs(ca,{onClick:()=>ie(!1),disabled:!z||!j,variant:"primary",size:"sm",children:["Load more ",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&a.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),a.jsx("div",{className:"max-w-full overflow-x-auto",children:a.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),a.jsx(Mt,{children:L&&a.jsx(Fde,{title:"Select your Monday Board",onClose:()=>M(!1),children:a.jsxs("div",{className:"flex flex-col gap-3",children:[a.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",a.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:ee,onChange:ye=>je(ye.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:ye=>{ye.key==="Enter"&&Ue(ee)}})]}),a.jsxs(ca,{onClick:()=>Ue(ee),size:"sm",children:[a.jsx(We,{className:"h-4 w-4 mr-1"}),"Search"]})]}),a.jsx("div",{className:"rounded-2xl border border-slate-200",children:a.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:F?a.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[a.jsx(Xn,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):V.length===0?a.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:V.map(ye=>{const Me=String(ne)===String(ye.id);return a.jsxs("button",{onClick:()=>{D(ye.id),H(ye.name||null)},className:Hw("text-left rounded-xl border px-3 py-2 transition-colors",Me?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:ye.name||`Board ${ye.id}`}),Me&&a.jsx(Bde,{className:"bg-blue-600 text-white",children:"Selected"})]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",a.jsx("code",{className:"font-mono",children:ye.id})]})]},ye.id)})})})}),a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[a.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",a.jsx("b",{children:I!=null&&I.board_name?I.board_name:I!=null&&I.board_id?`#${I.board_id}`:"None"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ca,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),a.jsx(ca,{onClick:q,size:"sm",variant:"subtle",children:"Clear"}),a.jsx(ca,{onClick:be,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function Jr({children:e}){return a.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Sd({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const Xh="http://localhost:8000",i1={LIST:`${Xh}/api/appointments`,CREATE:`${Xh}/api/appointments/tool/schedule`,DETAIL:e=>`${Xh}/api/appointments/${e}`,UPDATE:e=>`${Xh}/api/appointments/${e}`},Kde="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Pr({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function JT({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function sc({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ic({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Bi({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function JL({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Pr,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const jc=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:S1};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:Un};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:xr};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:S1}}};function Kw(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Gde(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const n=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(n){let s=parseInt(n[1]);const l=parseInt(n[2]||"0"),c=(n[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let s=parseInt(r[1]);const l=parseInt(r[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function Yde(e){const t=String(e||"").trim();if(!t)return"";const n=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return n+r}function Wde(){const[e,t]=g.useState([]),[n,r]=g.useState(!1),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState("all"),[h,x]=g.useState(""),[v,y]=g.useState(""),[w,j]=g.useState(1),S=10,[k,_]=g.useState(!1),[C,P]=g.useState(!1),[A,T]=g.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[L,M]=g.useState(null),F=typeof window<"u"?localStorage.getItem("token"):null,K=g.useCallback(async()=>{try{r(!0),l("");const I=await fetch(i1.LIST,{headers:{Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},mode:"cors"});if(!I.ok)throw new Error(`HTTP ${I.status}`);const E=await I.json(),z=(Array.isArray(E)?E:(E==null?void 0:E.appointments)||[]).map(W=>({id:W.id,title:W.title,notes:W.notes,location:W.location,phone:W.phone,timezone:W.timezone,start_at:W.start_at,end_at:W.end_at,duration_minutes:W.duration_minutes,status:W.status,created_at:W.created_at,updated_at:W.updated_at}));z.sort((W,ce)=>new Date(ce.start_at)-new Date(W.start_at)),t(z)}catch(I){l((I==null?void 0:I.message)||"Failed to load appointments"),U.error((I==null?void 0:I.message)||"Failed to load appointments")}finally{r(!1)}},[F]);g.useEffect(()=>{K()},[K]);const V=g.useMemo(()=>{let I=[...e];if(c.trim()){const E=c.trim().toLowerCase();I=I.filter(R=>[R.title,R.location,R.phone,R.notes].map(z=>String(z||"").toLowerCase()).some(z=>z.includes(E)))}if(f!=="all"&&(I=I.filter(E=>String(E.status).toLowerCase()===f)),h){const E=new Date(`${h}T00:00:00`);I=I.filter(R=>new Date(R.start_at)>=E)}if(v){const E=new Date(`${v}T23:59:59`);I=I.filter(R=>new Date(R.start_at)<=E)}return I},[e,c,f,h,v]),$=Math.max(1,Math.ceil(V.length/S)),ee=w*S,je=ee-S,ne=V.slice(je,ee);g.useEffect(()=>j(1),[c,f,h,v]);const D=g.useMemo(()=>{const I=e.length,E=e.filter(W=>W.status==="scheduled").length,R=e.filter(W=>W.status==="completed").length,z=e.filter(W=>String(W.status).toLowerCase().startsWith("cancel")).length;return{total:I,scheduled:E,completed:R,cancelled:z}},[e]);async function Y(I,E){try{M(I);const R=await fetch(i1.UPDATE(I),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify({status:E})});if(!R.ok){const z=await R.text();throw new Error(`HTTP ${R.status}${z?`  ${z}`:""}`)}U.success(`Status set to ${E}`),t(z=>z.map(W=>W.id===I?{...W,status:E}:W))}catch(R){U.error((R==null?void 0:R.message)||"Failed to update status")}finally{M(null)}}async function H(){const I={title:String(A.title||"").trim(),date:String(A.date||"").trim(),time:Gde(A.time),timezone:String(A.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(A.durationMinutes||30)),phone:Yde(A.phone),location:String(A.location||"").trim(),notes:String(A.notes||"").trim()};if(!I.title)return U.error("Title is required");if(!I.date)return U.error("Date is required");if(!I.time||!/^\d{2}:\d{2}$/.test(I.time))return U.error("Time looks invalid");if(!I.location)return U.error("Location is required");if(!I.phone||I.phone.replace(/\D/g,"").length<11)return U.error("Phone looks invalid");try{P(!0);const E=await fetch(i1.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify(I)});if(!E.ok){const z=await E.text();throw new Error(`HTTP ${E.status}${z?`  ${z}`:""}`)}const R=await E.json();U.success(" Appointment created"),_(!1),T({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(z=>[{id:R.id||crypto.randomUUID(),title:R.title||I.title,notes:R.notes||I.notes,location:R.location||I.location,phone:R.phone||I.phone,timezone:R.timezone||I.timezone,start_at:R.start_at||`${I.date}T${I.time}`,end_at:R.end_at||`${I.date}T${I.time}`,duration_minutes:R.duration_minutes||I.durationMinutes,status:R.status||"scheduled",created_at:R.created_at||new Date().toISOString(),updated_at:R.updated_at||new Date().toISOString()},...z])}catch(E){U.error((E==null?void 0:E.message)||"Failed to create appointment")}finally{P(!1)}}return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(Lr,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Kde}`,children:"Appointments"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(Pr,{onClick:()=>_(!0),variant:"primary",children:[a.jsx(is,{className:"mr-2 h-4 w-4"})," New Appointment"]}),a.jsx(Pr,{onClick:K,children:n?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(Zh,{label:"Total",value:D.total,Icon:Lr,tone:"blue"}),a.jsx(Zh,{label:"Scheduled",value:D.scheduled,Icon:S1,tone:"cyan"}),a.jsx(Zh,{label:"Completed",value:D.completed,Icon:Un,tone:"blue"}),a.jsx(Zh,{label:"Cancelled",value:D.cancelled,Icon:xr,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:c,onChange:I=>d(I.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:f,onChange:I=>m(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"scheduled",children:"Scheduled"}),a.jsx("option",{value:"completed",children:"Completed"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsx("input",{type:"date",value:h,onChange:I=>x(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),a.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),a.jsx("input",{type:"date",value:v,onChange:I=>y(I.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||f!=="all"||h||v)&&a.jsx(Pr,{onClick:()=>{d(""),m("all"),x(""),y("")},className:"text-slate-700",children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(Lr,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",V.length,")"]})]}),n&&a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx(We,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?a.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):V.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(Lr,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(sc,{children:"Title"}),a.jsx(sc,{children:"When"}),a.jsx(sc,{children:"Location"}),a.jsx(sc,{children:"Phone"}),a.jsx(sc,{children:"Status"}),a.jsx(sc,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ne.map(I=>{const E=jc(I.status),R=E.icon;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(ic,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:I.title}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]})}),a.jsx(ic,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(ro,{className:"h-4 w-4 text-slate-500"})," ",Kw(I.start_at)]})}),a.jsx(ic,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(Xs,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]})}),a.jsx(ic,{children:a.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})}),a.jsx(ic,{children:a.jsxs(JT,{className:`border ${E.badge}`,children:[a.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})}),a.jsx(ic,{children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(eE,{current:I.status,onChange:z=>Y(I.id,z),busy:L===I.id}),a.jsx(tE,{a:I})]})})]},I.id)})})]})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ne.map(I=>{const E=jc(I.status),R=E.icon;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:I.title}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(ro,{className:"h-4 w-4 text-slate-500"})," ",Kw(I.start_at)]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(Xs,{className:"h-4 w-4 text-slate-500"})," ",I.location||""]}),a.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",I.phone]})]}),a.jsxs(JT,{className:`border ${E.badge} shrink-0`,children:[a.jsx(R,{className:"mr-1 h-3.5 w-3.5"})," ",String(I.status).charAt(0).toUpperCase()+String(I.status).slice(1)]})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(eE,{current:I.status,onChange:z=>Y(I.id,z),busy:L===I.id}),a.jsx(tE,{a:I})]}),a.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",I.id]})]},I.id)})})}),V.length>S&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:je+1}),"",a.jsx("b",{children:Math.min(ee,V.length)})," of ",a.jsx("b",{children:V.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Pr,{onClick:()=>j(I=>Math.max(1,I-1)),disabled:w===1,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,$)},(I,E)=>{let R;if($<=5||w<=3?R=E+1:w>=$-2?R=$-4+E:R=w-2+E,R<1||R>$)return null;const z=w===R;return a.jsx("button",{onClick:()=>j(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),a.jsxs(Pr,{onClick:()=>j(I=>Math.min($,I+1)),disabled:w>=$,children:["Next ",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(Mt,{children:k&&a.jsxs(JL,{onClose:()=>_(!1),title:"New Appointment",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(Bi,{label:"Title",children:a.jsx("input",{value:A.title,onChange:I=>T(E=>({...E,title:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),a.jsx(Bi,{label:"Phone",children:a.jsx("input",{value:A.phone,onChange:I=>T(E=>({...E,phone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),a.jsx(Bi,{label:"Date",children:a.jsx("input",{type:"date",value:A.date,onChange:I=>T(E=>({...E,date:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Bi,{label:"Time",children:a.jsx("input",{value:A.time,onChange:I=>T(E=>({...E,time:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),a.jsx(Bi,{label:"Location",children:a.jsx("input",{value:A.location,onChange:I=>T(E=>({...E,location:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),a.jsx(Bi,{label:"Timezone",children:a.jsx("input",{value:A.timezone,onChange:I=>T(E=>({...E,timezone:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),a.jsx(Bi,{label:"Duration (minutes)",children:a.jsx("input",{type:"number",min:1,max:1440,value:A.durationMinutes,onChange:I=>T(E=>({...E,durationMinutes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),a.jsx(Bi,{label:"Notes",children:a.jsx("textarea",{value:A.notes,onChange:I=>T(E=>({...E,notes:I.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),a.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[a.jsx(Pr,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),a.jsx(Pr,{onClick:H,disabled:C,variant:"primary",children:C?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function Zh({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function eE({current:e,onChange:t,busy:n}){const[r,s]=g.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:jc("scheduled")},{k:"completed",label:"Mark Completed",tone:jc("completed")},{k:"cancelled",label:"Mark Cancelled",tone:jc("cancelled")}],d=jc(e).icon;return a.jsxs("div",{className:"relative",children:[a.jsxs(Pr,{onClick:()=>s(f=>!f),size:"sm",className:"min-w-[150px] justify-between",children:[a.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[a.jsx(d,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),n?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(Tn,{className:"h-4 w-4 opacity-60"})]}),a.jsx(Mt,{children:r&&a.jsx(he.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(f=>a.jsxs("button",{onClick:()=>{s(!1),f.k!==e&&t(f.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(f.tone.icon,{className:"h-4 w-4"})," ",f.label]}),String(e)===f.k&&a.jsx(Un,{className:"h-4 w-4 text-emerald-500"})]},f.k))})})]})}function tE({a:e}){const[t,n]=g.useState(!1);return a.jsxs(a.Fragment,{children:[a.jsxs(Pr,{onClick:()=>n(!0),size:"sm",children:[a.jsx(An,{className:"h-4 w-4 mr-1"})," Details"]}),a.jsx(Mt,{children:t&&a.jsxs(JL,{title:"Appointment Details",onClose:()=>n(!1),children:[a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"When:"})," ",Kw(e.start_at)]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Xs,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(MU,{className:"h-4 w-4 text-slate-500"})," ",a.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),a.jsx("div",{className:"mt-5 text-right",children:a.jsx(Pr,{onClick:()=>n(!1),variant:"primary",children:"Close"})})]})})]})}const Ms="http://localhost:8000",Ds={FORM_COPY_TOKEN:`${Ms}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Ms}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Ms}/api/form/copy-script`,FORM_COPY_WP:`${Ms}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${Ms}/api/intake/scan`,INTAKE_SUBMISSIONS:`${Ms}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${Ms}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${Ms}/api/intake/progress`,INTAKE_ANALYTICS:`${Ms}/api/intake/analytics`},Xde="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function Rs(e){const t=e.headers.get("content-type")||"",n=await e.text();if(!e.ok){const r=(n==null?void 0:n.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!n)return{};if(/application\/json/i.test(t))try{return JSON.parse(n)}catch(r){throw new Error(`Invalid JSON: ${(r==null?void 0:r.message)||""}`)}try{return JSON.parse(n)}catch{throw new Error(`Expected JSON but got '${t||"unknown"}'. Body: ${n.slice(0,300)}`)}}function Ui(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),U.success(t)}catch{U.error("Copy failed")}}function Kn({children:e,className:t="",variant:n="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[r]||m.md} ${h[n]||h.outline} ${t}`;return a.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function lc({label:e,hint:t,children:n}){return a.jsxs("div",{className:"min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),n,t?a.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:t}):null]})}function ts({children:e,className:t=""}){return a.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function El({code:e="",lang:t="text",filename:n="",className:r="",maxHeight:s="max-h-[420px]"}){const l=g.useMemo(()=>e.split(`
`),[e]);return a.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",r].join(" "),children:[a.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:n||(t?`snippet.${t}`:"snippet.txt")})]}),a.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",s].join(" "),style:{scrollbarWidth:"thin"},children:[a.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,d)=>a.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:d+1},d))}),a.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:a.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),a.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[a.jsx("span",{children:"UTF-8"}),a.jsx("span",{className:"capitalize",children:t||"text"}),a.jsxs("span",{children:["Ln ",l.length]})]})]})}function Zde({url:e}){return a.jsxs(ts,{className:"mt-4",children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),a.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[a.jsx(_1,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),a.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:a.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:a.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),a.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Qde({value:e=0,label:t="",className:n=""}){const r=Math.max(0,Math.min(100,Number(e)||0));return a.jsxs("div",{className:`w-full ${n}`,children:[a.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[a.jsx("span",{className:"text-slate-600",children:t}),a.jsxs("span",{className:"font-semibold text-slate-700",children:[r.toFixed(0),"%"]})]}),a.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${r}%`}})})]})}function Qh({label:e,value:t,tone:n="slate"}){const r={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return a.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${r[n]}`,children:[a.jsx("span",{className:"font-semibold",children:t??0}),a.jsx("span",{className:"opacity-80",children:e})]})}function Jde({dataObj:e}){const t=Object.keys(e||{}).sort(),n=t.map(s=>{var l;return((l=e[s])==null?void 0:l.total)||0}),r=Math.max(1,...n);return a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsx("div",{className:"flex items-end gap-1 h-28",children:t.map(s=>{var d;const l=((d=e[s])==null?void 0:d.total)||0,c=l/r*100;return a.jsxs("div",{className:"flex flex-col items-center w-6",children:[a.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${s}: ${l}`}),a.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:s.slice(5)})]},s)})})})}const nE=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",efe=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function tfe(){const[e,t]=g.useState(!1),[n,r]=g.useState(""),[s,l]=g.useState(""),[c,d]=g.useState(""),[f,m]=g.useState(""),[h,x]=g.useState(!0),[v,y]=g.useState("John"),[w,j]=g.useState("Doe"),[S,k]=g.useState("john@example.com"),[_,C]=g.useState("+15551234567"),[P,A]=g.useState(()=>new Date().toISOString().slice(0,10)),[T,L]=g.useState("14:30"),[M,F]=g.useState(!1),[K,V]=g.useState(null),[$,ee]=g.useState(!1),[je,ne]=g.useState(null),[D,Y]=g.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[H,I]=g.useState(!1),[E,R]=g.useState({}),[z,W]=g.useState(!1),[ce,Q]=g.useState(!1),[Z,Ne]=g.useState([]),[re,we]=g.useState(0),[_e,Se]=g.useState(""),[me,Be]=g.useState(0),Ue=10,[be,q]=g.useState(null),[ie,G]=g.useState(!1),xe=g.useMemo(()=>n?h?n.length<=12?"":`${n.slice(0,6)}${n.slice(-4)}`:n:"",[n,h]),ke=g.useCallback(()=>{const Pe=localStorage.getItem("token");if(!Pe)throw U.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${Pe}`,Accept:"application/json"}},[]),Re=g.useCallback(async()=>{t(!0);try{{const Pe=await fetch(Ds.FORM_COPY_TOKEN,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);if(!(Fe!=null&&Fe.success))throw new Error((Fe==null?void 0:Fe.detail)||"Failed to fetch token");r(Fe.token||"")}{const Pe=await fetch(Ds.FORM_COPY_WEBHOOK,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);if(!(Fe!=null&&Fe.success))throw new Error((Fe==null?void 0:Fe.detail)||"Failed to fetch webhook URL");l(Fe.webhook_url||"")}{const Pe=await fetch(Ds.FORM_COPY_SCRIPT,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);if(!(Fe!=null&&Fe.success))throw new Error((Fe==null?void 0:Fe.detail)||"Failed to fetch script");d(Fe.script||"")}{const Pe=await fetch(Ds.FORM_COPY_WP,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);if(!(Fe!=null&&Fe.success))throw new Error((Fe==null?void 0:Fe.detail)||"Failed to fetch plugin");m(Fe.wordpress_plugin||"")}}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Failed to load")}finally{t(!1)}},[ke]),Ee=g.useCallback(async()=>{I(!0);try{const Pe=await fetch(Ds.INTAKE_PROGRESS,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);Fe!=null&&Fe.ok&&Y(Fe.progress||{})}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Failed to load progress")}finally{I(!1)}},[ke]),et=g.useCallback(async()=>{W(!0);try{const Pe=await fetch(Ds.INTAKE_ANALYTICS,{headers:ke(),mode:"cors"}),Fe=await Rs(Pe);Fe!=null&&Fe.ok&&R(Fe.analytics||{})}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Failed to load analytics")}finally{W(!1)}},[ke]),Ze=g.useCallback(async()=>{Q(!0);try{const Pe=new URL(Ds.INTAKE_SUBMISSIONS);_e&&Pe.searchParams.set("status",_e),Pe.searchParams.set("limit",String(Ue)),Pe.searchParams.set("offset",String(me*Ue));const Fe=await fetch(Pe.toString(),{headers:ke(),mode:"cors"}),St=await Rs(Fe);St!=null&&St.ok&&(Ne(St.items||[]),we(St.total||0))}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Failed to load submissions")}finally{Q(!1)}},[ke,_e,me]),ye=g.useCallback(async Pe=>{G(!0);try{const Fe=await fetch(Ds.INTAKE_SUBMISSION_DETAIL(Pe),{headers:ke(),mode:"cors"}),St=await Rs(Fe);St!=null&&St.ok&&q(St.submission||null)}catch(Fe){U.error((Fe==null?void 0:Fe.message)||"Failed to load detail")}finally{G(!1)}},[ke]);g.useEffect(()=>{Re().catch(()=>{})},[Re]),g.useEffect(()=>{Ee().catch(()=>{}),et().catch(()=>{})},[Ee,et]),g.useEffect(()=>{Ze().catch(()=>{})},[Ze]);const Me=g.useMemo(()=>({form:{first_name:v,last_name:w,email:S,phone:_,date:P,time:T},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[v,w,S,_,P,T]),$e=async()=>{if(!s)return U.error("Webhook URL not loaded yet.");F(!0),V(null);try{const Pe=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Me)}),Fe=await Pe.text();let St;try{St=JSON.parse(Fe)}catch{St={raw:Fe}}V(St),Pe.ok?U.success(" Test submitted to webhook"):U.error(`Webhook responded with HTTP ${Pe.status}`)}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Test submit failed")}finally{F(!1)}},Le=async()=>{ee(!0),ne(null);try{const Pe=await fetch(Ds.INTAKE_SCAN,{method:"POST",headers:{...ke(),"Content-Type":"application/json"}}),Fe=await Rs(Pe);ne(Fe),U.success(" Intake scan kicked off");let St=0;const Hr=setInterval(async()=>{St+=1,await Ee(),St>=6&&clearInterval(Hr)},2e3);Ze().catch(()=>{})}catch(Pe){U.error((Pe==null?void 0:Pe.message)||"Scan failed")}finally{ee(!1)}},Ie=g.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(Me,null,2).replace(/"/g,'\\"')}" \\
  "${s||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[Me,s]),lt=g.useMemo(()=>{const Pe={form_response:{answers:[{type:"text",text:`${v}`},{type:"text",text:`${w}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${P}`}]}};return JSON.stringify(Pe,null,2)},[v,w,S,_,P]),wt="<?php // not loaded ?>",Sn=Math.ceil(re/Ue),Zn=me>0,sn=me+1<Sn;return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsxs(ts,{className:"relative overflow-hidden p-4 sm:p-5",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(aj,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),a.jsx(Kn,{onClick:Re,disabled:e,children:e?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[a.jsxs(ts,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nfe,{}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),a.jsxs("div",{className:"flex items-center gap-2 self-start",children:[a.jsxs(Kn,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>x(Pe=>!Pe),children:[h?a.jsx(An,{className:"h-4 w-4 mr-1"}):a.jsx(Oc,{className:"h-4 w-4 mr-1"}),h?"Show":"Hide"]}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(n,"Token copied!"),disabled:!n,children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),a.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:xe||""}),a.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),a.jsxs(ts,{children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"h-5 w-5 text-blue-600 shrink-0"}),a.jsxs("div",{children:[a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),a.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(s,"Webhook URL copied!"),disabled:!s,children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]}),a.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:s||""}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",a.jsx("b",{children:"JSON"}),", ",a.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",a.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),a.jsxs(ts,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(nj,{className:"h-5 w-5 text-cyan-600 shrink-0"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),a.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",a.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs(Kn,{size:"sm",onClick:()=>Ui(c,"Script copied!"),disabled:!c,children:[a.jsx(hB,{className:"h-4 w-4 mr-1"})," Copy Script"]}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(f,"Plugin code copied!"),disabled:!f,children:[a.jsx(sU,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[a.jsxs("div",{className:"flex flex-col",children:[a.jsxs(ts,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(KU,{className:"h-5 w-5 text-blue-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(lc,{label:"First name",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(vr,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("input",{value:v,onChange:Pe=>y(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),a.jsx(lc,{label:"Last name",children:a.jsx("input",{value:w,onChange:Pe=>j(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),a.jsx(lc,{label:"Email",children:a.jsx("input",{type:"email",value:S,onChange:Pe=>k(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),a.jsx(lc,{label:"Phone",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("input",{value:_,onChange:Pe=>C(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),a.jsx(lc,{label:"Date",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Lr,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("input",{type:"date",value:P,onChange:Pe=>A(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),a.jsx(lc,{label:"Time",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(ro,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("input",{type:"time",value:T,onChange:Pe=>L(Pe.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[a.jsx(Kn,{onClick:$e,variant:"primary",disabled:M||!s,children:M?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):a.jsxs(a.Fragment,{children:[a.jsx(pU,{className:"h-4 w-4 mr-2"})," Send Test"]})}),K?a.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[a.jsx(Un,{className:"h-4 w-4"}),"Response captured"]}):null]}),K?a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),a.jsx(El,{code:JSON.stringify(K,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,a.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[a.jsx(IU,{className:"h-4 w-4 shrink-0 mt-[1px]"}),a.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),a.jsx(Zde,{url:Xde})]}),a.jsxs(ts,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(EU,{className:"h-5 w-5 text-cyan-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),a.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(Ie,"cURL copied!"),children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]}),a.jsx("div",{className:"mt-2",children:a.jsx(El,{code:Ie,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),a.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(lt,"JSON copied!"),children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]}),a.jsx("div",{className:"mt-2",children:a.jsx(El,{code:lt,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),a.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:a.jsxs(ts,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(YU,{className:"h-5 w-5 text-blue-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Kn,{variant:"primary",size:"sm",onClick:Le,disabled:$,title:"POST /api/intake/scan",children:$?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):a.jsxs(a.Fragment,{children:[a.jsx(aB,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),a.jsxs(Kn,{size:"sm",onClick:()=>{Ee(),Ze(),et()},title:"Refresh intake data",children:[a.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I5,{className:"h-5 w-5 text-emerald-600"}),a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Qde,{value:(D==null?void 0:D.completion_rate)||0,label:"Completion rate"})}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsx(Qh,{label:"Total",value:D==null?void 0:D.total}),a.jsx(Qh,{label:"Booked",value:D==null?void 0:D.booked,tone:"emerald"}),a.jsx(Qh,{label:"Unbooked",value:D==null?void 0:D.unbooked,tone:"amber"}),a.jsx(Qh,{label:"Cancelled",value:D==null?void 0:D.cancelled,tone:"red"})]}),H?a.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[a.jsx(We,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(I5,{className:"h-5 w-5 text-blue-600"}),a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),z?a.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[a.jsx(We,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):a.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[a.jsx($B,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(Jde,{dataObj:E})})]})]}),a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:_e,onChange:Pe=>{Be(0),Se(Pe.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"",children:"All statuses"}),a.jsx("option",{value:"booked",children:"Booked"}),a.jsx("option",{value:"unbooked",children:"Unbooked"}),a.jsx("option",{value:"cancelled",children:"Cancelled"})]}),a.jsxs("div",{className:"text-[11px] text-slate-500",children:[re," total"]})]})]}),a.jsx("div",{className:"mt-3 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[a.jsx("th",{className:"py-2 pr-3",children:"ID"}),a.jsx("th",{className:"py-2 pr-3",children:"Created"}),a.jsx("th",{className:"py-2 pr-3",children:"Name"}),a.jsx("th",{className:"py-2 pr-3",children:"Email"}),a.jsx("th",{className:"py-2 pr-3",children:"Status"}),a.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),a.jsx("tbody",{children:ce?a.jsx("tr",{children:a.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):Z.length===0?a.jsx("tr",{children:a.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):Z.map(Pe=>a.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[a.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:Pe.id}),a.jsx("td",{className:"py-2 pr-3",children:Pe.created_at?new Date(Pe.created_at).toLocaleString():""}),a.jsx("td",{className:"py-2 pr-3",children:(Pe.first_name||"-")+" "+(Pe.last_name||"")}),a.jsx("td",{className:"py-2 pr-3",children:Pe.email||"-"}),a.jsx("td",{className:"py-2 pr-3",children:a.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${efe(Pe.status)}`,children:nE(Pe.status||"")||""})}),a.jsx("td",{className:"py-2 pr-3",children:a.jsx(Kn,{size:"sm",onClick:()=>ye(Pe.id),children:"View"})})]},Pe.id))})]})}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-slate-500",children:["Page ",Sn?me+1:0," of ",Sn]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Kn,{size:"sm",onClick:()=>Be(Pe=>Math.max(0,Pe-1)),disabled:!Zn,title:"Previous page",children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsxs(Kn,{size:"sm",onClick:()=>Be(Pe=>sn?Pe+1:Pe),disabled:!sn,title:"Next page",children:["Next",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]}),be?a.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",be.id]}),a.jsx(Kn,{size:"sm",onClick:()=>q(null),children:"Close"})]}),ie?a.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),a.jsx("div",{className:"font-medium",children:(be.first_name||"-")+" "+(be.last_name||"")})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),a.jsx("div",{className:"font-medium",children:be.email||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),a.jsx("div",{className:"font-medium",children:be.phone||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),a.jsx("div",{className:"font-medium",children:nE(be.status)})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),a.jsx("div",{className:"font-medium",children:be.created_at?new Date(be.created_at).toLocaleString():""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),a.jsx("div",{className:"font-medium",children:(be==null?void 0:be.source)||""})]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(El,{code:JSON.stringify(be,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),je?a.jsxs("div",{className:"mt-4",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),a.jsx(El,{code:JSON.stringify(je,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[a.jsxs(ts,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(rP,{className:"h-5 w-5 text-blue-600 shrink-0"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(c,"Script copied!"),disabled:!c,children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(El,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),a.jsxs(ts,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nc,{className:"h-5 w-5 text-cyan-600 shrink-0"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),a.jsxs(Kn,{size:"sm",onClick:()=>Ui(f,"Plugin code copied!"),disabled:!f,children:[a.jsx(Va,{className:"h-4 w-4 mr-1"})," Copy"]})]}),a.jsx("div",{className:"mt-3",children:a.jsx(El,{code:f||wt,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function nfe(){return a.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const afe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:8000"},Jh=afe&&"http://localhost:8000"||"http://localhost:8000",_d={CONNECT:`${Jh}/api/facebook/facebook/connect`,PAGES:`${Jh}/api/facebook/facebook/pages`,LINK:`${Jh}/api/facebook/facebook/pages/link`,SUBSCRIBE:`${Jh}/api/facebook/facebook/pages/subscribe`};async function e0(e){const t=e.headers.get("content-type")||"",n=await e.text();if(!e.ok){const r=(n==null?void 0:n.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!n)return{};if(/application\/json/i.test(t))try{return JSON.parse(n)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(n)}catch{return{raw:n}}}function aE(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),U.success(t)}catch{U.error("Copy failed")}}function rfe(){return g.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw U.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function oc({children:e,className:t=""}){return a.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function Ia({children:e,className:t="",variant:n="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:d}){const f="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",m={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},x=`${f} ${m[r]||m.md} ${h[n]||h.outline} ${t}`;return a.jsx("button",{type:s,className:x,onClick:l,disabled:c,title:d,children:e})}function l1({icon:e,label:t,value:n,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return a.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?a.jsx(e,{className:"h-4 w-4 opacity-80"}):null,a.jsxs("div",{className:"text-xs",children:[a.jsx("div",{className:"font-semibold",children:n}),a.jsx("div",{className:"opacity-80",children:t})]})]})}function sfe({code:e="",lang:t="text",filename:n="snippet.txt",maxHeight:r="max-h-[300px]"}){const s=g.useMemo(()=>String(e).split(`
`),[e]);return a.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),a.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:n})]}),a.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${r}`,style:{scrollbarWidth:"thin"},children:a.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:a.jsx("code",{className:"text-slate-800",children:e})})}),a.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[a.jsx("span",{children:"UTF-8"}),a.jsx("span",{className:"capitalize",children:t}),a.jsxs("span",{children:["Ln ",s.length]})]})]})}function ife(){const e=rfe(),[t,n]=g.useState(!1),[r,s]=g.useState(!1),[l,c]=g.useState(null),[d,f]=g.useState(!1),[m,h]=g.useState([]),[x,v]=g.useState("all"),[y,w]=g.useState(0),j=10,S=g.useMemo(()=>{const $=m.length,ee=m.filter(ne=>ne.connected).length,je=m.filter(ne=>ne.subscribed).length;return{total:$,linked:ee,subscribed:je}},[m]),k=g.useMemo(()=>{switch(x){case"linked":return m.filter($=>$.connected);case"unlinked":return m.filter($=>!$.connected);case"subscribed":return m.filter($=>$.subscribed);case"unsubscribed":return m.filter($=>!$.subscribed);default:return m}},[m,x]),_=Math.ceil(k.length/j),C=y>0,P=y+1<_,A=k.slice(y*j,y*j+j),T=g.useCallback(async()=>{s(!0);try{const $=await fetch(_d.PAGES,{headers:e(),mode:"cors"}),ee=await e0($);f(!0),h(Array.isArray(ee==null?void 0:ee.pages)?ee.pages:[])}catch{f(!1),h([])}finally{s(!1)}},[e]),L=g.useCallback(async()=>{n(!0);try{const $=await fetch(_d.CONNECT,{headers:e(),mode:"cors"}),ee=await e0($);c(ee),ee!=null&&ee.auth_url?(window.open(ee.auth_url,"_blank","noopener,noreferrer"),U.success("Opening Facebook Login in a new tab")):U.error("No auth_url from server")}catch($){U.error(($==null?void 0:$.message)||"Failed to start OAuth")}finally{n(!1)}},[e]),M=g.useCallback(async $=>{try{const ee=await fetch(_d.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:$}),mode:"cors"});await e0(ee),U.success("Page linked"),T()}catch(ee){U.error((ee==null?void 0:ee.message)||"Link failed")}},[e,T]),F=g.useCallback(async $=>{try{const ee=await fetch(_d.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:$}),mode:"cors"});await e0(ee),U.success("Subscribed to leadgen webhooks"),T()}catch(ee){U.error((ee==null?void 0:ee.message)||"Subscribe failed")}},[e,T]);g.useEffect(()=>{T().catch(()=>{})},[T]);const K=(l==null?void 0:l.redirect_uri)||"https://aisdr-dbt.ddns.net/api/facebook/oauth/callback";return a.jsxs("div",{className:"min-h-screen bg-slate-50",children:[a.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[a.jsxs(oc,{className:"relative overflow-hidden p-4 sm:p-5",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(U5,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),a.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect your Facebook Page, subscribe to ",a.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ia,{onClick:T,disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),a.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${d?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[a.jsx(lP,{className:`h-3.5 w-3.5 ${d?"text-emerald-600":"text-amber-600"}`}),d?"Connected":"Not connected"]})]})]})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(l1,{icon:VB,label:"Total Pages",value:S.total,tone:"slate"}),a.jsx(l1,{icon:iP,label:"Linked Pages",value:S.linked,tone:"blue"}),a.jsx(l1,{icon:Lz,label:"Webhook Subscribed",value:S.subscribed,tone:"emerald"})]}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[a.jsxs(oc,{className:"lg:col-span-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(aj,{className:"h-5 w-5 text-blue-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),a.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Well request Page access and leads permissions that you can approve. The login opens in a new tab; once finished, come back and click ",a.jsx("b",{children:"Refresh"}),"."]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[a.jsx(Ia,{variant:"primary",onClick:L,disabled:t,children:t?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):a.jsxs(a.Fragment,{children:[a.jsx(U5,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?a.jsxs(Ia,{size:"sm",onClick:()=>aE(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,a.jsxs(Ia,{size:"sm",onClick:T,disabled:r,title:"Check connection now",children:[a.jsx(We,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),a.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:K}),a.jsxs("div",{className:"mt-2 flex gap-2",children:[a.jsxs(Ia,{size:"sm",onClick:()=>aE(K,"Redirect URI copied!"),children:[a.jsx(Va,{className:"h-4 w-4 mr-1"}),"Copy"]}),a.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[a.jsx(_1,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),a.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",a.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),a.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",a.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),a.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:"https://aisdr-dbt.ddns.net/api/facebook/webhook"}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",a.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),a.jsxs(oc,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(hc,{className:"h-5 w-5 text-emerald-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),a.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Ap,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is added (Web)."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(Nc,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",a.jsx("code",{className:"font-mono",children:"https://aisdr-dbt.ddns.net/"})," (local)."]}),a.jsxs("li",{className:"flex items-start gap-2",children:[a.jsx(sB,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),a.jsx("div",{className:"mt-5 grid grid-cols-1",children:a.jsxs(oc,{children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Yi,{className:"h-5 w-5 text-blue-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:x,onChange:$=>{w(0),v($.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"Show: All"}),a.jsx("option",{value:"linked",children:"Linked"}),a.jsx("option",{value:"unlinked",children:"Unlinked"}),a.jsx("option",{value:"subscribed",children:"Subscribed"}),a.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),a.jsxs(Ia,{size:"sm",onClick:T,disabled:r,children:[a.jsx(We,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),a.jsx("div",{className:"mt-3 overflow-x-auto",children:a.jsxs("table",{className:"min-w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[a.jsx("th",{className:"py-2 pr-3",children:"Page"}),a.jsx("th",{className:"py-2 pr-3",children:"Linked"}),a.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),a.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),a.jsx("tbody",{children:r?a.jsx("tr",{children:a.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):A.length===0?a.jsx("tr",{children:a.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:d?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):A.map($=>a.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[a.jsxs("td",{className:"py-2 pr-3",children:[a.jsx("div",{className:"font-medium",children:$.name||$.page_id}),a.jsx("div",{className:"text-[11px] text-slate-500",children:$.page_id})]}),a.jsx("td",{className:"py-2 pr-3",children:$.connected?a.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):a.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),a.jsx("td",{className:"py-2 pr-3",children:$.subscribed?a.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):a.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),a.jsx("td",{className:"py-2 pr-3",children:a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[$.connected?a.jsxs(Ia,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",a.jsx(Un,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):a.jsx(Ia,{size:"sm",onClick:()=>M($.page_id),children:"Link"}),$.subscribed?a.jsxs(Ia,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",a.jsx(Un,{className:"h-4 w-4 ml-1"})]}):a.jsx(Ia,{size:"sm",variant:"primary",onClick:()=>F($.page_id),children:"Subscribe"})]})})]},$.page_id))})]})}),a.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-slate-500",children:["Page ",_?y+1:0," of ",_||0]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(Ia,{size:"sm",onClick:()=>w($=>Math.max(0,$-1)),disabled:!C,title:"Previous page",children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsxs(Ia,{size:"sm",onClick:()=>w($=>P?$+1:$),disabled:!P,title:"Next page",children:["Next",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})}),a.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[a.jsxs(oc,{children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(RU,{className:"h-5 w-5 text-cyan-600"}),a.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),a.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",a.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will receive ",a.jsx("code",{className:"font-mono",children:"leadgen_id"}),", fetch full details via Graph API, and create/merge a lead in your CRM."]}),a.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[a.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[a.jsx(_1,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),a.jsx(Ia,{size:"sm",onClick:()=>U.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),a.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["After sending a test, check your unified ",a.jsx("b",{children:"Submissions/Leads"})," page. Each lead includes"," ",a.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]})]}),a.jsxs(oc,{children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),a.jsx(sfe,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${_d.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-600",children:["You should see an ",a.jsx("b",{children:"auth_url"})," and ",a.jsx("b",{children:"redirect_uri"}),". Open the auth_url if the button is blocked by a popup blocker."]})]})]})]})]})}function lfe(...e){return e.filter(Boolean).join(" ")}const rE="http://localhost:8000";function ofe({onClick:e}){const t=n=>{(n.key==="Enter"||n.key===" ")&&(n.preventDefault(),e==null||e())};return a.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[a.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),a.jsxs(he.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),a.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),a.jsxs("filter",{id:"glow",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"coloredBlur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx(he.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),a.jsx(he.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),a.jsx(he.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function cfe({className:e="",onMenuToggle:t,profilePath:n="/admin/settings"}){const[r,s]=g.useState(""),[l,c]=g.useState(null),[d,f]=g.useState(!1),m=Xt();g.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),g.useEffect(()=>{const y=localStorage.getItem("token"),w=new AbortController;async function j(){try{const S=await fetch(`${rE}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:w.signal,mode:"cors"});if(!S.ok){f(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${rE}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),f(!1)}else f(!0)}catch{f(!0)}}return j(),()=>w.abort()},[]);const h=y=>y.split(" ").map(w=>w.charAt(0)).join("").toUpperCase().slice(0,2),x=({size:y=40})=>{const w=y;return a.jsxs("button",{type:"button",onClick:()=>m(n),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[a.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!d?a.jsx("img",{src:l,alt:"Profile photo",width:w,height:w,className:"rounded-full object-cover",style:{width:w,height:w},onLoad:()=>f(!1),onError:()=>f(!0)}):a.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:w,height:w,fontSize:w<36?10:12},children:h(r)})}),a.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),a.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},v=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return a.jsxs("header",{className:lfe("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[a.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:a.jsxs("div",{className:"flex items-center justify-between h-full",children:[a.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[a.jsx(ofe,{onClick:v}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"hidden lg:block",children:[a.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),a.jsxs("div",{className:"relative",children:[a.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),a.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),a.jsxs("div",{className:"hidden sm:block lg:hidden",children:[a.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),a.jsxs("div",{className:"sm:hidden relative",children:[a.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:a.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),a.jsx(he.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[a.jsxs(he.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[a.jsx("div",{className:"relative",children:a.jsx(x,{size:40})}),a.jsxs("div",{className:"flex flex-col min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),a.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),a.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[a.jsx(x,{size:32}),a.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),a.jsx("div",{className:"sm:hidden",children:a.jsx(x,{size:36})}),a.jsxs(he.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[a.jsx(C0,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),a.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),a.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function ufe({compact:e=!1}){const t=g.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:Lr,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:Uj,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:da,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:Lr,from:"#22D3EE",to:"#2563EB"}],[]),[n,r]=g.useState(0),[s,l]=g.useState(""),[c,d]=g.useState(!1);g.useEffect(()=>{const x=t[n].text,v=40,y=28,w=1100;let j;return!c&&s.length<x.length?j=setTimeout(()=>l(x.slice(0,s.length+1)),v):!c&&s.length===x.length?j=setTimeout(()=>d(!0),w):c&&s.length>0?j=setTimeout(()=>l(x.slice(0,s.length-1)),y):c&&s.length===0&&(d(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(j)},[s,c,n,t]);const{Icon:f,from:m,to:h}=t[n];return a.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[a.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[a.jsx(he.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${m}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:a.jsx(f,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),a.jsx(he.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[a.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${m}, ${h})`},children:s}),a.jsx(he.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),a.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function dfe(){const[e,t]=g.useState(!1),[n,r]=g.useState(!1),[s,l]=g.useState(!1),c=ms(),d=Xt();g.useEffect(()=>{const h=()=>{const x=window.innerWidth;l(x<768),t(x<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),g.useEffect(()=>{r(!1)},[c.pathname]),g.useEffect(()=>{const h=()=>{s?r(x=>!x):t(x=>!x)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const f=[{id:"dashboard",label:"Dashboard",icon:tj,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:da,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:gt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:da,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:da,href:"/admin/callhistory",color:"text-purple-600"}],m=()=>a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:a.jsx(ufe,{compact:e&&!s})}),a.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:f.map(h=>{const x=h.icon,v=c.pathname===h.href;return a.jsxs("button",{type:"button",onClick:()=>d(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${v?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[v&&!e&&a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),a.jsx(x,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${v?h.color:"text-slate-500 group-hover:text-slate-700"} ${v?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&a.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),v&&(!e||s)&&a.jsx("div",{className:"ml-auto flex-shrink-0",children:a.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&a.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:a.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?a.jsx(Tn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):a.jsxs(a.Fragment,{children:[a.jsx(Ca,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),a.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return a.jsxs(a.Fragment,{children:[!s&&a.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})}),s&&a.jsxs("div",{className:"md:hidden",children:[n&&a.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),a.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${n?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:a.jsx("div",{className:"flex flex-col h-full",children:a.jsx(m,{})})})]})]})}function ffe(){return a.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[a.jsx(dfe,{}),a.jsxs("div",{className:"flex flex-1 flex-col",children:[a.jsx(cfe,{className:"h-16 border-b"}),a.jsx("main",{className:"flex-1 p-6",children:a.jsx(zE,{})})]})]})}const o1={},Bl="http://localhost:8000",mfe=(o1==null?void 0:o1.VITE_AFTER_IMPERSONATE_PATH)||"/",Fi={USERS:`${Bl}/api/admin/users`,USER:e=>`${Bl}/api/admin/users/${e}`,USER_DETAILS:e=>`${Bl}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${Bl}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${Bl}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${Bl}/api/admin/impersonate/login-as`},hfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",t0=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${Bl}${t}`},c1=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function kd({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function pfe(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function jt({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function xfe(){var St,Hr;const[e,t]=g.useState([]),[n,r]=g.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(null),[h,x]=g.useState(""),[v,y]=g.useState("all"),[w,j]=g.useState("all"),[S,k]=g.useState(1),_=10,[C,P]=g.useState(!1),[A,T]=g.useState(null),[L,M]=g.useState(!1),[F,K]=g.useState(null),[V,$]=g.useState(!1),[ee,je]=g.useState(!1),[ne,D]=g.useState(null),[Y,H]=g.useState(!1),[I,E]=g.useState(!1),[R,z]=g.useState(null),[W,ce]=g.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[Q,Z]=g.useState(null),[Ne,re]=g.useState(!1),[we,_e]=g.useState(null),[Se,me]=g.useState(!1),[Be,Ue]=g.useState(""),[be,q]=g.useState(null),[ie,G]=g.useState(null),[xe,ke]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Re=g.useCallback(async()=>{if(xe){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const de=localStorage.getItem("token");if(!de){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),d("No auth token found."),U.error("No authentication token found.");return}try{l(!0),d("");const X=await fetch(Fi.USERS,{headers:{Authorization:`Bearer ${de}`,Accept:"application/json"},mode:"cors"});if(!X.ok){const it=await X.text();throw new Error(`HTTP ${X.status}${it?`  ${it}`:""}`)}const te=await X.json();if(!(te!=null&&te.success)||!Array.isArray(te==null?void 0:te.users))throw new Error("Unexpected response shape.");const se=(te.users||[]).map(it=>({id:it.id,name:it.name||"",email:it.email||"",email_verified:!!it.email_verified,role:it.role||"user",profile_photo_url:t0(it.profile_photo_url||it.profile_photo)}));se.sort((it,Tt)=>it.name.localeCompare(Tt.name)),t(se);const Ge=se.filter(it=>it.role==="admin").length,nt=se.filter(it=>it.email_verified).length,xt=se.filter(it=>!!it.profile_photo_url).length;r({total:te.total_users??se.length,admins:Ge,verified:nt,withPhoto:xt})}catch(X){d((X==null?void 0:X.message)||"Failed to load users"),U.error((X==null?void 0:X.message)||"Failed to load users")}finally{l(!1)}},[xe]);g.useEffect(()=>{Re()},[Re]);const Ee=g.useMemo(()=>{let de=[...e];if(h.trim()){const X=h.trim().toLowerCase();de=de.filter(te=>String(te.name||"").toLowerCase().includes(X)||String(te.email||"").toLowerCase().includes(X))}return v!=="all"&&(de=de.filter(X=>X.role===v)),w!=="all"&&(de=de.filter(X=>w==="verified"?X.email_verified:!X.email_verified)),de},[e,h,v,w]),et=Math.max(1,Math.ceil(Ee.length/_)),Ze=S*_,ye=Ze-_,Me=Ee.slice(ye,Ze);g.useEffect(()=>{k(1)},[h,v,w]);const $e=de=>{T({id:de.id,name:de.name,email:de.email,role:de.role}),P(!0)},Le=async()=>{if(!A)return;const de=localStorage.getItem("token");if(!de)return U.error("No authentication token found.");const X={name:String(A.name||"").trim(),email:String(A.email||"").trim(),role:A.role==="admin"?"admin":"user"};try{M(!0);const te=await fetch(Fi.USER(A.id),{method:"PUT",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);U.success(" User updated"),P(!1),T(null),t(Ge=>Ge.map(nt=>{var xt;return nt.id===((xt=se.updated_user)==null?void 0:xt.id)?{...nt,name:se.updated_user.name,email:se.updated_user.email,role:se.updated_user.role,profile_photo_url:t0(se.updated_user.profile_photo_url||se.updated_user.profile_photo)}:nt})),Re()}catch(te){U.error((te==null?void 0:te.message)||"Update failed")}finally{M(!1)}},Ie=de=>K(de),lt=async()=>{const de=F;if(!de)return;const X=localStorage.getItem("token");if(!X)return U.error("No authentication token found.");try{m(de);const te=await fetch(Fi.USER(de),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);U.success(" User deleted"),t(Ge=>Ge.filter(nt=>nt.id!==de)),r(Ge=>({...Ge,total:Math.max(0,Ge.total-1)})),K(null)}catch(te){U.error((te==null?void 0:te.message)||"Delete failed")}finally{m(null)}},wt=async de=>{const X=localStorage.getItem("token");if(!X){U.error("No authentication token found.");return}try{$(!0),je(!0),D(null);const te=await fetch(Fi.USER_DETAILS(de.id),{headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);D(se.details)}catch(te){U.error((te==null?void 0:te.message)||"Failed to load details")}finally{je(!1)}},Sn=async de=>{const X=localStorage.getItem("token");if(!X)return U.error("No authentication token found.");try{q(de);const te=await fetch(Fi.USER_PHOTO_DELETE(de),{method:"DELETE",headers:{Authorization:`Bearer ${X}`,Accept:"application/json"}}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);U.success(" Profile photo removed"),t(Ge=>Ge.map(nt=>nt.id===de?{...nt,profile_photo_url:null}:nt)),r(Ge=>({...Ge,withPhoto:Math.max(0,Ge.withPhoto-1)}))}catch(te){U.error((te==null?void 0:te.message)||"Failed to remove photo")}finally{q(null)}},Zn=async()=>{const de=localStorage.getItem("token");if(!de)return U.error("No authentication token found.");const X={name:W.name.trim(),email:W.email.trim(),role:W.role,password:W.setPasswordManually?(W.password||"").trim():null};if(!X.name||!X.email)return U.error("Name and email are required.");if(W.setPasswordManually&&X.password.length<6)return U.error("Password must be at least 6 characters.");try{E(!0);const te=await fetch(Fi.USERS,{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);const Ge=se.created_user,nt={id:Ge.id,name:Ge.name,email:Ge.email,role:Ge.role||"user",email_verified:!!Ge.email_verified,profile_photo_url:t0(Ge.profile_photo_url||Ge.profile_photo)};t(xt=>[nt,...xt].sort((it,Tt)=>it.name.localeCompare(Tt.name))),r(xt=>({...xt,total:xt.total+1,admins:xt.admins+(nt.role==="admin"?1:0),verified:xt.verified+(nt.email_verified?1:0),withPhoto:xt.withPhoto+(nt.profile_photo_url?1:0)})),se.initial_password?z(se.initial_password):U.success(" User created"),H(!1),ce({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(te){U.error((te==null?void 0:te.message)||"Create failed")}finally{E(!1)}},sn=async()=>{if(!Q)return;const de=localStorage.getItem("token");if(!de)return U.error("No authentication token found.");const X=Se&&Be?{new_password:Be}:{new_password:null};try{re(!0);const te=await fetch(Fi.RESET_PASSWORD(Q),{method:"POST",headers:{Authorization:`Bearer ${de}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(X)}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);se.new_password?_e(se.new_password):(U.success(" Password updated"),Z(null),Ue(""),me(!1))}catch(te){U.error((te==null?void 0:te.message)||"Reset failed")}finally{re(!1)}},Pe=async de=>{const X=localStorage.getItem("token");if(!X)return U.error("No authentication token found.");try{G(de.id);const te=await fetch(Fi.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${X}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:de.id,reason:"Admin impersonation from Users panel"})}),se=await te.json();if(!te.ok||!(se!=null&&se.success))throw new Error((se==null?void 0:se.detail)||(se==null?void 0:se.message)||`HTTP ${te.status}`);const{token:Ge,acting_as:nt,impersonated_by:xt}=se;localStorage.setItem("admin_token_backup",X),localStorage.setItem("token",Ge),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:nt,impersonated_by:xt,started_at:Date.now()})),U.success(` Now impersonating ${(nt==null?void 0:nt.email)||"user"}`),window.location.assign(mfe)}catch(te){U.error((te==null?void 0:te.message)||"Impersonation failed")}finally{G(null)}},Fe=()=>{const de=localStorage.getItem("admin_token_backup");if(!de){U.error("No admin backup token found.");return}localStorage.setItem("token",de),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),ke(null),U.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[xe&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(uh,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(St=xe.acting_as)==null?void 0:St.email})]})]}),a.jsxs(jt,{onClick:Fe,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(C0,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(da,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${hfe}`,children:"User Management"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(jt,{onClick:()=>H(!0),disabled:!!xe,variant:"primary",children:[a.jsx(is,{className:"mr-2 h-4 w-4"}),"Add User"]}),a.jsx(jt,{onClick:Re,disabled:s||!!xe,children:s?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(n0,{label:"Total Users",value:n.total,Icon:da,tone:"blue"}),a.jsx(n0,{label:"Admins",value:n.admins,Icon:Rv,tone:"cyan"}),a.jsx(n0,{label:"Verified",value:n.verified,Icon:Un,tone:"blue"}),a.jsx(n0,{label:"With Photo",value:n.withPhoto,Icon:RB,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:de=>x(de.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!xe})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:v,onChange:de=>y(de.target.value),disabled:!!xe,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All roles"}),a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]}),a.jsxs("select",{value:w,onChange:de=>j(de.target.value),disabled:!!xe,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"verified",children:"Verified"}),a.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||v!=="all"||w!=="all")&&a.jsx(jt,{onClick:()=>{x(""),y("all"),j("all")},className:"text-slate-700",disabled:!!xe,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(da,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ee.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),xe?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(uh,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(jt,{onClick:Fe,variant:"primary",children:[a.jsx(C0,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(We,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ee.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(da,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Cd,{children:"User"}),a.jsx(Cd,{children:"Email"}),a.jsx(Cd,{children:"Role"}),a.jsx(Cd,{children:"Status"}),a.jsx(Cd,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:Me.map(de=>a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Ad,{children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(u1,{url:de.profile_photo_url,name:de.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:de.name}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]})]})}),a.jsx(Ad,{children:a.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[a.jsx(vr,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),a.jsx("span",{className:"text-xs font-medium break-words",children:de.email})]})}),a.jsx(Ad,{children:a.jsx(kd,{className:`border ${c1(de.role)}`,children:de.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(Rv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(Mc,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),a.jsx(Ad,{children:de.email_verified?a.jsxs(kd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(Un,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(kd,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(xr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),a.jsx(Ad,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(jt,{onClick:()=>wt(de),variant:"outline",size:"sm",title:"View details",children:a.jsx(An,{className:"h-4 w-4"})}),a.jsx(jt,{onClick:()=>$e(de),variant:"outline",size:"sm",title:"Edit",children:a.jsx(Vd,{className:"h-4 w-4"})}),a.jsx(jt,{onClick:()=>Z(de.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:a.jsx(hc,{className:"h-4 w-4"})}),a.jsx(jt,{onClick:()=>Pe(de),disabled:ie===de.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:ie===de.id?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(uh,{className:"h-4 w-4"})}),a.jsx(jt,{onClick:()=>Ie(de.id),variant:"danger",size:"sm",title:"Delete",children:f===de.id?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(sa,{className:"h-4 w-4"})}),de.profile_photo_url?a.jsx(jt,{onClick:()=>Sn(de.id),disabled:be===de.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:be===de.id?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(V5,{className:"h-4 w-4"})}):null]})})]},de.id))})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Me.map((de,X)=>a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[X===0&&a.jsx(pfe,{}),a.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[a.jsx(u1,{size:48,url:de.profile_photo_url,name:de.name}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:de.name}),a.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[a.jsx(vr,{className:"h-4 w-4 text-slate-500 shrink-0"}),a.jsx("span",{className:"truncate break-words",children:de.email})]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${c1(de.role)} text-[11px] font-semibold`,children:de.role==="admin"?a.jsxs(a.Fragment,{children:[a.jsx(Rv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):a.jsxs(a.Fragment,{children:[a.jsx(Mc,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),de.email_verified?a.jsxs(kd,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(Un,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):a.jsxs(kd,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(xr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(jt,{onClick:()=>wt(de),size:"sm",className:"grow sm:grow-0",children:[a.jsx(An,{className:"h-4 w-4 mr-1"}),"View"]}),a.jsxs(jt,{onClick:()=>$e(de),size:"sm",className:"grow sm:grow-0",children:[a.jsx(Vd,{className:"h-4 w-4 mr-1"}),"Edit"]}),a.jsxs(jt,{onClick:()=>Z(de.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[a.jsx(hc,{className:"h-4 w-4 mr-1"}),"Reset"]}),a.jsx(jt,{onClick:()=>Pe(de),disabled:ie===de.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:ie===de.id?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):a.jsxs(a.Fragment,{children:[a.jsx(uh,{className:"h-4 w-4 mr-1"})," Login as"]})}),a.jsx(jt,{onClick:()=>Ie(de.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:f===de.id?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"h-4 w-4 mr-1"})," Delete"]})}),de.profile_photo_url&&a.jsx(jt,{onClick:()=>Sn(de.id),disabled:be===de.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:be===de.id?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):a.jsxs(a.Fragment,{children:[a.jsx(V5,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),a.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",de.id]})]},de.id))})}),Ee.length>_&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:ye+1}),"",a.jsx("b",{children:Math.min(Ze,Ee.length)})," of"," ",a.jsx("b",{children:Ee.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(jt,{onClick:()=>k(de=>Math.max(1,de-1)),disabled:S===1,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"}),"Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,et)},(de,X)=>{let te;if(et<=5||S<=3?te=X+1:S>=et-2?te=et-4+X:te=S-2+X,te<1||te>et)return null;const se=S===te;return a.jsx("button",{onClick:()=>k(te),className:`px-3 py-2 text-sm font-semibold rounded-xl ${se?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:te},te)})}),a.jsxs(jt,{onClick:()=>k(de=>Math.min(et,de+1)),disabled:S>=et,children:["Next ",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(Mt,{children:Y&&a.jsxs(Pd,{onClose:()=>H(!1),title:"Add User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(cc,{label:"Name",children:a.jsx("input",{value:W.name,onChange:de=>ce(X=>({...X,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),a.jsx(cc,{label:"Email",children:a.jsx("input",{type:"email",value:W.email,onChange:de=>ce(X=>({...X,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),a.jsx(cc,{label:"Role",children:a.jsxs("select",{value:W.role,onChange:de=>ce(X=>({...X,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})}),a.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:W.setPasswordManually,onChange:de=>ce(X=>({...X,setPasswordManually:de.target.checked,password:de.target.checked?X.password:""}))}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),W.setPasswordManually&&a.jsx("div",{className:"mt-3",children:a.jsx("input",{type:"text",value:W.password,onChange:de=>ce(X=>({...X,password:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(jt,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),a.jsx(jt,{onClick:Zn,disabled:I||!W.name.trim()||!W.email.trim()||W.setPasswordManually&&W.password.trim().length<6,variant:"primary",children:I?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):a.jsxs(a.Fragment,{children:[a.jsx(is,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),a.jsx(Mt,{children:R&&a.jsxs(Pd,{onClose:()=>z(null),title:"Initial Password",children:[a.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:R}),a.jsxs(jt,{onClick:()=>{navigator.clipboard.writeText(R),U.success("Copied!")},className:"ml-auto",children:[a.jsx(Va,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(jt,{onClick:()=>z(null),variant:"primary",children:"Got it"})})]})}),a.jsx(Mt,{children:C&&A&&a.jsxs(Pd,{onClose:()=>P(!1),title:"Edit User",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx(cc,{label:"Name",children:a.jsx("input",{value:A.name,onChange:de=>T(X=>({...X,name:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),a.jsx(cc,{label:"Email",children:a.jsx("input",{type:"email",value:A.email,onChange:de=>T(X=>({...X,email:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),a.jsx(cc,{label:"Role",children:a.jsxs("select",{value:A.role,onChange:de=>T(X=>({...X,role:de.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"user",children:"User"}),a.jsx("option",{value:"admin",children:"Admin"})]})})]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(jt,{onClick:()=>P(!1),variant:"subtle",children:"Cancel"}),a.jsx(jt,{onClick:Le,disabled:L||!A.name||!A.email,variant:"primary",children:L?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),a.jsx(Mt,{children:F&&a.jsxs(Pd,{onClose:()=>K(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",a.jsx("b",{className:"break-words",children:((Hr=e.find(de=>de.id===F))==null?void 0:Hr.name)||"this user"}),"? This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(jt,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),a.jsx(jt,{onClick:lt,disabled:f===F,variant:"danger",children:f===F?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),a.jsx(Mt,{children:Q&&a.jsx(Pd,{onClose:()=>{Z(null),_e(null),me(!1),Ue("")},title:"Reset Password",children:we?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),a.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(hc,{className:"h-4 w-4 text-slate-600"}),a.jsx("code",{className:"font-mono text-slate-900 break-all",children:we}),a.jsxs(jt,{onClick:()=>{navigator.clipboard.writeText(we),U.success("Copied!")},className:"ml-auto",children:[a.jsx(Va,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(jt,{onClick:()=>{Z(null),_e(null)},variant:"primary",children:"Done"})})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[a.jsx("input",{type:"checkbox",checked:Se,onChange:de=>me(de.target.checked)}),a.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Se&&a.jsx("input",{type:"text",value:Be,onChange:de=>Ue(de.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),a.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[a.jsx(jt,{onClick:()=>{Z(null),me(!1),Ue("")},variant:"subtle",children:"Cancel"}),a.jsx(jt,{onClick:sn,disabled:Ne||Se&&Be.trim().length<6,variant:"primary",children:Ne?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),a.jsx(Mt,{children:V&&a.jsx(gfe,{onClose:()=>$(!1),title:"User Details",children:ee?a.jsxs("div",{className:"grid place-content-center h-48",children:[a.jsx(We,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):ne?a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:a.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[a.jsx(u1,{url:t0(ne.user.profile_photo_url||ne.user.profile_photo),name:ne.user.name,size:48}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-bold text-slate-900 truncate",children:ne.user.name}),a.jsx("div",{className:"text-sm text-slate-600 break-words",children:ne.user.email}),a.jsx("div",{className:"mt-1",children:a.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${c1(ne.user.role)}`,children:ne.user.role})})]})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Td,{label:"Phone Numbers",value:ne.counts.purchased_numbers}),a.jsx(Td,{label:"Assistants",value:ne.counts.assistants}),a.jsx(Td,{label:"Call Logs",value:ne.counts.call_logs}),a.jsx(Td,{label:"Documents",value:ne.counts.documents}),a.jsx(Td,{label:"Leads",value:ne.counts.leads})]}),a.jsx(Ed,{title:"Phone Numbers",items:(ne.purchased_numbers||[]).map(de=>({k:de.id,primary:de.phone_number,secondary:de.iso_country||de.region||"",badge:de.friendly_name}))}),a.jsx(Ed,{title:"Assistants",items:(ne.assistants||[]).map(de=>({k:de.id,primary:de.name||de.vapi_assistant_id,secondary:de.provider||de.model||"",badge:de.category}))}),a.jsx(Ed,{title:"Documents",items:(ne.documents||[]).map(de=>({k:de.id,primary:de.file_name,secondary:de.vapi_file_id}))}),a.jsx(Ed,{title:"Leads",items:(ne.leads||[]).map(de=>({k:de.id,primary:`${de.first_name||""} ${de.last_name||""}`.trim()||de.email,secondary:(de.email||de.mobile||"").toString(),badge:de.state||de.timezone}))}),a.jsx(Ed,{title:"Call Logs",items:(ne.call_logs||[]).map(de=>({k:de.id,primary:de.customer_name||de.customer_number||de.call_id,secondary:`${de.status||""}  ${de.call_duration||0}s`}))})]}):a.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function n0({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function u1({url:e,name:t,size:n=38}){const[r,s]=g.useState(!1),l=(t||"?").split(" ").map(d=>d.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:n,height:n},children:c?a.jsx("span",{style:{fontSize:n<40?12:13},children:l}):a.jsx("img",{src:e,alt:t,width:n,height:n,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function Cd({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Ad({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function cc({label:e,children:t}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Td({label:e,value:t}){return a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-xs text-slate-500",children:e}),a.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function Ed({title:e,items:t}){const n=(t||[]).slice(0,5);return n.length===0?null:a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),a.jsx("div",{className:"space-y-2",children:n.map(r=>a.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),a.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&a.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function Pd({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(jt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function gfe({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(jt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Od="http://localhost:8000",vfe=[`${Od}/api/admin/basic-admin-stats`,`${Od}/basic-admin-stats`,`${Od}/api/basic-admin-stats`,`${Od}/statistics`,`${Od}/api/statistics`],ta={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},N0="3 3";function bfe(){const[e,t]=g.useState({width:0,height:0});return g.useEffect(()=>{const n=()=>t({width:window.innerWidth,height:window.innerHeight});return n(),window.addEventListener("resize",n),()=>window.removeEventListener("resize",n)},[]),e}function e9(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function sE(e={},t="name",n="value"){return Object.entries(e||{}).map(([r,s])=>({[t]:String(r),[n]:Number(s||0)}))}function Pl(e){const n=Math.max(0,Number(e)||0),r=Array.from({length:12},(s,l)=>{const c=l/11,d=Math.sin(c*Math.PI)*.45,f=(Math.random()-.5)*.14,m=Math.max(0,Math.round(n*(.55+d+f)));return{label:`P${l+1}`,value:m}});return r.length&&(r[r.length-1].value=n),r}async function yfe(){var n;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of vfe)try{const s=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((n=l==null?void 0:l.stats)!=null&&n.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function wfe({value:e,className:t}){const n=$c(0),[r,s]=g.useState(0);return g.useEffect(()=>{const l=FK(n,Number(e||0),{duration:.5,ease:"easeOut"}),c=n.on("change",d=>s(Math.round(d)));return()=>{l.stop(),c()}},[e]),a.jsx("span",{className:t,children:e9(r)})}function jfe({points:e,width:t,height:n}){if(!e||!e[0])return null;const r=e[0].x;return a.jsxs("g",{children:[a.jsxs("defs",{children:[a.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),a.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),a.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),a.jsx("line",{x1:r,x2:r,y1:0,y2:n,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function d1(e){const{x:t,y:n,width:r,height:s}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx("rect",{x:t,y:n,width:r,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function iE(e){const{cx:t,cy:n,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,fill:d}=e;return a.jsxs("g",{children:[a.jsx("defs",{children:a.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"b"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(d2,{cx:t,cy:n,innerRadius:r,outerRadius:s+6,startAngle:l,endAngle:c,fill:d,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function uc({title:e,right:t,children:n,className:r=""}){return a.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[a.jsx(Nfe,{}),a.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[a.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),n]})}function Nfe(){return a.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[a.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${ta.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),a.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function Sfe({label:e,value:t,icon:n,color:r,series:s,badge:l="Live",loading:c}){const d=$c(0),f=$c(0),m=O0(f,[-60,60],[10,-10]),h=O0(d,[-60,60],[-10,10]),x=g.useRef(null);return a.jsxs(he.div,{ref:x,onMouseMove:v=>{var w;const y=(w=x.current)==null?void 0:w.getBoundingClientRect();y&&(d.set(v.clientX-y.left-y.width/2),f.set(v.clientY-y.top-y.height/2))},onMouseLeave:()=>{d.set(0),f.set(0)},style:{rotateX:m,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),a.jsxs("div",{className:"relative z-10",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:a.jsx(n,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsxs("div",{className:"flex items-baseline gap-2",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?a.jsx(_fe,{}):a.jsx(wfe,{value:t})}),l&&a.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),a.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?a.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(BN,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[a.jsx("defs",{children:a.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),a.jsx(Zi,{strokeDasharray:N0,strokeOpacity:.12}),a.jsx(Ks,{dataKey:"label",hide:!0}),a.jsx(Gs,{hide:!0,domain:[0,"dataMax+"]}),a.jsx(as,{contentStyle:{borderRadius:12},cursor:a.jsx(jfe,{})}),a.jsx(px,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function _fe(){return a.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function kfe(){const{width:e}=bfe(),t=e<768,[n,r]=g.useState(!0),[s,l]=g.useState(""),[c,d]=g.useState(null),[f,m]=g.useState(null),[h,x]=g.useState(null),[v,y]=g.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[w,j]=g.useState({}),[S,k]=g.useState({attached_to_assistant:0,unattached:0}),[_,C]=g.useState({transferred:0,not_transferred:0,by_status:{}}),P=async()=>{try{r(!0),l("");const V=await yfe(),$=(V==null?void 0:V.stats)||V||{},ee=($==null?void 0:$.totals)||{};y({users:Number(ee.users||0),leads:Number(ee.leads||0),files:Number(ee.files||0),knowledge_base_documents:Number(ee.knowledge_base_documents||0),assistants:Number(ee.assistants||0),phone_numbers:Number(ee.phone_numbers||0),call_logs:Number(ee.call_logs||0)}),j(($==null?void 0:$.users_by_role)||{}),k(($==null?void 0:$.phone_numbers)||{attached_to_assistant:0,unattached:0}),C(($==null?void 0:$.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),d((V==null?void 0:V.generated_at)||new Date().toISOString())}catch(V){const $=(V==null?void 0:V.message)||"Failed to load stats",ee=$.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l($+ee)}finally{r(!1)}};g.useEffect(()=>{P()},[]);const A=g.useMemo(()=>[{key:"users",label:"Users",value:v.users,icon:da,color:ta.blue,series:Pl(v.users)},{key:"leads",label:"Leads",value:v.leads,icon:Mc,color:ta.cyan,series:Pl(v.leads)},{key:"files",label:"Files",value:v.files,icon:sP,color:ta.sky,series:Pl(v.files)},{key:"assistants",label:"Assistants",value:v.assistants,icon:tP,color:ta.cyan,series:Pl(v.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:v.phone_numbers,icon:gt,color:ta.sky,series:Pl(v.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:v.knowledge_base_documents,icon:Fd,color:ta.blue,series:Pl(v.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:v.call_logs,icon:k1,color:ta.cyan,series:Pl(v.call_logs)}],[v]),T=g.useMemo(()=>sE(w,"name","value"),[w]),L=g.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=g.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),F=g.useMemo(()=>sE(_.by_status||{},"status","count"),[_]),K=g.useMemo(()=>[{name:"Users",value:v.users},{name:"Leads",value:v.leads},{name:"Files",value:v.files},{name:"Assistants",value:v.assistants},{name:"Phones",value:v.phone_numbers},{name:"KB",value:v.knowledge_base_documents},{name:"Calls",value:v.call_logs}],[v]);return a.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&a.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:a.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),a.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),a.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[a.jsx(We,{className:"h-4 w-4"}),"Refresh"]}),a.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),a.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[a.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:A.map(V=>a.jsx(Sfe,{label:V.label,value:V.value,icon:V.icon,color:V.color,series:V.series,loading:n},V.key))}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[a.jsx(uc,{title:"Overview by Metric",right:a.jsx(Md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(b0,{data:K,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsxs("defs",{children:[a.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[a.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),a.jsxs("feMerge",{children:[a.jsx("feMergeNode",{in:"blur"}),a.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),a.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:ta.sky}),a.jsx("stop",{offset:"100%",stopColor:ta.light})]})]}),a.jsx(Zi,{strokeDasharray:N0,strokeOpacity:.2}),a.jsx(Ks,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Gs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(as,{contentStyle:{borderRadius:12},cursor:a.jsx(d1,{})}),a.jsx(Qd,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),a.jsx(uc,{title:"Users by Role",right:a.jsx(Md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(b0,{data:T,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:ta.blue}),a.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),a.jsx(Zi,{strokeDasharray:N0,strokeOpacity:.2}),a.jsx(Ks,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Gs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(as,{contentStyle:{borderRadius:12},cursor:a.jsx(d1,{})}),a.jsx(Qd,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[a.jsx(uc,{title:"Phone Numbers  Attached vs Unattached",right:a.jsx(Md,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(vp,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:ta.cyan}),a.jsx("stop",{offset:"100%",stopColor:ta.blue})]})}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsxs(Sf,{data:L,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:f,onMouseEnter:(V,$)=>m($),onMouseLeave:()=>m(null),activeShape:iE,label:t?({name:V,percent:$})=>$>=.18?V:"":!1,labelLine:!1,children:[a.jsx(Fs,{fill:"url(#pieGradPhones)"}),a.jsx(Fs,{fill:"#bfe9ff"})]})]})})})}),a.jsx(uc,{title:"Calls  Transferred vs Not",right:a.jsx(Md,{text:"Donut"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(vp,{children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:ta.sky}),a.jsx("stop",{offset:"100%",stopColor:ta.blue})]})}),a.jsx(as,{contentStyle:{borderRadius:12}}),a.jsxs(Sf,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(V,$)=>x($),onMouseLeave:()=>x(null),activeShape:iE,label:t?({name:V,percent:$})=>$>=.18?V:"":!1,labelLine:!1,children:[a.jsx(Fs,{fill:"url(#pieGradCalls)"}),a.jsx(Fs,{fill:"#d7eeff"})]})]})})})}),a.jsx(uc,{title:"Call Logs  by Status",right:a.jsx(Md,{text:"Bars"}),children:a.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:a.jsx(rs,{width:"100%",height:"100%",children:a.jsxs(b0,{data:F,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[a.jsx("defs",{children:a.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[a.jsx("stop",{offset:"0%",stopColor:ta.cyan}),a.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),a.jsx(Zi,{strokeDasharray:N0,strokeOpacity:.2}),a.jsx(Ks,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),a.jsx(Gs,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:V=>V>=1e3?`${Math.round(V/1e3)}k`:V}),a.jsx(as,{contentStyle:{borderRadius:12},cursor:a.jsx(d1,{})}),a.jsx(Qd,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),a.jsx("section",{className:"mt-8",children:a.jsx(uc,{title:"Status Breakdown (Compact List)",children:n?a.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[F.length===0&&a.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),F.map(V=>a.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[a.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:V.status}),a.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:e9(V.count)})]},V.status))]})})}),a.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function Md({text:e}){return a.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function Cfe(){const e=Xt(),[t,n]=g.useState(!1),[r,s]=g.useState(!1),[l,c]=g.useState(["","","",""]),[d,f]=g.useState({name:"",email:"",password:""}),[m,h]=g.useState(!1),[x,v]=g.useState({profile:!1,update:!1,delete:!1,otp:!1}),y=g.useRef([]),w=g.useRef(null),j=async()=>{var L,M;v(F=>({...F,profile:!0}));try{const F=localStorage.getItem("token");if(!F){U.error("Authentication required. Please login again."),e("/login");return}const K=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${F}`}});if(!K.ok){const $=await K.json();throw new Error($.detail||"Failed to fetch user data")}const V=await K.json();f({name:((L=V.users)==null?void 0:L.name)||"",email:((M=V.users)==null?void 0:M.email)||"",password:""})}catch(F){U.error(F.message),F.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{v(F=>({...F,profile:!1}))}};g.useEffect(()=>{j()},[]);const S=()=>d.name.trim()?d.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(d.email)?d.password&&d.password.length<8?(U.error("Password must be at least 8 characters long"),!1):!0:(U.error("Please enter a valid email address"),!1):(U.error("Email is required"),!1):(U.error("Name is required"),!1),k=async L=>{if(L.preventDefault(),!!S()){v(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F={name:d.name,email:d.email,...d.password&&{password:d.password}},K=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(F)});if(!K.ok){const $=await K.json();throw new Error($.detail||"Failed to update profile")}const V=await K.json();V!=null&&V.otp_needed?(s(!0),setTimeout(()=>{var $;return($=y.current[0])==null?void 0:$.focus()},0),U.info("Verification code sent to your email")):(localStorage.setItem("name",F.name),U.success("Profile updated successfully"),f($=>({...$,password:""})))}catch(M){U.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{v(M=>({...M,update:!1}))}}},_=async L=>{if(L.preventDefault(),l.some(M=>!M)){U.error("Please enter the complete verification code");return}v(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email,code:l.join(""),name:d.name,...d.password&&{password:d.password}})});if(!F.ok){const K=await F.json();throw new Error(K.detail||"Verification failed")}U.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",d.name),localStorage.setItem("email",d.email),f(K=>({...K,password:""}))}catch(M){U.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{v(M=>({...M,otp:!1}))}},C=async()=>{v(L=>({...L,delete:!0}));try{const L=localStorage.getItem("token");if(!L)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${L}`}});if(!M.ok){const F=await M.json();throw new Error(F.detail||"Failed to delete account")}U.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(L){U.error(L.message),L.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{v(L=>({...L,delete:!1}))}},P=(L,M)=>{var F;if(/^\d?$/.test(M)){const K=[...l];K[L]=M,c(K),M&&L<3&&((F=y.current[L+1])==null||F.focus())}},A=(L,M)=>{var F;M.key==="Backspace"&&!l[L]&&L>0&&((F=y.current[L-1])==null||F.focus())},T=async()=>{var L;v(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:d.email})});if(!F.ok){const K=await F.json();throw new Error(K.detail||"Failed to resend OTP")}c(["","","",""]),(L=y.current[0])==null||L.focus(),U.success("OTP resent successfully")}catch(M){U.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{v(M=>({...M,otp:!1}))}};return a.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:a.jsx("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(x.profile||x.update||x.delete||x.otp)&&a.jsx("div",{className:"flex justify-center items-center mb-4",children:a.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(Fw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-3",children:[a.jsx(Fw,{className:"w-5 h-5 text-blue-600 mr-2"}),a.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),a.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",a.jsx("strong",{children:d.email}),". Please enter it below."]}),a.jsxs("form",{onSubmit:_,children:[a.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map((L,M)=>a.jsx("input",{type:"text",maxLength:"1",value:L,onChange:F=>P(M,F.target.value),onKeyDown:F=>A(M,F),ref:F=>y.current[M]=F,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:x.otp},M))}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[a.jsx("button",{type:"submit",disabled:l.some(L=>!L)||x.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.otp?a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Uw,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),a.jsx("button",{type:"button",onClick:T,disabled:x.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:a.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[a.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(Ac,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),a.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:a.jsx(Ac,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),a.jsxs("form",{ref:w,onSubmit:k,children:[a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(Ac,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),a.jsx("input",{type:"text",value:d.name,onChange:L=>f({...d,name:L.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(zL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),a.jsx("input",{type:"email",value:d.email,onChange:L=>f({...d,email:L.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:x.profile||x.update,required:!0})]}),a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[a.jsx(BL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:t?"text":"password",value:d.password,onChange:L=>f({...d,password:L.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:x.profile||x.update,minLength:8}),a.jsx("button",{type:"button",onClick:()=>n(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:x.profile||x.update,children:t?a.jsx(Bd,{className:"w-5 h-5"}):a.jsx(Ud,{className:"w-5 h-5"})})]}),a.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:d.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",disabled:x.profile||x.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:x.update?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(Uw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),a.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(bp,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),a.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[a.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),a.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),a.jsx("button",{onClick:()=>h(!0),disabled:x.profile||x.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),m&&a.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[a.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:a.jsx(bp,{className:"w-5 h-5 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>h(!1),disabled:x.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),a.jsx("button",{onClick:()=>{h(!1),C()},disabled:x.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:x.delete?a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]})})})}const S0="http://localhost:8000",f1={CALL_LOGS:`${S0}/api/admin/call-logs`,VAPI_CALL_LOGS:`${S0}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${S0}/api/admin/call-logs/${e}`},Afe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",lE=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${S0}${t}`},Kt=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},Dd=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},a0=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),n=Math.floor(t/60),r=Math.floor(t%60);return`${n}m ${r}s`},dc=e=>String(e??"").toLowerCase();function oE(e=[],t=[]){const n=[],r=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};n.push(l),l.call_id&&r.set(l.call_id,l)}for(const s of t){const l=s.call_id&&r.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(n.push(c),c.call_id&&r.set(c.call_id,c))}return n.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),n}function cE(e,t){const n=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(n),s=document.createElement("a");s.href=r,s.download=e,s.click(),URL.revokeObjectURL(r)}function Tfe(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],n=d=>{const f=d==null?"":String(d);return/[",\n]/.test(f)?`"${f.replaceAll('"','""')}"`:f},r=[t.join(",")];for(const d of e)r.push([d.id??"",d.call_id??"",d.source??"",d.customer_name??"",d.customer_number??"",d.started_at??"",d.ended_at??"",d.duration??"",d.cost??"",d.status??"",d.ended_reason??"",d.transferred??"",d.criteria_satisfied??"",d.assistant_id??"",d.phone_number_id??"",((s=d.user)==null?void 0:s.id)??"",((l=d.user)==null?void 0:l.name)??"",((c=d.user)==null?void 0:c.email)??""].map(n).join(","));return r.join(`
`)}function Efe(){var ie;const[e,t]=g.useState([]),[n,r]=g.useState([]),[s,l]=g.useState([]),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(!0),[v,y]=g.useState(""),[w,j]=g.useState("all"),[S,k]=g.useState("all"),[_,C]=g.useState(""),[P,A]=g.useState(""),[T,L]=g.useState("started_at"),[M,F]=g.useState("desc"),[K,V]=g.useState(1),$=10,[ee,je]=g.useState(!1),[ne,D]=g.useState(null),[Y,H]=g.useState(null),[I,E]=g.useState(null),[R,z]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),W=g.useCallback(async()=>{if(R){m("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const G=localStorage.getItem("token");if(!G){m("No auth token found."),U.error("No authentication token found."),t([]),r([]),l([]);return}try{d(!0),m("");const xe={Authorization:`Bearer ${G}`,Accept:"application/json"},[ke,Re]=await Promise.all([fetch(f1.CALL_LOGS,{headers:xe,mode:"cors"}),h?fetch(f1.VAPI_CALL_LOGS,{headers:xe,mode:"cors"}):Promise.resolve(null)]);if(!(ke!=null&&ke.ok)){const ye=await ke.text();throw new Error(`Call logs HTTP ${ke.status}${ye?`  ${ye}`:""}`)}const Ee=await ke.json(),et=Array.isArray(Ee==null?void 0:Ee.call_logs)?Ee.call_logs:[];let Ze=[];if(h&&Re){if(!Re.ok){const Me=await Re.text();throw new Error(`VAPI call logs HTTP ${Re.status}${Me?`  ${Me}`:""}`)}const ye=await Re.json();Ze=Array.isArray(ye==null?void 0:ye.call_logs)?ye.call_logs:[]}t(et),r(Ze),l(oE(et,Ze))}catch(xe){m((xe==null?void 0:xe.message)||"Failed to load call logs"),U.error((xe==null?void 0:xe.message)||"Failed to load call logs")}finally{d(!1)}},[h,R]);g.useEffect(()=>{W()},[W]),g.useEffect(()=>{l(oE(e,h?n:[]))},[e,n,h]);const ce=g.useMemo(()=>{const G=new Set(s.map(xe=>(xe.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(G)]},[s]),Q=g.useMemo(()=>{let G=[...s];if(v.trim()){const xe=v.trim().toLowerCase();G=G.filter(ke=>{var Re,Ee;return dc(ke.customer_name).includes(xe)||dc(ke.customer_number).includes(xe)||dc(ke.call_id).includes(xe)||dc((Re=ke.user)==null?void 0:Re.email).includes(xe)||dc((Ee=ke.user)==null?void 0:Ee.name).includes(xe)})}if(w!=="all"&&(G=G.filter(xe=>dc(xe.status)===w)),S!=="all"){const xe=S==="yes";G=G.filter(ke=>!!ke.transferred===xe)}if(_){const xe=new Date(_).getTime();G=G.filter(ke=>new Date(ke.started_at||0).getTime()>=xe)}if(P){const xe=new Date(P).getTime();G=G.filter(ke=>new Date(ke.started_at||0).getTime()<=xe)}return G.sort((xe,ke)=>{const Re=M==="asc"?1:-1,Ee=xe[T],et=ke[T];return T.includes("date")||T.includes("started")?Re*(new Date(Ee||0)-new Date(et||0)):Re*((Ee??0)-(et??0))}),G},[s,v,w,S,_,P,T,M]),Z=Math.max(1,Math.ceil(Q.length/$)),Ne=K*$,re=Ne-$,we=Q.slice(re,Ne);g.useEffect(()=>{V(1)},[v,w,S,_,P,T,M]);const _e=g.useMemo(()=>{const G=Q.length,xe=Q.filter(et=>et.transferred).length,ke=G-xe,Re=Q.reduce((et,Ze)=>et+(Number.isFinite(Number(Ze.duration))?Number(Ze.duration):0),0),Ee=Q.reduce((et,Ze)=>et+(Number.isFinite(Number(Ze.cost))?Number(Ze.cost):0),0);return{total:G,transferred:xe,notTransferred:ke,totalDuration:Re,totalCost:Ee}},[Q]),Se=G=>{D(G),je(!0)},me=G=>H((G==null?void 0:G.id)||null),Be=async()=>{const G=Y;if(!G)return;const xe=localStorage.getItem("token");if(!xe)return U.error("No authentication token found.");try{E(G);const ke=await fetch(f1.CALL_LOG(G),{method:"DELETE",headers:{Authorization:`Bearer ${xe}`,Accept:"application/json"}}),Re=await ke.json();if(!ke.ok||!(Re!=null&&Re.success))throw new Error((Re==null?void 0:Re.detail)||(Re==null?void 0:Re.message)||`HTTP ${ke.status}`);U.success(" Call log deleted"),H(null),t(Ee=>Ee.filter(et=>et.id!==G))}catch(ke){U.error((ke==null?void 0:ke.message)||"Delete failed")}finally{E(null)}},Ue=()=>{const G=Tfe(Q),xe=new Date().toISOString().replace(/[:.]/g,"-");cE(`call-history-${xe}.csv`,G)},be=()=>{y(""),j("all"),k("all"),C(""),A(""),L("started_at"),F("desc")},q=()=>{const G=localStorage.getItem("admin_token_backup");if(!G){U.error("No admin backup token found.");return}localStorage.setItem("token",G),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),z(null),U.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[R&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(Lv,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:Kt((ie=R.acting_as)==null?void 0:ie.email)})]})]}),a.jsx(ya,{onClick:q,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(k1,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Afe}`,children:"Call History"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[a.jsx(lP,{className:"h-4 w-4"}),a.jsxs("label",{className:"flex items-center gap-2",children:[a.jsx("input",{type:"checkbox",checked:h,onChange:G=>x(G.target.checked),disabled:!!R,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),a.jsxs(ya,{onClick:Ue,disabled:Q.length===0||!!R,"aria-label":"Export CSV",children:[a.jsx(rf,{className:"mr-2 h-4 w-4"})," Export CSV"]}),a.jsx(ya,{onClick:W,disabled:c||!!R,"aria-label":"Refresh",children:c?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(m1,{label:"Total Calls",value:_e.total,Icon:Lv,tone:"blue"}),a.jsx(m1,{label:"Transferred",value:_e.transferred,Icon:Un,tone:"cyan"}),a.jsx(m1,{label:"Not Transferred",value:_e.notTransferred,Icon:xr,tone:"blue"}),a.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:a.jsx(B5,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),a.jsxs("div",{className:"text-sm font-black text-slate-900",children:[a0(_e.totalDuration),"  $",_e.totalCost.toFixed(2)]})]})]})})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[a.jsxs("div",{className:"md:col-span-4",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),a.jsxs("div",{className:"relative",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:v,onChange:G=>y(G.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!R,"aria-label":"Search calls"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),a.jsx("select",{value:w,onChange:G=>j(G.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ce.map(G=>a.jsx("option",{value:G,children:G==="all"?"All statuses":G},G))})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),a.jsxs("select",{value:S,onChange:G=>k(G.target.value),disabled:!!R,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[a.jsx("option",{value:"all",children:"All"}),a.jsx("option",{value:"yes",children:"Yes"}),a.jsx("option",{value:"no",children:"No"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),a.jsx("input",{type:"datetime-local",value:_,onChange:G=>C(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),a.jsx("input",{type:"datetime-local",value:P,onChange:G=>A(G.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("select",{value:T,onChange:G=>L(G.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[a.jsx("option",{value:"started_at",children:"Start time"}),a.jsx("option",{value:"duration",children:"Duration"}),a.jsx("option",{value:"cost",children:"Cost"})]}),a.jsxs("select",{value:M,onChange:G=>F(G.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[a.jsx("option",{value:"desc",children:"Desc"}),a.jsx("option",{value:"asc",children:"Asc"})]})]})]}),a.jsx("div",{className:"md:col-span-12 flex justify-end",children:(v||w!=="all"||S!=="all"||_||P||T!=="started_at"||M!=="desc")&&a.jsxs(ya,{onClick:be,className:"text-slate-700","aria-label":"Clear filters",children:[a.jsx(eu,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(k1,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",Q.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),R?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(Lv,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsx(ya,{onClick:q,variant:"primary",children:"Exit Impersonation"})})]}):c?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(We,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):Q.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Ls,{children:"Caller"}),a.jsx(Ls,{children:"User"}),a.jsx(Ls,{children:"Start"}),a.jsx(Ls,{children:"Duration"}),a.jsx(Ls,{children:"Status"}),a.jsx(Ls,{children:"Transferred"}),a.jsx(Ls,{children:"Cost"}),a.jsx(Ls,{children:"Source"}),a.jsx(Ls,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:we.map(G=>{const xe=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx($s,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Kt(G.customer_name)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[a.jsx(gt,{className:"h-3.5 w-3.5"})," ",Kt(G.customer_number)]}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",Kt(G.call_id)]})]})}),a.jsx($s,{children:G.user?a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[a.jsx(Sc,{className:"h-3.5 w-3.5"})," ",Kt(G.user.name)]}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:Kt(G.user.email)})]}):a.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),a.jsxs($s,{children:[a.jsx("div",{className:"text-xs text-slate-800",children:Dd(G.started_at)}),a.jsx("div",{className:"text-[11px] text-slate-500",children:Dd(G.ended_at)})]}),a.jsx($s,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(ro,{className:"h-3.5 w-3.5"})," ",a0(G.duration)]})}),a.jsxs($s,{children:[a.jsx(Vi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Kt(G.status)}),a.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",Kt(G.ended_reason)]})]}),a.jsx($s,{children:G.transferred?a.jsxs(Vi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[a.jsx(Un,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):a.jsxs(Vi,{className:"border bg-red-100 text-red-700 border-red-200",children:[a.jsx(xr,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),a.jsx($s,{children:a.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[a.jsx(B5,{className:"h-3.5 w-3.5"})," ",xe]})}),a.jsx($s,{children:a.jsx(Vi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Kt(G.source)})}),a.jsx($s,{children:a.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[a.jsx(ya,{onClick:()=>Se(G),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:a.jsx(An,{className:"h-4 w-4"})}),G.source!=="vapi"&&a.jsx(ya,{onClick:()=>me(G),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:I===G.id?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(sa,{className:"h-4 w-4"})})]})})]},G._key)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:we.map((G,xe)=>{const ke=G.cost===null||G.cost===void 0||Number.isNaN(Number(G.cost))?"Unknown":Number(G.cost).toFixed(2);return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[xe===0&&a.jsx(Pfe,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",Kt(G.customer_name)]}),a.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:Kt(G.customer_number)}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",Kt(G.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Dd(G.started_at)}),a.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[a.jsx(ro,{className:"h-3.5 w-3.5 mr-1"})," ",a0(G.duration)]}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:Kt(G.status)}),a.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:Kt(G.source)})]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",Kt(G.ended_reason)]}),a.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",ke]})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[a.jsxs(ya,{onClick:()=>Se(G),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[a.jsx(An,{className:"h-4 w-4 mr-1"})," View"]}),G.source!=="vapi"&&a.jsx(ya,{onClick:()=>me(G),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:I===G.id?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},G._key)})})}),Q.length>$&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:re+1}),"",a.jsx("b",{children:Math.min(Ne,Q.length)})," of ",a.jsx("b",{children:Q.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(ya,{onClick:()=>V(G=>Math.max(1,G-1)),disabled:K===1,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Z)},(G,xe)=>{let ke;if(Z<=5||K<=3?ke=xe+1:K>=Z-2?ke=Z-4+xe:ke=K-2+xe,ke<1||ke>Z)return null;const Re=K===ke;return a.jsx("button",{onClick:()=>V(ke),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Re?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${ke}`,children:ke},ke)})}),a.jsxs(ya,{onClick:()=>V(G=>Math.min(Z,G+1)),disabled:K>=Z,children:["Next ",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(Mt,{children:Y&&a.jsxs(Ofe,{onClose:()=>H(null),title:"Confirm Delete",children:[a.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(ya,{onClick:()=>H(null),variant:"subtle",children:"Cancel"}),a.jsx(ya,{onClick:Be,disabled:I===Y,variant:"danger",children:I===Y?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),a.jsx(Mt,{children:ee&&ne&&a.jsx(Mfe,{onClose:()=>je(!1),title:"Call Details",children:a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[a.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",Kt(ne.customer_name)]}),a.jsx("div",{className:"text-sm text-slate-600 break-all",children:Kt(ne.customer_number)}),a.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",Kt(ne.call_id)]}),a.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[a.jsx(Vi,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:Kt(ne.source)}),a.jsx(Vi,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:Kt(ne.status)}),ne.transferred?a.jsx(Vi,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):a.jsx(Vi,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),a.jsxs("div",{className:"text-right text-sm text-slate-700",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Start:"})," ",Dd(ne.started_at)]}),a.jsxs("div",{children:[a.jsx("b",{children:"End:"})," ",Dd(ne.ended_at)]}),a.jsxs("div",{className:"mt-1",children:[a.jsx("b",{children:"Duration:"})," ",a0(ne.duration)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Cost:"})," ",ne.cost===null||ne.cost===void 0||Number.isNaN(Number(ne.cost))?"Unknown":`$${Number(ne.cost).toFixed(2)}`]})]})]}),ne.user?a.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," ",Kt(ne.user.name)]}),a.jsx("div",{className:"ml-5 break-all",children:Kt(ne.user.email)})]}):a.jsx("div",{className:"mt-3 text-xs text-slate-600",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(Sc,{className:"h-3.5 w-3.5"}),a.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(ne.assistant_id||ne.phone_number_id)&&a.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[a.jsxs("div",{children:[a.jsx("b",{children:"Assistant ID:"})," ",Kt(ne.assistant_id)]}),a.jsxs("div",{children:[a.jsx("b",{children:"Phone Number ID:"})," ",Kt(ne.phone_number_id)]})]}),a.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[a.jsx("b",{children:"End Reason:"})," ",Kt(ne.ended_reason)]})]}),ne.recording_url&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),a.jsx("audio",{controls:!0,className:"w-full",children:a.jsx("source",{src:lE(ne.recording_url)||ne.recording_url})}),a.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:a.jsxs("a",{href:lE(ne.recording_url)||ne.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[a.jsx(Yi,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),ne.summary&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),a.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:ne.summary})]}),ne.transcript&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),a.jsxs(ya,{onClick:()=>cE(`transcript-${ne.call_id||ne.id}.txt`,ne.transcript),size:"sm",children:[a.jsx(rf,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),a.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:ne.transcript})]}),ne.analysis&&a.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[a.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),a.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof ne.analysis=="string"?ne.analysis:JSON.stringify(ne.analysis,null,2)})]})]})})})]})}function m1({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Vi({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Pfe(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function ya({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function Ls({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function $s({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Ofe({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Mfe({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),a.jsxs(he.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),a.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const ns={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},uE=/^\+\d{7,15}$/,dE=[{id:1,key:"core",label:"Core & Transcription",Icon:ej},{id:2,key:"voice",label:"Voice",Icon:rj},{id:3,key:"review",label:"Review & Create",Icon:tu}],Dfe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Rfe=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Lfe(){const e=Xt(),[t,n]=g.useState(1),[r,s]=g.useState(!1),[l,c]=g.useState(!1),d=g.useRef(null),[f,m]=g.useState(!1),[h,x]=g.useState("all"),[v,y]=g.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[w,j]=g.useState({}),[S,k]=g.useState([]),[_,C]=g.useState(!1),[P,A]=g.useState(""),T=g.useMemo(()=>{const D=v.voice_provider==="openai"?pu:xo;return(h==="all"?D:D.filter(H=>H.gender===h)).slice().sort((H,I)=>((H==null?void 0:H.showName)||"").localeCompare((I==null?void 0:I.showName)||""))},[v.voice_provider,h]);g.useEffect(()=>{if(!v.voice)return;const D=T.find(Y=>(Y==null?void 0:Y.name)===v.voice);D!=null&&D.voice&&(y(Y=>({...Y,voice_model:D.voice})),j(Y=>({...Y,voice_model:""})))},[v.voice,T]);const L="http://localhost:8000",M=D=>{const{id:Y,value:H,type:I,checked:E}=D.target,R=I==="checkbox"?E:H;y(z=>({...z,[Y]:R})),j(z=>({...z,[Y]:""}))},F=D=>{try{d.current&&(d.current.pause(),d.current=null);const Y=new Audio(D);d.current=Y,c(!0),Y.play().catch(()=>{U.error("Failed to play voice preview"),c(!1),d.current=null}),Y.onended=()=>{c(!1),d.current=null}}catch{U.error("Failed to play voice preview"),c(!1)}},K=()=>{d.current&&(d.current.pause(),d.current=null,c(!1))},V=D=>{if(D!==t){if(D===3&&(!v.voice||!f)){j(Y=>({...Y,voice:"Select a voice and press Next to continue"})),U.error("Please select a voice and press Next to continue.");return}K(),n(D)}},$=()=>{if(t===1){n(2);return}if(t===2){if(!v.voice){j(D=>({...D,voice:"Please select a voice"})),U.error("Select a voice to continue.");return}if(!f){j(D=>({...D,voice:"Click a voice card to confirm your choice"})),U.info("Click a voice card to confirm your choice.");return}n(3)}},ee=async()=>{C(!0),A("");try{const D=localStorage.getItem("token"),Y=await fetch(`${L}/api/purchased_numbers`,{headers:{Accept:"application/json",...D?{Authorization:`Bearer ${D}`}:{}}});if(!Y.ok)throw new Error(`HTTP ${Y.status}`);const H=await Y.json(),E=(Array.isArray(H)?H:(H==null?void 0:H.purchased_numbers)||[]).filter(Boolean).map(R=>({phone_number:(R==null?void 0:R.phone_number)||"",friendly_name:(R==null?void 0:R.friendly_name)||"",attached_assistant:(R==null?void 0:R.attached_assistant)??null})).filter(R=>R.phone_number);k(E)}catch(D){console.error(D),A("Failed to load your purchased numbers"),k([])}finally{C(!1)}};g.useEffect(()=>{ee()},[]);const je=()=>{const D=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],Y={};let H=!0;if(D.forEach(I=>{const E=v[I];(E==null||E===""||Number.isNaN(E))&&(Y[I]="Required",H=!1)}),(v.temperature<0||v.temperature>2)&&(Y.temperature="Temperature must be between 0 and 2",H=!1),v.maxTokens<1&&(Y.maxTokens="maxTokens must be a positive integer",H=!1),v.forwardingPhoneNumber&&!uE.test(v.forwardingPhoneNumber)&&(Y.forwardingPhoneNumber="Must be E.164 (+123...)",H=!1),v.attached_Number&&!uE.test(v.attached_Number)&&(Y.attached_Number="Invalid number format",H=!1),j(Y),!H){const I=z=>z.some(W=>Y[W]),E=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],R=["voice_provider","voice_model","voice"];I(E)?n(1):I(R)&&n(2)}return H},ne=async D=>{if(D.preventDefault(),!r){if(t!==3){U.error("Please complete the steps first.");return}if(je()){s(!0),K();try{const Y=localStorage.getItem("token"),H=`${L}/api/assistants`,I={name:v.name,provider:v.provider,first_message:v.first_message||null,model:v.model,systemPrompt:v.systemPrompt||null,knowledgeBase:v.knowledgeBase,leadsfile:v.leadsfile,temperature:Number(v.temperature),maxTokens:Number(v.maxTokens),transcribe_provider:v.transcribe_provider,transcribe_language:v.transcribe_language,transcribe_model:v.transcribe_model,languages:v.languages,forwardingPhoneNumber:v.forwardingPhoneNumber||null,endCallPhrases:v.endCallPhrases,voice_provider:v.voice_provider,voice:v.voice,voice_model:v.voice_model,attached_Number:v.attached_Number||null,draft:!!v.draft,assistant_toggle:!!v.assistant_toggle,category:v.category||null,speed:Number(v.speed),stability:Number(v.stability),similarityBoost:Number(v.similarityBoost)},E=await fetch(H,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...Y?{Authorization:`Bearer ${Y}`}:{}},body:JSON.stringify(I)});if(!E.ok){let R=`HTTP ${E.status}`;try{const z=await E.json();z!=null&&z.detail&&(R=z.detail)}catch{const z=await E.text();z&&(R=`${R}  ${z}`)}throw new Error(R)}U.success("Assistant created successfully!"),e("/user/callassistent")}catch(Y){U.error((Y==null?void 0:Y.message)||"Failed to create assistant")}finally{s(!1)}}}};return g.useEffect(()=>{m(!1),y(D=>({...D,voice:"",voice_model:""}))},[v.voice_provider]),a.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:ns.background},children:[a.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:a.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),a.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),a.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[a.jsx(he.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:ns.border,backgroundColor:ns.card},children:a.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[a.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),a.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),a.jsxs("div",{className:"relative p-6 text-center",children:[a.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[a.jsx(tu,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),a.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),a.jsx($fe,{currentStep:t,onChange:V}),a.jsx(he.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:ns.card,borderColor:ns.border},children:a.jsxs("form",{onSubmit:ne,noValidate:!0,children:[a.jsxs(Mt,{mode:"wait",children:[t===1&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[a.jsx(r0,{id:"name",label:"Assistant Name",value:v.name,onChange:M,error:w.name,placeholder:"SupportBot"}),a.jsx(r0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:v.forwardingPhoneNumber,onChange:M,error:w.forwardingPhoneNumber,placeholder:"+12345678901"}),a.jsxs("div",{className:"mb-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(tf,{children:"Attach Purchased Number (optional)"}),a.jsx("button",{type:"button",onClick:ee,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),a.jsxs("select",{id:"attached_Number",value:v.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[a.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(D=>a.jsx("option",{value:D.phone_number,className:"bg-white",children:D.friendly_name?`${D.friendly_name}  ${D.phone_number}`:D.phone_number},D.phone_number))]}),P&&a.jsx(Vl,{children:P}),w.attached_Number&&a.jsx(Vl,{children:w.attached_Number})]}),a.jsx(r0,{id:"category",label:"Category (optional)",value:v.category,onChange:M}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(tf,{children:"System Prompt"}),a.jsx(hE,{id:"systemPrompt",value:v.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),w.systemPrompt&&a.jsx(Vl,{children:w.systemPrompt})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx(tf,{children:"First Message"}),a.jsx(hE,{id:"first_message",value:v.first_message,onChange:M,placeholder:"Hello! ",rows:3}),w.first_message&&a.jsx(Vl,{children:w.first_message})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(pE,{id:"draft",label:"Save as Draft",checked:v.draft,onChange:M}),a.jsx(pE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:v.assistant_toggle,onChange:M})]})]},"step1"),t===2&&a.jsxs(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[a.jsx(mE,{id:"voice_provider",label:"Voice Provider",value:v.voice_provider,onChange:D=>{K();const Y=D.target.value;y(H=>({...H,voice_provider:Y,voice:"",voice_model:""})),m(!1),j(H=>({...H,voice:"",voice_model:""}))},options:Dfe,error:w.voice_provider}),a.jsx(mE,{id:"genderFilter",label:"Gender",value:h,onChange:D=>{K(),x(D.target.value),m(!1)},options:Rfe}),a.jsx(r0,{id:"voice_model",label:"Voice Model",value:v.voice_model,onChange:()=>{},error:w.voice_model,placeholder:v.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!f&&a.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",a.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",a.jsx("span",{className:"font-medium",children:"Next"}),"."]}),a.jsx("div",{className:"flex items-center justify-between",children:a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("span",{className:"font-medium",children:T.length})," voices"]})}),a.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[T.length===0&&a.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:ns.border},children:"No voices match this filter."}),T.map(D=>a.jsxs(he.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:v.voice===D.name?"#93c5fd":ns.border,backgroundColor:v.voice===D.name?"#eff6ff":ns.card},onClick:()=>{y(Y=>({...Y,voice:D.name,voice_model:D.voice,voice_provider:D.provider||v.voice_provider})),m(!0),j(Y=>({...Y,voice:"",voice_model:""}))},children:[a.jsx("div",{className:"absolute left-3 top-3",children:a.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${v.voice===D.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),a.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("div",{className:"text-lg font-semibold text-slate-900",children:D.showName||D.name}),a.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[D.gender||"unknown","  ",D.provider]}),a.jsx("div",{className:"mt-1 text-xs text-slate-500",children:D.voice})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(Ife,{isActive:l&&v.voice===D.name,onPlay:()=>F(D.audioSr||""),onStop:K})})]})]},`${D.provider}-${D.name}`))]}),w.voice&&a.jsx(Vl,{children:w.voice})]},"step2"),t===3&&a.jsx(he.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:a.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:ns.border},children:[a.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(Ol,{label:"Name",value:v.name||""}),a.jsx(Ol,{label:"Model",value:`${v.provider}  ${v.model}`}),a.jsx(Ol,{label:"Voice Provider",value:v.voice_provider}),a.jsx(Ol,{label:"Voice",value:v.voice||""}),a.jsx(Ol,{label:"Voice Model",value:v.voice_model||""}),a.jsx(Ol,{label:"Forwarding Number",value:v.forwardingPhoneNumber||""}),a.jsx(Ol,{label:"Attach Number",value:v.attached_Number||""})]}),a.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[a.jsx(h1,{onClick:()=>n(2),children:"Edit Voice"}),a.jsx(h1,{onClick:()=>n(1),children:"Edit Core"})]})]})},"step3")]}),a.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?a.jsx(h1,{onClick:()=>V(t-1),children:"Back"}):a.jsx("span",{}),t<3?a.jsxs(fE,{onClick:$,children:["Next ",a.jsx(Tn,{className:"ml-1 h-4 w-4"})]}):a.jsx(fE,{type:"submit",disabled:r,children:r?a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Xn,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function $fe({currentStep:e,onChange:t}){return a.jsxs("div",{className:"mb-6",children:[a.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:dE.map(({id:n,label:r,Icon:s})=>{const l=e===n;return a.jsxs(he.button,{onClick:()=>t(n),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[a.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:a.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),a.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},n)})}),a.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:a.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/dE.length*100}%`}})})]})}function fE({children:e,onClick:t,type:n="button",disabled:r}){return a.jsx("button",{type:n,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function h1({children:e,onClick:t}){return a.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function tf({children:e}){return a.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function Vl({children:e}){return a.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function r0({id:e,label:t,value:n,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:d=!1}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(tf,{children:t}),a.jsx("input",{id:e,type:"text",value:n,onChange:r,placeholder:l,readOnly:c,disabled:d,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${d?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&a.jsx(Vl,{children:s})]})}function mE({id:e,label:t,value:n,onChange:r,options:s,error:l}){return a.jsxs("div",{className:"mb-2",children:[a.jsx(tf,{children:t}),a.jsx("select",{id:e,value:n,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>a.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&a.jsx(Vl,{children:l})]})}function hE({id:e,value:t,onChange:n,placeholder:r,rows:s=4}){return a.jsx("textarea",{id:e,value:t,onChange:n,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function pE({id:e,label:t,checked:n,onChange:r}){return a.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[a.jsx("input",{id:e,type:"checkbox",checked:n,onChange:r,className:"accent-blue-600"}),a.jsx("span",{children:t})]})}function Ol({label:e,value:t}){return a.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:ns.border},children:[a.jsx("div",{className:"text-slate-500",children:e}),a.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Ife({isActive:e,onPlay:t,onStop:n}){return a.jsx("div",{className:"flex items-center gap-2",children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>a.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),a.jsx("button",{type:"button",onClick:n,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:a.jsx(Dc,{className:"h-5 w-5"})})]}):a.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:a.jsx(Ef,{className:"h-5 w-5"})})})}const Je={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},zfe=()=>{const{assistantId:e}=kf(),t=Xt(),[n,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(1),[f,m]=g.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,x]=g.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[v,y]=g.useState(!0),w=g.useRef(null),j=[...Vy,...Hy].sort((M,F)=>M.showName.localeCompare(F.showName));g.useEffect(()=>{(async()=>{const F=localStorage.getItem("token");if(!F){U.error("No authentication token found. Please log in."),t("/login");return}try{const K=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!K.ok){if(K.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(K.status===401)throw new Error("Unauthorized: Please log in again");{const ee=await K.text();throw new Error(`HTTP error! Status: ${K.status}`)}}const $=(await K.json()).assistants.find(ee=>ee.assistant_id===e);if(!$)throw new Error("Assistant not found");m({name:$.name||"",phone:$.phone||"",system_prompt:$.system_prompt||"",first_message:$.first_message||"",files:null,existing_file_urls:$.file_urls||[],voice:$.voice||"",voiceSet:"all"}),y(!1)}catch(K){console.error("Error fetching assistant:",K.message),U.error(K.message),t("/")}})()},[e,t]),g.useEffect(()=>{var M;if(c===2&&!f.voice){const F=j.filter(K=>f.voiceSet==="voiceset1"?Vy.includes(K):f.voiceSet==="voiceset2"?Hy.includes(K):!0);F.length>0&&((M=F[0])!=null&&M.name)&&(m(K=>({...K,voice:F[0].name})),x(K=>({...K,voice:""})))}},[f.voiceSet,c]);const S=M=>{const{id:F,value:K}=M.target;m(V=>({...V,[F]:K})),x(V=>({...V,[F]:""}))},k=M=>{m(F=>({...F,files:M.target.files})),x(F=>({...F,files:""}))},_=()=>{const M={...h};let F=!0;const K=/^\+\d{10,15}$/,V=["text/plain","application/pdf","text/csv"],$=5*1024*1024;if(f.name.trim()||(M.name="Please enter an assistant name",F=!1),f.phone?K.test(f.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",F=!1):(M.phone="Please select a phone number",F=!1),f.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",F=!1),f.first_message.trim()||(M.first_message="Please enter a first message",F=!1),f.files&&f.files.length>0)for(let ee=0;ee<f.files.length;ee++){if(!V.includes(f.files[ee].type)){M.files="Only .txt, .pdf, and .csv files are allowed",F=!1;break}if(f.files[ee].size>$){M.files="Each file must be under 5MB",F=!1;break}}return x(M),F},C=()=>{const M={...h};let F=!0;return f.voice||(M.voice="Please select a voice",F=!1),x(M),F},P=M=>{w.current&&(w.current.pause(),w.current=null,l(!1));const F=new Audio(M);w.current=F,l(!0),F.play().catch(K=>{console.error("Error playing audio:",K),U.error("Failed to play voice preview"),l(!1)}),F.onended=()=>{l(!1),w.current=null}},A=()=>{w.current&&(w.current.pause(),w.current=null,l(!1))},T=M=>{M!==c&&(d(M),A())},L=async M=>{if(M.preventDefault(),n)return;const F=_(),K=C();if(!F){d(1);return}if(!K){d(2);return}r(!0),A();try{const V=new FormData;if(V.append("assistantName",f.name),V.append("phone",f.phone),V.append("systemPrompt",f.system_prompt),V.append("firstMessage",f.first_message),V.append("voice",f.voice),f.files)for(let je=0;je<f.files.length;je++)V.append("files",f.files[je]);f.existing_file_urls.length>0&&V.append("file_urls",JSON.stringify(f.existing_file_urls));const $=localStorage.getItem("token");if(!$)throw new Error("No authentication token found. Please log in.");const ee=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${$}`},body:V});if(!ee.ok){const je=await ee.text();throw new Error(`HTTP error! Status: ${ee.status}`)}U.success("Assistant updated successfully!"),t("/admin/assistants")}catch(V){console.error("Error updating assistant:",V.message),U.error(V.message)}finally{r(!1)}};return v?a.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:Je.background},children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:Je.primary}})}):a.jsx("div",{className:"min-h-screen",style:{backgroundColor:Je.background},children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[a.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:Je.border},children:a.jsx("h1",{className:"text-3xl font-bold",style:{color:Je.text},children:"Edit Assistant"})}),a.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[a.jsx("button",{type:"button",onClick:()=>T(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),a.jsx("button",{type:"button",onClick:()=>T(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),a.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:Je.card,borderColor:Je.border},children:a.jsxs("form",{onSubmit:L,noValidate:!0,children:[c===1&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),a.jsx("input",{type:"text",id:"name",value:f.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),a.jsxs("select",{id:"phone",value:f.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card},children:[a.jsx("option",{value:"",children:"Select a phone number"}),a.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),a.jsx("option",{value:"+1987654321",children:"+1987654321"}),a.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),a.jsx("textarea",{id:"system_prompt",value:f.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),a.jsx("textarea",{id:"first_message",value:f.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),a.jsxs("div",{className:"mb-6 md:col-span-2",children:[a.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),a.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card}}),h.files&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),a.jsx("p",{className:"text-sm mt-2",style:{color:Je.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),f.existing_file_urls.length>0&&a.jsxs("div",{className:"mt-4",children:[a.jsx("p",{className:"font-medium",style:{color:Je.text},children:"Existing Files:"}),a.jsx("ul",{className:"list-disc pl-5",children:f.existing_file_urls.map((M,F)=>a.jsx("li",{children:a.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:Je.primary},children:M})},F))})]})]})]}),c===2&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:Je.text},children:[a.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),a.jsx("div",{className:"mb-6",children:a.jsxs("select",{id:"voiceSet",value:f.voiceSet,onChange:M=>{m(F=>({...F,voiceSet:M.target.value,voice:""})),x(F=>({...F,voice:""})),A()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:Je.border,color:Je.text,backgroundColor:Je.card},children:[a.jsx("option",{value:"all",children:"All Voices"}),a.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),a.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:j.filter(M=>f.voiceSet==="voiceset1"?Vy.includes(M):f.voiceSet==="voiceset2"?Hy.includes(M):!0).map(M=>M&&M.name?a.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${f.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:f.voice===M.name?Je.radioBorder:Je.border,backgroundColor:f.voice===M.name?Je.hover:Je.card},onClick:()=>{console.log("Selected voice:",M),m(F=>({...F,voice:M.name})),x(F=>({...F,voice:""}))},children:[a.jsx("div",{className:"absolute top-3 left-3",children:a.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${f.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:f.voice===M.name?Je.radioBorder:Je.border,backgroundColor:f.voice===M.name?Je.radioSelected:"transparent"},children:f.voice===M.name&&a.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),a.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-lg",style:{color:Je.text},children:M.showName||"Unnamed Voice"}),a.jsx("p",{className:"text-sm",style:{color:Je.lightText},children:M.gender||"Unknown"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),P(M.audioSr||"")},disabled:s&&f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Je.secondary,color:"white"},title:s&&f.voice!==M.name?"Audio playing":"Play voice preview",children:s&&f.voice===M.name?a.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),a.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),A()},disabled:!s||f.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Je.danger,color:"white"},title:"Stop voice preview",children:a.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&a.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:Je.danger},children:[a.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),a.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&a.jsx("button",{type:"button",onClick:()=>T(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:Je.border,color:Je.text},children:"Back"}),c===1&&a.jsx("button",{type:"button",onClick:()=>T(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:Je.primary,color:"white"},children:"Next"}),c===2&&a.jsx("button",{type:"submit",disabled:n,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:Je.primary,color:"white"},children:n?"Updating...":"Update Assistant"})]})]})})]})})},s0="http://localhost:8000";function Bfe(){const e=Xt(),[t,n]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(!0),[m,h]=g.useState(""),[x,v]=g.useState("all"),[y,w]=g.useState("all"),[j,S]=g.useState("created_at"),[k,_]=g.useState("desc"),[C,P]=g.useState(!1),[A,T]=g.useState(null),[L,M]=g.useState([]),[F,K]=g.useState(!1),[V,$]=g.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ee,je]=g.useState(1),ne=10,D=g.useMemo(()=>localStorage.getItem("token"),[]),Y=async()=>{try{c(!0);const q=await fetch(`${s0}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ie=await q.json(),G=Array.isArray(ie)?ie:Array.isArray(ie==null?void 0:ie.assistants)?ie.assistants:[];n(G)}catch(q){console.error(q),U.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};g.useEffect(()=>{Y()},[]),g.useEffect(()=>{if(!d)return;const q=setInterval(Y,15e3);return()=>clearInterval(q)},[d]);const H=g.useMemo(()=>{let q=[...t];x!=="all"&&(q=q.filter(G=>((G==null?void 0:G.provider)||"").toLowerCase()===x)),y!=="all"&&(q=q.filter(G=>((G==null?void 0:G.category)||"").toLowerCase()===y));const ie=m.trim().toLowerCase();return ie&&(q=q.filter(G=>[G==null?void 0:G.name,G==null?void 0:G.model,G==null?void 0:G.voice,G==null?void 0:G.category,G==null?void 0:G.attached_Number].filter(Boolean).map(String).map(ke=>ke.toLowerCase()).some(ke=>ke.includes(ie)))),q.sort((G,xe)=>{if(j==="created_at"){const Ee=G!=null&&G.created_at?new Date(G.created_at).getTime():0,et=xe!=null&&xe.created_at?new Date(xe.created_at).getTime():0;return k==="asc"?Ee-et:et-Ee}const ke=((G==null?void 0:G[j])??"").toString().toLowerCase(),Re=((xe==null?void 0:xe[j])??"").toString().toLowerCase();return ke<Re?k==="asc"?-1:1:ke>Re?k==="asc"?1:-1:0}),q},[t,m,x,y,j,k]),I=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),E=g.useMemo(()=>{const q=new Set((t||[]).map(ie=>((ie==null?void 0:ie.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(q)]},[t]),R=Math.max(1,Math.ceil(H.length/ne)),z=Math.min(ee,R),W=H.slice((z-1)*ne,z*ne),ce=g.useMemo(()=>H.length?H.reduce((q,ie)=>{const G=q!=null&&q.created_at?new Date(q.created_at):null,xe=ie!=null&&ie.created_at?new Date(ie.created_at):null;return!G&&xe?ie:!xe&&G||!G&&!xe?q:xe>G?ie:q},H[0]):null,[H]),Q=q=>{j===q?_(ie=>ie==="asc"?"desc":"asc"):(S(q),_("asc"))},Z=q=>{T(q),P(!0)},Ne=async()=>{if(A)try{const q=await fetch(`${s0}/api/assistants/${A}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});if(!q.ok){let ie=`HTTP ${q.status}`;try{const G=await q.json();G!=null&&G.detail&&(ie=G.detail)}catch{}throw new Error(ie)}U.success("Assistant deleted"),M(ie=>ie.filter(G=>G!==A)),Y()}catch(q){console.error(q),U.error((q==null?void 0:q.message)||"Delete failed")}finally{P(!1),T(null)}},re=q=>{const ie=q==null?void 0:q.knowledge_base;if(Array.isArray(ie)&&ie.length){const G=ie.filter(xe=>typeof xe=="string"&&/^https?:\/\//i.test(xe));if(G.length){G.forEach(xe=>window.open(xe,"_blank","noopener"));return}}U.info("No file URLs available for this assistant.")},we=q=>{if(!(q!=null&&q.vapi_assistant_id)){U.error("Missing VAPI Assistant ID");return}$({vapi_assistant_id:q.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},_e=async q=>{q.preventDefault();const{vapi_assistant_id:ie,number:G,first_name:xe,last_name:ke,email:Re}=V;if(!G)return U.error("Enter the customer's phone number (E.164 preferred)");try{const Ee=`${s0}/api/phone-call/${encodeURIComponent(ie)}/${encodeURIComponent(G)}`,et={first_name:xe||"Caller",last_name:ke||"",email:Re||"caller@example.com",add_date:new Date().toISOString(),mobile_no:G,custom_field_01:null,custom_field_02:null},Ze=await fetch(Ee,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:D?`Bearer ${D}`:""},body:JSON.stringify(et)}),ye=await Ze.json().catch(()=>({}));if(!Ze.ok||(ye==null?void 0:ye.success)===!1)throw new Error((ye==null?void 0:ye.detail)||`HTTP ${Ze.status}`);U.success("Call initiated"),K(!1)}catch(Ee){console.error(Ee),U.error((Ee==null?void 0:Ee.message)||"Failed to initiate call")}},Se=q=>L.includes(q),me=q=>{M(ie=>ie.includes(q)?ie.filter(G=>G!==q):[...ie,q])},Be=()=>{const q=W.map(G=>G.id).filter(Boolean),ie=q.every(G=>L.includes(G));M(G=>ie?G.filter(xe=>!q.includes(xe)):Array.from(new Set([...G,...q])))},Ue=async()=>{if(!L.length)return U.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const q of L)await fetch(`${s0}/api/assistants/${q}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:D?`Bearer ${D}`:""}});U.success("Bulk delete complete"),M([]),Y()}catch(q){console.error(q),U.error("Bulk delete encountered an error")}},be=()=>{const q=["Name","Model","Voice","Attached Number","Category","Created"],ie=H.map(Ee=>[(Ee==null?void 0:Ee.name)??"",(Ee==null?void 0:Ee.model)??"",(Ee==null?void 0:Ee.voice)??"",(Ee==null?void 0:Ee.attached_Number)??"",(Ee==null?void 0:Ee.category)??"",Ee!=null&&Ee.created_at?new Date(Ee.created_at).toLocaleString():""]),G=[q,...ie].map(Ee=>Ee.map(et=>`"${String(et).replace(/"/g,'""')}"`).join(",")).join(`
`),xe=new Blob([G],{type:"text/csv;charset=utf-8;"}),ke=URL.createObjectURL(xe),Re=document.createElement("a");Re.href=ke,Re.download="assistants.csv",Re.click(),URL.revokeObjectURL(ke)};return r?a.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:a.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[a.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),a.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),a.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((q,ie)=>a.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[a.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),a.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},ie))}),a.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[a.jsx("div",{className:"border-b border-gray-100 p-6",children:a.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((q,ie)=>a.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),a.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),a.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((G,xe)=>a.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},xe))})]})},ie))]})]})})}):a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[a.jsxs("div",{className:"relative overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),a.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),a.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[a.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[a.jsxs("div",{className:"text-white",children:[a.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:a.jsx(Wc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),a.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),a.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),a.jsxs("span",{children:[H.length," Active"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(yp,{className:"h-4 w-4"}),a.jsxs("span",{children:["Auto-refresh ",d?"enabled":"disabled"]})]})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[a.jsxs("button",{onClick:()=>f(q=>!q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${d?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[a.jsx("div",{className:`h-2 w-2 rounded-full ${d?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),a.jsxs("button",{onClick:Y,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(GL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),a.jsxs("button",{onClick:be,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[a.jsx(qL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),a.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[a.jsx(bx,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),a.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"relative",children:[a.jsx(YL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),a.jsx("input",{value:m,onChange:q=>h(q.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[a.jsx(xE,{label:"Provider",value:x,onChange:v,options:I,icon:a.jsx(KL,{className:"h-4 w-4"})}),a.jsx(xE,{label:"Category",value:y,onChange:w,options:E,icon:a.jsx(Gc,{className:"h-4 w-4"})})]})]})]})]}),a.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(i0,{title:"Total Assistants",value:H.length,icon:a.jsx(Wc,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),a.jsx(i0,{title:"Active Calls",value:"24",icon:a.jsx(Qi,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),a.jsx(i0,{title:"Success Rate",value:"94.2%",icon:a.jsx(fs,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),a.jsx(i0,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:a.jsx(yp,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),L.length>0&&a.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:a.jsx(fs,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-semibold text-blue-900",children:[L.length," assistants selected"]}),a.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:Be,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),a.jsx("button",{onClick:Ue,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),H.length===0?a.jsx(Hfe,{}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[a.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),a.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-gray-50/60",children:a.jsxs("tr",{children:[a.jsx(Ufe,{className:"w-12 text-center",checked:W.every(q=>L.includes(q.id))&&W.length>0,onChange:Be}),a.jsx(fc,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:j==="name"?k:null,onSort:Q}),a.jsx(fc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:j==="model"?k:null,onSort:Q}),a.jsx(fc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:j==="voice"?k:null,onSort:Q}),a.jsx(fc,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:j==="attached_Number"?k:null,onSort:Q}),a.jsx(fc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:j==="category"?k:null,onSort:Q}),a.jsx(fc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:j==="created_at"?k:null,onSort:Q}),a.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:W.map(q=>a.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Se(q.id)?"bg-blue-50/50":""}`,children:[a.jsx(Ffe,{className:"w-12 text-center",checked:Se(q.id),onChange:()=>me(q.id)}),a.jsx("td",{className:"w-[24%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:a.jsx(Gc,{className:"h-5 w-5"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:q.name||""}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(q.knowledge_base)?q.knowledge_base.length:0," KB items"]})]})]})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(Pc,{variant:"secondary",children:q.model||""})})}),a.jsx("td",{className:"w-[12%] px-6 py-4",children:a.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:a.jsx(Pc,{variant:"accent",children:q.voice||""})})}),a.jsx("td",{className:"w-[16%] px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-center gap-2",children:[a.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:q.attached_Number||""}),q.attached_Number&&a.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>qfe(q.attached_Number),children:a.jsx(HL,{className:"h-4 w-4"})})]})}),a.jsx("td",{className:"w-[10%] px-6 py-4",children:a.jsx("div",{className:"text-center",children:q.category?a.jsx(Pc,{variant:"primary",children:q.category}):a.jsx("span",{className:"text-gray-400",children:""})})}),a.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:q.created_at?new Date(q.created_at).toLocaleDateString():""}),a.jsx("td",{className:"w-[18%] px-6 py-4",children:a.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[a.jsx(l0,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${q.id}`),variant:"primary",children:a.jsx(gx,{className:"h-4 w-4"})}),a.jsx(l0,{title:"View Files",onClick:()=>re(q),variant:"success",children:a.jsx(vx,{className:"h-4 w-4"})}),a.jsx(l0,{title:"Start Call",onClick:()=>we(q),variant:"secondary",children:a.jsx(Qi,{className:"h-4 w-4"})}),a.jsx(l0,{title:"Delete",onClick:()=>Z(q.id),variant:"danger",children:a.jsx(Yc,{className:"h-4 w-4"})})]})})]},q.id??q.name))})]})]}),a.jsx("div",{className:"space-y-4 xl:hidden",children:W.map(q=>a.jsx(Vfe,{assistant:q,isSelected:Se(q.id),onToggleSelect:()=>me(q.id),onEdit:()=>e(`/admin/edit-assistants/${q.id}`),onViewFiles:()=>re(q),onCall:()=>we(q),onDelete:()=>Z(q.id)},q.id??q.name))}),a.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(z-1)*ne+1," to ",Math.min(z*ne,H.length)," of"," ",H.length," assistants"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs(gE,{disabled:z<=1,onClick:()=>je(q=>Math.max(1,q-1)),children:[a.jsx(UL,{className:"h-4 w-4"}),"Previous"]}),a.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,R)},(q,ie)=>{const G=ie+1;return a.jsx("button",{onClick:()=>je(G),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${G===z?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:G},G)})}),a.jsxs(gE,{disabled:z>=R,onClick:()=>je(q=>Math.min(R,q+1)),children:["Next",a.jsx(FL,{className:"h-4 w-4"})]})]})]})]})]}),C&&a.jsx(vE,{onClose:()=>P(!1),children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:a.jsx(Yc,{className:"h-8 w-8 text-red-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),a.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center gap-3",children:[a.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),a.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Ne,children:"Delete Assistant"})]})]})}),F&&a.jsxs(vE,{onClose:()=>K(!1),children:[a.jsxs("div",{className:"mb-6 text-center",children:[a.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:a.jsx(Qi,{className:"h-8 w-8 text-blue-600"})}),a.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),a.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),a.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[a.jsx(o0,{label:"Customer Phone Number",value:V.number,onChange:q=>$(ie=>({...ie,number:q})),placeholder:"+1 (555) 123-4567",required:!0}),a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[a.jsx(o0,{label:"First Name",value:V.first_name,onChange:q=>$(ie=>({...ie,first_name:q})),placeholder:"John"}),a.jsx(o0,{label:"Last Name",value:V.last_name,onChange:q=>$(ie=>({...ie,last_name:q})),placeholder:"Doe"})]}),a.jsx(o0,{label:"Email Address",value:V.email,onChange:q=>$(ie=>({...ie,email:q})),placeholder:"john@example.com",type:"email"}),a.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[a.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),a.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function i0({title:e,value:t,icon:n,trend:r,trendUp:s,subtitle:l}){return a.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),n]}),a.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&a.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&a.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function xE({label:e,value:t,onChange:n,options:r}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:t,onChange:s=>n(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>a.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),a.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:a.jsx(xx,{className:"h-4 w-4 text-white/70"})})]})}function Pc({children:e,variant:t="default"}){const n={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return a.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${n[t]}`,children:e})}function l0({title:e,onClick:t,children:n,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return a.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:n})}function fc({label:e,sortKey:t,sortDir:n,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return a.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:a.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,a.jsxs("div",{className:"flex flex-col",children:[a.jsx(VL,{className:`h-3 w-3 transition-colors ${n==="asc"?"text-blue-600":"text-gray-400"}`}),a.jsx(xx,{className:`-mt-1 h-3 w-3 transition-colors ${n==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Ufe({checked:e,onChange:t,className:n=""}){return a.jsx("th",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(fs,{className:"h-3 w-3"})})})})}function Ffe({checked:e,onChange:t,className:n=""}){return a.jsx("td",{className:`px-6 py-4 ${n}`,children:a.jsx("div",{className:"flex items-center justify-center",children:a.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&a.jsx(fs,{className:"h-3 w-3"})})})})}function Vfe({assistant:e,isSelected:t,onToggleSelect:n,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return a.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[a.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx("button",{onClick:n,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&a.jsx(fs,{className:"h-4 w-4"})}),a.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:a.jsx(Gc,{className:"h-6 w-6"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),a.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),a.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),a.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),a.jsx(Pc,{variant:"secondary",children:e.model||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),a.jsx(Pc,{variant:"accent",children:e.voice||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),a.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),a.jsxs("div",{children:[a.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?a.jsx(Pc,{variant:"primary",children:e.category}):a.jsx("span",{className:"text-gray-400",children:""})]})]}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[a.jsx(gx,{className:"h-4 w-4"}),"Edit"]}),a.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[a.jsx(vx,{className:"h-4 w-4"}),"Files"]}),a.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[a.jsx(Qi,{className:"h-4 w-4"}),"Call"]}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[a.jsx(Yc,{className:"h-4 w-4"}),"Delete"]})]})]})}function gE({disabled:e,onClick:t,children:n}){return a.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:n})}function vE({children:e,onClose:t}){return a.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[a.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),a.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[a.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:a.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function o0({label:e,value:t,onChange:n,placeholder:r,required:s,type:l="text"}){return a.jsxs("div",{children:[a.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:l,value:t,onChange:c=>n(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Hfe(){return a.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[a.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:a.jsx(Wc,{className:"h-10 w-10 text-blue-600"})}),a.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),a.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),a.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[a.jsx(bx,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function qfe(e){e&&navigator.clipboard.writeText(e).then(()=>U.success("Copied to clipboard")).catch(()=>U.info(e))}const bE="http://localhost:8000",yE={PHONE_NUMBERS:`${bE}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${bE}/api/admin/phone-numbers/${e}`},Kfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function wE(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function Ar({children:e,className:t="",variant:n="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},d={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return a.jsx("button",{...s,className:`${l} ${c[r]} ${d[n]} ${t}`,children:e})}function c0({children:e,className:t=""}){return a.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Ml({children:e}){return a.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function Dl({children:e}){return a.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Gfe(){return a.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function u0({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return a.jsxs(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[a.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Yfe({name:e="?",size:t=38,url:n=null}){const r=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return a.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:a.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function Wfe({children:e,onClose:t,title:n}){return a.jsxs(he.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[a.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),a.jsxs(he.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[a.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[a.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:n}),a.jsx(Ar,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:a.jsx(pa,{className:"h-5 w-5"})})]}),a.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Xfe(){var Y,H;const[e,t]=g.useState([]),[n,r]=g.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=g.useState(!1),[c,d]=g.useState(""),[f,m]=g.useState(null),[h,x]=g.useState(""),[v,y]=g.useState("all"),[w,j]=g.useState("all"),[S,k]=g.useState(1),_=10,[C,P]=g.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[A,T]=g.useState(null),L=g.useCallback(async()=>{if(C){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("You're in impersonation mode. Exit impersonation to use admin tools.");return}const I=localStorage.getItem("token");if(!I){t([]),r({total:0,attached:0,unattached:0,countries:0}),d("No auth token found."),U.error("No authentication token found.");return}try{l(!0),d("");const E=await fetch(yE.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"},mode:"cors"});if(!E.ok){const Ne=await E.text();throw new Error(`HTTP ${E.status}${Ne?`  ${Ne}`:""}`)}const R=await E.json();if(!(R!=null&&R.success)||!Array.isArray(R==null?void 0:R.phone_numbers))throw new Error("Unexpected response shape.");const z=(R.phone_numbers||[]).map(Ne=>({id:Ne.id,phone_number:Ne.phone_number,friendly_name:Ne.friendly_name||"",region:Ne.region||"",postal_code:Ne.postal_code||"",iso_country:(Ne.iso_country||"").toUpperCase(),last_month_payment:Ne.last_month_payment,created_at:Ne.created_at,updated_at:Ne.updated_at,attached_assistant:Ne.attached_assistant,vapi_phone_uuid:Ne.vapi_phone_uuid||null,owner:Ne.user||null}));z.sort((Ne,re)=>new Date(re.updated_at||re.created_at||0)-new Date(Ne.updated_at||Ne.created_at||0)),t(z);const W=z.filter(Ne=>Ne.attached_assistant!==null&&Ne.attached_assistant!==void 0).length,ce=R.total_phone_numbers??z.length,Q=Math.max(0,ce-W),Z=new Set(z.map(Ne=>Ne.iso_country||"")).size;r({total:ce,attached:W,unattached:Q,countries:Z})}catch(E){d((E==null?void 0:E.message)||"Failed to load phone numbers"),U.error((E==null?void 0:E.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);g.useEffect(()=>{L()},[L]);const M=g.useMemo(()=>{const I=new Set(e.map(E=>E.iso_country).filter(Boolean));return["all",...Array.from(I).sort()]},[e]),F=g.useMemo(()=>{let I=[...e];if(h.trim()){const E=h.trim().toLowerCase();I=I.filter(R=>{var z,W;return String(R.phone_number||"").toLowerCase().includes(E)||String(R.friendly_name||"").toLowerCase().includes(E)||String(R.region||"").toLowerCase().includes(E)||String(R.postal_code||"").toLowerCase().includes(E)||String(((z=R.owner)==null?void 0:z.name)||"").toLowerCase().includes(E)||String(((W=R.owner)==null?void 0:W.email)||"").toLowerCase().includes(E)})}return v!=="all"&&(I=I.filter(E=>v==="attached"?E.attached_assistant:!E.attached_assistant)),w!=="all"&&(I=I.filter(E=>(E.iso_country||"").toUpperCase()===w)),I},[e,h,v,w]),K=Math.max(1,Math.ceil(F.length/_)),V=S*_,$=V-_,ee=F.slice($,V);g.useEffect(()=>{k(1)},[h,v,w]);const je=I=>T(I),ne=async()=>{const I=A;if(!I)return;const E=localStorage.getItem("token");if(!E)return U.error("No authentication token found.");const R=e.find(z=>z.id===I);if(R!=null&&R.attached_assistant)return U.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{m(I);const z=await fetch(yE.PHONE_NUMBER(I),{method:"DELETE",headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}),W=await z.json();if(!z.ok||!(W!=null&&W.success))throw new Error((W==null?void 0:W.detail)||(W==null?void 0:W.message)||`HTTP ${z.status}`);U.success(" Phone number deleted"),t(ce=>ce.filter(Q=>Q.id!==I)),r(ce=>({...ce,total:Math.max(0,ce.total-1),unattached:Math.max(0,ce.unattached-1)})),T(null)}catch(z){U.error((z==null?void 0:z.message)||"Delete failed")}finally{m(null)}},D=()=>{const I=localStorage.getItem("admin_token_backup");if(!I){U.error("No admin backup token found.");return}localStorage.setItem("token",I),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),P(null),U.success(" Exited impersonation"),window.location.reload()};return a.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&a.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:a.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[a.jsx(Yi,{className:"h-4 w-4 shrink-0"}),a.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),a.jsxs("span",{className:"truncate",children:["Acting as ",a.jsx("b",{className:"break-all",children:(Y=C.acting_as)==null?void 0:Y.email})]})]}),a.jsxs(Ar,{onClick:D,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[a.jsx(pa,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),a.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),a.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),a.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[a.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[a.jsx(he.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),a.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[a.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:a.jsx(gt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:a.jsx("span",{className:`bg-clip-text text-transparent ${Kfe}`,children:"Phone Numbers"})}),a.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),a.jsx("div",{className:"flex flex-wrap items-center gap-2",children:a.jsx(Ar,{onClick:L,disabled:s||!!C,children:s?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),a.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[a.jsx(u0,{label:"Total Numbers",value:n.total,Icon:gt,tone:"blue"}),a.jsx(u0,{label:"Attached",value:n.attached,Icon:Yi,tone:"cyan"}),a.jsx(u0,{label:"Unattached",value:n.unattached,Icon:xr,tone:"blue"}),a.jsx(u0,{label:"Countries",value:n.countries,Icon:Nc,tone:"cyan"})]}),a.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:a.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[a.jsxs("div",{className:"relative flex-1 min-w-0",children:[a.jsx(ka,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),a.jsx("input",{value:h,onChange:I=>x(I.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),a.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[a.jsx(eu,{className:"h-4 w-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs("select",{value:v,onChange:I=>y(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[a.jsx("option",{value:"all",children:"All statuses"}),a.jsx("option",{value:"attached",children:"Attached"}),a.jsx("option",{value:"unattached",children:"Unattached"})]}),a.jsx("select",{value:w,onChange:I=>j(I.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(I=>a.jsx("option",{value:I,children:I==="all"?"All countries":I},I))}),(h||v!=="all"||w!=="all")&&a.jsx(Ar,{onClick:()=>{x(""),y("all"),j("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),a.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:a.jsx(gt,{className:"h-4 w-4"})}),a.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",F.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[a.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?a.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:a.jsx(Yi,{className:"h-9 w-9 text-amber-500"})}),a.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),a.jsx("div",{className:"mt-3",children:a.jsxs(Ar,{onClick:D,variant:"primary",children:[a.jsx(pa,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?a.jsxs("div",{className:"grid place-content-center py-16",children:[a.jsx(We,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),a.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):F.length===0?a.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[a.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:a.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),a.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),a.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden xl:block",children:a.jsx("div",{className:"w-full",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:a.jsxs("tr",{children:[a.jsx(Ml,{children:"Number"}),a.jsx(Ml,{children:"Owner"}),a.jsx(Ml,{children:"Region"}),a.jsx(Ml,{children:"Country"}),a.jsx(Ml,{children:"Status"}),a.jsx(Ml,{children:"Last Month"}),a.jsx(Ml,{children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.map(I=>{const E=!!I.attached_assistant;return a.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[a.jsx(Dl,{children:a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:I.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name})]})}),a.jsx(Dl,{children:I.owner?a.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[a.jsx(Yfe,{name:I.owner.name,size:34}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-xs font-semibold truncate",children:I.owner.name}),a.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[a.jsx(vr,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),a.jsx("span",{className:"truncate break-all",children:I.owner.email})]})]})]}):a.jsx("div",{className:"text-xs text-slate-500",children:""})}),a.jsx(Dl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx(Xs,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-all",children:I.region})]})}),a.jsx(Dl,{children:a.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[a.jsx(Nc,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]})}),a.jsx(Dl,{children:E?a.jsxs(c0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Un,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):a.jsxs(c0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(xr,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),a.jsx(Dl,{children:a.jsx("div",{className:"text-xs font-semibold text-slate-800",children:wE(I.last_month_payment)})}),a.jsx(Dl,{children:a.jsx("div",{className:"flex flex-wrap gap-2",children:a.jsx(Ar,{onClick:()=>je(I.id),variant:"danger",size:"sm",disabled:E,title:E?"Detach from assistant before deleting":"Delete number",children:f===I.id?a.jsx(We,{className:"h-4 w-4 animate-spin"}):a.jsx(sa,{className:"h-4 w-4"})})})})]},I.id)})})]})})}),a.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ee.map((I,E)=>{var z,W;const R=!!I.attached_assistant;return a.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[E===0&&a.jsx(Gfe,{}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:I.phone_number}),a.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:I.friendly_name}),a.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx(cP,{className:"h-4 w-4 text-slate-500"}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"truncate font-semibold",children:((z=I.owner)==null?void 0:z.name)||""}),((W=I.owner)==null?void 0:W.email)&&a.jsx("div",{className:"text-xs text-slate-500 truncate",children:I.owner.email})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Nc,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium",children:I.iso_country||""})]}),a.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[a.jsx(Xs,{className:"h-4 w-4 text-slate-500"}),a.jsx("span",{className:"text-xs font-medium break-words",children:I.region})]}),a.jsx("div",{className:"col-span-2",children:R?a.jsxs(c0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[a.jsx(Un,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):a.jsxs(c0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[a.jsx(xr,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),a.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:a.jsx(Ar,{onClick:()=>je(I.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:R,children:f===I.id?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):a.jsxs(a.Fragment,{children:[a.jsx(sa,{className:"h-4 w-4 mr-1"})," Delete"]})})}),a.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:wE(I.last_month_payment)})]})]},I.id)})})}),F.length>_&&a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[a.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",a.jsx("b",{children:$+1}),"",a.jsx("b",{children:Math.min(V,F.length)})," of ",a.jsx("b",{children:F.length})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs(Ar,{onClick:()=>k(I=>Math.max(1,I-1)),disabled:S===1,children:[a.jsx(Ca,{className:"h-4 w-4 mr-1"})," Prev"]}),a.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,K)},(I,E)=>{let R;if(K<=5||S<=3?R=E+1:S>=K-2?R=K-4+E:R=S-2+E,R<1||R>K)return null;const z=S===R;return a.jsx("button",{onClick:()=>k(R),className:`px-3 py-2 text-sm font-semibold rounded-xl ${z?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:R},R)})}),a.jsxs(Ar,{onClick:()=>k(I=>Math.min(K,I+1)),disabled:S>=K,children:["Next ",a.jsx(Tn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),a.jsx(Mt,{children:A&&a.jsxs(Wfe,{onClose:()=>T(null),title:"Confirm Delete",children:[a.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",a.jsx("b",{className:"break-words",children:((H=e.find(I=>I.id===A))==null?void 0:H.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),a.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[a.jsx(Ar,{onClick:()=>T(null),variant:"subtle",children:"Cancel"}),a.jsx(Ar,{onClick:ne,disabled:f===A,variant:"danger",children:f===A?a.jsxs(a.Fragment,{children:[a.jsx(We,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const Zfe=()=>{const[e,t]=g.useState([]),[n,r]=g.useState({name:"",id:null}),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(!1),[h,x]=g.useState(null),v=Xt();g.useEffect(()=>{y()},[]);const y=async()=>{try{const A=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!A.ok)throw new Error("Failed to fetch leads");const T=await A.json();t(T)}catch(A){console.error("Error fetching leads:",A)}},w=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),d(!1),y()}catch(A){console.error("Error creating lead:",A)}},j=A=>{r({name:A.name,id:A.id}),l(!0),d(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${n.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:n.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),d(!1),y()}catch(A){console.error("Error updating lead:",A)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");m(!1),x(null),y()}catch(A){console.error("Error deleting lead:",A)}},_=A=>{v(`/admin/lead/${A}`)},C=e.length,P=e.length>0?e[e.length-1]:null;return a.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:a.jsxs("div",{className:"max-w-7xl mx-auto",children:[a.jsx("div",{className:"mb-6",children:a.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),a.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),a.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:P?`${P.name} (${P.created_at})`:"No leads yet"})]})]}),a.jsx("div",{className:"flex justify-end mb-6",children:a.jsxs("button",{onClick:()=>{l(!s),d(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",a.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),a.jsxs("div",{className:"flex flex-col gap-4",children:[a.jsx("input",{type:"text",placeholder:"Lead Name",value:n.name,onChange:A=>r({...n,name:A.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:c?S:w,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),f&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:a.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[a.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),a.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),a.jsxs("div",{className:"flex justify-end gap-3",children:[a.jsx("button",{onClick:()=>m(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),a.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[a.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:a.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),a.jsxs("table",{className:"w-full text-sm sm:text-base",children:[a.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:a.jsxs("tr",{className:"hidden sm:table-row",children:[a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),a.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(A=>a.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),A.id]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),A.name]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),A.created_at]}),a.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[a.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),a.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[a.jsx("button",{onClick:()=>_(A.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:a.jsx(MG,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>j(A),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:a.jsx(OG,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),a.jsx("button",{onClick:()=>{x(A.id),m(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:a.jsx(RG,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},A.id))})]})]})]})})},jE="http://localhost:8000",NE={LIST:`${jE}/api/admin/leadss`,UPDATE:e=>`${jE}/api/admin/leads/${e}`};function uo(...e){return e.filter(Boolean).join(" ")}const za=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Qfe(e,t=250){const[n,r]=g.useState(e);return g.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),n}function Jfe(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${s}`}function SE(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const eme={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},_E={show:{transition:{staggerChildren:.05}}},tme={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},nme={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function mc({children:e,tone:t="slate"}){const n={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return a.jsx("span",{className:uo("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",n[t]||n.slate),children:e})}function p1({label:e,value:t,Icon:n,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return a.jsx(he.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:a.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[a.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:a.jsx(n,{className:"h-7 w-7"})}),a.jsxs("div",{children:[a.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),a.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function ame(){const e=g.useRef(localStorage.getItem("token")||null),[t,n]=g.useState([]),[r,s]=g.useState(!0),[l,c]=g.useState(!1),[d,f]=g.useState(""),m=Qfe(d,250),[h,x]=g.useState("add_date"),[v,y]=g.useState("desc"),[w,j]=g.useState(1),[S,k]=g.useState(12),[_,C]=g.useState(!1),[P,A]=g.useState(!1),[T,L]=g.useState(null),[M,F]=g.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function K(){if(!e.current){s(!1),U.error("No auth token found. Please log in.");return}try{s(!0);const W=await fetch(NE.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!W.ok)throw new Error(`HTTP ${W.status}`);const ce=await W.json(),Q=Array.isArray(ce)?ce:Array.isArray(ce==null?void 0:ce.leads)?ce.leads:[];n(Q)}catch(W){console.error(W),U.error("Failed to fetch leads"),n([])}finally{s(!1)}}g.useEffect(()=>{K()},[]);async function V(){c(!0),await K(),c(!1)}const $=g.useMemo(()=>{const W=m.trim().toLowerCase();let ce=t.filter(Z=>W?[`${Z.first_name||""} ${Z.last_name||""}`.toLowerCase(),(Z.email||"").toLowerCase(),(Z.mobile||"").toLowerCase(),(Z.salesforce_id||"").toLowerCase(),(Z.state||"").toLowerCase()].some(we=>we.includes(W)):!0);const Q=v==="asc"?1:-1;return ce.sort((Z,Ne)=>{const re=`${Z.first_name||""} ${Z.last_name||""}`.trim().toLowerCase(),we=`${Ne.first_name||""} ${Ne.last_name||""}`.trim().toLowerCase();let _e,Se;switch(h){case"name":_e=re,Se=we;break;case"email":_e=(Z.email||"").toLowerCase(),Se=(Ne.email||"").toLowerCase();break;case"mobile":_e=(Z.mobile||"").toLowerCase(),Se=(Ne.mobile||"").toLowerCase();break;case"state":_e=(Z.state||"").toLowerCase(),Se=(Ne.state||"").toLowerCase();break;case"add_date":default:_e=new Date(Z.add_date||0).getTime(),Se=new Date(Ne.add_date||0).getTime()}return _e<Se?-1*Q:_e>Se?1*Q:0}),ce},[t,m,h,v]),ee=$.length,je=Math.max(1,Math.ceil(ee/S));g.useEffect(()=>{w>je&&j(je)},[w,je]);const ne=(w-1)*S,D=ne+S,Y=$.slice(ne,D),H=g.useMemo(()=>{const W=$.filter(Q=>!Q.dnc).length,ce=$.filter(Q=>!!Q.dnc).length;return{total:$.length,callable:W,dnc:ce}},[$]);function I(W){L(W),F({first_name:W.first_name||"",last_name:W.last_name||"",email:W.email||"",add_date:Jfe(W.add_date),salesforce_id:W.salesforce_id||"",mobile:W.mobile||"",state:W.state||""}),C(!0)}function E(W){const{name:ce,value:Q}=W.target;F(Z=>({...Z,[ce]:Q}))}async function R(){if(!T)return;if(!e.current){U.error("No auth token found.");return}const W={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{A(!0);const ce=await fetch(NE.UPDATE(T.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(W)}),Q=await ce.json().catch(()=>({}));if(!ce.ok||(Q==null?void 0:Q.success)===!1)throw new Error((Q==null?void 0:Q.detail)||`HTTP ${ce.status}`);const Z=(Q==null?void 0:Q.updated_lead)||{...T,...W};n(Ne=>Ne.map(re=>re.id===T.id?{...re,...Z}:re)),U.success("Lead updated"),C(!1),L(null)}catch(ce){console.error(ce),U.error((ce==null?void 0:ce.message)||"Update failed")}finally{A(!1)}}function z(W){x(ce=>ce===W?(y(Q=>Q==="asc"?"desc":"asc"),ce):(y(W==="add_date"?"desc":"asc"),W)),j(1)}return a.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[a.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[a.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),a.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),a.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),a.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:a.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-black tracking-tight",children:a.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),a.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsx(kE,{onClick:V,icon:a.jsx(We,{className:uo("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),a.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[a.jsxs("div",{className:"relative sm:col-span-2",children:[a.jsx(ka,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),a.jsx("input",{value:d,onChange:W=>{f(W.target.value),j(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),a.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[a.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",a.jsx("span",{className:"font-semibold text-slate-900",children:ee})]}),a.jsx("select",{value:S,onChange:W=>{k(Number(W.target.value)),j(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(W=>a.jsxs("option",{value:W,children:[W," / page"]},W))})]})]})]})}),a.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[a.jsx(p1,{label:"Total Leads",value:H.total,Icon:da,tone:"blue"}),a.jsx(p1,{label:"Callable",value:H.callable,Icon:Un,tone:"cyan"}),a.jsx(p1,{label:"DNC",value:H.dnc,Icon:xr,tone:"blue"})]})}),a.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[a.jsx(he.div,{initial:"hidden",animate:"show",variants:_E,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:a.jsxs("table",{className:"min-w-full text-left",children:[a.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:a.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[a.jsx(Rd,{sortKey:"add_date",sortBy:h,sortDir:v,onSort:z,children:"Added"}),a.jsx(Rd,{sortKey:"name",sortBy:h,sortDir:v,onSort:z,children:"Name"}),a.jsx(Rd,{sortKey:"email",sortBy:h,sortDir:v,onSort:z,children:"Email"}),a.jsx(Rd,{sortKey:"mobile",sortBy:h,sortDir:v,onSort:z,children:"Mobile"}),a.jsx(Rd,{sortKey:"state",sortBy:h,sortDir:v,onSort:z,children:"State"}),a.jsx("th",{className:"px-5 py-3",children:"SFDC"}),a.jsx("th",{className:"px-5 py-3",children:"Status"}),a.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-slate-100",children:r?a.jsx(AE,{rows:8,cols:8}):Y.length===0?a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):Y.map(W=>{const ce=`${za(W.first_name)} ${W.last_name?za(W.last_name):""}`.trim();return a.jsxs(he.tr,{variants:eme,className:"hover:bg-slate-50/70 transition-colors",children:[a.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:W.add_date?a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(Uz,{className:"h-4 w-4 text-slate-400"}),SE(W.add_date)]}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ce}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(vr,{className:"h-4 w-4 text-slate-400"}),za(W.email)]})}),a.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(q5,{className:"h-4 w-4 text-slate-400"}),za(W.mobile)]})}),a.jsx("td",{className:"px-5 py-3",children:W.state?a.jsx(mc,{tone:"blue",children:za(W.state)}):"Unknown"}),a.jsx("td",{className:"px-5 py-3 text-slate-800",children:a.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[a.jsx(F5,{className:"h-4 w-4 text-slate-400"}),za(W.salesforce_id)]})}),a.jsx("td",{className:"px-5 py-3",children:W.dnc?a.jsx(mc,{tone:"red",children:"DNC"}):a.jsx(mc,{tone:"green",children:"Callable"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"flex items-center justify-end",children:a.jsx(x1,{onClick:()=>I(W),icon:a.jsx(H5,{className:"h-4 w-4"}),children:"Edit"})})})]},W.id)})})]})}),a.jsx("div",{className:"lg:hidden",children:r?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:a.jsx(AE,{rows:6,cols:1})}):Y.length===0?a.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):a.jsx(he.div,{initial:"hidden",animate:"show",variants:_E,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:Y.map(W=>{const ce=`${za(W.first_name)} ${W.last_name?za(W.last_name):""}`.trim();return a.jsxs(he.article,{variants:tme,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ce}),a.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:W.add_date?SE(W.add_date):"Unknown"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[W.state?a.jsx(mc,{tone:"blue",children:za(W.state)}):null,W.dnc?a.jsx(mc,{tone:"red",children:"DNC"}):a.jsx(mc,{tone:"green",children:"Callable"})]})]}),a.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[a.jsx(d0,{icon:a.jsx(vr,{className:"h-4 w-4"}),label:"Email",value:za(W.email),copySafe:!0}),a.jsx(d0,{icon:a.jsx(q5,{className:"h-4 w-4"}),label:"Mobile",value:za(W.mobile),copySafe:!0}),a.jsx(d0,{icon:a.jsx(F5,{className:"h-4 w-4"}),label:"SFDC",value:za(W.salesforce_id)}),W.timezone?a.jsx(d0,{icon:a.jsx(Mc,{className:"h-4 w-4"}),label:"Timezone",value:za(W.timezone)}):null]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx(x1,{onClick:()=>I(W),icon:a.jsx(H5,{className:"h-4 w-4"}),children:"Edit"})})]},W.id)})})}),!r&&ee>0&&a.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[a.jsxs("div",{className:"text-sm",children:["Showing ",a.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(D,ee)})," of ",ee]}),a.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[a.jsxs(CE,{disabled:w<=1,onClick:()=>j(W=>Math.max(1,W-1)),children:[a.jsx(Ca,{className:"h-4 w-4"})," Prev"]}),a.jsxs("div",{className:"text-sm",children:["Page ",a.jsx("span",{className:"font-semibold text-slate-900",children:w})," / ",je]}),a.jsxs(CE,{disabled:w>=je,onClick:()=>j(W=>Math.min(je,W+1)),children:["Next ",a.jsx(Tn,{className:"h-4 w-4"})]})]})]})]}),a.jsx(Mt,{children:_&&a.jsxs(a.Fragment,{children:[a.jsx(he.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:nme,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),a.jsxs(he.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[a.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:a.jsx(pa,{className:"h-5 w-5"})}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",a.jsxs("span",{className:"font-medium",children:["#",T==null?void 0:T.id]})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kE,{onClick:()=>C(!1),children:"Cancel"}),a.jsx(x1,{onClick:R,disabled:P,icon:P?a.jsx(Xn,{className:"h-4 w-4 animate-spin"}):void 0,children:P?"Saving":"Save"})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(Rl,{label:"First name",name:"first_name",value:M.first_name,onChange:E}),a.jsx(Rl,{label:"Last name",name:"last_name",value:M.last_name,onChange:E}),a.jsx(Rl,{label:"Email",name:"email",value:M.email,onChange:E,type:"email"}),a.jsx(Rl,{label:"Mobile",name:"mobile",value:M.mobile,onChange:E}),a.jsx(Rl,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:E}),a.jsx(Rl,{label:"Add date",name:"add_date",value:M.add_date,onChange:E,type:"date"}),a.jsx(Rl,{label:"State",name:"state",value:M.state,onChange:E})]}),a.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[a.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),a.jsxs("div",{children:[a.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function x1({children:e,onClick:t,disabled:n,icon:r,type:s="button"}){return a.jsxs(he.button,{whileTap:n?void 0:{scale:.98},type:s,onClick:t,disabled:n,className:uo("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function kE({children:e,onClick:t,icon:n,type:r="button"}){return a.jsxs(he.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[n,a.jsx("span",{className:"whitespace-nowrap",children:e})]})}function CE({children:e,disabled:t,onClick:n}){return a.jsx(he.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:n,className:uo("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function Rd({children:e,sortKey:t,sortBy:n,sortDir:r,onSort:s}){const l=n===t;return a.jsx("th",{className:uo("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:a.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,a.jsx("span",{className:uo("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function AE({rows:e=6,cols:t=6}){return a.jsx(a.Fragment,{children:Array.from({length:e}).map((n,r)=>a.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Rl({label:e,name:t,value:n,onChange:r,type:s="text"}){return a.jsxs("label",{className:"block",children:[a.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),a.jsx("input",{type:s,name:t,value:n,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function d0({label:e,value:t,copySafe:n=!1,icon:r}){return a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),a.jsxs("div",{className:"min-w-0",children:[a.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),a.jsx("div",{className:uo("text-sm text-slate-800",n?"break-all":"break-words"),children:t})]})]})}const rme=()=>{const[e,t]=g.useState(null),[n,r]=g.useState(!1),[s,l]=g.useState(!1),[c,d]=g.useState(!1),[f,m]=g.useState(""),[h,x]=g.useState(!0),[v,y]=g.useState(0),w=g.useRef(null),j=g.useRef(null),{id:S}=kf(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;g.useEffect(()=>{const $=ee=>{c&&(ee.key==="Enter"||ee.key==="Escape")&&d(!1)};return window.addEventListener("keydown",$),()=>window.removeEventListener("keydown",$)},[c]);const C=$=>{$.preventDefault(),$.stopPropagation(),r(!0)},P=$=>{$.preventDefault(),$.stopPropagation(),r(!1)},A=$=>{$.preventDefault(),$.stopPropagation()},T=$=>{$.preventDefault(),$.stopPropagation(),r(!1);const ee=$.dataTransfer.files[0];ee&&ee.type==="text/csv"?ee.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ee):(m("Please upload a valid CSV file."),x(!1),d(!0))},L=$=>{const ee=$.target.files[0];ee&&ee.type==="text/csv"?ee.size>k?(m("File size exceeds 5MB limit."),x(!1),d(!0)):t(ee):(m("Please upload a valid CSV file."),x(!1),d(!0))},M=()=>{w.current.click()},F=()=>{const $=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ee=new Blob([$],{type:"text/csv"}),je=window.URL.createObjectURL(ee),ne=document.createElement("a");ne.href=je,ne.download="sample_users.csv",document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(je)},K=async()=>{if(!e){m("No file selected. Please choose a CSV file."),x(!1),d(!0);return}const $=_();if(!$){console.error("No auth token found. Please log in."),m("Please log in to continue."),x(!1),d(!0);return}const ee=new FormData;ee.append("file",e);try{l(!0),y(0);const je=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${$}`},body:ee});if(y(100),je.ok){const ne=await je.json();console.log("File uploaded successfully:",ne),m("CSV file uploaded successfully!"),x(!0),d(!0),t(null),w.current&&(w.current.value="")}else{let ne=`HTTP error! status: ${je.status}`;try{const D=await je.json();D&&D.error&&(ne=D.error)}catch{}throw new Error(ne)}}catch(je){console.error("Error uploading file:",je),m("Failed to upload CSV file. Please try again."),x(!1),d(!0)}finally{l(!1),y(0)}},V=$=>$<1024?`${$} B`:$<1024*1024?`${($/1024).toFixed(2)} KB`:`${($/(1024*1024)).toFixed(2)} MB`;return a.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[a.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${n?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:A,onDragLeave:P,onDrop:T,children:a.jsxs("div",{className:"text-center",children:[a.jsx(rM,{className:`mx-auto text-5xl ${n?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),a.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),a.jsxs("div",{className:"flex justify-center gap-4",children:[a.jsx("input",{type:"file",accept:".csv",onChange:L,ref:w,className:"hidden"}),a.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),a.jsxs("button",{onClick:F,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[a.jsx(nM,{}),"Download Sample CSV"]})]}),e&&a.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[a.jsxs("p",{children:[a.jsx("strong",{children:"File:"})," ",e.name]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Size:"})," ",V(e.size)]}),a.jsxs("p",{children:[a.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),a.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[a.jsx("button",{onClick:K,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:a.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${v}%`}})})]}),c&&a.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:a.jsxs("div",{ref:j,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?a.jsx(tM,{className:"text-green-400 text-2xl"}):a.jsx(aM,{className:"text-red-400 text-2xl"}),a.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),a.jsx("p",{className:"text-gray-500 mb-6",children:f}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:()=>d(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function ea({children:e}){const t=Xt(),[n,r]=g.useState(!1),[s,l]=g.useState(!0);return g.useEffect(()=>{const c=localStorage.getItem("token"),d=localStorage.getItem("role");if(!c||!d){U.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}d==="user"?r(!0):d==="admin"?(U.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(U.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?a.jsx("div",{children:"Loading..."}):n?e:null}function Cr({children:e}){const t=Xt(),[n,r]=g.useState(!1);return g.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){U.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(U.error("You are not authorized to access this page."),t("/user",{replace:!0})):(U.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{U.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),n?e:null}function sme(){return a.jsxs(a.Fragment,{children:[a.jsx(LI,{children:a.jsxs(mI,{children:[a.jsx(pt,{path:"/",element:a.jsx(dI,{to:"/signup"})}),a.jsx(pt,{path:"/signup",element:a.jsx(XU,{})}),a.jsx(pt,{path:"/login",element:a.jsx(KK,{})}),a.jsx(pt,{path:"/otp",element:a.jsx(qK,{})}),a.jsx(pt,{path:"/forget_password",element:a.jsx(YK,{})}),a.jsx(pt,{path:"/profile",element:a.jsx(yG,{})}),a.jsxs(pt,{path:"/user",element:a.jsx(IG,{}),children:[a.jsx(pt,{path:"dashboard",element:a.jsx(ea,{children:a.jsx(Nue,{})})}),a.jsx(pt,{path:"Appointments",element:a.jsx(ea,{children:a.jsx(Wde,{})})}),a.jsx(pt,{path:"CustomForms",element:a.jsx(ea,{children:a.jsx(tfe,{})})}),a.jsx(pt,{path:"FacebookForms",element:a.jsx(ea,{children:a.jsx(ife,{})})}),a.jsx(pt,{path:"PhoneCalls",element:a.jsx(ea,{children:a.jsx(Rue,{})})}),a.jsx(pt,{path:"callhistory",element:a.jsx(ea,{children:a.jsx(Jue,{})})}),a.jsx(pt,{path:"settings",element:a.jsx(ea,{children:a.jsx(Que,{})})}),a.jsx(pt,{path:"CRM",element:a.jsx(ea,{children:a.jsx(qde,{})})}),a.jsx(pt,{path:"callassistent",element:a.jsx(ea,{children:a.jsx(ede,{})})}),a.jsx(pt,{path:"edit-assistant/:assistantId",element:a.jsx(ea,{children:a.jsx(ode,{})})}),a.jsx(pt,{path:"assistant/create",element:a.jsx(ea,{children:a.jsx(hde,{})})}),a.jsx(pt,{path:"leads",element:a.jsx(ea,{children:a.jsx(vde,{})})}),a.jsx(pt,{path:"lead/:id",element:a.jsx(ea,{children:a.jsx(jde,{})})}),a.jsx(pt,{path:"upload-csv",element:a.jsx(ea,{children:a.jsx(_de,{})})}),a.jsx(pt,{path:"campaigns",element:a.jsx(ea,{children:a.jsx(ZT,{})})}),a.jsx(pt,{path:"campain",element:a.jsx(ea,{children:a.jsx(ZT,{})})})]}),a.jsxs(pt,{path:"/admin",element:a.jsx(ffe,{}),children:[a.jsx(pt,{path:"dashboard",element:a.jsx(Cr,{children:a.jsx(kfe,{})})}),a.jsx(pt,{path:"Users",element:a.jsx(Cr,{children:a.jsx(xfe,{})})}),a.jsx(pt,{path:"PhoneCalls",element:a.jsx(Cr,{children:a.jsx(Efe,{})})}),a.jsx(pt,{path:"settings",element:a.jsx(Cr,{children:a.jsx(Cfe,{})})}),a.jsx(pt,{path:"addassistands",element:a.jsx(Cr,{children:a.jsx(Lfe,{})})}),a.jsx(pt,{path:"edit-assistants/:assistantId",element:a.jsx(Cr,{children:a.jsx(zfe,{})})}),a.jsx(pt,{path:"assistants",element:a.jsx(Cr,{children:a.jsx(Bfe,{})})}),a.jsx(pt,{path:"callhistory",element:a.jsx(Cr,{children:a.jsx(Xfe,{})})}),a.jsx(pt,{path:"lead/:id",element:a.jsx(Cr,{children:a.jsx(Zfe,{})})}),a.jsx(pt,{path:"lead",element:a.jsx(Cr,{children:a.jsx(ame,{})})}),a.jsx(pt,{path:"upload-csv",element:a.jsx(Cr,{children:a.jsx(rme,{})})})]}),a.jsx(pt,{path:"*",element:a.jsx(ZU,{})})]})}),a.jsx(Cz,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}y$.createRoot(document.getElementById("root")).render(a.jsx(g.StrictMode,{children:a.jsx(sme,{})}));
