var aI=Object.defineProperty;var rI=(e,t,a)=>t in e?aI(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a;var rv=(e,t,a)=>rI(e,typeof t!="symbol"?t+"":t,a);function sI(e,t){for(var a=0;a<t.length;a++){const r=t[a];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const l=Object.getOwnPropertyDescriptor(r,s);l&&Object.defineProperty(e,s,l.get?l:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();function ds(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var sv={exports:{}},Vu={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m3;function iI(){if(m3)return Vu;m3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function a(r,s,l){var c=null;if(l!==void 0&&(c=""+l),s.key!==void 0&&(c=""+s.key),"key"in s){l={};for(var u in s)u!=="key"&&(l[u]=s[u])}else l=s;return s=l.ref,{$$typeof:e,type:r,key:c,ref:s!==void 0?s:null,props:l}}return Vu.Fragment=t,Vu.jsx=a,Vu.jsxs=a,Vu}var f3;function lI(){return f3||(f3=1,sv.exports=iI()),sv.exports}var n=lI(),iv={exports:{}},ht={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h3;function oI(){if(h3)return ht;h3=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.iterator;function b(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,w={};function S(A,L,R){this.props=A,this.context=L,this.refs=w,this.updater=R||y}S.prototype.isReactComponent={},S.prototype.setState=function(A,L){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,L,"setState")},S.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function k(){}k.prototype=S.prototype;function _(A,L,R){this.props=A,this.context=L,this.refs=w,this.updater=R||y}var C=_.prototype=new k;C.constructor=_,j(C,S.prototype),C.isPureReactComponent=!0;var P=Array.isArray,T={H:null,A:null,T:null,S:null,V:null},E=Object.prototype.hasOwnProperty;function $(A,L,R,q,ce,Z){return R=Z.ref,{$$typeof:e,type:A,key:L,ref:R!==void 0?R:null,props:Z}}function M(A,L){return $(A.type,L,void 0,void 0,void 0,A.props)}function F(A){return typeof A=="object"&&A!==null&&A.$$typeof===e}function K(A){var L={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(R){return L[R]})}var z=/\/+/g;function U(A,L){return typeof A=="object"&&A!==null&&A.key!=null?K(""+A.key):L.toString(36)}function ae(){}function ke(A){switch(A.status){case"fulfilled":return A.value;case"rejected":throw A.reason;default:switch(typeof A.status=="string"?A.then(ae,ae):(A.status="pending",A.then(function(L){A.status==="pending"&&(A.status="fulfilled",A.value=L)},function(L){A.status==="pending"&&(A.status="rejected",A.reason=L)})),A.status){case"fulfilled":return A.value;case"rejected":throw A.reason}}throw A}function se(A,L,R,q,ce){var Z=typeof A;(Z==="undefined"||Z==="boolean")&&(A=null);var W=!1;if(A===null)W=!0;else switch(Z){case"bigint":case"string":case"number":W=!0;break;case"object":switch(A.$$typeof){case e:case t:W=!0;break;case h:return W=A._init,se(W(A._payload),L,R,q,ce)}}if(W)return ce=ce(A),W=q===""?"."+U(A,0):q,P(ce)?(R="",W!=null&&(R=W.replace(z,"$&/")+"/"),se(ce,L,R,"",function(je){return je})):ce!=null&&(F(ce)&&(ce=M(ce,R+(ce.key==null||A&&A.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+W)),L.push(ce)),1;W=0;var _e=q===""?".":q+":";if(P(A))for(var te=0;te<A.length;te++)q=A[te],Z=_e+U(q,te),W+=se(q,L,R,Z,ce);else if(te=b(A),typeof te=="function")for(A=te.call(A),te=0;!(q=A.next()).done;)q=q.value,Z=_e+U(q,te++),W+=se(q,L,R,Z,ce);else if(Z==="object"){if(typeof A.then=="function")return se(ke(A),L,R,q,ce);throw L=String(A),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return W}function O(A,L,R){if(A==null)return A;var q=[],ce=0;return se(A,q,"","",function(Z){return L.call(R,Z,ce++)}),q}function H(A){if(A._status===-1){var L=A._result;L=L(),L.then(function(R){(A._status===0||A._status===-1)&&(A._status=1,A._result=R)},function(R){(A._status===0||A._status===-1)&&(A._status=2,A._result=R)}),A._status===-1&&(A._status=0,A._result=L)}if(A._status===1)return A._result.default;throw A._result}var G=typeof reportError=="function"?reportError:function(A){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof A=="object"&&A!==null&&typeof A.message=="string"?String(A.message):String(A),error:A});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",A);return}console.error(A)};function B(){}return ht.Children={map:O,forEach:function(A,L,R){O(A,function(){L.apply(this,arguments)},R)},count:function(A){var L=0;return O(A,function(){L++}),L},toArray:function(A){return O(A,function(L){return L})||[]},only:function(A){if(!F(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},ht.Component=S,ht.Fragment=a,ht.Profiler=s,ht.PureComponent=_,ht.StrictMode=r,ht.Suspense=m,ht.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=T,ht.__COMPILER_RUNTIME={__proto__:null,c:function(A){return T.H.useMemoCache(A)}},ht.cache=function(A){return function(){return A.apply(null,arguments)}},ht.cloneElement=function(A,L,R){if(A==null)throw Error("The argument must be a React element, but you passed "+A+".");var q=j({},A.props),ce=A.key,Z=void 0;if(L!=null)for(W in L.ref!==void 0&&(Z=void 0),L.key!==void 0&&(ce=""+L.key),L)!E.call(L,W)||W==="key"||W==="__self"||W==="__source"||W==="ref"&&L.ref===void 0||(q[W]=L[W]);var W=arguments.length-2;if(W===1)q.children=R;else if(1<W){for(var _e=Array(W),te=0;te<W;te++)_e[te]=arguments[te+2];q.children=_e}return $(A.type,ce,void 0,void 0,Z,q)},ht.createContext=function(A){return A={$$typeof:c,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null},A.Provider=A,A.Consumer={$$typeof:l,_context:A},A},ht.createElement=function(A,L,R){var q,ce={},Z=null;if(L!=null)for(q in L.key!==void 0&&(Z=""+L.key),L)E.call(L,q)&&q!=="key"&&q!=="__self"&&q!=="__source"&&(ce[q]=L[q]);var W=arguments.length-2;if(W===1)ce.children=R;else if(1<W){for(var _e=Array(W),te=0;te<W;te++)_e[te]=arguments[te+2];ce.children=_e}if(A&&A.defaultProps)for(q in W=A.defaultProps,W)ce[q]===void 0&&(ce[q]=W[q]);return $(A,Z,void 0,void 0,null,ce)},ht.createRef=function(){return{current:null}},ht.forwardRef=function(A){return{$$typeof:u,render:A}},ht.isValidElement=F,ht.lazy=function(A){return{$$typeof:h,_payload:{_status:-1,_result:A},_init:H}},ht.memo=function(A,L){return{$$typeof:f,type:A,compare:L===void 0?null:L}},ht.startTransition=function(A){var L=T.T,R={};T.T=R;try{var q=A(),ce=T.S;ce!==null&&ce(R,q),typeof q=="object"&&q!==null&&typeof q.then=="function"&&q.then(B,G)}catch(Z){G(Z)}finally{T.T=L}},ht.unstable_useCacheRefresh=function(){return T.H.useCacheRefresh()},ht.use=function(A){return T.H.use(A)},ht.useActionState=function(A,L,R){return T.H.useActionState(A,L,R)},ht.useCallback=function(A,L){return T.H.useCallback(A,L)},ht.useContext=function(A){return T.H.useContext(A)},ht.useDebugValue=function(){},ht.useDeferredValue=function(A,L){return T.H.useDeferredValue(A,L)},ht.useEffect=function(A,L,R){var q=T.H;if(typeof R=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return q.useEffect(A,L)},ht.useId=function(){return T.H.useId()},ht.useImperativeHandle=function(A,L,R){return T.H.useImperativeHandle(A,L,R)},ht.useInsertionEffect=function(A,L){return T.H.useInsertionEffect(A,L)},ht.useLayoutEffect=function(A,L){return T.H.useLayoutEffect(A,L)},ht.useMemo=function(A,L){return T.H.useMemo(A,L)},ht.useOptimistic=function(A,L){return T.H.useOptimistic(A,L)},ht.useReducer=function(A,L,R){return T.H.useReducer(A,L,R)},ht.useRef=function(A){return T.H.useRef(A)},ht.useState=function(A){return T.H.useState(A)},ht.useSyncExternalStore=function(A,L,R){return T.H.useSyncExternalStore(A,L,R)},ht.useTransition=function(){return T.H.useTransition()},ht.version="19.1.0",ht}var p3;function Pd(){return p3||(p3=1,iv.exports=oI()),iv.exports}var x=Pd();const Et=ds(x),cI=sI({__proto__:null,default:Et},[x]);var lv={exports:{}},Hu={},ov={exports:{}},cv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x3;function dI(){return x3||(x3=1,function(e){function t(O,H){var G=O.length;O.push(H);e:for(;0<G;){var B=G-1>>>1,A=O[B];if(0<s(A,H))O[B]=H,O[G]=A,G=B;else break e}}function a(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var H=O[0],G=O.pop();if(G!==H){O[0]=G;e:for(var B=0,A=O.length,L=A>>>1;B<L;){var R=2*(B+1)-1,q=O[R],ce=R+1,Z=O[ce];if(0>s(q,G))ce<A&&0>s(Z,q)?(O[B]=Z,O[ce]=G,B=ce):(O[B]=q,O[R]=G,B=R);else if(ce<A&&0>s(Z,G))O[B]=Z,O[ce]=G,B=ce;else break e}}return H}function s(O,H){var G=O.sortIndex-H.sortIndex;return G!==0?G:O.id-H.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var m=[],f=[],h=1,g=null,b=3,y=!1,j=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,C=typeof setImmediate<"u"?setImmediate:null;function P(O){for(var H=a(f);H!==null;){if(H.callback===null)r(f);else if(H.startTime<=O)r(f),H.sortIndex=H.expirationTime,t(m,H);else break;H=a(f)}}function T(O){if(w=!1,P(O),!j)if(a(m)!==null)j=!0,E||(E=!0,U());else{var H=a(f);H!==null&&se(T,H.startTime-O)}}var E=!1,$=-1,M=5,F=-1;function K(){return S?!0:!(e.unstable_now()-F<M)}function z(){if(S=!1,E){var O=e.unstable_now();F=O;var H=!0;try{e:{j=!1,w&&(w=!1,_($),$=-1),y=!0;var G=b;try{t:{for(P(O),g=a(m);g!==null&&!(g.expirationTime>O&&K());){var B=g.callback;if(typeof B=="function"){g.callback=null,b=g.priorityLevel;var A=B(g.expirationTime<=O);if(O=e.unstable_now(),typeof A=="function"){g.callback=A,P(O),H=!0;break t}g===a(m)&&r(m),P(O)}else r(m);g=a(m)}if(g!==null)H=!0;else{var L=a(f);L!==null&&se(T,L.startTime-O),H=!1}}break e}finally{g=null,b=G,y=!1}H=void 0}}finally{H?U():E=!1}}}var U;if(typeof C=="function")U=function(){C(z)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,ke=ae.port2;ae.port1.onmessage=z,U=function(){ke.postMessage(null)}}else U=function(){k(z,0)};function se(O,H){$=k(function(){O(e.unstable_now())},H)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_next=function(O){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var G=b;b=H;try{return O()}finally{b=G}},e.unstable_requestPaint=function(){S=!0},e.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var G=b;b=O;try{return H()}finally{b=G}},e.unstable_scheduleCallback=function(O,H,G){var B=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?B+G:B):G=B,O){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=G+A,O={id:h++,callback:H,priorityLevel:O,startTime:G,expirationTime:A,sortIndex:-1},G>B?(O.sortIndex=G,t(f,O),a(m)===null&&O===a(f)&&(w?(_($),$=-1):w=!0,se(T,G-B))):(O.sortIndex=A,t(m,O),j||y||(j=!0,E||(E=!0,U()))),O},e.unstable_shouldYield=K,e.unstable_wrapCallback=function(O){var H=b;return function(){var G=b;b=H;try{return O.apply(this,arguments)}finally{b=G}}}}(cv)),cv}var g3;function uI(){return g3||(g3=1,ov.exports=dI()),ov.exports}var dv={exports:{}},pa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b3;function mI(){if(b3)return pa;b3=1;var e=Pd();function t(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)f+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(t(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");function l(m,f,h){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:g==null?null:""+g,children:m,containerInfo:f,implementation:h}}var c=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,pa.createPortal=function(m,f){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return l(m,f,null,h)},pa.flushSync=function(m){var f=c.T,h=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=f,r.p=h,r.d.f()}},pa.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},pa.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},pa.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin),b=typeof f.integrity=="string"?f.integrity:void 0,y=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;h==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:g,integrity:b,fetchPriority:y}):h==="script"&&r.d.X(m,{crossOrigin:g,integrity:b,fetchPriority:y,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},pa.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var h=u(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},pa.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var h=f.as,g=u(h,f.crossOrigin);r.d.L(m,h,{crossOrigin:g,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},pa.preloadModule=function(m,f){if(typeof m=="string")if(f){var h=u(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:h,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},pa.requestFormReset=function(m){r.d.r(m)},pa.unstable_batchedUpdates=function(m,f){return m(f)},pa.useFormState=function(m,f,h){return c.H.useFormState(m,f,h)},pa.useFormStatus=function(){return c.H.useHostTransitionStatus()},pa.version="19.1.0",pa}var v3;function CP(){if(v3)return dv.exports;v3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),dv.exports=mI(),dv.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var y3;function fI(){if(y3)return Hu;y3=1;var e=uI(),t=Pd(),a=CP();function r(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function u(i){if(l(i)!==i)throw Error(r(188))}function m(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(r(188));return o!==i?null:i}for(var d=i,p=o;;){var v=d.return;if(v===null)break;var N=v.alternate;if(N===null){if(p=v.return,p!==null){d=p;continue}break}if(v.child===N.child){for(N=v.child;N;){if(N===d)return u(v),i;if(N===p)return u(v),o;N=N.sibling}throw Error(r(188))}if(d.return!==p.return)d=v,p=N;else{for(var D=!1,V=v.child;V;){if(V===d){D=!0,d=v,p=N;break}if(V===p){D=!0,p=v,d=N;break}V=V.sibling}if(!D){for(V=N.child;V;){if(V===d){D=!0,d=N,p=v;break}if(V===p){D=!0,p=N,d=v;break}V=V.sibling}if(!D)throw Error(r(189))}}if(d.alternate!==p)throw Error(r(190))}if(d.tag!==3)throw Error(r(188));return d.stateNode.current===d?i:o}function f(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=f(i),o!==null)return o;i=i.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),y=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),C=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),$=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),F=Symbol.for("react.activity"),K=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function U(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Symbol.for("react.client.reference");function ke(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===ae?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case j:return"Fragment";case S:return"Profiler";case w:return"StrictMode";case T:return"Suspense";case E:return"SuspenseList";case F:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case y:return"Portal";case C:return(i.displayName||"Context")+".Provider";case _:return(i._context.displayName||"Context")+".Consumer";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case $:return o=i.displayName||null,o!==null?o:ke(i.type)||"Memo";case M:o=i._payload,i=i._init;try{return ke(i(o))}catch{}}return null}var se=Array.isArray,O=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},B=[],A=-1;function L(i){return{current:i}}function R(i){0>A||(i.current=B[A],B[A]=null,A--)}function q(i,o){A++,B[A]=i.current,i.current=o}var ce=L(null),Z=L(null),W=L(null),_e=L(null);function te(i,o){switch(q(W,o),q(Z,i),q(ce,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?z5(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=z5(o),i=U5(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}R(ce),q(ce,i)}function je(){R(ce),R(Z),R(W)}function Ee(i){i.memoizedState!==null&&q(_e,i);var o=ce.current,d=U5(o,i.type);o!==d&&(q(Z,i),q(ce,d))}function Ae(i){Z.current===i&&(R(ce),R(Z)),_e.current===i&&(R(_e),Iu._currentValue=G)}var xe=Object.prototype.hasOwnProperty,Fe=e.unstable_scheduleCallback,Be=e.unstable_cancelCallback,ve=e.unstable_shouldYield,le=e.unstable_requestPaint,Te=e.unstable_now,ee=e.unstable_getCurrentPriorityLevel,we=e.unstable_ImmediatePriority,De=e.unstable_UserBlockingPriority,Ue=e.unstable_NormalPriority,Ve=e.unstable_LowPriority,rt=e.unstable_IdlePriority,tt=e.log,Ce=e.unstable_setDisableYieldValue,Q=null,Se=null;function fe(i){if(typeof tt=="function"&&Ce(i),Se&&typeof Se.setStrictMode=="function")try{Se.setStrictMode(Q,i)}catch{}}var $e=Math.clz32?Math.clz32:Je,nt=Math.log,ft=Math.LN2;function Je(i){return i>>>=0,i===0?32:31-(nt(i)/ft|0)|0}var Rt=256,Pt=4194304;function Re(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function qe(i,o,d){var p=i.pendingLanes;if(p===0)return 0;var v=0,N=i.suspendedLanes,D=i.pingedLanes;i=i.warmLanes;var V=p&134217727;return V!==0?(p=V&~N,p!==0?v=Re(p):(D&=V,D!==0?v=Re(D):d||(d=V&~i,d!==0&&(v=Re(d))))):(V=p&~N,V!==0?v=Re(V):D!==0?v=Re(D):d||(d=p&~i,d!==0&&(v=Re(d)))),v===0?0:o!==0&&o!==v&&(o&N)===0&&(N=v&-v,d=o&-o,N>=d||N===32&&(d&4194048)!==0)?o:v}function bt(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function ua(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function me(){var i=Rt;return Rt<<=1,(Rt&4194048)===0&&(Rt=256),i}function Y(){var i=Pt;return Pt<<=1,(Pt&62914560)===0&&(Pt=4194304),i}function ne(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function oe(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function Xe(i,o,d,p,v,N){var D=i.pendingLanes;i.pendingLanes=d,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=d,i.entangledLanes&=d,i.errorRecoveryDisabledLanes&=d,i.shellSuspendCounter=0;var V=i.entanglements,J=i.expirationTimes,ge=i.hiddenUpdates;for(d=D&~d;0<d;){var Me=31-$e(d),Ie=1<<Me;V[Me]=0,J[Me]=-1;var be=ge[Me];if(be!==null)for(ge[Me]=null,Me=0;Me<be.length;Me++){var ye=be[Me];ye!==null&&(ye.lane&=-536870913)}d&=~Ie}p!==0&&lt(i,p,0),N!==0&&v===0&&i.tag!==0&&(i.suspendedLanes|=N&~(D&~o))}function lt(i,o,d){i.pendingLanes|=o,i.suspendedLanes&=~o;var p=31-$e(o);i.entangledLanes|=o,i.entanglements[p]=i.entanglements[p]|1073741824|d&4194090}function yt(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var p=31-$e(d),v=1<<p;v&o|i[p]&o&&(i[p]|=o),d&=~v}}function dt(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Ot(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Lt(){var i=H.p;return i!==0?i:(i=window.event,i===void 0?32:i3(i.type))}function Ma(i,o){var d=H.p;try{return H.p=i,o()}finally{H.p=d}}var mn=Math.random().toString(36).slice(2),At="__reactFiber$"+mn,Xt="__reactProps$"+mn,Fr="__reactContainer$"+mn,Rs="__reactEvents$"+mn,Bl="__reactListeners$"+mn,zl="__reactHandles$"+mn,Di="__reactResources$"+mn,Vr="__reactMarker$"+mn;function Ls(i){delete i[At],delete i[Xt],delete i[Rs],delete i[Bl],delete i[zl]}function X(i){var o=i[At];if(o)return o;for(var d=i.parentNode;d;){if(o=d[Fr]||d[At]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=q5(i);i!==null;){if(d=i[At])return d;i=q5(i)}return o}i=d,d=i.parentNode}return null}function de(i){if(i=i[At]||i[Fr]){var o=i.tag;if(o===5||o===6||o===13||o===26||o===27||o===3)return i}return null}function ze(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(r(33))}function it(i){var o=i[Di];return o||(o=i[Di]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function re(i){i[Vr]=!0}var Pe=new Set,Ye={};function He(i,o){Ke(i,o),Ke(i+"Capture",o)}function Ke(i,o){for(Ye[i]=o,i=0;i<o.length;i++)Pe.add(o[i])}var jt=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ln={},Ri={};function Mf(i){return xe.call(Ri,i)?!0:xe.call(Ln,i)?!1:jt.test(i)?Ri[i]=!0:(Ln[i]=!0,!1)}function Ul(i,o,d){if(Mf(o))if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var p=o.toLowerCase().slice(0,5);if(p!=="data-"&&p!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+d)}}function Fl(i,o,d){if(d===null)i.removeAttribute(o);else{switch(typeof d){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+d)}}function gr(i,o,d,p){if(p===null)i.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(d);return}i.setAttributeNS(o,d,""+p)}}var Df,ma;function Li(i){if(Df===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);Df=o&&o[1]||"",ma=-1<d.stack.indexOf(`
    at`)?" (<anonymous>)":-1<d.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Df+i+ma}var Xd=!1;function fa(i,o){if(!i||Xd)return"";Xd=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var p={DetermineComponentFrameRoot:function(){try{if(o){var Ie=function(){throw Error()};if(Object.defineProperty(Ie.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ie,[])}catch(ye){var be=ye}Reflect.construct(i,[],Ie)}else{try{Ie.call()}catch(ye){be=ye}i.call(Ie.prototype)}}else{try{throw Error()}catch(ye){be=ye}(Ie=i())&&typeof Ie.catch=="function"&&Ie.catch(function(){})}}catch(ye){if(ye&&be&&typeof ye.stack=="string")return[ye.stack,be.stack]}return[null,null]}};p.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(p.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(p.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=p.DetermineComponentFrameRoot(),D=N[0],V=N[1];if(D&&V){var J=D.split(`
`),ge=V.split(`
`);for(v=p=0;p<J.length&&!J[p].includes("DetermineComponentFrameRoot");)p++;for(;v<ge.length&&!ge[v].includes("DetermineComponentFrameRoot");)v++;if(p===J.length||v===ge.length)for(p=J.length-1,v=ge.length-1;1<=p&&0<=v&&J[p]!==ge[v];)v--;for(;1<=p&&0<=v;p--,v--)if(J[p]!==ge[v]){if(p!==1||v!==1)do if(p--,v--,0>v||J[p]!==ge[v]){var Me=`
`+J[p].replace(" at new "," at ");return i.displayName&&Me.includes("<anonymous>")&&(Me=Me.replace("<anonymous>",i.displayName)),Me}while(1<=p&&0<=v);break}}}finally{Xd=!1,Error.prepareStackTrace=d}return(d=i?i.displayName||i.name:"")?Li(d):""}function ZL(i){switch(i.tag){case 26:case 27:case 5:return Li(i.type);case 16:return Li("Lazy");case 13:return Li("Suspense");case 19:return Li("SuspenseList");case 0:case 15:return fa(i.type,!1);case 11:return fa(i.type.render,!1);case 1:return fa(i.type,!0);case 31:return Li("Activity");default:return""}}function DS(i){try{var o="";do o+=ZL(i),i=i.return;while(i);return o}catch(d){return`
Error generating stack: `+d.message+`
`+d.stack}}function br(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function RS(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function QL(i){var o=RS(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var v=d.get,N=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return v.call(this)},set:function(D){p=""+D,N.call(this,D)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return p},setValue:function(D){p=""+D},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Rf(i){i._valueTracker||(i._valueTracker=QL(i))}function LS(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),p="";return i&&(p=RS(i)?i.checked?"true":"false":i.value),i=p,i!==d?(o.setValue(i),!0):!1}function Lf(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var JL=/[\n"\\]/g;function vr(i){return i.replace(JL,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function tg(i,o,d,p,v,N,D,V){i.name="",D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?i.type=D:i.removeAttribute("type"),o!=null?D==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+br(o)):i.value!==""+br(o)&&(i.value=""+br(o)):D!=="submit"&&D!=="reset"||i.removeAttribute("value"),o!=null?ng(i,D,br(o)):d!=null?ng(i,D,br(d)):p!=null&&i.removeAttribute("value"),v==null&&N!=null&&(i.defaultChecked=!!N),v!=null&&(i.checked=v&&typeof v!="function"&&typeof v!="symbol"),V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?i.name=""+br(V):i.removeAttribute("name")}function $S(i,o,d,p,v,N,D,V){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(i.type=N),o!=null||d!=null){if(!(N!=="submit"&&N!=="reset"||o!=null))return;d=d!=null?""+br(d):"",o=o!=null?""+br(o):d,V||o===i.value||(i.value=o),i.defaultValue=o}p=p??v,p=typeof p!="function"&&typeof p!="symbol"&&!!p,i.checked=V?i.checked:!!p,i.defaultChecked=!!p,D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(i.name=D)}function ng(i,o,d){o==="number"&&Lf(i.ownerDocument)===i||i.defaultValue===""+d||(i.defaultValue=""+d)}function Qo(i,o,d,p){if(i=i.options,o){o={};for(var v=0;v<d.length;v++)o["$"+d[v]]=!0;for(d=0;d<i.length;d++)v=o.hasOwnProperty("$"+i[d].value),i[d].selected!==v&&(i[d].selected=v),v&&p&&(i[d].defaultSelected=!0)}else{for(d=""+br(d),o=null,v=0;v<i.length;v++){if(i[v].value===d){i[v].selected=!0,p&&(i[v].defaultSelected=!0);return}o!==null||i[v].disabled||(o=i[v])}o!==null&&(o.selected=!0)}}function IS(i,o,d){if(o!=null&&(o=""+br(o),o!==i.value&&(i.value=o),d==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=d!=null?""+br(d):""}function BS(i,o,d,p){if(o==null){if(p!=null){if(d!=null)throw Error(r(92));if(se(p)){if(1<p.length)throw Error(r(93));p=p[0]}d=p}d==null&&(d=""),o=d}d=br(o),i.defaultValue=d,p=i.textContent,p===d&&p!==""&&p!==null&&(i.value=p)}function Jo(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var e$=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zS(i,o,d){var p=o.indexOf("--")===0;d==null||typeof d=="boolean"||d===""?p?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":p?i.setProperty(o,d):typeof d!="number"||d===0||e$.has(o)?o==="float"?i.cssFloat=d:i[o]=(""+d).trim():i[o]=d+"px"}function US(i,o,d){if(o!=null&&typeof o!="object")throw Error(r(62));if(i=i.style,d!=null){for(var p in d)!d.hasOwnProperty(p)||o!=null&&o.hasOwnProperty(p)||(p.indexOf("--")===0?i.setProperty(p,""):p==="float"?i.cssFloat="":i[p]="");for(var v in o)p=o[v],o.hasOwnProperty(v)&&d[v]!==p&&zS(i,v,p)}else for(var N in o)o.hasOwnProperty(N)&&zS(i,N,o[N])}function ag(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var t$=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),n$=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $f(i){return n$.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var rg=null;function sg(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ec=null,tc=null;function FS(i){var o=de(i);if(o&&(i=o.stateNode)){var d=i[Xt]||null;e:switch(i=o.stateNode,o.type){case"input":if(tg(i,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll('input[name="'+vr(""+o)+'"][type="radio"]'),o=0;o<d.length;o++){var p=d[o];if(p!==i&&p.form===i.form){var v=p[Xt]||null;if(!v)throw Error(r(90));tg(p,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(o=0;o<d.length;o++)p=d[o],p.form===i.form&&LS(p)}break e;case"textarea":IS(i,d.value,d.defaultValue);break e;case"select":o=d.value,o!=null&&Qo(i,!!d.multiple,o,!1)}}}var ig=!1;function VS(i,o,d){if(ig)return i(o,d);ig=!0;try{var p=i(o);return p}finally{if(ig=!1,(ec!==null||tc!==null)&&(wh(),ec&&(o=ec,i=tc,tc=ec=null,FS(o),i)))for(o=0;o<i.length;o++)FS(i[o])}}function Zd(i,o){var d=i.stateNode;if(d===null)return null;var p=d[Xt]||null;if(p===null)return null;d=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(r(231,o,typeof d));return d}var $s=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lg=!1;if($s)try{var Qd={};Object.defineProperty(Qd,"passive",{get:function(){lg=!0}}),window.addEventListener("test",Qd,Qd),window.removeEventListener("test",Qd,Qd)}catch{lg=!1}var $i=null,og=null,If=null;function HS(){if(If)return If;var i,o=og,d=o.length,p,v="value"in $i?$i.value:$i.textContent,N=v.length;for(i=0;i<d&&o[i]===v[i];i++);var D=d-i;for(p=1;p<=D&&o[d-p]===v[N-p];p++);return If=v.slice(i,1<p?1-p:void 0)}function Bf(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function zf(){return!0}function qS(){return!1}function Da(i){function o(d,p,v,N,D){this._reactName=d,this._targetInst=v,this.type=p,this.nativeEvent=N,this.target=D,this.currentTarget=null;for(var V in i)i.hasOwnProperty(V)&&(d=i[V],this[V]=d?d(N):N[V]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?zf:qS,this.isPropagationStopped=qS,this}return h(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=zf)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=zf)},persist:function(){},isPersistent:zf}),o}var Vl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uf=Da(Vl),Jd=h({},Vl,{view:0,detail:0}),a$=Da(Jd),cg,dg,eu,Ff=h({},Jd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==eu&&(eu&&i.type==="mousemove"?(cg=i.screenX-eu.screenX,dg=i.screenY-eu.screenY):dg=cg=0,eu=i),cg)},movementY:function(i){return"movementY"in i?i.movementY:dg}}),KS=Da(Ff),r$=h({},Ff,{dataTransfer:0}),s$=Da(r$),i$=h({},Jd,{relatedTarget:0}),ug=Da(i$),l$=h({},Vl,{animationName:0,elapsedTime:0,pseudoElement:0}),o$=Da(l$),c$=h({},Vl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),d$=Da(c$),u$=h({},Vl,{data:0}),GS=Da(u$),m$={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},h$={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function p$(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=h$[i])?!!o[i]:!1}function mg(){return p$}var x$=h({},Jd,{key:function(i){if(i.key){var o=m$[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=Bf(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?f$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mg,charCode:function(i){return i.type==="keypress"?Bf(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Bf(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),g$=Da(x$),b$=h({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YS=Da(b$),v$=h({},Jd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mg}),y$=Da(v$),j$=h({},Vl,{propertyName:0,elapsedTime:0,pseudoElement:0}),w$=Da(j$),N$=h({},Ff,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),S$=Da(N$),_$=h({},Vl,{newState:0,oldState:0}),k$=Da(_$),C$=[9,13,27,32],fg=$s&&"CompositionEvent"in window,tu=null;$s&&"documentMode"in document&&(tu=document.documentMode);var A$=$s&&"TextEvent"in window&&!tu,WS=$s&&(!fg||tu&&8<tu&&11>=tu),XS=" ",ZS=!1;function QS(i,o){switch(i){case"keyup":return C$.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function JS(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var nc=!1;function T$(i,o){switch(i){case"compositionend":return JS(o);case"keypress":return o.which!==32?null:(ZS=!0,XS);case"textInput":return i=o.data,i===XS&&ZS?null:i;default:return null}}function E$(i,o){if(nc)return i==="compositionend"||!fg&&QS(i,o)?(i=HS(),If=og=$i=null,nc=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return WS&&o.locale!=="ko"?null:o.data;default:return null}}var P$={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e4(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!P$[i.type]:o==="textarea"}function t4(i,o,d,p){ec?tc?tc.push(p):tc=[p]:ec=p,o=Ah(o,"onChange"),0<o.length&&(d=new Uf("onChange","change",null,d,p),i.push({event:d,listeners:o}))}var nu=null,au=null;function O$(i){R5(i,0)}function Vf(i){var o=ze(i);if(LS(o))return i}function n4(i,o){if(i==="change")return o}var a4=!1;if($s){var hg;if($s){var pg="oninput"in document;if(!pg){var r4=document.createElement("div");r4.setAttribute("oninput","return;"),pg=typeof r4.oninput=="function"}hg=pg}else hg=!1;a4=hg&&(!document.documentMode||9<document.documentMode)}function s4(){nu&&(nu.detachEvent("onpropertychange",i4),au=nu=null)}function i4(i){if(i.propertyName==="value"&&Vf(au)){var o=[];t4(o,au,i,sg(i)),VS(O$,o)}}function M$(i,o,d){i==="focusin"?(s4(),nu=o,au=d,nu.attachEvent("onpropertychange",i4)):i==="focusout"&&s4()}function D$(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Vf(au)}function R$(i,o){if(i==="click")return Vf(o)}function L$(i,o){if(i==="input"||i==="change")return Vf(o)}function $$(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Ka=typeof Object.is=="function"?Object.is:$$;function ru(i,o){if(Ka(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),p=Object.keys(o);if(d.length!==p.length)return!1;for(p=0;p<d.length;p++){var v=d[p];if(!xe.call(o,v)||!Ka(i[v],o[v]))return!1}return!0}function l4(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function o4(i,o){var d=l4(i);i=0;for(var p;d;){if(d.nodeType===3){if(p=i+d.textContent.length,i<=o&&p>=o)return{node:d,offset:o-i};i=p}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=l4(d)}}function c4(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?c4(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function d4(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=Lf(i.document);o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=Lf(i.document)}return o}function xg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var I$=$s&&"documentMode"in document&&11>=document.documentMode,ac=null,gg=null,su=null,bg=!1;function u4(i,o,d){var p=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;bg||ac==null||ac!==Lf(p)||(p=ac,"selectionStart"in p&&xg(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),su&&ru(su,p)||(su=p,p=Ah(gg,"onSelect"),0<p.length&&(o=new Uf("onSelect","select",null,o,d),i.push({event:o,listeners:p}),o.target=ac)))}function Hl(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var rc={animationend:Hl("Animation","AnimationEnd"),animationiteration:Hl("Animation","AnimationIteration"),animationstart:Hl("Animation","AnimationStart"),transitionrun:Hl("Transition","TransitionRun"),transitionstart:Hl("Transition","TransitionStart"),transitioncancel:Hl("Transition","TransitionCancel"),transitionend:Hl("Transition","TransitionEnd")},vg={},m4={};$s&&(m4=document.createElement("div").style,"AnimationEvent"in window||(delete rc.animationend.animation,delete rc.animationiteration.animation,delete rc.animationstart.animation),"TransitionEvent"in window||delete rc.transitionend.transition);function ql(i){if(vg[i])return vg[i];if(!rc[i])return i;var o=rc[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in m4)return vg[i]=o[d];return i}var f4=ql("animationend"),h4=ql("animationiteration"),p4=ql("animationstart"),B$=ql("transitionrun"),z$=ql("transitionstart"),U$=ql("transitioncancel"),x4=ql("transitionend"),g4=new Map,yg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");yg.push("scrollEnd");function Hr(i,o){g4.set(i,o),He(o,[i])}var b4=new WeakMap;function yr(i,o){if(typeof i=="object"&&i!==null){var d=b4.get(i);return d!==void 0?d:(o={value:i,source:o,stack:DS(o)},b4.set(i,o),o)}return{value:i,source:o,stack:DS(o)}}var jr=[],sc=0,jg=0;function Hf(){for(var i=sc,o=jg=sc=0;o<i;){var d=jr[o];jr[o++]=null;var p=jr[o];jr[o++]=null;var v=jr[o];jr[o++]=null;var N=jr[o];if(jr[o++]=null,p!==null&&v!==null){var D=p.pending;D===null?v.next=v:(v.next=D.next,D.next=v),p.pending=v}N!==0&&v4(d,v,N)}}function qf(i,o,d,p){jr[sc++]=i,jr[sc++]=o,jr[sc++]=d,jr[sc++]=p,jg|=p,i.lanes|=p,i=i.alternate,i!==null&&(i.lanes|=p)}function wg(i,o,d,p){return qf(i,o,d,p),Kf(i)}function ic(i,o){return qf(i,null,null,o),Kf(i)}function v4(i,o,d){i.lanes|=d;var p=i.alternate;p!==null&&(p.lanes|=d);for(var v=!1,N=i.return;N!==null;)N.childLanes|=d,p=N.alternate,p!==null&&(p.childLanes|=d),N.tag===22&&(i=N.stateNode,i===null||i._visibility&1||(v=!0)),i=N,N=N.return;return i.tag===3?(N=i.stateNode,v&&o!==null&&(v=31-$e(d),i=N.hiddenUpdates,p=i[v],p===null?i[v]=[o]:p.push(o),o.lane=d|536870912),N):null}function Kf(i){if(50<Eu)throw Eu=0,Ab=null,Error(r(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var lc={};function F$(i,o,d,p){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(i,o,d,p){return new F$(i,o,d,p)}function Ng(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Is(i,o){var d=i.alternate;return d===null?(d=Ga(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&65011712,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d.refCleanup=i.refCleanup,d}function y4(i,o){i.flags&=65011714;var d=i.alternate;return d===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=d.childLanes,i.lanes=d.lanes,i.child=d.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=d.memoizedProps,i.memoizedState=d.memoizedState,i.updateQueue=d.updateQueue,i.type=d.type,o=d.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function Gf(i,o,d,p,v,N){var D=0;if(p=i,typeof i=="function")Ng(i)&&(D=1);else if(typeof i=="string")D=H9(i,d,ce.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case F:return i=Ga(31,d,o,v),i.elementType=F,i.lanes=N,i;case j:return Kl(d.children,v,N,o);case w:D=8,v|=24;break;case S:return i=Ga(12,d,o,v|2),i.elementType=S,i.lanes=N,i;case T:return i=Ga(13,d,o,v),i.elementType=T,i.lanes=N,i;case E:return i=Ga(19,d,o,v),i.elementType=E,i.lanes=N,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case k:case C:D=10;break e;case _:D=9;break e;case P:D=11;break e;case $:D=14;break e;case M:D=16,p=null;break e}D=29,d=Error(r(130,i===null?"null":typeof i,"")),p=null}return o=Ga(D,d,o,v),o.elementType=i,o.type=p,o.lanes=N,o}function Kl(i,o,d,p){return i=Ga(7,i,p,o),i.lanes=d,i}function Sg(i,o,d){return i=Ga(6,i,null,o),i.lanes=d,i}function _g(i,o,d){return o=Ga(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var oc=[],cc=0,Yf=null,Wf=0,wr=[],Nr=0,Gl=null,Bs=1,zs="";function Yl(i,o){oc[cc++]=Wf,oc[cc++]=Yf,Yf=i,Wf=o}function j4(i,o,d){wr[Nr++]=Bs,wr[Nr++]=zs,wr[Nr++]=Gl,Gl=i;var p=Bs;i=zs;var v=32-$e(p)-1;p&=~(1<<v),d+=1;var N=32-$e(o)+v;if(30<N){var D=v-v%5;N=(p&(1<<D)-1).toString(32),p>>=D,v-=D,Bs=1<<32-$e(o)+v|d<<v|p,zs=N+i}else Bs=1<<N|d<<v|p,zs=i}function kg(i){i.return!==null&&(Yl(i,1),j4(i,1,0))}function Cg(i){for(;i===Yf;)Yf=oc[--cc],oc[cc]=null,Wf=oc[--cc],oc[cc]=null;for(;i===Gl;)Gl=wr[--Nr],wr[Nr]=null,zs=wr[--Nr],wr[Nr]=null,Bs=wr[--Nr],wr[Nr]=null}var Sa=null,pn=null,$t=!1,Wl=null,fs=!1,Ag=Error(r(519));function Xl(i){var o=Error(r(418,""));throw ou(yr(o,i)),Ag}function w4(i){var o=i.stateNode,d=i.type,p=i.memoizedProps;switch(o[At]=i,o[Xt]=p,d){case"dialog":_t("cancel",o),_t("close",o);break;case"iframe":case"object":case"embed":_t("load",o);break;case"video":case"audio":for(d=0;d<Ou.length;d++)_t(Ou[d],o);break;case"source":_t("error",o);break;case"img":case"image":case"link":_t("error",o),_t("load",o);break;case"details":_t("toggle",o);break;case"input":_t("invalid",o),$S(o,p.value,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name,!0),Rf(o);break;case"select":_t("invalid",o);break;case"textarea":_t("invalid",o),BS(o,p.value,p.defaultValue,p.children),Rf(o)}d=p.children,typeof d!="string"&&typeof d!="number"&&typeof d!="bigint"||o.textContent===""+d||p.suppressHydrationWarning===!0||B5(o.textContent,d)?(p.popover!=null&&(_t("beforetoggle",o),_t("toggle",o)),p.onScroll!=null&&_t("scroll",o),p.onScrollEnd!=null&&_t("scrollend",o),p.onClick!=null&&(o.onclick=Th),o=!0):o=!1,o||Xl(i)}function N4(i){for(Sa=i.return;Sa;)switch(Sa.tag){case 5:case 13:fs=!1;return;case 27:case 3:fs=!0;return;default:Sa=Sa.return}}function iu(i){if(i!==Sa)return!1;if(!$t)return N4(i),$t=!0,!1;var o=i.tag,d;if((d=o!==3&&o!==27)&&((d=o===5)&&(d=i.type,d=!(d!=="form"&&d!=="button")||Hb(i.type,i.memoizedProps)),d=!d),d&&pn&&Xl(i),N4(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(r(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8)if(d=i.data,d==="/$"){if(o===0){pn=Kr(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++;i=i.nextSibling}pn=null}}else o===27?(o=pn,Ji(i.type)?(i=Yb,Yb=null,pn=i):pn=o):pn=Sa?Kr(i.stateNode.nextSibling):null;return!0}function lu(){pn=Sa=null,$t=!1}function S4(){var i=Wl;return i!==null&&($a===null?$a=i:$a.push.apply($a,i),Wl=null),i}function ou(i){Wl===null?Wl=[i]:Wl.push(i)}var Tg=L(null),Zl=null,Us=null;function Ii(i,o,d){q(Tg,o._currentValue),o._currentValue=d}function Fs(i){i._currentValue=Tg.current,R(Tg)}function Eg(i,o,d){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===d)break;i=i.return}}function Pg(i,o,d,p){var v=i.child;for(v!==null&&(v.return=i);v!==null;){var N=v.dependencies;if(N!==null){var D=v.child;N=N.firstContext;e:for(;N!==null;){var V=N;N=v;for(var J=0;J<o.length;J++)if(V.context===o[J]){N.lanes|=d,V=N.alternate,V!==null&&(V.lanes|=d),Eg(N.return,d,i),p||(D=null);break e}N=V.next}}else if(v.tag===18){if(D=v.return,D===null)throw Error(r(341));D.lanes|=d,N=D.alternate,N!==null&&(N.lanes|=d),Eg(D,d,i),D=null}else D=v.child;if(D!==null)D.return=v;else for(D=v;D!==null;){if(D===i){D=null;break}if(v=D.sibling,v!==null){v.return=D.return,D=v;break}D=D.return}v=D}}function cu(i,o,d,p){i=null;for(var v=o,N=!1;v!==null;){if(!N){if((v.flags&524288)!==0)N=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var D=v.alternate;if(D===null)throw Error(r(387));if(D=D.memoizedProps,D!==null){var V=v.type;Ka(v.pendingProps.value,D.value)||(i!==null?i.push(V):i=[V])}}else if(v===_e.current){if(D=v.alternate,D===null)throw Error(r(387));D.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(i!==null?i.push(Iu):i=[Iu])}v=v.return}i!==null&&Pg(o,i,d,p),o.flags|=262144}function Xf(i){for(i=i.firstContext;i!==null;){if(!Ka(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Ql(i){Zl=i,Us=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function ha(i){return _4(Zl,i)}function Zf(i,o){return Zl===null&&Ql(i),_4(i,o)}function _4(i,o){var d=o._currentValue;if(o={context:o,memoizedValue:d,next:null},Us===null){if(i===null)throw Error(r(308));Us=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Us=Us.next=o;return d}var V$=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(d,p){i.push(p)}};this.abort=function(){o.aborted=!0,i.forEach(function(d){return d()})}},H$=e.unstable_scheduleCallback,q$=e.unstable_NormalPriority,$n={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Og(){return{controller:new V$,data:new Map,refCount:0}}function du(i){i.refCount--,i.refCount===0&&H$(q$,function(){i.controller.abort()})}var uu=null,Mg=0,dc=0,uc=null;function K$(i,o){if(uu===null){var d=uu=[];Mg=0,dc=Rb(),uc={status:"pending",value:void 0,then:function(p){d.push(p)}}}return Mg++,o.then(k4,k4),o}function k4(){if(--Mg===0&&uu!==null){uc!==null&&(uc.status="fulfilled");var i=uu;uu=null,dc=0,uc=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function G$(i,o){var d=[],p={status:"pending",value:null,reason:null,then:function(v){d.push(v)}};return i.then(function(){p.status="fulfilled",p.value=o;for(var v=0;v<d.length;v++)(0,d[v])(o)},function(v){for(p.status="rejected",p.reason=v,v=0;v<d.length;v++)(0,d[v])(void 0)}),p}var C4=O.S;O.S=function(i,o){typeof o=="object"&&o!==null&&typeof o.then=="function"&&K$(i,o),C4!==null&&C4(i,o)};var Jl=L(null);function Dg(){var i=Jl.current;return i!==null?i:Zt.pooledCache}function Qf(i,o){o===null?q(Jl,Jl.current):q(Jl,o.pool)}function A4(){var i=Dg();return i===null?null:{parent:$n._currentValue,pool:i}}var mu=Error(r(460)),T4=Error(r(474)),Jf=Error(r(542)),Rg={then:function(){}};function E4(i){return i=i.status,i==="fulfilled"||i==="rejected"}function eh(){}function P4(i,o,d){switch(d=i[d],d===void 0?i.push(o):d!==o&&(o.then(eh,eh),o=d),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,M4(i),i;default:if(typeof o.status=="string")o.then(eh,eh);else{if(i=Zt,i!==null&&100<i.shellSuspendCounter)throw Error(r(482));i=o,i.status="pending",i.then(function(p){if(o.status==="pending"){var v=o;v.status="fulfilled",v.value=p}},function(p){if(o.status==="pending"){var v=o;v.status="rejected",v.reason=p}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,M4(i),i}throw fu=o,mu}}var fu=null;function O4(){if(fu===null)throw Error(r(459));var i=fu;return fu=null,i}function M4(i){if(i===mu||i===Jf)throw Error(r(483))}var Bi=!1;function Lg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function $g(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function zi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function Ui(i,o,d){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(zt&2)!==0){var v=p.pending;return v===null?o.next=o:(o.next=v.next,v.next=o),p.pending=o,o=Kf(i),v4(i,null,d),o}return qf(i,p,o,d),Kf(i)}function hu(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194048)!==0)){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,yt(i,d)}}function Ig(i,o){var d=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,d===p)){var v=null,N=null;if(d=d.firstBaseUpdate,d!==null){do{var D={lane:d.lane,tag:d.tag,payload:d.payload,callback:null,next:null};N===null?v=N=D:N=N.next=D,d=d.next}while(d!==null);N===null?v=N=o:N=N.next=o}else v=N=o;d={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:N,shared:p.shared,callbacks:p.callbacks},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}var Bg=!1;function pu(){if(Bg){var i=uc;if(i!==null)throw i}}function xu(i,o,d,p){Bg=!1;var v=i.updateQueue;Bi=!1;var N=v.firstBaseUpdate,D=v.lastBaseUpdate,V=v.shared.pending;if(V!==null){v.shared.pending=null;var J=V,ge=J.next;J.next=null,D===null?N=ge:D.next=ge,D=J;var Me=i.alternate;Me!==null&&(Me=Me.updateQueue,V=Me.lastBaseUpdate,V!==D&&(V===null?Me.firstBaseUpdate=ge:V.next=ge,Me.lastBaseUpdate=J))}if(N!==null){var Ie=v.baseState;D=0,Me=ge=J=null,V=N;do{var be=V.lane&-536870913,ye=be!==V.lane;if(ye?(kt&be)===be:(p&be)===be){be!==0&&be===dc&&(Bg=!0),Me!==null&&(Me=Me.next={lane:0,tag:V.tag,payload:V.payload,callback:null,next:null});e:{var ut=i,ot=V;be=o;var qt=d;switch(ot.tag){case 1:if(ut=ot.payload,typeof ut=="function"){Ie=ut.call(qt,Ie,be);break e}Ie=ut;break e;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=ot.payload,be=typeof ut=="function"?ut.call(qt,Ie,be):ut,be==null)break e;Ie=h({},Ie,be);break e;case 2:Bi=!0}}be=V.callback,be!==null&&(i.flags|=64,ye&&(i.flags|=8192),ye=v.callbacks,ye===null?v.callbacks=[be]:ye.push(be))}else ye={lane:be,tag:V.tag,payload:V.payload,callback:V.callback,next:null},Me===null?(ge=Me=ye,J=Ie):Me=Me.next=ye,D|=be;if(V=V.next,V===null){if(V=v.shared.pending,V===null)break;ye=V,V=ye.next,ye.next=null,v.lastBaseUpdate=ye,v.shared.pending=null}}while(!0);Me===null&&(J=Ie),v.baseState=J,v.firstBaseUpdate=ge,v.lastBaseUpdate=Me,N===null&&(v.shared.lanes=0),Wi|=D,i.lanes=D,i.memoizedState=Ie}}function D4(i,o){if(typeof i!="function")throw Error(r(191,i));i.call(o)}function R4(i,o){var d=i.callbacks;if(d!==null)for(i.callbacks=null,i=0;i<d.length;i++)D4(d[i],o)}var mc=L(null),th=L(0);function L4(i,o){i=Ws,q(th,i),q(mc,o),Ws=i|o.baseLanes}function zg(){q(th,Ws),q(mc,mc.current)}function Ug(){Ws=th.current,R(mc),R(th)}var Fi=0,vt=null,Vt=null,Tn=null,nh=!1,fc=!1,eo=!1,ah=0,gu=0,hc=null,Y$=0;function Nn(){throw Error(r(321))}function Fg(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!Ka(i[d],o[d]))return!1;return!0}function Vg(i,o,d,p,v,N){return Fi=N,vt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,O.H=i===null||i.memoizedState===null?v_:y_,eo=!1,N=d(p,v),eo=!1,fc&&(N=I4(o,d,p,v)),$4(i),N}function $4(i){O.H=ch;var o=Vt!==null&&Vt.next!==null;if(Fi=0,Tn=Vt=vt=null,nh=!1,gu=0,hc=null,o)throw Error(r(300));i===null||Kn||(i=i.dependencies,i!==null&&Xf(i)&&(Kn=!0))}function I4(i,o,d,p){vt=i;var v=0;do{if(fc&&(hc=null),gu=0,fc=!1,25<=v)throw Error(r(301));if(v+=1,Tn=Vt=null,i.updateQueue!=null){var N=i.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}O.H=t9,N=o(d,p)}while(fc);return N}function W$(){var i=O.H,o=i.useState()[0];return o=typeof o.then=="function"?bu(o):o,i=i.useState()[0],(Vt!==null?Vt.memoizedState:null)!==i&&(vt.flags|=1024),o}function Hg(){var i=ah!==0;return ah=0,i}function qg(i,o,d){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~d}function Kg(i){if(nh){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}nh=!1}Fi=0,Tn=Vt=vt=null,fc=!1,gu=ah=0,hc=null}function Ra(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tn===null?vt.memoizedState=Tn=i:Tn=Tn.next=i,Tn}function En(){if(Vt===null){var i=vt.alternate;i=i!==null?i.memoizedState:null}else i=Vt.next;var o=Tn===null?vt.memoizedState:Tn.next;if(o!==null)Tn=o,Vt=i;else{if(i===null)throw vt.alternate===null?Error(r(467)):Error(r(310));Vt=i,i={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Tn===null?vt.memoizedState=Tn=i:Tn=Tn.next=i}return Tn}function Gg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(i){var o=gu;return gu+=1,hc===null&&(hc=[]),i=P4(hc,i,o),o=vt,(Tn===null?o.memoizedState:Tn.next)===null&&(o=o.alternate,O.H=o===null||o.memoizedState===null?v_:y_),i}function rh(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return bu(i);if(i.$$typeof===C)return ha(i)}throw Error(r(438,String(i)))}function Yg(i){var o=null,d=vt.updateQueue;if(d!==null&&(o=d.memoCache),o==null){var p=vt.alternate;p!==null&&(p=p.updateQueue,p!==null&&(p=p.memoCache,p!=null&&(o={data:p.data.map(function(v){return v.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),d===null&&(d=Gg(),vt.updateQueue=d),d.memoCache=o,d=o.data[o.index],d===void 0)for(d=o.data[o.index]=Array(i),p=0;p<i;p++)d[p]=K;return o.index++,d}function Vs(i,o){return typeof o=="function"?o(i):o}function sh(i){var o=En();return Wg(o,Vt,i)}function Wg(i,o,d){var p=i.queue;if(p===null)throw Error(r(311));p.lastRenderedReducer=d;var v=i.baseQueue,N=p.pending;if(N!==null){if(v!==null){var D=v.next;v.next=N.next,N.next=D}o.baseQueue=v=N,p.pending=null}if(N=i.baseState,v===null)i.memoizedState=N;else{o=v.next;var V=D=null,J=null,ge=o,Me=!1;do{var Ie=ge.lane&-536870913;if(Ie!==ge.lane?(kt&Ie)===Ie:(Fi&Ie)===Ie){var be=ge.revertLane;if(be===0)J!==null&&(J=J.next={lane:0,revertLane:0,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null}),Ie===dc&&(Me=!0);else if((Fi&be)===be){ge=ge.next,be===dc&&(Me=!0);continue}else Ie={lane:0,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},J===null?(V=J=Ie,D=N):J=J.next=Ie,vt.lanes|=be,Wi|=be;Ie=ge.action,eo&&d(N,Ie),N=ge.hasEagerState?ge.eagerState:d(N,Ie)}else be={lane:Ie,revertLane:ge.revertLane,action:ge.action,hasEagerState:ge.hasEagerState,eagerState:ge.eagerState,next:null},J===null?(V=J=be,D=N):J=J.next=be,vt.lanes|=Ie,Wi|=Ie;ge=ge.next}while(ge!==null&&ge!==o);if(J===null?D=N:J.next=V,!Ka(N,i.memoizedState)&&(Kn=!0,Me&&(d=uc,d!==null)))throw d;i.memoizedState=N,i.baseState=D,i.baseQueue=J,p.lastRenderedState=N}return v===null&&(p.lanes=0),[i.memoizedState,p.dispatch]}function Xg(i){var o=En(),d=o.queue;if(d===null)throw Error(r(311));d.lastRenderedReducer=i;var p=d.dispatch,v=d.pending,N=o.memoizedState;if(v!==null){d.pending=null;var D=v=v.next;do N=i(N,D.action),D=D.next;while(D!==v);Ka(N,o.memoizedState)||(Kn=!0),o.memoizedState=N,o.baseQueue===null&&(o.baseState=N),d.lastRenderedState=N}return[N,p]}function B4(i,o,d){var p=vt,v=En(),N=$t;if(N){if(d===void 0)throw Error(r(407));d=d()}else d=o();var D=!Ka((Vt||v).memoizedState,d);D&&(v.memoizedState=d,Kn=!0),v=v.queue;var V=F4.bind(null,p,v,i);if(vu(2048,8,V,[i]),v.getSnapshot!==o||D||Tn!==null&&Tn.memoizedState.tag&1){if(p.flags|=2048,pc(9,ih(),U4.bind(null,p,v,d,o),null),Zt===null)throw Error(r(349));N||(Fi&124)!==0||z4(p,o,d)}return d}function z4(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=vt.updateQueue,o===null?(o=Gg(),vt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function U4(i,o,d,p){o.value=d,o.getSnapshot=p,V4(o)&&H4(i)}function F4(i,o,d){return d(function(){V4(o)&&H4(i)})}function V4(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!Ka(i,d)}catch{return!0}}function H4(i){var o=ic(i,2);o!==null&&Qa(o,i,2)}function Zg(i){var o=Ra();if(typeof i=="function"){var d=i;if(i=d(),eo){fe(!0);try{d()}finally{fe(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:i},o}function q4(i,o,d,p){return i.baseState=d,Wg(i,Vt,typeof p=="function"?p:Vs)}function X$(i,o,d,p,v){if(oh(i))throw Error(r(485));if(i=o.action,i!==null){var N={payload:v,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(D){N.listeners.push(D)}};O.T!==null?d(!0):N.isTransition=!1,p(N),d=o.pending,d===null?(N.next=o.pending=N,K4(o,N)):(N.next=d.next,o.pending=d.next=N)}}function K4(i,o){var d=o.action,p=o.payload,v=i.state;if(o.isTransition){var N=O.T,D={};O.T=D;try{var V=d(v,p),J=O.S;J!==null&&J(D,V),G4(i,o,V)}catch(ge){Qg(i,o,ge)}finally{O.T=N}}else try{N=d(v,p),G4(i,o,N)}catch(ge){Qg(i,o,ge)}}function G4(i,o,d){d!==null&&typeof d=="object"&&typeof d.then=="function"?d.then(function(p){Y4(i,o,p)},function(p){return Qg(i,o,p)}):Y4(i,o,d)}function Y4(i,o,d){o.status="fulfilled",o.value=d,W4(o),i.state=d,o=i.pending,o!==null&&(d=o.next,d===o?i.pending=null:(d=d.next,o.next=d,K4(i,d)))}function Qg(i,o,d){var p=i.pending;if(i.pending=null,p!==null){p=p.next;do o.status="rejected",o.reason=d,W4(o),o=o.next;while(o!==p)}i.action=null}function W4(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function X4(i,o){return o}function Z4(i,o){if($t){var d=Zt.formState;if(d!==null){e:{var p=vt;if($t){if(pn){t:{for(var v=pn,N=fs;v.nodeType!==8;){if(!N){v=null;break t}if(v=Kr(v.nextSibling),v===null){v=null;break t}}N=v.data,v=N==="F!"||N==="F"?v:null}if(v){pn=Kr(v.nextSibling),p=v.data==="F!";break e}}Xl(p)}p=!1}p&&(o=d[0])}}return d=Ra(),d.memoizedState=d.baseState=o,p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:X4,lastRenderedState:o},d.queue=p,d=x_.bind(null,vt,p),p.dispatch=d,p=Zg(!1),N=ab.bind(null,vt,!1,p.queue),p=Ra(),v={state:o,dispatch:null,action:i,pending:null},p.queue=v,d=X$.bind(null,vt,v,N,d),v.dispatch=d,p.memoizedState=i,[o,d,!1]}function Q4(i){var o=En();return J4(o,Vt,i)}function J4(i,o,d){if(o=Wg(i,o,X4)[0],i=sh(Vs)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var p=bu(o)}catch(D){throw D===mu?Jf:D}else p=o;o=En();var v=o.queue,N=v.dispatch;return d!==o.memoizedState&&(vt.flags|=2048,pc(9,ih(),Z$.bind(null,v,d),null)),[p,N,i]}function Z$(i,o){i.action=o}function e_(i){var o=En(),d=Vt;if(d!==null)return J4(o,d,i);En(),o=o.memoizedState,d=En();var p=d.queue.dispatch;return d.memoizedState=i,[o,p,!1]}function pc(i,o,d,p){return i={tag:i,create:d,deps:p,inst:o,next:null},o=vt.updateQueue,o===null&&(o=Gg(),vt.updateQueue=o),d=o.lastEffect,d===null?o.lastEffect=i.next=i:(p=d.next,d.next=i,i.next=p,o.lastEffect=i),i}function ih(){return{destroy:void 0,resource:void 0}}function t_(){return En().memoizedState}function lh(i,o,d,p){var v=Ra();p=p===void 0?null:p,vt.flags|=i,v.memoizedState=pc(1|o,ih(),d,p)}function vu(i,o,d,p){var v=En();p=p===void 0?null:p;var N=v.memoizedState.inst;Vt!==null&&p!==null&&Fg(p,Vt.memoizedState.deps)?v.memoizedState=pc(o,N,d,p):(vt.flags|=i,v.memoizedState=pc(1|o,N,d,p))}function n_(i,o){lh(8390656,8,i,o)}function a_(i,o){vu(2048,8,i,o)}function r_(i,o){return vu(4,2,i,o)}function s_(i,o){return vu(4,4,i,o)}function i_(i,o){if(typeof o=="function"){i=i();var d=o(i);return function(){typeof d=="function"?d():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function l_(i,o,d){d=d!=null?d.concat([i]):null,vu(4,4,i_.bind(null,o,i),d)}function Jg(){}function o_(i,o){var d=En();o=o===void 0?null:o;var p=d.memoizedState;return o!==null&&Fg(o,p[1])?p[0]:(d.memoizedState=[i,o],i)}function c_(i,o){var d=En();o=o===void 0?null:o;var p=d.memoizedState;if(o!==null&&Fg(o,p[1]))return p[0];if(p=i(),eo){fe(!0);try{i()}finally{fe(!1)}}return d.memoizedState=[p,o],p}function eb(i,o,d){return d===void 0||(Fi&1073741824)!==0?i.memoizedState=o:(i.memoizedState=d,i=m5(),vt.lanes|=i,Wi|=i,d)}function d_(i,o,d,p){return Ka(d,o)?d:mc.current!==null?(i=eb(i,d,p),Ka(i,o)||(Kn=!0),i):(Fi&42)===0?(Kn=!0,i.memoizedState=d):(i=m5(),vt.lanes|=i,Wi|=i,o)}function u_(i,o,d,p,v){var N=H.p;H.p=N!==0&&8>N?N:8;var D=O.T,V={};O.T=V,ab(i,!1,o,d);try{var J=v(),ge=O.S;if(ge!==null&&ge(V,J),J!==null&&typeof J=="object"&&typeof J.then=="function"){var Me=G$(J,p);yu(i,o,Me,Za(i))}else yu(i,o,p,Za(i))}catch(Ie){yu(i,o,{then:function(){},status:"rejected",reason:Ie},Za())}finally{H.p=N,O.T=D}}function Q$(){}function tb(i,o,d,p){if(i.tag!==5)throw Error(r(476));var v=m_(i).queue;u_(i,v,o,G,d===null?Q$:function(){return f_(i),d(p)})}function m_(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:G},next:null};var d={};return o.next={memoizedState:d,baseState:d,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:d},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function f_(i){var o=m_(i).next.queue;yu(i,o,{},Za())}function nb(){return ha(Iu)}function h_(){return En().memoizedState}function p_(){return En().memoizedState}function J$(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var d=Za();i=zi(d);var p=Ui(o,i,d);p!==null&&(Qa(p,o,d),hu(p,o,d)),o={cache:Og()},i.payload=o;return}o=o.return}}function e9(i,o,d){var p=Za();d={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null},oh(i)?g_(o,d):(d=wg(i,o,d,p),d!==null&&(Qa(d,i,p),b_(d,o,p)))}function x_(i,o,d){var p=Za();yu(i,o,d,p)}function yu(i,o,d,p){var v={lane:p,revertLane:0,action:d,hasEagerState:!1,eagerState:null,next:null};if(oh(i))g_(o,v);else{var N=i.alternate;if(i.lanes===0&&(N===null||N.lanes===0)&&(N=o.lastRenderedReducer,N!==null))try{var D=o.lastRenderedState,V=N(D,d);if(v.hasEagerState=!0,v.eagerState=V,Ka(V,D))return qf(i,o,v,0),Zt===null&&Hf(),!1}catch{}finally{}if(d=wg(i,o,v,p),d!==null)return Qa(d,i,p),b_(d,o,p),!0}return!1}function ab(i,o,d,p){if(p={lane:2,revertLane:Rb(),action:p,hasEagerState:!1,eagerState:null,next:null},oh(i)){if(o)throw Error(r(479))}else o=wg(i,d,p,2),o!==null&&Qa(o,i,2)}function oh(i){var o=i.alternate;return i===vt||o!==null&&o===vt}function g_(i,o){fc=nh=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function b_(i,o,d){if((d&4194048)!==0){var p=o.lanes;p&=i.pendingLanes,d|=p,o.lanes=d,yt(i,d)}}var ch={readContext:ha,use:rh,useCallback:Nn,useContext:Nn,useEffect:Nn,useImperativeHandle:Nn,useLayoutEffect:Nn,useInsertionEffect:Nn,useMemo:Nn,useReducer:Nn,useRef:Nn,useState:Nn,useDebugValue:Nn,useDeferredValue:Nn,useTransition:Nn,useSyncExternalStore:Nn,useId:Nn,useHostTransitionStatus:Nn,useFormState:Nn,useActionState:Nn,useOptimistic:Nn,useMemoCache:Nn,useCacheRefresh:Nn},v_={readContext:ha,use:rh,useCallback:function(i,o){return Ra().memoizedState=[i,o===void 0?null:o],i},useContext:ha,useEffect:n_,useImperativeHandle:function(i,o,d){d=d!=null?d.concat([i]):null,lh(4194308,4,i_.bind(null,o,i),d)},useLayoutEffect:function(i,o){return lh(4194308,4,i,o)},useInsertionEffect:function(i,o){lh(4,2,i,o)},useMemo:function(i,o){var d=Ra();o=o===void 0?null:o;var p=i();if(eo){fe(!0);try{i()}finally{fe(!1)}}return d.memoizedState=[p,o],p},useReducer:function(i,o,d){var p=Ra();if(d!==void 0){var v=d(o);if(eo){fe(!0);try{d(o)}finally{fe(!1)}}}else v=o;return p.memoizedState=p.baseState=v,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:v},p.queue=i,i=i.dispatch=e9.bind(null,vt,i),[p.memoizedState,i]},useRef:function(i){var o=Ra();return i={current:i},o.memoizedState=i},useState:function(i){i=Zg(i);var o=i.queue,d=x_.bind(null,vt,o);return o.dispatch=d,[i.memoizedState,d]},useDebugValue:Jg,useDeferredValue:function(i,o){var d=Ra();return eb(d,i,o)},useTransition:function(){var i=Zg(!1);return i=u_.bind(null,vt,i.queue,!0,!1),Ra().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,d){var p=vt,v=Ra();if($t){if(d===void 0)throw Error(r(407));d=d()}else{if(d=o(),Zt===null)throw Error(r(349));(kt&124)!==0||z4(p,o,d)}v.memoizedState=d;var N={value:d,getSnapshot:o};return v.queue=N,n_(F4.bind(null,p,N,i),[i]),p.flags|=2048,pc(9,ih(),U4.bind(null,p,N,d,o),null),d},useId:function(){var i=Ra(),o=Zt.identifierPrefix;if($t){var d=zs,p=Bs;d=(p&~(1<<32-$e(p)-1)).toString(32)+d,o=""+o+"R"+d,d=ah++,0<d&&(o+="H"+d.toString(32)),o+=""}else d=Y$++,o=""+o+"r"+d.toString(32)+"";return i.memoizedState=o},useHostTransitionStatus:nb,useFormState:Z4,useActionState:Z4,useOptimistic:function(i){var o=Ra();o.memoizedState=o.baseState=i;var d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=d,o=ab.bind(null,vt,!0,d),d.dispatch=o,[i,o]},useMemoCache:Yg,useCacheRefresh:function(){return Ra().memoizedState=J$.bind(null,vt)}},y_={readContext:ha,use:rh,useCallback:o_,useContext:ha,useEffect:a_,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:c_,useReducer:sh,useRef:t_,useState:function(){return sh(Vs)},useDebugValue:Jg,useDeferredValue:function(i,o){var d=En();return d_(d,Vt.memoizedState,i,o)},useTransition:function(){var i=sh(Vs)[0],o=En().memoizedState;return[typeof i=="boolean"?i:bu(i),o]},useSyncExternalStore:B4,useId:h_,useHostTransitionStatus:nb,useFormState:Q4,useActionState:Q4,useOptimistic:function(i,o){var d=En();return q4(d,Vt,i,o)},useMemoCache:Yg,useCacheRefresh:p_},t9={readContext:ha,use:rh,useCallback:o_,useContext:ha,useEffect:a_,useImperativeHandle:l_,useInsertionEffect:r_,useLayoutEffect:s_,useMemo:c_,useReducer:Xg,useRef:t_,useState:function(){return Xg(Vs)},useDebugValue:Jg,useDeferredValue:function(i,o){var d=En();return Vt===null?eb(d,i,o):d_(d,Vt.memoizedState,i,o)},useTransition:function(){var i=Xg(Vs)[0],o=En().memoizedState;return[typeof i=="boolean"?i:bu(i),o]},useSyncExternalStore:B4,useId:h_,useHostTransitionStatus:nb,useFormState:e_,useActionState:e_,useOptimistic:function(i,o){var d=En();return Vt!==null?q4(d,Vt,i,o):(d.baseState=i,[i,d.queue.dispatch])},useMemoCache:Yg,useCacheRefresh:p_},xc=null,ju=0;function dh(i){var o=ju;return ju+=1,xc===null&&(xc=[]),P4(xc,i,o)}function wu(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function uh(i,o){throw o.$$typeof===g?Error(r(525)):(i=Object.prototype.toString.call(o),Error(r(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function j_(i){var o=i._init;return o(i._payload)}function w_(i){function o(ue,ie){if(i){var he=ue.deletions;he===null?(ue.deletions=[ie],ue.flags|=16):he.push(ie)}}function d(ue,ie){if(!i)return null;for(;ie!==null;)o(ue,ie),ie=ie.sibling;return null}function p(ue){for(var ie=new Map;ue!==null;)ue.key!==null?ie.set(ue.key,ue):ie.set(ue.index,ue),ue=ue.sibling;return ie}function v(ue,ie){return ue=Is(ue,ie),ue.index=0,ue.sibling=null,ue}function N(ue,ie,he){return ue.index=he,i?(he=ue.alternate,he!==null?(he=he.index,he<ie?(ue.flags|=67108866,ie):he):(ue.flags|=67108866,ie)):(ue.flags|=1048576,ie)}function D(ue){return i&&ue.alternate===null&&(ue.flags|=67108866),ue}function V(ue,ie,he,Le){return ie===null||ie.tag!==6?(ie=Sg(he,ue.mode,Le),ie.return=ue,ie):(ie=v(ie,he),ie.return=ue,ie)}function J(ue,ie,he,Le){var Qe=he.type;return Qe===j?Me(ue,ie,he.props.children,Le,he.key):ie!==null&&(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&j_(Qe)===ie.type)?(ie=v(ie,he.props),wu(ie,he),ie.return=ue,ie):(ie=Gf(he.type,he.key,he.props,null,ue.mode,Le),wu(ie,he),ie.return=ue,ie)}function ge(ue,ie,he,Le){return ie===null||ie.tag!==4||ie.stateNode.containerInfo!==he.containerInfo||ie.stateNode.implementation!==he.implementation?(ie=_g(he,ue.mode,Le),ie.return=ue,ie):(ie=v(ie,he.children||[]),ie.return=ue,ie)}function Me(ue,ie,he,Le,Qe){return ie===null||ie.tag!==7?(ie=Kl(he,ue.mode,Le,Qe),ie.return=ue,ie):(ie=v(ie,he),ie.return=ue,ie)}function Ie(ue,ie,he){if(typeof ie=="string"&&ie!==""||typeof ie=="number"||typeof ie=="bigint")return ie=Sg(""+ie,ue.mode,he),ie.return=ue,ie;if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case b:return he=Gf(ie.type,ie.key,ie.props,null,ue.mode,he),wu(he,ie),he.return=ue,he;case y:return ie=_g(ie,ue.mode,he),ie.return=ue,ie;case M:var Le=ie._init;return ie=Le(ie._payload),Ie(ue,ie,he)}if(se(ie)||U(ie))return ie=Kl(ie,ue.mode,he,null),ie.return=ue,ie;if(typeof ie.then=="function")return Ie(ue,dh(ie),he);if(ie.$$typeof===C)return Ie(ue,Zf(ue,ie),he);uh(ue,ie)}return null}function be(ue,ie,he,Le){var Qe=ie!==null?ie.key:null;if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return Qe!==null?null:V(ue,ie,""+he,Le);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case b:return he.key===Qe?J(ue,ie,he,Le):null;case y:return he.key===Qe?ge(ue,ie,he,Le):null;case M:return Qe=he._init,he=Qe(he._payload),be(ue,ie,he,Le)}if(se(he)||U(he))return Qe!==null?null:Me(ue,ie,he,Le,null);if(typeof he.then=="function")return be(ue,ie,dh(he),Le);if(he.$$typeof===C)return be(ue,ie,Zf(ue,he),Le);uh(ue,he)}return null}function ye(ue,ie,he,Le,Qe){if(typeof Le=="string"&&Le!==""||typeof Le=="number"||typeof Le=="bigint")return ue=ue.get(he)||null,V(ie,ue,""+Le,Qe);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case b:return ue=ue.get(Le.key===null?he:Le.key)||null,J(ie,ue,Le,Qe);case y:return ue=ue.get(Le.key===null?he:Le.key)||null,ge(ie,ue,Le,Qe);case M:var wt=Le._init;return Le=wt(Le._payload),ye(ue,ie,he,Le,Qe)}if(se(Le)||U(Le))return ue=ue.get(he)||null,Me(ie,ue,Le,Qe,null);if(typeof Le.then=="function")return ye(ue,ie,he,dh(Le),Qe);if(Le.$$typeof===C)return ye(ue,ie,he,Zf(ie,Le),Qe);uh(ie,Le)}return null}function ut(ue,ie,he,Le){for(var Qe=null,wt=null,at=ie,ct=ie=0,Yn=null;at!==null&&ct<he.length;ct++){at.index>ct?(Yn=at,at=null):Yn=at.sibling;var Mt=be(ue,at,he[ct],Le);if(Mt===null){at===null&&(at=Yn);break}i&&at&&Mt.alternate===null&&o(ue,at),ie=N(Mt,ie,ct),wt===null?Qe=Mt:wt.sibling=Mt,wt=Mt,at=Yn}if(ct===he.length)return d(ue,at),$t&&Yl(ue,ct),Qe;if(at===null){for(;ct<he.length;ct++)at=Ie(ue,he[ct],Le),at!==null&&(ie=N(at,ie,ct),wt===null?Qe=at:wt.sibling=at,wt=at);return $t&&Yl(ue,ct),Qe}for(at=p(at);ct<he.length;ct++)Yn=ye(at,ue,ct,he[ct],Le),Yn!==null&&(i&&Yn.alternate!==null&&at.delete(Yn.key===null?ct:Yn.key),ie=N(Yn,ie,ct),wt===null?Qe=Yn:wt.sibling=Yn,wt=Yn);return i&&at.forEach(function(rl){return o(ue,rl)}),$t&&Yl(ue,ct),Qe}function ot(ue,ie,he,Le){if(he==null)throw Error(r(151));for(var Qe=null,wt=null,at=ie,ct=ie=0,Yn=null,Mt=he.next();at!==null&&!Mt.done;ct++,Mt=he.next()){at.index>ct?(Yn=at,at=null):Yn=at.sibling;var rl=be(ue,at,Mt.value,Le);if(rl===null){at===null&&(at=Yn);break}i&&at&&rl.alternate===null&&o(ue,at),ie=N(rl,ie,ct),wt===null?Qe=rl:wt.sibling=rl,wt=rl,at=Yn}if(Mt.done)return d(ue,at),$t&&Yl(ue,ct),Qe;if(at===null){for(;!Mt.done;ct++,Mt=he.next())Mt=Ie(ue,Mt.value,Le),Mt!==null&&(ie=N(Mt,ie,ct),wt===null?Qe=Mt:wt.sibling=Mt,wt=Mt);return $t&&Yl(ue,ct),Qe}for(at=p(at);!Mt.done;ct++,Mt=he.next())Mt=ye(at,ue,ct,Mt.value,Le),Mt!==null&&(i&&Mt.alternate!==null&&at.delete(Mt.key===null?ct:Mt.key),ie=N(Mt,ie,ct),wt===null?Qe=Mt:wt.sibling=Mt,wt=Mt);return i&&at.forEach(function(nI){return o(ue,nI)}),$t&&Yl(ue,ct),Qe}function qt(ue,ie,he,Le){if(typeof he=="object"&&he!==null&&he.type===j&&he.key===null&&(he=he.props.children),typeof he=="object"&&he!==null){switch(he.$$typeof){case b:e:{for(var Qe=he.key;ie!==null;){if(ie.key===Qe){if(Qe=he.type,Qe===j){if(ie.tag===7){d(ue,ie.sibling),Le=v(ie,he.props.children),Le.return=ue,ue=Le;break e}}else if(ie.elementType===Qe||typeof Qe=="object"&&Qe!==null&&Qe.$$typeof===M&&j_(Qe)===ie.type){d(ue,ie.sibling),Le=v(ie,he.props),wu(Le,he),Le.return=ue,ue=Le;break e}d(ue,ie);break}else o(ue,ie);ie=ie.sibling}he.type===j?(Le=Kl(he.props.children,ue.mode,Le,he.key),Le.return=ue,ue=Le):(Le=Gf(he.type,he.key,he.props,null,ue.mode,Le),wu(Le,he),Le.return=ue,ue=Le)}return D(ue);case y:e:{for(Qe=he.key;ie!==null;){if(ie.key===Qe)if(ie.tag===4&&ie.stateNode.containerInfo===he.containerInfo&&ie.stateNode.implementation===he.implementation){d(ue,ie.sibling),Le=v(ie,he.children||[]),Le.return=ue,ue=Le;break e}else{d(ue,ie);break}else o(ue,ie);ie=ie.sibling}Le=_g(he,ue.mode,Le),Le.return=ue,ue=Le}return D(ue);case M:return Qe=he._init,he=Qe(he._payload),qt(ue,ie,he,Le)}if(se(he))return ut(ue,ie,he,Le);if(U(he)){if(Qe=U(he),typeof Qe!="function")throw Error(r(150));return he=Qe.call(he),ot(ue,ie,he,Le)}if(typeof he.then=="function")return qt(ue,ie,dh(he),Le);if(he.$$typeof===C)return qt(ue,ie,Zf(ue,he),Le);uh(ue,he)}return typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint"?(he=""+he,ie!==null&&ie.tag===6?(d(ue,ie.sibling),Le=v(ie,he),Le.return=ue,ue=Le):(d(ue,ie),Le=Sg(he,ue.mode,Le),Le.return=ue,ue=Le),D(ue)):d(ue,ie)}return function(ue,ie,he,Le){try{ju=0;var Qe=qt(ue,ie,he,Le);return xc=null,Qe}catch(at){if(at===mu||at===Jf)throw at;var wt=Ga(29,at,null,ue.mode);return wt.lanes=Le,wt.return=ue,wt}finally{}}}var gc=w_(!0),N_=w_(!1),Sr=L(null),hs=null;function Vi(i){var o=i.alternate;q(In,In.current&1),q(Sr,i),hs===null&&(o===null||mc.current!==null||o.memoizedState!==null)&&(hs=i)}function S_(i){if(i.tag===22){if(q(In,In.current),q(Sr,i),hs===null){var o=i.alternate;o!==null&&o.memoizedState!==null&&(hs=i)}}else Hi()}function Hi(){q(In,In.current),q(Sr,Sr.current)}function Hs(i){R(Sr),hs===i&&(hs=null),R(In)}var In=L(0);function mh(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||Gb(d)))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}function rb(i,o,d,p){o=i.memoizedState,d=d(p,o),d=d==null?o:h({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var sb={enqueueSetState:function(i,o,d){i=i._reactInternals;var p=Za(),v=zi(p);v.payload=o,d!=null&&(v.callback=d),o=Ui(i,v,p),o!==null&&(Qa(o,i,p),hu(o,i,p))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var p=Za(),v=zi(p);v.tag=1,v.payload=o,d!=null&&(v.callback=d),o=Ui(i,v,p),o!==null&&(Qa(o,i,p),hu(o,i,p))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=Za(),p=zi(d);p.tag=2,o!=null&&(p.callback=o),o=Ui(i,p,d),o!==null&&(Qa(o,i,d),hu(o,i,d))}};function __(i,o,d,p,v,N,D){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,N,D):o.prototype&&o.prototype.isPureReactComponent?!ru(d,p)||!ru(v,N):!0}function k_(i,o,d,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,p),o.state!==i&&sb.enqueueReplaceState(o,o.state,null)}function to(i,o){var d=o;if("ref"in o){d={};for(var p in o)p!=="ref"&&(d[p]=o[p])}if(i=i.defaultProps){d===o&&(d=h({},d));for(var v in i)d[v]===void 0&&(d[v]=i[v])}return d}var fh=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function C_(i){fh(i)}function A_(i){console.error(i)}function T_(i){fh(i)}function hh(i,o){try{var d=i.onUncaughtError;d(o.value,{componentStack:o.stack})}catch(p){setTimeout(function(){throw p})}}function E_(i,o,d){try{var p=i.onCaughtError;p(d.value,{componentStack:d.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function ib(i,o,d){return d=zi(d),d.tag=3,d.payload={element:null},d.callback=function(){hh(i,o)},d}function P_(i){return i=zi(i),i.tag=3,i}function O_(i,o,d,p){var v=d.type.getDerivedStateFromError;if(typeof v=="function"){var N=p.value;i.payload=function(){return v(N)},i.callback=function(){E_(o,d,p)}}var D=d.stateNode;D!==null&&typeof D.componentDidCatch=="function"&&(i.callback=function(){E_(o,d,p),typeof v!="function"&&(Xi===null?Xi=new Set([this]):Xi.add(this));var V=p.stack;this.componentDidCatch(p.value,{componentStack:V!==null?V:""})})}function n9(i,o,d,p,v){if(d.flags|=32768,p!==null&&typeof p=="object"&&typeof p.then=="function"){if(o=d.alternate,o!==null&&cu(o,d,v,!0),d=Sr.current,d!==null){switch(d.tag){case 13:return hs===null?Eb():d.alternate===null&&xn===0&&(xn=3),d.flags&=-257,d.flags|=65536,d.lanes=v,p===Rg?d.flags|=16384:(o=d.updateQueue,o===null?d.updateQueue=new Set([p]):o.add(p),Ob(i,p,v)),!1;case 22:return d.flags|=65536,p===Rg?d.flags|=16384:(o=d.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([p])},d.updateQueue=o):(d=o.retryQueue,d===null?o.retryQueue=new Set([p]):d.add(p)),Ob(i,p,v)),!1}throw Error(r(435,d.tag))}return Ob(i,p,v),Eb(),!1}if($t)return o=Sr.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=v,p!==Ag&&(i=Error(r(422),{cause:p}),ou(yr(i,d)))):(p!==Ag&&(o=Error(r(423),{cause:p}),ou(yr(o,d))),i=i.current.alternate,i.flags|=65536,v&=-v,i.lanes|=v,p=yr(p,d),v=ib(i.stateNode,p,v),Ig(i,v),xn!==4&&(xn=2)),!1;var N=Error(r(520),{cause:p});if(N=yr(N,d),Tu===null?Tu=[N]:Tu.push(N),xn!==4&&(xn=2),o===null)return!0;p=yr(p,d),d=o;do{switch(d.tag){case 3:return d.flags|=65536,i=v&-v,d.lanes|=i,i=ib(d.stateNode,p,i),Ig(d,i),!1;case 1:if(o=d.type,N=d.stateNode,(d.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Xi===null||!Xi.has(N))))return d.flags|=65536,v&=-v,d.lanes|=v,v=P_(v),O_(v,i,d,p),Ig(d,v),!1}d=d.return}while(d!==null);return!1}var M_=Error(r(461)),Kn=!1;function na(i,o,d,p){o.child=i===null?N_(o,null,d,p):gc(o,i.child,d,p)}function D_(i,o,d,p,v){d=d.render;var N=o.ref;if("ref"in p){var D={};for(var V in p)V!=="ref"&&(D[V]=p[V])}else D=p;return Ql(o),p=Vg(i,o,d,D,N,v),V=Hg(),i!==null&&!Kn?(qg(i,o,v),qs(i,o,v)):($t&&V&&kg(o),o.flags|=1,na(i,o,p,v),o.child)}function R_(i,o,d,p,v){if(i===null){var N=d.type;return typeof N=="function"&&!Ng(N)&&N.defaultProps===void 0&&d.compare===null?(o.tag=15,o.type=N,L_(i,o,N,p,v)):(i=Gf(d.type,null,p,o,o.mode,v),i.ref=o.ref,i.return=o,o.child=i)}if(N=i.child,!hb(i,v)){var D=N.memoizedProps;if(d=d.compare,d=d!==null?d:ru,d(D,p)&&i.ref===o.ref)return qs(i,o,v)}return o.flags|=1,i=Is(N,p),i.ref=o.ref,i.return=o,o.child=i}function L_(i,o,d,p,v){if(i!==null){var N=i.memoizedProps;if(ru(N,p)&&i.ref===o.ref)if(Kn=!1,o.pendingProps=p=N,hb(i,v))(i.flags&131072)!==0&&(Kn=!0);else return o.lanes=i.lanes,qs(i,o,v)}return lb(i,o,d,p,v)}function $_(i,o,d){var p=o.pendingProps,v=p.children,N=i!==null?i.memoizedState:null;if(p.mode==="hidden"){if((o.flags&128)!==0){if(p=N!==null?N.baseLanes|d:d,i!==null){for(v=o.child=i.child,N=0;v!==null;)N=N|v.lanes|v.childLanes,v=v.sibling;o.childLanes=N&~p}else o.childLanes=0,o.child=null;return I_(i,o,p,d)}if((d&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&Qf(o,N!==null?N.cachePool:null),N!==null?L4(o,N):zg(),S_(o);else return o.lanes=o.childLanes=536870912,I_(i,o,N!==null?N.baseLanes|d:d,d)}else N!==null?(Qf(o,N.cachePool),L4(o,N),Hi(),o.memoizedState=null):(i!==null&&Qf(o,null),zg(),Hi());return na(i,o,v,d),o.child}function I_(i,o,d,p){var v=Dg();return v=v===null?null:{parent:$n._currentValue,pool:v},o.memoizedState={baseLanes:d,cachePool:v},i!==null&&Qf(o,null),zg(),S_(o),i!==null&&cu(i,o,p,!0),null}function ph(i,o){var d=o.ref;if(d===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof d!="function"&&typeof d!="object")throw Error(r(284));(i===null||i.ref!==d)&&(o.flags|=4194816)}}function lb(i,o,d,p,v){return Ql(o),d=Vg(i,o,d,p,void 0,v),p=Hg(),i!==null&&!Kn?(qg(i,o,v),qs(i,o,v)):($t&&p&&kg(o),o.flags|=1,na(i,o,d,v),o.child)}function B_(i,o,d,p,v,N){return Ql(o),o.updateQueue=null,d=I4(o,p,d,v),$4(i),p=Hg(),i!==null&&!Kn?(qg(i,o,N),qs(i,o,N)):($t&&p&&kg(o),o.flags|=1,na(i,o,d,N),o.child)}function z_(i,o,d,p,v){if(Ql(o),o.stateNode===null){var N=lc,D=d.contextType;typeof D=="object"&&D!==null&&(N=ha(D)),N=new d(p,N),o.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=sb,o.stateNode=N,N._reactInternals=o,N=o.stateNode,N.props=p,N.state=o.memoizedState,N.refs={},Lg(o),D=d.contextType,N.context=typeof D=="object"&&D!==null?ha(D):lc,N.state=o.memoizedState,D=d.getDerivedStateFromProps,typeof D=="function"&&(rb(o,d,D,p),N.state=o.memoizedState),typeof d.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(D=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),D!==N.state&&sb.enqueueReplaceState(N,N.state,null),xu(o,p,N,v),pu(),N.state=o.memoizedState),typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!0}else if(i===null){N=o.stateNode;var V=o.memoizedProps,J=to(d,V);N.props=J;var ge=N.context,Me=d.contextType;D=lc,typeof Me=="object"&&Me!==null&&(D=ha(Me));var Ie=d.getDerivedStateFromProps;Me=typeof Ie=="function"||typeof N.getSnapshotBeforeUpdate=="function",V=o.pendingProps!==V,Me||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V||ge!==D)&&k_(o,N,p,D),Bi=!1;var be=o.memoizedState;N.state=be,xu(o,p,N,v),pu(),ge=o.memoizedState,V||be!==ge||Bi?(typeof Ie=="function"&&(rb(o,d,Ie,p),ge=o.memoizedState),(J=Bi||__(o,d,J,p,be,ge,D))?(Me||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(o.flags|=4194308)):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=ge),N.props=p,N.state=ge,N.context=D,p=J):(typeof N.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{N=o.stateNode,$g(i,o),D=o.memoizedProps,Me=to(d,D),N.props=Me,Ie=o.pendingProps,be=N.context,ge=d.contextType,J=lc,typeof ge=="object"&&ge!==null&&(J=ha(ge)),V=d.getDerivedStateFromProps,(ge=typeof V=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(D!==Ie||be!==J)&&k_(o,N,p,J),Bi=!1,be=o.memoizedState,N.state=be,xu(o,p,N,v),pu();var ye=o.memoizedState;D!==Ie||be!==ye||Bi||i!==null&&i.dependencies!==null&&Xf(i.dependencies)?(typeof V=="function"&&(rb(o,d,V,p),ye=o.memoizedState),(Me=Bi||__(o,d,Me,p,be,ye,J)||i!==null&&i.dependencies!==null&&Xf(i.dependencies))?(ge||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(p,ye,J),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(p,ye,J)),typeof N.componentDidUpdate=="function"&&(o.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&be===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&be===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=ye),N.props=p,N.state=ye,N.context=J,p=Me):(typeof N.componentDidUpdate!="function"||D===i.memoizedProps&&be===i.memoizedState||(o.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||D===i.memoizedProps&&be===i.memoizedState||(o.flags|=1024),p=!1)}return N=p,ph(i,o),p=(o.flags&128)!==0,N||p?(N=o.stateNode,d=p&&typeof d.getDerivedStateFromError!="function"?null:N.render(),o.flags|=1,i!==null&&p?(o.child=gc(o,i.child,null,v),o.child=gc(o,null,d,v)):na(i,o,d,v),o.memoizedState=N.state,i=o.child):i=qs(i,o,v),i}function U_(i,o,d,p){return lu(),o.flags|=256,na(i,o,d,p),o.child}var ob={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function cb(i){return{baseLanes:i,cachePool:A4()}}function db(i,o,d){return i=i!==null?i.childLanes&~d:0,o&&(i|=_r),i}function F_(i,o,d){var p=o.pendingProps,v=!1,N=(o.flags&128)!==0,D;if((D=N)||(D=i!==null&&i.memoizedState===null?!1:(In.current&2)!==0),D&&(v=!0,o.flags&=-129),D=(o.flags&32)!==0,o.flags&=-33,i===null){if($t){if(v?Vi(o):Hi(),$t){var V=pn,J;if(J=V){e:{for(J=V,V=fs;J.nodeType!==8;){if(!V){V=null;break e}if(J=Kr(J.nextSibling),J===null){V=null;break e}}V=J}V!==null?(o.memoizedState={dehydrated:V,treeContext:Gl!==null?{id:Bs,overflow:zs}:null,retryLane:536870912,hydrationErrors:null},J=Ga(18,null,null,0),J.stateNode=V,J.return=o,o.child=J,Sa=o,pn=null,J=!0):J=!1}J||Xl(o)}if(V=o.memoizedState,V!==null&&(V=V.dehydrated,V!==null))return Gb(V)?o.lanes=32:o.lanes=536870912,null;Hs(o)}return V=p.children,p=p.fallback,v?(Hi(),v=o.mode,V=xh({mode:"hidden",children:V},v),p=Kl(p,v,d,null),V.return=o,p.return=o,V.sibling=p,o.child=V,v=o.child,v.memoizedState=cb(d),v.childLanes=db(i,D,d),o.memoizedState=ob,p):(Vi(o),ub(o,V))}if(J=i.memoizedState,J!==null&&(V=J.dehydrated,V!==null)){if(N)o.flags&256?(Vi(o),o.flags&=-257,o=mb(i,o,d)):o.memoizedState!==null?(Hi(),o.child=i.child,o.flags|=128,o=null):(Hi(),v=p.fallback,V=o.mode,p=xh({mode:"visible",children:p.children},V),v=Kl(v,V,d,null),v.flags|=2,p.return=o,v.return=o,p.sibling=v,o.child=p,gc(o,i.child,null,d),p=o.child,p.memoizedState=cb(d),p.childLanes=db(i,D,d),o.memoizedState=ob,o=v);else if(Vi(o),Gb(V)){if(D=V.nextSibling&&V.nextSibling.dataset,D)var ge=D.dgst;D=ge,p=Error(r(419)),p.stack="",p.digest=D,ou({value:p,source:null,stack:null}),o=mb(i,o,d)}else if(Kn||cu(i,o,d,!1),D=(d&i.childLanes)!==0,Kn||D){if(D=Zt,D!==null&&(p=d&-d,p=(p&42)!==0?1:dt(p),p=(p&(D.suspendedLanes|d))!==0?0:p,p!==0&&p!==J.retryLane))throw J.retryLane=p,ic(i,p),Qa(D,i,p),M_;V.data==="$?"||Eb(),o=mb(i,o,d)}else V.data==="$?"?(o.flags|=192,o.child=i.child,o=null):(i=J.treeContext,pn=Kr(V.nextSibling),Sa=o,$t=!0,Wl=null,fs=!1,i!==null&&(wr[Nr++]=Bs,wr[Nr++]=zs,wr[Nr++]=Gl,Bs=i.id,zs=i.overflow,Gl=o),o=ub(o,p.children),o.flags|=4096);return o}return v?(Hi(),v=p.fallback,V=o.mode,J=i.child,ge=J.sibling,p=Is(J,{mode:"hidden",children:p.children}),p.subtreeFlags=J.subtreeFlags&65011712,ge!==null?v=Is(ge,v):(v=Kl(v,V,d,null),v.flags|=2),v.return=o,p.return=o,p.sibling=v,o.child=p,p=v,v=o.child,V=i.child.memoizedState,V===null?V=cb(d):(J=V.cachePool,J!==null?(ge=$n._currentValue,J=J.parent!==ge?{parent:ge,pool:ge}:J):J=A4(),V={baseLanes:V.baseLanes|d,cachePool:J}),v.memoizedState=V,v.childLanes=db(i,D,d),o.memoizedState=ob,p):(Vi(o),d=i.child,i=d.sibling,d=Is(d,{mode:"visible",children:p.children}),d.return=o,d.sibling=null,i!==null&&(D=o.deletions,D===null?(o.deletions=[i],o.flags|=16):D.push(i)),o.child=d,o.memoizedState=null,d)}function ub(i,o){return o=xh({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function xh(i,o){return i=Ga(22,i,null,o),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function mb(i,o,d){return gc(o,i.child,null,d),i=ub(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function V_(i,o,d){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Eg(i.return,o,d)}function fb(i,o,d,p,v){var N=i.memoizedState;N===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:d,tailMode:v}:(N.isBackwards=o,N.rendering=null,N.renderingStartTime=0,N.last=p,N.tail=d,N.tailMode=v)}function H_(i,o,d){var p=o.pendingProps,v=p.revealOrder,N=p.tail;if(na(i,o,p.children,d),p=In.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&V_(i,d,o);else if(i.tag===19)V_(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}switch(q(In,p),v){case"forwards":for(d=o.child,v=null;d!==null;)i=d.alternate,i!==null&&mh(i)===null&&(v=d),d=d.sibling;d=v,d===null?(v=o.child,o.child=null):(v=d.sibling,d.sibling=null),fb(o,!1,v,d,N);break;case"backwards":for(d=null,v=o.child,o.child=null;v!==null;){if(i=v.alternate,i!==null&&mh(i)===null){o.child=v;break}i=v.sibling,v.sibling=d,d=v,v=i}fb(o,!0,d,null,N);break;case"together":fb(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function qs(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),Wi|=o.lanes,(d&o.childLanes)===0)if(i!==null){if(cu(i,o,d,!1),(d&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(r(153));if(o.child!==null){for(i=o.child,d=Is(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=Is(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function hb(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&Xf(i)))}function a9(i,o,d){switch(o.tag){case 3:te(o,o.stateNode.containerInfo),Ii(o,$n,i.memoizedState.cache),lu();break;case 27:case 5:Ee(o);break;case 4:te(o,o.stateNode.containerInfo);break;case 10:Ii(o,o.type,o.memoizedProps.value);break;case 13:var p=o.memoizedState;if(p!==null)return p.dehydrated!==null?(Vi(o),o.flags|=128,null):(d&o.child.childLanes)!==0?F_(i,o,d):(Vi(o),i=qs(i,o,d),i!==null?i.sibling:null);Vi(o);break;case 19:var v=(i.flags&128)!==0;if(p=(d&o.childLanes)!==0,p||(cu(i,o,d,!1),p=(d&o.childLanes)!==0),v){if(p)return H_(i,o,d);o.flags|=128}if(v=o.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),q(In,In.current),p)break;return null;case 22:case 23:return o.lanes=0,$_(i,o,d);case 24:Ii(o,$n,i.memoizedState.cache)}return qs(i,o,d)}function q_(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps)Kn=!0;else{if(!hb(i,d)&&(o.flags&128)===0)return Kn=!1,a9(i,o,d);Kn=(i.flags&131072)!==0}else Kn=!1,$t&&(o.flags&1048576)!==0&&j4(o,Wf,o.index);switch(o.lanes=0,o.tag){case 16:e:{i=o.pendingProps;var p=o.elementType,v=p._init;if(p=v(p._payload),o.type=p,typeof p=="function")Ng(p)?(i=to(p,i),o.tag=1,o=z_(null,o,p,i,d)):(o.tag=0,o=lb(null,o,p,i,d));else{if(p!=null){if(v=p.$$typeof,v===P){o.tag=11,o=D_(null,o,p,i,d);break e}else if(v===$){o.tag=14,o=R_(null,o,p,i,d);break e}}throw o=ke(p)||p,Error(r(306,o,""))}}return o;case 0:return lb(i,o,o.type,o.pendingProps,d);case 1:return p=o.type,v=to(p,o.pendingProps),z_(i,o,p,v,d);case 3:e:{if(te(o,o.stateNode.containerInfo),i===null)throw Error(r(387));p=o.pendingProps;var N=o.memoizedState;v=N.element,$g(i,o),xu(o,p,null,d);var D=o.memoizedState;if(p=D.cache,Ii(o,$n,p),p!==N.cache&&Pg(o,[$n],d,!0),pu(),p=D.element,N.isDehydrated)if(N={element:p,isDehydrated:!1,cache:D.cache},o.updateQueue.baseState=N,o.memoizedState=N,o.flags&256){o=U_(i,o,p,d);break e}else if(p!==v){v=yr(Error(r(424)),o),ou(v),o=U_(i,o,p,d);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(pn=Kr(i.firstChild),Sa=o,$t=!0,Wl=null,fs=!0,d=N_(o,null,p,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling}else{if(lu(),p===v){o=qs(i,o,d);break e}na(i,o,p,d)}o=o.child}return o;case 26:return ph(i,o),i===null?(d=W5(o.type,null,o.pendingProps,null))?o.memoizedState=d:$t||(d=o.type,i=o.pendingProps,p=Eh(W.current).createElement(d),p[At]=o,p[Xt]=i,ra(p,d,i),re(p),o.stateNode=p):o.memoizedState=W5(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return Ee(o),i===null&&$t&&(p=o.stateNode=K5(o.type,o.pendingProps,W.current),Sa=o,fs=!0,v=pn,Ji(o.type)?(Yb=v,pn=Kr(p.firstChild)):pn=v),na(i,o,o.pendingProps.children,d),ph(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&$t&&((v=p=pn)&&(p=P9(p,o.type,o.pendingProps,fs),p!==null?(o.stateNode=p,Sa=o,pn=Kr(p.firstChild),fs=!1,v=!0):v=!1),v||Xl(o)),Ee(o),v=o.type,N=o.pendingProps,D=i!==null?i.memoizedProps:null,p=N.children,Hb(v,N)?p=null:D!==null&&Hb(v,D)&&(o.flags|=32),o.memoizedState!==null&&(v=Vg(i,o,W$,null,null,d),Iu._currentValue=v),ph(i,o),na(i,o,p,d),o.child;case 6:return i===null&&$t&&((i=d=pn)&&(d=O9(d,o.pendingProps,fs),d!==null?(o.stateNode=d,Sa=o,pn=null,i=!0):i=!1),i||Xl(o)),null;case 13:return F_(i,o,d);case 4:return te(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=gc(o,null,p,d):na(i,o,p,d),o.child;case 11:return D_(i,o,o.type,o.pendingProps,d);case 7:return na(i,o,o.pendingProps,d),o.child;case 8:return na(i,o,o.pendingProps.children,d),o.child;case 12:return na(i,o,o.pendingProps.children,d),o.child;case 10:return p=o.pendingProps,Ii(o,o.type,p.value),na(i,o,p.children,d),o.child;case 9:return v=o.type._context,p=o.pendingProps.children,Ql(o),v=ha(v),p=p(v),o.flags|=1,na(i,o,p,d),o.child;case 14:return R_(i,o,o.type,o.pendingProps,d);case 15:return L_(i,o,o.type,o.pendingProps,d);case 19:return H_(i,o,d);case 31:return p=o.pendingProps,d=o.mode,p={mode:p.mode,children:p.children},i===null?(d=xh(p,d),d.ref=o.ref,o.child=d,d.return=o,o=d):(d=Is(i.child,p),d.ref=o.ref,o.child=d,d.return=o,o=d),o;case 22:return $_(i,o,d);case 24:return Ql(o),p=ha($n),i===null?(v=Dg(),v===null&&(v=Zt,N=Og(),v.pooledCache=N,N.refCount++,N!==null&&(v.pooledCacheLanes|=d),v=N),o.memoizedState={parent:p,cache:v},Lg(o),Ii(o,$n,v)):((i.lanes&d)!==0&&($g(i,o),xu(o,null,null,d),pu()),v=i.memoizedState,N=o.memoizedState,v.parent!==p?(v={parent:p,cache:p},o.memoizedState=v,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=v),Ii(o,$n,p)):(p=N.cache,Ii(o,$n,p),p!==v.cache&&Pg(o,[$n],d,!0))),na(i,o,o.pendingProps.children,d),o.child;case 29:throw o.pendingProps}throw Error(r(156,o.tag))}function Ks(i){i.flags|=4}function K_(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!e3(o)){if(o=Sr.current,o!==null&&((kt&4194048)===kt?hs!==null:(kt&62914560)!==kt&&(kt&536870912)===0||o!==hs))throw fu=Rg,T4;i.flags|=8192}}function gh(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?Y():536870912,i.lanes|=o,jc|=o)}function Nu(i,o){if(!$t)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function fn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,p=0;if(o)for(var v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags&65011712,p|=v.flags&65011712,v.return=i,v=v.sibling;else for(v=i.child;v!==null;)d|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=i,v=v.sibling;return i.subtreeFlags|=p,i.childLanes=d,o}function r9(i,o,d){var p=o.pendingProps;switch(Cg(o),o.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(o),null;case 1:return fn(o),null;case 3:return d=o.stateNode,p=null,i!==null&&(p=i.memoizedState.cache),o.memoizedState.cache!==p&&(o.flags|=2048),Fs($n),je(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),(i===null||i.child===null)&&(iu(o)?Ks(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,S4())),fn(o),null;case 26:return d=o.memoizedState,i===null?(Ks(o),d!==null?(fn(o),K_(o,d)):(fn(o),o.flags&=-16777217)):d?d!==i.memoizedState?(Ks(o),fn(o),K_(o,d)):(fn(o),o.flags&=-16777217):(i.memoizedProps!==p&&Ks(o),fn(o),o.flags&=-16777217),null;case 27:Ae(o),d=W.current;var v=o.type;if(i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ks(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return fn(o),null}i=ce.current,iu(o)?w4(o):(i=K5(v,p,d),o.stateNode=i,Ks(o))}return fn(o),null;case 5:if(Ae(o),d=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==p&&Ks(o);else{if(!p){if(o.stateNode===null)throw Error(r(166));return fn(o),null}if(i=ce.current,iu(o))w4(o);else{switch(v=Eh(W.current),i){case 1:i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":i=v.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":i=v.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":i=v.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof p.is=="string"?v.createElement("select",{is:p.is}):v.createElement("select"),p.multiple?i.multiple=!0:p.size&&(i.size=p.size);break;default:i=typeof p.is=="string"?v.createElement(d,{is:p.is}):v.createElement(d)}}i[At]=o,i[Xt]=p;e:for(v=o.child;v!==null;){if(v.tag===5||v.tag===6)i.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===o)break e;for(;v.sibling===null;){if(v.return===null||v.return===o)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}o.stateNode=i;e:switch(ra(i,d,p),d){case"button":case"input":case"select":case"textarea":i=!!p.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&Ks(o)}}return fn(o),o.flags&=-16777217,null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==p&&Ks(o);else{if(typeof p!="string"&&o.stateNode===null)throw Error(r(166));if(i=W.current,iu(o)){if(i=o.stateNode,d=o.memoizedProps,p=null,v=Sa,v!==null)switch(v.tag){case 27:case 5:p=v.memoizedProps}i[At]=o,i=!!(i.nodeValue===d||p!==null&&p.suppressHydrationWarning===!0||B5(i.nodeValue,d)),i||Xl(o)}else i=Eh(i).createTextNode(p),i[At]=o,o.stateNode=i}return fn(o),null;case 13:if(p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(v=iu(o),p!==null&&p.dehydrated!==null){if(i===null){if(!v)throw Error(r(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(r(317));v[At]=o}else lu(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;fn(o),v=!1}else v=S4(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=v),v=!0;if(!v)return o.flags&256?(Hs(o),o):(Hs(o),null)}if(Hs(o),(o.flags&128)!==0)return o.lanes=d,o;if(d=p!==null,i=i!==null&&i.memoizedState!==null,d){p=o.child,v=null,p.alternate!==null&&p.alternate.memoizedState!==null&&p.alternate.memoizedState.cachePool!==null&&(v=p.alternate.memoizedState.cachePool.pool);var N=null;p.memoizedState!==null&&p.memoizedState.cachePool!==null&&(N=p.memoizedState.cachePool.pool),N!==v&&(p.flags|=2048)}return d!==i&&d&&(o.child.flags|=8192),gh(o,o.updateQueue),fn(o),null;case 4:return je(),i===null&&Bb(o.stateNode.containerInfo),fn(o),null;case 10:return Fs(o.type),fn(o),null;case 19:if(R(In),v=o.memoizedState,v===null)return fn(o),null;if(p=(o.flags&128)!==0,N=v.rendering,N===null)if(p)Nu(v,!1);else{if(xn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(N=mh(i),N!==null){for(o.flags|=128,Nu(v,!1),i=N.updateQueue,o.updateQueue=i,gh(o,i),o.subtreeFlags=0,i=d,d=o.child;d!==null;)y4(d,i),d=d.sibling;return q(In,In.current&1|2),o.child}i=i.sibling}v.tail!==null&&Te()>yh&&(o.flags|=128,p=!0,Nu(v,!1),o.lanes=4194304)}else{if(!p)if(i=mh(N),i!==null){if(o.flags|=128,p=!0,i=i.updateQueue,o.updateQueue=i,gh(o,i),Nu(v,!0),v.tail===null&&v.tailMode==="hidden"&&!N.alternate&&!$t)return fn(o),null}else 2*Te()-v.renderingStartTime>yh&&d!==536870912&&(o.flags|=128,p=!0,Nu(v,!1),o.lanes=4194304);v.isBackwards?(N.sibling=o.child,o.child=N):(i=v.last,i!==null?i.sibling=N:o.child=N,v.last=N)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=Te(),o.sibling=null,i=In.current,q(In,p?i&1|2:i&1),o):(fn(o),null);case 22:case 23:return Hs(o),Ug(),p=o.memoizedState!==null,i!==null?i.memoizedState!==null!==p&&(o.flags|=8192):p&&(o.flags|=8192),p?(d&536870912)!==0&&(o.flags&128)===0&&(fn(o),o.subtreeFlags&6&&(o.flags|=8192)):fn(o),d=o.updateQueue,d!==null&&gh(o,d.retryQueue),d=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),p=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(p=o.memoizedState.cachePool.pool),p!==d&&(o.flags|=2048),i!==null&&R(Jl),null;case 24:return d=null,i!==null&&(d=i.memoizedState.cache),o.memoizedState.cache!==d&&(o.flags|=2048),Fs($n),fn(o),null;case 25:return null;case 30:return null}throw Error(r(156,o.tag))}function s9(i,o){switch(Cg(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Fs($n),je(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ae(o),null;case 13:if(Hs(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(r(340));lu()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return R(In),null;case 4:return je(),null;case 10:return Fs(o.type),null;case 22:case 23:return Hs(o),Ug(),i!==null&&R(Jl),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Fs($n),null;case 25:return null;default:return null}}function G_(i,o){switch(Cg(o),o.tag){case 3:Fs($n),je();break;case 26:case 27:case 5:Ae(o);break;case 4:je();break;case 13:Hs(o);break;case 19:R(In);break;case 10:Fs(o.type);break;case 22:case 23:Hs(o),Ug(),i!==null&&R(Jl);break;case 24:Fs($n)}}function Su(i,o){try{var d=o.updateQueue,p=d!==null?d.lastEffect:null;if(p!==null){var v=p.next;d=v;do{if((d.tag&i)===i){p=void 0;var N=d.create,D=d.inst;p=N(),D.destroy=p}d=d.next}while(d!==v)}}catch(V){Gt(o,o.return,V)}}function qi(i,o,d){try{var p=o.updateQueue,v=p!==null?p.lastEffect:null;if(v!==null){var N=v.next;p=N;do{if((p.tag&i)===i){var D=p.inst,V=D.destroy;if(V!==void 0){D.destroy=void 0,v=o;var J=d,ge=V;try{ge()}catch(Me){Gt(v,J,Me)}}}p=p.next}while(p!==N)}}catch(Me){Gt(o,o.return,Me)}}function Y_(i){var o=i.updateQueue;if(o!==null){var d=i.stateNode;try{R4(o,d)}catch(p){Gt(i,i.return,p)}}}function W_(i,o,d){d.props=to(i.type,i.memoizedProps),d.state=i.memoizedState;try{d.componentWillUnmount()}catch(p){Gt(i,o,p)}}function _u(i,o){try{var d=i.ref;if(d!==null){switch(i.tag){case 26:case 27:case 5:var p=i.stateNode;break;case 30:p=i.stateNode;break;default:p=i.stateNode}typeof d=="function"?i.refCleanup=d(p):d.current=p}}catch(v){Gt(i,o,v)}}function ps(i,o){var d=i.ref,p=i.refCleanup;if(d!==null)if(typeof p=="function")try{p()}catch(v){Gt(i,o,v)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof d=="function")try{d(null)}catch(v){Gt(i,o,v)}else d.current=null}function X_(i){var o=i.type,d=i.memoizedProps,p=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":d.autoFocus&&p.focus();break e;case"img":d.src?p.src=d.src:d.srcSet&&(p.srcset=d.srcSet)}}catch(v){Gt(i,i.return,v)}}function pb(i,o,d){try{var p=i.stateNode;k9(p,i.type,d,o),p[Xt]=o}catch(v){Gt(i,i.return,v)}}function Z_(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ji(i.type)||i.tag===4}function xb(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Z_(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ji(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function gb(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d).insertBefore(i,o):(o=d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,o.appendChild(i),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=Th));else if(p!==4&&(p===27&&Ji(i.type)&&(d=i.stateNode,o=null),i=i.child,i!==null))for(gb(i,o,d),i=i.sibling;i!==null;)gb(i,o,d),i=i.sibling}function bh(i,o,d){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(p!==4&&(p===27&&Ji(i.type)&&(d=i.stateNode),i=i.child,i!==null))for(bh(i,o,d),i=i.sibling;i!==null;)bh(i,o,d),i=i.sibling}function Q_(i){var o=i.stateNode,d=i.memoizedProps;try{for(var p=i.type,v=o.attributes;v.length;)o.removeAttributeNode(v[0]);ra(o,p,d),o[At]=i,o[Xt]=d}catch(N){Gt(i,i.return,N)}}var Gs=!1,Sn=!1,bb=!1,J_=typeof WeakSet=="function"?WeakSet:Set,Gn=null;function i9(i,o){if(i=i.containerInfo,Fb=Lh,i=d4(i),xg(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var p=d.getSelection&&d.getSelection();if(p&&p.rangeCount!==0){d=p.anchorNode;var v=p.anchorOffset,N=p.focusNode;p=p.focusOffset;try{d.nodeType,N.nodeType}catch{d=null;break e}var D=0,V=-1,J=-1,ge=0,Me=0,Ie=i,be=null;t:for(;;){for(var ye;Ie!==d||v!==0&&Ie.nodeType!==3||(V=D+v),Ie!==N||p!==0&&Ie.nodeType!==3||(J=D+p),Ie.nodeType===3&&(D+=Ie.nodeValue.length),(ye=Ie.firstChild)!==null;)be=Ie,Ie=ye;for(;;){if(Ie===i)break t;if(be===d&&++ge===v&&(V=D),be===N&&++Me===p&&(J=D),(ye=Ie.nextSibling)!==null)break;Ie=be,be=Ie.parentNode}Ie=ye}d=V===-1||J===-1?null:{start:V,end:J}}else d=null}d=d||{start:0,end:0}}else d=null;for(Vb={focusedElem:i,selectionRange:d},Lh=!1,Gn=o;Gn!==null;)if(o=Gn,i=o.child,(o.subtreeFlags&1024)!==0&&i!==null)i.return=o,Gn=i;else for(;Gn!==null;){switch(o=Gn,N=o.alternate,i=o.flags,o.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&N!==null){i=void 0,d=o,v=N.memoizedProps,N=N.memoizedState,p=d.stateNode;try{var ut=to(d.type,v,d.elementType===d.type);i=p.getSnapshotBeforeUpdate(ut,N),p.__reactInternalSnapshotBeforeUpdate=i}catch(ot){Gt(d,d.return,ot)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,d=i.nodeType,d===9)Kb(i);else if(d===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Kb(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(r(163))}if(i=o.sibling,i!==null){i.return=o.return,Gn=i;break}Gn=o.return}}function e5(i,o,d){var p=d.flags;switch(d.tag){case 0:case 11:case 15:Ki(i,d),p&4&&Su(5,d);break;case 1:if(Ki(i,d),p&4)if(i=d.stateNode,o===null)try{i.componentDidMount()}catch(D){Gt(d,d.return,D)}else{var v=to(d.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(v,o,i.__reactInternalSnapshotBeforeUpdate)}catch(D){Gt(d,d.return,D)}}p&64&&Y_(d),p&512&&_u(d,d.return);break;case 3:if(Ki(i,d),p&64&&(i=d.updateQueue,i!==null)){if(o=null,d.child!==null)switch(d.child.tag){case 27:case 5:o=d.child.stateNode;break;case 1:o=d.child.stateNode}try{R4(i,o)}catch(D){Gt(d,d.return,D)}}break;case 27:o===null&&p&4&&Q_(d);case 26:case 5:Ki(i,d),o===null&&p&4&&X_(d),p&512&&_u(d,d.return);break;case 12:Ki(i,d);break;case 13:Ki(i,d),p&4&&a5(i,d),p&64&&(i=d.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(d=p9.bind(null,d),M9(i,d))));break;case 22:if(p=d.memoizedState!==null||Gs,!p){o=o!==null&&o.memoizedState!==null||Sn,v=Gs;var N=Sn;Gs=p,(Sn=o)&&!N?Gi(i,d,(d.subtreeFlags&8772)!==0):Ki(i,d),Gs=v,Sn=N}break;case 30:break;default:Ki(i,d)}}function t5(i){var o=i.alternate;o!==null&&(i.alternate=null,t5(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Ls(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var sn=null,La=!1;function Ys(i,o,d){for(d=d.child;d!==null;)n5(i,o,d),d=d.sibling}function n5(i,o,d){if(Se&&typeof Se.onCommitFiberUnmount=="function")try{Se.onCommitFiberUnmount(Q,d)}catch{}switch(d.tag){case 26:Sn||ps(d,o),Ys(i,o,d),d.memoizedState?d.memoizedState.count--:d.stateNode&&(d=d.stateNode,d.parentNode.removeChild(d));break;case 27:Sn||ps(d,o);var p=sn,v=La;Ji(d.type)&&(sn=d.stateNode,La=!1),Ys(i,o,d),Du(d.stateNode),sn=p,La=v;break;case 5:Sn||ps(d,o);case 6:if(p=sn,v=La,sn=null,Ys(i,o,d),sn=p,La=v,sn!==null)if(La)try{(sn.nodeType===9?sn.body:sn.nodeName==="HTML"?sn.ownerDocument.body:sn).removeChild(d.stateNode)}catch(N){Gt(d,o,N)}else try{sn.removeChild(d.stateNode)}catch(N){Gt(d,o,N)}break;case 18:sn!==null&&(La?(i=sn,H5(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,d.stateNode),Fu(i)):H5(sn,d.stateNode));break;case 4:p=sn,v=La,sn=d.stateNode.containerInfo,La=!0,Ys(i,o,d),sn=p,La=v;break;case 0:case 11:case 14:case 15:Sn||qi(2,d,o),Sn||qi(4,d,o),Ys(i,o,d);break;case 1:Sn||(ps(d,o),p=d.stateNode,typeof p.componentWillUnmount=="function"&&W_(d,o,p)),Ys(i,o,d);break;case 21:Ys(i,o,d);break;case 22:Sn=(p=Sn)||d.memoizedState!==null,Ys(i,o,d),Sn=p;break;default:Ys(i,o,d)}}function a5(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Fu(i)}catch(d){Gt(o,o.return,d)}}function l9(i){switch(i.tag){case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new J_),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new J_),o;default:throw Error(r(435,i.tag))}}function vb(i,o){var d=l9(i);o.forEach(function(p){var v=x9.bind(null,i,p);d.has(p)||(d.add(p),p.then(v,v))})}function Ya(i,o){var d=o.deletions;if(d!==null)for(var p=0;p<d.length;p++){var v=d[p],N=i,D=o,V=D;e:for(;V!==null;){switch(V.tag){case 27:if(Ji(V.type)){sn=V.stateNode,La=!1;break e}break;case 5:sn=V.stateNode,La=!1;break e;case 3:case 4:sn=V.stateNode.containerInfo,La=!0;break e}V=V.return}if(sn===null)throw Error(r(160));n5(N,D,v),sn=null,La=!1,N=v.alternate,N!==null&&(N.return=null),v.return=null}if(o.subtreeFlags&13878)for(o=o.child;o!==null;)r5(o,i),o=o.sibling}var qr=null;function r5(i,o){var d=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Ya(o,i),Wa(i),p&4&&(qi(3,i,i.return),Su(3,i),qi(5,i,i.return));break;case 1:Ya(o,i),Wa(i),p&512&&(Sn||d===null||ps(d,d.return)),p&64&&Gs&&(i=i.updateQueue,i!==null&&(p=i.callbacks,p!==null&&(d=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=d===null?p:d.concat(p))));break;case 26:var v=qr;if(Ya(o,i),Wa(i),p&512&&(Sn||d===null||ps(d,d.return)),p&4){var N=d!==null?d.memoizedState:null;if(p=i.memoizedState,d===null)if(p===null)if(i.stateNode===null){e:{p=i.type,d=i.memoizedProps,v=v.ownerDocument||v;t:switch(p){case"title":N=v.getElementsByTagName("title")[0],(!N||N[Vr]||N[At]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=v.createElement(p),v.head.insertBefore(N,v.querySelector("head > title"))),ra(N,p,d),N[At]=i,re(N),p=N;break e;case"link":var D=Q5("link","href",v).get(p+(d.href||""));if(D){for(var V=0;V<D.length;V++)if(N=D[V],N.getAttribute("href")===(d.href==null||d.href===""?null:d.href)&&N.getAttribute("rel")===(d.rel==null?null:d.rel)&&N.getAttribute("title")===(d.title==null?null:d.title)&&N.getAttribute("crossorigin")===(d.crossOrigin==null?null:d.crossOrigin)){D.splice(V,1);break t}}N=v.createElement(p),ra(N,p,d),v.head.appendChild(N);break;case"meta":if(D=Q5("meta","content",v).get(p+(d.content||""))){for(V=0;V<D.length;V++)if(N=D[V],N.getAttribute("content")===(d.content==null?null:""+d.content)&&N.getAttribute("name")===(d.name==null?null:d.name)&&N.getAttribute("property")===(d.property==null?null:d.property)&&N.getAttribute("http-equiv")===(d.httpEquiv==null?null:d.httpEquiv)&&N.getAttribute("charset")===(d.charSet==null?null:d.charSet)){D.splice(V,1);break t}}N=v.createElement(p),ra(N,p,d),v.head.appendChild(N);break;default:throw Error(r(468,p))}N[At]=i,re(N),p=N}i.stateNode=p}else J5(v,i.type,i.stateNode);else i.stateNode=Z5(v,p,i.memoizedProps);else N!==p?(N===null?d.stateNode!==null&&(d=d.stateNode,d.parentNode.removeChild(d)):N.count--,p===null?J5(v,i.type,i.stateNode):Z5(v,p,i.memoizedProps)):p===null&&i.stateNode!==null&&pb(i,i.memoizedProps,d.memoizedProps)}break;case 27:Ya(o,i),Wa(i),p&512&&(Sn||d===null||ps(d,d.return)),d!==null&&p&4&&pb(i,i.memoizedProps,d.memoizedProps);break;case 5:if(Ya(o,i),Wa(i),p&512&&(Sn||d===null||ps(d,d.return)),i.flags&32){v=i.stateNode;try{Jo(v,"")}catch(ye){Gt(i,i.return,ye)}}p&4&&i.stateNode!=null&&(v=i.memoizedProps,pb(i,v,d!==null?d.memoizedProps:v)),p&1024&&(bb=!0);break;case 6:if(Ya(o,i),Wa(i),p&4){if(i.stateNode===null)throw Error(r(162));p=i.memoizedProps,d=i.stateNode;try{d.nodeValue=p}catch(ye){Gt(i,i.return,ye)}}break;case 3:if(Mh=null,v=qr,qr=Ph(o.containerInfo),Ya(o,i),qr=v,Wa(i),p&4&&d!==null&&d.memoizedState.isDehydrated)try{Fu(o.containerInfo)}catch(ye){Gt(i,i.return,ye)}bb&&(bb=!1,s5(i));break;case 4:p=qr,qr=Ph(i.stateNode.containerInfo),Ya(o,i),Wa(i),qr=p;break;case 12:Ya(o,i),Wa(i);break;case 13:Ya(o,i),Wa(i),i.child.flags&8192&&i.memoizedState!==null!=(d!==null&&d.memoizedState!==null)&&(_b=Te()),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vb(i,p)));break;case 22:v=i.memoizedState!==null;var J=d!==null&&d.memoizedState!==null,ge=Gs,Me=Sn;if(Gs=ge||v,Sn=Me||J,Ya(o,i),Sn=Me,Gs=ge,Wa(i),p&8192)e:for(o=i.stateNode,o._visibility=v?o._visibility&-2:o._visibility|1,v&&(d===null||J||Gs||Sn||no(i)),d=null,o=i;;){if(o.tag===5||o.tag===26){if(d===null){J=d=o;try{if(N=J.stateNode,v)D=N.style,typeof D.setProperty=="function"?D.setProperty("display","none","important"):D.display="none";else{V=J.stateNode;var Ie=J.memoizedProps.style,be=Ie!=null&&Ie.hasOwnProperty("display")?Ie.display:null;V.style.display=be==null||typeof be=="boolean"?"":(""+be).trim()}}catch(ye){Gt(J,J.return,ye)}}}else if(o.tag===6){if(d===null){J=o;try{J.stateNode.nodeValue=v?"":J.memoizedProps}catch(ye){Gt(J,J.return,ye)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;d===o&&(d=null),o=o.return}d===o&&(d=null),o.sibling.return=o.return,o=o.sibling}p&4&&(p=i.updateQueue,p!==null&&(d=p.retryQueue,d!==null&&(p.retryQueue=null,vb(i,d))));break;case 19:Ya(o,i),Wa(i),p&4&&(p=i.updateQueue,p!==null&&(i.updateQueue=null,vb(i,p)));break;case 30:break;case 21:break;default:Ya(o,i),Wa(i)}}function Wa(i){var o=i.flags;if(o&2){try{for(var d,p=i.return;p!==null;){if(Z_(p)){d=p;break}p=p.return}if(d==null)throw Error(r(160));switch(d.tag){case 27:var v=d.stateNode,N=xb(i);bh(i,N,v);break;case 5:var D=d.stateNode;d.flags&32&&(Jo(D,""),d.flags&=-33);var V=xb(i);bh(i,V,D);break;case 3:case 4:var J=d.stateNode.containerInfo,ge=xb(i);gb(i,ge,J);break;default:throw Error(r(161))}}catch(Me){Gt(i,i.return,Me)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function s5(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;s5(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Ki(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)e5(i,o.alternate,o),o=o.sibling}function no(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:qi(4,o,o.return),no(o);break;case 1:ps(o,o.return);var d=o.stateNode;typeof d.componentWillUnmount=="function"&&W_(o,o.return,d),no(o);break;case 27:Du(o.stateNode);case 26:case 5:ps(o,o.return),no(o);break;case 22:o.memoizedState===null&&no(o);break;case 30:no(o);break;default:no(o)}i=i.sibling}}function Gi(i,o,d){for(d=d&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var p=o.alternate,v=i,N=o,D=N.flags;switch(N.tag){case 0:case 11:case 15:Gi(v,N,d),Su(4,N);break;case 1:if(Gi(v,N,d),p=N,v=p.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(ge){Gt(p,p.return,ge)}if(p=N,v=p.updateQueue,v!==null){var V=p.stateNode;try{var J=v.shared.hiddenCallbacks;if(J!==null)for(v.shared.hiddenCallbacks=null,v=0;v<J.length;v++)D4(J[v],V)}catch(ge){Gt(p,p.return,ge)}}d&&D&64&&Y_(N),_u(N,N.return);break;case 27:Q_(N);case 26:case 5:Gi(v,N,d),d&&p===null&&D&4&&X_(N),_u(N,N.return);break;case 12:Gi(v,N,d);break;case 13:Gi(v,N,d),d&&D&4&&a5(v,N);break;case 22:N.memoizedState===null&&Gi(v,N,d),_u(N,N.return);break;case 30:break;default:Gi(v,N,d)}o=o.sibling}}function yb(i,o){var d=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(d=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==d&&(i!=null&&i.refCount++,d!=null&&du(d))}function jb(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&du(i))}function xs(i,o,d,p){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)i5(i,o,d,p),o=o.sibling}function i5(i,o,d,p){var v=o.flags;switch(o.tag){case 0:case 11:case 15:xs(i,o,d,p),v&2048&&Su(9,o);break;case 1:xs(i,o,d,p);break;case 3:xs(i,o,d,p),v&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&du(i)));break;case 12:if(v&2048){xs(i,o,d,p),i=o.stateNode;try{var N=o.memoizedProps,D=N.id,V=N.onPostCommit;typeof V=="function"&&V(D,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(J){Gt(o,o.return,J)}}else xs(i,o,d,p);break;case 13:xs(i,o,d,p);break;case 23:break;case 22:N=o.stateNode,D=o.alternate,o.memoizedState!==null?N._visibility&2?xs(i,o,d,p):ku(i,o):N._visibility&2?xs(i,o,d,p):(N._visibility|=2,bc(i,o,d,p,(o.subtreeFlags&10256)!==0)),v&2048&&yb(D,o);break;case 24:xs(i,o,d,p),v&2048&&jb(o.alternate,o);break;default:xs(i,o,d,p)}}function bc(i,o,d,p,v){for(v=v&&(o.subtreeFlags&10256)!==0,o=o.child;o!==null;){var N=i,D=o,V=d,J=p,ge=D.flags;switch(D.tag){case 0:case 11:case 15:bc(N,D,V,J,v),Su(8,D);break;case 23:break;case 22:var Me=D.stateNode;D.memoizedState!==null?Me._visibility&2?bc(N,D,V,J,v):ku(N,D):(Me._visibility|=2,bc(N,D,V,J,v)),v&&ge&2048&&yb(D.alternate,D);break;case 24:bc(N,D,V,J,v),v&&ge&2048&&jb(D.alternate,D);break;default:bc(N,D,V,J,v)}o=o.sibling}}function ku(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var d=i,p=o,v=p.flags;switch(p.tag){case 22:ku(d,p),v&2048&&yb(p.alternate,p);break;case 24:ku(d,p),v&2048&&jb(p.alternate,p);break;default:ku(d,p)}o=o.sibling}}var Cu=8192;function vc(i){if(i.subtreeFlags&Cu)for(i=i.child;i!==null;)l5(i),i=i.sibling}function l5(i){switch(i.tag){case 26:vc(i),i.flags&Cu&&i.memoizedState!==null&&K9(qr,i.memoizedState,i.memoizedProps);break;case 5:vc(i);break;case 3:case 4:var o=qr;qr=Ph(i.stateNode.containerInfo),vc(i),qr=o;break;case 22:i.memoizedState===null&&(o=i.alternate,o!==null&&o.memoizedState!==null?(o=Cu,Cu=16777216,vc(i),Cu=o):vc(i));break;default:vc(i)}}function o5(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function Au(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Gn=p,d5(p,i)}o5(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)c5(i),i=i.sibling}function c5(i){switch(i.tag){case 0:case 11:case 15:Au(i),i.flags&2048&&qi(9,i,i.return);break;case 3:Au(i);break;case 12:Au(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,vh(i)):Au(i);break;default:Au(i)}}function vh(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var d=0;d<o.length;d++){var p=o[d];Gn=p,d5(p,i)}o5(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:qi(8,o,o.return),vh(o);break;case 22:d=o.stateNode,d._visibility&2&&(d._visibility&=-3,vh(o));break;default:vh(o)}i=i.sibling}}function d5(i,o){for(;Gn!==null;){var d=Gn;switch(d.tag){case 0:case 11:case 15:qi(8,d,o);break;case 23:case 22:if(d.memoizedState!==null&&d.memoizedState.cachePool!==null){var p=d.memoizedState.cachePool.pool;p!=null&&p.refCount++}break;case 24:du(d.memoizedState.cache)}if(p=d.child,p!==null)p.return=d,Gn=p;else e:for(d=i;Gn!==null;){p=Gn;var v=p.sibling,N=p.return;if(t5(p),p===d){Gn=null;break e}if(v!==null){v.return=N,Gn=v;break e}Gn=N}}}var o9={getCacheForType:function(i){var o=ha($n),d=o.data.get(i);return d===void 0&&(d=i(),o.data.set(i,d)),d}},c9=typeof WeakMap=="function"?WeakMap:Map,zt=0,Zt=null,St=null,kt=0,Ut=0,Xa=null,Yi=!1,yc=!1,wb=!1,Ws=0,xn=0,Wi=0,ao=0,Nb=0,_r=0,jc=0,Tu=null,$a=null,Sb=!1,_b=0,yh=1/0,jh=null,Xi=null,aa=0,Zi=null,wc=null,Nc=0,kb=0,Cb=null,u5=null,Eu=0,Ab=null;function Za(){if((zt&2)!==0&&kt!==0)return kt&-kt;if(O.T!==null){var i=dc;return i!==0?i:Rb()}return Lt()}function m5(){_r===0&&(_r=(kt&536870912)===0||$t?me():536870912);var i=Sr.current;return i!==null&&(i.flags|=32),_r}function Qa(i,o,d){(i===Zt&&(Ut===2||Ut===9)||i.cancelPendingCommit!==null)&&(Sc(i,0),Qi(i,kt,_r,!1)),oe(i,d),((zt&2)===0||i!==Zt)&&(i===Zt&&((zt&2)===0&&(ao|=d),xn===4&&Qi(i,kt,_r,!1)),gs(i))}function f5(i,o,d){if((zt&6)!==0)throw Error(r(327));var p=!d&&(o&124)===0&&(o&i.expiredLanes)===0||bt(i,o),v=p?m9(i,o):Pb(i,o,!0),N=p;do{if(v===0){yc&&!p&&Qi(i,o,0,!1);break}else{if(d=i.current.alternate,N&&!d9(d)){v=Pb(i,o,!1),N=!1;continue}if(v===2){if(N=o,i.errorRecoveryDisabledLanes&N)var D=0;else D=i.pendingLanes&-536870913,D=D!==0?D:D&536870912?536870912:0;if(D!==0){o=D;e:{var V=i;v=Tu;var J=V.current.memoizedState.isDehydrated;if(J&&(Sc(V,D).flags|=256),D=Pb(V,D,!1),D!==2){if(wb&&!J){V.errorRecoveryDisabledLanes|=N,ao|=N,v=4;break e}N=$a,$a=v,N!==null&&($a===null?$a=N:$a.push.apply($a,N))}v=D}if(N=!1,v!==2)continue}}if(v===1){Sc(i,0),Qi(i,o,0,!0);break}e:{switch(p=i,N=v,N){case 0:case 1:throw Error(r(345));case 4:if((o&4194048)!==o)break;case 6:Qi(p,o,_r,!Yi);break e;case 2:$a=null;break;case 3:case 5:break;default:throw Error(r(329))}if((o&62914560)===o&&(v=_b+300-Te(),10<v)){if(Qi(p,o,_r,!Yi),qe(p,0,!0)!==0)break e;p.timeoutHandle=F5(h5.bind(null,p,d,$a,jh,Sb,o,_r,ao,jc,Yi,N,2,-0,0),v);break e}h5(p,d,$a,jh,Sb,o,_r,ao,jc,Yi,N,0,-0,0)}}break}while(!0);gs(i)}function h5(i,o,d,p,v,N,D,V,J,ge,Me,Ie,be,ye){if(i.timeoutHandle=-1,Ie=o.subtreeFlags,(Ie&8192||(Ie&16785408)===16785408)&&($u={stylesheets:null,count:0,unsuspend:q9},l5(o),Ie=G9(),Ie!==null)){i.cancelPendingCommit=Ie(j5.bind(null,i,o,N,d,p,v,D,V,J,Me,1,be,ye)),Qi(i,N,D,!ge);return}j5(i,o,N,d,p,v,D,V,J)}function d9(i){for(var o=i;;){var d=o.tag;if((d===0||d===11||d===15)&&o.flags&16384&&(d=o.updateQueue,d!==null&&(d=d.stores,d!==null)))for(var p=0;p<d.length;p++){var v=d[p],N=v.getSnapshot;v=v.value;try{if(!Ka(N(),v))return!1}catch{return!1}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Qi(i,o,d,p){o&=~Nb,o&=~ao,i.suspendedLanes|=o,i.pingedLanes&=~o,p&&(i.warmLanes|=o),p=i.expirationTimes;for(var v=o;0<v;){var N=31-$e(v),D=1<<N;p[N]=-1,v&=~D}d!==0&&lt(i,d,o)}function wh(){return(zt&6)===0?(Pu(0),!1):!0}function Tb(){if(St!==null){if(Ut===0)var i=St.return;else i=St,Us=Zl=null,Kg(i),xc=null,ju=0,i=St;for(;i!==null;)G_(i.alternate,i),i=i.return;St=null}}function Sc(i,o){var d=i.timeoutHandle;d!==-1&&(i.timeoutHandle=-1,A9(d)),d=i.cancelPendingCommit,d!==null&&(i.cancelPendingCommit=null,d()),Tb(),Zt=i,St=d=Is(i.current,null),kt=o,Ut=0,Xa=null,Yi=!1,yc=bt(i,o),wb=!1,jc=_r=Nb=ao=Wi=xn=0,$a=Tu=null,Sb=!1,(o&8)!==0&&(o|=o&32);var p=i.entangledLanes;if(p!==0)for(i=i.entanglements,p&=o;0<p;){var v=31-$e(p),N=1<<v;o|=i[v],p&=~N}return Ws=o,Hf(),d}function p5(i,o){vt=null,O.H=ch,o===mu||o===Jf?(o=O4(),Ut=3):o===T4?(o=O4(),Ut=4):Ut=o===M_?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,Xa=o,St===null&&(xn=1,hh(i,yr(o,i.current)))}function x5(){var i=O.H;return O.H=ch,i===null?ch:i}function g5(){var i=O.A;return O.A=o9,i}function Eb(){xn=4,Yi||(kt&4194048)!==kt&&Sr.current!==null||(yc=!0),(Wi&134217727)===0&&(ao&134217727)===0||Zt===null||Qi(Zt,kt,_r,!1)}function Pb(i,o,d){var p=zt;zt|=2;var v=x5(),N=g5();(Zt!==i||kt!==o)&&(jh=null,Sc(i,o)),o=!1;var D=xn;e:do try{if(Ut!==0&&St!==null){var V=St,J=Xa;switch(Ut){case 8:Tb(),D=6;break e;case 3:case 2:case 9:case 6:Sr.current===null&&(o=!0);var ge=Ut;if(Ut=0,Xa=null,_c(i,V,J,ge),d&&yc){D=0;break e}break;default:ge=Ut,Ut=0,Xa=null,_c(i,V,J,ge)}}u9(),D=xn;break}catch(Me){p5(i,Me)}while(!0);return o&&i.shellSuspendCounter++,Us=Zl=null,zt=p,O.H=v,O.A=N,St===null&&(Zt=null,kt=0,Hf()),D}function u9(){for(;St!==null;)b5(St)}function m9(i,o){var d=zt;zt|=2;var p=x5(),v=g5();Zt!==i||kt!==o?(jh=null,yh=Te()+500,Sc(i,o)):yc=bt(i,o);e:do try{if(Ut!==0&&St!==null){o=St;var N=Xa;t:switch(Ut){case 1:Ut=0,Xa=null,_c(i,o,N,1);break;case 2:case 9:if(E4(N)){Ut=0,Xa=null,v5(o);break}o=function(){Ut!==2&&Ut!==9||Zt!==i||(Ut=7),gs(i)},N.then(o,o);break e;case 3:Ut=7;break e;case 4:Ut=5;break e;case 7:E4(N)?(Ut=0,Xa=null,v5(o)):(Ut=0,Xa=null,_c(i,o,N,7));break;case 5:var D=null;switch(St.tag){case 26:D=St.memoizedState;case 5:case 27:var V=St;if(!D||e3(D)){Ut=0,Xa=null;var J=V.sibling;if(J!==null)St=J;else{var ge=V.return;ge!==null?(St=ge,Nh(ge)):St=null}break t}}Ut=0,Xa=null,_c(i,o,N,5);break;case 6:Ut=0,Xa=null,_c(i,o,N,6);break;case 8:Tb(),xn=6;break e;default:throw Error(r(462))}}f9();break}catch(Me){p5(i,Me)}while(!0);return Us=Zl=null,O.H=p,O.A=v,zt=d,St!==null?0:(Zt=null,kt=0,Hf(),xn)}function f9(){for(;St!==null&&!ve();)b5(St)}function b5(i){var o=q_(i.alternate,i,Ws);i.memoizedProps=i.pendingProps,o===null?Nh(i):St=o}function v5(i){var o=i,d=o.alternate;switch(o.tag){case 15:case 0:o=B_(d,o,o.pendingProps,o.type,void 0,kt);break;case 11:o=B_(d,o,o.pendingProps,o.type.render,o.ref,kt);break;case 5:Kg(o);default:G_(d,o),o=St=y4(o,Ws),o=q_(d,o,Ws)}i.memoizedProps=i.pendingProps,o===null?Nh(i):St=o}function _c(i,o,d,p){Us=Zl=null,Kg(o),xc=null,ju=0;var v=o.return;try{if(n9(i,v,o,d,kt)){xn=1,hh(i,yr(d,i.current)),St=null;return}}catch(N){if(v!==null)throw St=v,N;xn=1,hh(i,yr(d,i.current)),St=null;return}o.flags&32768?($t||p===1?i=!0:yc||(kt&536870912)!==0?i=!1:(Yi=i=!0,(p===2||p===9||p===3||p===6)&&(p=Sr.current,p!==null&&p.tag===13&&(p.flags|=16384))),y5(o,i)):Nh(o)}function Nh(i){var o=i;do{if((o.flags&32768)!==0){y5(o,Yi);return}i=o.return;var d=r9(o.alternate,o,Ws);if(d!==null){St=d;return}if(o=o.sibling,o!==null){St=o;return}St=o=i}while(o!==null);xn===0&&(xn=5)}function y5(i,o){do{var d=s9(i.alternate,i);if(d!==null){d.flags&=32767,St=d;return}if(d=i.return,d!==null&&(d.flags|=32768,d.subtreeFlags=0,d.deletions=null),!o&&(i=i.sibling,i!==null)){St=i;return}St=i=d}while(i!==null);xn=6,St=null}function j5(i,o,d,p,v,N,D,V,J){i.cancelPendingCommit=null;do Sh();while(aa!==0);if((zt&6)!==0)throw Error(r(327));if(o!==null){if(o===i.current)throw Error(r(177));if(N=o.lanes|o.childLanes,N|=jg,Xe(i,d,N,D,V,J),i===Zt&&(St=Zt=null,kt=0),wc=o,Zi=i,Nc=d,kb=N,Cb=v,u5=p,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,g9(Ue,function(){return k5(),null})):(i.callbackNode=null,i.callbackPriority=0),p=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||p){p=O.T,O.T=null,v=H.p,H.p=2,D=zt,zt|=4;try{i9(i,o,d)}finally{zt=D,H.p=v,O.T=p}}aa=1,w5(),N5(),S5()}}function w5(){if(aa===1){aa=0;var i=Zi,o=wc,d=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||d){d=O.T,O.T=null;var p=H.p;H.p=2;var v=zt;zt|=4;try{r5(o,i);var N=Vb,D=d4(i.containerInfo),V=N.focusedElem,J=N.selectionRange;if(D!==V&&V&&V.ownerDocument&&c4(V.ownerDocument.documentElement,V)){if(J!==null&&xg(V)){var ge=J.start,Me=J.end;if(Me===void 0&&(Me=ge),"selectionStart"in V)V.selectionStart=ge,V.selectionEnd=Math.min(Me,V.value.length);else{var Ie=V.ownerDocument||document,be=Ie&&Ie.defaultView||window;if(be.getSelection){var ye=be.getSelection(),ut=V.textContent.length,ot=Math.min(J.start,ut),qt=J.end===void 0?ot:Math.min(J.end,ut);!ye.extend&&ot>qt&&(D=qt,qt=ot,ot=D);var ue=o4(V,ot),ie=o4(V,qt);if(ue&&ie&&(ye.rangeCount!==1||ye.anchorNode!==ue.node||ye.anchorOffset!==ue.offset||ye.focusNode!==ie.node||ye.focusOffset!==ie.offset)){var he=Ie.createRange();he.setStart(ue.node,ue.offset),ye.removeAllRanges(),ot>qt?(ye.addRange(he),ye.extend(ie.node,ie.offset)):(he.setEnd(ie.node,ie.offset),ye.addRange(he))}}}}for(Ie=[],ye=V;ye=ye.parentNode;)ye.nodeType===1&&Ie.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof V.focus=="function"&&V.focus(),V=0;V<Ie.length;V++){var Le=Ie[V];Le.element.scrollLeft=Le.left,Le.element.scrollTop=Le.top}}Lh=!!Fb,Vb=Fb=null}finally{zt=v,H.p=p,O.T=d}}i.current=o,aa=2}}function N5(){if(aa===2){aa=0;var i=Zi,o=wc,d=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||d){d=O.T,O.T=null;var p=H.p;H.p=2;var v=zt;zt|=4;try{e5(i,o.alternate,o)}finally{zt=v,H.p=p,O.T=d}}aa=3}}function S5(){if(aa===4||aa===3){aa=0,le();var i=Zi,o=wc,d=Nc,p=u5;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?aa=5:(aa=0,wc=Zi=null,_5(i,i.pendingLanes));var v=i.pendingLanes;if(v===0&&(Xi=null),Ot(d),o=o.stateNode,Se&&typeof Se.onCommitFiberRoot=="function")try{Se.onCommitFiberRoot(Q,o,void 0,(o.current.flags&128)===128)}catch{}if(p!==null){o=O.T,v=H.p,H.p=2,O.T=null;try{for(var N=i.onRecoverableError,D=0;D<p.length;D++){var V=p[D];N(V.value,{componentStack:V.stack})}}finally{O.T=o,H.p=v}}(Nc&3)!==0&&Sh(),gs(i),v=i.pendingLanes,(d&4194090)!==0&&(v&42)!==0?i===Ab?Eu++:(Eu=0,Ab=i):Eu=0,Pu(0)}}function _5(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,du(o)))}function Sh(i){return w5(),N5(),S5(),k5()}function k5(){if(aa!==5)return!1;var i=Zi,o=kb;kb=0;var d=Ot(Nc),p=O.T,v=H.p;try{H.p=32>d?32:d,O.T=null,d=Cb,Cb=null;var N=Zi,D=Nc;if(aa=0,wc=Zi=null,Nc=0,(zt&6)!==0)throw Error(r(331));var V=zt;if(zt|=4,c5(N.current),i5(N,N.current,D,d),zt=V,Pu(0,!1),Se&&typeof Se.onPostCommitFiberRoot=="function")try{Se.onPostCommitFiberRoot(Q,N)}catch{}return!0}finally{H.p=v,O.T=p,_5(i,o)}}function C5(i,o,d){o=yr(d,o),o=ib(i.stateNode,o,2),i=Ui(i,o,2),i!==null&&(oe(i,2),gs(i))}function Gt(i,o,d){if(i.tag===3)C5(i,i,d);else for(;o!==null;){if(o.tag===3){C5(o,i,d);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Xi===null||!Xi.has(p))){i=yr(d,i),d=P_(2),p=Ui(o,d,2),p!==null&&(O_(d,p,o,i),oe(p,2),gs(p));break}}o=o.return}}function Ob(i,o,d){var p=i.pingCache;if(p===null){p=i.pingCache=new c9;var v=new Set;p.set(o,v)}else v=p.get(o),v===void 0&&(v=new Set,p.set(o,v));v.has(d)||(wb=!0,v.add(d),i=h9.bind(null,i,o,d),o.then(i,i))}function h9(i,o,d){var p=i.pingCache;p!==null&&p.delete(o),i.pingedLanes|=i.suspendedLanes&d,i.warmLanes&=~d,Zt===i&&(kt&d)===d&&(xn===4||xn===3&&(kt&62914560)===kt&&300>Te()-_b?(zt&2)===0&&Sc(i,0):Nb|=d,jc===kt&&(jc=0)),gs(i)}function A5(i,o){o===0&&(o=Y()),i=ic(i,o),i!==null&&(oe(i,o),gs(i))}function p9(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),A5(i,d)}function x9(i,o){var d=0;switch(i.tag){case 13:var p=i.stateNode,v=i.memoizedState;v!==null&&(d=v.retryLane);break;case 19:p=i.stateNode;break;case 22:p=i.stateNode._retryCache;break;default:throw Error(r(314))}p!==null&&p.delete(o),A5(i,d)}function g9(i,o){return Fe(i,o)}var _h=null,kc=null,Mb=!1,kh=!1,Db=!1,ro=0;function gs(i){i!==kc&&i.next===null&&(kc===null?_h=kc=i:kc=kc.next=i),kh=!0,Mb||(Mb=!0,v9())}function Pu(i,o){if(!Db&&kh){Db=!0;do for(var d=!1,p=_h;p!==null;){if(i!==0){var v=p.pendingLanes;if(v===0)var N=0;else{var D=p.suspendedLanes,V=p.pingedLanes;N=(1<<31-$e(42|i)+1)-1,N&=v&~(D&~V),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(d=!0,O5(p,N))}else N=kt,N=qe(p,p===Zt?N:0,p.cancelPendingCommit!==null||p.timeoutHandle!==-1),(N&3)===0||bt(p,N)||(d=!0,O5(p,N));p=p.next}while(d);Db=!1}}function b9(){T5()}function T5(){kh=Mb=!1;var i=0;ro!==0&&(C9()&&(i=ro),ro=0);for(var o=Te(),d=null,p=_h;p!==null;){var v=p.next,N=E5(p,o);N===0?(p.next=null,d===null?_h=v:d.next=v,v===null&&(kc=d)):(d=p,(i!==0||(N&3)!==0)&&(kh=!0)),p=v}Pu(i)}function E5(i,o){for(var d=i.suspendedLanes,p=i.pingedLanes,v=i.expirationTimes,N=i.pendingLanes&-62914561;0<N;){var D=31-$e(N),V=1<<D,J=v[D];J===-1?((V&d)===0||(V&p)!==0)&&(v[D]=ua(V,o)):J<=o&&(i.expiredLanes|=V),N&=~V}if(o=Zt,d=kt,d=qe(i,i===o?d:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p=i.callbackNode,d===0||i===o&&(Ut===2||Ut===9)||i.cancelPendingCommit!==null)return p!==null&&p!==null&&Be(p),i.callbackNode=null,i.callbackPriority=0;if((d&3)===0||bt(i,d)){if(o=d&-d,o===i.callbackPriority)return o;switch(p!==null&&Be(p),Ot(d)){case 2:case 8:d=De;break;case 32:d=Ue;break;case 268435456:d=rt;break;default:d=Ue}return p=P5.bind(null,i),d=Fe(d,p),i.callbackPriority=o,i.callbackNode=d,o}return p!==null&&p!==null&&Be(p),i.callbackPriority=2,i.callbackNode=null,2}function P5(i,o){if(aa!==0&&aa!==5)return i.callbackNode=null,i.callbackPriority=0,null;var d=i.callbackNode;if(Sh()&&i.callbackNode!==d)return null;var p=kt;return p=qe(i,i===Zt?p:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),p===0?null:(f5(i,p,o),E5(i,Te()),i.callbackNode!=null&&i.callbackNode===d?P5.bind(null,i):null)}function O5(i,o){if(Sh())return null;f5(i,o,!0)}function v9(){T9(function(){(zt&6)!==0?Fe(we,b9):T5()})}function Rb(){return ro===0&&(ro=me()),ro}function M5(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:$f(""+i)}function D5(i,o){var d=o.ownerDocument.createElement("input");return d.name=o.name,d.value=o.value,i.id&&d.setAttribute("form",i.id),o.parentNode.insertBefore(d,o),i=new FormData(i),d.parentNode.removeChild(d),i}function y9(i,o,d,p,v){if(o==="submit"&&d&&d.stateNode===v){var N=M5((v[Xt]||null).action),D=p.submitter;D&&(o=(o=D[Xt]||null)?M5(o.formAction):D.getAttribute("formAction"),o!==null&&(N=o,D=null));var V=new Uf("action","action",null,p,v);i.push({event:V,listeners:[{instance:null,listener:function(){if(p.defaultPrevented){if(ro!==0){var J=D?D5(v,D):new FormData(v);tb(d,{pending:!0,data:J,method:v.method,action:N},null,J)}}else typeof N=="function"&&(V.preventDefault(),J=D?D5(v,D):new FormData(v),tb(d,{pending:!0,data:J,method:v.method,action:N},N,J))},currentTarget:v}]})}}for(var Lb=0;Lb<yg.length;Lb++){var $b=yg[Lb],j9=$b.toLowerCase(),w9=$b[0].toUpperCase()+$b.slice(1);Hr(j9,"on"+w9)}Hr(f4,"onAnimationEnd"),Hr(h4,"onAnimationIteration"),Hr(p4,"onAnimationStart"),Hr("dblclick","onDoubleClick"),Hr("focusin","onFocus"),Hr("focusout","onBlur"),Hr(B$,"onTransitionRun"),Hr(z$,"onTransitionStart"),Hr(U$,"onTransitionCancel"),Hr(x4,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),He("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),He("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),He("onBeforeInput",["compositionend","keypress","textInput","paste"]),He("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),He("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ou="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N9=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ou));function R5(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var p=i[d],v=p.event;p=p.listeners;e:{var N=void 0;if(o)for(var D=p.length-1;0<=D;D--){var V=p[D],J=V.instance,ge=V.currentTarget;if(V=V.listener,J!==N&&v.isPropagationStopped())break e;N=V,v.currentTarget=ge;try{N(v)}catch(Me){fh(Me)}v.currentTarget=null,N=J}else for(D=0;D<p.length;D++){if(V=p[D],J=V.instance,ge=V.currentTarget,V=V.listener,J!==N&&v.isPropagationStopped())break e;N=V,v.currentTarget=ge;try{N(v)}catch(Me){fh(Me)}v.currentTarget=null,N=J}}}}function _t(i,o){var d=o[Rs];d===void 0&&(d=o[Rs]=new Set);var p=i+"__bubble";d.has(p)||(L5(o,i,2,!1),d.add(p))}function Ib(i,o,d){var p=0;o&&(p|=4),L5(d,i,p,o)}var Ch="_reactListening"+Math.random().toString(36).slice(2);function Bb(i){if(!i[Ch]){i[Ch]=!0,Pe.forEach(function(d){d!=="selectionchange"&&(N9.has(d)||Ib(d,!1,i),Ib(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Ch]||(o[Ch]=!0,Ib("selectionchange",!1,o))}}function L5(i,o,d,p){switch(i3(o)){case 2:var v=X9;break;case 8:v=Z9;break;default:v=Jb}d=v.bind(null,o,d,i),v=void 0,!lg||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(v=!0),p?v!==void 0?i.addEventListener(o,d,{capture:!0,passive:v}):i.addEventListener(o,d,!0):v!==void 0?i.addEventListener(o,d,{passive:v}):i.addEventListener(o,d,!1)}function zb(i,o,d,p,v){var N=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var D=p.tag;if(D===3||D===4){var V=p.stateNode.containerInfo;if(V===v)break;if(D===4)for(D=p.return;D!==null;){var J=D.tag;if((J===3||J===4)&&D.stateNode.containerInfo===v)return;D=D.return}for(;V!==null;){if(D=X(V),D===null)return;if(J=D.tag,J===5||J===6||J===26||J===27){p=N=D;continue e}V=V.parentNode}}p=p.return}VS(function(){var ge=N,Me=sg(d),Ie=[];e:{var be=g4.get(i);if(be!==void 0){var ye=Uf,ut=i;switch(i){case"keypress":if(Bf(d)===0)break e;case"keydown":case"keyup":ye=g$;break;case"focusin":ut="focus",ye=ug;break;case"focusout":ut="blur",ye=ug;break;case"beforeblur":case"afterblur":ye=ug;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=KS;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=s$;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=y$;break;case f4:case h4:case p4:ye=o$;break;case x4:ye=w$;break;case"scroll":case"scrollend":ye=a$;break;case"wheel":ye=S$;break;case"copy":case"cut":case"paste":ye=d$;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=YS;break;case"toggle":case"beforetoggle":ye=k$}var ot=(o&4)!==0,qt=!ot&&(i==="scroll"||i==="scrollend"),ue=ot?be!==null?be+"Capture":null:be;ot=[];for(var ie=ge,he;ie!==null;){var Le=ie;if(he=Le.stateNode,Le=Le.tag,Le!==5&&Le!==26&&Le!==27||he===null||ue===null||(Le=Zd(ie,ue),Le!=null&&ot.push(Mu(ie,Le,he))),qt)break;ie=ie.return}0<ot.length&&(be=new ye(be,ut,null,d,Me),Ie.push({event:be,listeners:ot}))}}if((o&7)===0){e:{if(be=i==="mouseover"||i==="pointerover",ye=i==="mouseout"||i==="pointerout",be&&d!==rg&&(ut=d.relatedTarget||d.fromElement)&&(X(ut)||ut[Fr]))break e;if((ye||be)&&(be=Me.window===Me?Me:(be=Me.ownerDocument)?be.defaultView||be.parentWindow:window,ye?(ut=d.relatedTarget||d.toElement,ye=ge,ut=ut?X(ut):null,ut!==null&&(qt=l(ut),ot=ut.tag,ut!==qt||ot!==5&&ot!==27&&ot!==6)&&(ut=null)):(ye=null,ut=ge),ye!==ut)){if(ot=KS,Le="onMouseLeave",ue="onMouseEnter",ie="mouse",(i==="pointerout"||i==="pointerover")&&(ot=YS,Le="onPointerLeave",ue="onPointerEnter",ie="pointer"),qt=ye==null?be:ze(ye),he=ut==null?be:ze(ut),be=new ot(Le,ie+"leave",ye,d,Me),be.target=qt,be.relatedTarget=he,Le=null,X(Me)===ge&&(ot=new ot(ue,ie+"enter",ut,d,Me),ot.target=he,ot.relatedTarget=qt,Le=ot),qt=Le,ye&&ut)t:{for(ot=ye,ue=ut,ie=0,he=ot;he;he=Cc(he))ie++;for(he=0,Le=ue;Le;Le=Cc(Le))he++;for(;0<ie-he;)ot=Cc(ot),ie--;for(;0<he-ie;)ue=Cc(ue),he--;for(;ie--;){if(ot===ue||ue!==null&&ot===ue.alternate)break t;ot=Cc(ot),ue=Cc(ue)}ot=null}else ot=null;ye!==null&&$5(Ie,be,ye,ot,!1),ut!==null&&qt!==null&&$5(Ie,qt,ut,ot,!0)}}e:{if(be=ge?ze(ge):window,ye=be.nodeName&&be.nodeName.toLowerCase(),ye==="select"||ye==="input"&&be.type==="file")var Qe=n4;else if(e4(be))if(a4)Qe=L$;else{Qe=D$;var wt=M$}else ye=be.nodeName,!ye||ye.toLowerCase()!=="input"||be.type!=="checkbox"&&be.type!=="radio"?ge&&ag(ge.elementType)&&(Qe=n4):Qe=R$;if(Qe&&(Qe=Qe(i,ge))){t4(Ie,Qe,d,Me);break e}wt&&wt(i,be,ge),i==="focusout"&&ge&&be.type==="number"&&ge.memoizedProps.value!=null&&ng(be,"number",be.value)}switch(wt=ge?ze(ge):window,i){case"focusin":(e4(wt)||wt.contentEditable==="true")&&(ac=wt,gg=ge,su=null);break;case"focusout":su=gg=ac=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,u4(Ie,d,Me);break;case"selectionchange":if(I$)break;case"keydown":case"keyup":u4(Ie,d,Me)}var at;if(fg)e:{switch(i){case"compositionstart":var ct="onCompositionStart";break e;case"compositionend":ct="onCompositionEnd";break e;case"compositionupdate":ct="onCompositionUpdate";break e}ct=void 0}else nc?QS(i,d)&&(ct="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(ct="onCompositionStart");ct&&(WS&&d.locale!=="ko"&&(nc||ct!=="onCompositionStart"?ct==="onCompositionEnd"&&nc&&(at=HS()):($i=Me,og="value"in $i?$i.value:$i.textContent,nc=!0)),wt=Ah(ge,ct),0<wt.length&&(ct=new GS(ct,i,null,d,Me),Ie.push({event:ct,listeners:wt}),at?ct.data=at:(at=JS(d),at!==null&&(ct.data=at)))),(at=A$?T$(i,d):E$(i,d))&&(ct=Ah(ge,"onBeforeInput"),0<ct.length&&(wt=new GS("onBeforeInput","beforeinput",null,d,Me),Ie.push({event:wt,listeners:ct}),wt.data=at)),y9(Ie,i,ge,d,Me)}R5(Ie,o)})}function Mu(i,o,d){return{instance:i,listener:o,currentTarget:d}}function Ah(i,o){for(var d=o+"Capture",p=[];i!==null;){var v=i,N=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||N===null||(v=Zd(i,d),v!=null&&p.unshift(Mu(i,v,N)),v=Zd(i,o),v!=null&&p.push(Mu(i,v,N))),i.tag===3)return p;i=i.return}return[]}function Cc(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $5(i,o,d,p,v){for(var N=o._reactName,D=[];d!==null&&d!==p;){var V=d,J=V.alternate,ge=V.stateNode;if(V=V.tag,J!==null&&J===p)break;V!==5&&V!==26&&V!==27||ge===null||(J=ge,v?(ge=Zd(d,N),ge!=null&&D.unshift(Mu(d,ge,J))):v||(ge=Zd(d,N),ge!=null&&D.push(Mu(d,ge,J)))),d=d.return}D.length!==0&&i.push({event:o,listeners:D})}var S9=/\r\n?/g,_9=/\u0000|\uFFFD/g;function I5(i){return(typeof i=="string"?i:""+i).replace(S9,`
`).replace(_9,"")}function B5(i,o){return o=I5(o),I5(i)===o}function Th(){}function Ht(i,o,d,p,v,N){switch(d){case"children":typeof p=="string"?o==="body"||o==="textarea"&&p===""||Jo(i,p):(typeof p=="number"||typeof p=="bigint")&&o!=="body"&&Jo(i,""+p);break;case"className":Fl(i,"class",p);break;case"tabIndex":Fl(i,"tabindex",p);break;case"dir":case"role":case"viewBox":case"width":case"height":Fl(i,d,p);break;case"style":US(i,p,N);break;case"data":if(o!=="object"){Fl(i,"data",p);break}case"src":case"href":if(p===""&&(o!=="a"||d!=="href")){i.removeAttribute(d);break}if(p==null||typeof p=="function"||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=$f(""+p),i.setAttribute(d,p);break;case"action":case"formAction":if(typeof p=="function"){i.setAttribute(d,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(d==="formAction"?(o!=="input"&&Ht(i,o,"name",v.name,v,null),Ht(i,o,"formEncType",v.formEncType,v,null),Ht(i,o,"formMethod",v.formMethod,v,null),Ht(i,o,"formTarget",v.formTarget,v,null)):(Ht(i,o,"encType",v.encType,v,null),Ht(i,o,"method",v.method,v,null),Ht(i,o,"target",v.target,v,null)));if(p==null||typeof p=="symbol"||typeof p=="boolean"){i.removeAttribute(d);break}p=$f(""+p),i.setAttribute(d,p);break;case"onClick":p!=null&&(i.onclick=Th);break;case"onScroll":p!=null&&_t("scroll",i);break;case"onScrollEnd":p!=null&&_t("scrollend",i);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"multiple":i.multiple=p&&typeof p!="function"&&typeof p!="symbol";break;case"muted":i.muted=p&&typeof p!="function"&&typeof p!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(p==null||typeof p=="function"||typeof p=="boolean"||typeof p=="symbol"){i.removeAttribute("xlink:href");break}d=$f(""+p),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",d);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""+p):i.removeAttribute(d);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":p&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,""):i.removeAttribute(d);break;case"capture":case"download":p===!0?i.setAttribute(d,""):p!==!1&&p!=null&&typeof p!="function"&&typeof p!="symbol"?i.setAttribute(d,p):i.removeAttribute(d);break;case"cols":case"rows":case"size":case"span":p!=null&&typeof p!="function"&&typeof p!="symbol"&&!isNaN(p)&&1<=p?i.setAttribute(d,p):i.removeAttribute(d);break;case"rowSpan":case"start":p==null||typeof p=="function"||typeof p=="symbol"||isNaN(p)?i.removeAttribute(d):i.setAttribute(d,p);break;case"popover":_t("beforetoggle",i),_t("toggle",i),Ul(i,"popover",p);break;case"xlinkActuate":gr(i,"http://www.w3.org/1999/xlink","xlink:actuate",p);break;case"xlinkArcrole":gr(i,"http://www.w3.org/1999/xlink","xlink:arcrole",p);break;case"xlinkRole":gr(i,"http://www.w3.org/1999/xlink","xlink:role",p);break;case"xlinkShow":gr(i,"http://www.w3.org/1999/xlink","xlink:show",p);break;case"xlinkTitle":gr(i,"http://www.w3.org/1999/xlink","xlink:title",p);break;case"xlinkType":gr(i,"http://www.w3.org/1999/xlink","xlink:type",p);break;case"xmlBase":gr(i,"http://www.w3.org/XML/1998/namespace","xml:base",p);break;case"xmlLang":gr(i,"http://www.w3.org/XML/1998/namespace","xml:lang",p);break;case"xmlSpace":gr(i,"http://www.w3.org/XML/1998/namespace","xml:space",p);break;case"is":Ul(i,"is",p);break;case"innerText":case"textContent":break;default:(!(2<d.length)||d[0]!=="o"&&d[0]!=="O"||d[1]!=="n"&&d[1]!=="N")&&(d=t$.get(d)||d,Ul(i,d,p))}}function Ub(i,o,d,p,v,N){switch(d){case"style":US(i,p,N);break;case"dangerouslySetInnerHTML":if(p!=null){if(typeof p!="object"||!("__html"in p))throw Error(r(61));if(d=p.__html,d!=null){if(v.children!=null)throw Error(r(60));i.innerHTML=d}}break;case"children":typeof p=="string"?Jo(i,p):(typeof p=="number"||typeof p=="bigint")&&Jo(i,""+p);break;case"onScroll":p!=null&&_t("scroll",i);break;case"onScrollEnd":p!=null&&_t("scrollend",i);break;case"onClick":p!=null&&(i.onclick=Th);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ye.hasOwnProperty(d))e:{if(d[0]==="o"&&d[1]==="n"&&(v=d.endsWith("Capture"),o=d.slice(2,v?d.length-7:void 0),N=i[Xt]||null,N=N!=null?N[d]:null,typeof N=="function"&&i.removeEventListener(o,N,v),typeof p=="function")){typeof N!="function"&&N!==null&&(d in i?i[d]=null:i.hasAttribute(d)&&i.removeAttribute(d)),i.addEventListener(o,p,v);break e}d in i?i[d]=p:p===!0?i.setAttribute(d,""):Ul(i,d,p)}}}function ra(i,o,d){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_t("error",i),_t("load",i);var p=!1,v=!1,N;for(N in d)if(d.hasOwnProperty(N)){var D=d[N];if(D!=null)switch(N){case"src":p=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ht(i,o,N,D,d,null)}}v&&Ht(i,o,"srcSet",d.srcSet,d,null),p&&Ht(i,o,"src",d.src,d,null);return;case"input":_t("invalid",i);var V=N=D=v=null,J=null,ge=null;for(p in d)if(d.hasOwnProperty(p)){var Me=d[p];if(Me!=null)switch(p){case"name":v=Me;break;case"type":D=Me;break;case"checked":J=Me;break;case"defaultChecked":ge=Me;break;case"value":N=Me;break;case"defaultValue":V=Me;break;case"children":case"dangerouslySetInnerHTML":if(Me!=null)throw Error(r(137,o));break;default:Ht(i,o,p,Me,d,null)}}$S(i,N,V,J,ge,D,v,!1),Rf(i);return;case"select":_t("invalid",i),p=D=N=null;for(v in d)if(d.hasOwnProperty(v)&&(V=d[v],V!=null))switch(v){case"value":N=V;break;case"defaultValue":D=V;break;case"multiple":p=V;default:Ht(i,o,v,V,d,null)}o=N,d=D,i.multiple=!!p,o!=null?Qo(i,!!p,o,!1):d!=null&&Qo(i,!!p,d,!0);return;case"textarea":_t("invalid",i),N=v=p=null;for(D in d)if(d.hasOwnProperty(D)&&(V=d[D],V!=null))switch(D){case"value":p=V;break;case"defaultValue":v=V;break;case"children":N=V;break;case"dangerouslySetInnerHTML":if(V!=null)throw Error(r(91));break;default:Ht(i,o,D,V,d,null)}BS(i,p,v,N),Rf(i);return;case"option":for(J in d)if(d.hasOwnProperty(J)&&(p=d[J],p!=null))switch(J){case"selected":i.selected=p&&typeof p!="function"&&typeof p!="symbol";break;default:Ht(i,o,J,p,d,null)}return;case"dialog":_t("beforetoggle",i),_t("toggle",i),_t("cancel",i),_t("close",i);break;case"iframe":case"object":_t("load",i);break;case"video":case"audio":for(p=0;p<Ou.length;p++)_t(Ou[p],i);break;case"image":_t("error",i),_t("load",i);break;case"details":_t("toggle",i);break;case"embed":case"source":case"link":_t("error",i),_t("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ge in d)if(d.hasOwnProperty(ge)&&(p=d[ge],p!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,o));default:Ht(i,o,ge,p,d,null)}return;default:if(ag(o)){for(Me in d)d.hasOwnProperty(Me)&&(p=d[Me],p!==void 0&&Ub(i,o,Me,p,d,void 0));return}}for(V in d)d.hasOwnProperty(V)&&(p=d[V],p!=null&&Ht(i,o,V,p,d,null))}function k9(i,o,d,p){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,N=null,D=null,V=null,J=null,ge=null,Me=null;for(ye in d){var Ie=d[ye];if(d.hasOwnProperty(ye)&&Ie!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":J=Ie;default:p.hasOwnProperty(ye)||Ht(i,o,ye,null,p,Ie)}}for(var be in p){var ye=p[be];if(Ie=d[be],p.hasOwnProperty(be)&&(ye!=null||Ie!=null))switch(be){case"type":N=ye;break;case"name":v=ye;break;case"checked":ge=ye;break;case"defaultChecked":Me=ye;break;case"value":D=ye;break;case"defaultValue":V=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,o));break;default:ye!==Ie&&Ht(i,o,be,ye,p,Ie)}}tg(i,D,V,J,ge,Me,N,v);return;case"select":ye=D=V=be=null;for(N in d)if(J=d[N],d.hasOwnProperty(N)&&J!=null)switch(N){case"value":break;case"multiple":ye=J;default:p.hasOwnProperty(N)||Ht(i,o,N,null,p,J)}for(v in p)if(N=p[v],J=d[v],p.hasOwnProperty(v)&&(N!=null||J!=null))switch(v){case"value":be=N;break;case"defaultValue":V=N;break;case"multiple":D=N;default:N!==J&&Ht(i,o,v,N,p,J)}o=V,d=D,p=ye,be!=null?Qo(i,!!d,be,!1):!!p!=!!d&&(o!=null?Qo(i,!!d,o,!0):Qo(i,!!d,d?[]:"",!1));return;case"textarea":ye=be=null;for(V in d)if(v=d[V],d.hasOwnProperty(V)&&v!=null&&!p.hasOwnProperty(V))switch(V){case"value":break;case"children":break;default:Ht(i,o,V,null,p,v)}for(D in p)if(v=p[D],N=d[D],p.hasOwnProperty(D)&&(v!=null||N!=null))switch(D){case"value":be=v;break;case"defaultValue":ye=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(r(91));break;default:v!==N&&Ht(i,o,D,v,p,N)}IS(i,be,ye);return;case"option":for(var ut in d)if(be=d[ut],d.hasOwnProperty(ut)&&be!=null&&!p.hasOwnProperty(ut))switch(ut){case"selected":i.selected=!1;break;default:Ht(i,o,ut,null,p,be)}for(J in p)if(be=p[J],ye=d[J],p.hasOwnProperty(J)&&be!==ye&&(be!=null||ye!=null))switch(J){case"selected":i.selected=be&&typeof be!="function"&&typeof be!="symbol";break;default:Ht(i,o,J,be,p,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in d)be=d[ot],d.hasOwnProperty(ot)&&be!=null&&!p.hasOwnProperty(ot)&&Ht(i,o,ot,null,p,be);for(ge in p)if(be=p[ge],ye=d[ge],p.hasOwnProperty(ge)&&be!==ye&&(be!=null||ye!=null))switch(ge){case"children":case"dangerouslySetInnerHTML":if(be!=null)throw Error(r(137,o));break;default:Ht(i,o,ge,be,p,ye)}return;default:if(ag(o)){for(var qt in d)be=d[qt],d.hasOwnProperty(qt)&&be!==void 0&&!p.hasOwnProperty(qt)&&Ub(i,o,qt,void 0,p,be);for(Me in p)be=p[Me],ye=d[Me],!p.hasOwnProperty(Me)||be===ye||be===void 0&&ye===void 0||Ub(i,o,Me,be,p,ye);return}}for(var ue in d)be=d[ue],d.hasOwnProperty(ue)&&be!=null&&!p.hasOwnProperty(ue)&&Ht(i,o,ue,null,p,be);for(Ie in p)be=p[Ie],ye=d[Ie],!p.hasOwnProperty(Ie)||be===ye||be==null&&ye==null||Ht(i,o,Ie,be,p,ye)}var Fb=null,Vb=null;function Eh(i){return i.nodeType===9?i:i.ownerDocument}function z5(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function U5(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function Hb(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var qb=null;function C9(){var i=window.event;return i&&i.type==="popstate"?i===qb?!1:(qb=i,!0):(qb=null,!1)}var F5=typeof setTimeout=="function"?setTimeout:void 0,A9=typeof clearTimeout=="function"?clearTimeout:void 0,V5=typeof Promise=="function"?Promise:void 0,T9=typeof queueMicrotask=="function"?queueMicrotask:typeof V5<"u"?function(i){return V5.resolve(null).then(i).catch(E9)}:F5;function E9(i){setTimeout(function(){throw i})}function Ji(i){return i==="head"}function H5(i,o){var d=o,p=0,v=0;do{var N=d.nextSibling;if(i.removeChild(d),N&&N.nodeType===8)if(d=N.data,d==="/$"){if(0<p&&8>p){d=p;var D=i.ownerDocument;if(d&1&&Du(D.documentElement),d&2&&Du(D.body),d&4)for(d=D.head,Du(d),D=d.firstChild;D;){var V=D.nextSibling,J=D.nodeName;D[Vr]||J==="SCRIPT"||J==="STYLE"||J==="LINK"&&D.rel.toLowerCase()==="stylesheet"||d.removeChild(D),D=V}}if(v===0){i.removeChild(N),Fu(o);return}v--}else d==="$"||d==="$?"||d==="$!"?v++:p=d.charCodeAt(0)-48;else p=0;d=N}while(d);Fu(o)}function Kb(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var d=o;switch(o=o.nextSibling,d.nodeName){case"HTML":case"HEAD":case"BODY":Kb(d),Ls(d);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(d.rel.toLowerCase()==="stylesheet")continue}i.removeChild(d)}}function P9(i,o,d,p){for(;i.nodeType===1;){var v=d;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!p&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(p){if(!i[Vr])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(N=i.getAttribute("rel"),N==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(N!==v.rel||i.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||i.getAttribute("title")!==(v.title==null?null:v.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(N=i.getAttribute("src"),(N!==(v.src==null?null:v.src)||i.getAttribute("type")!==(v.type==null?null:v.type)||i.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&N&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var N=v.name==null?null:""+v.name;if(v.type==="hidden"&&i.getAttribute("name")===N)return i}else return i;if(i=Kr(i.nextSibling),i===null)break}return null}function O9(i,o,d){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!d||(i=Kr(i.nextSibling),i===null))return null;return i}function Gb(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function M9(i,o){var d=i.ownerDocument;if(i.data!=="$?"||d.readyState==="complete")o();else{var p=function(){o(),d.removeEventListener("DOMContentLoaded",p)};d.addEventListener("DOMContentLoaded",p),i._reactRetry=p}}function Kr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="F!"||o==="F")break;if(o==="/$")return null}}return i}var Yb=null;function q5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}function K5(i,o,d){switch(o=Eh(d),i){case"html":if(i=o.documentElement,!i)throw Error(r(452));return i;case"head":if(i=o.head,!i)throw Error(r(453));return i;case"body":if(i=o.body,!i)throw Error(r(454));return i;default:throw Error(r(451))}}function Du(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Ls(i)}var kr=new Map,G5=new Set;function Ph(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Xs=H.d;H.d={f:D9,r:R9,D:L9,C:$9,L:I9,m:B9,X:U9,S:z9,M:F9};function D9(){var i=Xs.f(),o=wh();return i||o}function R9(i){var o=de(i);o!==null&&o.tag===5&&o.type==="form"?f_(o):Xs.r(i)}var Ac=typeof document>"u"?null:document;function Y5(i,o,d){var p=Ac;if(p&&typeof o=="string"&&o){var v=vr(o);v='link[rel="'+i+'"][href="'+v+'"]',typeof d=="string"&&(v+='[crossorigin="'+d+'"]'),G5.has(v)||(G5.add(v),i={rel:i,crossOrigin:d,href:o},p.querySelector(v)===null&&(o=p.createElement("link"),ra(o,"link",i),re(o),p.head.appendChild(o)))}}function L9(i){Xs.D(i),Y5("dns-prefetch",i,null)}function $9(i,o){Xs.C(i,o),Y5("preconnect",i,o)}function I9(i,o,d){Xs.L(i,o,d);var p=Ac;if(p&&i&&o){var v='link[rel="preload"][as="'+vr(o)+'"]';o==="image"&&d&&d.imageSrcSet?(v+='[imagesrcset="'+vr(d.imageSrcSet)+'"]',typeof d.imageSizes=="string"&&(v+='[imagesizes="'+vr(d.imageSizes)+'"]')):v+='[href="'+vr(i)+'"]';var N=v;switch(o){case"style":N=Tc(i);break;case"script":N=Ec(i)}kr.has(N)||(i=h({rel:"preload",href:o==="image"&&d&&d.imageSrcSet?void 0:i,as:o},d),kr.set(N,i),p.querySelector(v)!==null||o==="style"&&p.querySelector(Ru(N))||o==="script"&&p.querySelector(Lu(N))||(o=p.createElement("link"),ra(o,"link",i),re(o),p.head.appendChild(o)))}}function B9(i,o){Xs.m(i,o);var d=Ac;if(d&&i){var p=o&&typeof o.as=="string"?o.as:"script",v='link[rel="modulepreload"][as="'+vr(p)+'"][href="'+vr(i)+'"]',N=v;switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ec(i)}if(!kr.has(N)&&(i=h({rel:"modulepreload",href:i},o),kr.set(N,i),d.querySelector(v)===null)){switch(p){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(d.querySelector(Lu(N)))return}p=d.createElement("link"),ra(p,"link",i),re(p),d.head.appendChild(p)}}}function z9(i,o,d){Xs.S(i,o,d);var p=Ac;if(p&&i){var v=it(p).hoistableStyles,N=Tc(i);o=o||"default";var D=v.get(N);if(!D){var V={loading:0,preload:null};if(D=p.querySelector(Ru(N)))V.loading=5;else{i=h({rel:"stylesheet",href:i,"data-precedence":o},d),(d=kr.get(N))&&Wb(i,d);var J=D=p.createElement("link");re(J),ra(J,"link",i),J._p=new Promise(function(ge,Me){J.onload=ge,J.onerror=Me}),J.addEventListener("load",function(){V.loading|=1}),J.addEventListener("error",function(){V.loading|=2}),V.loading|=4,Oh(D,o,p)}D={type:"stylesheet",instance:D,count:1,state:V},v.set(N,D)}}}function U9(i,o){Xs.X(i,o);var d=Ac;if(d&&i){var p=it(d).hoistableScripts,v=Ec(i),N=p.get(v);N||(N=d.querySelector(Lu(v)),N||(i=h({src:i,async:!0},o),(o=kr.get(v))&&Xb(i,o),N=d.createElement("script"),re(N),ra(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function F9(i,o){Xs.M(i,o);var d=Ac;if(d&&i){var p=it(d).hoistableScripts,v=Ec(i),N=p.get(v);N||(N=d.querySelector(Lu(v)),N||(i=h({src:i,async:!0,type:"module"},o),(o=kr.get(v))&&Xb(i,o),N=d.createElement("script"),re(N),ra(N,"link",i),d.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},p.set(v,N))}}function W5(i,o,d,p){var v=(v=W.current)?Ph(v):null;if(!v)throw Error(r(446));switch(i){case"meta":case"title":return null;case"style":return typeof d.precedence=="string"&&typeof d.href=="string"?(o=Tc(d.href),d=it(v).hoistableStyles,p=d.get(o),p||(p={type:"style",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};case"link":if(d.rel==="stylesheet"&&typeof d.href=="string"&&typeof d.precedence=="string"){i=Tc(d.href);var N=it(v).hoistableStyles,D=N.get(i);if(D||(v=v.ownerDocument||v,D={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(i,D),(N=v.querySelector(Ru(i)))&&!N._p&&(D.instance=N,D.state.loading=5),kr.has(i)||(d={rel:"preload",as:"style",href:d.href,crossOrigin:d.crossOrigin,integrity:d.integrity,media:d.media,hrefLang:d.hrefLang,referrerPolicy:d.referrerPolicy},kr.set(i,d),N||V9(v,i,d,D.state))),o&&p===null)throw Error(r(528,""));return D}if(o&&p!==null)throw Error(r(529,""));return null;case"script":return o=d.async,d=d.src,typeof d=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ec(d),d=it(v).hoistableScripts,p=d.get(o),p||(p={type:"script",instance:null,count:0,state:null},d.set(o,p)),p):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,i))}}function Tc(i){return'href="'+vr(i)+'"'}function Ru(i){return'link[rel="stylesheet"]['+i+"]"}function X5(i){return h({},i,{"data-precedence":i.precedence,precedence:null})}function V9(i,o,d,p){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?p.loading=1:(o=i.createElement("link"),p.preload=o,o.addEventListener("load",function(){return p.loading|=1}),o.addEventListener("error",function(){return p.loading|=2}),ra(o,"link",d),re(o),i.head.appendChild(o))}function Ec(i){return'[src="'+vr(i)+'"]'}function Lu(i){return"script[async]"+i}function Z5(i,o,d){if(o.count++,o.instance===null)switch(o.type){case"style":var p=i.querySelector('style[data-href~="'+vr(d.href)+'"]');if(p)return o.instance=p,re(p),p;var v=h({},d,{"data-href":d.href,"data-precedence":d.precedence,href:null,precedence:null});return p=(i.ownerDocument||i).createElement("style"),re(p),ra(p,"style",v),Oh(p,d.precedence,i),o.instance=p;case"stylesheet":v=Tc(d.href);var N=i.querySelector(Ru(v));if(N)return o.state.loading|=4,o.instance=N,re(N),N;p=X5(d),(v=kr.get(v))&&Wb(p,v),N=(i.ownerDocument||i).createElement("link"),re(N);var D=N;return D._p=new Promise(function(V,J){D.onload=V,D.onerror=J}),ra(N,"link",p),o.state.loading|=4,Oh(N,d.precedence,i),o.instance=N;case"script":return N=Ec(d.src),(v=i.querySelector(Lu(N)))?(o.instance=v,re(v),v):(p=d,(v=kr.get(N))&&(p=h({},d),Xb(p,v)),i=i.ownerDocument||i,v=i.createElement("script"),re(v),ra(v,"link",p),i.head.appendChild(v),o.instance=v);case"void":return null;default:throw Error(r(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(p=o.instance,o.state.loading|=4,Oh(p,d.precedence,i));return o.instance}function Oh(i,o,d){for(var p=d.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=p.length?p[p.length-1]:null,N=v,D=0;D<p.length;D++){var V=p[D];if(V.dataset.precedence===o)N=V;else if(N!==v)break}N?N.parentNode.insertBefore(i,N.nextSibling):(o=d.nodeType===9?d.head:d,o.insertBefore(i,o.firstChild))}function Wb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function Xb(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var Mh=null;function Q5(i,o,d){if(Mh===null){var p=new Map,v=Mh=new Map;v.set(d,p)}else v=Mh,p=v.get(d),p||(p=new Map,v.set(d,p));if(p.has(i))return p;for(p.set(i,null),d=d.getElementsByTagName(i),v=0;v<d.length;v++){var N=d[v];if(!(N[Vr]||N[At]||i==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var D=N.getAttribute(o)||"";D=i+D;var V=p.get(D);V?V.push(N):p.set(D,[N])}}return p}function J5(i,o,d){i=i.ownerDocument||i,i.head.insertBefore(d,o==="title"?i.querySelector("head > title"):null)}function H9(i,o,d){if(d===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function e3(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var $u=null;function q9(){}function K9(i,o,d){if($u===null)throw Error(r(475));var p=$u;if(o.type==="stylesheet"&&(typeof d.media!="string"||matchMedia(d.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var v=Tc(d.href),N=i.querySelector(Ru(v));if(N){i=N._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(p.count++,p=Dh.bind(p),i.then(p,p)),o.state.loading|=4,o.instance=N,re(N);return}N=i.ownerDocument||i,d=X5(d),(v=kr.get(v))&&Wb(d,v),N=N.createElement("link"),re(N);var D=N;D._p=new Promise(function(V,J){D.onload=V,D.onerror=J}),ra(N,"link",d),o.instance=N}p.stylesheets===null&&(p.stylesheets=new Map),p.stylesheets.set(o,i),(i=o.state.preload)&&(o.state.loading&3)===0&&(p.count++,o=Dh.bind(p),i.addEventListener("load",o),i.addEventListener("error",o))}}function G9(){if($u===null)throw Error(r(475));var i=$u;return i.stylesheets&&i.count===0&&Zb(i,i.stylesheets),0<i.count?function(o){var d=setTimeout(function(){if(i.stylesheets&&Zb(i,i.stylesheets),i.unsuspend){var p=i.unsuspend;i.unsuspend=null,p()}},6e4);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(d)}}:null}function Dh(){if(this.count--,this.count===0){if(this.stylesheets)Zb(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Rh=null;function Zb(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Rh=new Map,o.forEach(Y9,i),Rh=null,Dh.call(i))}function Y9(i,o){if(!(o.state.loading&4)){var d=Rh.get(i);if(d)var p=d.get(null);else{d=new Map,Rh.set(i,d);for(var v=i.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<v.length;N++){var D=v[N];(D.nodeName==="LINK"||D.getAttribute("media")!=="not all")&&(d.set(D.dataset.precedence,D),p=D)}p&&d.set(null,p)}v=o.instance,D=v.getAttribute("data-precedence"),N=d.get(D)||p,N===p&&d.set(null,v),d.set(D,v),this.count++,p=Dh.bind(this),v.addEventListener("load",p),v.addEventListener("error",p),N?N.parentNode.insertBefore(v,N.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(v,i.firstChild)),o.state.loading|=4}}var Iu={$$typeof:C,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function W9(i,o,d,p,v,N,D,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ne(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ne(0),this.hiddenUpdates=ne(null),this.identifierPrefix=p,this.onUncaughtError=v,this.onCaughtError=N,this.onRecoverableError=D,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function t3(i,o,d,p,v,N,D,V,J,ge,Me,Ie){return i=new W9(i,o,d,D,V,J,ge,Ie),o=1,N===!0&&(o|=24),N=Ga(3,null,null,o),i.current=N,N.stateNode=i,o=Og(),o.refCount++,i.pooledCache=o,o.refCount++,N.memoizedState={element:p,isDehydrated:d,cache:o},Lg(N),i}function n3(i){return i?(i=lc,i):lc}function a3(i,o,d,p,v,N){v=n3(v),p.context===null?p.context=v:p.pendingContext=v,p=zi(o),p.payload={element:d},N=N===void 0?null:N,N!==null&&(p.callback=N),d=Ui(i,p,o),d!==null&&(Qa(d,i,o),hu(d,i,o))}function r3(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function Qb(i,o){r3(i,o),(i=i.alternate)&&r3(i,o)}function s3(i){if(i.tag===13){var o=ic(i,67108864);o!==null&&Qa(o,i,67108864),Qb(i,67108864)}}var Lh=!0;function X9(i,o,d,p){var v=O.T;O.T=null;var N=H.p;try{H.p=2,Jb(i,o,d,p)}finally{H.p=N,O.T=v}}function Z9(i,o,d,p){var v=O.T;O.T=null;var N=H.p;try{H.p=8,Jb(i,o,d,p)}finally{H.p=N,O.T=v}}function Jb(i,o,d,p){if(Lh){var v=ev(p);if(v===null)zb(i,o,p,$h,d),l3(i,p);else if(J9(v,i,o,d,p))p.stopPropagation();else if(l3(i,p),o&4&&-1<Q9.indexOf(i)){for(;v!==null;){var N=de(v);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var D=Re(N.pendingLanes);if(D!==0){var V=N;for(V.pendingLanes|=2,V.entangledLanes|=2;D;){var J=1<<31-$e(D);V.entanglements[1]|=J,D&=~J}gs(N),(zt&6)===0&&(yh=Te()+500,Pu(0))}}break;case 13:V=ic(N,2),V!==null&&Qa(V,N,2),wh(),Qb(N,2)}if(N=ev(p),N===null&&zb(i,o,p,$h,d),N===v)break;v=N}v!==null&&p.stopPropagation()}else zb(i,o,p,null,d)}}function ev(i){return i=sg(i),tv(i)}var $h=null;function tv(i){if($h=null,i=X(i),i!==null){var o=l(i);if(o===null)i=null;else{var d=o.tag;if(d===13){if(i=c(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return $h=i,null}function i3(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ee()){case we:return 2;case De:return 8;case Ue:case Ve:return 32;case rt:return 268435456;default:return 32}default:return 32}}var nv=!1,el=null,tl=null,nl=null,Bu=new Map,zu=new Map,al=[],Q9="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function l3(i,o){switch(i){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":nl=null;break;case"pointerover":case"pointerout":Bu.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":zu.delete(o.pointerId)}}function Uu(i,o,d,p,v,N){return i===null||i.nativeEvent!==N?(i={blockedOn:o,domEventName:d,eventSystemFlags:p,nativeEvent:N,targetContainers:[v]},o!==null&&(o=de(o),o!==null&&s3(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,v!==null&&o.indexOf(v)===-1&&o.push(v),i)}function J9(i,o,d,p,v){switch(o){case"focusin":return el=Uu(el,i,o,d,p,v),!0;case"dragenter":return tl=Uu(tl,i,o,d,p,v),!0;case"mouseover":return nl=Uu(nl,i,o,d,p,v),!0;case"pointerover":var N=v.pointerId;return Bu.set(N,Uu(Bu.get(N)||null,i,o,d,p,v)),!0;case"gotpointercapture":return N=v.pointerId,zu.set(N,Uu(zu.get(N)||null,i,o,d,p,v)),!0}return!1}function o3(i){var o=X(i.target);if(o!==null){var d=l(o);if(d!==null){if(o=d.tag,o===13){if(o=c(d),o!==null){i.blockedOn=o,Ma(i.priority,function(){if(d.tag===13){var p=Za();p=dt(p);var v=ic(d,p);v!==null&&Qa(v,d,p),Qb(d,p)}});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ih(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=ev(i.nativeEvent);if(d===null){d=i.nativeEvent;var p=new d.constructor(d.type,d);rg=p,d.target.dispatchEvent(p),rg=null}else return o=de(d),o!==null&&s3(o),i.blockedOn=d,!1;o.shift()}return!0}function c3(i,o,d){Ih(i)&&d.delete(o)}function eI(){nv=!1,el!==null&&Ih(el)&&(el=null),tl!==null&&Ih(tl)&&(tl=null),nl!==null&&Ih(nl)&&(nl=null),Bu.forEach(c3),zu.forEach(c3)}function Bh(i,o){i.blockedOn===o&&(i.blockedOn=null,nv||(nv=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,eI)))}var zh=null;function d3(i){zh!==i&&(zh=i,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){zh===i&&(zh=null);for(var o=0;o<i.length;o+=3){var d=i[o],p=i[o+1],v=i[o+2];if(typeof p!="function"){if(tv(p||d)===null)continue;break}var N=de(d);N!==null&&(i.splice(o,3),o-=3,tb(N,{pending:!0,data:v,method:d.method,action:p},p,v))}}))}function Fu(i){function o(J){return Bh(J,i)}el!==null&&Bh(el,i),tl!==null&&Bh(tl,i),nl!==null&&Bh(nl,i),Bu.forEach(o),zu.forEach(o);for(var d=0;d<al.length;d++){var p=al[d];p.blockedOn===i&&(p.blockedOn=null)}for(;0<al.length&&(d=al[0],d.blockedOn===null);)o3(d),d.blockedOn===null&&al.shift();if(d=(i.ownerDocument||i).$$reactFormReplay,d!=null)for(p=0;p<d.length;p+=3){var v=d[p],N=d[p+1],D=v[Xt]||null;if(typeof N=="function")D||d3(d);else if(D){var V=null;if(N&&N.hasAttribute("formAction")){if(v=N,D=N[Xt]||null)V=D.formAction;else if(tv(v)!==null)continue}else V=D.action;typeof V=="function"?d[p+1]=V:(d.splice(p,3),p-=3),d3(d)}}}function av(i){this._internalRoot=i}Uh.prototype.render=av.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(r(409));var d=o.current,p=Za();a3(d,p,i,o,null,null)},Uh.prototype.unmount=av.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;a3(i.current,2,null,i,null,null),wh(),o[Fr]=null}};function Uh(i){this._internalRoot=i}Uh.prototype.unstable_scheduleHydration=function(i){if(i){var o=Lt();i={blockedOn:null,target:i,priority:o};for(var d=0;d<al.length&&o!==0&&o<al[d].priority;d++);al.splice(d,0,i),d===0&&o3(i)}};var u3=t.version;if(u3!=="19.1.0")throw Error(r(527,u3,"19.1.0"));H.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(r(188)):(i=Object.keys(i).join(","),Error(r(268,i)));return i=m(o),i=i!==null?f(i):null,i=i===null?null:i.stateNode,i};var tI={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{Q=Fh.inject(tI),Se=Fh}catch{}}return Hu.createRoot=function(i,o){if(!s(i))throw Error(r(299));var d=!1,p="",v=C_,N=A_,D=T_,V=null;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(N=o.onCaughtError),o.onRecoverableError!==void 0&&(D=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(V=o.unstable_transitionCallbacks)),o=t3(i,1,!1,null,null,d,p,v,N,D,V,null),i[Fr]=o.current,Bb(i),new av(o)},Hu.hydrateRoot=function(i,o,d){if(!s(i))throw Error(r(299));var p=!1,v="",N=C_,D=A_,V=T_,J=null,ge=null;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(N=d.onUncaughtError),d.onCaughtError!==void 0&&(D=d.onCaughtError),d.onRecoverableError!==void 0&&(V=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(J=d.unstable_transitionCallbacks),d.formState!==void 0&&(ge=d.formState)),o=t3(i,1,!0,o,d??null,p,v,N,D,V,J,ge),o.context=n3(null),d=o.current,p=Za(),p=dt(p),v=zi(p),v.callback=null,Ui(d,v,p),d=p,o.current.lanes=d,oe(o,d),gs(o),i[Fr]=o.current,Bb(i),new Uh(o)},Hu.version="19.1.0",Hu}var j3;function hI(){if(j3)return lv.exports;j3=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),lv.exports=fI(),lv.exports}var pI=hI();/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var w3="popstate";function xI(e={}){function t(r,s){let{pathname:l,search:c,hash:u}=r.location;return nj("",{pathname:l,search:c,hash:u},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function a(r,s){return typeof s=="string"?s:Lm(s)}return bI(t,a,null,e)}function dn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function os(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function gI(){return Math.random().toString(36).substring(2,10)}function N3(e,t){return{usr:e.state,key:e.key,idx:t}}function nj(e,t,a=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Od(t):t,state:a,key:t&&t.key||r||gI()}}function Lm({pathname:e="/",search:t="",hash:a=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),a&&a!=="#"&&(e+=a.charAt(0)==="#"?a:"#"+a),e}function Od(e){let t={};if(e){let a=e.indexOf("#");a>=0&&(t.hash=e.substring(a),e=e.substring(0,a));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function bI(e,t,a,r={}){let{window:s=document.defaultView,v5Compat:l=!1}=r,c=s.history,u="POP",m=null,f=h();f==null&&(f=0,c.replaceState({...c.state,idx:f},""));function h(){return(c.state||{idx:null}).idx}function g(){u="POP";let S=h(),k=S==null?null:S-f;f=S,m&&m({action:u,location:w.location,delta:k})}function b(S,k){u="PUSH";let _=nj(w.location,S,k);f=h()+1;let C=N3(_,f),P=w.createHref(_);try{c.pushState(C,"",P)}catch(T){if(T instanceof DOMException&&T.name==="DataCloneError")throw T;s.location.assign(P)}l&&m&&m({action:u,location:w.location,delta:1})}function y(S,k){u="REPLACE";let _=nj(w.location,S,k);f=h();let C=N3(_,f),P=w.createHref(_);c.replaceState(C,"",P),l&&m&&m({action:u,location:w.location,delta:0})}function j(S){return vI(S)}let w={get action(){return u},get location(){return e(s,c)},listen(S){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(w3,g),m=S,()=>{s.removeEventListener(w3,g),m=null}},createHref(S){return t(s,S)},createURL:j,encodeLocation(S){let k=j(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:b,replace:y,go(S){return c.go(S)}};return w}function vI(e,t=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),dn(a,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:Lm(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=a+r),new URL(r,a)}function AP(e,t,a="/"){return yI(e,t,a,!1)}function yI(e,t,a,r){let s=typeof t=="string"?Od(t):t,l=hi(s.pathname||"/",a);if(l==null)return null;let c=TP(e);jI(c);let u=null;for(let m=0;u==null&&m<c.length;++m){let f=OI(l);u=EI(c[m],f,r)}return u}function TP(e,t=[],a=[],r=""){let s=(l,c,u)=>{let m={relativePath:u===void 0?l.path||"":u,caseSensitive:l.caseSensitive===!0,childrenIndex:c,route:l};m.relativePath.startsWith("/")&&(dn(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let f=oi([r,m.relativePath]),h=a.concat(m);l.children&&l.children.length>0&&(dn(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),TP(l.children,t,h,f)),!(l.path==null&&!l.index)&&t.push({path:f,score:AI(f,l.index),routesMeta:h})};return e.forEach((l,c)=>{var u;if(l.path===""||!((u=l.path)!=null&&u.includes("?")))s(l,c);else for(let m of EP(l.path))s(l,c,m)}),t}function EP(e){let t=e.split("/");if(t.length===0)return[];let[a,...r]=t,s=a.endsWith("?"),l=a.replace(/\?$/,"");if(r.length===0)return s?[l,""]:[l];let c=EP(r.join("/")),u=[];return u.push(...c.map(m=>m===""?l:[l,m].join("/"))),s&&u.push(...c),u.map(m=>e.startsWith("/")&&m===""?"/":m)}function jI(e){e.sort((t,a)=>t.score!==a.score?a.score-t.score:TI(t.routesMeta.map(r=>r.childrenIndex),a.routesMeta.map(r=>r.childrenIndex)))}var wI=/^:[\w-]+$/,NI=3,SI=2,_I=1,kI=10,CI=-2,S3=e=>e==="*";function AI(e,t){let a=e.split("/"),r=a.length;return a.some(S3)&&(r+=CI),t&&(r+=SI),a.filter(s=>!S3(s)).reduce((s,l)=>s+(wI.test(l)?NI:l===""?_I:kI),r)}function TI(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function EI(e,t,a=!1){let{routesMeta:r}=e,s={},l="/",c=[];for(let u=0;u<r.length;++u){let m=r[u],f=u===r.length-1,h=l==="/"?t:t.slice(l.length)||"/",g=rp({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},h),b=m.route;if(!g&&f&&a&&!r[r.length-1].route.index&&(g=rp({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},h)),!g)return null;Object.assign(s,g.params),c.push({params:s,pathname:oi([l,g.pathname]),pathnameBase:LI(oi([l,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(l=oi([l,g.pathnameBase]))}return c}function rp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[a,r]=PI(e.path,e.caseSensitive,e.end),s=t.match(a);if(!s)return null;let l=s[0],c=l.replace(/(.)\/+$/,"$1"),u=s.slice(1);return{params:r.reduce((f,{paramName:h,isOptional:g},b)=>{if(h==="*"){let j=u[b]||"";c=l.slice(0,l.length-j.length).replace(/(.)\/+$/,"$1")}const y=u[b];return g&&!y?f[h]=void 0:f[h]=(y||"").replace(/%2F/g,"/"),f},{}),pathname:l,pathnameBase:c,pattern:e}}function PI(e,t=!1,a=!0){os(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,u,m)=>(r.push({paramName:u,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function OI(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return os(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function hi(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let a=t.endsWith("/")?t.length-1:t.length,r=e.charAt(a);return r&&r!=="/"?null:e.slice(a)||"/"}function MI(e,t="/"){let{pathname:a,search:r="",hash:s=""}=typeof e=="string"?Od(e):e;return{pathname:a?a.startsWith("/")?a:DI(a,t):t,search:$I(r),hash:II(s)}}function DI(e,t){let a=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?a.length>1&&a.pop():s!=="."&&a.push(s)}),a.length>1?a.join("/"):"/"}function uv(e,t,a,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RI(e){return e.filter((t,a)=>a===0||t.route.path&&t.route.path.length>0)}function Rw(e){let t=RI(e);return t.map((a,r)=>r===t.length-1?a.pathname:a.pathnameBase)}function Lw(e,t,a,r=!1){let s;typeof e=="string"?s=Od(e):(s={...e},dn(!s.pathname||!s.pathname.includes("?"),uv("?","pathname","search",s)),dn(!s.pathname||!s.pathname.includes("#"),uv("#","pathname","hash",s)),dn(!s.search||!s.search.includes("#"),uv("#","search","hash",s)));let l=e===""||s.pathname==="",c=l?"/":s.pathname,u;if(c==null)u=a;else{let g=t.length-1;if(!r&&c.startsWith("..")){let b=c.split("/");for(;b[0]==="..";)b.shift(),g-=1;s.pathname=b.join("/")}u=g>=0?t[g]:"/"}let m=MI(s,u),f=c&&c!=="/"&&c.endsWith("/"),h=(l||c===".")&&a.endsWith("/");return!m.pathname.endsWith("/")&&(f||h)&&(m.pathname+="/"),m}var oi=e=>e.join("/").replace(/\/\/+/g,"/"),LI=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),$I=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,II=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function BI(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var PP=["POST","PUT","PATCH","DELETE"];new Set(PP);var zI=["GET",...PP];new Set(zI);var Md=x.createContext(null);Md.displayName="DataRouter";var rx=x.createContext(null);rx.displayName="DataRouterState";x.createContext(!1);var OP=x.createContext({isTransitioning:!1});OP.displayName="ViewTransition";var UI=x.createContext(new Map);UI.displayName="Fetchers";var FI=x.createContext(null);FI.displayName="Await";var us=x.createContext(null);us.displayName="Navigation";var sf=x.createContext(null);sf.displayName="Location";var zr=x.createContext({outlet:null,matches:[],isDataRoute:!1});zr.displayName="Route";var $w=x.createContext(null);$w.displayName="RouteError";function VI(e,{relative:t}={}){dn(Dd(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:r}=x.useContext(us),{hash:s,pathname:l,search:c}=of(e,{relative:t}),u=l;return a!=="/"&&(u=l==="/"?a:oi([a,l])),r.createHref({pathname:u,search:c,hash:s})}function Dd(){return x.useContext(sf)!=null}function Ds(){return dn(Dd(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(sf).location}var MP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DP(e){x.useContext(us).static||x.useLayoutEffect(e)}function rn(){let{isDataRoute:e}=x.useContext(zr);return e?rB():HI()}function HI(){dn(Dd(),"useNavigate() may be used only in the context of a <Router> component.");let e=x.useContext(Md),{basename:t,navigator:a}=x.useContext(us),{matches:r}=x.useContext(zr),{pathname:s}=Ds(),l=JSON.stringify(Rw(r)),c=x.useRef(!1);return DP(()=>{c.current=!0}),x.useCallback((m,f={})=>{if(os(c.current,MP),!c.current)return;if(typeof m=="number"){a.go(m);return}let h=Lw(m,JSON.parse(l),s,f.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:oi([t,h.pathname])),(f.replace?a.replace:a.push)(h,f.state,f)},[t,a,l,s,e])}var qI=x.createContext(null);function KI(e){let t=x.useContext(zr).outlet;return t&&x.createElement(qI.Provider,{value:e},t)}function lf(){let{matches:e}=x.useContext(zr),t=e[e.length-1];return t?t.params:{}}function of(e,{relative:t}={}){let{matches:a}=x.useContext(zr),{pathname:r}=Ds(),s=JSON.stringify(Rw(a));return x.useMemo(()=>Lw(e,JSON.parse(s),r,t==="path"),[e,s,r,t])}function GI(e,t){return RP(e,t)}function RP(e,t,a,r){var k;dn(Dd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=x.useContext(us),{matches:l}=x.useContext(zr),c=l[l.length-1],u=c?c.params:{},m=c?c.pathname:"/",f=c?c.pathnameBase:"/",h=c&&c.route;{let _=h&&h.path||"";LP(m,!h||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Ds(),b;if(t){let _=typeof t=="string"?Od(t):t;dn(f==="/"||((k=_.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${_.pathname}" was given in the \`location\` prop.`),b=_}else b=g;let y=b.pathname||"/",j=y;if(f!=="/"){let _=f.replace(/^\//,"").split("/");j="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let w=AP(e,{pathname:j});os(h||w!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),os(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let S=QI(w&&w.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:oi([f,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?f:oi([f,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),l,a,r);return t&&S?x.createElement(sf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},S):S}function YI(){let e=aB(),t=BI(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),a=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},l={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",e),c=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:l},"ErrorBoundary")," or"," ",x.createElement("code",{style:l},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},t),a?x.createElement("pre",{style:s},a):null,c)}var WI=x.createElement(YI,null),XI=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?x.createElement(zr.Provider,{value:this.props.routeContext},x.createElement($w.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function ZI({routeContext:e,match:t,children:a}){let r=x.useContext(Md);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(zr.Provider,{value:e},a)}function QI(e,t=[],a=null,r=null){if(e==null){if(!a)return null;if(a.errors)e=a.matches;else if(t.length===0&&!a.initialized&&a.matches.length>0)e=a.matches;else return null}let s=e,l=a==null?void 0:a.errors;if(l!=null){let m=s.findIndex(f=>f.route.id&&(l==null?void 0:l[f.route.id])!==void 0);dn(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),s=s.slice(0,Math.min(s.length,m+1))}let c=!1,u=-1;if(a)for(let m=0;m<s.length;m++){let f=s[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=m),f.route.id){let{loaderData:h,errors:g}=a,b=f.route.loader&&!h.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||b){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((m,f,h)=>{let g,b=!1,y=null,j=null;a&&(g=l&&f.route.id?l[f.route.id]:void 0,y=f.route.errorElement||WI,c&&(u<0&&h===0?(LP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,j=null):u===h&&(b=!0,j=f.route.hydrateFallbackElement||null)));let w=t.concat(s.slice(0,h+1)),S=()=>{let k;return g?k=y:b?k=j:f.route.Component?k=x.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=m,x.createElement(ZI,{match:f,routeContext:{outlet:m,matches:w,isDataRoute:a!=null},children:k})};return a&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?x.createElement(XI,{location:a.location,revalidation:a.revalidation,component:y,error:g,children:S(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):S()},null)}function Iw(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function JI(e){let t=x.useContext(Md);return dn(t,Iw(e)),t}function eB(e){let t=x.useContext(rx);return dn(t,Iw(e)),t}function tB(e){let t=x.useContext(zr);return dn(t,Iw(e)),t}function Bw(e){let t=tB(e),a=t.matches[t.matches.length-1];return dn(a.route.id,`${e} can only be used on routes that contain a unique "id"`),a.route.id}function nB(){return Bw("useRouteId")}function aB(){var r;let e=x.useContext($w),t=eB("useRouteError"),a=Bw("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[a]}function rB(){let{router:e}=JI("useNavigate"),t=Bw("useNavigate"),a=x.useRef(!1);return DP(()=>{a.current=!0}),x.useCallback(async(s,l={})=>{os(a.current,MP),a.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...l}))},[e,t])}var _3={};function LP(e,t,a){!t&&!_3[e]&&(_3[e]=!0,os(!1,a))}x.memo(sB);function sB({routes:e,future:t,state:a}){return RP(e,void 0,a,t)}function iB({to:e,replace:t,state:a,relative:r}){dn(Dd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=x.useContext(us);os(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=x.useContext(zr),{pathname:c}=Ds(),u=rn(),m=Lw(e,Rw(l),c,r==="path"),f=JSON.stringify(m);return x.useEffect(()=>{u(JSON.parse(f),{replace:t,state:a,relative:r})},[u,f,r,t,a]),null}function $P(e){return KI(e.context)}function pt(e){dn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lB({basename:e="/",children:t=null,location:a,navigationType:r="POP",navigator:s,static:l=!1}){dn(!Dd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=e.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:c,navigator:s,static:l,future:{}}),[c,s,l]);typeof a=="string"&&(a=Od(a));let{pathname:m="/",search:f="",hash:h="",state:g=null,key:b="default"}=a,y=x.useMemo(()=>{let j=hi(m,c);return j==null?null:{location:{pathname:j,search:f,hash:h,state:g,key:b},navigationType:r}},[c,m,f,h,g,b,r]);return os(y!=null,`<Router basename="${c}"> is not able to match the URL "${m}${f}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(us.Provider,{value:u},x.createElement(sf.Provider,{children:t,value:y}))}function oB({children:e,location:t}){return GI(aj(e),t)}function aj(e,t=[]){let a=[];return x.Children.forEach(e,(r,s)=>{if(!x.isValidElement(r))return;let l=[...t,s];if(r.type===x.Fragment){a.push.apply(a,aj(r.props.children,l));return}dn(r.type===pt,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),dn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||l.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=aj(r.props.children,l)),a.push(c)}),a}var H0="get",q0="application/x-www-form-urlencoded";function sx(e){return e!=null&&typeof e.tagName=="string"}function cB(e){return sx(e)&&e.tagName.toLowerCase()==="button"}function dB(e){return sx(e)&&e.tagName.toLowerCase()==="form"}function uB(e){return sx(e)&&e.tagName.toLowerCase()==="input"}function mB(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function fB(e,t){return e.button===0&&(!t||t==="_self")&&!mB(e)}var Vh=null;function hB(){if(Vh===null)try{new FormData(document.createElement("form"),0),Vh=!1}catch{Vh=!0}return Vh}var pB=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function mv(e){return e!=null&&!pB.has(e)?(os(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${q0}"`),null):e}function xB(e,t){let a,r,s,l,c;if(dB(e)){let u=e.getAttribute("action");r=u?hi(u,t):null,a=e.getAttribute("method")||H0,s=mv(e.getAttribute("enctype"))||q0,l=new FormData(e)}else if(cB(e)||uB(e)&&(e.type==="submit"||e.type==="image")){let u=e.form;if(u==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=e.getAttribute("formaction")||u.getAttribute("action");if(r=m?hi(m,t):null,a=e.getAttribute("formmethod")||u.getAttribute("method")||H0,s=mv(e.getAttribute("formenctype"))||mv(u.getAttribute("enctype"))||q0,l=new FormData(u,e),!hB()){let{name:f,type:h,value:g}=e;if(h==="image"){let b=f?`${f}.`:"";l.append(`${b}x`,"0"),l.append(`${b}y`,"0")}else f&&l.append(f,g)}}else{if(sx(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=H0,r=null,s=q0,c=e}return l&&s==="text/plain"&&(c=l,l=void 0),{action:r,method:a.toLowerCase(),encType:s,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zw(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gB(e,t,a){let r=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return r.pathname==="/"?r.pathname=`_root.${a}`:t&&hi(r.pathname,t)==="/"?r.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${a}`,r}async function bB(e,t){if(e.id in t)return t[e.id];try{let a=await import(e.module);return t[e.id]=a,a}catch(a){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vB(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function yB(e,t,a){let r=await Promise.all(e.map(async s=>{let l=t.routes[s.route.id];if(l){let c=await bB(l,a);return c.links?c.links():[]}return[]}));return SB(r.flat(1).filter(vB).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function k3(e,t,a,r,s,l){let c=(m,f)=>a[f]?m.route.id!==a[f].route.id:!0,u=(m,f)=>{var h;return a[f].pathname!==m.pathname||((h=a[f].route.path)==null?void 0:h.endsWith("*"))&&a[f].params["*"]!==m.params["*"]};return l==="assets"?t.filter((m,f)=>c(m,f)||u(m,f)):l==="data"?t.filter((m,f)=>{var g;let h=r.routes[m.route.id];if(!h||!h.hasLoader)return!1;if(c(m,f)||u(m,f))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((g=a[0])==null?void 0:g.params)||{},nextUrl:new URL(e,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function jB(e,t,{includeHydrateFallback:a}={}){return wB(e.map(r=>{let s=t.routes[r.route.id];if(!s)return[];let l=[s.module];return s.clientActionModule&&(l=l.concat(s.clientActionModule)),s.clientLoaderModule&&(l=l.concat(s.clientLoaderModule)),a&&s.hydrateFallbackModule&&(l=l.concat(s.hydrateFallbackModule)),s.imports&&(l=l.concat(s.imports)),l}).flat(1))}function wB(e){return[...new Set(e)]}function NB(e){let t={},a=Object.keys(e).sort();for(let r of a)t[r]=e[r];return t}function SB(e,t){let a=new Set;return new Set(t),e.reduce((r,s)=>{let l=JSON.stringify(NB(s));return a.has(l)||(a.add(l),r.push({key:l,link:s})),r},[])}function IP(){let e=x.useContext(Md);return zw(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function _B(){let e=x.useContext(rx);return zw(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Uw=x.createContext(void 0);Uw.displayName="FrameworkContext";function BP(){let e=x.useContext(Uw);return zw(e,"You must render this element inside a <HydratedRouter> element"),e}function kB(e,t){let a=x.useContext(Uw),[r,s]=x.useState(!1),[l,c]=x.useState(!1),{onFocus:u,onBlur:m,onMouseEnter:f,onMouseLeave:h,onTouchStart:g}=t,b=x.useRef(null);x.useEffect(()=>{if(e==="render"&&c(!0),e==="viewport"){let w=k=>{k.forEach(_=>{c(_.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return b.current&&S.observe(b.current),()=>{S.disconnect()}}},[e]),x.useEffect(()=>{if(r){let w=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(w)}}},[r]);let y=()=>{s(!0)},j=()=>{s(!1),c(!1)};return a?e!=="intent"?[l,b,{}]:[l,b,{onFocus:qu(u,y),onBlur:qu(m,j),onMouseEnter:qu(f,y),onMouseLeave:qu(h,j),onTouchStart:qu(g,y)}]:[!1,b,{}]}function qu(e,t){return a=>{e&&e(a),a.defaultPrevented||t(a)}}function CB({page:e,...t}){let{router:a}=IP(),r=x.useMemo(()=>AP(a.routes,e,a.basename),[a.routes,e,a.basename]);return r?x.createElement(TB,{page:e,matches:r,...t}):null}function AB(e){let{manifest:t,routeModules:a}=BP(),[r,s]=x.useState([]);return x.useEffect(()=>{let l=!1;return yB(e,t,a).then(c=>{l||s(c)}),()=>{l=!0}},[e,t,a]),r}function TB({page:e,matches:t,...a}){let r=Ds(),{manifest:s,routeModules:l}=BP(),{basename:c}=IP(),{loaderData:u,matches:m}=_B(),f=x.useMemo(()=>k3(e,t,m,s,r,"data"),[e,t,m,s,r]),h=x.useMemo(()=>k3(e,t,m,s,r,"assets"),[e,t,m,s,r]),g=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let j=new Set,w=!1;if(t.forEach(k=>{var C;let _=s.routes[k.route.id];!_||!_.hasLoader||(!f.some(P=>P.route.id===k.route.id)&&k.route.id in u&&((C=l[k.route.id])!=null&&C.shouldRevalidate)||_.hasClientLoader?w=!0:j.add(k.route.id))}),j.size===0)return[];let S=gB(e,c,"data");return w&&j.size>0&&S.searchParams.set("_routes",t.filter(k=>j.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[c,u,r,s,f,t,e,l]),b=x.useMemo(()=>jB(h,s),[h,s]),y=AB(h);return x.createElement(x.Fragment,null,g.map(j=>x.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...a})),b.map(j=>x.createElement("link",{key:j,rel:"modulepreload",href:j,...a})),y.map(({key:j,link:w})=>x.createElement("link",{key:j,...w})))}function EB(...e){return t=>{e.forEach(a=>{typeof a=="function"?a(t):a!=null&&(a.current=t)})}}var zP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{zP&&(window.__reactRouterVersion="7.7.1")}catch{}function PB({basename:e,children:t,window:a}){let r=x.useRef();r.current==null&&(r.current=xI({window:a,v5Compat:!0}));let s=r.current,[l,c]=x.useState({action:s.action,location:s.location}),u=x.useCallback(m=>{x.startTransition(()=>c(m))},[c]);return x.useLayoutEffect(()=>s.listen(u),[s,u]),x.createElement(lB,{basename:e,children:t,location:l.location,navigationType:l.action,navigator:s})}var UP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FP=x.forwardRef(function({onClick:t,discover:a="render",prefetch:r="none",relative:s,reloadDocument:l,replace:c,state:u,target:m,to:f,preventScrollReset:h,viewTransition:g,...b},y){let{basename:j}=x.useContext(us),w=typeof f=="string"&&UP.test(f),S,k=!1;if(typeof f=="string"&&w&&(S=f,zP))try{let F=new URL(window.location.href),K=f.startsWith("//")?new URL(F.protocol+f):new URL(f),z=hi(K.pathname,j);K.origin===F.origin&&z!=null?f=z+K.search+K.hash:k=!0}catch{os(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=VI(f,{relative:s}),[C,P,T]=kB(r,b),E=RB(f,{replace:c,state:u,target:m,preventScrollReset:h,relative:s,viewTransition:g});function $(F){t&&t(F),F.defaultPrevented||E(F)}let M=x.createElement("a",{...b,...T,href:S||_,onClick:k||l?t:$,ref:EB(y,P),target:m,"data-discover":!w&&a==="render"?"true":void 0});return C&&!w?x.createElement(x.Fragment,null,M,x.createElement(CB,{page:_})):M});FP.displayName="Link";var OB=x.forwardRef(function({"aria-current":t="page",caseSensitive:a=!1,className:r="",end:s=!1,style:l,to:c,viewTransition:u,children:m,...f},h){let g=of(c,{relative:f.relative}),b=Ds(),y=x.useContext(rx),{navigator:j,basename:w}=x.useContext(us),S=y!=null&&zB(g)&&u===!0,k=j.encodeLocation?j.encodeLocation(g).pathname:g.pathname,_=b.pathname,C=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;a||(_=_.toLowerCase(),C=C?C.toLowerCase():null,k=k.toLowerCase()),C&&w&&(C=hi(C,w)||C);const P=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let T=_===k||!s&&_.startsWith(k)&&_.charAt(P)==="/",E=C!=null&&(C===k||!s&&C.startsWith(k)&&C.charAt(k.length)==="/"),$={isActive:T,isPending:E,isTransitioning:S},M=T?t:void 0,F;typeof r=="function"?F=r($):F=[r,T?"active":null,E?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let K=typeof l=="function"?l($):l;return x.createElement(FP,{...f,"aria-current":M,className:F,ref:h,style:K,to:c,viewTransition:u},typeof m=="function"?m($):m)});OB.displayName="NavLink";var MB=x.forwardRef(({discover:e="render",fetcherKey:t,navigate:a,reloadDocument:r,replace:s,state:l,method:c=H0,action:u,onSubmit:m,relative:f,preventScrollReset:h,viewTransition:g,...b},y)=>{let j=IB(),w=BB(u,{relative:f}),S=c.toLowerCase()==="get"?"get":"post",k=typeof u=="string"&&UP.test(u),_=C=>{if(m&&m(C),C.defaultPrevented)return;C.preventDefault();let P=C.nativeEvent.submitter,T=(P==null?void 0:P.getAttribute("formmethod"))||c;j(P||C.currentTarget,{fetcherKey:t,method:T,navigate:a,replace:s,state:l,relative:f,preventScrollReset:h,viewTransition:g})};return x.createElement("form",{ref:y,method:S,action:w,onSubmit:r?m:_,...b,"data-discover":!k&&e==="render"?"true":void 0})});MB.displayName="Form";function DB(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function VP(e){let t=x.useContext(Md);return dn(t,DB(e)),t}function RB(e,{target:t,replace:a,state:r,preventScrollReset:s,relative:l,viewTransition:c}={}){let u=rn(),m=Ds(),f=of(e,{relative:l});return x.useCallback(h=>{if(fB(h,t)){h.preventDefault();let g=a!==void 0?a:Lm(m)===Lm(f);u(e,{replace:g,state:r,preventScrollReset:s,relative:l,viewTransition:c})}},[m,u,f,a,r,t,e,s,l,c])}var LB=0,$B=()=>`__${String(++LB)}__`;function IB(){let{router:e}=VP("useSubmit"),{basename:t}=x.useContext(us),a=nB();return x.useCallback(async(r,s={})=>{let{action:l,method:c,encType:u,formData:m,body:f}=xB(r,t);if(s.navigate===!1){let h=s.fetcherKey||$B();await e.fetch(h,a,s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||c,formEncType:s.encType||u,flushSync:s.flushSync})}else await e.navigate(s.action||l,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||c,formEncType:s.encType||u,replace:s.replace,state:s.state,fromRouteId:a,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,a])}function BB(e,{relative:t}={}){let{basename:a}=x.useContext(us),r=x.useContext(zr);dn(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),l={...of(e||".",{relative:t})},c=Ds();if(e==null){l.search=c.search;let u=new URLSearchParams(l.search),m=u.getAll("index");if(m.some(h=>h==="")){u.delete("index"),m.filter(g=>g).forEach(g=>u.append("index",g));let h=u.toString();l.search=h?`?${h}`:""}}return(!e||e===".")&&s.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(l.pathname=l.pathname==="/"?a:oi([a,l.pathname])),Lm(l)}function zB(e,{relative:t}={}){let a=x.useContext(OP);dn(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=VP("useViewTransitionState"),s=of(e,{relative:t});if(!a.isTransitioning)return!1;let l=hi(a.currentLocation.pathname,r)||a.currentLocation.pathname,c=hi(a.nextLocation.pathname,r)||a.nextLocation.pathname;return rp(s.pathname,c)!=null||rp(s.pathname,l)!=null}var UB=CP();function HP(e){var t,a,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(a=HP(e[t]))&&(r&&(r+=" "),r+=a)}else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}function Nt(){for(var e,t,a=0,r="",s=arguments.length;a<s;a++)(e=arguments[a])&&(t=HP(e))&&(r&&(r+=" "),r+=t);return r}function FB(e){if(typeof document>"u")return;let t=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",t.firstChild?t.insertBefore(a,t.firstChild):t.appendChild(a),a.styleSheet?a.styleSheet.cssText=e:a.appendChild(document.createTextNode(e))}FB(`:root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}
`);var cf=e=>typeof e=="number"&&!isNaN(e),zo=e=>typeof e=="string",pi=e=>typeof e=="function",VB=e=>zo(e)||cf(e),rj=e=>zo(e)||pi(e)?e:null,HB=(e,t)=>e===!1||cf(e)&&e>0?e:t,sj=e=>x.isValidElement(e)||zo(e)||pi(e)||cf(e);function qB(e,t,a=300){let{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition=`all ${a}ms`,requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,a)})})}function KB({enter:e,exit:t,appendPosition:a=!1,collapse:r=!0,collapseDuration:s=300}){return function({children:l,position:c,preventExitTransition:u,done:m,nodeRef:f,isIn:h,playToast:g}){let b=a?`${e}--${c}`:e,y=a?`${t}--${c}`:t,j=x.useRef(0);return x.useLayoutEffect(()=>{let w=f.current,S=b.split(" "),k=_=>{_.target===f.current&&(g(),w.removeEventListener("animationend",k),w.removeEventListener("animationcancel",k),j.current===0&&_.type!=="animationcancel"&&w.classList.remove(...S))};w.classList.add(...S),w.addEventListener("animationend",k),w.addEventListener("animationcancel",k)},[]),x.useEffect(()=>{let w=f.current,S=()=>{w.removeEventListener("animationend",S),r?qB(w,m,s):m()};h||(u?S():(j.current=1,w.className+=` ${y}`,w.addEventListener("animationend",S)))},[h]),Et.createElement(Et.Fragment,null,l)}}function C3(e,t){return{content:qP(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function qP(e,t,a=!1){return x.isValidElement(e)&&!zo(e.type)?x.cloneElement(e,{closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):pi(e)?e({closeToast:t.closeToast,toastProps:t,data:t.data,isPaused:a}):e}function GB({closeToast:e,theme:t,ariaLabel:a="close"}){return Et.createElement("button",{className:`Toastify__close-button Toastify__close-button--${t}`,type:"button",onClick:r=>{r.stopPropagation(),e(!0)},"aria-label":a},Et.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Et.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function YB({delay:e,isRunning:t,closeToast:a,type:r="default",hide:s,className:l,controlledProgress:c,progress:u,rtl:m,isIn:f,theme:h}){let g=s||c&&u===0,b={animationDuration:`${e}ms`,animationPlayState:t?"running":"paused"};c&&(b.transform=`scaleX(${u})`);let y=Nt("Toastify__progress-bar",c?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${h}`,`Toastify__progress-bar--${r}`,{"Toastify__progress-bar--rtl":m}),j=pi(l)?l({rtl:m,type:r,defaultClassName:y}):Nt(y,l),w={[c&&u>=1?"onTransitionEnd":"onAnimationEnd"]:c&&u<1?null:()=>{f&&a()}};return Et.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":g},Et.createElement("div",{className:`Toastify__progress-bar--bg Toastify__progress-bar-theme--${h} Toastify__progress-bar--${r}`}),Et.createElement("div",{role:"progressbar","aria-hidden":g?"true":"false","aria-label":"notification timer",className:j,style:b,...w}))}var WB=1,KP=()=>`${WB++}`;function XB(e,t,a){let r=1,s=0,l=[],c=[],u=t,m=new Map,f=new Set,h=_=>(f.add(_),()=>f.delete(_)),g=()=>{c=Array.from(m.values()),f.forEach(_=>_())},b=({containerId:_,toastId:C,updateId:P})=>{let T=_?_!==e:e!==1,E=m.has(C)&&P==null;return T||E},y=(_,C)=>{m.forEach(P=>{var T;(C==null||C===P.props.toastId)&&((T=P.toggle)==null||T.call(P,_))})},j=_=>{var C,P;(P=(C=_.props)==null?void 0:C.onClose)==null||P.call(C,_.removalReason),_.isActive=!1},w=_=>{if(_==null)m.forEach(j);else{let C=m.get(_);C&&j(C)}g()},S=()=>{s-=l.length,l=[]},k=_=>{var C,P;let{toastId:T,updateId:E}=_.props,$=E==null;_.staleId&&m.delete(_.staleId),_.isActive=!0,m.set(T,_),g(),a(C3(_,$?"added":"updated")),$&&((P=(C=_.props).onOpen)==null||P.call(C))};return{id:e,props:u,observe:h,toggle:y,removeToast:w,toasts:m,clearQueue:S,buildToast:(_,C)=>{if(b(C))return;let{toastId:P,updateId:T,data:E,staleId:$,delay:M}=C,F=T==null;F&&s++;let K={...u,style:u.toastStyle,key:r++,...Object.fromEntries(Object.entries(C).filter(([U,ae])=>ae!=null)),toastId:P,updateId:T,data:E,isIn:!1,className:rj(C.className||u.toastClassName),progressClassName:rj(C.progressClassName||u.progressClassName),autoClose:C.isLoading?!1:HB(C.autoClose,u.autoClose),closeToast(U){m.get(P).removalReason=U,w(P)},deleteToast(){let U=m.get(P);if(U!=null){if(a(C3(U,"removed")),m.delete(P),s--,s<0&&(s=0),l.length>0){k(l.shift());return}g()}}};K.closeButton=u.closeButton,C.closeButton===!1||sj(C.closeButton)?K.closeButton=C.closeButton:C.closeButton===!0&&(K.closeButton=sj(u.closeButton)?u.closeButton:!0);let z={content:_,props:K,staleId:$};u.limit&&u.limit>0&&s>u.limit&&F?l.push(z):cf(M)?setTimeout(()=>{k(z)},M):k(z)},setProps(_){u=_},setToggle:(_,C)=>{let P=m.get(_);P&&(P.toggle=C)},isToastActive:_=>{var C;return(C=m.get(_))==null?void 0:C.isActive},getSnapshot:()=>c}}var ka=new Map,$m=[],ij=new Set,ZB=e=>ij.forEach(t=>t(e)),GP=()=>ka.size>0;function QB(){$m.forEach(e=>WP(e.content,e.options)),$m=[]}var JB=(e,{containerId:t})=>{var a;return(a=ka.get(t||1))==null?void 0:a.toasts.get(e)};function YP(e,t){var a;if(t)return!!((a=ka.get(t))!=null&&a.isToastActive(e));let r=!1;return ka.forEach(s=>{s.isToastActive(e)&&(r=!0)}),r}function ez(e){if(!GP()){$m=$m.filter(t=>e!=null&&t.options.toastId!==e);return}if(e==null||VB(e))ka.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ka.get(e.containerId);t?t.removeToast(e.id):ka.forEach(a=>{a.removeToast(e.id)})}}var tz=(e={})=>{ka.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})};function WP(e,t){sj(e)&&(GP()||$m.push({content:e,options:t}),ka.forEach(a=>{a.buildToast(e,t)}))}function nz(e){var t;(t=ka.get(e.containerId||1))==null||t.setToggle(e.id,e.fn)}function XP(e,t){ka.forEach(a=>{(t==null||!(t!=null&&t.containerId)||(t==null?void 0:t.containerId)===a.id)&&a.toggle(e,t==null?void 0:t.id)})}function az(e){let t=e.containerId||1;return{subscribe(a){let r=XB(t,e,ZB);ka.set(t,r);let s=r.observe(a);return QB(),()=>{s(),ka.delete(t)}},setProps(a){var r;(r=ka.get(t))==null||r.setProps(a)},getSnapshot(){var a;return(a=ka.get(t))==null?void 0:a.getSnapshot()}}}function rz(e){return ij.add(e),()=>{ij.delete(e)}}function sz(e){return e&&(zo(e.toastId)||cf(e.toastId))?e.toastId:KP()}function df(e,t){return WP(e,t),t.toastId}function ix(e,t){return{...t,type:t&&t.type||e,toastId:sz(t)}}function lx(e){return(t,a)=>df(t,ix(e,a))}function I(e,t){return df(e,ix("default",t))}I.loading=(e,t)=>df(e,ix("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t}));function iz(e,{pending:t,error:a,success:r},s){let l;t&&(l=zo(t)?I.loading(t,s):I.loading(t.render,{...s,...t}));let c={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},u=(f,h,g)=>{if(h==null){I.dismiss(l);return}let b={type:f,...c,...s,data:g},y=zo(h)?{render:h}:h;return l?I.update(l,{...b,...y}):I(y.render,{...b,...y}),g},m=pi(e)?e():e;return m.then(f=>u("success",r,f)).catch(f=>u("error",a,f)),m}I.promise=iz;I.success=lx("success");I.info=lx("info");I.error=lx("error");I.warning=lx("warning");I.warn=I.warning;I.dark=(e,t)=>df(e,ix("default",{theme:"dark",...t}));function lz(e){ez(e)}I.dismiss=lz;I.clearWaitingQueue=tz;I.isActive=YP;I.update=(e,t={})=>{let a=JB(e,t);if(a){let{props:r,content:s}=a,l={delay:100,...r,...t,toastId:t.toastId||e,updateId:KP()};l.toastId!==e&&(l.staleId=e);let c=l.render||s;delete l.render,df(c,l)}};I.done=e=>{I.update(e,{progress:1})};I.onChange=rz;I.play=e=>XP(!0,e);I.pause=e=>XP(!1,e);function oz(e){var t;let{subscribe:a,getSnapshot:r,setProps:s}=x.useRef(az(e)).current;s(e);let l=(t=x.useSyncExternalStore(a,r,r))==null?void 0:t.slice();function c(u){if(!l)return[];let m=new Map;return e.newestOnTop&&l.reverse(),l.forEach(f=>{let{position:h}=f.props;m.has(h)||m.set(h,[]),m.get(h).push(f)}),Array.from(m,f=>u(f[0],f[1]))}return{getToastToRender:c,isToastActive:YP,count:l==null?void 0:l.length}}function cz(e){let[t,a]=x.useState(!1),[r,s]=x.useState(!1),l=x.useRef(null),c=x.useRef({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:u,pauseOnHover:m,closeToast:f,onClick:h,closeOnClick:g}=e;nz({id:e.toastId,containerId:e.containerId,fn:a}),x.useEffect(()=>{if(e.pauseOnFocusLoss)return b(),()=>{y()}},[e.pauseOnFocusLoss]);function b(){document.hasFocus()||k(),window.addEventListener("focus",S),window.addEventListener("blur",k)}function y(){window.removeEventListener("focus",S),window.removeEventListener("blur",k)}function j($){if(e.draggable===!0||e.draggable===$.pointerType){_();let M=l.current;c.canCloseOnClick=!0,c.canDrag=!0,M.style.transition="none",e.draggableDirection==="x"?(c.start=$.clientX,c.removalDistance=M.offsetWidth*(e.draggablePercent/100)):(c.start=$.clientY,c.removalDistance=M.offsetHeight*(e.draggablePercent===80?e.draggablePercent*1.5:e.draggablePercent)/100)}}function w($){let{top:M,bottom:F,left:K,right:z}=l.current.getBoundingClientRect();$.nativeEvent.type!=="touchend"&&e.pauseOnHover&&$.clientX>=K&&$.clientX<=z&&$.clientY>=M&&$.clientY<=F?k():S()}function S(){a(!0)}function k(){a(!1)}function _(){c.didMove=!1,document.addEventListener("pointermove",P),document.addEventListener("pointerup",T)}function C(){document.removeEventListener("pointermove",P),document.removeEventListener("pointerup",T)}function P($){let M=l.current;if(c.canDrag&&M){c.didMove=!0,t&&k(),e.draggableDirection==="x"?c.delta=$.clientX-c.start:c.delta=$.clientY-c.start,c.start!==$.clientX&&(c.canCloseOnClick=!1);let F=e.draggableDirection==="x"?`${c.delta}px, var(--y)`:`0, calc(${c.delta}px + var(--y))`;M.style.transform=`translate3d(${F},0)`,M.style.opacity=`${1-Math.abs(c.delta/c.removalDistance)}`}}function T(){C();let $=l.current;if(c.canDrag&&c.didMove&&$){if(c.canDrag=!1,Math.abs(c.delta)>c.removalDistance){s(!0),e.closeToast(!0),e.collapseAll();return}$.style.transition="transform 0.2s, opacity 0.2s",$.style.removeProperty("transform"),$.style.removeProperty("opacity")}}let E={onPointerDown:j,onPointerUp:w};return u&&m&&(E.onMouseEnter=k,e.stacked||(E.onMouseLeave=S)),g&&(E.onClick=$=>{h&&h($),c.canCloseOnClick&&f(!0)}),{playToast:S,pauseToast:k,isRunning:t,preventExitTransition:r,toastRef:l,eventHandlers:E}}var dz=typeof window<"u"?x.useLayoutEffect:x.useEffect,ox=({theme:e,type:t,isLoading:a,...r})=>Et.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:e==="colored"?"currentColor":`var(--toastify-icon-color-${t})`,...r});function uz(e){return Et.createElement(ox,{...e},Et.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))}function mz(e){return Et.createElement(ox,{...e},Et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))}function fz(e){return Et.createElement(ox,{...e},Et.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))}function hz(e){return Et.createElement(ox,{...e},Et.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))}function pz(){return Et.createElement("div",{className:"Toastify__spinner"})}var lj={info:mz,warning:uz,success:fz,error:hz,spinner:pz},xz=e=>e in lj;function gz({theme:e,type:t,isLoading:a,icon:r}){let s=null,l={theme:e,type:t};return r===!1||(pi(r)?s=r({...l,isLoading:a}):x.isValidElement(r)?s=x.cloneElement(r,l):a?s=lj.spinner():xz(t)&&(s=lj[t](l))),s}var bz=e=>{let{isRunning:t,preventExitTransition:a,toastRef:r,eventHandlers:s,playToast:l}=cz(e),{closeButton:c,children:u,autoClose:m,onClick:f,type:h,hideProgressBar:g,closeToast:b,transition:y,position:j,className:w,style:S,progressClassName:k,updateId:_,role:C,progress:P,rtl:T,toastId:E,deleteToast:$,isIn:M,isLoading:F,closeOnClick:K,theme:z,ariaLabel:U}=e,ae=Nt("Toastify__toast",`Toastify__toast-theme--${z}`,`Toastify__toast--${h}`,{"Toastify__toast--rtl":T},{"Toastify__toast--close-on-click":K}),ke=pi(w)?w({rtl:T,position:j,type:h,defaultClassName:ae}):Nt(ae,w),se=gz(e),O=!!P||!m,H={closeToast:b,type:h,theme:z},G=null;return c===!1||(pi(c)?G=c(H):x.isValidElement(c)?G=x.cloneElement(c,H):G=GB(H)),Et.createElement(y,{isIn:M,done:$,position:j,preventExitTransition:a,nodeRef:r,playToast:l},Et.createElement("div",{id:E,tabIndex:0,onClick:f,"data-in":M,className:ke,...s,style:S,ref:r,...M&&{role:C,"aria-label":U}},se!=null&&Et.createElement("div",{className:Nt("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!F})},se),qP(u,e,!t),G,!e.customProgressBar&&Et.createElement(YB,{..._&&!O?{key:`p-${_}`}:{},rtl:T,theme:z,delay:m,isRunning:t,isIn:M,closeToast:b,hide:g,type:h,className:k,controlledProgress:O,progress:P||0})))},vz=(e,t=!1)=>({enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}),yz=KB(vz("bounce",!0)),jz={position:"top-right",transition:yz,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&e.code==="KeyT"};function wz(e){let t={...jz,...e},a=e.stacked,[r,s]=x.useState(!0),l=x.useRef(null),{getToastToRender:c,isToastActive:u,count:m}=oz(t),{className:f,style:h,rtl:g,containerId:b,hotKeys:y}=t;function j(S){let k=Nt("Toastify__toast-container",`Toastify__toast-container--${S}`,{"Toastify__toast-container--rtl":g});return pi(f)?f({position:S,rtl:g,defaultClassName:k}):Nt(k,rj(f))}function w(){a&&(s(!0),I.play())}return dz(()=>{var S;if(a){let k=l.current.querySelectorAll('[data-in="true"]'),_=12,C=(S=t.position)==null?void 0:S.includes("top"),P=0,T=0;Array.from(k).reverse().forEach((E,$)=>{let M=E;M.classList.add("Toastify__toast--stacked"),$>0&&(M.dataset.collapsed=`${r}`),M.dataset.pos||(M.dataset.pos=C?"top":"bot");let F=P*(r?.2:1)+(r?0:_*$);M.style.setProperty("--y",`${C?F:F*-1}px`),M.style.setProperty("--g",`${_}`),M.style.setProperty("--s",`${1-(r?T:0)}`),P+=M.offsetHeight,T+=.025})}},[r,m,a]),x.useEffect(()=>{function S(k){var _;let C=l.current;y(k)&&((_=C.querySelector('[tabIndex="0"]'))==null||_.focus(),s(!1),I.pause()),k.key==="Escape"&&(document.activeElement===C||C!=null&&C.contains(document.activeElement))&&(s(!0),I.play())}return document.addEventListener("keydown",S),()=>{document.removeEventListener("keydown",S)}},[y]),Et.createElement("section",{ref:l,className:"Toastify",id:b,onMouseEnter:()=>{a&&(s(!1),I.pause())},onMouseLeave:w,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":t["aria-label"]},c((S,k)=>{let _=k.length?{...h}:{...h,pointerEvents:"none"};return Et.createElement("div",{tabIndex:-1,className:j(S),"data-stacked":a,style:_,key:`c-${S}`},k.map(({content:C,props:P})=>Et.createElement(bz,{...P,stacked:a,collapseAll:w,isIn:u(P.toastId,P.containerId),key:`t-${P.key}`},C)))}))}/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Sz=e=>e.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,a,r)=>r?r.toUpperCase():a.toLowerCase()),A3=e=>{const t=Sz(e);return t.charAt(0).toUpperCase()+t.slice(1)},ZP=(...e)=>e.filter((t,a,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===a).join(" ").trim(),_z=e=>{for(const t in e)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=x.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:r,className:s="",children:l,iconNode:c,...u},m)=>x.createElement("svg",{ref:m,...kz,width:t,height:t,stroke:e,strokeWidth:r?Number(a)*24/Number(t):a,className:ZP("lucide",s),...!l&&!_z(u)&&{"aria-hidden":"true"},...u},[...c.map(([f,h])=>x.createElement(f,h)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(e,t)=>{const a=x.forwardRef(({className:r,...s},l)=>x.createElement(Cz,{ref:l,iconNode:t,className:ZP(`lucide-${Nz(A3(e))}`,`lucide-${e}`,r),...s}));return a.displayName=A3(e),a};/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],T3=Oe("activity",Az);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QP=Oe("arrow-left",Tz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],uf=Oe("arrow-right",Ez);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"16",y2:"12",key:"1y1yb1"}],["line",{x1:"12",x2:"12.01",y1:"8",y2:"8",key:"110wyk"}]],Oz=Oe("badge-info",Pz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Dz=Oe("ban",Mz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M22 8c0-2.3-.8-4.3-2-6",key:"5bb3ad"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}],["path",{d:"M4 2C2.8 3.7 2 5.7 2 8",key:"tap9e0"}]],Lz=Oe("bell-ring",Rz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Iz=Oe("bell",$z);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],Fw=Oe("bot",Bz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M9 13a4.5 4.5 0 0 0 3-4",key:"10igwf"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M16 8V5a2 2 0 0 1 2-2",key:"u6izg6"}],["circle",{cx:"16",cy:"13",r:".5",key:"ry7gng"}],["circle",{cx:"18",cy:"3",r:".5",key:"1aiba7"}],["circle",{cx:"20",cy:"21",r:".5",key:"yhc1fs"}],["circle",{cx:"20",cy:"8",r:".5",key:"1e43v0"}]],Vw=Oe("brain-circuit",zz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]],fv=Oe("bug",Uz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],E3=Oe("building-2",Fz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],P3=Oe("calculator",Vz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=[["path",{d:"M16 14v2.2l1.6 1",key:"fo4ql5"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5",key:"1osxxc"}],["path",{d:"M3 10h5",key:"r794hk"}],["path",{d:"M8 2v4",key:"1cmpym"}],["circle",{cx:"16",cy:"16",r:"6",key:"qoo3c4"}]],qz=Oe("calendar-clock",Hz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Gz=Oe("calendar-days",Kz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yz=[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]],O3=Oe("calendar-range",Yz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ss=Oe("calendar",Wz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Zz=Oe("camera",Xz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qz=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],sp=Oe("chart-column",Qz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ip=Oe("check",Jz);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eU=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],JP=Oe("chevron-down",eU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tU=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Pa=Oe("chevron-left",tU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nU=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wn=Oe("chevron-right",nU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aU=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],eO=Oe("chevron-up",aU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],or=Oe("circle-alert",rU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sU=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oj=Oe("circle-check-big",sU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kn=Oe("circle-check",iU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]],oU=Oe("circle-pause",lU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cU=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cj=Oe("circle-play",cU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],uU=Oe("circle-question-mark",dU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cr=Oe("circle-x",mU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dj=Oe("circle",fU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],pU=Oe("clipboard-copy",hU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xU=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],gU=Oe("clipboard-list",xU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bU=[["path",{d:"M12 6v6h4",key:"135r8i"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],vU=Oe("clock-3",bU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yU=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],xi=Oe("clock",yU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jU=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],wU=Oe("cloud-upload",jU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NU=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],SU=Oe("code",NU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _U=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],kU=Oe("coins",_U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CU=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],da=Oe("copy",CU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AU=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tO=Oe("credit-card",AU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TU=[["path",{d:"M6 2v14a2 2 0 0 0 2 2h14",key:"ron5a4"}],["path",{d:"M18 22V8a2 2 0 0 0-2-2H2",key:"7s9ehn"}]],M3=Oe("crop",TU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EU=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],hv=Oe("crown",EU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PU=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],id=Oe("database",PU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OU=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],D3=Oe("dollar-sign",OU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MU=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Im=Oe("download",MU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DU=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],lp=Oe("external-link",DU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RU=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],hd=Oe("eye-off",RU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LU=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Un=Oe("eye",LU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $U=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],R3=Oe("facebook",$U);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IU=[["path",{d:"M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v4",key:"1pf5j1"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m5 12-3 3 3 3",key:"oke12k"}],["path",{d:"m9 18 3-3-3-3",key:"112psh"}]],nO=Oe("file-code-2",IU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],xm=Oe("file-spreadsheet",BU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zU=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],mf=Oe("file-text",zU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UU=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],_l=Oe("funnel",UU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],ci=Oe("globe",FU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VU=[["path",{d:"m15 12-9.373 9.373a1 1 0 0 1-3.001-3L12 9",key:"1hayfq"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172v-.344a2 2 0 0 0-.586-1.414l-1.657-1.657A6 6 0 0 0 12.516 3H9l1.243 1.243A6 6 0 0 1 12 8.485V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"15ts47"}]],HU=Oe("hammer",VU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qU=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],L3=Oe("hash",qU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KU=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],pv=Oe("history",KU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GU=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Hw=Oe("house",GU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YU=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]],$3=Oe("image-off",YU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WU=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],XU=Oe("image",WU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZU=[["polyline",{points:"22 12 16 12 14 15 10 15 8 12 2 12",key:"o97t9d"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}]],QU=Oe("inbox",ZU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JU=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],cx=Oe("info",JU);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],Zc=Oe("key-round",eF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],nF=Oe("key",tF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aF=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],As=Oe("link",aF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],aO=Oe("list-checks",rF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_n=Oe("loader-circle",sF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],gi=Oe("lock",iF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lF=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Hh=Oe("log-in",lF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oF=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],op=Oe("log-out",oF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cF=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],wa=Oe("mail",cF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dF=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bi=Oe("map-pin",dF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uF=[["path",{d:"M22 17a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 21.286V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2z",key:"18887p"}]],uj=Oe("message-square",uF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mF=[["path",{d:"M16 10a2 2 0 0 1-2 2H6.828a2 2 0 0 0-1.414.586l-2.202 2.202A.71.71 0 0 1 2 14.286V4a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2z",key:"1n2ejm"}],["path",{d:"M20 9a2 2 0 0 1 2 2v10.286a.71.71 0 0 1-1.212.502l-2.202-2.202A2 2 0 0 0 17.172 19H10a2 2 0 0 1-2-2v-1",key:"1qfcsi"}]],fF=Oe("messages-square",mF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hF=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],pF=Oe("pause",hF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xF=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],I3=Oe("pen-line",xF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gF=[["path",{d:"M13 2a9 9 0 0 1 9 9",key:"1itnx2"}],["path",{d:"M13 6a5 5 0 0 1 5 5",key:"11nki7"}],["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],cp=Oe("phone-call",gF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bF=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],gt=Oe("phone",bF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vF=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Rd=Oe("play",vF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yF=[["path",{d:"M6.3 20.3a2.4 2.4 0 0 0 3.4 0L12 18l-6-6-2.3 2.3a2.4 2.4 0 0 0 0 3.4Z",key:"goz73y"}],["path",{d:"m2 22 3-3",key:"19mgm9"}],["path",{d:"M7.5 13.5 10 11",key:"7xgeeb"}],["path",{d:"M10.5 16.5 13 14",key:"10btkg"}],["path",{d:"m18 3-4 4h6l-4 4",key:"16psg9"}]],qw=Oe("plug-zap",yF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jF=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Lr=Oe("plus",jF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wF=[["path",{d:"M15.39 4.39a1 1 0 0 0 1.68-.474 2.5 2.5 0 1 1 3.014 3.015 1 1 0 0 0-.474 1.68l1.683 1.682a2.414 2.414 0 0 1 0 3.414L19.61 15.39a1 1 0 0 1-1.68-.474 2.5 2.5 0 1 0-3.014 3.015 1 1 0 0 1 .474 1.68l-1.683 1.682a2.414 2.414 0 0 1-3.414 0L8.61 19.61a1 1 0 0 0-1.68.474 2.5 2.5 0 1 1-3.014-3.015 1 1 0 0 0 .474-1.68l-1.683-1.682a2.414 2.414 0 0 1 0-3.414L4.39 8.61a1 1 0 0 1 1.68.474 2.5 2.5 0 1 0 3.014-3.015 1 1 0 0 1-.474-1.68l1.683-1.682a2.414 2.414 0 0 1 3.414 0z",key:"w46dr5"}]],NF=Oe("puzzle",wF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SF=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Kw=Oe("radio",SF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _F=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],kF=Oe("refresh-ccw",_F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CF=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ge=Oe("refresh-cw",CF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AF=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],Gw=Oe("rocket",AF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TF=[["path",{d:"M16.466 7.5C15.643 4.237 13.952 2 12 2 9.239 2 7 6.477 7 12s2.239 10 5 10c.342 0 .677-.069 1-.2",key:"10n0gc"}],["path",{d:"m15.194 13.707 3.814 1.86-1.86 3.814",key:"16shm9"}],["path",{d:"M19 15.57c-1.804.885-4.274 1.43-7 1.43-5.523 0-10-2.239-10-5s4.477-5 10-5c4.838 0 8.873 1.718 9.8 4",key:"1lxi77"}]],EF=Oe("rotate-3d",TF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PF=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],OF=Oe("rotate-ccw",PF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MF=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],rO=Oe("scale",MF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DF=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]],RF=Oe("scan-line",DF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LF=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ha=Oe("search",LF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],K0=Oe("send",$F);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IF=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Yw=Oe("settings",IF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],zF=Oe("shield-alert",BF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],pd=Oe("shield-check",UF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],vi=Oe("shield",FF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VF=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],qh=Oe("shopping-cart",VF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HF=[["path",{d:"M21 4v16",key:"7j8fe9"}],["path",{d:"M6.029 4.285A2 2 0 0 0 3 6v12a2 2 0 0 0 3.029 1.715l9.997-5.998a2 2 0 0 0 .003-3.432z",key:"zs4d6"}]],qF=Oe("skip-forward",HF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KF=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],GF=Oe("sliders-horizontal",KF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YF=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],B3=Oe("smartphone",YF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WF=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],kl=Oe("sparkles",WF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XF=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],z3=Oe("square-check-big",XF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZF=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M8 7v7",key:"1x2jlm"}],["path",{d:"M12 7v4",key:"xawao1"}],["path",{d:"M16 7v9",key:"1hp2iy"}]],xv=Oe("square-kanban",ZF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QF=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Nm=Oe("square-pen",QF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JF=[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]],eV=Oe("square-terminal",JF);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tV=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]],xd=Oe("square",tV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nV=[["path",{d:"M16 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8Z",key:"qazsjp"}],["path",{d:"M15 3v4a2 2 0 0 0 2 2h4",key:"40519r"}]],aV=Oe("sticky-note",nV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rV=[["path",{d:"M21 7 6.82 21.18a2.83 2.83 0 0 1-3.99-.01a2.83 2.83 0 0 1 0-4L17 3",key:"1ub6xw"}],["path",{d:"m16 2 6 6",key:"1gw87d"}],["path",{d:"M12 16H4",key:"1cjfip"}]],sV=Oe("test-tube-diagonal",rV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iV=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Kh=Oe("timer",iV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lV=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],gv=Oe("toggle-left",lV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oV=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bv=Oe("toggle-right",oV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dn=Oe("trash-2",cV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ww=Oe("triangle-alert",dV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uV=[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]],mV=Oe("unlink",uV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fV=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],hV=Oe("user-check",fV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pV=[["circle",{cx:"12",cy:"8",r:"5",key:"1hypcn"}],["path",{d:"M20 21a8 8 0 0 0-16 0",key:"rfgkzh"}]],sO=Oe("user-round",pV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Oo=Oe("user",xV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gV=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ca=Oe("users",gV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bV=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],Xw=Oe("volume-2",bV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vV=[["path",{d:"M17 14h.01",key:"7oqj8z"}],["path",{d:"M7 7h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h14",key:"u1rqew"}]],vv=Oe("wallet-minimal",vV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yV=[["path",{d:"m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72",key:"ul74o6"}],["path",{d:"m14 7 3 3",key:"1r5n42"}],["path",{d:"M5 6v4",key:"ilb8ba"}],["path",{d:"M19 14v4",key:"blhpug"}],["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M7 8H3",key:"zfb6yr"}],["path",{d:"M21 16h-4",key:"1cnmox"}],["path",{d:"M11 3H9",key:"1obp7u"}]],jV=Oe("wand-sparkles",yV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wV=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]],NV=Oe("wrench",wV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Oa=Oe("x",SV);/**
 * @license lucide-react v0.539.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _V=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],kV=Oe("zap",_V);function CV(){const[e,t]=x.useState({username:"",email:"",password:""}),[a,r]=x.useState(!1),[s,l]=x.useState({}),[c,u]=x.useState(!1),m=rn(),f="https://aisdr-dbt.ddns.net",h=w=>{const{name:S,value:k}=w.target;t(_=>({..._,[S]:k})),s[S]&&l(_=>({..._,[S]:""}))},g=()=>{const w={};return e.username.trim()?e.username.length<3&&(w.username="Username must be at least 3 characters"):w.username="Username is required",e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(w.email="Please enter a valid email address"):w.email="Email is required",e.password?e.password.length<6&&(w.password="Password must be at least 6 characters"):w.password="Password is required",l(w),Object.keys(w).length===0},b=async w=>{if(w.preventDefault(),!!g()){u(!0),l({});try{localStorage.setItem("name",e.username),localStorage.setItem("email",e.email)}catch{}try{const S=await fetch(`${f}/api/signup`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e.username,email:e.email,password:e.password})}),k=await S.json();if(S.ok)I.success("Account created successfully! "),setTimeout(()=>{m(`/otp?email=${encodeURIComponent(e.email)}`)},1200);else{const _=k.message||k.detail||"Something went wrong. Please try again.";l({submit:_}),I.error(_)}}catch{const S="Network error. Please check your connection and try again.";l({submit:S}),I.error(S)}finally{u(!1)}}},y=e.password.length,j=y>=6?"bg-green-500 w-full":y>=4?"bg-blue-500 w-3/4":y>=2?"bg-yellow-500 w-1/2":y>0?"bg-red-500 w-1/4":"w-0";return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Oo,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Create your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Already have an account?"," ",n.jsx("a",{href:"/login",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign in here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-2",children:"Username"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(Oo,{className:`h-5 w-5 ${e.username?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"username",name:"username",type:"text",autoComplete:"username",value:e.username,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.username?"border-red-300 focus:border-red-500 focus:ring-red-500":e.username?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your username"}),e.username&&!s.username&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(oj,{className:"h-5 w-5 text-green-500"})})]}),s.username&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),s.username]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(wa,{className:`h-5 w-5 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:n.jsx(oj,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(gi,{className:`h-5 w-5 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Create a password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200",onClick:()=>r(!a),children:a?n.jsx(hd,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(Un,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[n.jsx("div",{className:"flex-1 bg-gray-200 rounded-full h-1",children:n.jsx("div",{className:`h-full rounded-full transition-all duration-300 ${j}`})}),n.jsx("span",{className:"text-xs text-gray-500",children:"6+ characters"})]}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),s.password]})]}),s.submit&&n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(or,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Creating account..."]}):n.jsxs("div",{className:"flex items-center",children:["Create account",n.jsx(uf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By creating an account you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function AV(){const[e,t]=x.useState(30),a="/",r="/bg.gif";x.useEffect(()=>{const u=setInterval(()=>{t(m=>m<=1?(window.location.href=a,0):m-1)},1e3);return()=>clearInterval(u)},[]);const s=()=>window.location.href=a,l=()=>window.history.back(),c=()=>window.location.reload();return n.jsxs("div",{className:"relative min-h-screen w-full overflow-hidden",children:[n.jsx("div",{className:"fixed inset-0 flex justify-center pointer-events-none",children:n.jsx("img",{src:r,alt:"Animated 404 background",className:`\r
      h-screen\r
      w-[68vw]              /*  your final locked width */\r
      max-w-[1280px]        /*  prevent over-expanding on ultra-wide */\r
      min-w-[320px]         /*  prevent too-narrow on small phones */\r
      object-cover\r
      translate-y-[8vh] sm:translate-y-[10vh] md:translate-y-[23vh]\r
    `,style:{objectPosition:"center 78%"},loading:"eager",decoding:"async",fetchPriority:"high"})}),n.jsx("div",{className:"relative z-10 min-h-screen flex items-center justify-center px-4 py-10",children:n.jsxs("div",{className:`w-full max-w-4xl text-center\r
                     -translate-y-6 sm:-translate-y-10 md:-translate-y-74\r
                     transform-gpu`,children:[n.jsx("h1",{className:`\r
              text-[56px] sm:text-[80px] md:text-[110px]\r
              font-bold tracking-tight text-blue-900\r
              select-none\r
            `,style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"404"}),n.jsx("h2",{className:"mt-2 text-2xl sm:text-3xl font-semibold text-blue-900",style:{fontFamily:'"Arvo", ui-serif, Georgia, serif'},children:"Looks like youre lost"}),n.jsx("p",{className:"mt-2 text-blue-800",children:"The page you are looking for is not available."}),n.jsxs("div",{className:"mt-6 space-y-3",children:[n.jsxs("button",{onClick:s,className:`\r
                w-full sm:w-auto inline-flex items-center justify-center\r
                rounded-lg px-5 py-3\r
                text-white bg-blue-600 hover:bg-blue-700\r
                transition-all duration-200 shadow-md hover:shadow-lg\r
                focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-700\r
              `,children:[n.jsx(Hw,{className:"mr-2 h-5 w-5"}),"Go to Home"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:justify-center",children:[n.jsxs("button",{onClick:l,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(QP,{className:"mr-2 h-4 w-4"}),"Go Back"]}),n.jsxs("button",{onClick:c,className:`\r
                  inline-flex items-center justify-center\r
                  rounded-lg px-4 py-3\r
                  bg-blue-50 text-blue-900 border border-blue-200\r
                  hover:bg-blue-100 transition-all duration-200\r
                  focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-300\r
                `,children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]}),n.jsxs("div",{className:"mt-3 text-sm text-blue-900",children:[n.jsx("a",{href:"/login",className:"underline hover:opacity-80",children:"Login"}),n.jsx("span",{className:"mx-2",children:""}),n.jsx("a",{href:"/signup",className:"underline hover:opacity-80",children:"Sign Up"})]})]}),n.jsxs("div",{className:"mt-6 inline-flex items-center gap-2 rounded-full bg-blue-50/90 px-4 py-2 text-blue-900 border border-blue-200",children:[n.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-600 animate-pulse"}),n.jsxs("p",{className:"text-sm",children:["Redirecting to homepage in"," ",n.jsx("span",{className:"font-semibold",children:e})," seconds"]})]})]})})]})}const Zw=x.createContext({});function ff(e){const t=x.useRef(null);return t.current===null&&(t.current=e()),t.current}const Qw=typeof window<"u",Jw=Qw?x.useLayoutEffect:x.useEffect,dx=x.createContext(null);function e2(e,t){e.indexOf(t)===-1&&e.push(t)}function ux(e,t){const a=e.indexOf(t);a>-1&&e.splice(a,1)}const yi=(e,t,a)=>a>t?t:a<e?e:a;let t2=()=>{};const ji={},iO=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e);function lO(e){return typeof e=="object"&&e!==null}const oO=e=>/^0[^.\s]+$/u.test(e);function n2(e){let t;return()=>(t===void 0&&(t=e()),t)}const $r=e=>e,TV=(e,t)=>a=>t(e(a)),hf=(...e)=>e.reduce(TV),gd=(e,t,a)=>{const r=t-e;return r===0?1:(a-e)/r};class a2{constructor(){this.subscriptions=[]}add(t){return e2(this.subscriptions,t),()=>ux(this.subscriptions,t)}notify(t,a,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](t,a,r);else for(let l=0;l<s;l++){const c=this.subscriptions[l];c&&c(t,a,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const is=e=>e*1e3,Ts=e=>e/1e3;function cO(e,t){return t?e*(1e3/t):0}const EV=(e,t,a)=>{const r=t-e;return((a-e)%r+r)%r+e},dO=(e,t,a)=>(((1-3*a+3*t)*e+(3*a-6*t))*e+3*t)*e,PV=1e-7,OV=12;function MV(e,t,a,r,s){let l,c,u=0;do c=t+(a-t)/2,l=dO(c,r,s)-e,l>0?a=c:t=c;while(Math.abs(l)>PV&&++u<OV);return c}function pf(e,t,a,r){if(e===t&&a===r)return $r;const s=l=>MV(l,0,1,e,a);return l=>l===0||l===1?l:dO(s(l),t,r)}const uO=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,mO=e=>t=>1-e(1-t),fO=pf(.33,1.53,.69,.99),r2=mO(fO),hO=uO(r2),pO=e=>(e*=2)<1?.5*r2(e):.5*(2-Math.pow(2,-10*(e-1))),s2=e=>1-Math.sin(Math.acos(e)),xO=mO(s2),gO=uO(s2),DV=pf(.42,0,1,1),RV=pf(0,0,.58,1),bO=pf(.42,0,.58,1),vO=e=>Array.isArray(e)&&typeof e[0]!="number";function yO(e,t){return vO(e)?e[EV(0,e.length,t)]:e}const jO=e=>Array.isArray(e)&&typeof e[0]=="number",LV={linear:$r,easeIn:DV,easeInOut:bO,easeOut:RV,circIn:s2,circInOut:gO,circOut:xO,backIn:r2,backInOut:hO,backOut:fO,anticipate:pO},$V=e=>typeof e=="string",U3=e=>{if(jO(e)){t2(e.length===4);const[t,a,r,s]=e;return pf(t,a,r,s)}else if($V(e))return LV[e];return e},Gh=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function IV(e,t){let a=new Set,r=new Set,s=!1,l=!1;const c=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function m(h){c.has(h)&&(f.schedule(h),e()),h(u)}const f={schedule:(h,g=!1,b=!1)=>{const j=b&&s?a:r;return g&&c.add(h),j.has(h)||j.add(h),h},cancel:h=>{r.delete(h),c.delete(h)},process:h=>{if(u=h,s){l=!0;return}s=!0,[a,r]=[r,a],a.forEach(m),a.clear(),s=!1,l&&(l=!1,f.process(h))}};return f}const BV=40;function wO(e,t){let a=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},l=()=>a=!0,c=Gh.reduce((C,P)=>(C[P]=IV(l),C),{}),{setup:u,read:m,resolveKeyframes:f,preUpdate:h,update:g,preRender:b,render:y,postRender:j}=c,w=()=>{const C=ji.useManualTiming?s.timestamp:performance.now();a=!1,ji.useManualTiming||(s.delta=r?1e3/60:Math.max(Math.min(C-s.timestamp,BV),1)),s.timestamp=C,s.isProcessing=!0,u.process(s),m.process(s),f.process(s),h.process(s),g.process(s),b.process(s),y.process(s),j.process(s),s.isProcessing=!1,a&&t&&(r=!1,e(w))},S=()=>{a=!0,r=!0,s.isProcessing||e(w)};return{schedule:Gh.reduce((C,P)=>{const T=c[P];return C[P]=(E,$=!1,M=!1)=>(a||S(),T.schedule(E,$,M)),C},{}),cancel:C=>{for(let P=0;P<Gh.length;P++)c[Gh[P]].cancel(C)},state:s,steps:c}}const{schedule:nn,cancel:wi,state:oa,steps:yv}=wO(typeof requestAnimationFrame<"u"?requestAnimationFrame:$r,!0);let G0;function zV(){G0=void 0}const Fa={now:()=>(G0===void 0&&Fa.set(oa.isProcessing||ji.useManualTiming?oa.timestamp:performance.now()),G0),set:e=>{G0=e,queueMicrotask(zV)}},NO=e=>t=>typeof t=="string"&&t.startsWith(e),i2=NO("--"),UV=NO("var(--"),l2=e=>UV(e)?FV.test(e.split("/*")[0].trim()):!1,FV=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ld={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},Bm={...Ld,transform:e=>yi(0,1,e)},Yh={...Ld,default:1},Sm=e=>Math.round(e*1e5)/1e5,o2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function VV(e){return e==null}const HV=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,c2=(e,t)=>a=>!!(typeof a=="string"&&HV.test(a)&&a.startsWith(e)||t&&!VV(a)&&Object.prototype.hasOwnProperty.call(a,t)),SO=(e,t,a)=>r=>{if(typeof r!="string")return r;const[s,l,c,u]=r.match(o2);return{[e]:parseFloat(s),[t]:parseFloat(l),[a]:parseFloat(c),alpha:u!==void 0?parseFloat(u):1}},qV=e=>yi(0,255,e),jv={...Ld,transform:e=>Math.round(qV(e))},_o={test:c2("rgb","red"),parse:SO("red","green","blue"),transform:({red:e,green:t,blue:a,alpha:r=1})=>"rgba("+jv.transform(e)+", "+jv.transform(t)+", "+jv.transform(a)+", "+Sm(Bm.transform(r))+")"};function KV(e){let t="",a="",r="",s="";return e.length>5?(t=e.substring(1,3),a=e.substring(3,5),r=e.substring(5,7),s=e.substring(7,9)):(t=e.substring(1,2),a=e.substring(2,3),r=e.substring(3,4),s=e.substring(4,5),t+=t,a+=a,r+=r,s+=s),{red:parseInt(t,16),green:parseInt(a,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const mj={test:c2("#"),parse:KV,transform:_o.transform},xf=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),gl=xf("deg"),Es=xf("%"),mt=xf("px"),GV=xf("vh"),YV=xf("vw"),F3={...Es,parse:e=>Es.parse(e)/100,transform:e=>Es.transform(e*100)},Qc={test:c2("hsl","hue"),parse:SO("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:a,alpha:r=1})=>"hsla("+Math.round(e)+", "+Es.transform(Sm(t))+", "+Es.transform(Sm(a))+", "+Sm(Bm.transform(r))+")"},On={test:e=>_o.test(e)||mj.test(e)||Qc.test(e),parse:e=>_o.test(e)?_o.parse(e):Qc.test(e)?Qc.parse(e):mj.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?_o.transform(e):Qc.transform(e),getAnimatableNone:e=>{const t=On.parse(e);return t.alpha=0,On.transform(t)}},WV=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function XV(e){var t,a;return isNaN(e)&&typeof e=="string"&&(((t=e.match(o2))==null?void 0:t.length)||0)+(((a=e.match(WV))==null?void 0:a.length)||0)>0}const _O="number",kO="color",ZV="var",QV="var(",V3="${}",JV=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zm(e){const t=e.toString(),a=[],r={color:[],number:[],var:[]},s=[];let l=0;const u=t.replace(JV,m=>(On.test(m)?(r.color.push(l),s.push(kO),a.push(On.parse(m))):m.startsWith(QV)?(r.var.push(l),s.push(ZV),a.push(m)):(r.number.push(l),s.push(_O),a.push(parseFloat(m))),++l,V3)).split(V3);return{values:a,split:u,indexes:r,types:s}}function CO(e){return zm(e).values}function AO(e){const{split:t,types:a}=zm(e),r=t.length;return s=>{let l="";for(let c=0;c<r;c++)if(l+=t[c],s[c]!==void 0){const u=a[c];u===_O?l+=Sm(s[c]):u===kO?l+=On.transform(s[c]):l+=s[c]}return l}}const eH=e=>typeof e=="number"?0:On.test(e)?On.getAnimatableNone(e):e;function tH(e){const t=CO(e);return AO(e)(t.map(eH))}const Cl={test:XV,parse:CO,createTransformer:AO,getAnimatableNone:tH};function wv(e,t,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?e+(t-e)*6*a:a<1/2?t:a<2/3?e+(t-e)*(2/3-a)*6:e}function nH({hue:e,saturation:t,lightness:a,alpha:r}){e/=360,t/=100,a/=100;let s=0,l=0,c=0;if(!t)s=l=c=a;else{const u=a<.5?a*(1+t):a+t-a*t,m=2*a-u;s=wv(m,u,e+1/3),l=wv(m,u,e),c=wv(m,u,e-1/3)}return{red:Math.round(s*255),green:Math.round(l*255),blue:Math.round(c*255),alpha:r}}function dp(e,t){return a=>a>0?t:e}const ln=(e,t,a)=>e+(t-e)*a,Nv=(e,t,a)=>{const r=e*e,s=a*(t*t-r)+r;return s<0?0:Math.sqrt(s)},aH=[mj,_o,Qc],rH=e=>aH.find(t=>t.test(e));function H3(e){const t=rH(e);if(!t)return!1;let a=t.parse(e);return t===Qc&&(a=nH(a)),a}const q3=(e,t)=>{const a=H3(e),r=H3(t);if(!a||!r)return dp(e,t);const s={...a};return l=>(s.red=Nv(a.red,r.red,l),s.green=Nv(a.green,r.green,l),s.blue=Nv(a.blue,r.blue,l),s.alpha=ln(a.alpha,r.alpha,l),_o.transform(s))},fj=new Set(["none","hidden"]);function sH(e,t){return fj.has(e)?a=>a<=0?e:t:a=>a>=1?t:e}function iH(e,t){return a=>ln(e,t,a)}function d2(e){return typeof e=="number"?iH:typeof e=="string"?l2(e)?dp:On.test(e)?q3:cH:Array.isArray(e)?TO:typeof e=="object"?On.test(e)?q3:lH:dp}function TO(e,t){const a=[...e],r=a.length,s=e.map((l,c)=>d2(l)(l,t[c]));return l=>{for(let c=0;c<r;c++)a[c]=s[c](l);return a}}function lH(e,t){const a={...e,...t},r={};for(const s in a)e[s]!==void 0&&t[s]!==void 0&&(r[s]=d2(e[s])(e[s],t[s]));return s=>{for(const l in r)a[l]=r[l](s);return a}}function oH(e,t){const a=[],r={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const l=t.types[s],c=e.indexes[l][r[l]],u=e.values[c]??0;a[s]=u,r[l]++}return a}const cH=(e,t)=>{const a=Cl.createTransformer(t),r=zm(e),s=zm(t);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?fj.has(e)&&!s.values.length||fj.has(t)&&!r.values.length?sH(e,t):hf(TO(oH(r,s),s.values),a):dp(e,t)};function EO(e,t,a){return typeof e=="number"&&typeof t=="number"&&typeof a=="number"?ln(e,t,a):d2(e)(e,t)}const dH=e=>{const t=({timestamp:a})=>e(a);return{start:(a=!0)=>nn.update(t,a),stop:()=>wi(t),now:()=>oa.isProcessing?oa.timestamp:Fa.now()}},PO=(e,t,a=10)=>{let r="";const s=Math.max(Math.round(t/a),2);for(let l=0;l<s;l++)r+=Math.round(e(l/(s-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},up=2e4;function u2(e){let t=0;const a=50;let r=e.next(t);for(;!r.done&&t<up;)t+=a,r=e.next(t);return t>=up?1/0:t}function OO(e,t=100,a){const r=a({...e,keyframes:[0,t]}),s=Math.min(u2(r),up);return{type:"keyframes",ease:l=>r.next(s*l).value/t,duration:Ts(s)}}const uH=5;function MO(e,t,a){const r=Math.max(t-uH,0);return cO(a-e(r),t-r)}const yn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Sv=.001;function mH({duration:e=yn.duration,bounce:t=yn.bounce,velocity:a=yn.velocity,mass:r=yn.mass}){let s,l,c=1-t;c=yi(yn.minDamping,yn.maxDamping,c),e=yi(yn.minDuration,yn.maxDuration,Ts(e)),c<1?(s=f=>{const h=f*c,g=h*e,b=h-a,y=hj(f,c),j=Math.exp(-g);return Sv-b/y*j},l=f=>{const g=f*c*e,b=g*a+a,y=Math.pow(c,2)*Math.pow(f,2)*e,j=Math.exp(-g),w=hj(Math.pow(f,2),c);return(-s(f)+Sv>0?-1:1)*((b-y)*j)/w}):(s=f=>{const h=Math.exp(-f*e),g=(f-a)*e+1;return-Sv+h*g},l=f=>{const h=Math.exp(-f*e),g=(a-f)*(e*e);return h*g});const u=5/e,m=hH(s,l,u);if(e=is(e),isNaN(m))return{stiffness:yn.stiffness,damping:yn.damping,duration:e};{const f=Math.pow(m,2)*r;return{stiffness:f,damping:c*2*Math.sqrt(r*f),duration:e}}}const fH=12;function hH(e,t,a){let r=a;for(let s=1;s<fH;s++)r=r-e(r)/t(r);return r}function hj(e,t){return e*Math.sqrt(1-t*t)}const pH=["duration","bounce"],xH=["stiffness","damping","mass"];function K3(e,t){return t.some(a=>e[a]!==void 0)}function gH(e){let t={velocity:yn.velocity,stiffness:yn.stiffness,damping:yn.damping,mass:yn.mass,isResolvedFromDuration:!1,...e};if(!K3(e,xH)&&K3(e,pH))if(e.visualDuration){const a=e.visualDuration,r=2*Math.PI/(a*1.2),s=r*r,l=2*yi(.05,1,1-(e.bounce||0))*Math.sqrt(s);t={...t,mass:yn.mass,stiffness:s,damping:l}}else{const a=mH(e);t={...t,...a,mass:yn.mass},t.isResolvedFromDuration=!0}return t}function Um(e=yn.visualDuration,t=yn.bounce){const a=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:s}=a;const l=a.keyframes[0],c=a.keyframes[a.keyframes.length-1],u={done:!1,value:l},{stiffness:m,damping:f,mass:h,duration:g,velocity:b,isResolvedFromDuration:y}=gH({...a,velocity:-Ts(a.velocity||0)}),j=b||0,w=f/(2*Math.sqrt(m*h)),S=c-l,k=Ts(Math.sqrt(m/h)),_=Math.abs(S)<5;r||(r=_?yn.restSpeed.granular:yn.restSpeed.default),s||(s=_?yn.restDelta.granular:yn.restDelta.default);let C;if(w<1){const T=hj(k,w);C=E=>{const $=Math.exp(-w*k*E);return c-$*((j+w*k*S)/T*Math.sin(T*E)+S*Math.cos(T*E))}}else if(w===1)C=T=>c-Math.exp(-k*T)*(S+(j+k*S)*T);else{const T=k*Math.sqrt(w*w-1);C=E=>{const $=Math.exp(-w*k*E),M=Math.min(T*E,300);return c-$*((j+w*k*S)*Math.sinh(M)+T*S*Math.cosh(M))/T}}const P={calculatedDuration:y&&g||null,next:T=>{const E=C(T);if(y)u.done=T>=g;else{let $=T===0?j:0;w<1&&($=T===0?is(j):MO(C,T,E));const M=Math.abs($)<=r,F=Math.abs(c-E)<=s;u.done=M&&F}return u.value=u.done?c:E,u},toString:()=>{const T=Math.min(u2(P),up),E=PO($=>P.next(T*$).value,T,30);return T+"ms "+E},toTransition:()=>{}};return P}Um.applyToOptions=e=>{const t=OO(e,100,Um);return e.ease=t.ease,e.duration=is(t.duration),e.type="keyframes",e};function pj({keyframes:e,velocity:t=0,power:a=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:l=500,modifyTarget:c,min:u,max:m,restDelta:f=.5,restSpeed:h}){const g=e[0],b={done:!1,value:g},y=M=>u!==void 0&&M<u||m!==void 0&&M>m,j=M=>u===void 0?m:m===void 0||Math.abs(u-M)<Math.abs(m-M)?u:m;let w=a*t;const S=g+w,k=c===void 0?S:c(S);k!==S&&(w=k-g);const _=M=>-w*Math.exp(-M/r),C=M=>k+_(M),P=M=>{const F=_(M),K=C(M);b.done=Math.abs(F)<=f,b.value=b.done?k:K};let T,E;const $=M=>{y(b.value)&&(T=M,E=Um({keyframes:[b.value,j(b.value)],velocity:MO(C,M,b.value),damping:s,stiffness:l,restDelta:f,restSpeed:h}))};return $(0),{calculatedDuration:null,next:M=>{let F=!1;return!E&&T===void 0&&(F=!0,P(M),$(M)),T!==void 0&&M>=T?E.next(M-T):(!F&&P(M),b)}}}function bH(e,t,a){const r=[],s=a||ji.mix||EO,l=e.length-1;for(let c=0;c<l;c++){let u=s(e[c],e[c+1]);if(t){const m=Array.isArray(t)?t[c]||$r:t;u=hf(m,u)}r.push(u)}return r}function DO(e,t,{clamp:a=!0,ease:r,mixer:s}={}){const l=e.length;if(t2(l===t.length),l===1)return()=>t[0];if(l===2&&t[0]===t[1])return()=>t[1];const c=e[0]===e[1];e[0]>e[l-1]&&(e=[...e].reverse(),t=[...t].reverse());const u=bH(t,r,s),m=u.length,f=h=>{if(c&&h<e[0])return t[0];let g=0;if(m>1)for(;g<e.length-2&&!(h<e[g+1]);g++);const b=gd(e[g],e[g+1],h);return u[g](b)};return a?h=>f(yi(e[0],e[l-1],h)):f}function RO(e,t){const a=e[e.length-1];for(let r=1;r<=t;r++){const s=gd(0,t,r);e.push(ln(a,1,s))}}function LO(e){const t=[0];return RO(t,e.length-1),t}function vH(e,t){return e.map(a=>a*t)}function yH(e,t){return e.map(()=>t||bO).splice(0,e.length-1)}function _m({duration:e=300,keyframes:t,times:a,ease:r="easeInOut"}){const s=vO(r)?r.map(U3):U3(r),l={done:!1,value:t[0]},c=vH(a&&a.length===t.length?a:LO(t),e),u=DO(c,t,{ease:Array.isArray(s)?s:yH(t,s)});return{calculatedDuration:e,next:m=>(l.value=u(m),l.done=m>=e,l)}}const jH=e=>e!==null;function m2(e,{repeat:t,repeatType:a="loop"},r,s=1){const l=e.filter(jH),u=s<0||t&&a!=="loop"&&t%2===1?0:l.length-1;return!u||r===void 0?l[u]:r}const wH={decay:pj,inertia:pj,tween:_m,keyframes:_m,spring:Um};function $O(e){typeof e.type=="string"&&(e.type=wH[e.type])}class f2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(t=>{this.resolve=t})}notifyFinished(){this.resolve()}then(t,a){return this.finished.then(t,a)}}const NH=e=>e/100;class h2 extends f2{constructor(t){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,s;const{motionValue:a}=this.options;a&&a.updatedAt!==Fa.now()&&this.tick(Fa.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(r=this.options).onStop)==null||s.call(r))},this.options=t,this.initAnimation(),this.play(),t.autoplay===!1&&this.pause()}initAnimation(){const{options:t}=this;$O(t);const{type:a=_m,repeat:r=0,repeatDelay:s=0,repeatType:l,velocity:c=0}=t;let{keyframes:u}=t;const m=a||_m;m!==_m&&typeof u[0]!="number"&&(this.mixKeyframes=hf(NH,EO(u[0],u[1])),u=[0,100]);const f=m({...t,keyframes:u});l==="mirror"&&(this.mirroredGenerator=m({...t,keyframes:[...u].reverse(),velocity:-c})),f.calculatedDuration===null&&(f.calculatedDuration=u2(f));const{calculatedDuration:h}=f;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(r+1)-s,this.generator=f}updateTime(t){const a=Math.round(t-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(t,a=!1){const{generator:r,totalDuration:s,mixKeyframes:l,mirroredGenerator:c,resolvedDuration:u,calculatedDuration:m}=this;if(this.startTime===null)return r.next(0);const{delay:f=0,keyframes:h,repeat:g,repeatType:b,repeatDelay:y,type:j,onUpdate:w,finalKeyframe:S}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-s/this.speed,this.startTime)),a?this.currentTime=t:this.updateTime(t);const k=this.currentTime-f*(this.playbackSpeed>=0?1:-1),_=this.playbackSpeed>=0?k<0:k>s;this.currentTime=Math.max(k,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let C=this.currentTime,P=r;if(g){const M=Math.min(this.currentTime,s)/u;let F=Math.floor(M),K=M%1;!K&&M>=1&&(K=1),K===1&&F--,F=Math.min(F,g+1),!!(F%2)&&(b==="reverse"?(K=1-K,y&&(K-=y/u)):b==="mirror"&&(P=c)),C=yi(0,1,K)*u}const T=_?{done:!1,value:h[0]}:P.next(C);l&&(T.value=l(T.value));let{done:E}=T;!_&&m!==null&&(E=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const $=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&E);return $&&j!==pj&&(T.value=m2(h,this.options,S,this.speed)),w&&w(T.value),$&&this.finish(),T}then(t,a){return this.finished.then(t,a)}get duration(){return Ts(this.calculatedDuration)}get time(){return Ts(this.currentTime)}set time(t){var a;t=is(t),this.currentTime=t,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.playbackSpeed),(a=this.driver)==null||a.start(!1)}get speed(){return this.playbackSpeed}set speed(t){this.updateTime(Fa.now());const a=this.playbackSpeed!==t;this.playbackSpeed=t,a&&(this.time=Ts(this.currentTime))}play(){var s,l;if(this.isStopped)return;const{driver:t=dH,startTime:a}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),(l=(s=this.options).onPlay)==null||l.call(s);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=a??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Fa.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var t,a;this.notifyFinished(),this.teardown(),this.state="finished",(a=(t=this.options).onComplete)==null||a.call(t)}cancel(){var t,a;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(a=(t=this.options).onCancel)==null||a.call(t)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}attachTimeline(t){var a;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(a=this.driver)==null||a.stop(),t.observe(this)}}function SH(e){for(let t=1;t<e.length;t++)e[t]??(e[t]=e[t-1])}const ko=e=>e*180/Math.PI,xj=e=>{const t=ko(Math.atan2(e[1],e[0]));return gj(t)},_H={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:e=>(Math.abs(e[0])+Math.abs(e[3]))/2,rotate:xj,rotateZ:xj,skewX:e=>ko(Math.atan(e[1])),skewY:e=>ko(Math.atan(e[2])),skew:e=>(Math.abs(e[1])+Math.abs(e[2]))/2},gj=e=>(e=e%360,e<0&&(e+=360),e),G3=xj,Y3=e=>Math.sqrt(e[0]*e[0]+e[1]*e[1]),W3=e=>Math.sqrt(e[4]*e[4]+e[5]*e[5]),kH={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Y3,scaleY:W3,scale:e=>(Y3(e)+W3(e))/2,rotateX:e=>gj(ko(Math.atan2(e[6],e[5]))),rotateY:e=>gj(ko(Math.atan2(-e[2],e[0]))),rotateZ:G3,rotate:G3,skewX:e=>ko(Math.atan(e[4])),skewY:e=>ko(Math.atan(e[1])),skew:e=>(Math.abs(e[1])+Math.abs(e[4]))/2};function bj(e){return e.includes("scale")?1:0}function vj(e,t){if(!e||e==="none")return bj(t);const a=e.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,s;if(a)r=kH,s=a;else{const u=e.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=_H,s=u}if(!s)return bj(t);const l=r[t],c=s[1].split(",").map(AH);return typeof l=="function"?l(c):c[l]}const CH=(e,t)=>{const{transform:a="none"}=getComputedStyle(e);return vj(a,t)};function AH(e){return parseFloat(e.trim())}const $d=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Id=new Set($d),X3=e=>e===Ld||e===mt,TH=new Set(["x","y","z"]),EH=$d.filter(e=>!TH.has(e));function PH(e){const t=[];return EH.forEach(a=>{const r=e.getValue(a);r!==void 0&&(t.push([a,r.get()]),r.set(a.startsWith("scale")?1:0))}),t}const Mo={width:({x:e},{paddingLeft:t="0",paddingRight:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),height:({y:e},{paddingTop:t="0",paddingBottom:a="0"})=>e.max-e.min-parseFloat(t)-parseFloat(a),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:(e,{transform:t})=>vj(t,"x"),y:(e,{transform:t})=>vj(t,"y")};Mo.translateX=Mo.x;Mo.translateY=Mo.y;const Do=new Set;let yj=!1,jj=!1,wj=!1;function IO(){if(jj){const e=Array.from(Do).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),a=new Map;t.forEach(r=>{const s=PH(r);s.length&&(a.set(r,s),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const s=a.get(r);s&&s.forEach(([l,c])=>{var u;(u=r.getValue(l))==null||u.set(c)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}jj=!1,yj=!1,Do.forEach(e=>e.complete(wj)),Do.clear()}function BO(){Do.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(jj=!0)})}function OH(){wj=!0,BO(),IO(),wj=!1}class p2{constructor(t,a,r,s,l,c=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...t],this.onComplete=a,this.name=r,this.motionValue=s,this.element=l,this.isAsync=c}scheduleResolve(){this.state="scheduled",this.isAsync?(Do.add(this),yj||(yj=!0,nn.read(BO),nn.resolveKeyframes(IO))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:a,element:r,motionValue:s}=this;if(t[0]===null){const l=s==null?void 0:s.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(r&&a){const u=r.readValue(a,c);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=c),s&&l===void 0&&s.set(t[0])}SH(t)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(t=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,t),Do.delete(this)}cancel(){this.state==="scheduled"&&(Do.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const MH=e=>e.startsWith("--");function DH(e,t,a){MH(t)?e.style.setProperty(t,a):e.style[t]=a}const RH=n2(()=>window.ScrollTimeline!==void 0),LH={};function $H(e,t){const a=n2(e);return()=>LH[t]??a()}const zO=$H(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),gm=([e,t,a,r])=>`cubic-bezier(${e}, ${t}, ${a}, ${r})`,Z3={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:gm([0,.65,.55,1]),circOut:gm([.55,0,1,.45]),backIn:gm([.31,.01,.66,-.59]),backOut:gm([.33,1.53,.69,.99])};function UO(e,t){if(e)return typeof e=="function"?zO()?PO(e,t):"ease-out":jO(e)?gm(e):Array.isArray(e)?e.map(a=>UO(a,t)||Z3.easeOut):Z3[e]}function IH(e,t,a,{delay:r=0,duration:s=300,repeat:l=0,repeatType:c="loop",ease:u="easeOut",times:m}={},f=void 0){const h={[t]:a};m&&(h.offset=m);const g=UO(u,s);Array.isArray(g)&&(h.easing=g);const b={delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:l+1,direction:c==="reverse"?"alternate":"normal"};return f&&(b.pseudoElement=f),e.animate(h,b)}function x2(e){return typeof e=="function"&&"applyToOptions"in e}function BH({type:e,...t}){return x2(e)&&zO()?e.applyToOptions(t):(t.duration??(t.duration=300),t.ease??(t.ease="easeOut"),t)}class zH extends f2{constructor(t){if(super(),this.finishedTime=null,this.isStopped=!1,!t)return;const{element:a,name:r,keyframes:s,pseudoElement:l,allowFlatten:c=!1,finalKeyframe:u,onComplete:m}=t;this.isPseudoElement=!!l,this.allowFlatten=c,this.options=t,t2(typeof t.type!="string");const f=BH(t);this.animation=IH(a,r,s,f,l),f.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!l){const h=m2(s,this.options,u,this.speed);this.updateMotionValue?this.updateMotionValue(h):DH(a,r,h),this.animation.cancel()}m==null||m(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var t,a;(a=(t=this.animation).finish)==null||a.call(t)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:t}=this;t==="idle"||t==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var t,a;this.isPseudoElement||(a=(t=this.animation).commitStyles)==null||a.call(t)}get duration(){var a,r;const t=((r=(a=this.animation.effect)==null?void 0:a.getComputedTiming)==null?void 0:r.call(a).duration)||0;return Ts(Number(t))}get time(){return Ts(Number(this.animation.currentTime)||0)}set time(t){this.finishedTime=null,this.animation.currentTime=is(t)}get speed(){return this.animation.playbackRate}set speed(t){t<0&&(this.finishedTime=null),this.animation.playbackRate=t}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(t){this.animation.startTime=t}attachTimeline({timeline:t,observe:a}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,t&&RH()?(this.animation.timeline=t,$r):a(this)}}const FO={anticipate:pO,backInOut:hO,circInOut:gO};function UH(e){return e in FO}function FH(e){typeof e.ease=="string"&&UH(e.ease)&&(e.ease=FO[e.ease])}const Q3=10;class VH extends zH{constructor(t){FH(t),$O(t),super(t),t.startTime&&(this.startTime=t.startTime),this.options=t}updateMotionValue(t){const{motionValue:a,onUpdate:r,onComplete:s,element:l,...c}=this.options;if(!a)return;if(t!==void 0){a.set(t);return}const u=new h2({...c,autoplay:!1}),m=is(this.finishedTime??this.time);a.setWithVelocity(u.sample(m-Q3).value,u.sample(m).value,Q3),u.stop()}}const J3=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Cl.test(e)||e==="0")&&!e.startsWith("url("));function HH(e){const t=e[0];if(e.length===1)return!0;for(let a=0;a<e.length;a++)if(e[a]!==t)return!0}function qH(e,t,a,r){const s=e[0];if(s===null)return!1;if(t==="display"||t==="visibility")return!0;const l=e[e.length-1],c=J3(s,t),u=J3(l,t);return!c||!u?!1:HH(e)||(a==="spring"||x2(a))&&r}function Nj(e){e.duration=0,e.type}const KH=new Set(["opacity","clipPath","filter","transform"]),GH=n2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function YH(e){var h;const{motionValue:t,name:a,repeatDelay:r,repeatType:s,damping:l,type:c}=e;if(!(((h=t==null?void 0:t.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:f}=t.owner.getProps();return GH()&&a&&KH.has(a)&&(a!=="transform"||!f)&&!m&&!r&&s!=="mirror"&&l!==0&&c!=="inertia"}const WH=40;class XH extends f2{constructor({autoplay:t=!0,delay:a=0,type:r="keyframes",repeat:s=0,repeatDelay:l=0,repeatType:c="loop",keyframes:u,name:m,motionValue:f,element:h,...g}){var j;super(),this.stop=()=>{var w,S;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(S=this.keyframeResolver)==null||S.cancel()},this.createdAt=Fa.now();const b={autoplay:t,delay:a,type:r,repeat:s,repeatDelay:l,repeatType:c,name:m,motionValue:f,element:h,...g},y=(h==null?void 0:h.KeyframeResolver)||p2;this.keyframeResolver=new y(u,(w,S,k)=>this.onKeyframesResolved(w,S,b,!k),m,f,h),(j=this.keyframeResolver)==null||j.scheduleResolve()}onKeyframesResolved(t,a,r,s){this.keyframeResolver=void 0;const{name:l,type:c,velocity:u,delay:m,isHandoff:f,onUpdate:h}=r;this.resolvedAt=Fa.now(),qH(t,l,c,u)||((ji.instantAnimations||!m)&&(h==null||h(m2(t,r,a))),t[0]=t[t.length-1],Nj(r),r.repeat=0);const b={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>WH?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...r,keyframes:t},y=!f&&YH(b)?new VH({...b,element:b.motionValue.owner.current}):new h2(b);y.finished.then(()=>this.notifyFinished()).catch($r),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(t,a){return this.finished.finally(t).then(()=>{})}get animation(){var t;return this._animation||((t=this.keyframeResolver)==null||t.resume(),OH()),this._animation}get duration(){return this.animation.duration}get time(){return this.animation.time}set time(t){this.animation.time=t}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(t){this.animation.speed=t}get startTime(){return this.animation.startTime}attachTimeline(t){return this._animation?this.stopTimeline=this.animation.attachTimeline(t):this.pendingTimeline=t,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var t;this._animation&&this.animation.cancel(),(t=this.keyframeResolver)==null||t.cancel()}}class ZH{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>t.finished))}getAll(t){return this.animations[0][t]}setAll(t,a){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=a}attachTimeline(t){const a=this.animations.map(r=>r.attachTimeline(t));return()=>{a.forEach((r,s)=>{r&&r(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get state(){return this.getAll("state")}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let a=0;a<this.animations.length;a++)t=Math.max(t,this.animations[a].duration);return t}runAll(t){this.animations.forEach(a=>a[t]())}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class QH extends ZH{then(t,a){return this.finished.finally(t).then(()=>{})}}const JH=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function eq(e){const t=JH.exec(e);if(!t)return[,];const[,a,r,s]=t;return[`--${a??r}`,s]}function VO(e,t,a=1){const[r,s]=eq(e);if(!r)return;const l=window.getComputedStyle(t).getPropertyValue(r);if(l){const c=l.trim();return iO(c)?parseFloat(c):c}return l2(s)?VO(s,t,a+1):s}function g2(e,t){return(e==null?void 0:e[t])??(e==null?void 0:e.default)??e}const HO=new Set(["width","height","top","left","right","bottom",...$d]),tq={test:e=>e==="auto",parse:e=>e},qO=e=>t=>t.test(e),KO=[Ld,mt,Es,gl,YV,GV,tq],ek=e=>KO.find(qO(e));function nq(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||oO(e):!0}const aq=new Set(["brightness","contrast","saturate","opacity"]);function rq(e){const[t,a]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=a.match(o2)||[];if(!r)return e;const s=a.replace(r,"");let l=aq.has(t)?1:0;return r!==a&&(l*=100),t+"("+l+s+")"}const sq=/\b([a-z-]*)\(.*?\)/gu,Sj={...Cl,getAnimatableNone:e=>{const t=e.match(sq);return t?t.map(rq).join(" "):e}},tk={...Ld,transform:Math.round},iq={rotate:gl,rotateX:gl,rotateY:gl,rotateZ:gl,scale:Yh,scaleX:Yh,scaleY:Yh,scaleZ:Yh,skew:gl,skewX:gl,skewY:gl,distance:mt,translateX:mt,translateY:mt,translateZ:mt,x:mt,y:mt,z:mt,perspective:mt,transformPerspective:mt,opacity:Bm,originX:F3,originY:F3,originZ:mt},b2={borderWidth:mt,borderTopWidth:mt,borderRightWidth:mt,borderBottomWidth:mt,borderLeftWidth:mt,borderRadius:mt,radius:mt,borderTopLeftRadius:mt,borderTopRightRadius:mt,borderBottomRightRadius:mt,borderBottomLeftRadius:mt,width:mt,maxWidth:mt,height:mt,maxHeight:mt,top:mt,right:mt,bottom:mt,left:mt,padding:mt,paddingTop:mt,paddingRight:mt,paddingBottom:mt,paddingLeft:mt,margin:mt,marginTop:mt,marginRight:mt,marginBottom:mt,marginLeft:mt,backgroundPositionX:mt,backgroundPositionY:mt,...iq,zIndex:tk,fillOpacity:Bm,strokeOpacity:Bm,numOctaves:tk},lq={...b2,color:On,backgroundColor:On,outlineColor:On,fill:On,stroke:On,borderColor:On,borderTopColor:On,borderRightColor:On,borderBottomColor:On,borderLeftColor:On,filter:Sj,WebkitFilter:Sj},GO=e=>lq[e];function YO(e,t){let a=GO(e);return a!==Sj&&(a=Cl),a.getAnimatableNone?a.getAnimatableNone(t):void 0}const oq=new Set(["auto","none","0"]);function cq(e,t,a){let r=0,s;for(;r<e.length&&!s;){const l=e[r];typeof l=="string"&&!oq.has(l)&&zm(l).values.length&&(s=e[r]),r++}if(s&&a)for(const l of t)e[l]=YO(a,s)}class dq extends p2{constructor(t,a,r,s,l){super(t,a,r,s,l,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:a,name:r}=this;if(!a||!a.current)return;super.readKeyframes();for(let m=0;m<t.length;m++){let f=t[m];if(typeof f=="string"&&(f=f.trim(),l2(f))){const h=VO(f,a.current);h!==void 0&&(t[m]=h),m===t.length-1&&(this.finalKeyframe=f)}}if(this.resolveNoneKeyframes(),!HO.has(r)||t.length!==2)return;const[s,l]=t,c=ek(s),u=ek(l);if(c!==u)if(X3(c)&&X3(u))for(let m=0;m<t.length;m++){const f=t[m];typeof f=="string"&&(t[m]=parseFloat(f))}else Mo[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:a}=this,r=[];for(let s=0;s<t.length;s++)(t[s]===null||nq(t[s]))&&r.push(s);r.length&&cq(t,r,a)}measureInitialState(){const{element:t,unresolvedKeyframes:a,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mo[r](t.measureViewportBox(),window.getComputedStyle(t.current)),a[0]=this.measuredOrigin;const s=a[a.length-1];s!==void 0&&t.getValue(r,s).jump(s,!1)}measureEndState(){var u;const{element:t,name:a,unresolvedKeyframes:r}=this;if(!t||!t.current)return;const s=t.getValue(a);s&&s.jump(this.measuredOrigin,!1);const l=r.length-1,c=r[l];r[l]=Mo[a](t.measureViewportBox(),window.getComputedStyle(t.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),(u=this.removedTransforms)!=null&&u.length&&this.removedTransforms.forEach(([m,f])=>{t.getValue(m).set(f)}),this.resolveNoneKeyframes()}}function WO(e,t,a){if(e instanceof EventTarget)return[e];if(typeof e=="string"){let r=document;const s=(a==null?void 0:a[e])??r.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const XO=(e,t)=>t&&typeof e=="number"?t.transform(e):e;function ZO(e){return lO(e)&&"offsetHeight"in e}const nk=30,uq=e=>!isNaN(parseFloat(e)),km={current:void 0};class mq{constructor(t,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var l;const s=Fa.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((l=this.events.change)==null||l.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(t),this.owner=a.owner}setCurrent(t){this.current=t,this.updatedAt=Fa.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=uq(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,a){this.events[t]||(this.events[t]=new a2);const r=this.events[t].add(a);return t==="change"?()=>{r(),nn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,a){this.passiveEffect=t,this.stopPassiveEffect=a}set(t){this.passiveEffect?this.passiveEffect(t,this.updateAndNotify):this.updateAndNotify(t)}setWithVelocity(t,a,r){this.set(a),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,a=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var t;(t=this.events.change)==null||t.notify(this.current)}addDependent(t){this.dependents||(this.dependents=new Set),this.dependents.add(t)}removeDependent(t){this.dependents&&this.dependents.delete(t)}get(){return km.current&&km.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){const t=Fa.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>nk)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,nk);return cO(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(t){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=t(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var t,a;(t=this.dependents)==null||t.clear(),(a=this.events.destroy)==null||a.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Uo(e,t){return new mq(e,t)}const{schedule:v2}=wO(queueMicrotask,!1),Qr={x:!1,y:!1};function QO(){return Qr.x||Qr.y}function fq(e){return e==="x"||e==="y"?Qr[e]?null:(Qr[e]=!0,()=>{Qr[e]=!1}):Qr.x||Qr.y?null:(Qr.x=Qr.y=!0,()=>{Qr.x=Qr.y=!1})}function JO(e,t){const a=WO(e),r=new AbortController,s={passive:!0,...t,signal:r.signal};return[a,s,()=>r.abort()]}function ak(e){return!(e.pointerType==="touch"||QO())}function hq(e,t,a={}){const[r,s,l]=JO(e,a),c=u=>{if(!ak(u))return;const{target:m}=u,f=t(m,u);if(typeof f!="function"||!m)return;const h=g=>{ak(g)&&(f(g),m.removeEventListener("pointerleave",h))};m.addEventListener("pointerleave",h,s)};return r.forEach(u=>{u.addEventListener("pointerenter",c,s)}),l}const eM=(e,t)=>t?e===t?!0:eM(e,t.parentElement):!1,y2=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1,pq=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xq(e){return pq.has(e.tagName)||e.tabIndex!==-1}const Y0=new WeakSet;function rk(e){return t=>{t.key==="Enter"&&e(t)}}function _v(e,t){e.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const gq=(e,t)=>{const a=e.currentTarget;if(!a)return;const r=rk(()=>{if(Y0.has(a))return;_v(a,"down");const s=rk(()=>{_v(a,"up")}),l=()=>_v(a,"cancel");a.addEventListener("keyup",s,t),a.addEventListener("blur",l,t)});a.addEventListener("keydown",r,t),a.addEventListener("blur",()=>a.removeEventListener("keydown",r),t)};function sk(e){return y2(e)&&!QO()}function bq(e,t,a={}){const[r,s,l]=JO(e,a),c=u=>{const m=u.currentTarget;if(!sk(u))return;Y0.add(m);const f=t(m,u),h=(y,j)=>{window.removeEventListener("pointerup",g),window.removeEventListener("pointercancel",b),Y0.has(m)&&Y0.delete(m),sk(y)&&typeof f=="function"&&f(y,{success:j})},g=y=>{h(y,m===window||m===document||a.useGlobalTarget||eM(m,y.target))},b=y=>{h(y,!1)};window.addEventListener("pointerup",g,s),window.addEventListener("pointercancel",b,s)};return r.forEach(u=>{(a.useGlobalTarget?window:u).addEventListener("pointerdown",c,s),ZO(u)&&(u.addEventListener("focus",f=>gq(f,s)),!xq(u)&&!u.hasAttribute("tabindex")&&(u.tabIndex=0))}),l}function j2(e){return lO(e)&&"ownerSVGElement"in e}function tM(e){return j2(e)&&e.tagName==="svg"}function vq(...e){const t=!Array.isArray(e[0]),a=t?0:-1,r=e[0+a],s=e[1+a],l=e[2+a],c=e[3+a],u=DO(s,l,c);return t?u(r):u}const Jn=e=>!!(e&&e.getVelocity),yq=[...KO,On,Cl],jq=e=>yq.find(qO(e)),mx=x.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"});class wq extends x.Component{getSnapshotBeforeUpdate(t){const a=this.props.childRef.current;if(a&&t.isPresent&&!this.props.isPresent){const r=a.offsetParent,s=ZO(r)&&r.offsetWidth||0,l=this.props.sizeRef.current;l.height=a.offsetHeight||0,l.width=a.offsetWidth||0,l.top=a.offsetTop,l.left=a.offsetLeft,l.right=s-l.width-l.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Nq({children:e,isPresent:t,anchorX:a,root:r}){const s=x.useId(),l=x.useRef(null),c=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:u}=x.useContext(mx);return x.useInsertionEffect(()=>{const{width:m,height:f,top:h,left:g,right:b}=c.current;if(t||!l.current||!m||!f)return;const y=a==="left"?`left: ${g}`:`right: ${b}`;l.current.dataset.motionPopId=s;const j=document.createElement("style");u&&(j.nonce=u);const w=r??document.head;return w.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${m}px !important;
            height: ${f}px !important;
            ${y}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(j)&&w.removeChild(j)}},[t]),n.jsx(wq,{isPresent:t,childRef:l,sizeRef:c,children:x.cloneElement(e,{ref:l})})}const Sq=({children:e,initial:t,isPresent:a,onExitComplete:r,custom:s,presenceAffectsLayout:l,mode:c,anchorX:u,root:m})=>{const f=ff(_q),h=x.useId();let g=!0,b=x.useMemo(()=>(g=!1,{id:h,initial:t,isPresent:a,custom:s,onExitComplete:y=>{f.set(y,!0);for(const j of f.values())if(!j)return;r&&r()},register:y=>(f.set(y,!1),()=>f.delete(y))}),[a,f,r]);return l&&g&&(b={...b}),x.useMemo(()=>{f.forEach((y,j)=>f.set(j,!1))},[a]),x.useEffect(()=>{!a&&!f.size&&r&&r()},[a]),c==="popLayout"&&(e=n.jsx(Nq,{isPresent:a,anchorX:u,root:m,children:e})),n.jsx(dx.Provider,{value:b,children:e})};function _q(){return new Map}function nM(e=!0){const t=x.useContext(dx);if(t===null)return[!0,null];const{isPresent:a,onExitComplete:r,register:s}=t,l=x.useId();x.useEffect(()=>{if(e)return s(l)},[e]);const c=x.useCallback(()=>e&&r&&r(l),[l,r,e]);return!a&&r?[!1,c]:[!0]}const Wh=e=>e.key||"";function ik(e){const t=[];return x.Children.forEach(e,a=>{x.isValidElement(a)&&t.push(a)}),t}const It=({children:e,custom:t,initial:a=!0,onExitComplete:r,presenceAffectsLayout:s=!0,mode:l="sync",propagate:c=!1,anchorX:u="left",root:m})=>{const[f,h]=nM(c),g=x.useMemo(()=>ik(e),[e]),b=c&&!f?[]:g.map(Wh),y=x.useRef(!0),j=x.useRef(g),w=ff(()=>new Map),[S,k]=x.useState(g),[_,C]=x.useState(g);Jw(()=>{y.current=!1,j.current=g;for(let E=0;E<_.length;E++){const $=Wh(_[E]);b.includes($)?w.delete($):w.get($)!==!0&&w.set($,!1)}},[_,b.length,b.join("-")]);const P=[];if(g!==S){let E=[...g];for(let $=0;$<_.length;$++){const M=_[$],F=Wh(M);b.includes(F)||(E.splice($,0,M),P.push(M))}return l==="wait"&&P.length&&(E=P),C(ik(E)),k(g),null}const{forceRender:T}=x.useContext(Zw);return n.jsx(n.Fragment,{children:_.map(E=>{const $=Wh(E),M=c&&!f?!1:g===_||b.includes($),F=()=>{if(w.has($))w.set($,!0);else return;let K=!0;w.forEach(z=>{z||(K=!1)}),K&&(T==null||T(),C(j.current),c&&(h==null||h()),r&&r())};return n.jsx(Sq,{isPresent:M,initial:!y.current||a?void 0:!1,custom:t,presenceAffectsLayout:s,mode:l,root:m,onExitComplete:M?void 0:F,anchorX:u,children:E},$)})})},aM=x.createContext({strict:!1}),lk={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},bd={};for(const e in lk)bd[e]={isEnabled:t=>lk[e].some(a=>!!t[a])};function kq(e){for(const t in e)bd[t]={...bd[t],...e[t]}}const Cq=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mp(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||Cq.has(e)}let rM=e=>!mp(e);function Aq(e){typeof e=="function"&&(rM=t=>t.startsWith("on")?!mp(t):e(t))}try{Aq(require("@emotion/is-prop-valid").default)}catch{}function Tq(e,t,a){const r={};for(const s in e)s==="values"&&typeof e.values=="object"||(rM(s)||a===!0&&mp(s)||!t&&!mp(s)||e.draggable&&s.startsWith("onDrag"))&&(r[s]=e[s]);return r}const fx=x.createContext({});function hx(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}function Fm(e){return typeof e=="string"||Array.isArray(e)}const w2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],N2=["initial",...w2];function px(e){return hx(e.animate)||N2.some(t=>Fm(e[t]))}function sM(e){return!!(px(e)||e.variants)}function Eq(e,t){if(px(e)){const{initial:a,animate:r}=e;return{initial:a===!1||Fm(a)?a:void 0,animate:Fm(r)?r:void 0}}return e.inherit!==!1?t:{}}function Pq(e){const{initial:t,animate:a}=Eq(e,x.useContext(fx));return x.useMemo(()=>({initial:t,animate:a}),[ok(t),ok(a)])}function ok(e){return Array.isArray(e)?e.join(" "):e}const Vm={};function Oq(e){for(const t in e)Vm[t]=e[t],i2(t)&&(Vm[t].isCSSVariable=!0)}function iM(e,{layout:t,layoutId:a}){return Id.has(e)||e.startsWith("origin")||(t||a!==void 0)&&(!!Vm[e]||e==="opacity")}const Mq={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dq=$d.length;function Rq(e,t,a){let r="",s=!0;for(let l=0;l<Dq;l++){const c=$d[l],u=e[c];if(u===void 0)continue;let m=!0;if(typeof u=="number"?m=u===(c.startsWith("scale")?1:0):m=parseFloat(u)===0,!m||a){const f=XO(u,b2[c]);if(!m){s=!1;const h=Mq[c]||c;r+=`${h}(${f}) `}a&&(t[c]=f)}}return r=r.trim(),a?r=a(t,s?"":r):s&&(r="none"),r}function S2(e,t,a){const{style:r,vars:s,transformOrigin:l}=e;let c=!1,u=!1;for(const m in t){const f=t[m];if(Id.has(m)){c=!0;continue}else if(i2(m)){s[m]=f;continue}else{const h=XO(f,b2[m]);m.startsWith("origin")?(u=!0,l[m]=h):r[m]=h}}if(t.transform||(c||a?r.transform=Rq(t,e.transform,a):r.transform&&(r.transform="none")),u){const{originX:m="50%",originY:f="50%",originZ:h=0}=l;r.transformOrigin=`${m} ${f} ${h}`}}const _2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lM(e,t,a){for(const r in t)!Jn(t[r])&&!iM(r,a)&&(e[r]=t[r])}function Lq({transformTemplate:e},t){return x.useMemo(()=>{const a=_2();return S2(a,t,e),Object.assign({},a.vars,a.style)},[t])}function $q(e,t){const a=e.style||{},r={};return lM(r,a,e),Object.assign(r,Lq(e,t)),r}function Iq(e,t){const a={},r=$q(e,t);return e.drag&&e.dragListener!==!1&&(a.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(a.tabIndex=0),a.style=r,a}const Bq={offset:"stroke-dashoffset",array:"stroke-dasharray"},zq={offset:"strokeDashoffset",array:"strokeDasharray"};function Uq(e,t,a=1,r=0,s=!0){e.pathLength=1;const l=s?Bq:zq;e[l.offset]=mt.transform(-r);const c=mt.transform(t),u=mt.transform(a);e[l.array]=`${c} ${u}`}function oM(e,{attrX:t,attrY:a,attrScale:r,pathLength:s,pathSpacing:l=1,pathOffset:c=0,...u},m,f,h){if(S2(e,u,f),m){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:g,style:b}=e;g.transform&&(b.transform=g.transform,delete g.transform),(b.transform||g.transformOrigin)&&(b.transformOrigin=g.transformOrigin??"50% 50%",delete g.transformOrigin),b.transform&&(b.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete g.transformBox),t!==void 0&&(g.x=t),a!==void 0&&(g.y=a),r!==void 0&&(g.scale=r),s!==void 0&&Uq(g,s,l,c,!1)}const cM=()=>({..._2(),attrs:{}}),dM=e=>typeof e=="string"&&e.toLowerCase()==="svg";function Fq(e,t,a,r){const s=x.useMemo(()=>{const l=cM();return oM(l,t,dM(r),e.transformTemplate,e.style),{...l.attrs,style:{...l.style}}},[t]);if(e.style){const l={};lM(l,e.style,e),s.style={...l,...s.style}}return s}const Vq=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function k2(e){return typeof e!="string"||e.includes("-")?!1:!!(Vq.indexOf(e)>-1||/[A-Z]/u.test(e))}function Hq(e,t,a,{latestValues:r},s,l=!1){const u=(k2(e)?Fq:Iq)(t,r,s,e),m=Tq(t,typeof e=="string",l),f=e!==x.Fragment?{...m,...u,ref:a}:{},{children:h}=t,g=x.useMemo(()=>Jn(h)?h.get():h,[h]);return x.createElement(e,{...f,children:g})}function ck(e){const t=[{},{}];return e==null||e.values.forEach((a,r)=>{t[0][r]=a.get(),t[1][r]=a.getVelocity()}),t}function C2(e,t,a,r){if(typeof t=="function"){const[s,l]=ck(r);t=t(a!==void 0?a:e.custom,s,l)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[s,l]=ck(r);t=t(a!==void 0?a:e.custom,s,l)}return t}function W0(e){return Jn(e)?e.get():e}function qq({scrapeMotionValuesFromProps:e,createRenderState:t},a,r,s){return{latestValues:Kq(a,r,s,e),renderState:t()}}function Kq(e,t,a,r){const s={},l=r(e,{});for(const b in l)s[b]=W0(l[b]);let{initial:c,animate:u}=e;const m=px(e),f=sM(e);t&&f&&!m&&e.inherit!==!1&&(c===void 0&&(c=t.initial),u===void 0&&(u=t.animate));let h=a?a.initial===!1:!1;h=h||c===!1;const g=h?u:c;if(g&&typeof g!="boolean"&&!hx(g)){const b=Array.isArray(g)?g:[g];for(let y=0;y<b.length;y++){const j=C2(e,b[y]);if(j){const{transitionEnd:w,transition:S,...k}=j;for(const _ in k){let C=k[_];if(Array.isArray(C)){const P=h?C.length-1:0;C=C[P]}C!==null&&(s[_]=C)}for(const _ in w)s[_]=w[_]}}}return s}const uM=e=>(t,a)=>{const r=x.useContext(fx),s=x.useContext(dx),l=()=>qq(e,t,r,s);return a?l():ff(l)};function A2(e,t,a){var l;const{style:r}=e,s={};for(const c in r)(Jn(r[c])||t.style&&Jn(t.style[c])||iM(c,e)||((l=a==null?void 0:a.getValue(c))==null?void 0:l.liveStyle)!==void 0)&&(s[c]=r[c]);return s}const Gq=uM({scrapeMotionValuesFromProps:A2,createRenderState:_2});function mM(e,t,a){const r=A2(e,t,a);for(const s in e)if(Jn(e[s])||Jn(t[s])){const l=$d.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[l]=e[s]}return r}const Yq=uM({scrapeMotionValuesFromProps:mM,createRenderState:cM}),Wq=Symbol.for("motionComponentSymbol");function Jc(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Xq(e,t,a){return x.useCallback(r=>{r&&e.onMount&&e.onMount(r),t&&(r?t.mount(r):t.unmount()),a&&(typeof a=="function"?a(r):Jc(a)&&(a.current=r))},[t])}const T2=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zq="framerAppearId",fM="data-"+T2(Zq),hM=x.createContext({});function Qq(e,t,a,r,s){var w,S;const{visualElement:l}=x.useContext(fx),c=x.useContext(aM),u=x.useContext(dx),m=x.useContext(mx).reducedMotion,f=x.useRef(null);r=r||c.renderer,!f.current&&r&&(f.current=r(e,{visualState:t,parent:l,props:a,presenceContext:u,blockInitialAnimation:u?u.initial===!1:!1,reducedMotionConfig:m}));const h=f.current,g=x.useContext(hM);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&Jq(f.current,a,s,g);const b=x.useRef(!1);x.useInsertionEffect(()=>{h&&b.current&&h.update(a,u)});const y=a[fM],j=x.useRef(!!y&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,y))&&((S=window.MotionHasOptimisedAnimation)==null?void 0:S.call(window,y)));return Jw(()=>{h&&(b.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),j.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!j.current&&h.animationState&&h.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{var k;(k=window.MotionHandoffMarkAsComplete)==null||k.call(window,y)}),j.current=!1),h.enteringChildren=void 0)}),h}function Jq(e,t,a,r){const{layoutId:s,layout:l,drag:c,dragConstraints:u,layoutScroll:m,layoutRoot:f,layoutCrossfade:h}=t;e.projection=new a(e.latestValues,t["data-framer-portal-id"]?void 0:pM(e.parent)),e.projection.setOptions({layoutId:s,layout:l,alwaysMeasureLayout:!!c||u&&Jc(u),visualElement:e,animationType:typeof l=="string"?l:"both",initialPromotionConfig:r,crossfade:h,layoutScroll:m,layoutRoot:f})}function pM(e){if(e)return e.options.allowProjection!==!1?e.projection:pM(e.parent)}function kv(e,{forwardMotionProps:t=!1}={},a,r){a&&kq(a);const s=k2(e)?Yq:Gq;function l(u,m){let f;const h={...x.useContext(mx),...u,layoutId:eK(u)},{isStatic:g}=h,b=Pq(u),y=s(u,g);if(!g&&Qw){tK();const j=nK(h);f=j.MeasureLayout,b.visualElement=Qq(e,y,h,r,j.ProjectionNode)}return n.jsxs(fx.Provider,{value:b,children:[f&&b.visualElement?n.jsx(f,{visualElement:b.visualElement,...h}):null,Hq(e,u,Xq(y,b.visualElement,m),y,g,t)]})}l.displayName=`motion.${typeof e=="string"?e:`create(${e.displayName??e.name??""})`}`;const c=x.forwardRef(l);return c[Wq]=e,c}function eK({layoutId:e}){const t=x.useContext(Zw).id;return t&&e!==void 0?t+"-"+e:e}function tK(e,t){x.useContext(aM).strict}function nK(e){const{drag:t,layout:a}=bd;if(!t&&!a)return{};const r={...t,...a};return{MeasureLayout:t!=null&&t.isEnabled(e)||a!=null&&a.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function aK(e,t){if(typeof Proxy>"u")return kv;const a=new Map,r=(l,c)=>kv(l,c,e,t),s=(l,c)=>r(l,c);return new Proxy(s,{get:(l,c)=>c==="create"?r:(a.has(c)||a.set(c,kv(c,void 0,e,t)),a.get(c))})}function xM({top:e,left:t,right:a,bottom:r}){return{x:{min:t,max:a},y:{min:e,max:r}}}function rK({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function sK(e,t){if(!t)return e;const a=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:a.y,left:a.x,bottom:r.y,right:r.x}}function Cv(e){return e===void 0||e===1}function _j({scale:e,scaleX:t,scaleY:a}){return!Cv(e)||!Cv(t)||!Cv(a)}function go(e){return _j(e)||gM(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function gM(e){return dk(e.x)||dk(e.y)}function dk(e){return e&&e!=="0%"}function fp(e,t,a){const r=e-a,s=t*r;return a+s}function uk(e,t,a,r,s){return s!==void 0&&(e=fp(e,s,r)),fp(e,a,r)+t}function kj(e,t=0,a=1,r,s){e.min=uk(e.min,t,a,r,s),e.max=uk(e.max,t,a,r,s)}function bM(e,{x:t,y:a}){kj(e.x,t.translate,t.scale,t.originPoint),kj(e.y,a.translate,a.scale,a.originPoint)}const mk=.999999999999,fk=1.0000000000001;function iK(e,t,a,r=!1){const s=a.length;if(!s)return;t.x=t.y=1;let l,c;for(let u=0;u<s;u++){l=a[u],c=l.projectionDelta;const{visualElement:m}=l.options;m&&m.props.style&&m.props.style.display==="contents"||(r&&l.options.layoutScroll&&l.scroll&&l!==l.root&&td(e,{x:-l.scroll.offset.x,y:-l.scroll.offset.y}),c&&(t.x*=c.x.scale,t.y*=c.y.scale,bM(e,c)),r&&go(l.latestValues)&&td(e,l.latestValues))}t.x<fk&&t.x>mk&&(t.x=1),t.y<fk&&t.y>mk&&(t.y=1)}function ed(e,t){e.min=e.min+t,e.max=e.max+t}function hk(e,t,a,r,s=.5){const l=ln(e.min,e.max,s);kj(e,t,a,l,r)}function td(e,t){hk(e.x,t.x,t.scaleX,t.scale,t.originX),hk(e.y,t.y,t.scaleY,t.scale,t.originY)}function vM(e,t){return xM(sK(e.getBoundingClientRect(),t))}function lK(e,t,a){const r=vM(e,a),{scroll:s}=t;return s&&(ed(r.x,s.offset.x),ed(r.y,s.offset.y)),r}const pk=()=>({translate:0,scale:1,origin:0,originPoint:0}),nd=()=>({x:pk(),y:pk()}),xk=()=>({min:0,max:0}),vn=()=>({x:xk(),y:xk()}),Cj={current:null},yM={current:!1};function oK(){if(yM.current=!0,!!Qw)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Cj.current=e.matches;e.addEventListener("change",t),t()}else Cj.current=!1}const Hm=new WeakMap;function cK(e,t,a){for(const r in t){const s=t[r],l=a[r];if(Jn(s))e.addValue(r,s);else if(Jn(l))e.addValue(r,Uo(s,{owner:e}));else if(l!==s)if(e.hasValue(r)){const c=e.getValue(r);c.liveStyle===!0?c.jump(s):c.hasAnimated||c.set(s)}else{const c=e.getStaticValue(r);e.addValue(r,Uo(c!==void 0?c:s,{owner:e}))}}for(const r in a)t[r]===void 0&&e.removeValue(r);return t}const gk=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class jM{scrapeMotionValuesFromProps(t,a,r){return{}}constructor({parent:t,props:a,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:l,visualState:c},u={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=p2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const b=Fa.now();this.renderScheduledAt<b&&(this.renderScheduledAt=b,nn.render(this.render,!1,!0))};const{latestValues:m,renderState:f}=c;this.latestValues=m,this.baseTarget={...m},this.initialValues=a.initial?{...m}:{},this.renderState=f,this.parent=t,this.props=a,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=s,this.options=u,this.blockInitialAnimation=!!l,this.isControllingVariants=px(a),this.isVariantNode=sM(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...g}=this.scrapeMotionValuesFromProps(a,{},this);for(const b in g){const y=g[b];m[b]!==void 0&&Jn(y)&&y.set(m[b])}}mount(t){var a;this.current=t,Hm.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,s)=>this.bindToMotionValue(s,r)),yM.current||oK(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Cj.current,(a=this.parent)==null||a.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var t;this.projection&&this.projection.unmount(),wi(this.notifyUpdate),wi(this.render),this.valueSubscriptions.forEach(a=>a()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(t=this.parent)==null||t.removeChild(this);for(const a in this.events)this.events[a].clear();for(const a in this.features){const r=this.features[a];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(t){this.children.add(t),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(t)}removeChild(t){this.children.delete(t),this.enteringChildren&&this.enteringChildren.delete(t)}bindToMotionValue(t,a){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=Id.has(t);r&&this.onBindTransform&&this.onBindTransform();const s=a.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&nn.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,a)),this.valueSubscriptions.set(t,()=>{s(),l&&l(),a.owner&&a.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in bd){const a=bd[t];if(!a)continue;const{isEnabled:r,Feature:s}=a;if(!this.features[t]&&s&&r(this.props)&&(this.features[t]=new s(this)),this.features[t]){const l=this.features[t];l.isMounted?l.update():(l.mount(),l.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):vn()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,a){this.latestValues[t]=a}update(t,a){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let r=0;r<gk.length;r++){const s=gk[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const l="on"+s,c=t[l];c&&(this.propEventSubscriptions[s]=this.on(s,c))}this.prevMotionValues=cK(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(t),()=>a.variantChildren.delete(t)}addValue(t,a){const r=this.values.get(t);a!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,a),this.values.set(t,a),this.latestValues[t]=a.get())}removeValue(t){this.values.delete(t);const a=this.valueSubscriptions.get(t);a&&(a(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,a){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&a!==void 0&&(r=Uo(a===null?void 0:a,{owner:this}),this.addValue(t,r)),r}readValue(t,a){let r=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:this.getBaseTargetFromProps(this.props,t)??this.readValueFromInstance(this.current,t,this.options);return r!=null&&(typeof r=="string"&&(iO(r)||oO(r))?r=parseFloat(r):!jq(r)&&Cl.test(a)&&(r=YO(t,a)),this.setBaseTarget(t,Jn(r)?r.get():r)),Jn(r)?r.get():r}setBaseTarget(t,a){this.baseTarget[t]=a}getBaseTarget(t){var l;const{initial:a}=this.props;let r;if(typeof a=="string"||typeof a=="object"){const c=C2(this.props,a,(l=this.presenceContext)==null?void 0:l.custom);c&&(r=c[t])}if(a&&r!==void 0)return r;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Jn(s)?s:this.initialValues[t]!==void 0&&r===void 0?void 0:this.baseTarget[t]}on(t,a){return this.events[t]||(this.events[t]=new a2),this.events[t].add(a)}notify(t,...a){this.events[t]&&this.events[t].notify(...a)}scheduleRenderMicrotask(){v2.render(this.render)}}class wM extends jM{constructor(){super(...arguments),this.KeyframeResolver=dq}sortInstanceNodePosition(t,a){return t.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(t,a){return t.style?t.style[a]:void 0}removeValueFromRenderState(t,{vars:a,style:r}){delete a[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Jn(t)&&(this.childSubscription=t.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function NM(e,{style:t,vars:a},r,s){const l=e.style;let c;for(c in t)l[c]=t[c];s==null||s.applyProjectionStyles(l,r);for(c in a)l.setProperty(c,a[c])}function dK(e){return window.getComputedStyle(e)}class SM extends wM{constructor(){super(...arguments),this.type="html",this.renderInstance=NM}readValueFromInstance(t,a){var r;if(Id.has(a))return(r=this.projection)!=null&&r.isProjecting?bj(a):CH(t,a);{const s=dK(t),l=(i2(a)?s.getPropertyValue(a):s[a])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(t,{transformPagePoint:a}){return vM(t,a)}build(t,a,r){S2(t,a,r.transformTemplate)}scrapeMotionValuesFromProps(t,a,r){return A2(t,a,r)}}const _M=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function uK(e,t,a,r){NM(e,t,void 0,r);for(const s in t.attrs)e.setAttribute(_M.has(s)?s:T2(s),t.attrs[s])}class kM extends wM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=vn}getBaseTargetFromProps(t,a){return t[a]}readValueFromInstance(t,a){if(Id.has(a)){const r=GO(a);return r&&r.default||0}return a=_M.has(a)?a:T2(a),t.getAttribute(a)}scrapeMotionValuesFromProps(t,a,r){return mM(t,a,r)}build(t,a,r){oM(t,a,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(t,a,r,s){uK(t,a,r,s)}mount(t){this.isSVGTag=dM(t.tagName),super.mount(t)}}const mK=(e,t)=>k2(e)?new kM(t):new SM(t,{allowProjection:e!==x.Fragment});function ld(e,t,a){const r=e.getProps();return C2(r,t,a!==void 0?a:r.custom,e)}const Aj=e=>Array.isArray(e);function fK(e,t,a){e.hasValue(t)?e.getValue(t).set(a):e.addValue(t,Uo(a))}function hK(e){return Aj(e)?e[e.length-1]||0:e}function pK(e,t){const a=ld(e,t);let{transitionEnd:r={},transition:s={},...l}=a||{};l={...l,...r};for(const c in l){const u=hK(l[c]);fK(e,c,u)}}function xK(e){return!!(Jn(e)&&e.add)}function Tj(e,t){const a=e.getValue("willChange");if(xK(a))return a.add(t);if(!a&&ji.WillChange){const r=new ji.WillChange("auto");e.addValue("willChange",r),r.add(t)}}function CM(e){return e.props[fM]}const gK=e=>e!==null;function bK(e,{repeat:t,repeatType:a="loop"},r){const s=e.filter(gK),l=t&&a!=="loop"&&t%2===1?0:s.length-1;return s[l]}const vK={type:"spring",stiffness:500,damping:25,restSpeed:10},yK=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),jK={type:"keyframes",duration:.8},wK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},NK=(e,{keyframes:t})=>t.length>2?jK:Id.has(e)?e.startsWith("scale")?yK(t[1]):vK:wK;function SK({when:e,delay:t,delayChildren:a,staggerChildren:r,staggerDirection:s,repeat:l,repeatType:c,repeatDelay:u,from:m,elapsed:f,...h}){return!!Object.keys(h).length}const E2=(e,t,a,r={},s,l)=>c=>{const u=g2(r,e)||{},m=u.delay||r.delay||0;let{elapsed:f=0}=r;f=f-is(m);const h={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:t.getVelocity(),...u,delay:-f,onUpdate:b=>{t.set(b),u.onUpdate&&u.onUpdate(b)},onComplete:()=>{c(),u.onComplete&&u.onComplete()},name:e,motionValue:t,element:l?void 0:s};SK(u)||Object.assign(h,NK(e,h)),h.duration&&(h.duration=is(h.duration)),h.repeatDelay&&(h.repeatDelay=is(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let g=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(Nj(h),h.delay===0&&(g=!0)),(ji.instantAnimations||ji.skipAnimations)&&(g=!0,Nj(h),h.delay=0),h.allowFlatten=!u.type&&!u.ease,g&&!l&&t.get()!==void 0){const b=bK(h.keyframes,u);if(b!==void 0){nn.update(()=>{h.onUpdate(b),h.onComplete()});return}}return u.isSync?new h2(h):new XH(h)};function _K({protectedKeys:e,needsAnimating:t},a){const r=e.hasOwnProperty(a)&&t[a]!==!0;return t[a]=!1,r}function P2(e,t,{delay:a=0,transitionOverride:r,type:s}={}){let{transition:l=e.getDefaultTransition(),transitionEnd:c,...u}=t;r&&(l=r);const m=[],f=s&&e.animationState&&e.animationState.getState()[s];for(const h in u){const g=e.getValue(h,e.latestValues[h]??null),b=u[h];if(b===void 0||f&&_K(f,h))continue;const y={delay:a,...g2(l||{},h)},j=g.get();if(j!==void 0&&!g.isAnimating&&!Array.isArray(b)&&b===j&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const k=CM(e);if(k){const _=window.MotionHandoffAnimation(k,h,nn);_!==null&&(y.startTime=_,w=!0)}}Tj(e,h),g.start(E2(h,g,b,e.shouldReduceMotion&&HO.has(h)?{type:!1}:y,e,w));const S=g.animation;S&&m.push(S)}return c&&Promise.all(m).then(()=>{nn.update(()=>{c&&pK(e,c)})}),m}function AM(e,t,a,r=0,s=1){const l=Array.from(e).sort((f,h)=>f.sortNodePosition(h)).indexOf(t),c=e.size,u=(c-1)*r;return typeof a=="function"?a(l,c):s===1?l*r:u-l*r}function Ej(e,t,a={}){var m;const r=ld(e,t,a.type==="exit"?(m=e.presenceContext)==null?void 0:m.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=r||{};a.transitionOverride&&(s=a.transitionOverride);const l=r?()=>Promise.all(P2(e,r,a)):()=>Promise.resolve(),c=e.variantChildren&&e.variantChildren.size?(f=0)=>{const{delayChildren:h=0,staggerChildren:g,staggerDirection:b}=s;return kK(e,t,f,h,g,b,a)}:()=>Promise.resolve(),{when:u}=s;if(u){const[f,h]=u==="beforeChildren"?[l,c]:[c,l];return f().then(()=>h())}else return Promise.all([l(),c(a.delay)])}function kK(e,t,a=0,r=0,s=0,l=1,c){const u=[];for(const m of e.variantChildren)m.notify("AnimationStart",t),u.push(Ej(m,t,{...c,delay:a+(typeof r=="function"?0:r)+AM(e.variantChildren,m,r,s,l)}).then(()=>m.notify("AnimationComplete",t)));return Promise.all(u)}function CK(e,t,a={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const s=t.map(l=>Ej(e,l,a));r=Promise.all(s)}else if(typeof t=="string")r=Ej(e,t,a);else{const s=typeof t=="function"?ld(e,t,a.custom):t;r=Promise.all(P2(e,s,a))}return r.then(()=>{e.notify("AnimationComplete",t)})}function TM(e,t){if(!Array.isArray(t))return!1;const a=t.length;if(a!==e.length)return!1;for(let r=0;r<a;r++)if(t[r]!==e[r])return!1;return!0}const AK=N2.length;function EM(e){if(!e)return;if(!e.isControllingVariants){const a=e.parent?EM(e.parent)||{}:{};return e.props.initial!==void 0&&(a.initial=e.props.initial),a}const t={};for(let a=0;a<AK;a++){const r=N2[a],s=e.props[r];(Fm(s)||s===!1)&&(t[r]=s)}return t}const TK=[...w2].reverse(),EK=w2.length;function PK(e){return t=>Promise.all(t.map(({animation:a,options:r})=>CK(e,a,r)))}function OK(e){let t=PK(e),a=bk(),r=!0;const s=m=>(f,h)=>{var b;const g=ld(e,h,m==="exit"?(b=e.presenceContext)==null?void 0:b.custom:void 0);if(g){const{transition:y,transitionEnd:j,...w}=g;f={...f,...w,...j}}return f};function l(m){t=m(e)}function c(m){const{props:f}=e,h=EM(e.parent)||{},g=[],b=new Set;let y={},j=1/0;for(let S=0;S<EK;S++){const k=TK[S],_=a[k],C=f[k]!==void 0?f[k]:h[k],P=Fm(C),T=k===m?_.isActive:null;T===!1&&(j=S);let E=C===h[k]&&C!==f[k]&&P;if(E&&r&&e.manuallyAnimateOnMount&&(E=!1),_.protectedKeys={...y},!_.isActive&&T===null||!C&&!_.prevProp||hx(C)||typeof C=="boolean")continue;const $=MK(_.prevProp,C);let M=$||k===m&&_.isActive&&!E&&P||S>j&&P,F=!1;const K=Array.isArray(C)?C:[C];let z=K.reduce(s(k),{});T===!1&&(z={});const{prevResolvedValues:U={}}=_,ae={...U,...z},ke=H=>{M=!0,b.has(H)&&(F=!0,b.delete(H)),_.needsAnimating[H]=!0;const G=e.getValue(H);G&&(G.liveStyle=!1)};for(const H in ae){const G=z[H],B=U[H];if(y.hasOwnProperty(H))continue;let A=!1;Aj(G)&&Aj(B)?A=!TM(G,B):A=G!==B,A?G!=null?ke(H):b.add(H):G!==void 0&&b.has(H)?ke(H):_.protectedKeys[H]=!0}_.prevProp=C,_.prevResolvedValues=z,_.isActive&&(y={...y,...z}),r&&e.blockInitialAnimation&&(M=!1);const se=E&&$;M&&(!se||F)&&g.push(...K.map(H=>{const G={type:k};if(typeof H=="string"&&r&&!se&&e.manuallyAnimateOnMount&&e.parent){const{parent:B}=e,A=ld(B,H);if(B.enteringChildren&&A){const{delayChildren:L}=A.transition||{};G.delay=AM(B.enteringChildren,e,L)}}return{animation:H,options:G}}))}if(b.size){const S={};if(typeof f.initial!="boolean"){const k=ld(e,Array.isArray(f.initial)?f.initial[0]:f.initial);k&&k.transition&&(S.transition=k.transition)}b.forEach(k=>{const _=e.getBaseTarget(k),C=e.getValue(k);C&&(C.liveStyle=!0),S[k]=_??null}),g.push({animation:S})}let w=!!g.length;return r&&(f.initial===!1||f.initial===f.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(g):Promise.resolve()}function u(m,f){var g;if(a[m].isActive===f)return Promise.resolve();(g=e.variantChildren)==null||g.forEach(b=>{var y;return(y=b.animationState)==null?void 0:y.setActive(m,f)}),a[m].isActive=f;const h=c(m);for(const b in a)a[b].protectedKeys={};return h}return{animateChanges:c,setActive:u,setAnimateFunction:l,getState:()=>a,reset:()=>{a=bk(),r=!0}}}function MK(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!TM(t,e):!1}function so(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function bk(){return{animate:so(!0),whileInView:so(),whileHover:so(),whileTap:so(),whileDrag:so(),whileFocus:so(),exit:so()}}class Ol{constructor(t){this.isMounted=!1,this.node=t}update(){}}class DK extends Ol{constructor(t){super(t),t.animationState||(t.animationState=OK(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();hx(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:a}=this.node.prevProps||{};t!==a&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)==null||t.call(this)}}let RK=0;class LK extends Ol{constructor(){super(...arguments),this.id=RK++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:a}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const s=this.node.animationState.setActive("exit",!t);a&&!t&&s.then(()=>{a(this.id)})}mount(){const{register:t,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),t&&(this.unmount=t(this.id))}unmount(){}}const $K={animation:{Feature:DK},exit:{Feature:LK}};function qm(e,t,a,r={passive:!0}){return e.addEventListener(t,a,r),()=>e.removeEventListener(t,a)}function gf(e){return{point:{x:e.pageX,y:e.pageY}}}const IK=e=>t=>y2(t)&&e(t,gf(t));function Cm(e,t,a,r){return qm(e,t,IK(a),r)}const PM=1e-4,BK=1-PM,zK=1+PM,OM=.01,UK=0-OM,FK=0+OM;function Aa(e){return e.max-e.min}function VK(e,t,a){return Math.abs(e-t)<=a}function vk(e,t,a,r=.5){e.origin=r,e.originPoint=ln(t.min,t.max,e.origin),e.scale=Aa(a)/Aa(t),e.translate=ln(a.min,a.max,e.origin)-e.originPoint,(e.scale>=BK&&e.scale<=zK||isNaN(e.scale))&&(e.scale=1),(e.translate>=UK&&e.translate<=FK||isNaN(e.translate))&&(e.translate=0)}function Am(e,t,a,r){vk(e.x,t.x,a.x,r?r.originX:void 0),vk(e.y,t.y,a.y,r?r.originY:void 0)}function yk(e,t,a){e.min=a.min+t.min,e.max=e.min+Aa(t)}function HK(e,t,a){yk(e.x,t.x,a.x),yk(e.y,t.y,a.y)}function jk(e,t,a){e.min=t.min-a.min,e.max=e.min+Aa(t)}function Tm(e,t,a){jk(e.x,t.x,a.x),jk(e.y,t.y,a.y)}function Mr(e){return[e("x"),e("y")]}const MM=({current:e})=>e?e.ownerDocument.defaultView:null,wk=(e,t)=>Math.abs(e-t);function qK(e,t){const a=wk(e.x,t.x),r=wk(e.y,t.y);return Math.sqrt(a**2+r**2)}class DM{constructor(t,a,{transformPagePoint:r,contextWindow:s=window,dragSnapToOrigin:l=!1,distanceThreshold:c=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=Tv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,j=qK(b.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!j)return;const{point:w}=b,{timestamp:S}=oa;this.history.push({...w,timestamp:S});const{onStart:k,onMove:_}=this.handlers;y||(k&&k(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,b)},this.handlePointerMove=(b,y)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=Av(y,this.transformPagePoint),nn.update(this.updatePoint,!0)},this.handlePointerUp=(b,y)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:S}=this.handlers;if(this.dragSnapToOrigin&&S&&S(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=Tv(b.type==="pointercancel"?this.lastMoveEventInfo:Av(y,this.transformPagePoint),this.history);this.startEvent&&j&&j(b,k),w&&w(b,k)},!y2(t))return;this.dragSnapToOrigin=l,this.handlers=a,this.transformPagePoint=r,this.distanceThreshold=c,this.contextWindow=s||window;const u=gf(t),m=Av(u,this.transformPagePoint),{point:f}=m,{timestamp:h}=oa;this.history=[{...f,timestamp:h}];const{onSessionStart:g}=a;g&&g(t,Tv(m,this.history)),this.removeListeners=hf(Cm(this.contextWindow,"pointermove",this.handlePointerMove),Cm(this.contextWindow,"pointerup",this.handlePointerUp),Cm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),wi(this.updatePoint)}}function Av(e,t){return t?{point:t(e.point)}:e}function Nk(e,t){return{x:e.x-t.x,y:e.y-t.y}}function Tv({point:e},t){return{point:e,delta:Nk(e,RM(t)),offset:Nk(e,KK(t)),velocity:GK(t,.1)}}function KK(e){return e[0]}function RM(e){return e[e.length-1]}function GK(e,t){if(e.length<2)return{x:0,y:0};let a=e.length-1,r=null;const s=RM(e);for(;a>=0&&(r=e[a],!(s.timestamp-r.timestamp>is(t)));)a--;if(!r)return{x:0,y:0};const l=Ts(s.timestamp-r.timestamp);if(l===0)return{x:0,y:0};const c={x:(s.x-r.x)/l,y:(s.y-r.y)/l};return c.x===1/0&&(c.x=0),c.y===1/0&&(c.y=0),c}function YK(e,{min:t,max:a},r){return t!==void 0&&e<t?e=r?ln(t,e,r.min):Math.max(e,t):a!==void 0&&e>a&&(e=r?ln(a,e,r.max):Math.min(e,a)),e}function Sk(e,t,a){return{min:t!==void 0?e.min+t:void 0,max:a!==void 0?e.max+a-(e.max-e.min):void 0}}function WK(e,{top:t,left:a,bottom:r,right:s}){return{x:Sk(e.x,a,s),y:Sk(e.y,t,r)}}function _k(e,t){let a=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([a,r]=[r,a]),{min:a,max:r}}function XK(e,t){return{x:_k(e.x,t.x),y:_k(e.y,t.y)}}function ZK(e,t){let a=.5;const r=Aa(e),s=Aa(t);return s>r?a=gd(t.min,t.max-r,e.min):r>s&&(a=gd(e.min,e.max-s,t.min)),yi(0,1,a)}function QK(e,t){const a={};return t.min!==void 0&&(a.min=t.min-e.min),t.max!==void 0&&(a.max=t.max-e.min),a}const Pj=.35;function JK(e=Pj){return e===!1?e=0:e===!0&&(e=Pj),{x:kk(e,"left","right"),y:kk(e,"top","bottom")}}function kk(e,t,a){return{min:Ck(e,t),max:Ck(e,a)}}function Ck(e,t){return typeof e=="number"?e:e[t]||0}const eG=new WeakMap;class tG{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=vn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=t}start(t,{snapToCursor:a=!1,distanceThreshold:r}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const l=g=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(gf(g).point)},c=(g,b)=>{const{drag:y,dragPropagation:j,onDragStart:w}=this.getProps();if(y&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=fq(y),!this.openDragLock))return;this.latestPointerEvent=g,this.latestPanInfo=b,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Mr(k=>{let _=this.getAxisMotionValue(k).get()||0;if(Es.test(_)){const{projection:C}=this.visualElement;if(C&&C.layout){const P=C.layout.layoutBox[k];P&&(_=Aa(P)*(parseFloat(_)/100))}}this.originPoint[k]=_}),w&&nn.postRender(()=>w(g,b)),Tj(this.visualElement,"transform");const{animationState:S}=this.visualElement;S&&S.setActive("whileDrag",!0)},u=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b;const{dragPropagation:y,dragDirectionLock:j,onDirectionLock:w,onDrag:S}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:k}=b;if(j&&this.currentDirection===null){this.currentDirection=nG(k),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,k),this.updateAxis("y",b.point,k),this.visualElement.render(),S&&S(g,b)},m=(g,b)=>{this.latestPointerEvent=g,this.latestPanInfo=b,this.stop(g,b),this.latestPointerEvent=null,this.latestPanInfo=null},f=()=>Mr(g=>{var b;return this.getAnimationState(g)==="paused"&&((b=this.getAxisMotionValue(g).animation)==null?void 0:b.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new DM(t,{onSessionStart:l,onStart:c,onMove:u,onSessionEnd:m,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:r,contextWindow:MM(this.visualElement)})}stop(t,a){const r=t||this.latestPointerEvent,s=a||this.latestPanInfo,l=this.isDragging;if(this.cancel(),!l||!s||!r)return;const{velocity:c}=s;this.startAnimation(c);const{onDragEnd:u}=this.getProps();u&&nn.postRender(()=>u(r,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:a}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(t,a,r){const{drag:s}=this.getProps();if(!r||!Xh(t,s,this.currentDirection))return;const l=this.getAxisMotionValue(t);let c=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(c=YK(c,this.constraints[t],this.elastic[t])),l.set(c)}resolveConstraints(){var l;const{dragConstraints:t,dragElastic:a}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(l=this.visualElement.projection)==null?void 0:l.layout,s=this.constraints;t&&Jc(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&r?this.constraints=WK(r.layoutBox,t):this.constraints=!1,this.elastic=JK(a),s!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Mr(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=QK(r.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:a}=this.getProps();if(!t||!Jc(t))return!1;const r=t.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const l=lK(r,s.root,this.visualElement.getTransformPagePoint());let c=XK(s.layout.layoutBox,l);if(a){const u=a(rK(c));this.hasMutatedConstraints=!!u,u&&(c=xM(u))}return c}startAnimation(t){const{drag:a,dragMomentum:r,dragElastic:s,dragTransition:l,dragSnapToOrigin:c,onDragTransitionEnd:u}=this.getProps(),m=this.constraints||{},f=Mr(h=>{if(!Xh(h,a,this.currentDirection))return;let g=m&&m[h]||{};c&&(g={min:0,max:0});const b=s?200:1e6,y=s?40:1e7,j={type:"inertia",velocity:r?t[h]:0,bounceStiffness:b,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...l,...g};return this.startAxisValueAnimation(h,j)});return Promise.all(f).then(u)}startAxisValueAnimation(t,a){const r=this.getAxisMotionValue(t);return Tj(this.visualElement,t),r.start(E2(t,r,0,a,this.visualElement,!1))}stopAnimation(){Mr(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){Mr(t=>{var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.pause()})}getAnimationState(t){var a;return(a=this.getAxisMotionValue(t).animation)==null?void 0:a.state}getAxisMotionValue(t){const a=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),s=r[a];return s||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){Mr(a=>{const{drag:r}=this.getProps();if(!Xh(a,r,this.currentDirection))return;const{projection:s}=this.visualElement,l=this.getAxisMotionValue(a);if(s&&s.layout){const{min:c,max:u}=s.layout.layoutBox[a];l.set(t[a]-ln(c,u,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:a}=this.getProps(),{projection:r}=this.visualElement;if(!Jc(a)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Mr(c=>{const u=this.getAxisMotionValue(c);if(u&&this.constraints!==!1){const m=u.get();s[c]=ZK({min:m,max:m},this.constraints[c])}});const{transformTemplate:l}=this.visualElement.getProps();this.visualElement.current.style.transform=l?l({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Mr(c=>{if(!Xh(c,t,null))return;const u=this.getAxisMotionValue(c),{min:m,max:f}=this.constraints[c];u.set(ln(m,f,s[c]))})}addListeners(){if(!this.visualElement.current)return;eG.set(this.visualElement,this);const t=this.visualElement.current,a=Cm(t,"pointerdown",m=>{const{drag:f,dragListener:h=!0}=this.getProps();f&&h&&this.start(m)}),r=()=>{const{dragConstraints:m}=this.getProps();Jc(m)&&m.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,l=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),nn.read(r);const c=qm(window,"resize",()=>this.scalePositionWithinConstraints()),u=s.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f})=>{this.isDragging&&f&&(Mr(h=>{const g=this.getAxisMotionValue(h);g&&(this.originPoint[h]+=m[h].translate,g.set(g.get()+m[h].translate))}),this.visualElement.render())});return()=>{c(),a(),l(),u&&u()}}getProps(){const t=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:l=!1,dragElastic:c=Pj,dragMomentum:u=!0}=t;return{...t,drag:a,dragDirectionLock:r,dragPropagation:s,dragConstraints:l,dragElastic:c,dragMomentum:u}}}function Xh(e,t,a){return(t===!0||t===e)&&(a===null||a===e)}function nG(e,t=10){let a=null;return Math.abs(e.y)>t?a="y":Math.abs(e.x)>t&&(a="x"),a}class aG extends Ol{constructor(t){super(t),this.removeGroupControls=$r,this.removeListeners=$r,this.controls=new tG(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$r}unmount(){this.removeGroupControls(),this.removeListeners()}}const Ak=e=>(t,a)=>{e&&nn.postRender(()=>e(t,a))};class rG extends Ol{constructor(){super(...arguments),this.removePointerDownListener=$r}onPointerDown(t){this.session=new DM(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:MM(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:a,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Ak(t),onStart:Ak(a),onMove:r,onEnd:(l,c)=>{delete this.session,s&&nn.postRender(()=>s(l,c))}}}mount(){this.removePointerDownListener=Cm(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const X0={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Tk(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Ku={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(mt.test(e))e=parseFloat(e);else return e;const a=Tk(e,t.target.x),r=Tk(e,t.target.y);return`${a}% ${r}%`}},sG={correct:(e,{treeScale:t,projectionDelta:a})=>{const r=e,s=Cl.parse(e);if(s.length>5)return r;const l=Cl.createTransformer(e),c=typeof s[0]!="number"?1:0,u=a.x.scale*t.x,m=a.y.scale*t.y;s[0+c]/=u,s[1+c]/=m;const f=ln(u,m,.5);return typeof s[2+c]=="number"&&(s[2+c]/=f),typeof s[3+c]=="number"&&(s[3+c]/=f),l(s)}};let Ev=!1;class iG extends x.Component{componentDidMount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r,layoutId:s}=this.props,{projection:l}=t;Oq(lG),l&&(a.group&&a.group.add(l),r&&r.register&&s&&r.register(l),Ev&&l.root.didUpdate(),l.addEventListener("animationComplete",()=>{this.safeToRemove()}),l.setOptions({...l.options,onExitComplete:()=>this.safeToRemove()})),X0.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:a,visualElement:r,drag:s,isPresent:l}=this.props,{projection:c}=r;return c&&(c.isPresent=l,Ev=!0,s||t.layoutDependency!==a||a===void 0||t.isPresent!==l?c.willUpdate():this.safeToRemove(),t.isPresent!==l&&(l?c.promote():c.relegate()||nn.postRender(()=>{const u=c.getStack();(!u||!u.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),v2.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:a,switchLayoutGroup:r}=this.props,{projection:s}=t;Ev=!0,s&&(s.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function LM(e){const[t,a]=nM(),r=x.useContext(Zw);return n.jsx(iG,{...e,layoutGroup:r,switchLayoutGroup:x.useContext(hM),isPresent:t,safeToRemove:a})}const lG={borderRadius:{...Ku,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ku,borderTopRightRadius:Ku,borderBottomLeftRadius:Ku,borderBottomRightRadius:Ku,boxShadow:sG};function $M(e,t,a){const r=Jn(e)?e:Uo(e);return r.start(E2("",r,t,a)),r.animation}const oG=(e,t)=>e.depth-t.depth;class cG{constructor(){this.children=[],this.isDirty=!1}add(t){e2(this.children,t),this.isDirty=!0}remove(t){ux(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(oG),this.isDirty=!1,this.children.forEach(t)}}function dG(e,t){const a=Fa.now(),r=({timestamp:s})=>{const l=s-a;l>=t&&(wi(r),e(l-t))};return nn.setup(r,!0),()=>wi(r)}const IM=["TopLeft","TopRight","BottomLeft","BottomRight"],uG=IM.length,Ek=e=>typeof e=="string"?parseFloat(e):e,Pk=e=>typeof e=="number"||mt.test(e);function mG(e,t,a,r,s,l){s?(e.opacity=ln(0,a.opacity??1,fG(r)),e.opacityExit=ln(t.opacity??1,0,hG(r))):l&&(e.opacity=ln(t.opacity??1,a.opacity??1,r));for(let c=0;c<uG;c++){const u=`border${IM[c]}Radius`;let m=Ok(t,u),f=Ok(a,u);if(m===void 0&&f===void 0)continue;m||(m=0),f||(f=0),m===0||f===0||Pk(m)===Pk(f)?(e[u]=Math.max(ln(Ek(m),Ek(f),r),0),(Es.test(f)||Es.test(m))&&(e[u]+="%")):e[u]=f}(t.rotate||a.rotate)&&(e.rotate=ln(t.rotate||0,a.rotate||0,r))}function Ok(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const fG=BM(0,.5,xO),hG=BM(.5,.95,$r);function BM(e,t,a){return r=>r<e?0:r>t?1:a(gd(e,t,r))}function Mk(e,t){e.min=t.min,e.max=t.max}function Cr(e,t){Mk(e.x,t.x),Mk(e.y,t.y)}function Dk(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function Rk(e,t,a,r,s){return e-=t,e=fp(e,1/a,r),s!==void 0&&(e=fp(e,1/s,r)),e}function pG(e,t=0,a=1,r=.5,s,l=e,c=e){if(Es.test(t)&&(t=parseFloat(t),t=ln(c.min,c.max,t/100)-c.min),typeof t!="number")return;let u=ln(l.min,l.max,r);e===l&&(u-=t),e.min=Rk(e.min,t,a,u,s),e.max=Rk(e.max,t,a,u,s)}function Lk(e,t,[a,r,s],l,c){pG(e,t[a],t[r],t[s],t.scale,l,c)}const xG=["x","scaleX","originX"],gG=["y","scaleY","originY"];function $k(e,t,a,r){Lk(e.x,t,xG,a?a.x:void 0,r?r.x:void 0),Lk(e.y,t,gG,a?a.y:void 0,r?r.y:void 0)}function Ik(e){return e.translate===0&&e.scale===1}function zM(e){return Ik(e.x)&&Ik(e.y)}function Bk(e,t){return e.min===t.min&&e.max===t.max}function bG(e,t){return Bk(e.x,t.x)&&Bk(e.y,t.y)}function zk(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function UM(e,t){return zk(e.x,t.x)&&zk(e.y,t.y)}function Uk(e){return Aa(e.x)/Aa(e.y)}function Fk(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class vG{constructor(){this.members=[]}add(t){e2(this.members,t),t.scheduleRender()}remove(t){if(ux(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(t){const a=this.members.findIndex(s=>t===s);if(a===0)return!1;let r;for(let s=a;s>=0;s--){const l=this.members[s];if(l.isPresent!==!1){r=l;break}}return r?(this.promote(r),!0):!1}promote(t,a){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,a&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:s}=t.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:a,resumingFrom:r}=t;a.onExitComplete&&a.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function yG(e,t,a){let r="";const s=e.x.translate/t.x,l=e.y.translate/t.y,c=(a==null?void 0:a.z)||0;if((s||l||c)&&(r=`translate3d(${s}px, ${l}px, ${c}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),a){const{transformPerspective:f,rotate:h,rotateX:g,rotateY:b,skewX:y,skewY:j}=a;f&&(r=`perspective(${f}px) ${r}`),h&&(r+=`rotate(${h}deg) `),g&&(r+=`rotateX(${g}deg) `),b&&(r+=`rotateY(${b}deg) `),y&&(r+=`skewX(${y}deg) `),j&&(r+=`skewY(${j}deg) `)}const u=e.x.scale*t.x,m=e.y.scale*t.y;return(u!==1||m!==1)&&(r+=`scale(${u}, ${m})`),r||"none"}const Pv=["","X","Y","Z"],jG=1e3;let wG=0;function Ov(e,t,a,r){const{latestValues:s}=t;s[e]&&(a[e]=s[e],t.setStaticValue(e,0),r&&(r[e]=0))}function FM(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const a=CM(t);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:s,layoutId:l}=e.options;window.MotionCancelOptimisedAnimation(a,"transform",nn,!(s||l))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&FM(r)}function VM({attachResizeListener:e,defaultParent:t,measureScroll:a,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(c={},u=t==null?void 0:t()){this.id=wG++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(_G),this.nodes.forEach(TG),this.nodes.forEach(EG),this.nodes.forEach(kG)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=c,this.root=u?u.root||u:this,this.path=u?[...u.path,u]:[],this.parent=u,this.depth=u?u.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new cG)}addEventListener(c,u){return this.eventHandlers.has(c)||this.eventHandlers.set(c,new a2),this.eventHandlers.get(c).add(u)}notifyListeners(c,...u){const m=this.eventHandlers.get(c);m&&m.notify(...u)}hasListeners(c){return this.eventHandlers.has(c)}mount(c){if(this.instance)return;this.isSVG=j2(c)&&!tM(c),this.instance=c;const{layoutId:u,layout:m,visualElement:f}=this.options;if(f&&!f.current&&f.mount(c),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||u)&&(this.isLayoutDirty=!0),e){let h,g=0;const b=()=>this.root.updateBlockedByResize=!1;nn.read(()=>{g=window.innerWidth}),e(c,()=>{const y=window.innerWidth;y!==g&&(g=y,this.root.updateBlockedByResize=!0,h&&h(),h=dG(b,250),X0.hasAnimatedSinceResize&&(X0.hasAnimatedSinceResize=!1,this.nodes.forEach(qk)))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&f&&(u||m)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:g,hasRelativeLayoutChanged:b,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||f.getDefaultTransition()||RG,{onLayoutAnimationStart:w,onLayoutAnimationComplete:S}=f.getProps(),k=!this.targetLayout||!UM(this.targetLayout,y),_=!g&&b;if(this.options.layoutRoot||this.resumeFrom||_||g&&(k||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const C={...g2(j,"layout"),onPlay:w,onComplete:S};(f.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C),this.setAnimationOrigin(h,_)}else g||qk(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const c=this.getStack();c&&c.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wi(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(PG),this.animationId++)}getTransformTemplate(){const{visualElement:c}=this.options;return c&&c.getProps().transformTemplate}willUpdate(c=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&FM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const g=this.path[h];g.shouldResetTransform=!0,g.updateScroll("snapshot"),g.options.layoutRoot&&g.willUpdate(!1)}const{layoutId:u,layout:m}=this.options;if(u===void 0&&!m)return;const f=this.getTransformTemplate();this.prevTransformTemplateValue=f?f(this.latestValues,""):void 0,this.updateSnapshot(),c&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Vk);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(Hk);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(AG),this.nodes.forEach(NG),this.nodes.forEach(SG)):this.nodes.forEach(Hk),this.clearAllSnapshots();const u=Fa.now();oa.delta=yi(0,1e3/60,u-oa.timestamp),oa.timestamp=u,oa.isProcessing=!0,yv.update.process(oa),yv.preRender.process(oa),yv.render.process(oa),oa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,v2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(CG),this.sharedNodes.forEach(OG)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Aa(this.snapshot.measuredBox.x)&&!Aa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const c=this.layout;this.layout=this.measure(!1),this.layoutCorrected=vn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:u}=this.options;u&&u.notify("LayoutMeasure",this.layout.layoutBox,c?c.layoutBox:void 0)}updateScroll(c="measure"){let u=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===c&&(u=!1),u&&this.instance){const m=r(this.instance);this.scroll={animationId:this.root.animationId,phase:c,isRoot:m,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!s)return;const c=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,u=this.projectionDelta&&!zM(this.projectionDelta),m=this.getTransformTemplate(),f=m?m(this.latestValues,""):void 0,h=f!==this.prevTransformTemplateValue;c&&this.instance&&(u||go(this.latestValues)||h)&&(s(this.instance,f),this.shouldResetTransform=!1,this.scheduleRender())}measure(c=!0){const u=this.measurePageBox();let m=this.removeElementScroll(u);return c&&(m=this.removeTransform(m)),LG(m),{animationId:this.root.animationId,measuredBox:u,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){var f;const{visualElement:c}=this.options;if(!c)return vn();const u=c.measureViewportBox();if(!(((f=this.scroll)==null?void 0:f.wasRoot)||this.path.some($G))){const{scroll:h}=this.root;h&&(ed(u.x,h.offset.x),ed(u.y,h.offset.y))}return u}removeElementScroll(c){var m;const u=vn();if(Cr(u,c),(m=this.scroll)!=null&&m.wasRoot)return u;for(let f=0;f<this.path.length;f++){const h=this.path[f],{scroll:g,options:b}=h;h!==this.root&&g&&b.layoutScroll&&(g.wasRoot&&Cr(u,c),ed(u.x,g.offset.x),ed(u.y,g.offset.y))}return u}applyTransform(c,u=!1){const m=vn();Cr(m,c);for(let f=0;f<this.path.length;f++){const h=this.path[f];!u&&h.options.layoutScroll&&h.scroll&&h!==h.root&&td(m,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),go(h.latestValues)&&td(m,h.latestValues)}return go(this.latestValues)&&td(m,this.latestValues),m}removeTransform(c){const u=vn();Cr(u,c);for(let m=0;m<this.path.length;m++){const f=this.path[m];if(!f.instance||!go(f.latestValues))continue;_j(f.latestValues)&&f.updateSnapshot();const h=vn(),g=f.measurePageBox();Cr(h,g),$k(u,f.latestValues,f.snapshot?f.snapshot.layoutBox:void 0,h)}return go(this.latestValues)&&$k(u,this.latestValues),u}setTargetDelta(c){this.targetDelta=c,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(c){this.options={...this.options,...c,crossfade:c.crossfade!==void 0?c.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==oa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(c=!1){var b;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==u;if(!(c||m&&this.isSharedProjectionDirty||this.isProjectionDirty||(b=this.parent)!=null&&b.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:g}=this.options;if(!(!this.layout||!(h||g))){if(this.resolvedRelativeTargetAt=oa.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Tm(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=vn(),this.targetWithTransforms=vn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),HK(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Cr(this.target,this.layout.layoutBox),bM(this.target,this.targetDelta)):Cr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=vn(),this.relativeTargetOrigin=vn(),Tm(this.relativeTargetOrigin,this.target,y.target),Cr(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||_j(this.parent.latestValues)||gM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var j;const c=this.getLead(),u=!!this.resumingFrom||this!==c;let m=!0;if((this.isProjectionDirty||(j=this.parent)!=null&&j.isProjectionDirty)&&(m=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===oa.timestamp&&(m=!1),m)return;const{layout:f,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(f||h))return;Cr(this.layoutCorrected,this.layout.layoutBox);const g=this.treeScale.x,b=this.treeScale.y;iK(this.layoutCorrected,this.treeScale,this.path,u),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=vn());const{target:y}=c;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(Dk(this.prevProjectionDelta.x,this.projectionDelta.x),Dk(this.prevProjectionDelta.y,this.projectionDelta.y)),Am(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==g||this.treeScale.y!==b||!Fk(this.projectionDelta.x,this.prevProjectionDelta.x)||!Fk(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(c=!0){var u;if((u=this.options.visualElement)==null||u.scheduleRender(),c){const m=this.getStack();m&&m.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nd(),this.projectionDelta=nd(),this.projectionDeltaWithTransform=nd()}setAnimationOrigin(c,u=!1){const m=this.snapshot,f=m?m.latestValues:{},h={...this.latestValues},g=nd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!u;const b=vn(),y=m?m.source:void 0,j=this.layout?this.layout.source:void 0,w=y!==j,S=this.getStack(),k=!S||S.members.length<=1,_=!!(w&&!k&&this.options.crossfade===!0&&!this.path.some(DG));this.animationProgress=0;let C;this.mixTargetDelta=P=>{const T=P/1e3;Kk(g.x,c.x,T),Kk(g.y,c.y,T),this.setTargetDelta(g),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tm(b,this.layout.layoutBox,this.relativeParent.layout.layoutBox),MG(this.relativeTarget,this.relativeTargetOrigin,b,T),C&&bG(this.relativeTarget,C)&&(this.isProjectionDirty=!1),C||(C=vn()),Cr(C,this.relativeTarget)),w&&(this.animationValues=h,mG(h,f,this.latestValues,T,_,k)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=T},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(c){var u,m,f;this.notifyListeners("animationStart"),(u=this.currentAnimation)==null||u.stop(),(f=(m=this.resumingFrom)==null?void 0:m.currentAnimation)==null||f.stop(),this.pendingAnimation&&(wi(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nn.update(()=>{X0.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Uo(0)),this.currentAnimation=$M(this.motionValue,[0,1e3],{...c,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),c.onUpdate&&c.onUpdate(h)},onStop:()=>{},onComplete:()=>{c.onComplete&&c.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const c=this.getStack();c&&c.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(jG),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const c=this.getLead();let{targetWithTransforms:u,target:m,layout:f,latestValues:h}=c;if(!(!u||!m||!f)){if(this!==c&&this.layout&&f&&HM(this.options.animationType,this.layout.layoutBox,f.layoutBox)){m=this.target||vn();const g=Aa(this.layout.layoutBox.x);m.x.min=c.target.x.min,m.x.max=m.x.min+g;const b=Aa(this.layout.layoutBox.y);m.y.min=c.target.y.min,m.y.max=m.y.min+b}Cr(u,m),td(u,h),Am(this.projectionDeltaWithTransform,this.layoutCorrected,u,h)}}registerSharedNode(c,u){this.sharedNodes.has(c)||this.sharedNodes.set(c,new vG),this.sharedNodes.get(c).add(u);const f=u.options.initialPromotionConfig;u.promote({transition:f?f.transition:void 0,preserveFollowOpacity:f&&f.shouldPreserveFollowOpacity?f.shouldPreserveFollowOpacity(u):void 0})}isLead(){const c=this.getStack();return c?c.lead===this:!0}getLead(){var u;const{layoutId:c}=this.options;return c?((u=this.getStack())==null?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:c}=this.options;return c?(u=this.getStack())==null?void 0:u.prevLead:void 0}getStack(){const{layoutId:c}=this.options;if(c)return this.root.sharedNodes.get(c)}promote({needsReset:c,transition:u,preserveFollowOpacity:m}={}){const f=this.getStack();f&&f.promote(this,m),c&&(this.projectionDelta=void 0,this.needsReset=!0),u&&this.setOptions({transition:u})}relegate(){const c=this.getStack();return c?c.relegate(this):!1}resetSkewAndRotation(){const{visualElement:c}=this.options;if(!c)return;let u=!1;const{latestValues:m}=c;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(u=!0),!u)return;const f={};m.z&&Ov("z",c,f,this.animationValues);for(let h=0;h<Pv.length;h++)Ov(`rotate${Pv[h]}`,c,f,this.animationValues),Ov(`skew${Pv[h]}`,c,f,this.animationValues);c.render();for(const h in f)c.setStaticValue(h,f[h]),this.animationValues&&(this.animationValues[h]=f[h]);c.scheduleRender()}applyProjectionStyles(c,u){if(!this.instance||this.isSVG)return;if(!this.isVisible){c.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,c.visibility="",c.opacity="",c.pointerEvents=W0(u==null?void 0:u.pointerEvents)||"",c.transform=m?m(this.latestValues,""):"none";return}const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){this.options.layoutId&&(c.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,c.pointerEvents=W0(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!go(this.latestValues)&&(c.transform=m?m({},""):"none",this.hasProjected=!1);return}c.visibility="";const h=f.animationValues||f.latestValues;this.applyTransformsToTarget();let g=yG(this.projectionDeltaWithTransform,this.treeScale,h);m&&(g=m(h,g)),c.transform=g;const{x:b,y}=this.projectionDelta;c.transformOrigin=`${b.origin*100}% ${y.origin*100}% 0`,f.animationValues?c.opacity=f===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const j in Vm){if(h[j]===void 0)continue;const{correct:w,applyTo:S,isCSSVariable:k}=Vm[j],_=g==="none"?h[j]:w(h[j],f);if(S){const C=S.length;for(let P=0;P<C;P++)c[S[P]]=_}else k?this.options.visualElement.renderState.vars[j]=_:c[j]=_}this.options.layoutId&&(c.pointerEvents=f===this?W0(u==null?void 0:u.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(c=>{var u;return(u=c.currentAnimation)==null?void 0:u.stop()}),this.root.nodes.forEach(Vk),this.root.sharedNodes.clear()}}}function NG(e){e.updateLayout()}function SG(e){var a;const t=((a=e.resumeFrom)==null?void 0:a.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&t&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=e.layout,{animationType:l}=e.options,c=t.source!==e.layout.source;l==="size"?Mr(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],y=Aa(b);b.min=r[g].min,b.max=b.min+y}):HM(l,t.layoutBox,r)&&Mr(g=>{const b=c?t.measuredBox[g]:t.layoutBox[g],y=Aa(r[g]);b.max=b.min+y,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[g].max=e.relativeTarget[g].min+y)});const u=nd();Am(u,r,t.layoutBox);const m=nd();c?Am(m,e.applyTransform(s,!0),t.measuredBox):Am(m,r,t.layoutBox);const f=!zM(u);let h=!1;if(!e.resumeFrom){const g=e.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:b,layout:y}=g;if(b&&y){const j=vn();Tm(j,t.layoutBox,b.layoutBox);const w=vn();Tm(w,r,y.layoutBox),UM(j,w)||(h=!0),g.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=j,e.relativeParent=g)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:m,layoutDelta:u,hasLayoutChanged:f,hasRelativeLayoutChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function _G(e){e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function kG(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function CG(e){e.clearSnapshot()}function Vk(e){e.clearMeasurements()}function Hk(e){e.isLayoutDirty=!1}function AG(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function qk(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function TG(e){e.resolveTargetDelta()}function EG(e){e.calcProjection()}function PG(e){e.resetSkewAndRotation()}function OG(e){e.removeLeadSnapshot()}function Kk(e,t,a){e.translate=ln(t.translate,0,a),e.scale=ln(t.scale,1,a),e.origin=t.origin,e.originPoint=t.originPoint}function Gk(e,t,a,r){e.min=ln(t.min,a.min,r),e.max=ln(t.max,a.max,r)}function MG(e,t,a,r){Gk(e.x,t.x,a.x,r),Gk(e.y,t.y,a.y,r)}function DG(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const RG={duration:.45,ease:[.4,0,.1,1]},Yk=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),Wk=Yk("applewebkit/")&&!Yk("chrome/")?Math.round:$r;function Xk(e){e.min=Wk(e.min),e.max=Wk(e.max)}function LG(e){Xk(e.x),Xk(e.y)}function HM(e,t,a){return e==="position"||e==="preserve-aspect"&&!VK(Uk(t),Uk(a),.2)}function $G(e){var t;return e!==e.root&&((t=e.scroll)==null?void 0:t.wasRoot)}const IG=VM({attachResizeListener:(e,t)=>qm(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Mv={current:void 0},qM=VM({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!Mv.current){const e=new IG({});e.mount(window),e.setOptions({layoutScroll:!0}),Mv.current=e}return Mv.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),BG={pan:{Feature:rG},drag:{Feature:aG,ProjectionNode:qM,MeasureLayout:LM}};function Zk(e,t,a){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",a==="Start");const s="onHover"+a,l=r[s];l&&nn.postRender(()=>l(t,gf(t)))}class zG extends Ol{mount(){const{current:t}=this.node;t&&(this.unmount=hq(t,(a,r)=>(Zk(this.node,r,"Start"),s=>Zk(this.node,s,"End"))))}unmount(){}}class UG extends Ol{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=hf(qm(this.node.current,"focus",()=>this.onFocus()),qm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Qk(e,t,a){const{props:r}=e;if(e.current instanceof HTMLButtonElement&&e.current.disabled)return;e.animationState&&r.whileTap&&e.animationState.setActive("whileTap",a==="Start");const s="onTap"+(a==="End"?"":a),l=r[s];l&&nn.postRender(()=>l(t,gf(t)))}class FG extends Ol{mount(){const{current:t}=this.node;t&&(this.unmount=bq(t,(a,r)=>(Qk(this.node,r,"Start"),(s,{success:l})=>Qk(this.node,s,l?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Oj=new WeakMap,Dv=new WeakMap,VG=e=>{const t=Oj.get(e.target);t&&t(e)},HG=e=>{e.forEach(VG)};function qG({root:e,...t}){const a=e||document;Dv.has(a)||Dv.set(a,{});const r=Dv.get(a),s=JSON.stringify(t);return r[s]||(r[s]=new IntersectionObserver(HG,{root:e,...t})),r[s]}function KG(e,t,a){const r=qG(t);return Oj.set(e,a),r.observe(e),()=>{Oj.delete(e),r.unobserve(e)}}const GG={some:0,all:1};class YG extends Ol{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:a,margin:r,amount:s="some",once:l}=t,c={root:a?a.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:GG[s]},u=m=>{const{isIntersecting:f}=m;if(this.isInView===f||(this.isInView=f,l&&!f&&this.hasEnteredView))return;f&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",f);const{onViewportEnter:h,onViewportLeave:g}=this.node.getProps(),b=f?h:g;b&&b(m)};return KG(this.node.current,c,u)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:a}=this.node;["amount","margin","root"].some(WG(t,a))&&this.startObserver()}unmount(){}}function WG({viewport:e={}},{viewport:t={}}={}){return a=>e[a]!==t[a]}const XG={inView:{Feature:YG},tap:{Feature:FG},focus:{Feature:UG},hover:{Feature:zG}},ZG={layout:{ProjectionNode:qM,MeasureLayout:LM}},QG={...$K,...XG,...BG,...ZG},pe=aK(QG,mK);function vd(e){const t=ff(()=>Uo(e)),{isStatic:a}=x.useContext(mx);if(a){const[,r]=x.useState(e);x.useEffect(()=>t.on("change",r),[])}return t}function KM(e,t){const a=vd(t()),r=()=>a.set(t());return r(),Jw(()=>{const s=()=>nn.preRender(r,!1,!0),l=e.map(c=>c.on("change",s));return()=>{l.forEach(c=>c()),wi(r)}}),a}function JG(e){km.current=[],e();const t=KM(km.current,e);return km.current=void 0,t}function hp(e,t,a,r){if(typeof e=="function")return JG(e);const s=typeof t=="function"?t:vq(t,a,r);return Array.isArray(e)?Jk(e,s):Jk([e],([l])=>s(l))}function Jk(e,t){const a=ff(()=>[]);return KM(e,()=>{a.length=0;const r=e.length;for(let s=0;s<r;s++)a[s]=e[s].get();return t(a)})}function O2(e){return typeof e=="object"&&!Array.isArray(e)}function GM(e,t,a,r){return typeof e=="string"&&O2(t)?WO(e,a,r):e instanceof NodeList?Array.from(e):Array.isArray(e)?e:[e]}function eY(e,t,a){return e*(t+1)}function eC(e,t,a,r){return typeof t=="number"?t:t.startsWith("-")||t.startsWith("+")?Math.max(0,e+parseFloat(t)):t==="<"?a:t.startsWith("<")?Math.max(0,a+parseFloat(t.slice(1))):r.get(t)??e}function tY(e,t,a){for(let r=0;r<e.length;r++){const s=e[r];s.at>t&&s.at<a&&(ux(e,s),r--)}}function nY(e,t,a,r,s,l){tY(e,s,l);for(let c=0;c<t.length;c++)e.push({value:t[c],at:ln(s,l,r[c]),easing:yO(a,c)})}function aY(e,t){for(let a=0;a<e.length;a++)e[a]=e[a]/(t+1)}function rY(e,t){return e.at===t.at?e.value===null?1:t.value===null?-1:0:e.at-t.at}const sY="easeInOut";function iY(e,{defaultTransition:t={},...a}={},r,s){const l=t.duration||.3,c=new Map,u=new Map,m={},f=new Map;let h=0,g=0,b=0;for(let y=0;y<e.length;y++){const j=e[y];if(typeof j=="string"){f.set(j,g);continue}else if(!Array.isArray(j)){f.set(j.name,eC(g,j.at,h,f));continue}let[w,S,k={}]=j;k.at!==void 0&&(g=eC(g,k.at,h,f));let _=0;const C=(P,T,E,$=0,M=0)=>{const F=lY(P),{delay:K=0,times:z=LO(F),type:U="keyframes",repeat:ae,repeatType:ke,repeatDelay:se=0,...O}=T;let{ease:H=t.ease||"easeOut",duration:G}=T;const B=typeof K=="function"?K($,M):K,A=F.length,L=x2(U)?U:s==null?void 0:s[U||"keyframes"];if(A<=2&&L){let Z=100;if(A===2&&dY(F)){const te=F[1]-F[0];Z=Math.abs(te)}const W={...O};G!==void 0&&(W.duration=is(G));const _e=OO(W,Z,L);H=_e.ease,G=_e.duration}G??(G=l);const R=g+B;z.length===1&&z[0]===0&&(z[1]=1);const q=z.length-F.length;if(q>0&&RO(z,q),F.length===1&&F.unshift(null),ae){G=eY(G,ae);const Z=[...F],W=[...z];H=Array.isArray(H)?[...H]:[H];const _e=[...H];for(let te=0;te<ae;te++){F.push(...Z);for(let je=0;je<Z.length;je++)z.push(W[je]+(te+1)),H.push(je===0?"linear":yO(_e,je-1))}aY(z,ae)}const ce=R+G;nY(E,F,H,z,R,ce),_=Math.max(B+G,_),b=Math.max(ce,b)};if(Jn(w)){const P=tC(w,u);C(S,k,nC("default",P))}else{const P=GM(w,S,r,m),T=P.length;for(let E=0;E<T;E++){S=S,k=k;const $=P[E],M=tC($,u);for(const F in S)C(S[F],oY(k,F),nC(F,M),E,T)}}h=g,g+=_}return u.forEach((y,j)=>{for(const w in y){const S=y[w];S.sort(rY);const k=[],_=[],C=[];for(let T=0;T<S.length;T++){const{at:E,value:$,easing:M}=S[T];k.push($),_.push(gd(0,b,E)),C.push(M||"easeOut")}_[0]!==0&&(_.unshift(0),k.unshift(k[0]),C.unshift(sY)),_[_.length-1]!==1&&(_.push(1),k.push(null)),c.has(j)||c.set(j,{keyframes:{},transition:{}});const P=c.get(j);P.keyframes[w]=k,P.transition[w]={...t,duration:b,ease:C,times:_,...a}}}),c}function tC(e,t){return!t.has(e)&&t.set(e,{}),t.get(e)}function nC(e,t){return t[e]||(t[e]=[]),t[e]}function lY(e){return Array.isArray(e)?e:[e]}function oY(e,t){return e&&e[t]?{...e,...e[t]}:{...e}}const cY=e=>typeof e=="number",dY=e=>e.every(cY);function uY(e,t){return e in t}class mY extends jM{constructor(){super(...arguments),this.type="object"}readValueFromInstance(t,a){if(uY(a,t)){const r=t[a];if(typeof r=="string"||typeof r=="number")return r}}getBaseTargetFromProps(){}removeValueFromRenderState(t,a){delete a.output[t]}measureInstanceViewportBox(){return vn()}build(t,a){Object.assign(t.output,a)}renderInstance(t,{output:a}){Object.assign(t,a)}sortInstanceNodePosition(){return 0}}function fY(e){const t={presenceContext:null,props:{},visualState:{renderState:{transform:{},transformOrigin:{},style:{},vars:{},attrs:{}},latestValues:{}}},a=j2(e)&&!tM(e)?new kM(t):new SM(t);a.mount(e),Hm.set(e,a)}function hY(e){const t={presenceContext:null,props:{},visualState:{renderState:{output:{}},latestValues:{}}},a=new mY(t);a.mount(e),Hm.set(e,a)}function pY(e,t){return Jn(e)||typeof e=="number"||typeof e=="string"&&!O2(t)}function YM(e,t,a,r){const s=[];if(pY(e,t))s.push($M(e,O2(t)&&t.default||t,a&&(a.default||a)));else{const l=GM(e,t,r),c=l.length;for(let u=0;u<c;u++){const m=l[u],f=m instanceof Element?fY:hY;Hm.has(m)||f(m);const h=Hm.get(m),g={...a};"delay"in g&&typeof g.delay=="function"&&(g.delay=g.delay(u,c)),s.push(...P2(h,{...t,transition:g},{}))}}return s}function xY(e,t,a){const r=[];return iY(e,t,a,{spring:Um}).forEach(({keyframes:l,transition:c},u)=>{r.push(...YM(u,l,c))}),r}function gY(e){return Array.isArray(e)&&e.some(Array.isArray)}function bY(e){function t(a,r,s){let l=[];return gY(a)?l=xY(a,r,e):l=YM(a,r,s,e),new QH(l)}return t}const vY=bY(),yY="https://aisdr-dbt.ddns.net";function jY({isOpen:e,onSuccess:t}){const[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(!0),[b,y]=x.useState(!1);if(!e)return null;const j=async w=>{if(w.preventDefault(),!a.trim()||!s.trim()){I.error("Please enter both Account SID and Auth Token.");return}const S=localStorage.getItem("token");if(!S){I.error("You must be logged in."),window.location.href="/login";return}y(!0);try{const k=await fetch(`${yY}/api/twilio/credentials`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({account_sid:a.trim(),auth_token:s.trim(),validate:h})}),_=await k.json().catch(()=>({}));if(k.ok)I.success("Twilio credentials saved "),t==null||t();else{const C=(_==null?void 0:_.detail)||(_==null?void 0:_.message)||(typeof _=="string"?_:"Failed to save Twilio credentials.");I.error(C)}}catch{I.error("Network error. Please try again.")}finally{y(!1)}};return n.jsxs("div",{className:"fixed inset-0 z-[100] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-slate-900/50 backdrop-blur-sm"}),n.jsxs("div",{className:"relative w-full max-w-lg rounded-2xl border border-slate-200 bg-white p-6 shadow-2xl",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-blue-50",children:n.jsx(vi,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-slate-900",children:"Connect Twilio"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Enter your Twilio Account SID and Auth Token to continue."})]})]}),n.jsxs("form",{onSubmit:j,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:c?"text":"password",autoComplete:"off",value:a,onChange:w=>r(w.target.value),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>u(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":c?"Hide SID":"Show SID",children:c?n.jsx(hd,{className:"h-5 w-5"}):n.jsx(Un,{className:"h-5 w-5"})})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-medium text-slate-700",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:m?"text":"password",autoComplete:"off",value:s,onChange:w=>l(w.target.value),placeholder:"",className:"w-full rounded-lg border border-slate-300 px-3 py-3 pr-10 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500 focus:ring-2 focus:ring-blue-200"}),n.jsx("button",{type:"button",onClick:()=>f(w=>!w),className:"absolute inset-y-0 right-0 mr-2 flex items-center rounded-md px-2 text-slate-400 hover:text-blue-600",tabIndex:-1,"aria-label":m?"Hide Token":"Show Token",children:m?n.jsx(hd,{className:"h-5 w-5"}):n.jsx(Un,{className:"h-5 w-5"})})]})]}),n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-blue-600",checked:h,onChange:w=>g(w.target.checked)}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative flex w-full items-center justify-center gap-2 rounded-lg bg-blue-600 py-3 font-semibold text-white shadow-lg transition hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-60",children:b?n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Saving"]}):n.jsxs(n.Fragment,{children:["Save & Continue",n.jsx(Zc,{className:"h-4 w-4 transition group-hover:translate-x-0.5"})]})}),n.jsx("p",{className:"text-xs text-slate-500",children:"We store your credentials on your user record and use them only to manage your Twilio numbers on your behalf."})]})]})]})}const aC="https://aisdr-dbt.ddns.net";function wY(){const[e,t]=x.useState(["","","",""]),[a,r]=x.useState(""),[s,l]=x.useState(!1),[c,u]=x.useState(0),[m,f]=x.useState(!1),h=[x.useRef(null),x.useRef(null),x.useRef(null),x.useRef(null)],g=rn();x.useEffect(()=>{const C=new URLSearchParams(window.location.search).get("email");C&&r(decodeURIComponent(C)),setTimeout(()=>{var P;return(P=h[0].current)==null?void 0:P.focus()},50)},[]),x.useEffect(()=>{if(c>0){const _=setTimeout(()=>u(C=>C-1),1e3);return()=>clearTimeout(_)}},[c]);const b=(_,C)=>{var E;const P=C.replace(/\D/g,"");if(P.length>1)return;const T=[...e];T[_]=P,t(T),P&&_<3&&((E=h[_+1].current)==null||E.focus()),T.every($=>$!=="")&&T.join("").length===4&&w(T.join(""))},y=(_,C)=>{var P,T,E;C.key==="Backspace"&&!e[_]&&_>0&&((P=h[_-1].current)==null||P.focus()),C.key==="Enter"&&w(e.join("")),C.key==="ArrowLeft"&&_>0&&((T=h[_-1].current)==null||T.focus()),C.key==="ArrowRight"&&_<3&&((E=h[_+1].current)==null||E.focus())},j=_=>{var E,$;_.preventDefault();const C=_.clipboardData.getData("text").replace(/\D/g,"").slice(0,4);if(!C)return;const P=["","","",""];for(let M=0;M<C.length;M++)P[M]=C[M];t(P);const T=P.findIndex(M=>M==="");T!==-1?(E=h[T].current)==null||E.focus():($=h[3].current)==null||$.focus(),P.every(M=>M!=="")&&w(P.join(""))},w=async(_=null)=>{var P,T,E;const C=_||e.join("");if(C.length!==4){I.error("Please enter all 4 digits");return}if(!a){I.error("Email is required for verification");return}l(!0);try{const $=await fetch(`${aC}/api/account-verification`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:C,email:a})}),M=await $.json().catch(()=>({}));$.ok?(M.token&&localStorage.setItem("token",M.token),(P=M.user)!=null&&P.role&&localStorage.setItem("role",M.user.role),I.success("Account verified successfully! "),f(!0)):(I.error("Invalid OTP. Please try again."),t(["","","",""]),(T=h[0].current)==null||T.focus())}catch{I.error("Network error. Please check your connection and try again."),t(["","","",""]),(E=h[0].current)==null||E.focus()}finally{l(!1)}},S=async()=>{var _;if(!(c>0||!a)){l(!0);try{(await fetch(`${aC}/api/resend-otp`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})})).ok?(I.success("New verification code sent to your email."),u(60),t(["","","",""]),(_=h[0].current)==null||_.focus()):I.error("Failed to resend code. Please try again.")}catch{I.error("Network error. Please try again.")}finally{l(!1)}}},k="shadow-[0_0_30px_rgba(37,99,235,0.35)]";return n.jsxs("div",{className:"relative min-h-screen bg-white overflow-hidden",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0",children:[n.jsx(pe.div,{className:"absolute -top-40 -left-40 h-[32rem] w-[32rem] rounded-full blur-3xl opacity-60",style:{background:"radial-gradient(closest-side, #93c5fd, transparent)"},animate:{y:[0,20,0],x:[0,12,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(pe.div,{className:"absolute -bottom-48 -right-48 h-[36rem] w-[36rem] rounded-full blur-3xl opacity-70",style:{background:"radial-gradient(closest-side, #a5f3fc, transparent)"},animate:{y:[0,-16,0],x:[0,-10,0]},transition:{duration:9,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0}),n.jsx(pe.div,{className:"absolute inset-0",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.12), rgba(6,182,212,0.12), rgba(59,130,246,0.12))"},animate:{rotate:360},transition:{duration:24,repeat:1/0,ease:"linear"},"aria-hidden":!0})]}),n.jsxs("div",{className:"relative z-10 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsxs(pe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{duration:.4},className:`relative h-16 w-16 rounded-2xl bg-white border border-blue-200/70 ${k} flex items-center justify-center`,children:[n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl",style:{background:"conic-gradient(from 0deg, rgba(59,130,246,0.25), rgba(6,182,212,0.25), rgba(59,130,246,0.25))"},animate:{rotate:-360},transition:{duration:12,repeat:1/0,ease:"linear"},"aria-hidden":!0}),n.jsx("div",{className:"absolute inset-[3px] rounded-2xl bg-white"}),n.jsx(wa,{className:"relative w-7 h-7 text-blue-600"})]})}),n.jsx(pe.h2,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1},className:"mt-6 text-center text-3xl font-extrabold tracking-tight text-slate-900",children:"Verify your account"}),n.jsxs(pe.p,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},transition:{delay:.2},className:"mt-2 text-center text-sm text-slate-600",children:["We sent a 4-digit code to",n.jsx("br",{}),n.jsx("span",{className:"font-medium text-blue-600",children:a||"your email"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsx(pe.div,{initial:{y:14,opacity:0},animate:{y:0,opacity:1},transition:{delay:.25},className:`bg-white/90 backdrop-blur-sm py-8 px-6 sm:px-10 border border-slate-200 rounded-2xl shadow-xl ${k}`,children:n.jsxs("form",{onSubmit:_=>{_.preventDefault(),w()},children:[n.jsx("label",{className:"mb-4 block text-center text-sm font-medium text-slate-700",children:"Enter verification code"}),n.jsx("div",{className:"mb-6 flex justify-center gap-3 sm:gap-4",children:e.map((_,C)=>n.jsx(pe.input,{ref:h[C],type:"text",inputMode:"numeric",pattern:"\\d*",maxLength:1,value:_,onFocus:P=>P.target.select(),onChange:P=>b(C,P.target.value),onKeyDown:P=>y(C,P),onPaste:j,"aria-label":`OTP digit ${C+1}`,disabled:s,className:`h-16 w-14 text-center text-2xl font-bold sm:h-18 sm:w-16 sm:text-3xl
                      rounded-xl border-2 bg-white/90 text-slate-900 placeholder-slate-400 outline-none transition
                      ${_?"border-blue-400":"border-slate-200 focus:border-blue-400"}
                      focus:ring-2 focus:ring-blue-300`,initial:{scale:.95,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.05*C}},C))}),n.jsxs(pe.button,{type:"submit",disabled:s||e.join("").length!==4,className:`group relative w-full overflow-hidden rounded-xl py-3 px-4 text-sm font-semibold text-white shadow-lg transition
                  ${s||e.join("").length!==4?"bg-blue-500/80":"bg-blue-600 hover:bg-blue-700"}
                  focus:outline-none focus:ring-2 focus:ring-blue-500`,whileTap:{scale:.98},children:[n.jsx("span",{className:"pointer-events-none absolute inset-0 opacity-40",children:n.jsx("span",{className:"absolute -inset-12 h-[200%] w-2/3 -translate-x-[150%] rotate-12 bg-gradient-to-r from-transparent via-white/50 to-transparent transition-transform duration-700 group-hover:translate-x-[120%]"})}),s?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx("span",{className:"mr-3 inline-block h-5 w-5 animate-spin rounded-full border-2 border-white border-t-transparent"}),"Verifying"]}):n.jsxs("div",{className:"flex items-center justify-center",children:["Verify Account",n.jsx(uf,{className:"ml-2 h-4 w-4 transition-transform duration-200 group-hover:translate-x-1"})]})]}),n.jsxs("div",{className:"mt-5 text-center",children:[n.jsx("p",{className:"mb-2 text-sm text-slate-600",children:"Didn't receive the code?"}),n.jsxs("button",{type:"button",onClick:S,disabled:c>0||s||!a,className:"inline-flex items-center text-sm font-medium text-blue-600 transition-colors hover:text-blue-700 disabled:cursor-not-allowed disabled:text-slate-400",children:[n.jsx(Ge,{className:"mr-1 h-4 w-4"}),c>0?`Resend in ${c}s`:"Resend Code"]})]})]})})})]}),n.jsx(jY,{isOpen:m,onSuccess:()=>{f(!1),setTimeout(()=>g("/profile"),300)}})]})}function NY(){const[e,t]=x.useState({email:"",password:""}),[a,r]=x.useState(!1),[s,l]=x.useState({}),[c,u]=x.useState(!1),m=rn(),f="https://aisdr-dbt.ddns.net",h=y=>{const{name:j,value:w}=y.target;t(S=>({...S,[j]:w})),s[j]&&l(S=>({...S,[j]:""}))},g=()=>{const y={};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(y.email="Please enter a valid email address"):y.email="Email is required",e.password?e.password.length<6&&(y.password="Password must be at least 6 characters"):y.password="Password is required",l(y),Object.keys(y).length===0},b=async y=>{var j,w,S;if(y.preventDefault(),!!g()){u(!0),l({});try{const k=await fetch(`${f}/api/signin`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})}),_=await k.json();if(k.ok)_.token&&localStorage.setItem("token",_.token),(j=_.user)!=null&&j.role&&localStorage.setItem("role",_.user.role),(w=_.user)!=null&&w.name&&localStorage.setItem("name",_.user.name),(S=_.user)!=null&&S.email&&localStorage.setItem("email",_.user.email),I.success("Login successful! "),setTimeout(()=>{var P,T,E;const C=((E=(T=(P=_.user)==null?void 0:P.role)==null?void 0:T.toLowerCase)==null?void 0:E.call(T))||"";m(C==="user"?"/user/dashboard":C==="admin"?"/admin/dashboard":"/dashboard")},1200);else{const C=_.message||_.detail||"Invalid email or password. Please try again.";I.error(C),l({submit:C})}}catch{const k="Network error. Please check your connection and try again.";I.error(k),l({submit:k})}finally{u(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(Oo,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Sign in to your account"}),n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Don't have an account?"," ",n.jsx("a",{href:"/signup",className:"font-medium text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Sign up here"})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 border border-gray-200",children:[s.submit&&n.jsxs("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-lg p-4 flex items-center",children:[n.jsx(or,{className:"h-5 w-5 text-red-600 mr-3"}),n.jsx("p",{className:"text-sm text-red-700",children:s.submit})]}),n.jsxs("form",{className:"space-y-6",onSubmit:b,children:[n.jsxs("div",{children:[n.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(wa,{className:`h-5 w-5 transition-colors duration-200 ${e.email?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",value:e.email,onChange:h,className:`block w-full pl-10 pr-3 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.email?"border-red-300 focus:border-red-500 focus:ring-red-500":e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your email"}),e.email&&/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)&&!s.email&&n.jsx("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:n.jsx(oj,{className:"h-5 w-5 text-green-500"})})]}),s.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),s.email]})]}),n.jsxs("div",{children:[n.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:n.jsx(gi,{className:`h-5 w-5 transition-colors duration-200 ${e.password?"text-blue-500":"text-gray-400"}`})}),n.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"current-password",value:e.password,onChange:h,className:`block w-full pl-10 pr-12 py-3 border rounded-lg shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 ${s.password?"border-red-300 focus:border-red-500 focus:ring-red-500":e.password&&e.password.length>=6?"border-green-300":"border-gray-300 hover:border-gray-400"}`,placeholder:"Enter your password"}),n.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center hover:bg-gray-50 rounded-r-lg transition-colors duration-200 cursor-pointer",onClick:()=>r(!a),children:a?n.jsx(hd,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"}):n.jsx(Un,{className:"h-5 w-5 text-gray-400 hover:text-blue-500 transition-colors duration-200"})})]}),n.jsx("div",{className:"mt-2 flex justify-end",children:n.jsx("a",{href:"/forget_password",className:"text-xs text-blue-600 hover:text-blue-500 transition-colors duration-200 hover:underline cursor-pointer",children:"Forgot password?"})}),s.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),s.password]})]}),n.jsx("div",{children:n.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-lg text-white bg-blue-500 hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 cursor-pointer",children:c?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Signing in..."]}):n.jsxs("div",{className:"flex items-center",children:["Sign in",n.jsx(uf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})})]}),n.jsx("div",{className:"mt-6",children:n.jsxs("div",{className:"relative overflow-hidden rounded-xl border border-slate-200",children:[n.jsx("div",{className:"absolute -inset-x-10 -top-10 h-24 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm text-slate-600",children:"By signing in you agree to our"}),n.jsxs("div",{className:"flex items-center gap-3 text-sm font-medium",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms"}),n.jsx("span",{className:"text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy"})]})]})]})})]})})]})}function SY({length:e=4,value:t,onChange:a}){const r=x.useRef([]),s=m=>{const f=r.current[m];f&&f.focus()},l=(m,f)=>{const h=f.replace(/\D/g,"").slice(0,1),g=(t||"").split("");g[m]=h;const b=g.join("");a(b),h&&m<e-1&&s(m+1)},c=(m,f)=>{const h=(t||"")[m]||"";if(f.key==="Backspace"){if(!h&&m>0){f.preventDefault();const g=(t||"").split("");g[m-1]="",a(g.join("")),s(m-1)}}else f.key==="ArrowLeft"&&m>0?(f.preventDefault(),s(m-1)):f.key==="ArrowRight"&&m<e-1&&(f.preventDefault(),s(m+1))},u=m=>{m.preventDefault();const f=(m.clipboardData.getData("text")||"").replace(/\D/g,"");if(!f)return;const h=(t||"").split("");for(let b=0;b<e;b++)h[b]=f[b]||"";a(h.join(""));const g=Math.min(f.length,e)-1;s(g>=0?g:0)};return n.jsx("div",{className:"flex items-center justify-center gap-1.5 sm:gap-2",children:Array.from({length:e}).map((m,f)=>{const h=(t||"")[f]||"";return n.jsx("input",{ref:g=>r.current[f]=g,inputMode:"numeric",pattern:"[0-9]*",maxLength:1,value:h,onChange:g=>l(f,g.target.value),onKeyDown:g=>c(f,g),onPaste:f===0?u:void 0,className:`w-11 h-11 sm:w-12 sm:h-12 text-center text-lg sm:text-xl font-semibold\r
                       rounded-2xl border bg-white/80 backdrop-blur\r
                       border-gray-200 shadow-sm hover:shadow transition-all\r
                       focus:outline-none focus:ring-2 focus:ring-blue-500/70 focus:border-blue-500\r
                       focus:shadow-[0_6px_24px_rgba(59,130,246,0.18)] focus:scale-105\r
                       caret-transparent select-none`,"aria-label":`OTP digit ${f+1}`},f)})})}function _Y(){const[e,t]=x.useState(1),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState(!1),[h,g]=x.useState({}),[b,y]=x.useState(!1),j=rn(),w="https://aisdr-dbt.ddns.net",S=()=>{const P={};return a.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)||(P.email="Please enter a valid email address"):P.email="Email is required",g(P),Object.keys(P).length===0},k=()=>{const P={};return(!s||s.length!==4)&&(P.code="Enter the 4-digit OTP"),c.trim()?c.length<6&&(P.password="Password must be at least 6 characters"):P.password="Password is required",g(P),Object.keys(P).length===0},_=async P=>{if(P.preventDefault(),!!S()){y(!0);try{const T=await fetch(`${w}/api/password-reset-code`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),E=await T.json();T.ok?(I.success("Password reset OTP sent to your email! "),t(2)):I.error(E.detail||"Something went wrong.")}catch{I.error("Network error. Please try again.")}finally{y(!1)}}},C=async P=>{if(P.preventDefault(),!!k()){y(!0);try{const T=await fetch(`${w}/api/reset-password`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,code:s,password:c})}),E=await T.json();T.ok?(I.success("Password changed successfully! "),j("/user")):I.error(E.detail||"Failed to reset password.")}catch{I.error("Network error. Please try again.")}finally{y(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white to-slate-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[n.jsx("div",{className:"flex justify-center",children:n.jsx("div",{className:"w-16 h-16 bg-blue-500 rounded-2xl flex items-center justify-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:n.jsx(nF,{className:"w-8 h-8 text-white"})})}),n.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:e===1?"Reset your password":"Enter OTP & New Password"}),e===2&&n.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Weve sent a 4-digit code to"," ",n.jsx("span",{className:"font-medium",children:a})]})]}),n.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:n.jsxs("div",{className:"bg-white/90 backdrop-blur py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[e===1&&n.jsxs("form",{className:"space-y-6",onSubmit:_,children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Email address"}),n.jsxs("div",{className:"relative",children:[n.jsx(wa,{className:`h-5 w-5 absolute left-3 top-3 ${a?"text-blue-500":"text-gray-400"}`}),n.jsx("input",{type:"email",value:a,onChange:P=>r(P.target.value),className:"pl-10 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter your email",autoComplete:"email",autoFocus:!0})]}),h.email&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),h.email]})]}),n.jsx("button",{type:"submit",disabled:b,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:b?n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"animate-spin -ml-1 mr-3 h-5 w-5 border-2 border-white border-t-transparent rounded-full"}),"Sending"]}):n.jsxs("div",{className:"flex items-center",children:["Send OTP",n.jsx(uf,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform duration-200"})]})})]}),e===2&&n.jsxs("form",{className:"space-y-6",onSubmit:C,children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-baseline justify-between",children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"OTP Code"}),n.jsx("span",{className:"text-xs text-gray-500",children:"4 digits"})]}),n.jsx(SY,{length:4,value:s,onChange:l}),h.code&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),h.code]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"h-5 w-5 absolute left-3 top-3 text-gray-400"}),n.jsx("input",{type:m?"text":"password",value:c,onChange:P=>u(P.target.value),className:"pl-10 pr-12 w-full border border-gray-300 rounded-xl py-3 shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"Enter new password",autoComplete:"new-password"}),n.jsx("button",{type:"button",onClick:()=>f(P=>!P),className:"absolute right-3 top-2.5 p-1.5 rounded-lg hover:bg-gray-100 text-gray-500","aria-label":m?"Hide password":"Show password",children:m?n.jsx(hd,{className:"h-5 w-5"}):n.jsx(Un,{className:"h-5 w-5"})})]}),h.password&&n.jsxs("p",{className:"mt-2 text-sm text-red-600 flex items-center",children:[n.jsx(or,{className:"h-4 w-4 mr-1"}),h.password]}),n.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Use at least 6 characters."})]}),n.jsx("button",{type:"submit",disabled:b||!(s.length===4&&c.length>=6),className:"w-full py-3 rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:b?"Resetting":"Reset Password"}),n.jsx("div",{className:"text-center",children:n.jsxs("button",{type:"button",onClick:()=>t(1),className:"inline-flex items-center text-sm font-medium text-blue-600 hover:text-blue-500 hover:underline",children:[n.jsx(QP,{className:"mr-1 h-4 w-4"}),"Change email"]})})]}),n.jsx("div",{className:"mt-6 pt-6 border-t border-gray-100 text-center",children:n.jsxs("p",{className:"text-xs text-gray-500",children:["Remember your password?"," ",n.jsx("a",{href:"/login",className:"text-blue-600 hover:text-blue-500 hover:underline",children:"Sign in here"})]})})]})})]})}var Mj=function(e,t){return Mj=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(a[s]=r[s])},Mj(e,t)};function kY(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Mj(e,t);function a(){this.constructor=e}e.prototype=t===null?Object.create(t):(a.prototype=t.prototype,new a)}var Zn=function(){return Zn=Object.assign||function(t){for(var a,r=1,s=arguments.length;r<s;r++){a=arguments[r];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(t[l]=a[l])}return t},Zn.apply(this,arguments)};var Rv,rC;function CY(){if(rC)return Rv;rC=1;var e=!1,t,a,r,s,l,c,u,m,f,h,g,b,y,j,w;function S(){if(!e){e=!0;var _=navigator.userAgent,C=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(_),P=/(Mac OS X)|(Windows)|(Linux)/.exec(_);if(b=/\b(iPhone|iP[ao]d)/.exec(_),y=/\b(iP[ao]d)/.exec(_),h=/Android/i.exec(_),j=/FBAN\/\w+;/i.exec(_),w=/Mobile/i.exec(_),g=!!/Win64/.exec(_),C){t=C[1]?parseFloat(C[1]):C[5]?parseFloat(C[5]):NaN,t&&document&&document.documentMode&&(t=document.documentMode);var T=/(?:Trident\/(\d+.\d+))/.exec(_);c=T?parseFloat(T[1])+4:t,a=C[2]?parseFloat(C[2]):NaN,r=C[3]?parseFloat(C[3]):NaN,s=C[4]?parseFloat(C[4]):NaN,s?(C=/(?:Chrome\/(\d+\.\d+))/.exec(_),l=C&&C[1]?parseFloat(C[1]):NaN):l=NaN}else t=a=r=l=s=NaN;if(P){if(P[1]){var E=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(_);u=E?parseFloat(E[1].replace("_",".")):!0}else u=!1;m=!!P[2],f=!!P[3]}else u=m=f=!1}}var k={ie:function(){return S()||t},ieCompatibilityMode:function(){return S()||c>t},ie64:function(){return k.ie()&&g},firefox:function(){return S()||a},opera:function(){return S()||r},webkit:function(){return S()||s},safari:function(){return k.webkit()},chrome:function(){return S()||l},windows:function(){return S()||m},osx:function(){return S()||u},linux:function(){return S()||f},iphone:function(){return S()||b},mobile:function(){return S()||b||y||h||w},nativeApp:function(){return S()||j},android:function(){return S()||h},ipad:function(){return S()||y}};return Rv=k,Rv}var Lv,sC;function AY(){if(sC)return Lv;sC=1;var e=!!(typeof window<"u"&&window.document&&window.document.createElement),t={canUseDOM:e,canUseWorkers:typeof Worker<"u",canUseEventListeners:e&&!!(window.addEventListener||window.attachEvent),canUseViewport:e&&!!window.screen,isInWorker:!e};return Lv=t,Lv}var $v,iC;function TY(){if(iC)return $v;iC=1;var e=AY(),t;e.canUseDOM&&(t=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);/**
 * Checks if an event is supported in the current execution environment.
 *
 * NOTE: This will not work correctly for non-generic events such as `change`,
 * `reset`, `load`, `error`, and `select`.
 *
 * Borrows from Modernizr.
 *
 * @param {string} eventNameSuffix Event name, e.g. "click".
 * @param {?boolean} capture Check if the capture phase is supported.
 * @return {boolean} True if the event is supported.
 * @internal
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */function a(r,s){if(!e.canUseDOM||s&&!("addEventListener"in document))return!1;var l="on"+r,c=l in document;if(!c){var u=document.createElement("div");u.setAttribute(l,"return;"),c=typeof u[l]=="function"}return!c&&t&&r==="wheel"&&(c=document.implementation.hasFeature("Events.wheel","3.0")),c}return $v=a,$v}var Iv,lC;function EY(){if(lC)return Iv;lC=1;var e=CY(),t=TY(),a=10,r=40,s=800;function l(c){var u=0,m=0,f=0,h=0;return"detail"in c&&(m=c.detail),"wheelDelta"in c&&(m=-c.wheelDelta/120),"wheelDeltaY"in c&&(m=-c.wheelDeltaY/120),"wheelDeltaX"in c&&(u=-c.wheelDeltaX/120),"axis"in c&&c.axis===c.HORIZONTAL_AXIS&&(u=m,m=0),f=u*a,h=m*a,"deltaY"in c&&(h=c.deltaY),"deltaX"in c&&(f=c.deltaX),(f||h)&&c.deltaMode&&(c.deltaMode==1?(f*=r,h*=r):(f*=s,h*=s)),f&&!u&&(u=f<1?-1:1),h&&!m&&(m=h<1?-1:1),{spinX:u,spinY:m,pixelX:f,pixelY:h}}return l.getEventType=function(){return e.firefox()?"DOMMouseScroll":t("wheel")?"wheel":"mousewheel"},Iv=l,Iv}var Bv,oC;function PY(){return oC||(oC=1,Bv=EY()),Bv}var OY=PY();const MY=ds(OY);function DY(e,t,a,r,s,l){l===void 0&&(l=0);var c=yd(e,t,l),u=c.width,m=c.height,f=Math.min(u,a),h=Math.min(m,r);return f>h*s?{width:h*s,height:h}:{width:f,height:f/s}}function RY(e){return e.width>e.height?e.width/e.naturalWidth:e.height/e.naturalHeight}function Gu(e,t,a,r,s){s===void 0&&(s=0);var l=yd(t.width,t.height,s),c=l.width,u=l.height;return{x:cC(e.x,c,a.width,r),y:cC(e.y,u,a.height,r)}}function cC(e,t,a,r){var s=t*r/2-a/2;return xx(e,-s,s)}function dC(e,t){return Math.sqrt(Math.pow(e.y-t.y,2)+Math.pow(e.x-t.x,2))}function uC(e,t){return Math.atan2(t.y-e.y,t.x-e.x)*180/Math.PI}function LY(e,t,a,r,s,l,c){l===void 0&&(l=0),c===void 0&&(c=!0);var u=c?$Y:IY,m=yd(t.width,t.height,l),f=yd(t.naturalWidth,t.naturalHeight,l),h={x:u(100,((m.width-a.width/s)/2-e.x/s)/m.width*100),y:u(100,((m.height-a.height/s)/2-e.y/s)/m.height*100),width:u(100,a.width/m.width*100/s),height:u(100,a.height/m.height*100/s)},g=Math.round(u(f.width,h.width*f.width/100)),b=Math.round(u(f.height,h.height*f.height/100)),y=f.width>=f.height*r,j=y?{width:Math.round(b*r),height:b}:{width:g,height:Math.round(g/r)},w=Zn(Zn({},j),{x:Math.round(u(f.width-j.width,h.x*f.width/100)),y:Math.round(u(f.height-j.height,h.y*f.height/100))});return{croppedAreaPercentages:h,croppedAreaPixels:w}}function $Y(e,t){return Math.min(e,Math.max(0,t))}function IY(e,t){return t}function BY(e,t,a,r,s,l){var c=yd(t.width,t.height,a),u=xx(r.width/c.width*(100/e.width),s,l),m={x:u*c.width/2-r.width/2-c.width*u*(e.x/100),y:u*c.height/2-r.height/2-c.height*u*(e.y/100)};return{crop:m,zoom:u}}function zY(e,t,a){var r=RY(t);return a.height>a.width?a.height/(e.height*r):a.width/(e.width*r)}function UY(e,t,a,r,s,l){a===void 0&&(a=0);var c=yd(t.naturalWidth,t.naturalHeight,a),u=xx(zY(e,t,r),s,l),m=r.height>r.width?r.height/e.height:r.width/e.width,f={x:((c.width-e.width)/2-e.x)*m,y:((c.height-e.height)/2-e.y)*m};return{crop:f,zoom:u}}function mC(e,t){return{x:(t.x+e.x)/2,y:(t.y+e.y)/2}}function FY(e){return e*Math.PI/180}function yd(e,t,a){var r=FY(a);return{width:Math.abs(Math.cos(r)*e)+Math.abs(Math.sin(r)*t),height:Math.abs(Math.sin(r)*e)+Math.abs(Math.cos(r)*t)}}function xx(e,t,a){return Math.min(Math.max(e,t),a)}function Zh(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.filter(function(a){return typeof a=="string"&&a.length>0}).join(" ").trim()}var VY=`.reactEasyCrop_Container {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  overflow: hidden;
  user-select: none;
  touch-action: none;
  cursor: move;
  display: flex;
  justify-content: center;
  align-items: center;
}

.reactEasyCrop_Image,
.reactEasyCrop_Video {
  will-change: transform; /* this improves performances and prevent painting issues on iOS Chrome */
}

.reactEasyCrop_Contain {
  max-width: 100%;
  max-height: 100%;
  margin: auto;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
}
.reactEasyCrop_Cover_Horizontal {
  width: 100%;
  height: auto;
}
.reactEasyCrop_Cover_Vertical {
  width: auto;
  height: 100%;
}

.reactEasyCrop_CropArea {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  border: 1px solid rgba(255, 255, 255, 0.5);
  box-sizing: border-box;
  box-shadow: 0 0 0 9999em;
  color: rgba(0, 0, 0, 0.5);
  overflow: hidden;
}

.reactEasyCrop_CropAreaRound {
  border-radius: 50%;
}

.reactEasyCrop_CropAreaGrid::before {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 0;
  bottom: 0;
  left: 33.33%;
  right: 33.33%;
  border-top: 0;
  border-bottom: 0;
}

.reactEasyCrop_CropAreaGrid::after {
  content: ' ';
  box-sizing: border-box;
  position: absolute;
  border: 1px solid rgba(255, 255, 255, 0.5);
  top: 33.33%;
  bottom: 33.33%;
  left: 0;
  right: 0;
  border-left: 0;
  border-right: 0;
}
`,HY=1,qY=3,KY=1,GY=function(e){kY(t,e);function t(){var a=e!==null&&e.apply(this,arguments)||this;return a.cropperRef=x.createRef(),a.imageRef=x.createRef(),a.videoRef=x.createRef(),a.containerPosition={x:0,y:0},a.containerRef=null,a.styleRef=null,a.containerRect=null,a.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},a.dragStartPosition={x:0,y:0},a.dragStartCrop={x:0,y:0},a.gestureZoomStart=0,a.gestureRotationStart=0,a.isTouching=!1,a.lastPinchDistance=0,a.lastPinchRotation=0,a.rafDragTimeout=null,a.rafPinchTimeout=null,a.wheelTimer=null,a.currentDoc=typeof document<"u"?document:null,a.currentWindow=typeof window<"u"?window:null,a.resizeObserver=null,a.state={cropSize:null,hasWheelJustStarted:!1,mediaObjectFit:void 0},a.initResizeObserver=function(){if(!(typeof window.ResizeObserver>"u"||!a.containerRef)){var r=!0;a.resizeObserver=new window.ResizeObserver(function(s){if(r){r=!1;return}a.computeSizes()}),a.resizeObserver.observe(a.containerRef)}},a.preventZoomSafari=function(r){return r.preventDefault()},a.cleanEvents=function(){a.currentDoc&&(a.currentDoc.removeEventListener("mousemove",a.onMouseMove),a.currentDoc.removeEventListener("mouseup",a.onDragStopped),a.currentDoc.removeEventListener("touchmove",a.onTouchMove),a.currentDoc.removeEventListener("touchend",a.onDragStopped),a.currentDoc.removeEventListener("gesturechange",a.onGestureChange),a.currentDoc.removeEventListener("gestureend",a.onGestureEnd),a.currentDoc.removeEventListener("scroll",a.onScroll))},a.clearScrollEvent=function(){a.containerRef&&a.containerRef.removeEventListener("wheel",a.onWheel),a.wheelTimer&&clearTimeout(a.wheelTimer)},a.onMediaLoad=function(){var r=a.computeSizes();r&&(a.emitCropData(),a.setInitialCrop(r)),a.props.onMediaLoaded&&a.props.onMediaLoaded(a.mediaSize)},a.setInitialCrop=function(r){if(a.props.initialCroppedAreaPercentages){var s=BY(a.props.initialCroppedAreaPercentages,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=s.crop,c=s.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}else if(a.props.initialCroppedAreaPixels){var u=UY(a.props.initialCroppedAreaPixels,a.mediaSize,a.props.rotation,r,a.props.minZoom,a.props.maxZoom),l=u.crop,c=u.zoom;a.props.onCropChange(l),a.props.onZoomChange&&a.props.onZoomChange(c)}},a.computeSizes=function(){var r,s,l,c,u,m,f=a.imageRef.current||a.videoRef.current;if(f&&a.containerRef){a.containerRect=a.containerRef.getBoundingClientRect(),a.saveContainerPosition();var h=a.containerRect.width/a.containerRect.height,g=((r=a.imageRef.current)===null||r===void 0?void 0:r.naturalWidth)||((s=a.videoRef.current)===null||s===void 0?void 0:s.videoWidth)||0,b=((l=a.imageRef.current)===null||l===void 0?void 0:l.naturalHeight)||((c=a.videoRef.current)===null||c===void 0?void 0:c.videoHeight)||0,y=f.offsetWidth<g||f.offsetHeight<b,j=g/b,w=void 0;if(y)switch(a.state.mediaObjectFit){default:case"contain":w=h>j?{width:a.containerRect.height*j,height:a.containerRect.height}:{width:a.containerRect.width,height:a.containerRect.width/j};break;case"horizontal-cover":w={width:a.containerRect.width,height:a.containerRect.width/j};break;case"vertical-cover":w={width:a.containerRect.height*j,height:a.containerRect.height};break}else w={width:f.offsetWidth,height:f.offsetHeight};a.mediaSize=Zn(Zn({},w),{naturalWidth:g,naturalHeight:b}),a.props.setMediaSize&&a.props.setMediaSize(a.mediaSize);var S=a.props.cropSize?a.props.cropSize:DY(a.mediaSize.width,a.mediaSize.height,a.containerRect.width,a.containerRect.height,a.props.aspect,a.props.rotation);return(((u=a.state.cropSize)===null||u===void 0?void 0:u.height)!==S.height||((m=a.state.cropSize)===null||m===void 0?void 0:m.width)!==S.width)&&a.props.onCropSizeChange&&a.props.onCropSizeChange(S),a.setState({cropSize:S},a.recomputeCropPosition),a.props.setCropSize&&a.props.setCropSize(S),S}},a.saveContainerPosition=function(){if(a.containerRef){var r=a.containerRef.getBoundingClientRect();a.containerPosition={x:r.left,y:r.top}}},a.onMouseDown=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("mousemove",a.onMouseMove),a.currentDoc.addEventListener("mouseup",a.onDragStopped),a.saveContainerPosition(),a.onDragStart(t.getMousePoint(r)))},a.onMouseMove=function(r){return a.onDrag(t.getMousePoint(r))},a.onScroll=function(r){a.currentDoc&&(r.preventDefault(),a.saveContainerPosition())},a.onTouchStart=function(r){a.currentDoc&&(a.isTouching=!0,!(a.props.onTouchRequest&&!a.props.onTouchRequest(r))&&(a.currentDoc.addEventListener("touchmove",a.onTouchMove,{passive:!1}),a.currentDoc.addEventListener("touchend",a.onDragStopped),a.saveContainerPosition(),r.touches.length===2?a.onPinchStart(r):r.touches.length===1&&a.onDragStart(t.getTouchPoint(r.touches[0]))))},a.onTouchMove=function(r){r.preventDefault(),r.touches.length===2?a.onPinchMove(r):r.touches.length===1&&a.onDrag(t.getTouchPoint(r.touches[0]))},a.onGestureStart=function(r){a.currentDoc&&(r.preventDefault(),a.currentDoc.addEventListener("gesturechange",a.onGestureChange),a.currentDoc.addEventListener("gestureend",a.onGestureEnd),a.gestureZoomStart=a.props.zoom,a.gestureRotationStart=a.props.rotation)},a.onGestureChange=function(r){if(r.preventDefault(),!a.isTouching){var s=t.getMousePoint(r),l=a.gestureZoomStart-1+r.scale;if(a.setNewZoom(l,s,{shouldUpdatePosition:!0}),a.props.onRotationChange){var c=a.gestureRotationStart+r.rotation;a.props.onRotationChange(c)}}},a.onGestureEnd=function(r){a.cleanEvents()},a.onDragStart=function(r){var s,l,c=r.x,u=r.y;a.dragStartPosition={x:c,y:u},a.dragStartCrop=Zn({},a.props.crop),(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s)},a.onDrag=function(r){var s=r.x,l=r.y;a.currentWindow&&(a.rafDragTimeout&&a.currentWindow.cancelAnimationFrame(a.rafDragTimeout),a.rafDragTimeout=a.currentWindow.requestAnimationFrame(function(){if(a.state.cropSize&&!(s===void 0||l===void 0)){var c=s-a.dragStartPosition.x,u=l-a.dragStartPosition.y,m={x:a.dragStartCrop.x+c,y:a.dragStartCrop.y+u},f=a.props.restrictPosition?Gu(m,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):m;a.props.onCropChange(f)}}))},a.onDragStopped=function(){var r,s;a.isTouching=!1,a.cleanEvents(),a.emitCropData(),(s=(r=a.props).onInteractionEnd)===null||s===void 0||s.call(r)},a.onWheel=function(r){if(a.currentWindow&&!(a.props.onWheelRequest&&!a.props.onWheelRequest(r))){r.preventDefault();var s=t.getMousePoint(r),l=MY(r).pixelY,c=a.props.zoom-l*a.props.zoomSpeed/200;a.setNewZoom(c,s,{shouldUpdatePosition:!0}),a.state.hasWheelJustStarted||a.setState({hasWheelJustStarted:!0},function(){var u,m;return(m=(u=a.props).onInteractionStart)===null||m===void 0?void 0:m.call(u)}),a.wheelTimer&&clearTimeout(a.wheelTimer),a.wheelTimer=a.currentWindow.setTimeout(function(){return a.setState({hasWheelJustStarted:!1},function(){var u,m;return(m=(u=a.props).onInteractionEnd)===null||m===void 0?void 0:m.call(u)})},250)}},a.getPointOnContainer=function(r,s){var l=r.x,c=r.y;if(!a.containerRect)throw new Error("The Cropper is not mounted");return{x:a.containerRect.width/2-(l-s.x),y:a.containerRect.height/2-(c-s.y)}},a.getPointOnMedia=function(r){var s=r.x,l=r.y,c=a.props,u=c.crop,m=c.zoom;return{x:(s+u.x)/m,y:(l+u.y)/m}},a.setNewZoom=function(r,s,l){var c=l===void 0?{}:l,u=c.shouldUpdatePosition,m=u===void 0?!0:u;if(!(!a.state.cropSize||!a.props.onZoomChange)){var f=xx(r,a.props.minZoom,a.props.maxZoom);if(m){var h=a.getPointOnContainer(s,a.containerPosition),g=a.getPointOnMedia(h),b={x:g.x*f-h.x,y:g.y*f-h.y},y=a.props.restrictPosition?Gu(b,a.mediaSize,a.state.cropSize,f,a.props.rotation):b;a.props.onCropChange(y)}a.props.onZoomChange(f)}},a.getCropData=function(){if(!a.state.cropSize)return null;var r=a.props.restrictPosition?Gu(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;return LY(r,a.mediaSize,a.state.cropSize,a.getAspect(),a.props.zoom,a.props.rotation,a.props.restrictPosition)},a.emitCropData=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropComplete&&a.props.onCropComplete(s,l),a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.emitCropAreaChange=function(){var r=a.getCropData();if(r){var s=r.croppedAreaPercentages,l=r.croppedAreaPixels;a.props.onCropAreaChange&&a.props.onCropAreaChange(s,l)}},a.recomputeCropPosition=function(){if(a.state.cropSize){var r=a.props.restrictPosition?Gu(a.props.crop,a.mediaSize,a.state.cropSize,a.props.zoom,a.props.rotation):a.props.crop;a.props.onCropChange(r),a.emitCropData()}},a.onKeyDown=function(r){var s,l,c=a.props,u=c.crop,m=c.onCropChange,f=c.keyboardStep,h=c.zoom,g=c.rotation,b=f;if(a.state.cropSize){r.shiftKey&&(b*=.2);var y=Zn({},u);switch(r.key){case"ArrowUp":y.y-=b,r.preventDefault();break;case"ArrowDown":y.y+=b,r.preventDefault();break;case"ArrowLeft":y.x-=b,r.preventDefault();break;case"ArrowRight":y.x+=b,r.preventDefault();break;default:return}a.props.restrictPosition&&(y=Gu(y,a.mediaSize,a.state.cropSize,h,g)),r.repeat||(l=(s=a.props).onInteractionStart)===null||l===void 0||l.call(s),m(y)}},a.onKeyUp=function(r){var s,l;switch(r.key){case"ArrowUp":case"ArrowDown":case"ArrowLeft":case"ArrowRight":r.preventDefault();break;default:return}a.emitCropData(),(l=(s=a.props).onInteractionEnd)===null||l===void 0||l.call(s)},a}return t.prototype.componentDidMount=function(){!this.currentDoc||!this.currentWindow||(this.containerRef&&(this.containerRef.ownerDocument&&(this.currentDoc=this.containerRef.ownerDocument),this.currentDoc.defaultView&&(this.currentWindow=this.currentDoc.defaultView),this.initResizeObserver(),typeof window.ResizeObserver>"u"&&this.currentWindow.addEventListener("resize",this.computeSizes),this.props.zoomWithScroll&&this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}),this.containerRef.addEventListener("gesturestart",this.onGestureStart)),this.currentDoc.addEventListener("scroll",this.onScroll),this.props.disableAutomaticStylesInjection||(this.styleRef=this.currentDoc.createElement("style"),this.styleRef.setAttribute("type","text/css"),this.props.nonce&&this.styleRef.setAttribute("nonce",this.props.nonce),this.styleRef.innerHTML=VY,this.currentDoc.head.appendChild(this.styleRef)),this.imageRef.current&&this.imageRef.current.complete&&this.onMediaLoad(),this.props.setImageRef&&this.props.setImageRef(this.imageRef),this.props.setVideoRef&&this.props.setVideoRef(this.videoRef),this.props.setCropperRef&&this.props.setCropperRef(this.cropperRef))},t.prototype.componentWillUnmount=function(){var a,r;!this.currentDoc||!this.currentWindow||(typeof window.ResizeObserver>"u"&&this.currentWindow.removeEventListener("resize",this.computeSizes),(a=this.resizeObserver)===null||a===void 0||a.disconnect(),this.containerRef&&this.containerRef.removeEventListener("gesturestart",this.preventZoomSafari),this.styleRef&&((r=this.styleRef.parentNode)===null||r===void 0||r.removeChild(this.styleRef)),this.cleanEvents(),this.props.zoomWithScroll&&this.clearScrollEvent())},t.prototype.componentDidUpdate=function(a){var r,s,l,c,u,m,f,h,g;a.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):a.aspect!==this.props.aspect?this.computeSizes():a.objectFit!==this.props.objectFit?this.computeSizes():a.zoom!==this.props.zoom?this.recomputeCropPosition():((r=a.cropSize)===null||r===void 0?void 0:r.height)!==((s=this.props.cropSize)===null||s===void 0?void 0:s.height)||((l=a.cropSize)===null||l===void 0?void 0:l.width)!==((c=this.props.cropSize)===null||c===void 0?void 0:c.width)?this.computeSizes():(((u=a.crop)===null||u===void 0?void 0:u.x)!==((m=this.props.crop)===null||m===void 0?void 0:m.x)||((f=a.crop)===null||f===void 0?void 0:f.y)!==((h=this.props.crop)===null||h===void 0?void 0:h.y))&&this.emitCropAreaChange(),a.zoomWithScroll!==this.props.zoomWithScroll&&this.containerRef&&(this.props.zoomWithScroll?this.containerRef.addEventListener("wheel",this.onWheel,{passive:!1}):this.clearScrollEvent()),a.video!==this.props.video&&((g=this.videoRef.current)===null||g===void 0||g.load());var b=this.getObjectFit();b!==this.state.mediaObjectFit&&this.setState({mediaObjectFit:b},this.computeSizes)},t.prototype.getAspect=function(){var a=this.props,r=a.cropSize,s=a.aspect;return r?r.width/r.height:s},t.prototype.getObjectFit=function(){var a,r,s,l;if(this.props.objectFit==="cover"){var c=this.imageRef.current||this.videoRef.current;if(c&&this.containerRef){this.containerRect=this.containerRef.getBoundingClientRect();var u=this.containerRect.width/this.containerRect.height,m=((a=this.imageRef.current)===null||a===void 0?void 0:a.naturalWidth)||((r=this.videoRef.current)===null||r===void 0?void 0:r.videoWidth)||0,f=((s=this.imageRef.current)===null||s===void 0?void 0:s.naturalHeight)||((l=this.videoRef.current)===null||l===void 0?void 0:l.videoHeight)||0,h=m/f;return h<u?"horizontal-cover":"vertical-cover"}return"horizontal-cover"}return this.props.objectFit},t.prototype.onPinchStart=function(a){var r=t.getTouchPoint(a.touches[0]),s=t.getTouchPoint(a.touches[1]);this.lastPinchDistance=dC(r,s),this.lastPinchRotation=uC(r,s),this.onDragStart(mC(r,s))},t.prototype.onPinchMove=function(a){var r=this;if(!(!this.currentDoc||!this.currentWindow)){var s=t.getTouchPoint(a.touches[0]),l=t.getTouchPoint(a.touches[1]),c=mC(s,l);this.onDrag(c),this.rafPinchTimeout&&this.currentWindow.cancelAnimationFrame(this.rafPinchTimeout),this.rafPinchTimeout=this.currentWindow.requestAnimationFrame(function(){var u=dC(s,l),m=r.props.zoom*(u/r.lastPinchDistance);r.setNewZoom(m,c,{shouldUpdatePosition:!1}),r.lastPinchDistance=u;var f=uC(s,l),h=r.props.rotation+(f-r.lastPinchRotation);r.props.onRotationChange&&r.props.onRotationChange(h),r.lastPinchRotation=f})}},t.prototype.render=function(){var a=this,r,s=this.props,l=s.image,c=s.video,u=s.mediaProps,m=s.cropperProps,f=s.transform,h=s.crop,g=h.x,b=h.y,y=s.rotation,j=s.zoom,w=s.cropShape,S=s.showGrid,k=s.roundCropAreaPixels,_=s.style,C=_.containerStyle,P=_.cropAreaStyle,T=_.mediaStyle,E=s.classes,$=E.containerClassName,M=E.cropAreaClassName,F=E.mediaClassName,K=(r=this.state.mediaObjectFit)!==null&&r!==void 0?r:this.getObjectFit();return x.createElement("div",{onMouseDown:this.onMouseDown,onTouchStart:this.onTouchStart,ref:function(U){return a.containerRef=U},"data-testid":"container",style:C,className:Zh("reactEasyCrop_Container",$)},l?x.createElement("img",Zn({alt:"",className:Zh("reactEasyCrop_Image",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},u,{src:l,ref:this.imageRef,style:Zn(Zn({},T),{transform:f||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),onLoad:this.onMediaLoad})):c&&x.createElement("video",Zn({autoPlay:!0,playsInline:!0,loop:!0,muted:!0,className:Zh("reactEasyCrop_Video",K==="contain"&&"reactEasyCrop_Contain",K==="horizontal-cover"&&"reactEasyCrop_Cover_Horizontal",K==="vertical-cover"&&"reactEasyCrop_Cover_Vertical",F)},u,{ref:this.videoRef,onLoadedMetadata:this.onMediaLoad,style:Zn(Zn({},T),{transform:f||"translate(".concat(g,"px, ").concat(b,"px) rotate(").concat(y,"deg) scale(").concat(j,")")}),controls:!1}),(Array.isArray(c)?c:[{src:c}]).map(function(z){return x.createElement("source",Zn({key:z.src},z))})),this.state.cropSize&&x.createElement("div",Zn({ref:this.cropperRef,style:Zn(Zn({},P),{width:k?Math.round(this.state.cropSize.width):this.state.cropSize.width,height:k?Math.round(this.state.cropSize.height):this.state.cropSize.height}),tabIndex:0,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,"data-testid":"cropper",className:Zh("reactEasyCrop_CropArea",w==="round"&&"reactEasyCrop_CropAreaRound",S&&"reactEasyCrop_CropAreaGrid",M)},m)))},t.defaultProps={zoom:1,rotation:0,aspect:4/3,maxZoom:qY,minZoom:HY,cropShape:"rect",objectFit:"contain",showGrid:!0,style:{},classes:{},mediaProps:{},cropperProps:{},zoomSpeed:1,restrictPosition:!0,zoomWithScroll:!0,keyboardStep:KY},t.getMousePoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t.getTouchPoint=function(a){return{x:Number(a.clientX),y:Number(a.clientY)}},t}(x.Component);const fC="https://aisdr-dbt.ddns.net",hC=["image/png","image/jpeg","image/webp"],YY=5*1024*1024,WY=[`${fC}/api/auth`,`${fC}/api`];function Qh(...e){return e.filter(Boolean).join(" ")}async function XY(e,t,a=0){const s=await(k=>new Promise((_,C)=>{const P=new Image;P.addEventListener("load",()=>_(P)),P.addEventListener("error",T=>C(T)),P.crossOrigin="anonymous",P.src=k}))(e),l=a*Math.PI/180,c=s.naturalWidth||s.width,u=s.naturalHeight||s.height,m=document.createElement("canvas"),f=m.getContext("2d"),h=Math.abs(Math.sin(l)),g=Math.abs(Math.cos(l)),b=Math.floor(c*g+u*h),y=Math.floor(c*h+u*g);m.width=b,m.height=y,f.translate(b/2,y/2),f.rotate(l),f.drawImage(s,-c/2,-u/2);const j=f.getImageData(Math.round(t.x),Math.round(t.y),Math.round(t.width),Math.round(t.height)),w=document.createElement("canvas");return w.width=Math.round(t.width),w.height=Math.round(t.height),w.getContext("2d").putImageData(j,0,0),new Promise(k=>{w.toBlob(_=>k(_),"image/jpeg",.92)})}function ZY(){const e=rn(),[t,a]=x.useState(null),[r,s]=x.useState(null),[l,c]=x.useState(null),[u,m]=x.useState({init:!0,saving:!1,delete:!1,refresh:!1}),[f,h]=x.useState({name:"",email:""}),[g,b]=x.useState(!1),[y,j]=x.useState({x:0,y:0}),[w,S]=x.useState(1),[k,_]=x.useState(0),[C,P]=x.useState(null),[T,E]=x.useState(!1),[$,M]=x.useState(!1),F=x.useRef(null),K=()=>localStorage.getItem("token")||"",z=()=>K()?{Authorization:`Bearer ${K()}`}:{},U=()=>K()?!0:(I.error("Authentication required. Please login again."),e("/login"),!1),ae=async(Z,W={},{expectJson:_e=!0}={})=>{const te=[];for(const Ee of WY)try{const Ae=await fetch(`${Ee}${Z}`,W);if(Ae.status===401||Ae.status===403){const Fe=await Ae.text().catch(()=>"");throw new Error(Fe||"Unauthorized")}if(Ae.ok)return _e?await Ae.json():Ae;if(Ae.status===404){te.push({base:Ee,status:404});continue}const xe=await Ae.json().catch(()=>({}));throw new Error((xe==null?void 0:xe.detail)||`Request failed (${Ae.status})`)}catch(Ae){if(te.push({base:Ee,err:Ae==null?void 0:Ae.message}),(Ae==null?void 0:Ae.message)==="Unauthorized")throw Ae}const je=te!=null&&te.length?`Request failed: ${te.map(Ee=>`${Ee.base}${Ee.status||Ee.err}`).join(" | ")}`:"Network error";throw new Error(je)},ke=x.useMemo(()=>((f==null?void 0:f.name)||localStorage.getItem("name")||"User").trim().split(" ").map(W=>W[0]).join("").slice(0,2).toUpperCase(),[f==null?void 0:f.name]),se=x.useCallback(()=>{const Z=(localStorage.getItem("role")||"").toLowerCase();return Z==="user"?e("/user/dashboard",{replace:!0}):Z==="admin"?e("/admin/dashboard",{replace:!0}):e("/dashboard",{replace:!0})},[e]);x.useEffect(()=>{if(g){const Z=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=Z}}},[g]);const O=async()=>{var Z,W,_e;if(U())try{const te=await ae("/user-info",{headers:{...z(),Accept:"application/json"}}),je=((Z=te==null?void 0:te.data)==null?void 0:Z.email)||"";h({name:(W=te==null?void 0:te.data)==null?void 0:W.name,email:je});const Ee=((_e=te==null?void 0:te.data)==null?void 0:_e.profile_photo_url)||null,Ae=Ee?Ee+(Ee.includes("?")?"&":"?")+"t="+Date.now():null;if(a(Ae),Ae&&!r&&s(Ae),je){const xe=`profileComplete:${je.toLowerCase()}`;if(localStorage.getItem(xe)==="1"){se();return}}}catch(te){I.error(te.message||"Could not load profile info")}};x.useEffect(()=>{(async()=>(m(Z=>({...Z,init:!0})),await O(),m(Z=>({...Z,init:!1}))))()},[]);const H=Z=>{if(!Z)return;if(!hC.includes(Z.type)){I.error("Only PNG, JPEG or WEBP images are allowed.");return}if(Z.size>YY){I.error("Image too large. Max allowed is 5 MB.");return}r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),c(Z);const W=URL.createObjectURL(Z);s(W),b(!1)},G=Z=>{var _e;const W=(_e=Z.target.files)==null?void 0:_e[0];H(W)},B=Z=>{var _e;Z.preventDefault(),Z.stopPropagation();const W=(_e=Z.dataTransfer.files)==null?void 0:_e[0];H(W)},A=Z=>{Z.preventDefault(),Z.stopPropagation()};x.useCallback((Z,W)=>{P(W),E(!0)},[]);const L=async()=>{if(!r&&!t){I.info("Choose an image first.");return}if(!T||!C){I.info("Adjust the crop a tiny bit, then save.");return}try{m(Fe=>({...Fe,saving:!0}));const W=await XY(r||t,C,k),_e=URL.createObjectURL(W);r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(_e);const te=new FormData,je=`avatar_${Date.now()}.jpg`;te.append("file",W,je);const Ee=await ae("/profile-photo",{method:"POST",headers:{...z()},body:te}),Ae=Ee==null?void 0:Ee.photo_url,xe=Ae?Ae+(Ae.includes("?")?"&":"?")+"t="+Date.now():null;a(xe),b(!1),c(null),E(!1),M(!0),setTimeout(()=>M(!1),1400),I.success("Profile photo saved!")}catch(Z){I.error(Z.message||"Could not save the cropped photo")}finally{m(Z=>({...Z,saving:!1}))}},R=async()=>{if(!t){I.info("No profile photo to delete.");return}try{m(Z=>({...Z,delete:!0})),await ae("/profile-photo",{method:"DELETE",headers:{...z(),Accept:"application/json"}}),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),a(null),s(null),c(null),I.success("Profile photo deleted.")}catch(Z){I.error(Z.message||"Delete error")}finally{m(Z=>({...Z,delete:!1}))}},q=async()=>{m(Z=>({...Z,refresh:!0})),await O(),m(Z=>({...Z,refresh:!1}))},ce=()=>{const Z=((f==null?void 0:f.email)||"").toLowerCase();Z&&localStorage.setItem(`profileComplete:${Z}`,"1"),se()};return n.jsxs("div",{className:"min-h-[calc(100vh-4rem)] bg-white relative",children:[n.jsx("div",{className:"absolute inset-x-0 top-0 h-44",style:{background:"linear-gradient(180deg, rgba(59,130,246,0.18) 0%, rgba(255,255,255,0) 100%)"}}),n.jsxs("div",{className:"relative mx-auto max-w-5xl px-4 py-10",children:[n.jsxs("div",{className:"flex items-center justify-between gap-4 mb-8",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl md:text-3xl font-extrabold text-slate-900 tracking-tight",children:"Profile Photo"}),n.jsx("p",{className:"text-slate-500",children:"Click the ring to upload/replace. Use the Crop button to fine-tune your avatar."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:q,disabled:u.refresh||u.init,className:Qh("inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border transition","border-slate-200 text-slate-700 hover:bg-slate-50 disabled:opacity-50"),children:[u.refresh?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(kF,{className:"h-4 w-4"}),"Refresh"]}),n.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-white bg-blue-600 hover:bg-blue-700 shadow-sm",children:[n.jsx(ip,{className:"h-4 w-4"}),"Confirm"]}),n.jsxs("button",{onClick:ce,className:"inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50 transition",children:[n.jsx(qF,{className:"h-4 w-4"}),"Skip for now"]})]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white/80 backdrop-blur-sm shadow-[0_8px_30px_rgb(0,0,0,0.06)] p-6 md:p-8",children:n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsx("div",{className:"pointer-events-none absolute -top-6 h-24 w-48 rounded-full blur-2xl opacity-50",style:{background:"radial-gradient(50% 50% at 50% 50%, rgba(59,130,246,0.25) 0%, rgba(34,211,238,0.18) 60%, transparent 100%)"}}),n.jsxs("div",{className:Qh("group relative h-40 w-40 rounded-full p-[3px] cursor-pointer select-none transition-transform duration-200",$?"animate-pulse":"hover:scale-[1.02]"),onClick:()=>{var Z;return(Z=F.current)==null?void 0:Z.click()},onDrop:B,onDragOver:A,style:{background:"conic-gradient(rgba(59,130,246,0.9), rgba(34,211,238,0.9), rgba(59,130,246,0.9))"},title:"Click to upload/replace",children:[n.jsx("div",{className:"rounded-full h-full w-full bg-white grid place-items-center",children:n.jsxs("div",{className:"relative rounded-full h-[148px] w-[148px] overflow-hidden ring-2 ring-blue-500/30 shadow-md bg-slate-50 flex items-center justify-center",children:[u.init?n.jsx(_n,{className:"h-6 w-6 animate-spin text-slate-400"}):r||t?n.jsx("img",{src:r||t,alt:"Profile",className:"h-full w-full object-cover",onError:()=>{a(null),r&&r.startsWith("blob:")&&URL.revokeObjectURL(r),s(null)}}):n.jsxs("div",{className:"flex flex-col items-center justify-center",children:[n.jsx(sO,{className:"h-10 w-10 text-slate-400"}),n.jsx("span",{className:"mt-1 text-sm font-semibold text-slate-600",children:ke})]}),n.jsxs("div",{className:"absolute inset-0 bg-black/35 opacity-0 group-hover:opacity-100 transition-opacity grid place-items-center",children:[n.jsx("div",{className:"rounded-full bg-white/90 p-2 shadow-md",children:n.jsx(Zz,{className:"h-5 w-5 text-blue-600"})}),n.jsx("span",{className:"absolute bottom-2 text-xs text-white/90",children:"Change photo"})]})]})}),n.jsx("input",{ref:F,type:"file",accept:hC.join(","),className:"hidden",onChange:G})]}),n.jsxs("div",{className:"mt-3 bg-white border border-slate-200 px-2 py-1 rounded-full text-[11px] text-slate-600 shadow-sm flex items-center gap-1",children:[n.jsx(kn,{className:"h-3.5 w-3.5 text-emerald-500"}),t?"Photo set":"No photo yet"]}),n.jsxs("div",{className:"mt-5 flex flex-wrap items-center justify-center gap-3",children:[n.jsxs("button",{type:"button",onClick:()=>{if(!r&&!t){I.info("Select or upload an image first.");return}_(0),S(1),E(!1),b(!0)},className:"inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold text-white transition shadow-sm bg-blue-600 hover:bg-blue-700",children:[n.jsx(M3,{className:"h-4 w-4"}),"Crop"]}),n.jsx("button",{type:"button",onClick:R,disabled:u.delete||!t,className:Qh("inline-flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold border transition",t?"border-rose-200 text-rose-600 hover:bg-rose-50":"border-slate-200 text-slate-400 cursor-not-allowed"),children:u.delete?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4"})," Delete Photo"]})})]})]})})]}),g&&(r||t)&&n.jsxs("div",{className:"fixed inset-0 z-[10000] flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:()=>b(!1)}),n.jsxs("div",{className:"relative z-[10001] w-full max-w-lg mx-4 rounded-2xl overflow-hidden border border-slate-200 bg-white shadow-2xl",children:[n.jsxs("div",{className:"flex items-center justify-between px-5 py-3 border-b border-slate-200",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(M3,{className:"h-4 w-4 text-blue-600"}),n.jsx("h3",{className:"text-sm font-semibold text-slate-900",children:"Crop your photo"})]}),n.jsx("button",{onClick:()=>b(!1),className:"p-1 rounded-md hover:bg-slate-100",children:n.jsx(Oa,{className:"h-4 w-4 text-slate-500"})})]}),n.jsxs("div",{className:"bg-slate-900",children:[n.jsx("div",{className:"relative h-[360px] overflow-hidden",children:n.jsx(GY,{image:r||t,crop:y,zoom:w,rotation:k,aspect:1,cropShape:"round",showGrid:!1,objectFit:"contain",onCropChange:j,onRotationChange:_,onZoomChange:S,onCropComplete:(Z,W)=>{P(W),E(!0)}})}),n.jsxs("div",{className:"relative border-t border-white/10 bg-slate-900/70 p-4 space-y-3",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Zoom"}),n.jsx("input",{type:"range",min:1,max:3,step:.01,value:w,onChange:Z=>S(parseFloat(Z.target.value)),className:"w-full accent-blue-500"})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("label",{className:"text-xs text-white/80 w-16",children:"Rotate"}),n.jsx("input",{type:"range",min:-180,max:180,step:1,value:k,onChange:Z=>_(parseFloat(Z.target.value)),className:"w-full accent-blue-500"}),n.jsxs("button",{type:"button",onClick:()=>_(0),className:"ml-2 inline-flex items-center gap-1 px-2 py-1 rounded-md text-xs text-white bg-white/10 hover:bg-white/20",children:[n.jsx(OF,{className:"h-3.5 w-3.5"}),"Reset"]})]})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 px-5 py-3 bg-white",children:[n.jsx("button",{type:"button",onClick:()=>b(!1),className:"px-3 py-2 rounded-lg text-sm font-medium border border-slate-200 text-slate-700 hover:bg-slate-50",children:"Cancel"}),n.jsx("button",{type:"button",onClick:L,disabled:u.saving||!T,className:Qh("inline-flex items-center gap-2 px-4 py-2 rounded-lg text-sm font-semibold text-white transition shadow-sm",T?"bg-blue-600 hover:bg-blue-700":"bg-blue-400 cursor-not-allowed"),children:u.saving?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(ip,{className:"h-4 w-4"})," Crop & Save"]})})]})]})]})]})}function QY(...e){return e.filter(Boolean).join(" ")}const pC="https://aisdr-dbt.ddns.net";function JY({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function M2({className:e="",onMenuToggle:t,profilePath:a="/user/settings"}){const[r,s]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),f=rn();x.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const S=await fetch(`${pC}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${pC}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const h=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return n.jsxs("button",{type:"button",onClick:()=>f(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?n.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:QY("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(JY,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Convert interest into booked meetings  automatically"}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Smart lead capture & scheduling"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(g,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome back!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(g,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(g,{size:36})}),n.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(op,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function eW(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx(M2,{}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:n.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:n.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:n.jsx(vi,{className:"w-6 h-6"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Privacy Policy"}),n.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(mf,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"min-w-0",children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our SaaS-based AI calling assistant platform. The platform enables users to upload CSV files of leads, configure AI assistants for outbound and inbound calls, and automate reminders to help generate qualified leads, book appointments, and drive sales outcomes. By using the platform, you agree to the practices described here."})})]})}),n.jsxs(Gr,{title:"Information We Collect",icon:id,children:[n.jsx(Yr,{title:"Account and Profile",children:"- Name, email, and authentication tokens necessary to create and secure your account."}),n.jsx(Yr,{title:"Lead and Contact Data",children:"- Lead details uploaded via CSV (e.g., name, phone number, email, consent flags, timezone)."}),n.jsx(Yr,{title:"Communication Records",children:"- AI call logs, recordings (if enabled), call outcomes, SMS/email reminder history, and scheduling activity."}),n.jsx(Yr,{title:"Usage and Device Data",children:"- IP address, browser type, device identifiers, and product usage metrics to improve reliability and performance."})]}),n.jsx(Gr,{title:"How We Use Your Information",icon:kn,children:n.jsxs(zv,{children:[n.jsx("li",{children:"Provide and operate the AI calling, texting, scheduling, and reminder features you configure."}),n.jsx("li",{children:"Maintain compliance settings, including consent flags, DNC suppression, opt-out handling, and legal calling hours per timezone."}),n.jsx("li",{children:"Deliver usage analytics, call/text/booking history, and reporting for your account."}),n.jsx("li",{children:"Integrate with calendars and supported CRMs to sync leads, calls, and appointments as requested by you."}),n.jsx("li",{children:"Monitor platform reliability, rate-limit traffic, and prevent telecom carrier flagging."}),n.jsx("li",{children:"Communicate product updates, security notices, and critical service alerts."})]})}),n.jsxs(Gr,{title:"Legal Bases for Processing",icon:ci,children:[n.jsx(Yr,{title:"Consent",children:"Where you provide consent (e.g., uploading leads with consent flags, enabling recordings)."}),n.jsx(Yr,{title:"Contract",children:"To deliver the services under our Terms of Service."}),n.jsx(Yr,{title:"Legitimate Interests",children:"To secure, maintain, and improve the platform."}),n.jsx(Yr,{title:"Compliance with Laws",children:"To meet telecom, privacy, and consumer protection obligations."})]}),n.jsxs(Gr,{title:"How We Share Information",icon:hV,children:[n.jsx(Yr,{title:"Service Providers",children:"Telecom, email, and SMS providers; hosting and analytics vendors who support platform operation."}),n.jsx(Yr,{title:"CRM Integrations",children:"At your direction, we sync lead and appointment data to supported CRMs."}),n.jsx(Yr,{title:"Legal and Safety",children:"We may disclose information to comply with law, enforce our terms, or protect rights, safety, and security."}),n.jsx("div",{className:"mt-2 text-sm text-slate-600",children:"We do not sell your personal information."})]}),n.jsx(Gr,{title:"Compliance and Messaging Controls",icon:gi,children:n.jsxs(zv,{children:[n.jsx("li",{children:"Consent per lead: CSV uploads must include a consent flag where applicable."}),n.jsx("li",{children:"DNC suppression: Upload and maintain Do Not Call lists; calls and texts to DNC numbers are blocked."}),n.jsx("li",{children:'Opt-out handling: SMS replies like "STOP" automatically unsubscribe the recipient.'}),n.jsx("li",{children:"Local time enforcement: Calls/texts are limited to legal hours in the leads timezone (e.g., 8am9pm)."}),n.jsx("li",{children:"Rate-limiting: Calls and messages may be batched or limited to avoid carrier flagging and ensure deliverability."})]})}),n.jsx(Gr,{title:"Data Retention",icon:xi,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We retain account, lead, and communication data for as long as your account is active or as needed to provide services and comply with legal obligations. You may request deletion of certain data at any time, subject to legal or operational limitations."})}),n.jsx(Gr,{title:"Your Privacy Choices",icon:vi,children:n.jsxs(zv,{children:[n.jsx("li",{children:"Access, correct, or delete your account information."}),n.jsx("li",{children:"Manage consent flags and DNC lists for your leads."}),n.jsx("li",{children:"Disable recordings or integrations you no longer wish to use."}),n.jsx("li",{children:"Unsubscribe from non-essential communications via provided controls."})]})}),n.jsx(Gr,{title:"Security",icon:gi,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We use industry-standard safeguards to protect information in transit and at rest. No method of transmission or storage is 100% secure. We continuously improve our technical and organizational measures to protect your data."})}),n.jsx(Gr,{title:"International Data Transfers",icon:ci,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your information may be processed in regions where we or our service providers operate. We implement appropriate safeguards when transferring information across borders, consistent with applicable law."})}),n.jsx(Gr,{title:"Childrens Privacy",icon:Ww,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Our services are not directed to children. We do not knowingly collect personal information from children. If you believe a child has provided information, contact us to request deletion."})}),n.jsx(Gr,{title:"Contact Us",icon:wa,children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(wa,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(gt,{className:"w-5 h-5 text-blue-600"}),n.jsx("span",{children:"+447465884867"})]})]})}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(xC,{icon:Iz,title:"Messaging Preferences",text:"Manage reminder templates, opt-out keywords, and quiet hours.",href:"#"}),n.jsx(xC,{icon:Dn,title:"Data Deletion Request",text:"Request deletion of recordings, logs, or lead data as allowed.",href:"#"})]}),n.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"This Privacy Policy may be updated to reflect changes to our practices. We will notify you of significant updates as required by law."})]})]})}function Gr({title:e,icon:t,children:a}){return n.jsxs("section",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(t,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:a})]})}function Yr({title:e,children:t}){return n.jsxs("div",{className:"flex items-start gap-3 py-2",children:[n.jsx("div",{className:"mt-1 w-2 h-2 rounded-full bg-gradient-to-r from-blue-500 to-cyan-500"}),n.jsxs("div",{children:[n.jsx("div",{className:"font-semibold text-slate-900",children:e}),n.jsx("div",{className:"text-slate-700 leading-relaxed text-sm",children:t})]})]})}function zv({children:e}){return n.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function xC({icon:e,title:t,text:a,href:r}){return n.jsx("a",{href:r,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(e,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t}),n.jsx("div",{className:"text-sm text-slate-600 truncate",children:a})]}),n.jsx(wn,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}function tW(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx(M2,{}),n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 -z-10 opacity-40",children:n.jsx("div",{className:"h-16 sm:h-20 md:h-24 lg:h-28 bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600"})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pt-2 pb-3",children:n.jsxs("div",{className:"flex items-center gap-3 text-slate-900",children:[n.jsx("div",{className:"w-12 h-12 rounded-2xl bg-white/10 border border-white/15 grid place-content-center backdrop-blur-sm",children:n.jsx(rO,{className:"w-6 h-6"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-slate-900",children:"Terms of Service"}),n.jsxs("p",{className:"text-sm sm:text-base text-slate-700",children:["Effective date: ",new Date().toLocaleDateString()]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-white/60 to-transparent"})]}),n.jsxs("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-4 sm:py-6",children:[n.jsx(nW,{}),n.jsx(xa,{title:"1) Acceptance of Terms",icon:gU,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"By accessing or using our SaaS-based AI calling assistant platform (the Service), you agree to be bound by these Terms of Service (Terms). If you do not agree, do not use the Service. If you are using the Service on behalf of an organization, you represent that you have authority to bind that organization."})}),n.jsx(xa,{title:"2) Accounts & Eligibility",icon:Oo,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"You must provide accurate registration information."}),n.jsx("li",{children:"You are responsible for safeguarding your credentials and for all activities under your account."}),n.jsx("li",{children:"You must be at least the age of majority in your jurisdiction to use the Service."})]})}),n.jsx(xa,{title:"3) Use of Service & AI Communications",icon:kn,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"The Service provides AI-assisted outbound and inbound calling, messaging, scheduling, and reminder capabilities that you configure."}),n.jsx("li",{children:"You control the content and recipients of communications and are responsible for ensuring that your campaign settings comply with applicable laws."}),n.jsx("li",{children:"We may apply rate limits, concurrency limits, or other controls to maintain platform reliability and reduce carrier flagging."})]})}),n.jsx(xa,{title:"4) Lead Data, Consent & Compliance",icon:pd,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"You represent and warrant you have obtained all necessary permissions, consents, and legal bases to upload leads and to initiate calls or messages to those leads."}),n.jsx("li",{children:"You will respect Do Not Call (DNC) lists, honor opt-out requests, and comply with local time-of-day restrictions (e.g., 8am9pm in the leads timezone)."}),n.jsx("li",{children:"If you enable recordings, you are responsible for compliance with one-party or two-party consent rules as applicable."})]})}),n.jsx(xa,{title:"5) Prohibited Activities",icon:Dz,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"Sending spam or unlawful, deceptive, or abusive content."}),n.jsx("li",{children:"Engaging in harassment, discrimination, or any illegal activity."}),n.jsx("li",{children:"Attempting to compromise the Service, bypass security controls, or misuse APIs."}),n.jsx("li",{children:"Using the Service to contact individuals without a lawful basis or in violation of telecom/consumer protection laws."})]})}),n.jsx(xa,{title:"6) Billing, Trials & Cancellations",icon:tO,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"Fees are charged per the plan you select. Taxes may apply. You authorize us (and our payment processor) to charge your payment method for all applicable fees."}),n.jsx("li",{children:"Trials (if offered) are for evaluation only and may be modified or terminated at any time."}),n.jsx("li",{children:"You can cancel at any time; cancellations take effect at the end of the current billing period. We generally do not provide refunds except where required by law."})]})}),n.jsx(xa,{title:"7) Availability & Support",icon:xi,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We strive for high availability but do not guarantee uninterrupted Service. We may temporarily suspend access for maintenance, updates, or to address security or reliability issues."})}),n.jsx(xa,{title:"8) Intellectual Property",icon:cx,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"The Service, including all software, design assets, and related materials, is owned by us or our licensors and is protected by intellectual property laws. These Terms grant you a limited, non-exclusive, non-transferable right to use the Service for your internal business purposes."})}),n.jsx(xa,{title:"9) Privacy",icon:gi,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Your use of the Service is also governed by our Privacy Policy, which describes how we collect, use, and safeguard information. Where there is a conflict between these Terms and the Privacy Policy, these Terms control to the extent of the conflict regarding Service usage obligations."})}),n.jsx(xa,{title:"10) Warranties & Disclaimers",icon:Ww,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"THE SERVICE IS PROVIDED AS IS AND AS AVAILABLE. TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, INCLUDING IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, AND NON-INFRINGEMENT. WE DO NOT WARRANT THAT THE SERVICE WILL BE ERROR-FREE OR UNINTERRUPTED."})}),n.jsx(xa,{title:"11) Limitation of Liability",icon:HU,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"TO THE MAXIMUM EXTENT PERMITTED BY LAW, WE SHALL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, PUNITIVE, OR EXEMPLARY DAMAGES, OR FOR ANY LOSS OF PROFITS, REVENUE, DATA, OR GOODWILL. OUR AGGREGATE LIABILITY FOR ALL CLAIMS RELATING TO THE SERVICE SHALL NOT EXCEED THE AMOUNT PAID BY YOU TO US IN THE TWELVE (12) MONTHS PRECEDING THE EVENT GIVING RISE TO THE CLAIM."})}),n.jsx(xa,{title:"12) Indemnification",icon:cp,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"You agree to indemnify and hold us harmless from any claims, damages, liabilities, and expenses (including reasonable legal fees) arising from your use of the Service, your content, or your breach of these Terms or applicable laws."})}),n.jsx(xa,{title:"13) Termination",icon:Ge,children:n.jsxs(Pc,{children:[n.jsx("li",{children:"You may stop using the Service at any time. We may suspend or terminate your access for violations of these Terms or misuse of the Service."}),n.jsx("li",{children:"Upon termination, your right to use the Service ceases. Certain provisions (e.g., IP ownership, indemnification, limitations of liability) survive termination."})]})}),n.jsx(xa,{title:"14) Governing Law & Dispute Resolution",icon:ci,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms are governed by the laws applicable to our principal place of business, without regard to conflict-of-law principles. Disputes will be resolved in the courts of that jurisdiction unless otherwise agreed in writing."})}),n.jsx(xa,{title:"15) Changes to Terms",icon:uj,children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"We may update these Terms from time to time. Material changes will be communicated through the Service or via email. Continued use of the Service after changes become effective constitutes acceptance of the updated Terms."})}),n.jsx(xa,{title:"Contact Us",icon:wa,children:n.jsxs("div",{className:"grid sm:grid-cols-2 gap-4 text-slate-700",children:[n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(wa,{className:"w-5 h-5"}),n.jsx("span",{children:"muhammad.faridoon@digitalbusinesstransformation.co.uk"})]}),n.jsxs("div",{className:"flex items-center gap-3 border rounded-xl p-3",children:[n.jsx(gt,{className:"w-5 h-5"}),n.jsx("span",{children:"+447465884867"})]})]})}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(gC,{icon:uj,title:"Acceptable Use Guidelines",text:"Review examples of compliant campaigns and message templates.",href:"#"}),n.jsx(gC,{icon:pd,title:"Compliance Checklist",text:"Consent flags, DNC lists, quiet hours, and opt-out handling.",href:"#"})]}),n.jsx("p",{className:"mt-10 text-xs text-slate-500 text-center",children:"These Terms of Service may be updated from time to time. Please review them periodically."})]})]})}function nW(){return n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-6 sm:p-8",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"shrink-0 w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(rO,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"min-w-0",children:n.jsx("p",{className:"text-slate-700 leading-relaxed",children:"These Terms of Service govern your use of our AI calling assistant platform, including outbound/inbound calls, messaging, reminders, scheduling, and integrations. Please read them carefully. By using the Service, you acknowledge and agree to these Terms."})})]})})}function xa({title:e,icon:t,children:a}){return n.jsxs("section",{className:"mt-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-9 h-9 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(t,{className:"w-5 h-5 text-blue-600"})}),n.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-slate-900",children:e})]}),n.jsx("div",{className:"bg-white border border-slate-200 rounded-2xl shadow-sm p-5 sm:p-6",children:a})]})}function Pc({children:e}){return n.jsx("ol",{className:"list-decimal ml-5 space-y-2 text-slate-700",children:e})}function gC({icon:e,title:t,text:a,href:r}){return n.jsx("a",{href:r,className:"group block border border-slate-200 rounded-2xl p-5 hover:border-blue-200 hover:bg-blue-50/30 transition-colors",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-50 grid place-content-center border border-blue-100",children:n.jsx(e,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-900 truncate",children:t}),n.jsx("div",{className:"text-sm text-slate-600 truncate",children:a})]}),n.jsx(wn,{className:"ml-auto w-5 h-5 text-slate-400 group-hover:text-blue-600"})]})})}var WM={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bC=Et.createContext&&Et.createContext(WM),aW=["attr","size","title"];function rW(e,t){if(e==null)return{};var a=sW(e,t),r,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(s=0;s<l.length;s++)r=l[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function sW(e,t){if(e==null)return{};var a={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;a[r]=e[r]}return a}function pp(){return pp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pp.apply(this,arguments)}function vC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function xp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?vC(Object(a),!0).forEach(function(r){iW(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):vC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function iW(e,t,a){return t=lW(t),t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function lW(e){var t=oW(e,"string");return typeof t=="symbol"?t:t+""}function oW(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XM(e){return e&&e.map((t,a)=>Et.createElement(t.tag,xp({key:a},t.attr),XM(t.child)))}function Bt(e){return t=>Et.createElement(cW,pp({attr:xp({},e.attr)},t),XM(e.child))}function cW(e){var t=a=>{var{attr:r,size:s,title:l}=e,c=rW(e,aW),u=s||a.size||"1em",m;return a.className&&(m=a.className),e.className&&(m=(m?m+" ":"")+e.className),Et.createElement("svg",pp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},a.attr,r,c,{className:m,style:xp(xp({color:e.color||a.color},a.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&Et.createElement("title",null,l),e.children)};return bC!==void 0?Et.createElement(bC.Consumer,null,a=>t(a)):t(WM)}function dW(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(e)}function ZM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function QM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function uW(e){return Bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function JM(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zm-248 50c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(e)}function mW(e){return Bt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function fW(e){return Bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M434.7 64h-85.9c-8 0-15.7 3-21.6 8.4l-98.3 90c-.1.1-.2.3-.3.4-16.6 15.6-16.3 40.5-2.1 56 12.7 13.9 39.4 17.6 56.1 2.7.1-.1.3-.1.4-.2l79.9-73.2c6.5-5.9 16.7-5.5 22.6 1 6 6.5 5.5 16.6-1 22.6l-26.1 23.9L504 313.8c2.9 2.4 5.5 5 7.9 7.7V128l-54.6-54.6c-5.9-6-14.1-9.4-22.6-9.4zM544 128.2v223.9c0 17.7 14.3 32 32 32h64V128.2h-96zm48 223.9c-8.8 0-16-7.2-16-16s7.2-16 16-16 16 7.2 16 16-7.2 16-16 16zM0 384h64c17.7 0 32-14.3 32-32V128.2H0V384zm48-63.9c8.8 0 16 7.2 16 16s-7.2 16-16 16-16-7.2-16-16c0-8.9 7.2-16 16-16zm435.9 18.6L334.6 217.5l-30 27.5c-29.7 27.1-75.2 24.5-101.7-4.4-26.9-29.4-24.8-74.9 4.4-101.7L289.1 64h-83.8c-8.5 0-16.6 3.4-22.6 9.4L128 128v223.9h18.3l90.5 81.9c27.4 22.3 67.7 18.1 90-9.3l.2-.2 17.9 15.5c15.9 13 39.4 10.5 52.3-5.4l31.4-38.6 5.4 4.4c13.7 11.1 33.9 9.1 45-4.7l9.5-11.7c11.2-13.8 9.1-33.9-4.6-45.1z"},child:[]}]})(e)}function D2(e){return Bt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M32,224H64V416H32A31.96166,31.96166,0,0,1,0,384V256A31.96166,31.96166,0,0,1,32,224Zm512-48V448a64.06328,64.06328,0,0,1-64,64H160a64.06328,64.06328,0,0,1-64-64V176a79.974,79.974,0,0,1,80-80H288V32a32,32,0,0,1,64,0V96H464A79.974,79.974,0,0,1,544,176ZM264,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,264,256Zm-8,128H192v32h64Zm96,0H288v32h64ZM456,256a40,40,0,1,0-40,40A39.997,39.997,0,0,0,456,256Zm-8,128H384v32h64ZM640,256V384a31.96166,31.96166,0,0,1-32,32H576V224h32A31.96166,31.96166,0,0,1,640,256Z"},child:[]}]})(e)}function hW(e){return Bt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function eD(e){return Bt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function pW({compact:e=!1}){const t=x.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:ss,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:D2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Ca,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:ss,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=x.useState(0),[s,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=t[a].text,b=40,y=28,j=1100;let w;return!c&&s.length<g.length?w=setTimeout(()=>l(g.slice(0,s.length+1)),b):!c&&s.length===g.length?w=setTimeout(()=>u(!0),j):c&&s.length>0?w=setTimeout(()=>l(g.slice(0,s.length-1)),y):c&&s.length===0&&(u(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(w)},[s,c,a,t]);const{Icon:m,from:f,to:h}=t[a];return n.jsxs("div",{className:["relative flex items-center",e?"justify-center p-3 sm:p-4":"p-4 sm:p-6",e?"":"gap-4 sm:gap-6"].join(" "),children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${f}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${f}, ${h})`},children:s}),n.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function xW(){const[e,t]=x.useState(!1),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState({}),m=Ds(),f=rn();x.useEffect(()=>{const y=()=>{const j=window.innerWidth;l(j<768),t(j<1024)};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),x.useEffect(()=>{r(!1)},[m.pathname]),x.useEffect(()=>{const y=()=>{s?r(j=>!j):t(j=>!j)};return window.addEventListener("app:toggle-sidebar",y),()=>window.removeEventListener("app:toggle-sidebar",y)},[s]);const h=y=>m.pathname===y,g=[{id:"dashboard",label:"Dashboard",icon:Hw,href:"/user/dashboard",color:"text-blue-600"},{id:"phoneCalls",label:"Phone Numbers",icon:gt,href:"/user/callhistory",color:"text-orange-600"},{id:"assistants",label:"Assistants",icon:D2,color:"text-green-600",type:"group",children:[{id:"callassistant",label:"Call Assistant",icon:gt,href:"/user/callassistent",color:"text-green-600"},{id:"textassistant",label:"Text Assistant",icon:mf,href:"/user/TextAssistants",color:"text-indigo-600"}]},{id:"Leads",label:"Leads",icon:Ca,href:"/user/leads",color:"text-purple-600"},{id:"Campain",label:"Campaigns",icon:ss,href:"/user/campain",color:"text-blue-600"},{id:"settings",label:"Settings",icon:Yw,href:"/user/settings",color:"text-gray-600"},{id:"CRM",label:"CRMS",icon:fW,href:"/user/CRM",color:"text-orange-600"},{id:"Appointments",label:"Appointments",icon:O3,href:"/user/Appointments",color:"text-purple-600"},{id:"formconnection",label:"Form Connections",icon:As,color:"text-cyan-600",type:"group",children:[{id:"CustomForms",label:"CustomForms",icon:nO,href:"/user/CustomForms",color:"text-pink-600"},{id:"MetaForms",label:"MetaForms",icon:dW,href:"/user/FacebookForms",color:"text-blue-600"}]},{id:"PricingSection",label:"PricingSection",icon:O3,href:"/user/PricingSection",color:"text-purple-600"}];x.useEffect(()=>{const y=g.filter(w=>w.type==="group"),j={};y.forEach(w=>{var S;(S=w.children)!=null&&S.some(k=>h(k.href))&&(j[w.id]=!0)}),Object.keys(j).length>0&&u(w=>({...w,...j}))},[m.pathname]);const b=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(pW,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:g.map(y=>{var _;if(y.type==="group"){const C=y.icon,P=(_=y.children)==null?void 0:_.some($=>h($.href)),T=c[y.id]===!0,E=()=>{e&&!s?(t(!1),u($=>({...$,[y.id]:!0}))):u($=>({...$,[y.id]:!$[y.id]}))};return n.jsxs("div",{className:"group",children:[n.jsxs("button",{type:"button",onClick:E,className:`relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                    ${P?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                    ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"}
                    ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[P&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(C,{className:`flex-shrink-0 transition-all duration-200
                      ${e&&!s?"w-6 h-6":"w-5 h-5"}
                      ${P?y.color:"text-slate-500 group-hover:text-slate-700"}
                      ${P?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),n.jsx("span",{className:"ml-auto text-slate-500",children:T?n.jsx(eO,{className:"w-4 h-4"}):n.jsx(JP,{className:"w-4 h-4"})})]})]}),n.jsx(It,{initial:!1,children:T&&n.jsx(pe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.2},className:`${e&&!s?"px-2":"pl-9 pr-2"} mt-1 space-y-1`,children:y.children.map($=>{const M=$.icon,F=h($.href);return n.jsxs("button",{type:"button",onClick:()=>f($.href),className:`w-full text-left flex items-center gap-3 rounded-lg transition-colors
                              ${F?"bg-blue-50/70 text-blue-700 border border-blue-200":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                              p-2`,title:$.label,children:[n.jsx(M,{className:`w-4 h-4 ${F?$.color:"text-slate-400 group-hover:text-slate-600"}`}),n.jsx("span",{className:"text-sm",children:$.label}),F&&n.jsx("span",{className:"ml-auto w-2 h-2 bg-blue-600 rounded-full animate-pulse"})]},$.id)})},`${y.id}-children`)})]},y.id)}const j=y.icon,w=h(y.href),S=w&&(!e||s)?s?"pl-5":"pl-4":"",k=e&&!s?"gap-0":s?"gap-4":"gap-3";return n.jsxs("button",{type:"button",onClick:()=>f(y.href),className:`group relative w-full text-left flex items-center ${k} rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation
                ${w?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"}
                ${e&&!s?"justify-center p-2 sm:p-3":`p-3 sm:p-3 ${S}`}
                ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?y.label:"",children:[w&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)] z-0"}),n.jsx("div",{className:"relative z-10",children:n.jsx(j,{className:`flex-shrink-0 transition-all duration-200
                    ${e&&!s?"w-6 h-6":"w-5 h-5"}
                    ${w?y.color:"text-slate-500 group-hover:text-slate-700"}
                    ${w?"scale-110":"group-hover:scale-105"}`})}),(!e||s)&&n.jsx("span",{className:"font-semibold transition-all duration-200 truncate text-sm sm:text-base min-w-0",children:y.label}),w&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},y.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(y=>!y),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(wn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(Pa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(b,{})})})]})]})}function gW(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(xW,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(M2,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx($P,{})})]})]})}var Uv={},Fv={},yC;function bW(){return yC||(yC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==="__proto__"}e.isUnsafeProperty=t}(Fv)),Fv}var Vv={},jC;function tD(){return jC||(jC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){switch(typeof a){case"number":case"symbol":return!1;case"string":return a.includes(".")||a.includes("[")||a.includes("]")}}e.isDeepKey=t}(Vv)),Vv}var Hv={},wC;function nD(){return wC||(wC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var r;return typeof a=="string"||typeof a=="symbol"?a:Object.is((r=a==null?void 0:a.valueOf)==null?void 0:r.call(a),-0)?"-0":String(a)}e.toKey=t}(Hv)),Hv}var qv={},NC;function R2(){return NC||(NC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){const r=[],s=a.length;if(s===0)return r;let l=0,c="",u="",m=!1;for(a.charCodeAt(0)===46&&(r.push(""),l++);l<s;){const f=a[l];u?f==="\\"&&l+1<s?(l++,c+=a[l]):f===u?u="":c+=f:m?f==='"'||f==="'"?u=f:f==="]"?(m=!1,r.push(c),c=""):c+=f:f==="["?(m=!0,c&&(r.push(c),c="")):f==="."?c&&(r.push(c),c=""):c+=f,l++}return c&&r.push(c),r}e.toPath=t}(qv)),qv}var SC;function L2(){return SC||(SC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bW(),a=tD(),r=nD(),s=R2();function l(u,m,f){if(u==null)return f;switch(typeof m){case"string":{if(t.isUnsafeProperty(m))return f;const h=u[m];return h===void 0?a.isDeepKey(m)?l(u,s.toPath(m),f):f:h}case"number":case"symbol":{typeof m=="number"&&(m=r.toKey(m));const h=u[m];return h===void 0?f:h}default:{if(Array.isArray(m))return c(u,m,f);if(Object.is(m==null?void 0:m.valueOf(),-0)?m="-0":m=String(m),t.isUnsafeProperty(m))return f;const h=u[m];return h===void 0?f:h}}}function c(u,m,f){if(m.length===0)return f;let h=u;for(let g=0;g<m.length;g++){if(h==null||t.isUnsafeProperty(m[g]))return f;h=h[m[g]]}return h===void 0?f:h}e.get=l}(Uv)),Uv}var Kv,_C;function vW(){return _C||(_C=1,Kv=L2().get),Kv}var yW=vW();const Al=ds(yW);var Gv={exports:{}},Kt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kC;function jW(){if(kC)return Kt;kC=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),h=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),b=Symbol.for("react.view_transition"),y=Symbol.for("react.client.reference");function j(w){if(typeof w=="object"&&w!==null){var S=w.$$typeof;switch(S){case e:switch(w=w.type,w){case a:case s:case r:case m:case f:case b:return w;default:switch(w=w&&w.$$typeof,w){case c:case u:case g:case h:return w;case l:return w;default:return S}}case t:return S}}}return Kt.ContextConsumer=l,Kt.ContextProvider=c,Kt.Element=e,Kt.ForwardRef=u,Kt.Fragment=a,Kt.Lazy=g,Kt.Memo=h,Kt.Portal=t,Kt.Profiler=s,Kt.StrictMode=r,Kt.Suspense=m,Kt.SuspenseList=f,Kt.isContextConsumer=function(w){return j(w)===l},Kt.isContextProvider=function(w){return j(w)===c},Kt.isElement=function(w){return typeof w=="object"&&w!==null&&w.$$typeof===e},Kt.isForwardRef=function(w){return j(w)===u},Kt.isFragment=function(w){return j(w)===a},Kt.isLazy=function(w){return j(w)===g},Kt.isMemo=function(w){return j(w)===h},Kt.isPortal=function(w){return j(w)===t},Kt.isProfiler=function(w){return j(w)===s},Kt.isStrictMode=function(w){return j(w)===r},Kt.isSuspense=function(w){return j(w)===m},Kt.isSuspenseList=function(w){return j(w)===f},Kt.isValidElementType=function(w){return typeof w=="string"||typeof w=="function"||w===a||w===s||w===r||w===m||w===f||typeof w=="object"&&w!==null&&(w.$$typeof===g||w.$$typeof===h||w.$$typeof===c||w.$$typeof===l||w.$$typeof===u||w.$$typeof===y||w.getModuleId!==void 0)},Kt.typeOf=j,Kt}var CC;function wW(){return CC||(CC=1,Gv.exports=jW()),Gv.exports}var NW=wW(),ea=e=>e===0?0:e>0?1:-1,ur=e=>typeof e=="number"&&e!=+e,Co=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,We=e=>(typeof e=="number"||e instanceof Number)&&!ur(e),Os=e=>We(e)||typeof e=="string",SW=0,Km=e=>{var t=++SW;return"".concat(e||"").concat(t)},Ea=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!We(t)&&typeof t!="string")return r;var l;if(Co(t)){if(a==null)return r;var c=t.indexOf("%");l=a*parseFloat(t.slice(0,c))/100}else l=+t;return ur(l)&&(l=r),s&&a!=null&&l>a&&(l=a),l},aD=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,a={},r=0;r<t;r++)if(!a[e[r]])a[e[r]]=!0;else return!0;return!1},AC=(e,t)=>We(e)&&We(t)?a=>e+a*(t-e):()=>t;function ts(e,t,a){return We(e)&&We(t)?e+a*(t-e):t}function rD(e,t,a){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):Al(r,t))===a)}var an=e=>e===null||typeof e>"u",bf=e=>an(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),_W=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $2(e){if(typeof e!="string")return!1;var t=_W;return t.includes(e)}var kW=["viewBox","children"],TC=["points","pathLength"],Yv={svg:kW,polygon:TC,polyline:TC},I2=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(x.isValidElement(e)&&(a=e.props),typeof a!="object"&&typeof a!="function")return null;var r={};return Object.keys(a).forEach(s=>{$2(s)&&(r[s]=l=>a[s](a,l))}),r},CW=(e,t,a)=>r=>(e(t,a,r),null),gx=(e,t,a)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(s=>{var l=e[s];$2(s)&&typeof l=="function"&&(r||(r={}),r[s]=CW(l,t,a))}),r},AW=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function sD(e){if(typeof e!="string")return!1;var t=AW;return t.includes(e)}function Ai(e){var t=Object.entries(e).filter(a=>{var[r]=a;return sD(r)});return Object.fromEntries(t)}var EC=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",PC=null,Wv=null,iD=e=>{if(e===PC&&Array.isArray(Wv))return Wv;var t=[];return x.Children.forEach(e,a=>{an(a)||(NW.isFragment(a)?t=t.concat(iD(a.props.children)):t.push(a))}),Wv=t,PC=e,t};function vf(e,t){var a=[],r=[];return Array.isArray(t)?r=t.map(s=>EC(s)):r=[EC(t)],iD(e).forEach(s=>{var l=Al(s,"type.displayName")||Al(s,"type.name");r.indexOf(l)!==-1&&a.push(s)}),a}var lD=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,TW=(e,t,a,r)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var l=(s=r&&(Yv==null?void 0:Yv[r]))!==null&&s!==void 0?s:[],c=t.startsWith("data-"),u=typeof e!="function"&&(!!r&&l.includes(t)||sD(t)),m=!!a&&$2(t);return c||u||m},on=(e,t,a)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(x.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var s={};return Object.keys(r).forEach(l=>{var c;TW((c=r)===null||c===void 0?void 0:c[l],l,t,a)&&(s[l]=r[l])}),s},EW=["children","width","height","viewBox","className","style","title","desc"];function Dj(){return Dj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Dj.apply(null,arguments)}function PW(e,t){if(e==null)return{};var a,r,s=OW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function OW(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var oD=x.forwardRef((e,t)=>{var{children:a,width:r,height:s,viewBox:l,className:c,style:u,title:m,desc:f}=e,h=PW(e,EW),g=l||{width:r,height:s,x:0,y:0},b=Nt("recharts-surface",c);return x.createElement("svg",Dj({},on(h,!0,"svg"),{className:b,width:r,height:s,style:u,viewBox:"".concat(g.x," ").concat(g.y," ").concat(g.width," ").concat(g.height),ref:t}),x.createElement("title",null,m),x.createElement("desc",null,f),a)}),MW=["children","className"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Rj.apply(null,arguments)}function DW(e,t){if(e==null)return{};var a,r,s=RW(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function RW(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Na=x.forwardRef((e,t)=>{var{children:a,className:r}=e,s=DW(e,MW),l=Nt("recharts-layer",r);return x.createElement("g",Rj({className:l},on(s,!0),{ref:t}),a)}),LW=x.createContext(null);function Jt(e){return function(){return e}}const cD=Math.cos,gp=Math.sin,ms=Math.sqrt,bp=Math.PI,bx=2*bp,Lj=Math.PI,$j=2*Lj,bo=1e-6,$W=$j-bo;function dD(e){this._+=e[0];for(let t=1,a=e.length;t<a;++t)this._+=arguments[t]+e[t]}function IW(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return dD;const a=10**t;return function(r){this._+=r[0];for(let s=1,l=r.length;s<l;++s)this._+=Math.round(arguments[s]*a)/a+r[s]}}class BW{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?dD:IW(t)}moveTo(t,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,a){this._append`L${this._x1=+t},${this._y1=+a}`}quadraticCurveTo(t,a,r,s){this._append`Q${+t},${+a},${this._x1=+r},${this._y1=+s}`}bezierCurveTo(t,a,r,s,l,c){this._append`C${+t},${+a},${+r},${+s},${this._x1=+l},${this._y1=+c}`}arcTo(t,a,r,s,l){if(t=+t,a=+a,r=+r,s=+s,l=+l,l<0)throw new Error(`negative radius: ${l}`);let c=this._x1,u=this._y1,m=r-t,f=s-a,h=c-t,g=u-a,b=h*h+g*g;if(this._x1===null)this._append`M${this._x1=t},${this._y1=a}`;else if(b>bo)if(!(Math.abs(g*m-f*h)>bo)||!l)this._append`L${this._x1=t},${this._y1=a}`;else{let y=r-c,j=s-u,w=m*m+f*f,S=y*y+j*j,k=Math.sqrt(w),_=Math.sqrt(b),C=l*Math.tan((Lj-Math.acos((w+b-S)/(2*k*_)))/2),P=C/_,T=C/k;Math.abs(P-1)>bo&&this._append`L${t+P*h},${a+P*g}`,this._append`A${l},${l},0,0,${+(g*y>h*j)},${this._x1=t+T*m},${this._y1=a+T*f}`}}arc(t,a,r,s,l,c){if(t=+t,a=+a,r=+r,c=!!c,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(s),m=r*Math.sin(s),f=t+u,h=a+m,g=1^c,b=c?s-l:l-s;this._x1===null?this._append`M${f},${h}`:(Math.abs(this._x1-f)>bo||Math.abs(this._y1-h)>bo)&&this._append`L${f},${h}`,r&&(b<0&&(b=b%$j+$j),b>$W?this._append`A${r},${r},0,1,${g},${t-u},${a-m}A${r},${r},0,1,${g},${this._x1=f},${this._y1=h}`:b>bo&&this._append`A${r},${r},0,${+(b>=Lj)},${g},${this._x1=t+r*Math.cos(l)},${this._y1=a+r*Math.sin(l)}`)}rect(t,a,r,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+a}h${r=+r}v${+s}h${-r}Z`}toString(){return this._}}function B2(e){let t=3;return e.digits=function(a){if(!arguments.length)return t;if(a==null)t=null;else{const r=Math.floor(a);if(!(r>=0))throw new RangeError(`invalid digits: ${a}`);t=r}return e},()=>new BW(t)}function z2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function uD(e){this._context=e}uD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function vx(e){return new uD(e)}function mD(e){return e[0]}function fD(e){return e[1]}function hD(e,t){var a=Jt(!0),r=null,s=vx,l=null,c=B2(u);e=typeof e=="function"?e:e===void 0?mD:Jt(e),t=typeof t=="function"?t:t===void 0?fD:Jt(t);function u(m){var f,h=(m=z2(m)).length,g,b=!1,y;for(r==null&&(l=s(y=c())),f=0;f<=h;++f)!(f<h&&a(g=m[f],f,m))===b&&((b=!b)?l.lineStart():l.lineEnd()),b&&l.point(+e(g,f,m),+t(g,f,m));if(y)return l=null,y+""||null}return u.x=function(m){return arguments.length?(e=typeof m=="function"?m:Jt(+m),u):e},u.y=function(m){return arguments.length?(t=typeof m=="function"?m:Jt(+m),u):t},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Jt(!!m),u):a},u.curve=function(m){return arguments.length?(s=m,r!=null&&(l=s(r)),u):s},u.context=function(m){return arguments.length?(m==null?r=l=null:l=s(r=m),u):r},u}function Jh(e,t,a){var r=null,s=Jt(!0),l=null,c=vx,u=null,m=B2(f);e=typeof e=="function"?e:e===void 0?mD:Jt(+e),t=typeof t=="function"?t:Jt(t===void 0?0:+t),a=typeof a=="function"?a:a===void 0?fD:Jt(+a);function f(g){var b,y,j,w=(g=z2(g)).length,S,k=!1,_,C=new Array(w),P=new Array(w);for(l==null&&(u=c(_=m())),b=0;b<=w;++b){if(!(b<w&&s(S=g[b],b,g))===k)if(k=!k)y=b,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),j=b-1;j>=y;--j)u.point(C[j],P[j]);u.lineEnd(),u.areaEnd()}k&&(C[b]=+e(S,b,g),P[b]=+t(S,b,g),u.point(r?+r(S,b,g):C[b],a?+a(S,b,g):P[b]))}if(_)return u=null,_+""||null}function h(){return hD().defined(s).curve(c).context(l)}return f.x=function(g){return arguments.length?(e=typeof g=="function"?g:Jt(+g),r=null,f):e},f.x0=function(g){return arguments.length?(e=typeof g=="function"?g:Jt(+g),f):e},f.x1=function(g){return arguments.length?(r=g==null?null:typeof g=="function"?g:Jt(+g),f):r},f.y=function(g){return arguments.length?(t=typeof g=="function"?g:Jt(+g),a=null,f):t},f.y0=function(g){return arguments.length?(t=typeof g=="function"?g:Jt(+g),f):t},f.y1=function(g){return arguments.length?(a=g==null?null:typeof g=="function"?g:Jt(+g),f):a},f.lineX0=f.lineY0=function(){return h().x(e).y(t)},f.lineY1=function(){return h().x(e).y(a)},f.lineX1=function(){return h().x(r).y(t)},f.defined=function(g){return arguments.length?(s=typeof g=="function"?g:Jt(!!g),f):s},f.curve=function(g){return arguments.length?(c=g,l!=null&&(u=c(l)),f):c},f.context=function(g){return arguments.length?(g==null?l=u=null:u=c(l=g),f):l},f}class pD{constructor(t,a){this._context=t,this._x=a}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,a){switch(t=+t,a=+a,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,a):this._context.moveTo(t,a);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,a,t,a):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+a)/2,t,this._y0,t,a);break}}this._x0=t,this._y0=a}}function zW(e){return new pD(e,!0)}function UW(e){return new pD(e,!1)}const U2={draw(e,t){const a=ms(t/bp);e.moveTo(a,0),e.arc(0,0,a,0,bx)}},FW={draw(e,t){const a=ms(t/5)/2;e.moveTo(-3*a,-a),e.lineTo(-a,-a),e.lineTo(-a,-3*a),e.lineTo(a,-3*a),e.lineTo(a,-a),e.lineTo(3*a,-a),e.lineTo(3*a,a),e.lineTo(a,a),e.lineTo(a,3*a),e.lineTo(-a,3*a),e.lineTo(-a,a),e.lineTo(-3*a,a),e.closePath()}},xD=ms(1/3),VW=xD*2,HW={draw(e,t){const a=ms(t/VW),r=a*xD;e.moveTo(0,-a),e.lineTo(r,0),e.lineTo(0,a),e.lineTo(-r,0),e.closePath()}},qW={draw(e,t){const a=ms(t),r=-a/2;e.rect(r,r,a,a)}},KW=.8908130915292852,gD=gp(bp/10)/gp(7*bp/10),GW=gp(bx/10)*gD,YW=-cD(bx/10)*gD,WW={draw(e,t){const a=ms(t*KW),r=GW*a,s=YW*a;e.moveTo(0,-a),e.lineTo(r,s);for(let l=1;l<5;++l){const c=bx*l/5,u=cD(c),m=gp(c);e.lineTo(m*a,-u*a),e.lineTo(u*r-m*s,m*r+u*s)}e.closePath()}},Xv=ms(3),XW={draw(e,t){const a=-ms(t/(Xv*3));e.moveTo(0,a*2),e.lineTo(-Xv*a,-a),e.lineTo(Xv*a,-a),e.closePath()}},Ar=-.5,Tr=ms(3)/2,Ij=1/ms(12),ZW=(Ij/2+1)*3,QW={draw(e,t){const a=ms(t/ZW),r=a/2,s=a*Ij,l=r,c=a*Ij+a,u=-l,m=c;e.moveTo(r,s),e.lineTo(l,c),e.lineTo(u,m),e.lineTo(Ar*r-Tr*s,Tr*r+Ar*s),e.lineTo(Ar*l-Tr*c,Tr*l+Ar*c),e.lineTo(Ar*u-Tr*m,Tr*u+Ar*m),e.lineTo(Ar*r+Tr*s,Ar*s-Tr*r),e.lineTo(Ar*l+Tr*c,Ar*c-Tr*l),e.lineTo(Ar*u+Tr*m,Ar*m-Tr*u),e.closePath()}};function JW(e,t){let a=null,r=B2(s);e=typeof e=="function"?e:Jt(e||U2),t=typeof t=="function"?t:Jt(t===void 0?64:+t);function s(){let l;if(a||(a=l=r()),e.apply(this,arguments).draw(a,+t.apply(this,arguments)),l)return a=null,l+""||null}return s.type=function(l){return arguments.length?(e=typeof l=="function"?l:Jt(l),s):e},s.size=function(l){return arguments.length?(t=typeof l=="function"?l:Jt(+l),s):t},s.context=function(l){return arguments.length?(a=l??null,s):a},s}function vp(){}function yp(e,t,a){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+a)/6)}function bD(e){this._context=e}bD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:yp(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function eX(e){return new bD(e)}function vD(e){this._context=e}vD.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function tX(e){return new vD(e)}function yD(e){this._context=e}yD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var a=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(a,r):this._context.moveTo(a,r);break;case 3:this._point=4;default:yp(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function nX(e){return new yD(e)}function jD(e){this._context=e}jD.prototype={areaStart:vp,areaEnd:vp,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function aX(e){return new jD(e)}function OC(e){return e<0?-1:1}function MC(e,t,a){var r=e._x1-e._x0,s=t-e._x1,l=(e._y1-e._y0)/(r||s<0&&-0),c=(a-e._y1)/(s||r<0&&-0),u=(l*s+c*r)/(r+s);return(OC(l)+OC(c))*Math.min(Math.abs(l),Math.abs(c),.5*Math.abs(u))||0}function DC(e,t){var a=e._x1-e._x0;return a?(3*(e._y1-e._y0)/a-t)/2:t}function Zv(e,t,a){var r=e._x0,s=e._y0,l=e._x1,c=e._y1,u=(l-r)/3;e._context.bezierCurveTo(r+u,s+u*t,l-u,c-u*a,l,c)}function jp(e){this._context=e}jp.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Zv(this,this._t0,DC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var a=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Zv(this,DC(this,a=MC(this,e,t)),a);break;default:Zv(this,this._t0,a=MC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=a}}};function wD(e){this._context=new ND(e)}(wD.prototype=Object.create(jp.prototype)).point=function(e,t){jp.prototype.point.call(this,t,e)};function ND(e){this._context=e}ND.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,a,r,s,l){this._context.bezierCurveTo(t,e,r,a,l,s)}};function rX(e){return new jp(e)}function sX(e){return new wD(e)}function SD(e){this._context=e}SD.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,a=e.length;if(a)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),a===2)this._context.lineTo(e[1],t[1]);else for(var r=RC(e),s=RC(t),l=0,c=1;c<a;++l,++c)this._context.bezierCurveTo(r[0][l],s[0][l],r[1][l],s[1][l],e[c],t[c]);(this._line||this._line!==0&&a===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function RC(e){var t,a=e.length-1,r,s=new Array(a),l=new Array(a),c=new Array(a);for(s[0]=0,l[0]=2,c[0]=e[0]+2*e[1],t=1;t<a-1;++t)s[t]=1,l[t]=4,c[t]=4*e[t]+2*e[t+1];for(s[a-1]=2,l[a-1]=7,c[a-1]=8*e[a-1]+e[a],t=1;t<a;++t)r=s[t]/l[t-1],l[t]-=r,c[t]-=r*c[t-1];for(s[a-1]=c[a-1]/l[a-1],t=a-2;t>=0;--t)s[t]=(c[t]-s[t+1])/l[t];for(l[a-1]=(e[a]+s[a-1])/2,t=0;t<a-1;++t)l[t]=2*e[t+1]-s[t+1];return[s,l]}function iX(e){return new SD(e)}function yx(e,t){this._context=e,this._t=t}yx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var a=this._x*(1-this._t)+e*this._t;this._context.lineTo(a,this._y),this._context.lineTo(a,t)}break}}this._x=e,this._y=t}};function lX(e){return new yx(e,.5)}function oX(e){return new yx(e,0)}function cX(e){return new yx(e,1)}function jd(e,t){if((c=e.length)>1)for(var a=1,r,s,l=e[t[0]],c,u=l.length;a<c;++a)for(s=l,l=e[t[a]],r=0;r<u;++r)l[r][1]+=l[r][0]=isNaN(s[r][1])?s[r][0]:s[r][1]}function Bj(e){for(var t=e.length,a=new Array(t);--t>=0;)a[t]=t;return a}function dX(e,t){return e[t]}function uX(e){const t=[];return t.key=e,t}function mX(){var e=Jt([]),t=Bj,a=jd,r=dX;function s(l){var c=Array.from(e.apply(this,arguments),uX),u,m=c.length,f=-1,h;for(const g of l)for(u=0,++f;u<m;++u)(c[u][f]=[0,+r(g,c[u].key,f,l)]).data=g;for(u=0,h=z2(t(c));u<m;++u)c[h[u]].index=u;return a(c,h),c}return s.keys=function(l){return arguments.length?(e=typeof l=="function"?l:Jt(Array.from(l)),s):e},s.value=function(l){return arguments.length?(r=typeof l=="function"?l:Jt(+l),s):r},s.order=function(l){return arguments.length?(t=l==null?Bj:typeof l=="function"?l:Jt(Array.from(l)),s):t},s.offset=function(l){return arguments.length?(a=l??jd,s):a},s}function fX(e,t){if((r=e.length)>0){for(var a,r,s=0,l=e[0].length,c;s<l;++s){for(c=a=0;a<r;++a)c+=e[a][s][1]||0;if(c)for(a=0;a<r;++a)e[a][s][1]/=c}jd(e,t)}}function hX(e,t){if((s=e.length)>0){for(var a=0,r=e[t[0]],s,l=r.length;a<l;++a){for(var c=0,u=0;c<s;++c)u+=e[c][a][1]||0;r[a][1]+=r[a][0]=-u/2}jd(e,t)}}function pX(e,t){if(!(!((c=e.length)>0)||!((l=(s=e[t[0]]).length)>0))){for(var a=0,r=1,s,l,c;r<l;++r){for(var u=0,m=0,f=0;u<c;++u){for(var h=e[t[u]],g=h[r][1]||0,b=h[r-1][1]||0,y=(g-b)/2,j=0;j<u;++j){var w=e[t[j]],S=w[r][1]||0,k=w[r-1][1]||0;y+=S-k}m+=g,f+=y*g}s[r-1][1]+=s[r-1][0]=a,m&&(a-=f/m)}s[r-1][1]+=s[r-1][0]=a,jd(e,t)}}var xX=["type","size","sizeType"];function zj(){return zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},zj.apply(null,arguments)}function LC(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function $C(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?LC(Object(a),!0).forEach(function(r){gX(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):LC(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function gX(e,t,a){return(t=bX(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function bX(e){var t=vX(e,"string");return typeof t=="symbol"?t:t+""}function vX(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yX(e,t){if(e==null)return{};var a,r,s=jX(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function jX(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var _D={symbolCircle:U2,symbolCross:FW,symbolDiamond:HW,symbolSquare:qW,symbolStar:WW,symbolTriangle:XW,symbolWye:QW},wX=Math.PI/180,NX=e=>{var t="symbol".concat(bf(e));return _D[t]||U2},SX=(e,t,a)=>{if(t==="area")return e;switch(a){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*wX;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},_X=(e,t)=>{_D["symbol".concat(bf(e))]=t},kD=e=>{var{type:t="circle",size:a=64,sizeType:r="area"}=e,s=yX(e,xX),l=$C($C({},s),{},{type:t,size:a,sizeType:r}),c=()=>{var g=NX(t),b=JW().type(g).size(SX(a,r,t));return b()},{className:u,cx:m,cy:f}=l,h=on(l,!0);return m===+m&&f===+f&&a===+a?x.createElement("path",zj({},h,{className:Nt("recharts-symbols",u),transform:"translate(".concat(m,", ").concat(f,")"),d:c()})):null};kD.registerSymbol=_X;var Qv={},Jv={},IC;function kX(){return IC||(IC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){const s=new Map;for(let l=0;l<a.length;l++){const c=a[l],u=r(c);s.has(u)||s.set(u,c)}return Array.from(s.values())}e.uniqBy=t}(Jv)),Jv}var ey={},BC;function CD(){return BC||(BC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a}e.identity=t}(ey)),ey}var ty={},ny={},ay={},zC;function CX(){return zC||(zC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Number.isSafeInteger(a)&&a>=0}e.isLength=t}(ay)),ay}var UC;function F2(){return UC||(UC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CX();function a(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=a}(ny)),ny}var ry={},FC;function AX(){return FC||(FC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="object"&&a!==null}e.isObjectLike=t}(ry)),ry}var VC;function TX(){return VC||(VC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=F2(),a=AX();function r(s){return a.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=r}(ty)),ty}var sy={},iy={},HC;function EX(){return HC||(HC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=L2();function a(r){return function(s){return t.get(s,r)}}e.property=a}(iy)),iy}var ly={},oy={},cy={},dy={},qC;function AD(){return qC||(qC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a!==null&&(typeof a=="object"||typeof a=="function")}e.isObject=t}(dy)),dy}var uy={},KC;function TD(){return KC||(KC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null||typeof a!="object"&&typeof a!="function"}e.isPrimitive=t}(uy)),uy}var my={},GC;function V2(){return GC||(GC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r){return a===r||Number.isNaN(a)&&Number.isNaN(r)}e.eq=t}(my)),my}var YC;function PX(){return YC||(YC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2(),a=AD(),r=TD(),s=V2();function l(g,b,y){return typeof y!="function"?t.isMatch(g,b):c(g,b,function j(w,S,k,_,C,P){const T=y(w,S,k,_,C,P);return T!==void 0?!!T:c(w,S,j,P)},new Map)}function c(g,b,y,j){if(b===g)return!0;switch(typeof b){case"object":return u(g,b,y,j);case"function":return Object.keys(b).length>0?c(g,{...b},y,j):s.eq(g,b);default:return a.isObject(g)?typeof b=="string"?b==="":!0:s.eq(g,b)}}function u(g,b,y,j){if(b==null)return!0;if(Array.isArray(b))return f(g,b,y,j);if(b instanceof Map)return m(g,b,y,j);if(b instanceof Set)return h(g,b,y,j);const w=Object.keys(b);if(g==null)return w.length===0;if(w.length===0)return!0;if(j&&j.has(b))return j.get(b)===g;j&&j.set(b,g);try{for(let S=0;S<w.length;S++){const k=w[S];if(!r.isPrimitive(g)&&!(k in g)||b[k]===void 0&&g[k]!==void 0||b[k]===null&&g[k]!==null||!y(g[k],b[k],k,g,b,j))return!1}return!0}finally{j&&j.delete(b)}}function m(g,b,y,j){if(b.size===0)return!0;if(!(g instanceof Map))return!1;for(const[w,S]of b.entries()){const k=g.get(w);if(y(k,S,w,g,b,j)===!1)return!1}return!0}function f(g,b,y,j){if(b.length===0)return!0;if(!Array.isArray(g))return!1;const w=new Set;for(let S=0;S<b.length;S++){const k=b[S];let _=!1;for(let C=0;C<g.length;C++){if(w.has(C))continue;const P=g[C];let T=!1;if(y(P,k,S,g,b,j)&&(T=!0),T){w.add(C),_=!0;break}}if(!_)return!1}return!0}function h(g,b,y,j){return b.size===0?!0:g instanceof Set?f([...g],[...b],y,j):!1}e.isMatchWith=l,e.isSetMatch=h}(cy)),cy}var WC;function H2(){return WC||(WC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PX();function a(r,s){return t.isMatchWith(r,s,()=>{})}e.isMatch=a}(oy)),oy}var fy={},hy={},py={},XC;function ED(){return XC||(XC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Object.getOwnPropertySymbols(a).filter(r=>Object.prototype.propertyIsEnumerable.call(a,r))}e.getSymbols=t}(py)),py}var xy={},ZC;function q2(){return ZC||(ZC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(a)}e.getTag=t}(xy)),xy}var gy={},QC;function K2(){return QC||(QC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",a="[object String]",r="[object Number]",s="[object Boolean]",l="[object Arguments]",c="[object Symbol]",u="[object Date]",m="[object Map]",f="[object Set]",h="[object Array]",g="[object Function]",b="[object ArrayBuffer]",y="[object Object]",j="[object Error]",w="[object DataView]",S="[object Uint8Array]",k="[object Uint8ClampedArray]",_="[object Uint16Array]",C="[object Uint32Array]",P="[object BigUint64Array]",T="[object Int8Array]",E="[object Int16Array]",$="[object Int32Array]",M="[object BigInt64Array]",F="[object Float32Array]",K="[object Float64Array]";e.argumentsTag=l,e.arrayBufferTag=b,e.arrayTag=h,e.bigInt64ArrayTag=M,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=w,e.dateTag=u,e.errorTag=j,e.float32ArrayTag=F,e.float64ArrayTag=K,e.functionTag=g,e.int16ArrayTag=E,e.int32ArrayTag=$,e.int8ArrayTag=T,e.mapTag=m,e.numberTag=r,e.objectTag=y,e.regexpTag=t,e.setTag=f,e.stringTag=a,e.symbolTag=c,e.uint16ArrayTag=_,e.uint32ArrayTag=C,e.uint8ArrayTag=S,e.uint8ClampedArrayTag=k}(gy)),gy}var by={},JC;function OX(){return JC||(JC=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)}e.isTypedArray=t}(by)),by}var eA;function PD(){return eA||(eA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ED(),a=q2(),r=K2(),s=TD(),l=OX();function c(h,g){return u(h,void 0,h,new Map,g)}function u(h,g,b,y=new Map,j=void 0){const w=j==null?void 0:j(h,g,b,y);if(w!==void 0)return w;if(s.isPrimitive(h))return h;if(y.has(h))return y.get(h);if(Array.isArray(h)){const S=new Array(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=u(h[k],k,b,y,j);return Object.hasOwn(h,"index")&&(S.index=h.index),Object.hasOwn(h,"input")&&(S.input=h.input),S}if(h instanceof Date)return new Date(h.getTime());if(h instanceof RegExp){const S=new RegExp(h.source,h.flags);return S.lastIndex=h.lastIndex,S}if(h instanceof Map){const S=new Map;y.set(h,S);for(const[k,_]of h)S.set(k,u(_,k,b,y,j));return S}if(h instanceof Set){const S=new Set;y.set(h,S);for(const k of h)S.add(u(k,void 0,b,y,j));return S}if(typeof Buffer<"u"&&Buffer.isBuffer(h))return h.subarray();if(l.isTypedArray(h)){const S=new(Object.getPrototypeOf(h)).constructor(h.length);y.set(h,S);for(let k=0;k<h.length;k++)S[k]=u(h[k],k,b,y,j);return S}if(h instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&h instanceof SharedArrayBuffer)return h.slice(0);if(h instanceof DataView){const S=new DataView(h.buffer.slice(0),h.byteOffset,h.byteLength);return y.set(h,S),m(S,h,b,y,j),S}if(typeof File<"u"&&h instanceof File){const S=new File([h],h.name,{type:h.type});return y.set(h,S),m(S,h,b,y,j),S}if(h instanceof Blob){const S=new Blob([h],{type:h.type});return y.set(h,S),m(S,h,b,y,j),S}if(h instanceof Error){const S=new h.constructor;return y.set(h,S),S.message=h.message,S.name=h.name,S.stack=h.stack,S.cause=h.cause,m(S,h,b,y,j),S}if(typeof h=="object"&&f(h)){const S=Object.create(Object.getPrototypeOf(h));return y.set(h,S),m(S,h,b,y,j),S}return h}function m(h,g,b=h,y,j){const w=[...Object.keys(g),...t.getSymbols(g)];for(let S=0;S<w.length;S++){const k=w[S],_=Object.getOwnPropertyDescriptor(h,k);(_==null||_.writable)&&(h[k]=u(g[k],k,b,y,j))}}function f(h){switch(a.getTag(h)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=c,e.cloneDeepWithImpl=u,e.copyProperties=m}(hy)),hy}var tA;function MX(){return tA||(tA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PD();function a(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=a}(fy)),fy}var nA;function DX(){return nA||(nA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2(),a=MX();function r(s){return s=a.cloneDeep(s),l=>t.isMatch(l,s)}e.matches=r}(ly)),ly}var vy={},yy={},jy={},aA;function RX(){return aA||(aA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=PD(),a=K2();function r(s,l){return t.cloneDeepWith(s,(c,u,m,f)=>{const h=l==null?void 0:l(c,u,m,f);if(h!==void 0)return h;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case a.numberTag:case a.stringTag:case a.booleanTag:{const g=new s.constructor(s==null?void 0:s.valueOf());return t.copyProperties(g,s),g}case a.argumentsTag:{const g={};return t.copyProperties(g,s),g.length=s.length,g[Symbol.iterator]=s[Symbol.iterator],g}default:return}})}e.cloneDeepWith=r}(jy)),jy}var rA;function LX(){return rA||(rA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RX();function a(r){return t.cloneDeepWith(r)}e.cloneDeep=a}(yy)),yy}var wy={},Ny={},sA;function OD(){return sA||(sA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function a(r,s=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<s;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=a}(Ny)),Ny}var Sy={},iA;function $X(){return iA||(iA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=q2();function a(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=a}(Sy)),Sy}var lA;function IX(){return lA||(lA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tD(),a=OD(),r=$X(),s=R2();function l(c,u){let m;if(Array.isArray(u)?m=u:typeof u=="string"&&t.isDeepKey(u)&&(c==null?void 0:c[u])==null?m=s.toPath(u):m=[u],m.length===0)return!1;let f=c;for(let h=0;h<m.length;h++){const g=m[h];if((f==null||!Object.hasOwn(f,g))&&!((Array.isArray(f)||r.isArguments(f))&&a.isIndex(g)&&g<f.length))return!1;f=f[g]}return!0}e.has=l}(wy)),wy}var oA;function BX(){return oA||(oA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H2(),a=nD(),r=LX(),s=L2(),l=IX();function c(u,m){switch(typeof u){case"object":{Object.is(u==null?void 0:u.valueOf(),-0)&&(u="-0");break}case"number":{u=a.toKey(u);break}}return m=r.cloneDeep(m),function(f){const h=s.get(f,u);return h===void 0?l.has(f,u):m===void 0?h===void 0:t.isMatch(h,m)}}e.matchesProperty=c}(vy)),vy}var cA;function zX(){return cA||(cA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=CD(),a=EX(),r=DX(),s=BX();function l(c){if(c==null)return t.identity;switch(typeof c){case"function":return c;case"object":return Array.isArray(c)&&c.length===2?s.matchesProperty(c[0],c[1]):r.matches(c);case"string":case"symbol":case"number":return a.property(c)}}e.iteratee=l}(sy)),sy}var dA;function UX(){return dA||(dA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kX(),a=CD(),r=TX(),s=zX();function l(c,u=a.identity){return r.isArrayLikeObject(c)?t.uniqBy(Array.from(c),s.iteratee(u)):[]}e.uniqBy=l}(Qv)),Qv}var _y,uA;function FX(){return uA||(uA=1,_y=UX().uniqBy),_y}var VX=FX();const mA=ds(VX);function HX(e,t,a){return t===!0?mA(e,a):typeof t=="function"?mA(e,t):e}var ky={exports:{}},Cy={},Ay={exports:{}},Ty={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fA;function qX(){if(fA)return Ty;fA=1;var e=Pd();function t(g,b){return g===b&&(g!==0||1/g===1/b)||g!==g&&b!==b}var a=typeof Object.is=="function"?Object.is:t,r=e.useState,s=e.useEffect,l=e.useLayoutEffect,c=e.useDebugValue;function u(g,b){var y=b(),j=r({inst:{value:y,getSnapshot:b}}),w=j[0].inst,S=j[1];return l(function(){w.value=y,w.getSnapshot=b,m(w)&&S({inst:w})},[g,y,b]),s(function(){return m(w)&&S({inst:w}),g(function(){m(w)&&S({inst:w})})},[g]),c(y),y}function m(g){var b=g.getSnapshot;g=g.value;try{var y=b();return!a(g,y)}catch{return!0}}function f(g,b){return b()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?f:u;return Ty.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:h,Ty}var hA;function KX(){return hA||(hA=1,Ay.exports=qX()),Ay.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pA;function GX(){if(pA)return Cy;pA=1;var e=Pd(),t=KX();function a(f,h){return f===h&&(f!==0||1/f===1/h)||f!==f&&h!==h}var r=typeof Object.is=="function"?Object.is:a,s=t.useSyncExternalStore,l=e.useRef,c=e.useEffect,u=e.useMemo,m=e.useDebugValue;return Cy.useSyncExternalStoreWithSelector=function(f,h,g,b,y){var j=l(null);if(j.current===null){var w={hasValue:!1,value:null};j.current=w}else w=j.current;j=u(function(){function k(E){if(!_){if(_=!0,C=E,E=b(E),y!==void 0&&w.hasValue){var $=w.value;if(y($,E))return P=$}return P=E}if($=P,r(C,E))return $;var M=b(E);return y!==void 0&&y($,M)?(C=E,$):(C=E,P=M)}var _=!1,C,P,T=g===void 0?null:g;return[function(){return k(h())},T===null?void 0:function(){return k(T())}]},[h,g,b,y]);var S=s(f,j[0],j[1]);return c(function(){w.hasValue=!0,w.value=S},[S]),m(S),S},Cy}var xA;function YX(){return xA||(xA=1,ky.exports=GX()),ky.exports}var WX=YX(),G2=x.createContext(null),XX=e=>e,Cn=()=>{var e=x.useContext(G2);return e?e.store.dispatch:XX},Z0=()=>{},ZX=()=>Z0,QX=(e,t)=>e===t;function et(e){var t=x.useContext(G2);return WX.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:ZX,t?t.store.getState:Z0,t?t.store.getState:Z0,t?e:Z0,QX)}function JX(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function eZ(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function tZ(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(a=>typeof a=="function")){const a=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${a}]`)}}var gA=e=>Array.isArray(e)?e:[e];function nZ(e){const t=Array.isArray(e[0])?e[0]:e;return tZ(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function aZ(e,t){const a=[],{length:r}=e;for(let s=0;s<r;s++)a.push(e[s].apply(null,t));return a}var rZ=class{constructor(e){this.value=e}deref(){return this.value}},sZ=typeof WeakRef<"u"?WeakRef:rZ,iZ=0,bA=1;function e0(){return{s:iZ,v:void 0,o:null,p:null}}function MD(e,t={}){let a=e0();const{resultEqualityCheck:r}=t;let s,l=0;function c(){var g;let u=a;const{length:m}=arguments;for(let b=0,y=m;b<y;b++){const j=arguments[b];if(typeof j=="function"||typeof j=="object"&&j!==null){let w=u.o;w===null&&(u.o=w=new WeakMap);const S=w.get(j);S===void 0?(u=e0(),w.set(j,u)):u=S}else{let w=u.p;w===null&&(u.p=w=new Map);const S=w.get(j);S===void 0?(u=e0(),w.set(j,u)):u=S}}const f=u;let h;if(u.s===bA)h=u.v;else if(h=e.apply(null,arguments),l++,r){const b=((g=s==null?void 0:s.deref)==null?void 0:g.call(s))??s;b!=null&&r(b,h)&&(h=b,l!==0&&l--),s=typeof h=="object"&&h!==null||typeof h=="function"?new sZ(h):h}return f.s=bA,f.v=h,h}return c.clearCache=()=>{a=e0(),c.resetResultsCount()},c.resultsCount=()=>l,c.resetResultsCount=()=>{l=0},c}function lZ(e,...t){const a=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...s)=>{let l=0,c=0,u,m={},f=s.pop();typeof f=="object"&&(m=f,f=s.pop()),JX(f,`createSelector expects an output function after the inputs, but received: [${typeof f}]`);const h={...a,...m},{memoize:g,memoizeOptions:b=[],argsMemoize:y=MD,argsMemoizeOptions:j=[]}=h,w=gA(b),S=gA(j),k=nZ(s),_=g(function(){return l++,f.apply(null,arguments)},...w),C=y(function(){c++;const T=aZ(k,arguments);return u=_.apply(null,T),u},...S);return Object.assign(C,{resultFunc:f,memoizedResultFunc:_,dependencies:k,dependencyRecomputations:()=>c,resetDependencyRecomputations:()=>{c=0},lastResult:()=>u,recomputations:()=>l,resetRecomputations:()=>{l=0},memoize:g,argsMemoize:y})};return Object.assign(r,{withTypes:()=>r}),r}var Ne=lZ(MD),oZ=Object.assign((e,t=Ne)=>{eZ(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const a=Object.keys(e),r=a.map(l=>e[l]);return t(r,(...l)=>l.reduce((c,u,m)=>(c[a[m]]=u,c),{}))},{withTypes:()=>oZ}),Ey={},Py={},Oy={},vA;function cZ(){return vA||(vA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const a=(r,s,l)=>{if(r!==s){const c=t(r),u=t(s);if(c===u&&c===0){if(r<s)return l==="desc"?1:-1;if(r>s)return l==="desc"?-1:1}return l==="desc"?u-c:c-u}return 0};e.compareValues=a}(Oy)),Oy}var My={},Dy={},yA;function DD(){return yA||(yA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return typeof a=="symbol"||a instanceof Symbol}e.isSymbol=t}(Dy)),Dy}var jA;function dZ(){return jA||(jA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DD(),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function s(l,c){return Array.isArray(l)?!1:typeof l=="number"||typeof l=="boolean"||l==null||t.isSymbol(l)?!0:typeof l=="string"&&(r.test(l)||!a.test(l))||c!=null&&Object.hasOwn(c,l)}e.isKey=s}(My)),My}var wA;function uZ(){return wA||(wA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cZ(),a=dZ(),r=R2();function s(l,c,u,m){if(l==null)return[];u=m?void 0:u,Array.isArray(l)||(l=Object.values(l)),Array.isArray(c)||(c=c==null?[null]:[c]),c.length===0&&(c=[null]),Array.isArray(u)||(u=u==null?[]:[u]),u=u.map(y=>String(y));const f=(y,j)=>{let w=y;for(let S=0;S<j.length&&w!=null;++S)w=w[j[S]];return w},h=(y,j)=>j==null||y==null?j:typeof y=="object"&&"key"in y?Object.hasOwn(j,y.key)?j[y.key]:f(j,y.path):typeof y=="function"?y(j):Array.isArray(y)?f(j,y):typeof j=="object"?j[y]:j,g=c.map(y=>(Array.isArray(y)&&y.length===1&&(y=y[0]),y==null||typeof y=="function"||Array.isArray(y)||a.isKey(y)?y:{key:y,path:r.toPath(y)}));return l.map(y=>({original:y,criteria:g.map(j=>h(j,y))})).slice().sort((y,j)=>{for(let w=0;w<g.length;w++){const S=t.compareValues(y.criteria[w],j.criteria[w],u[w]);if(S!==0)return S}return 0}).map(y=>y.original)}e.orderBy=s}(Py)),Py}var Ry={},NA;function mZ(){return NA||(NA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r=1){const s=[],l=Math.floor(r),c=(u,m)=>{for(let f=0;f<u.length;f++){const h=u[f];Array.isArray(h)&&m<l?c(h,m+1):s.push(h)}};return c(a,0),s}e.flatten=t}(Ry)),Ry}var Ly={},SA;function RD(){return SA||(SA=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OD(),a=F2(),r=AD(),s=V2();function l(c,u,m){return r.isObject(m)&&(typeof u=="number"&&a.isArrayLike(m)&&t.isIndex(u)&&u<m.length||typeof u=="string"&&u in m)?s.eq(m[u],c):!1}e.isIterateeCall=l}(Ly)),Ly}var _A;function fZ(){return _A||(_A=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=uZ(),a=mZ(),r=RD();function s(l,...c){const u=c.length;return u>1&&r.isIterateeCall(l,c[0],c[1])?c=[]:u>2&&r.isIterateeCall(c[0],c[1],c[2])&&(c=[c[0]]),t.orderBy(l,a.flatten(c),["asc"])}e.sortBy=s}(Ey)),Ey}var $y,kA;function hZ(){return kA||(kA=1,$y=fZ().sortBy),$y}var pZ=hZ();const jx=ds(pZ);var LD=e=>e.legend.settings,xZ=e=>e.legend.size,gZ=e=>e.legend.payload;Ne([gZ,LD],(e,t)=>{var{itemSorter:a}=t,r=e.flat(1);return a?jx(r,a):r});var t0=1;function bZ(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,a]=x.useState({height:0,left:0,top:0,width:0}),r=x.useCallback(s=>{if(s!=null){var l=s.getBoundingClientRect(),c={height:l.height,left:l.left,top:l.top,width:l.width};(Math.abs(c.height-t.height)>t0||Math.abs(c.left-t.left)>t0||Math.abs(c.top-t.top)>t0||Math.abs(c.width-t.width)>t0)&&a({height:c.height,left:c.left,top:c.top,width:c.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function la(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var vZ=typeof Symbol=="function"&&Symbol.observable||"@@observable",CA=vZ,Iy=()=>Math.random().toString(36).substring(7).split("").join("."),yZ={INIT:`@@redux/INIT${Iy()}`,REPLACE:`@@redux/REPLACE${Iy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Iy()}`},wp=yZ;function Y2(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function $D(e,t,a){if(typeof e!="function")throw new Error(la(2));if(typeof t=="function"&&typeof a=="function"||typeof a=="function"&&typeof arguments[3]=="function")throw new Error(la(0));if(typeof t=="function"&&typeof a>"u"&&(a=t,t=void 0),typeof a<"u"){if(typeof a!="function")throw new Error(la(1));return a($D)(e,t)}let r=e,s=t,l=new Map,c=l,u=0,m=!1;function f(){c===l&&(c=new Map,l.forEach((S,k)=>{c.set(k,S)}))}function h(){if(m)throw new Error(la(3));return s}function g(S){if(typeof S!="function")throw new Error(la(4));if(m)throw new Error(la(5));let k=!0;f();const _=u++;return c.set(_,S),function(){if(k){if(m)throw new Error(la(6));k=!1,f(),c.delete(_),l=null}}}function b(S){if(!Y2(S))throw new Error(la(7));if(typeof S.type>"u")throw new Error(la(8));if(typeof S.type!="string")throw new Error(la(17));if(m)throw new Error(la(9));try{m=!0,s=r(s,S)}finally{m=!1}return(l=c).forEach(_=>{_()}),S}function y(S){if(typeof S!="function")throw new Error(la(10));r=S,b({type:wp.REPLACE})}function j(){const S=g;return{subscribe(k){if(typeof k!="object"||k===null)throw new Error(la(11));function _(){const P=k;P.next&&P.next(h())}return _(),{unsubscribe:S(_)}},[CA](){return this}}}return b({type:wp.INIT}),{dispatch:b,subscribe:g,getState:h,replaceReducer:y,[CA]:j}}function jZ(e){Object.keys(e).forEach(t=>{const a=e[t];if(typeof a(void 0,{type:wp.INIT})>"u")throw new Error(la(12));if(typeof a(void 0,{type:wp.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(la(13))})}function ID(e){const t=Object.keys(e),a={};for(let l=0;l<t.length;l++){const c=t[l];typeof e[c]=="function"&&(a[c]=e[c])}const r=Object.keys(a);let s;try{jZ(a)}catch(l){s=l}return function(c={},u){if(s)throw s;let m=!1;const f={};for(let h=0;h<r.length;h++){const g=r[h],b=a[g],y=c[g],j=b(y,u);if(typeof j>"u")throw u&&u.type,new Error(la(14));f[g]=j,m=m||j!==y}return m=m||r.length!==Object.keys(c).length,m?f:c}}function Np(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,a)=>(...r)=>t(a(...r)))}function wZ(...e){return t=>(a,r)=>{const s=t(a,r);let l=()=>{throw new Error(la(15))};const c={getState:s.getState,dispatch:(m,...f)=>l(m,...f)},u=e.map(m=>m(c));return l=Np(...u)(s.dispatch),{...s,dispatch:l}}}function BD(e){return Y2(e)&&"type"in e&&typeof e.type=="string"}var zD=Symbol.for("immer-nothing"),AA=Symbol.for("immer-draftable"),mr=Symbol.for("immer-state");function as(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var wd=Object.getPrototypeOf;function Fo(e){return!!e&&!!e[mr]}function Ni(e){var t;return e?UD(e)||Array.isArray(e)||!!e[AA]||!!((t=e.constructor)!=null&&t[AA])||Nx(e)||Sx(e):!1}var NZ=Object.prototype.constructor.toString();function UD(e){if(!e||typeof e!="object")return!1;const t=wd(e);if(t===null)return!0;const a=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return a===Object?!0:typeof a=="function"&&Function.toString.call(a)===NZ}function Sp(e,t){wx(e)===0?Reflect.ownKeys(e).forEach(a=>{t(a,e[a],e)}):e.forEach((a,r)=>t(r,a,e))}function wx(e){const t=e[mr];return t?t.type_:Array.isArray(e)?1:Nx(e)?2:Sx(e)?3:0}function Uj(e,t){return wx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function FD(e,t,a){const r=wx(e);r===2?e.set(t,a):r===3?e.add(a):e[t]=a}function SZ(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Nx(e){return e instanceof Map}function Sx(e){return e instanceof Set}function vo(e){return e.copy_||e.base_}function Fj(e,t){if(Nx(e))return new Map(e);if(Sx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const a=UD(e);if(t===!0||t==="class_only"&&!a){const r=Object.getOwnPropertyDescriptors(e);delete r[mr];let s=Reflect.ownKeys(r);for(let l=0;l<s.length;l++){const c=s[l],u=r[c];u.writable===!1&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(r[c]={configurable:!0,writable:!0,enumerable:u.enumerable,value:e[c]})}return Object.create(wd(e),r)}else{const r=wd(e);if(r!==null&&a)return{...e};const s=Object.create(r);return Object.assign(s,e)}}function W2(e,t=!1){return _x(e)||Fo(e)||!Ni(e)||(wx(e)>1&&(e.set=e.add=e.clear=e.delete=_Z),Object.freeze(e),t&&Object.entries(e).forEach(([a,r])=>W2(r,!0))),e}function _Z(){as(2)}function _x(e){return Object.isFrozen(e)}var kZ={};function Vo(e){const t=kZ[e];return t||as(0,e),t}var Gm;function VD(){return Gm}function CZ(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function TA(e,t){t&&(Vo("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Vj(e){Hj(e),e.drafts_.forEach(AZ),e.drafts_=null}function Hj(e){e===Gm&&(Gm=e.parent_)}function EA(e){return Gm=CZ(Gm,e)}function AZ(e){const t=e[mr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function PA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const a=t.drafts_[0];return e!==void 0&&e!==a?(a[mr].modified_&&(Vj(t),as(4)),Ni(e)&&(e=_p(t,e),t.parent_||kp(t,e)),t.patches_&&Vo("Patches").generateReplacementPatches_(a[mr].base_,e,t.patches_,t.inversePatches_)):e=_p(t,a,[]),Vj(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==zD?e:void 0}function _p(e,t,a){if(_x(t))return t;const r=t[mr];if(!r)return Sp(t,(s,l)=>OA(e,r,t,s,l,a)),t;if(r.scope_!==e)return t;if(!r.modified_)return kp(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const s=r.copy_;let l=s,c=!1;r.type_===3&&(l=new Set(s),s.clear(),c=!0),Sp(l,(u,m)=>OA(e,r,s,u,m,a,c)),kp(e,s,!1),a&&e.patches_&&Vo("Patches").generatePatches_(r,a,e.patches_,e.inversePatches_)}return r.copy_}function OA(e,t,a,r,s,l,c){if(Fo(s)){const u=l&&t&&t.type_!==3&&!Uj(t.assigned_,r)?l.concat(r):void 0,m=_p(e,s,u);if(FD(a,r,m),Fo(m))e.canAutoFreeze_=!1;else return}else c&&a.add(s);if(Ni(s)&&!_x(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;_p(e,s),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(a,r)&&kp(e,s)}}function kp(e,t,a=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&W2(t,a)}function TZ(e,t){const a=Array.isArray(e),r={type_:a?1:0,scope_:t?t.scope_:VD(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,l=X2;a&&(s=[r],l=Ym);const{revoke:c,proxy:u}=Proxy.revocable(s,l);return r.draft_=u,r.revoke_=c,u}var X2={get(e,t){if(t===mr)return e;const a=vo(e);if(!Uj(a,t))return EZ(e,a,t);const r=a[t];return e.finalized_||!Ni(r)?r:r===By(e.base_,t)?(zy(e),e.copy_[t]=Kj(r,e)):r},has(e,t){return t in vo(e)},ownKeys(e){return Reflect.ownKeys(vo(e))},set(e,t,a){const r=HD(vo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,a),!0;if(!e.modified_){const s=By(vo(e),t),l=s==null?void 0:s[mr];if(l&&l.base_===a)return e.copy_[t]=a,e.assigned_[t]=!1,!0;if(SZ(a,s)&&(a!==void 0||Uj(e.base_,t)))return!0;zy(e),qj(e)}return e.copy_[t]===a&&(a!==void 0||t in e.copy_)||Number.isNaN(a)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=a,e.assigned_[t]=!0),!0},deleteProperty(e,t){return By(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,zy(e),qj(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const a=vo(e),r=Reflect.getOwnPropertyDescriptor(a,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:a[t]}},defineProperty(){as(11)},getPrototypeOf(e){return wd(e.base_)},setPrototypeOf(){as(12)}},Ym={};Sp(X2,(e,t)=>{Ym[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Ym.deleteProperty=function(e,t){return Ym.set.call(this,e,t,void 0)};Ym.set=function(e,t,a){return X2.set.call(this,e[0],t,a,e[0])};function By(e,t){const a=e[mr];return(a?vo(a):e)[t]}function EZ(e,t,a){var s;const r=HD(t,a);return r?"value"in r?r.value:(s=r.get)==null?void 0:s.call(e.draft_):void 0}function HD(e,t){if(!(t in e))return;let a=wd(e);for(;a;){const r=Object.getOwnPropertyDescriptor(a,t);if(r)return r;a=wd(a)}}function qj(e){e.modified_||(e.modified_=!0,e.parent_&&qj(e.parent_))}function zy(e){e.copy_||(e.copy_=Fj(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var PZ=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,a,r)=>{if(typeof t=="function"&&typeof a!="function"){const l=a;a=t;const c=this;return function(m=l,...f){return c.produce(m,h=>a.call(this,h,...f))}}typeof a!="function"&&as(6),r!==void 0&&typeof r!="function"&&as(7);let s;if(Ni(t)){const l=EA(this),c=Kj(t,void 0);let u=!0;try{s=a(c),u=!1}finally{u?Vj(l):Hj(l)}return TA(l,r),PA(s,l)}else if(!t||typeof t!="object"){if(s=a(t),s===void 0&&(s=t),s===zD&&(s=void 0),this.autoFreeze_&&W2(s,!0),r){const l=[],c=[];Vo("Patches").generateReplacementPatches_(t,s,l,c),r(l,c)}return s}else as(1,t)},this.produceWithPatches=(t,a)=>{if(typeof t=="function")return(c,...u)=>this.produceWithPatches(c,m=>t(m,...u));let r,s;return[this.produce(t,a,(c,u)=>{r=c,s=u}),r,s]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ni(e)||as(8),Fo(e)&&(e=di(e));const t=EA(this),a=Kj(e,void 0);return a[mr].isManual_=!0,Hj(t),a}finishDraft(e,t){const a=e&&e[mr];(!a||!a.isManual_)&&as(9);const{scope_:r}=a;return TA(r,t),PA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let a;for(a=t.length-1;a>=0;a--){const s=t[a];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}a>-1&&(t=t.slice(a+1));const r=Vo("Patches").applyPatches_;return Fo(e)?r(e,t):this.produce(e,s=>r(s,t))}};function Kj(e,t){const a=Nx(e)?Vo("MapSet").proxyMap_(e,t):Sx(e)?Vo("MapSet").proxySet_(e,t):TZ(e,t);return(t?t.scope_:VD()).drafts_.push(a),a}function di(e){return Fo(e)||as(10,e),qD(e)}function qD(e){if(!Ni(e)||_x(e))return e;const t=e[mr];let a;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,a=Fj(e,t.scope_.immer_.useStrictShallowCopy_)}else a=Fj(e,!0);return Sp(a,(r,s)=>{FD(a,r,qD(s))}),t&&(t.finalized_=!1),a}var fr=new PZ,KD=fr.produce;fr.produceWithPatches.bind(fr);fr.setAutoFreeze.bind(fr);fr.setUseStrictShallowCopy.bind(fr);fr.applyPatches.bind(fr);fr.createDraft.bind(fr);fr.finishDraft.bind(fr);function GD(e){return({dispatch:a,getState:r})=>s=>l=>typeof l=="function"?l(a,r,e):s(l)}var OZ=GD(),MZ=GD,DZ=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Np:Np.apply(null,arguments)};function Ir(e,t){function a(...r){if(t){let s=t(...r);if(!s)throw new Error(dr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:r[0]}}return a.toString=()=>`${e}`,a.type=e,a.match=r=>BD(r)&&r.type===e,a}var YD=class bm extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,bm.prototype)}static get[Symbol.species](){return bm}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new bm(...t[0].concat(this)):new bm(...t.concat(this))}};function MA(e){return Ni(e)?KD(e,()=>{}):e}function n0(e,t,a){return e.has(t)?e.get(t):e.set(t,a(t)).get(t)}function RZ(e){return typeof e=="boolean"}var LZ=()=>function(t){const{thunk:a=!0,immutableCheck:r=!0,serializableCheck:s=!0,actionCreatorCheck:l=!0}=t??{};let c=new YD;return a&&(RZ(a)?c.push(OZ):c.push(MZ(a.extraArgument))),c},$Z="RTK_autoBatch",DA=e=>t=>{setTimeout(t,e)},IZ=(e={type:"raf"})=>t=>(...a)=>{const r=t(...a);let s=!0,l=!1,c=!1;const u=new Set,m=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:DA(10):e.type==="callback"?e.queueNotification:DA(e.timeout),f=()=>{c=!1,l&&(l=!1,u.forEach(h=>h()))};return Object.assign({},r,{subscribe(h){const g=()=>s&&h(),b=r.subscribe(g);return u.add(h),()=>{b(),u.delete(h)}},dispatch(h){var g;try{return s=!((g=h==null?void 0:h.meta)!=null&&g[$Z]),l=!s,l&&(c||(c=!0,m(f))),r.dispatch(h)}finally{s=!0}}})},BZ=e=>function(a){const{autoBatch:r=!0}=a??{};let s=new YD(e);return r&&s.push(IZ(typeof r=="object"?r:void 0)),s};function zZ(e){const t=LZ(),{reducer:a=void 0,middleware:r,devTools:s=!0,preloadedState:l=void 0,enhancers:c=void 0}=e||{};let u;if(typeof a=="function")u=a;else if(Y2(a))u=ID(a);else throw new Error(dr(1));let m;typeof r=="function"?m=r(t):m=t();let f=Np;s&&(f=DZ({trace:!1,...typeof s=="object"&&s}));const h=wZ(...m),g=BZ(h);let b=typeof c=="function"?c(g):g();const y=f(...b);return $D(u,l,y)}function WD(e){const t={},a=[];let r;const s={addCase(l,c){const u=typeof l=="string"?l:l.type;if(!u)throw new Error(dr(28));if(u in t)throw new Error(dr(29));return t[u]=c,s},addMatcher(l,c){return a.push({matcher:l,reducer:c}),s},addDefaultCase(l){return r=l,s}};return e(s),[t,a,r]}function UZ(e){return typeof e=="function"}function FZ(e,t){let[a,r,s]=WD(t),l;if(UZ(e))l=()=>MA(e());else{const u=MA(e);l=()=>u}function c(u=l(),m){let f=[a[m.type],...r.filter(({matcher:h})=>h(m)).map(({reducer:h})=>h)];return f.filter(h=>!!h).length===0&&(f=[s]),f.reduce((h,g)=>{if(g)if(Fo(h)){const y=g(h,m);return y===void 0?h:y}else{if(Ni(h))return KD(h,b=>g(b,m));{const b=g(h,m);if(b===void 0){if(h===null)return h;throw Error("A case reducer on a non-draftable value must not return undefined")}return b}}return h},u)}return c.getInitialState=l,c}var VZ="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",HZ=(e=21)=>{let t="",a=e;for(;a--;)t+=VZ[Math.random()*64|0];return t},qZ=Symbol.for("rtk-slice-createasyncthunk");function KZ(e,t){return`${e}/${t}`}function GZ({creators:e}={}){var a;const t=(a=e==null?void 0:e.asyncThunk)==null?void 0:a[qZ];return function(s){const{name:l,reducerPath:c=l}=s;if(!l)throw new Error(dr(11));const u=(typeof s.reducers=="function"?s.reducers(WZ()):s.reducers)||{},m=Object.keys(u),f={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},h={addCase(P,T){const E=typeof P=="string"?P:P.type;if(!E)throw new Error(dr(12));if(E in f.sliceCaseReducersByType)throw new Error(dr(13));return f.sliceCaseReducersByType[E]=T,h},addMatcher(P,T){return f.sliceMatchers.push({matcher:P,reducer:T}),h},exposeAction(P,T){return f.actionCreators[P]=T,h},exposeCaseReducer(P,T){return f.sliceCaseReducersByName[P]=T,h}};m.forEach(P=>{const T=u[P],E={reducerName:P,type:KZ(l,P),createNotation:typeof s.reducers=="function"};ZZ(T)?JZ(E,T,h,t):XZ(E,T,h)});function g(){const[P={},T=[],E=void 0]=typeof s.extraReducers=="function"?WD(s.extraReducers):[s.extraReducers],$={...P,...f.sliceCaseReducersByType};return FZ(s.initialState,M=>{for(let F in $)M.addCase(F,$[F]);for(let F of f.sliceMatchers)M.addMatcher(F.matcher,F.reducer);for(let F of T)M.addMatcher(F.matcher,F.reducer);E&&M.addDefaultCase(E)})}const b=P=>P,y=new Map,j=new WeakMap;let w;function S(P,T){return w||(w=g()),w(P,T)}function k(){return w||(w=g()),w.getInitialState()}function _(P,T=!1){function E(M){let F=M[P];return typeof F>"u"&&T&&(F=n0(j,E,k)),F}function $(M=b){const F=n0(y,T,()=>new WeakMap);return n0(F,M,()=>{const K={};for(const[z,U]of Object.entries(s.selectors??{}))K[z]=YZ(U,M,()=>n0(j,M,k),T);return K})}return{reducerPath:P,getSelectors:$,get selectors(){return $(E)},selectSlice:E}}const C={name:l,reducer:S,actions:f.actionCreators,caseReducers:f.sliceCaseReducersByName,getInitialState:k,..._(c),injectInto(P,{reducerPath:T,...E}={}){const $=T??c;return P.inject({reducerPath:$,reducer:S},E),{...C,..._($,!0)}}};return C}}function YZ(e,t,a,r){function s(l,...c){let u=t(l);return typeof u>"u"&&r&&(u=a()),e(u,...c)}return s.unwrapped=e,s}var pr=GZ();function WZ(){function e(t,a){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...a}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...a){return t(...a)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,a){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:a}},asyncThunk:e}}function XZ({type:e,reducerName:t,createNotation:a},r,s){let l,c;if("reducer"in r){if(a&&!QZ(r))throw new Error(dr(17));l=r.reducer,c=r.prepare}else l=r;s.addCase(e,l).exposeCaseReducer(t,l).exposeAction(t,c?Ir(e,c):Ir(e))}function ZZ(e){return e._reducerDefinitionType==="asyncThunk"}function QZ(e){return e._reducerDefinitionType==="reducerWithPrepare"}function JZ({type:e,reducerName:t},a,r,s){if(!s)throw new Error(dr(18));const{payloadCreator:l,fulfilled:c,pending:u,rejected:m,settled:f,options:h}=a,g=s(e,l,h);r.exposeAction(t,g),c&&r.addCase(g.fulfilled,c),u&&r.addCase(g.pending,u),m&&r.addCase(g.rejected,m),f&&r.addMatcher(g.settled,f),r.exposeCaseReducer(t,{fulfilled:c||a0,pending:u||a0,rejected:m||a0,settled:f||a0})}function a0(){}var eQ="task",XD="listener",ZD="completed",Z2="cancelled",tQ=`task-${Z2}`,nQ=`task-${ZD}`,Gj=`${XD}-${Z2}`,aQ=`${XD}-${ZD}`,kx=class{constructor(e){rv(this,"name","TaskAbortError");rv(this,"message");this.code=e,this.message=`${eQ} ${Z2} (reason: ${e})`}},Q2=(e,t)=>{if(typeof e!="function")throw new TypeError(dr(32))},Cp=()=>{},QD=(e,t=Cp)=>(e.catch(t),e),JD=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Ro=(e,t)=>{const a=e.signal;a.aborted||("reason"in a||Object.defineProperty(a,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Lo=e=>{if(e.aborted){const{reason:t}=e;throw new kx(t)}};function e8(e,t){let a=Cp;return new Promise((r,s)=>{const l=()=>s(new kx(e.reason));if(e.aborted){l();return}a=JD(e,l),t.finally(()=>a()).then(r,s)}).finally(()=>{a=Cp})}var rQ=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(a){return{status:a instanceof kx?"cancelled":"rejected",error:a}}finally{t==null||t()}},Ap=e=>t=>QD(e8(e,t).then(a=>(Lo(e),a))),t8=e=>{const t=Ap(e);return a=>t(new Promise(r=>setTimeout(r,a)))},{assign:od}=Object,RA={},Cx="listenerMiddleware",sQ=(e,t)=>{const a=r=>JD(e,()=>Ro(r,e.reason));return(r,s)=>{Q2(r);const l=new AbortController;a(l);const c=rQ(async()=>{Lo(e),Lo(l.signal);const u=await r({pause:Ap(l.signal),delay:t8(l.signal),signal:l.signal});return Lo(l.signal),u},()=>Ro(l,nQ));return s!=null&&s.autoJoin&&t.push(c.catch(Cp)),{result:Ap(e)(c),cancel(){Ro(l,tQ)}}}},iQ=(e,t)=>{const a=async(r,s)=>{Lo(t);let l=()=>{};const u=[new Promise((m,f)=>{let h=e({predicate:r,effect:(g,b)=>{b.unsubscribe(),m([g,b.getState(),b.getOriginalState()])}});l=()=>{h(),f()}})];s!=null&&u.push(new Promise(m=>setTimeout(m,s,null)));try{const m=await e8(t,Promise.race(u));return Lo(t),m}finally{l()}};return(r,s)=>QD(a(r,s))},n8=e=>{let{type:t,actionCreator:a,matcher:r,predicate:s,effect:l}=e;if(t)s=Ir(t).match;else if(a)t=a.type,s=a.match;else if(r)s=r;else if(!s)throw new Error(dr(21));return Q2(l),{predicate:s,type:t,effect:l}},a8=od(e=>{const{type:t,predicate:a,effect:r}=n8(e);return{id:HZ(),effect:r,type:t,predicate:a,pending:new Set,unsubscribe:()=>{throw new Error(dr(22))}}},{withTypes:()=>a8}),LA=(e,t)=>{const{type:a,effect:r,predicate:s}=n8(t);return Array.from(e.values()).find(l=>(typeof a=="string"?l.type===a:l.predicate===s)&&l.effect===r)},Yj=e=>{e.pending.forEach(t=>{Ro(t,Gj)})},lQ=e=>()=>{e.forEach(Yj),e.clear()},$A=(e,t,a)=>{try{e(t,a)}catch(r){setTimeout(()=>{throw r},0)}},r8=od(Ir(`${Cx}/add`),{withTypes:()=>r8}),oQ=Ir(`${Cx}/removeAll`),s8=od(Ir(`${Cx}/remove`),{withTypes:()=>s8}),cQ=(...e)=>{console.error(`${Cx}/error`,...e)},yf=(e={})=>{const t=new Map,{extra:a,onError:r=cQ}=e;Q2(r);const s=h=>(h.unsubscribe=()=>t.delete(h.id),t.set(h.id,h),g=>{h.unsubscribe(),g!=null&&g.cancelActive&&Yj(h)}),l=h=>{const g=LA(t,h)??a8(h);return s(g)};od(l,{withTypes:()=>l});const c=h=>{const g=LA(t,h);return g&&(g.unsubscribe(),h.cancelActive&&Yj(g)),!!g};od(c,{withTypes:()=>c});const u=async(h,g,b,y)=>{const j=new AbortController,w=iQ(l,j.signal),S=[];try{h.pending.add(j),await Promise.resolve(h.effect(g,od({},b,{getOriginalState:y,condition:(k,_)=>w(k,_).then(Boolean),take:w,delay:t8(j.signal),pause:Ap(j.signal),extra:a,signal:j.signal,fork:sQ(j.signal,S),unsubscribe:h.unsubscribe,subscribe:()=>{t.set(h.id,h)},cancelActiveListeners:()=>{h.pending.forEach((k,_,C)=>{k!==j&&(Ro(k,Gj),C.delete(k))})},cancel:()=>{Ro(j,Gj),h.pending.delete(j)},throwIfCancelled:()=>{Lo(j.signal)}})))}catch(k){k instanceof kx||$A(r,k,{raisedBy:"effect"})}finally{await Promise.all(S),Ro(j,aQ),h.pending.delete(j)}},m=lQ(t);return{middleware:h=>g=>b=>{if(!BD(b))return g(b);if(r8.match(b))return l(b.payload);if(oQ.match(b)){m();return}if(s8.match(b))return c(b.payload);let y=h.getState();const j=()=>{if(y===RA)throw new Error(dr(23));return y};let w;try{if(w=g(b),t.size>0){const S=h.getState(),k=Array.from(t.values());for(const _ of k){let C=!1;try{C=_.predicate(b,S,y)}catch(P){C=!1,$A(r,P,{raisedBy:"predicate"})}C&&u(_,b,h,j)}}}finally{y=RA}return w},startListening:l,stopListening:c,clearListeners:m}};function dr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var dQ={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},i8=pr({name:"chartLayout",initialState:dQ,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){e.margin.top=t.payload.top,e.margin.right=t.payload.right,e.margin.bottom=t.payload.bottom,e.margin.left=t.payload.left},setScale(e,t){e.scale=t.payload}}}),{setMargin:uQ,setLayout:mQ,setChartSize:fQ,setScale:hQ}=i8.actions,pQ=i8.reducer;function IA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function BA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(a),!0).forEach(function(r){xQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):IA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function xQ(e,t,a){return(t=gQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gQ(e){var t=bQ(e,"string");return typeof t=="symbol"?t:t+""}function bQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tp=Math.PI/180,vQ=e=>e*180/Math.PI,Mn=(e,t,a,r)=>({x:e+Math.cos(-Tp*r)*a,y:t+Math.sin(-Tp*r)*a}),l8=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(a-(r.top||0)-(r.bottom||0)))/2},yQ=(e,t)=>{var{x:a,y:r}=e,{x:s,y:l}=t;return Math.sqrt((a-s)**2+(r-l)**2)},jQ=(e,t)=>{var{x:a,y:r}=e,{cx:s,cy:l}=t,c=yQ({x:a,y:r},{x:s,y:l});if(c<=0)return{radius:c,angle:0};var u=(a-s)/c,m=Math.acos(u);return r>l&&(m=2*Math.PI-m),{radius:c,angle:vQ(m),angleInRadian:m}},wQ=e=>{var{startAngle:t,endAngle:a}=e,r=Math.floor(t/360),s=Math.floor(a/360),l=Math.min(r,s);return{startAngle:t-l*360,endAngle:a-l*360}},NQ=(e,t)=>{var{startAngle:a,endAngle:r}=t,s=Math.floor(a/360),l=Math.floor(r/360),c=Math.min(s,l);return e+c*360},SQ=(e,t)=>{var{x:a,y:r}=e,{radius:s,angle:l}=jQ({x:a,y:r},t),{innerRadius:c,outerRadius:u}=t;if(s<c||s>u||s===0)return null;var{startAngle:m,endAngle:f}=wQ(t),h=l,g;if(m<=f){for(;h>f;)h-=360;for(;h<m;)h+=360;g=h>=m&&h<=f}else{for(;h>m;)h-=360;for(;h<f;)h+=360;g=h>=f&&h<=m}return g?BA(BA({},t),{},{radius:s,angle:NQ(h,t)}):null};function o8(e,t,a){return Array.isArray(e)&&e&&t+a!==0?e.slice(t,a+1):e}function zA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Dr(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(a),!0).forEach(function(r){_Q(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):zA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function _Q(e,t,a){return(t=kQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function kQ(e){var t=CQ(e,"string");return typeof t=="symbol"?t:t+""}function CQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Yt(e,t,a){return an(e)||an(t)?a:Os(t)?Al(e,t,a):typeof t=="function"?t(e):a}var AQ=(e,t,a,r,s)=>{var l,c=-1,u=(l=t==null?void 0:t.length)!==null&&l!==void 0?l:0;if(u<=1||e==null)return 0;if(r==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var m=0;m<u;m++){var f=m>0?a[m-1].coordinate:a[u-1].coordinate,h=a[m].coordinate,g=m>=u-1?a[0].coordinate:a[m+1].coordinate,b=void 0;if(ea(h-f)!==ea(g-h)){var y=[];if(ea(g-h)===ea(s[1]-s[0])){b=g;var j=h+s[1]-s[0];y[0]=Math.min(j,(j+f)/2),y[1]=Math.max(j,(j+f)/2)}else{b=f;var w=g+s[1]-s[0];y[0]=Math.min(h,(w+h)/2),y[1]=Math.max(h,(w+h)/2)}var S=[Math.min(h,(b+h)/2),Math.max(h,(b+h)/2)];if(e>S[0]&&e<=S[1]||e>=y[0]&&e<=y[1]){({index:c}=a[m]);break}}else{var k=Math.min(f,g),_=Math.max(f,g);if(e>(k+h)/2&&e<=(_+h)/2){({index:c}=a[m]);break}}}else if(t){for(var C=0;C<u;C++)if(C===0&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C>0&&C<u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2&&e<=(t[C].coordinate+t[C+1].coordinate)/2||C===u-1&&e>(t[C].coordinate+t[C-1].coordinate)/2){({index:c}=t[C]);break}}return c},TQ=(e,t,a)=>{if(t&&a){var{width:r,height:s}=a,{align:l,verticalAlign:c,layout:u}=t;if((u==="vertical"||u==="horizontal"&&c==="middle")&&l!=="center"&&We(e[l]))return Dr(Dr({},e),{},{[l]:e[l]+(r||0)});if((u==="horizontal"||u==="vertical"&&l==="center")&&c!=="middle"&&We(e[c]))return Dr(Dr({},e),{},{[c]:e[c]+(s||0)})}return e},Ml=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",c8=(e,t,a,r)=>{if(r)return e.map(u=>u.coordinate);var s,l,c=e.map(u=>(u.coordinate===t&&(s=!0),u.coordinate===a&&(l=!0),u.coordinate));return s||c.push(t),l||c.push(a),c},d8=(e,t,a)=>{if(!e)return null;var{duplicateDomain:r,type:s,range:l,scale:c,realScaleType:u,isCategorical:m,categoricalDomain:f,tickCount:h,ticks:g,niceTicks:b,axisType:y}=e;if(!c)return null;var j=u==="scaleBand"&&c.bandwidth?c.bandwidth()/2:2,w=s==="category"&&c.bandwidth?c.bandwidth()/j:0;if(w=y==="angleAxis"&&l&&l.length>=2?ea(l[0]-l[1])*2*w:w,g||b){var S=(g||b||[]).map((k,_)=>{var C=r?r.indexOf(k):k;return{coordinate:c(C)+w,value:k,offset:w,index:_}});return S.filter(k=>!ur(k.coordinate))}return m&&f?f.map((k,_)=>({coordinate:c(k)+w,value:k,index:_,offset:w})):c.ticks&&h!=null?c.ticks(h).map((k,_)=>({coordinate:c(k)+w,value:k,offset:w,index:_})):c.domain().map((k,_)=>({coordinate:c(k)+w,value:r?r[k]:k,index:_,offset:w}))},UA=1e-4,EQ=e=>{var t=e.domain();if(!(!t||t.length<=2)){var a=t.length,r=e.range(),s=Math.min(r[0],r[1])-UA,l=Math.max(r[0],r[1])+UA,c=e(t[0]),u=e(t[a-1]);(c<s||c>l||u<s||u>l)&&e.domain([t[0],t[a-1]])}},PQ=(e,t)=>{if(!t||t.length!==2||!We(t[0])||!We(t[1]))return e;var a=Math.min(t[0],t[1]),r=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!We(e[0])||e[0]<a)&&(s[0]=a),(!We(e[1])||e[1]>r)&&(s[1]=r),s[0]>r&&(s[0]=r),s[1]<a&&(s[1]=a),s},OQ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0,c=0;c<t;++c){var u=ur(e[c][a][1])?e[c][a][0]:e[c][a][1];u>=0?(e[c][a][0]=s,e[c][a][1]=s+u,s=e[c][a][1]):(e[c][a][0]=l,e[c][a][1]=l+u,l=e[c][a][1])}},MQ=e=>{var t=e.length;if(!(t<=0))for(var a=0,r=e[0].length;a<r;++a)for(var s=0,l=0;l<t;++l){var c=ur(e[l][a][1])?e[l][a][0]:e[l][a][1];c>=0?(e[l][a][0]=s,e[l][a][1]=s+c,s=e[l][a][1]):(e[l][a][0]=0,e[l][a][1]=0)}},DQ={sign:OQ,expand:fX,none:jd,silhouette:hX,wiggle:pX,positive:MQ},RQ=(e,t,a)=>{var r=DQ[a],s=mX().keys(t).value((l,c)=>+Yt(l,c,0)).order(Bj).offset(r);return s(e)};function LQ(e){return e==null?void 0:String(e)}function FA(e){var{axis:t,ticks:a,bandSize:r,entry:s,index:l,dataKey:c}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!an(s[t.dataKey])){var u=rD(a,"value",s[t.dataKey]);if(u)return u.coordinate+r/2}return a[l]?a[l].coordinate+r/2:null}var m=Yt(s,an(c)?t.dataKey:c);return an(m)?null:t.scale(m)}var VA=e=>{var{axis:t,ticks:a,offset:r,bandSize:s,entry:l,index:c}=e;if(t.type==="category")return a[c]?a[c].coordinate+r:null;var u=Yt(l,t.dataKey,t.scale.domain()[c]);return an(u)?null:t.scale(u)-s/2+r},$Q=e=>{var{numericAxis:t}=e,a=t.scale.domain();if(t.type==="number"){var r=Math.min(a[0],a[1]),s=Math.max(a[0],a[1]);return r<=0&&s>=0?0:s<0?s:r}return a[0]},IQ=e=>{var t=e.flat(2).filter(We);return[Math.min(...t),Math.max(...t)]},BQ=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],zQ=(e,t,a)=>{if(e!=null)return BQ(Object.keys(e).reduce((r,s)=>{var l=e[s],{stackedData:c}=l,u=c.reduce((m,f)=>{var h=o8(f,t,a),g=IQ(h);return[Math.min(m[0],g[0]),Math.max(m[1],g[1])]},[1/0,-1/0]);return[Math.min(u[0],r[0]),Math.max(u[1],r[1])]},[1/0,-1/0]))},HA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,qA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Wm=(e,t,a)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!a||r>0)return r}if(e&&t&&t.length>=2){for(var s=jx(t,h=>h.coordinate),l=1/0,c=1,u=s.length;c<u;c++){var m=s[c],f=s[c-1];l=Math.min((m.coordinate||0)-(f.coordinate||0),l)}return l===1/0?0:l}return a?void 0:0};function KA(e){var{tooltipEntrySettings:t,dataKey:a,payload:r,value:s,name:l}=e;return Dr(Dr({},t),{},{dataKey:a,payload:r,value:s,name:l})}function Bd(e,t){if(e)return String(e);if(typeof t=="string")return t}function UQ(e,t,a,r,s){if(a==="horizontal"||a==="vertical"){var l=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return l?{x:e,y:t}:null}return r?SQ({x:e,y:t},r):null}var FQ=(e,t,a,r)=>{var s=t.find(f=>f&&f.index===a);if(s){if(e==="horizontal")return{x:s.coordinate,y:r.y};if(e==="vertical")return{x:r.x,y:s.coordinate};if(e==="centric"){var l=s.coordinate,{radius:c}=r;return Dr(Dr(Dr({},r),Mn(r.cx,r.cy,c,l)),{},{angle:l,radius:c})}var u=s.coordinate,{angle:m}=r;return Dr(Dr(Dr({},r),Mn(r.cx,r.cy,u,m)),{},{angle:m,radius:u})}return{x:0,y:0}},VQ=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Ti=e=>e.layout.width,Ei=e=>e.layout.height,HQ=e=>e.layout.scale,u8=e=>e.layout.margin,J2=Ne(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),eN=Ne(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),m8="data-recharts-item-index",f8="data-recharts-item-data-key",Ax=60;function GA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function sl(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?GA(Object(a),!0).forEach(function(r){qQ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):GA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function qQ(e,t,a){return(t=KQ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function KQ(e){var t=GQ(e,"string");return typeof t=="symbol"?t:t+""}function GQ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var YQ=e=>e.brush.height,Fn=Ne([Ti,Ei,u8,YQ,J2,eN,LD,xZ],(e,t,a,r,s,l,c,u)=>{var m=l.reduce((j,w)=>{var{orientation:S}=w;if(!w.mirror&&!w.hide){var k=typeof w.width=="number"?w.width:Ax;return sl(sl({},j),{},{[S]:j[S]+k})}return j},{left:a.left||0,right:a.right||0}),f=s.reduce((j,w)=>{var{orientation:S}=w;return!w.mirror&&!w.hide?sl(sl({},j),{},{[S]:Al(j,"".concat(S))+w.height}):j},{top:a.top||0,bottom:a.bottom||0}),h=sl(sl({},f),m),g=h.bottom;h.bottom+=r,h=TQ(h,c,u);var b=e-h.left-h.right,y=t-h.top-h.bottom;return sl(sl({brushBottom:g},h),{},{width:Math.max(b,0),height:Math.max(y,0)})}),WQ=Ne(Fn,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),h8=Ne(Ti,Ei,(e,t)=>({x:0,y:0,width:e,height:t})),XQ=x.createContext(null),qa=()=>x.useContext(XQ)!=null,Tx=e=>e.brush,Ex=Ne([Tx,Fn,u8],(e,t,a)=>({height:e.height,x:We(e.x)?e.x:t.left,y:We(e.y)?e.y:t.top+t.height+t.brushBottom-((a==null?void 0:a.bottom)||0),width:We(e.width)?e.width:t.width})),tN=()=>{var e,t=qa(),a=et(WQ),r=et(Ex),s=(e=et(Tx))===null||e===void 0?void 0:e.padding;return!t||!r||!s?a:{width:r.width-s.left-s.right,height:r.height-s.top-s.bottom,x:s.left,y:s.top}},ZQ={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},p8=()=>{var e;return(e=et(Fn))!==null&&e!==void 0?e:ZQ},x8=()=>et(Ti),g8=()=>et(Ei),Ct=e=>e.layout.layoutType,Px=()=>et(Ct),QQ={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},b8=pr({name:"legend",initialState:QQ,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var a=di(e).payload.indexOf(t.payload);a>-1&&e.payload.splice(a,1)}}}),{setLegendSize:n0e,setLegendSettings:a0e,addLegendPayload:v8,removeLegendPayload:y8}=b8.actions,JQ=b8.reducer;function Wj(){return Wj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Wj.apply(null,arguments)}function YA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Uy(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?YA(Object(a),!0).forEach(function(r){eJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):YA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function eJ(e,t,a){return(t=tJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function tJ(e){var t=nJ(e,"string");return typeof t=="symbol"?t:t+""}function nJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aJ(e){return Array.isArray(e)&&Os(e[0])&&Os(e[1])?e.join(" ~ "):e}var rJ=e=>{var{separator:t=" : ",contentStyle:a={},itemStyle:r={},labelStyle:s={},payload:l,formatter:c,itemSorter:u,wrapperClassName:m,labelClassName:f,label:h,labelFormatter:g,accessibilityLayer:b=!1}=e,y=()=>{if(l&&l.length){var T={padding:0,margin:0},E=(u?jx(l,u):l).map(($,M)=>{if($.type==="none")return null;var F=$.formatter||c||aJ,{value:K,name:z}=$,U=K,ae=z;if(F){var ke=F(K,z,$,M,l);if(Array.isArray(ke))[U,ae]=ke;else if(ke!=null)U=ke;else return null}var se=Uy({display:"block",paddingTop:4,paddingBottom:4,color:$.color||"#000"},r);return x.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:se},Os(ae)?x.createElement("span",{className:"recharts-tooltip-item-name"},ae):null,Os(ae)?x.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,x.createElement("span",{className:"recharts-tooltip-item-value"},U),x.createElement("span",{className:"recharts-tooltip-item-unit"},$.unit||""))});return x.createElement("ul",{className:"recharts-tooltip-item-list",style:T},E)}return null},j=Uy({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),w=Uy({margin:0},s),S=!an(h),k=S?h:"",_=Nt("recharts-default-tooltip",m),C=Nt("recharts-tooltip-label",f);S&&g&&l!==void 0&&l!==null&&(k=g(h,l));var P=b?{role:"status","aria-live":"assertive"}:{};return x.createElement("div",Wj({className:_,style:j},P),x.createElement("p",{className:C,style:w},x.isValidElement(k)?k:"".concat(k)),y())},Yu="recharts-tooltip-wrapper",sJ={visibility:"hidden"};function iJ(e){var{coordinate:t,translateX:a,translateY:r}=e;return Nt(Yu,{["".concat(Yu,"-right")]:We(a)&&t&&We(t.x)&&a>=t.x,["".concat(Yu,"-left")]:We(a)&&t&&We(t.x)&&a<t.x,["".concat(Yu,"-bottom")]:We(r)&&t&&We(t.y)&&r>=t.y,["".concat(Yu,"-top")]:We(r)&&t&&We(t.y)&&r<t.y})}function WA(e){var{allowEscapeViewBox:t,coordinate:a,key:r,offsetTopLeft:s,position:l,reverseDirection:c,tooltipDimension:u,viewBox:m,viewBoxDimension:f}=e;if(l&&We(l[r]))return l[r];var h=a[r]-u-(s>0?s:0),g=a[r]+s;if(t[r])return c[r]?h:g;var b=m[r];if(b==null)return 0;if(c[r]){var y=h,j=b;return y<j?Math.max(g,b):Math.max(h,b)}if(f==null)return 0;var w=g+u,S=b+f;return w>S?Math.max(h,b):Math.max(g,b)}function lJ(e){var{translateX:t,translateY:a,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(a,"px, 0)"):"translate(".concat(t,"px, ").concat(a,"px)")}}function oJ(e){var{allowEscapeViewBox:t,coordinate:a,offsetTopLeft:r,position:s,reverseDirection:l,tooltipBox:c,useTranslate3d:u,viewBox:m}=e,f,h,g;return c.height>0&&c.width>0&&a?(h=WA({allowEscapeViewBox:t,coordinate:a,key:"x",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.width,viewBox:m,viewBoxDimension:m.width}),g=WA({allowEscapeViewBox:t,coordinate:a,key:"y",offsetTopLeft:r,position:s,reverseDirection:l,tooltipDimension:c.height,viewBox:m,viewBoxDimension:m.height}),f=lJ({translateX:h,translateY:g,useTranslate3d:u})):f=sJ,{cssProperties:f,cssClasses:iJ({translateX:h,translateY:g,coordinate:a})}}function XA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function r0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?XA(Object(a),!0).forEach(function(r){Xj(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):XA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Xj(e,t,a){return(t=cJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cJ(e){var t=dJ(e,"string");return typeof t=="symbol"?t:t+""}function dJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class uJ extends x.PureComponent{constructor(){super(...arguments),Xj(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Xj(this,"handleKeyDown",t=>{if(t.key==="Escape"){var a,r,s,l;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(a=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&a!==void 0?a:0,y:(s=(l=this.props.coordinate)===null||l===void 0?void 0:l.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,a;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:a,animationDuration:r,animationEasing:s,children:l,coordinate:c,hasPayload:u,isAnimationActive:m,offset:f,position:h,reverseDirection:g,useTranslate3d:b,viewBox:y,wrapperStyle:j,lastBoundingBox:w,innerRef:S,hasPortalFromProps:k}=this.props,{cssClasses:_,cssProperties:C}=oJ({allowEscapeViewBox:a,coordinate:c,offsetTopLeft:f,position:h,reverseDirection:g,tooltipBox:{height:w.height,width:w.width},useTranslate3d:b,viewBox:y}),P=k?{}:r0(r0({transition:m&&t?"transform ".concat(r,"ms ").concat(s):void 0},C),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&u?"visible":"hidden",position:"absolute",top:0,left:0}),T=r0(r0({},P),{},{visibility:!this.state.dismissed&&t&&u?"visible":"hidden"},j);return x.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:_,style:T,ref:S},l)}}var mJ=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Go={isSsr:mJ()},j8=()=>et(e=>e.rootProps.accessibilityLayer);function hr(e){return Number.isFinite(e)}function Nd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Zj(){return Zj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Zj.apply(null,arguments)}function ZA(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function QA(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZA(Object(a),!0).forEach(function(r){fJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZA(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function fJ(e,t,a){return(t=hJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function hJ(e){var t=pJ(e,"string");return typeof t=="symbol"?t:t+""}function pJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var JA={curveBasisClosed:tX,curveBasisOpen:nX,curveBasis:eX,curveBumpX:zW,curveBumpY:UW,curveLinearClosed:aX,curveLinear:vx,curveMonotoneX:rX,curveMonotoneY:sX,curveNatural:iX,curveStep:lX,curveStepAfter:cX,curveStepBefore:oX},s0=e=>hr(e.x)&&hr(e.y),Wu=e=>e.x,Xu=e=>e.y,xJ=(e,t)=>{if(typeof e=="function")return e;var a="curve".concat(bf(e));return(a==="curveMonotone"||a==="curveBump")&&t?JA["".concat(a).concat(t==="vertical"?"Y":"X")]:JA[a]||vx},gJ=e=>{var{type:t="linear",points:a=[],baseLine:r,layout:s,connectNulls:l=!1}=e,c=xJ(t,s),u=l?a.filter(s0):a,m;if(Array.isArray(r)){var f=l?r.filter(g=>s0(g)):r,h=u.map((g,b)=>QA(QA({},g),{},{base:f[b]}));return s==="vertical"?m=Jh().y(Xu).x1(Wu).x0(g=>g.base.x):m=Jh().x(Wu).y1(Xu).y0(g=>g.base.y),m.defined(s0).curve(c),m(h)}return s==="vertical"&&We(r)?m=Jh().y(Xu).x1(Wu).x0(r):We(r)?m=Jh().x(Wu).y1(Xu).y0(r):m=hD().x(Wu).y(Xu),m.defined(s0).curve(c),m(u)},nN=e=>{var{className:t,points:a,path:r,pathRef:s}=e;if((!a||!a.length)&&!r)return null;var l=a&&a.length?gJ(e):r;return x.createElement("path",Zj({},Ai(e),I2(e),{className:Nt("recharts-curve",t),d:l===null?void 0:l,ref:s}))},bJ=["x","y","top","left","width","height","className"];function Qj(){return Qj=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Qj.apply(null,arguments)}function e6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vJ(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?e6(Object(a),!0).forEach(function(r){yJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):e6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function yJ(e,t,a){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function jJ(e){var t=wJ(e,"string");return typeof t=="symbol"?t:t+""}function wJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function NJ(e,t){if(e==null)return{};var a,r,s=SJ(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function SJ(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var _J=(e,t,a,r,s,l)=>"M".concat(e,",").concat(s,"v").concat(r,"M").concat(l,",").concat(t,"h").concat(a),kJ=e=>{var{x:t=0,y:a=0,top:r=0,left:s=0,width:l=0,height:c=0,className:u}=e,m=NJ(e,bJ),f=vJ({x:t,y:a,top:r,left:s,width:l,height:c},m);return!We(t)||!We(a)||!We(l)||!We(c)||!We(r)||!We(s)?null:x.createElement("path",Qj({},on(f,!0),{className:Nt("recharts-cross",u),d:_J(t,a,l,c,r,s)}))};function CJ(e,t,a,r){var s=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:a.left+.5,y:e==="horizontal"?a.top+.5:t.y-s,width:e==="horizontal"?r:a.width-1,height:e==="horizontal"?a.height-1:r}}function t6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function AJ(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?t6(Object(a),!0).forEach(function(r){TJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):t6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function TJ(e,t,a){return(t=EJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function EJ(e){var t=PJ(e,"string");return typeof t=="symbol"?t:t+""}function PJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xr(e,t){var a=AJ({},e),r=t,s=Object.keys(t),l=s.reduce((c,u)=>(c[u]===void 0&&r[u]!==void 0&&(c[u]=r[u]),c),a);return l}var Fy={},Vy={},Hy={},n6;function OJ(){return n6||(n6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){if(!a||typeof a!="object")return!1;const r=Object.getPrototypeOf(a);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(a)==="[object Object]":!1}e.isPlainObject=t}(Hy)),Hy}var a6;function MJ(){return a6||(a6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=OJ(),a=ED(),r=q2(),s=K2(),l=V2();function c(f,h,g){return u(f,h,void 0,void 0,void 0,void 0,g)}function u(f,h,g,b,y,j,w){const S=w(f,h,g,b,y,j);if(S!==void 0)return S;if(typeof f==typeof h)switch(typeof f){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return f===h;case"number":return f===h||Object.is(f,h);case"function":return f===h;case"object":return m(f,h,j,w)}return m(f,h,j,w)}function m(f,h,g,b){if(Object.is(f,h))return!0;let y=r.getTag(f),j=r.getTag(h);if(y===s.argumentsTag&&(y=s.objectTag),j===s.argumentsTag&&(j=s.objectTag),y!==j)return!1;switch(y){case s.stringTag:return f.toString()===h.toString();case s.numberTag:{const k=f.valueOf(),_=h.valueOf();return l.eq(k,_)}case s.booleanTag:case s.dateTag:case s.symbolTag:return Object.is(f.valueOf(),h.valueOf());case s.regexpTag:return f.source===h.source&&f.flags===h.flags;case s.functionTag:return f===h}g=g??new Map;const w=g.get(f),S=g.get(h);if(w!=null&&S!=null)return w===h;g.set(f,h),g.set(h,f);try{switch(y){case s.mapTag:{if(f.size!==h.size)return!1;for(const[k,_]of f.entries())if(!h.has(k)||!u(_,h.get(k),k,f,h,g,b))return!1;return!0}case s.setTag:{if(f.size!==h.size)return!1;const k=Array.from(f.values()),_=Array.from(h.values());for(let C=0;C<k.length;C++){const P=k[C],T=_.findIndex(E=>u(P,E,void 0,f,h,g,b));if(T===-1)return!1;_.splice(T,1)}return!0}case s.arrayTag:case s.uint8ArrayTag:case s.uint8ClampedArrayTag:case s.uint16ArrayTag:case s.uint32ArrayTag:case s.bigUint64ArrayTag:case s.int8ArrayTag:case s.int16ArrayTag:case s.int32ArrayTag:case s.bigInt64ArrayTag:case s.float32ArrayTag:case s.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(f)!==Buffer.isBuffer(h)||f.length!==h.length)return!1;for(let k=0;k<f.length;k++)if(!u(f[k],h[k],k,f,h,g,b))return!1;return!0}case s.arrayBufferTag:return f.byteLength!==h.byteLength?!1:m(new Uint8Array(f),new Uint8Array(h),g,b);case s.dataViewTag:return f.byteLength!==h.byteLength||f.byteOffset!==h.byteOffset?!1:m(new Uint8Array(f),new Uint8Array(h),g,b);case s.errorTag:return f.name===h.name&&f.message===h.message;case s.objectTag:{if(!(m(f.constructor,h.constructor,g,b)||t.isPlainObject(f)&&t.isPlainObject(h)))return!1;const _=[...Object.keys(f),...a.getSymbols(f)],C=[...Object.keys(h),...a.getSymbols(h)];if(_.length!==C.length)return!1;for(let P=0;P<_.length;P++){const T=_[P],E=f[T];if(!Object.hasOwn(h,T))return!1;const $=h[T];if(!u(E,$,T,f,h,g,b))return!1}return!0}default:return!1}}finally{g.delete(f),g.delete(h)}}e.isEqualWith=c}(Vy)),Vy}var qy={},r6;function DJ(){return r6||(r6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(){}e.noop=t}(qy)),qy}var s6;function RJ(){return s6||(s6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=MJ(),a=DJ();function r(s,l){return t.isEqualWith(s,l,a.noop)}e.isEqual=r}(Fy)),Fy}var Ky,i6;function LJ(){return i6||(i6=1,Ky=RJ().isEqual),Ky}var $J=LJ();const IJ=ds($J);var Ep=1e-4,w8=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],N8=(e,t)=>e.map((a,r)=>a*t**r).reduce((a,r)=>a+r),l6=(e,t)=>a=>{var r=w8(e,t);return N8(r,a)},BJ=(e,t)=>a=>{var r=w8(e,t),s=[...r.map((l,c)=>l*c).slice(1),0];return N8(s,a)},o6=function(){for(var t,a,r,s,l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];if(c.length===1)switch(c[0]){case"linear":[t,r,a,s]=[0,0,1,1];break;case"ease":[t,r,a,s]=[.25,.1,.25,1];break;case"ease-in":[t,r,a,s]=[.42,0,1,1];break;case"ease-out":[t,r,a,s]=[.42,0,.58,1];break;case"ease-in-out":[t,r,a,s]=[0,0,.58,1];break;default:{var m=c[0].split("(");m[0]==="cubic-bezier"&&m[1].split(")")[0].split(",").length===4&&([t,r,a,s]=m[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else c.length===4&&([t,r,a,s]=c);var f=l6(t,a),h=l6(r,s),g=BJ(t,a),b=j=>j>1?1:j<0?0:j,y=j=>{for(var w=j>1?1:j,S=w,k=0;k<8;++k){var _=f(S)-w,C=g(S);if(Math.abs(_-w)<Ep||C<Ep)return h(S);S=b(S-_/C)}return h(S)};return y.isStepper=!1,y},zJ=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:a=100,damping:r=8,dt:s=17}=t,l=(c,u,m)=>{var f=-(c-u)*a,h=m*r,g=m+(f-h)*s/1e3,b=m*s/1e3+c;return Math.abs(b-u)<Ep&&Math.abs(g)<Ep?[u,0]:[b,g]};return l.isStepper=!0,l.dt=s,l},S8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return o6(e);case"spring":return zJ();default:if(e.split("(")[0]==="cubic-bezier")return o6(e)}return typeof e=="function"?e:null};function c6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function d6(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?c6(Object(a),!0).forEach(function(r){UJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function UJ(e,t,a){return(t=FJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function FJ(e){var t=VJ(e,"string");return typeof t=="symbol"?t:t+""}function VJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var HJ=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qJ=(e,t,a)=>e.map(r=>"".concat(HJ(r)," ").concat(t,"ms ").concat(a)).join(","),KJ=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((a,r)=>a.filter(s=>r.includes(s))),Xm=(e,t)=>Object.keys(t).reduce((a,r)=>d6(d6({},a),{},{[r]:e(r,t[r])}),{});function u6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ca(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?u6(Object(a),!0).forEach(function(r){GJ(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function GJ(e,t,a){return(t=YJ(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function YJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Pp=(e,t,a)=>e+(t-e)*a,Jj=e=>{var{from:t,to:a}=e;return t!==a},_8=(e,t,a)=>{var r=Xm((s,l)=>{if(Jj(l)){var[c,u]=e(l.from,l.to,l.velocity);return ca(ca({},l),{},{from:c,velocity:u})}return l},t);return a<1?Xm((s,l)=>Jj(l)?ca(ca({},l),{},{velocity:Pp(l.velocity,r[s].velocity,a),from:Pp(l.from,r[s].from,a)}):l,t):_8(e,r,a-1)};function XJ(e,t,a,r,s,l){var c,u=r.reduce((b,y)=>ca(ca({},b),{},{[y]:{from:e[y],velocity:0,to:t[y]}}),{}),m=()=>Xm((b,y)=>y.from,u),f=()=>!Object.values(u).filter(Jj).length,h=null,g=b=>{c||(c=b);var y=b-c,j=y/a.dt;u=_8(a,u,j),s(ca(ca(ca({},e),t),m())),c=b,f()||(h=l.setTimeout(g))};return()=>(h=l.setTimeout(g),()=>{h()})}function ZJ(e,t,a,r,s,l,c){var u=null,m=s.reduce((g,b)=>ca(ca({},g),{},{[b]:[e[b],t[b]]}),{}),f,h=g=>{f||(f=g);var b=(g-f)/r,y=Xm((w,S)=>Pp(...S,a(b)),m);if(l(ca(ca(ca({},e),t),y)),b<1)u=c.setTimeout(h);else{var j=Xm((w,S)=>Pp(...S,a(1)),m);l(ca(ca(ca({},e),t),j))}};return()=>(u=c.setTimeout(h),()=>{u()})}const k8=(e,t,a,r,s,l)=>{var c=KJ(e,t);return a.isStepper===!0?XJ(e,t,a,c,s,l):ZJ(e,t,a,r,c,s,l)};function QJ(e){var t,a=()=>null,r=!1,s=null,l=c=>{if(!r){if(Array.isArray(c)){if(!c.length)return;var u=c,[m,...f]=u;if(typeof m=="number"){s=e.setTimeout(l.bind(null,f),m);return}l(m),s=e.setTimeout(l.bind(null,f));return}typeof c=="string"&&(t=c,a(t)),typeof c=="object"&&(t=c,a(t)),typeof c=="function"&&c()}};return{stop:()=>{r=!0},start:c=>{r=!1,s&&(s(),s=null),l(c)},subscribe:c=>(a=c,()=>{a=()=>null}),getTimeoutController:()=>e}}class JJ{setTimeout(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),s=null,l=c=>{c-r>=a?t(c):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(l))};return s=requestAnimationFrame(l),()=>{cancelAnimationFrame(s)}}}function eee(){return QJ(new JJ)}var tee=x.createContext(eee);function C8(e,t){var a=x.useContext(tee);return x.useMemo(()=>t??a(e),[e,t,a])}var nee=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function ew(){return ew=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ew.apply(null,arguments)}function aee(e,t){if(e==null)return{};var a,r,s=ree(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ree(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function m6(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function il(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?m6(Object(a),!0).forEach(function(r){Ao(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):m6(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ao(e,t,a){return(t=see(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function see(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aN extends x.PureComponent{constructor(t,a){super(t,a),Ao(this,"mounted",!1),Ao(this,"manager",void 0),Ao(this,"stopJSAnimation",null),Ao(this,"unSubscribe",null);var{isActive:r,attributeName:s,from:l,to:c,children:u,duration:m,animationManager:f}=this.props;if(this.manager=f,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||m<=0){this.state={style:{}},typeof u=="function"&&(this.state={style:c});return}if(l){if(typeof u=="function"){this.state={style:l};return}this.state={style:s?{[s]:l}:l}}else this.state={style:{}}}componentDidMount(){var{isActive:t,canBegin:a}=this.props;this.mounted=!0,!(!t||!a)&&this.runAnimation(this.props)}componentDidUpdate(t){var{isActive:a,canBegin:r,attributeName:s,shouldReAnimate:l,to:c,from:u}=this.props,{style:m}=this.state;if(r){if(!a){var f={style:s?{[s]:c}:c};this.state&&m&&(s&&m[s]!==c||!s&&m!==c)&&this.setState(f);return}if(!(IJ(t.to,c)&&t.canBegin&&t.isActive)){var h=!t.canBegin||!t.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=h||l?u:t.to;if(this.state&&m){var b={style:s?{[s]:g}:g};(s&&m[s]!==g||!s&&m!==g)&&this.setState(b)}this.runAnimation(il(il({},this.props),{},{from:g,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:t}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),t&&t()}handleStyleChange(t){this.changeStyle(t)}changeStyle(t){this.mounted&&this.setState({style:t})}runJSAnimation(t){var{from:a,to:r,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:m}=t,f=k8(a,r,S8(l),s,this.changeStyle,this.manager.getTimeoutController()),h=()=>{this.stopJSAnimation=f()};this.manager.start([m,c,h,s,u])}runAnimation(t){var{begin:a,duration:r,attributeName:s,to:l,easing:c,onAnimationStart:u,onAnimationEnd:m,children:f}=t;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof c=="function"||typeof f=="function"||c==="spring"){this.runJSAnimation(t);return}var h=s?{[s]:l}:l,g=qJ(Object.keys(h),r,c);this.manager.start([u,a,il(il({},h),{},{transition:g}),r,m])}render(){var t=this.props,{children:a,begin:r,duration:s,attributeName:l,easing:c,isActive:u,from:m,to:f,canBegin:h,onAnimationEnd:g,shouldReAnimate:b,onAnimationReStart:y,animationManager:j}=t,w=aee(t,nee),S=x.Children.count(a),k=this.state.style;if(typeof a=="function")return a(k);if(!u||S===0||s<=0)return a;var _=C=>{var{style:P={},className:T}=C.props,E=x.cloneElement(C,il(il({},w),{},{style:il(il({},P),k),className:T}));return E};return S===1?_(x.Children.only(a)):x.createElement("div",null,x.Children.map(a,C=>_(C)))}}Ao(aN,"displayName","Animate");Ao(aN,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});function Op(e){var t,a=C8((t=e.attributeName)!==null&&t!==void 0?t:Object.keys(e.to).join(","),e.animationManager);return x.createElement(aN,ew({},e,{animationManager:a}))}function Mp(){return Mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Mp.apply(null,arguments)}var f6=(e,t,a,r,s)=>{var l=Math.min(Math.abs(a)/2,Math.abs(r)/2),c=r>=0?1:-1,u=a>=0?1:-1,m=r>=0&&a>=0||r<0&&a<0?1:0,f;if(l>0&&s instanceof Array){for(var h=[0,0,0,0],g=0,b=4;g<b;g++)h[g]=s[g]>l?l:s[g];f="M".concat(e,",").concat(t+c*h[0]),h[0]>0&&(f+="A ".concat(h[0],",").concat(h[0],",0,0,").concat(m,",").concat(e+u*h[0],",").concat(t)),f+="L ".concat(e+a-u*h[1],",").concat(t),h[1]>0&&(f+="A ".concat(h[1],",").concat(h[1],",0,0,").concat(m,`,
        `).concat(e+a,",").concat(t+c*h[1])),f+="L ".concat(e+a,",").concat(t+r-c*h[2]),h[2]>0&&(f+="A ".concat(h[2],",").concat(h[2],",0,0,").concat(m,`,
        `).concat(e+a-u*h[2],",").concat(t+r)),f+="L ".concat(e+u*h[3],",").concat(t+r),h[3]>0&&(f+="A ".concat(h[3],",").concat(h[3],",0,0,").concat(m,`,
        `).concat(e,",").concat(t+r-c*h[3])),f+="Z"}else if(l>0&&s===+s&&s>0){var y=Math.min(l,s);f="M ".concat(e,",").concat(t+c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+u*y,",").concat(t,`
            L `).concat(e+a-u*y,",").concat(t,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a,",").concat(t+c*y,`
            L `).concat(e+a,",").concat(t+r-c*y,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e+a-u*y,",").concat(t+r,`
            L `).concat(e+u*y,",").concat(t+r,`
            A `).concat(y,",").concat(y,",0,0,").concat(m,",").concat(e,",").concat(t+r-c*y," Z")}else f="M ".concat(e,",").concat(t," h ").concat(a," v ").concat(r," h ").concat(-a," Z");return f},lee={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},A8=e=>{var t=xr(e,lee),a=x.useRef(null),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var k=a.current.getTotalLength();k&&s(k)}catch{}},[]);var{x:l,y:c,width:u,height:m,radius:f,className:h}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isAnimationActive:j,isUpdateAnimationActive:w}=t;if(l!==+l||c!==+c||u!==+u||m!==+m||u===0||m===0)return null;var S=Nt("recharts-rectangle",h);return w?x.createElement(Op,{canBegin:r>0,from:{width:u,height:m,x:l,y:c},to:{width:u,height:m,x:l,y:c},duration:b,animationEasing:g,isActive:w},k=>{var{width:_,height:C,x:P,y:T}=k;return x.createElement(Op,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,isActive:j,easing:g},x.createElement("path",Mp({},on(t,!0),{className:S,d:f6(P,T,_,C,f),ref:a})))}):x.createElement("path",Mp({},on(t,!0),{className:S,d:f6(l,c,u,m,f)}))};function T8(e){var{cx:t,cy:a,radius:r,startAngle:s,endAngle:l}=e,c=Mn(t,a,r,s),u=Mn(t,a,r,l);return{points:[c,u],cx:t,cy:a,radius:r,startAngle:s,endAngle:l}}function tw(){return tw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},tw.apply(null,arguments)}var oee=(e,t)=>{var a=ea(t-e),r=Math.min(Math.abs(t-e),359.999);return a*r},i0=e=>{var{cx:t,cy:a,radius:r,angle:s,sign:l,isExternal:c,cornerRadius:u,cornerIsExternal:m}=e,f=u*(c?1:-1)+r,h=Math.asin(u/f)/Tp,g=m?s:s+l*h,b=Mn(t,a,f,g),y=Mn(t,a,r,g),j=m?s-l*h:s,w=Mn(t,a,f*Math.cos(h*Tp),j);return{center:b,circleTangency:y,lineTangency:w,theta:h}},E8=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c}=e,u=oee(l,c),m=l+u,f=Mn(t,a,s,l),h=Mn(t,a,s,m),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(l>m),`,
    `).concat(h.x,",").concat(h.y,`
  `);if(r>0){var b=Mn(t,a,r,l),y=Mn(t,a,r,m);g+="L ".concat(y.x,",").concat(y.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(l<=m),`,
            `).concat(b.x,",").concat(b.y," Z")}else g+="L ".concat(t,",").concat(a," Z");return g},cee=e=>{var{cx:t,cy:a,innerRadius:r,outerRadius:s,cornerRadius:l,forceCornerRadius:c,cornerIsExternal:u,startAngle:m,endAngle:f}=e,h=ea(f-m),{circleTangency:g,lineTangency:b,theta:y}=i0({cx:t,cy:a,radius:s,angle:m,sign:h,cornerRadius:l,cornerIsExternal:u}),{circleTangency:j,lineTangency:w,theta:S}=i0({cx:t,cy:a,radius:s,angle:f,sign:-h,cornerRadius:l,cornerIsExternal:u}),k=u?Math.abs(m-f):Math.abs(m-f)-y-S;if(k<0)return c?"M ".concat(b.x,",").concat(b.y,`
        a`).concat(l,",").concat(l,",0,0,1,").concat(l*2,`,0
        a`).concat(l,",").concat(l,",0,0,1,").concat(-l*2,`,0
      `):E8({cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:m,endAngle:f});var _="M ".concat(b.x,",").concat(b.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(k>180),",").concat(+(h<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(w.x,",").concat(w.y,`
  `);if(r>0){var{circleTangency:C,lineTangency:P,theta:T}=i0({cx:t,cy:a,radius:r,angle:m,sign:h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),{circleTangency:E,lineTangency:$,theta:M}=i0({cx:t,cy:a,radius:r,angle:f,sign:-h,isExternal:!0,cornerRadius:l,cornerIsExternal:u}),F=u?Math.abs(m-f):Math.abs(m-f)-T-M;if(F<0&&l===0)return"".concat(_,"L").concat(t,",").concat(a,"Z");_+="L".concat($.x,",").concat($.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(F>180),",").concat(+(h>0),",").concat(C.x,",").concat(C.y,`
      A`).concat(l,",").concat(l,",0,0,").concat(+(h<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(t,",").concat(a,"Z");return _},dee={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},rN=e=>{var t=xr(e,dee),{cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:c,forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:h,className:g}=t;if(l<s||f===h)return null;var b=Nt("recharts-sector",g),y=l-s,j=Ea(c,y,0,!0),w;return j>0&&Math.abs(f-h)<360?w=cee({cx:a,cy:r,innerRadius:s,outerRadius:l,cornerRadius:Math.min(j,y/2),forceCornerRadius:u,cornerIsExternal:m,startAngle:f,endAngle:h}):w=E8({cx:a,cy:r,innerRadius:s,outerRadius:l,startAngle:f,endAngle:h}),x.createElement("path",tw({},on(t,!0),{className:b,d:w}))};function uee(e,t,a){var r,s,l,c;if(e==="horizontal")r=t.x,l=r,s=a.top,c=a.top+a.height;else if(e==="vertical")s=t.y,c=s,r=a.left,l=a.left+a.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:u,cy:m,innerRadius:f,outerRadius:h,angle:g}=t,b=Mn(u,m,f,g),y=Mn(u,m,h,g);r=b.x,s=b.y,l=y.x,c=y.y}else return T8(t);return[{x:r,y:s},{x:l,y:c}]}var Gy={},Yy={},Wy={},h6;function mee(){return h6||(h6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=DD();function a(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=a}(Wy)),Wy}var p6;function fee(){return p6||(p6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mee();function a(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=a}(Yy)),Yy}var x6;function hee(){return x6||(x6=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=RD(),a=fee();function r(s,l,c){c&&typeof c!="number"&&t.isIterateeCall(s,l,c)&&(l=c=void 0),s=a.toFinite(s),l===void 0?(l=s,s=0):l=a.toFinite(l),c=c===void 0?s<l?1:-1:a.toFinite(c);const u=Math.max(Math.ceil((l-s)/(c||1)),0),m=new Array(u);for(let f=0;f<u;f++)m[f]=s,s+=c;return m}e.range=r}(Gy)),Gy}var Xy,g6;function pee(){return g6||(g6=1,Xy=hee().range),Xy}var xee=pee();const P8=ds(xee);function jl(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gee(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function sN(e){let t,a,r;e.length!==2?(t=jl,a=(u,m)=>jl(e(u),m),r=(u,m)=>e(u)-m):(t=e===jl||e===gee?e:bee,a=e,r=e);function s(u,m,f=0,h=u.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(u[g],m)<0?f=g+1:h=g}while(f<h)}return f}function l(u,m,f=0,h=u.length){if(f<h){if(t(m,m)!==0)return h;do{const g=f+h>>>1;a(u[g],m)<=0?f=g+1:h=g}while(f<h)}return f}function c(u,m,f=0,h=u.length){const g=s(u,m,f,h-1);return g>f&&r(u[g-1],m)>-r(u[g],m)?g-1:g}return{left:s,center:c,right:l}}function bee(){return 0}function O8(e){return e===null?NaN:+e}function*vee(e,t){for(let a of e)a!=null&&(a=+a)>=a&&(yield a)}const yee=sN(jl),jf=yee.right;sN(O8).center;class b6 extends Map{constructor(t,a=Nee){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:a}}),t!=null)for(const[r,s]of t)this.set(r,s)}get(t){return super.get(v6(this,t))}has(t){return super.has(v6(this,t))}set(t,a){return super.set(jee(this,t),a)}delete(t){return super.delete(wee(this,t))}}function v6({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):a}function jee({_intern:e,_key:t},a){const r=t(a);return e.has(r)?e.get(r):(e.set(r,a),a)}function wee({_intern:e,_key:t},a){const r=t(a);return e.has(r)&&(a=e.get(r),e.delete(r)),a}function Nee(e){return e!==null&&typeof e=="object"?e.valueOf():e}function See(e=jl){if(e===jl)return M8;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,a)=>{const r=e(t,a);return r||r===0?r:(e(a,a)===0)-(e(t,t)===0)}}function M8(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const _ee=Math.sqrt(50),kee=Math.sqrt(10),Cee=Math.sqrt(2);function Dp(e,t,a){const r=(t-e)/Math.max(0,a),s=Math.floor(Math.log10(r)),l=r/Math.pow(10,s),c=l>=_ee?10:l>=kee?5:l>=Cee?2:1;let u,m,f;return s<0?(f=Math.pow(10,-s)/c,u=Math.round(e*f),m=Math.round(t*f),u/f<e&&++u,m/f>t&&--m,f=-f):(f=Math.pow(10,s)*c,u=Math.round(e/f),m=Math.round(t/f),u*f<e&&++u,m*f>t&&--m),m<u&&.5<=a&&a<2?Dp(e,t,a*2):[u,m,f]}function nw(e,t,a){if(t=+t,e=+e,a=+a,!(a>0))return[];if(e===t)return[e];const r=t<e,[s,l,c]=r?Dp(t,e,a):Dp(e,t,a);if(!(l>=s))return[];const u=l-s+1,m=new Array(u);if(r)if(c<0)for(let f=0;f<u;++f)m[f]=(l-f)/-c;else for(let f=0;f<u;++f)m[f]=(l-f)*c;else if(c<0)for(let f=0;f<u;++f)m[f]=(s+f)/-c;else for(let f=0;f<u;++f)m[f]=(s+f)*c;return m}function aw(e,t,a){return t=+t,e=+e,a=+a,Dp(e,t,a)[2]}function rw(e,t,a){t=+t,e=+e,a=+a;const r=t<e,s=r?aw(t,e,a):aw(e,t,a);return(r?-1:1)*(s<0?1/-s:s)}function y6(e,t){let a;for(const r of e)r!=null&&(a<r||a===void 0&&r>=r)&&(a=r);return a}function j6(e,t){let a;for(const r of e)r!=null&&(a>r||a===void 0&&r>=r)&&(a=r);return a}function D8(e,t,a=0,r=1/0,s){if(t=Math.floor(t),a=Math.floor(Math.max(0,a)),r=Math.floor(Math.min(e.length-1,r)),!(a<=t&&t<=r))return e;for(s=s===void 0?M8:See(s);r>a;){if(r-a>600){const m=r-a+1,f=t-a+1,h=Math.log(m),g=.5*Math.exp(2*h/3),b=.5*Math.sqrt(h*g*(m-g)/m)*(f-m/2<0?-1:1),y=Math.max(a,Math.floor(t-f*g/m+b)),j=Math.min(r,Math.floor(t+(m-f)*g/m+b));D8(e,t,y,j,s)}const l=e[t];let c=a,u=r;for(Zu(e,a,t),s(e[r],l)>0&&Zu(e,a,r);c<u;){for(Zu(e,c,u),++c,--u;s(e[c],l)<0;)++c;for(;s(e[u],l)>0;)--u}s(e[a],l)===0?Zu(e,a,u):(++u,Zu(e,u,r)),u<=t&&(a=u+1),t<=u&&(r=u-1)}return e}function Zu(e,t,a){const r=e[t];e[t]=e[a],e[a]=r}function Aee(e,t,a){if(e=Float64Array.from(vee(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return j6(e);if(t>=1)return y6(e);var r,s=(r-1)*t,l=Math.floor(s),c=y6(D8(e,l).subarray(0,l+1)),u=j6(e.subarray(l+1));return c+(u-c)*(s-l)}}function Tee(e,t,a=O8){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+a(e[0],0,e);if(t>=1)return+a(e[r-1],r-1,e);var r,s=(r-1)*t,l=Math.floor(s),c=+a(e[l],l,e),u=+a(e[l+1],l+1,e);return c+(u-c)*(s-l)}}function Eee(e,t,a){e=+e,t=+t,a=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+a;for(var r=-1,s=Math.max(0,Math.ceil((t-e)/a))|0,l=new Array(s);++r<s;)l[r]=e+r*a;return l}function Ur(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Pi(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const sw=Symbol("implicit");function iN(){var e=new b6,t=[],a=[],r=sw;function s(l){let c=e.get(l);if(c===void 0){if(r!==sw)return r;e.set(l,c=t.push(l)-1)}return a[c%a.length]}return s.domain=function(l){if(!arguments.length)return t.slice();t=[],e=new b6;for(const c of l)e.has(c)||e.set(c,t.push(c)-1);return s},s.range=function(l){return arguments.length?(a=Array.from(l),s):a.slice()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return iN(t,a).unknown(r)},Ur.apply(s,arguments),s}function lN(){var e=iN().unknown(void 0),t=e.domain,a=e.range,r=0,s=1,l,c,u=!1,m=0,f=0,h=.5;delete e.unknown;function g(){var b=t().length,y=s<r,j=y?s:r,w=y?r:s;l=(w-j)/Math.max(1,b-m+f*2),u&&(l=Math.floor(l)),j+=(w-j-l*(b-m))*h,c=l*(1-m),u&&(j=Math.round(j),c=Math.round(c));var S=Eee(b).map(function(k){return j+l*k});return a(y?S.reverse():S)}return e.domain=function(b){return arguments.length?(t(b),g()):t()},e.range=function(b){return arguments.length?([r,s]=b,r=+r,s=+s,g()):[r,s]},e.rangeRound=function(b){return[r,s]=b,r=+r,s=+s,u=!0,g()},e.bandwidth=function(){return c},e.step=function(){return l},e.round=function(b){return arguments.length?(u=!!b,g()):u},e.padding=function(b){return arguments.length?(m=Math.min(1,f=+b),g()):m},e.paddingInner=function(b){return arguments.length?(m=Math.min(1,b),g()):m},e.paddingOuter=function(b){return arguments.length?(f=+b,g()):f},e.align=function(b){return arguments.length?(h=Math.max(0,Math.min(1,b)),g()):h},e.copy=function(){return lN(t(),[r,s]).round(u).paddingInner(m).paddingOuter(f).align(h)},Ur.apply(g(),arguments)}function R8(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return R8(t())},e}function Pee(){return R8(lN.apply(null,arguments).paddingInner(1))}function oN(e,t,a){e.prototype=t.prototype=a,a.constructor=e}function L8(e,t){var a=Object.create(e.prototype);for(var r in t)a[r]=t[r];return a}function wf(){}var Zm=.7,Rp=1/Zm,cd="\\s*([+-]?\\d+)\\s*",Qm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ps="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Oee=/^#([0-9a-f]{3,8})$/,Mee=new RegExp(`^rgb\\(${cd},${cd},${cd}\\)$`),Dee=new RegExp(`^rgb\\(${Ps},${Ps},${Ps}\\)$`),Ree=new RegExp(`^rgba\\(${cd},${cd},${cd},${Qm}\\)$`),Lee=new RegExp(`^rgba\\(${Ps},${Ps},${Ps},${Qm}\\)$`),$ee=new RegExp(`^hsl\\(${Qm},${Ps},${Ps}\\)$`),Iee=new RegExp(`^hsla\\(${Qm},${Ps},${Ps},${Qm}\\)$`),w6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};oN(wf,Jm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:N6,formatHex:N6,formatHex8:Bee,formatHsl:zee,formatRgb:S6,toString:S6});function N6(){return this.rgb().formatHex()}function Bee(){return this.rgb().formatHex8()}function zee(){return $8(this).formatHsl()}function S6(){return this.rgb().formatRgb()}function Jm(e){var t,a;return e=(e+"").trim().toLowerCase(),(t=Oee.exec(e))?(a=t[1].length,t=parseInt(t[1],16),a===6?_6(t):a===3?new Va(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):a===8?l0(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):a===4?l0(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=Mee.exec(e))?new Va(t[1],t[2],t[3],1):(t=Dee.exec(e))?new Va(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ree.exec(e))?l0(t[1],t[2],t[3],t[4]):(t=Lee.exec(e))?l0(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$ee.exec(e))?A6(t[1],t[2]/100,t[3]/100,1):(t=Iee.exec(e))?A6(t[1],t[2]/100,t[3]/100,t[4]):w6.hasOwnProperty(e)?_6(w6[e]):e==="transparent"?new Va(NaN,NaN,NaN,0):null}function _6(e){return new Va(e>>16&255,e>>8&255,e&255,1)}function l0(e,t,a,r){return r<=0&&(e=t=a=NaN),new Va(e,t,a,r)}function Uee(e){return e instanceof wf||(e=Jm(e)),e?(e=e.rgb(),new Va(e.r,e.g,e.b,e.opacity)):new Va}function iw(e,t,a,r){return arguments.length===1?Uee(e):new Va(e,t,a,r??1)}function Va(e,t,a,r){this.r=+e,this.g=+t,this.b=+a,this.opacity=+r}oN(Va,iw,L8(wf,{brighter(e){return e=e==null?Rp:Math.pow(Rp,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Zm:Math.pow(Zm,e),new Va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Va($o(this.r),$o(this.g),$o(this.b),Lp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:k6,formatHex:k6,formatHex8:Fee,formatRgb:C6,toString:C6}));function k6(){return`#${To(this.r)}${To(this.g)}${To(this.b)}`}function Fee(){return`#${To(this.r)}${To(this.g)}${To(this.b)}${To((isNaN(this.opacity)?1:this.opacity)*255)}`}function C6(){const e=Lp(this.opacity);return`${e===1?"rgb(":"rgba("}${$o(this.r)}, ${$o(this.g)}, ${$o(this.b)}${e===1?")":`, ${e})`}`}function Lp(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function $o(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function To(e){return e=$o(e),(e<16?"0":"")+e.toString(16)}function A6(e,t,a,r){return r<=0?e=t=a=NaN:a<=0||a>=1?e=t=NaN:t<=0&&(e=NaN),new rs(e,t,a,r)}function $8(e){if(e instanceof rs)return new rs(e.h,e.s,e.l,e.opacity);if(e instanceof wf||(e=Jm(e)),!e)return new rs;if(e instanceof rs)return e;e=e.rgb();var t=e.r/255,a=e.g/255,r=e.b/255,s=Math.min(t,a,r),l=Math.max(t,a,r),c=NaN,u=l-s,m=(l+s)/2;return u?(t===l?c=(a-r)/u+(a<r)*6:a===l?c=(r-t)/u+2:c=(t-a)/u+4,u/=m<.5?l+s:2-l-s,c*=60):u=m>0&&m<1?0:c,new rs(c,u,m,e.opacity)}function Vee(e,t,a,r){return arguments.length===1?$8(e):new rs(e,t,a,r??1)}function rs(e,t,a,r){this.h=+e,this.s=+t,this.l=+a,this.opacity=+r}oN(rs,Vee,L8(wf,{brighter(e){return e=e==null?Rp:Math.pow(Rp,e),new rs(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Zm:Math.pow(Zm,e),new rs(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,a=this.l,r=a+(a<.5?a:1-a)*t,s=2*a-r;return new Va(Zy(e>=240?e-240:e+120,s,r),Zy(e,s,r),Zy(e<120?e+240:e-120,s,r),this.opacity)},clamp(){return new rs(T6(this.h),o0(this.s),o0(this.l),Lp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Lp(this.opacity);return`${e===1?"hsl(":"hsla("}${T6(this.h)}, ${o0(this.s)*100}%, ${o0(this.l)*100}%${e===1?")":`, ${e})`}`}}));function T6(e){return e=(e||0)%360,e<0?e+360:e}function o0(e){return Math.max(0,Math.min(1,e||0))}function Zy(e,t,a){return(e<60?t+(a-t)*e/60:e<180?a:e<240?t+(a-t)*(240-e)/60:t)*255}const cN=e=>()=>e;function Hee(e,t){return function(a){return e+a*t}}function qee(e,t,a){return e=Math.pow(e,a),t=Math.pow(t,a)-e,a=1/a,function(r){return Math.pow(e+r*t,a)}}function Kee(e){return(e=+e)==1?I8:function(t,a){return a-t?qee(t,a,e):cN(isNaN(t)?a:t)}}function I8(e,t){var a=t-e;return a?Hee(e,a):cN(isNaN(e)?t:e)}const E6=function e(t){var a=Kee(t);function r(s,l){var c=a((s=iw(s)).r,(l=iw(l)).r),u=a(s.g,l.g),m=a(s.b,l.b),f=I8(s.opacity,l.opacity);return function(h){return s.r=c(h),s.g=u(h),s.b=m(h),s.opacity=f(h),s+""}}return r.gamma=e,r}(1);function Gee(e,t){t||(t=[]);var a=e?Math.min(t.length,e.length):0,r=t.slice(),s;return function(l){for(s=0;s<a;++s)r[s]=e[s]*(1-l)+t[s]*l;return r}}function Yee(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Wee(e,t){var a=t?t.length:0,r=e?Math.min(a,e.length):0,s=new Array(r),l=new Array(a),c;for(c=0;c<r;++c)s[c]=zd(e[c],t[c]);for(;c<a;++c)l[c]=t[c];return function(u){for(c=0;c<r;++c)l[c]=s[c](u);return l}}function Xee(e,t){var a=new Date;return e=+e,t=+t,function(r){return a.setTime(e*(1-r)+t*r),a}}function $p(e,t){return e=+e,t=+t,function(a){return e*(1-a)+t*a}}function Zee(e,t){var a={},r={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?a[s]=zd(e[s],t[s]):r[s]=t[s];return function(l){for(s in a)r[s]=a[s](l);return r}}var lw=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qy=new RegExp(lw.source,"g");function Qee(e){return function(){return e}}function Jee(e){return function(t){return e(t)+""}}function ete(e,t){var a=lw.lastIndex=Qy.lastIndex=0,r,s,l,c=-1,u=[],m=[];for(e=e+"",t=t+"";(r=lw.exec(e))&&(s=Qy.exec(t));)(l=s.index)>a&&(l=t.slice(a,l),u[c]?u[c]+=l:u[++c]=l),(r=r[0])===(s=s[0])?u[c]?u[c]+=s:u[++c]=s:(u[++c]=null,m.push({i:c,x:$p(r,s)})),a=Qy.lastIndex;return a<t.length&&(l=t.slice(a),u[c]?u[c]+=l:u[++c]=l),u.length<2?m[0]?Jee(m[0].x):Qee(t):(t=m.length,function(f){for(var h=0,g;h<t;++h)u[(g=m[h]).i]=g.x(f);return u.join("")})}function zd(e,t){var a=typeof t,r;return t==null||a==="boolean"?cN(t):(a==="number"?$p:a==="string"?(r=Jm(t))?(t=r,E6):ete:t instanceof Jm?E6:t instanceof Date?Xee:Yee(t)?Gee:Array.isArray(t)?Wee:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zee:$p)(e,t)}function dN(e,t){return e=+e,t=+t,function(a){return Math.round(e*(1-a)+t*a)}}function tte(e,t){t===void 0&&(t=e,e=zd);for(var a=0,r=t.length-1,s=t[0],l=new Array(r<0?0:r);a<r;)l[a]=e(s,s=t[++a]);return function(c){var u=Math.max(0,Math.min(r-1,Math.floor(c*=r)));return l[u](c-u)}}function nte(e){return function(){return e}}function Ip(e){return+e}var P6=[0,1];function Ta(e){return e}function ow(e,t){return(t-=e=+e)?function(a){return(a-e)/t}:nte(isNaN(t)?NaN:.5)}function ate(e,t){var a;return e>t&&(a=e,e=t,t=a),function(r){return Math.max(e,Math.min(t,r))}}function rte(e,t,a){var r=e[0],s=e[1],l=t[0],c=t[1];return s<r?(r=ow(s,r),l=a(c,l)):(r=ow(r,s),l=a(l,c)),function(u){return l(r(u))}}function ste(e,t,a){var r=Math.min(e.length,t.length)-1,s=new Array(r),l=new Array(r),c=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++c<r;)s[c]=ow(e[c],e[c+1]),l[c]=a(t[c],t[c+1]);return function(u){var m=jf(e,u,1,r)-1;return l[m](s[m](u))}}function Nf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ox(){var e=P6,t=P6,a=zd,r,s,l,c=Ta,u,m,f;function h(){var b=Math.min(e.length,t.length);return c!==Ta&&(c=ate(e[0],e[b-1])),u=b>2?ste:rte,m=f=null,g}function g(b){return b==null||isNaN(b=+b)?l:(m||(m=u(e.map(r),t,a)))(r(c(b)))}return g.invert=function(b){return c(s((f||(f=u(t,e.map(r),$p)))(b)))},g.domain=function(b){return arguments.length?(e=Array.from(b,Ip),h()):e.slice()},g.range=function(b){return arguments.length?(t=Array.from(b),h()):t.slice()},g.rangeRound=function(b){return t=Array.from(b),a=dN,h()},g.clamp=function(b){return arguments.length?(c=b?!0:Ta,h()):c!==Ta},g.interpolate=function(b){return arguments.length?(a=b,h()):a},g.unknown=function(b){return arguments.length?(l=b,g):l},function(b,y){return r=b,s=y,h()}}function uN(){return Ox()(Ta,Ta)}function ite(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Bp(e,t){if((a=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var a,r=e.slice(0,a);return[r.length>1?r[0]+r.slice(2):r,+e.slice(a+1)]}function Sd(e){return e=Bp(Math.abs(e)),e?e[1]:NaN}function lte(e,t){return function(a,r){for(var s=a.length,l=[],c=0,u=e[0],m=0;s>0&&u>0&&(m+u+1>r&&(u=Math.max(1,r-m)),l.push(a.substring(s-=u,s+u)),!((m+=u+1)>r));)u=e[c=(c+1)%e.length];return l.reverse().join(t)}}function ote(e){return function(t){return t.replace(/[0-9]/g,function(a){return e[+a]})}}var cte=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ef(e){if(!(t=cte.exec(e)))throw new Error("invalid format: "+e);var t;return new mN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ef.prototype=mN.prototype;function mN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}mN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function dte(e){e:for(var t=e.length,a=1,r=-1,s;a<t;++a)switch(e[a]){case".":r=s=a;break;case"0":r===0&&(r=a),s=a;break;default:if(!+e[a])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(s+1):e}var B8;function ute(e,t){var a=Bp(e,t);if(!a)return e+"";var r=a[0],s=a[1],l=s-(B8=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,c=r.length;return l===c?r:l>c?r+new Array(l-c+1).join("0"):l>0?r.slice(0,l)+"."+r.slice(l):"0."+new Array(1-l).join("0")+Bp(e,Math.max(0,t+l-1))[0]}function O6(e,t){var a=Bp(e,t);if(!a)return e+"";var r=a[0],s=a[1];return s<0?"0."+new Array(-s).join("0")+r:r.length>s+1?r.slice(0,s+1)+"."+r.slice(s+1):r+new Array(s-r.length+2).join("0")}const M6={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ite,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>O6(e*100,t),r:O6,s:ute,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function D6(e){return e}var R6=Array.prototype.map,L6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mte(e){var t=e.grouping===void 0||e.thousands===void 0?D6:lte(R6.call(e.grouping,Number),e.thousands+""),a=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",l=e.numerals===void 0?D6:ote(R6.call(e.numerals,String)),c=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function f(g){g=ef(g);var b=g.fill,y=g.align,j=g.sign,w=g.symbol,S=g.zero,k=g.width,_=g.comma,C=g.precision,P=g.trim,T=g.type;T==="n"?(_=!0,T="g"):M6[T]||(C===void 0&&(C=12),P=!0,T="g"),(S||b==="0"&&y==="=")&&(S=!0,b="0",y="=");var E=w==="$"?a:w==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",$=w==="$"?r:/[%p]/.test(T)?c:"",M=M6[T],F=/[defgprs%]/.test(T);C=C===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function K(z){var U=E,ae=$,ke,se,O;if(T==="c")ae=M(z)+ae,z="";else{z=+z;var H=z<0||1/z<0;if(z=isNaN(z)?m:M(Math.abs(z),C),P&&(z=dte(z)),H&&+z==0&&j!=="+"&&(H=!1),U=(H?j==="("?j:u:j==="-"||j==="("?"":j)+U,ae=(T==="s"?L6[8+B8/3]:"")+ae+(H&&j==="("?")":""),F){for(ke=-1,se=z.length;++ke<se;)if(O=z.charCodeAt(ke),48>O||O>57){ae=(O===46?s+z.slice(ke+1):z.slice(ke))+ae,z=z.slice(0,ke);break}}}_&&!S&&(z=t(z,1/0));var G=U.length+z.length+ae.length,B=G<k?new Array(k-G+1).join(b):"";switch(_&&S&&(z=t(B+z,B.length?k-ae.length:1/0),B=""),y){case"<":z=U+z+ae+B;break;case"=":z=U+B+z+ae;break;case"^":z=B.slice(0,G=B.length>>1)+U+z+ae+B.slice(G);break;default:z=B+U+z+ae;break}return l(z)}return K.toString=function(){return g+""},K}function h(g,b){var y=f((g=ef(g),g.type="f",g)),j=Math.max(-8,Math.min(8,Math.floor(Sd(b)/3)))*3,w=Math.pow(10,-j),S=L6[8+j/3];return function(k){return y(w*k)+S}}return{format:f,formatPrefix:h}}var c0,fN,z8;fte({thousands:",",grouping:[3],currency:["$",""]});function fte(e){return c0=mte(e),fN=c0.format,z8=c0.formatPrefix,c0}function hte(e){return Math.max(0,-Sd(Math.abs(e)))}function pte(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Sd(t)/3)))*3-Sd(Math.abs(e)))}function xte(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Sd(t)-Sd(e))+1}function U8(e,t,a,r){var s=rw(e,t,a),l;switch(r=ef(r??",f"),r.type){case"s":{var c=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(l=pte(s,c))&&(r.precision=l),z8(r,c)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(l=xte(s,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=l-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(l=hte(s))&&(r.precision=l-(r.type==="%")*2);break}}return fN(r)}function Dl(e){var t=e.domain;return e.ticks=function(a){var r=t();return nw(r[0],r[r.length-1],a??10)},e.tickFormat=function(a,r){var s=t();return U8(s[0],s[s.length-1],a??10,r)},e.nice=function(a){a==null&&(a=10);var r=t(),s=0,l=r.length-1,c=r[s],u=r[l],m,f,h=10;for(u<c&&(f=c,c=u,u=f,f=s,s=l,l=f);h-- >0;){if(f=aw(c,u,a),f===m)return r[s]=c,r[l]=u,t(r);if(f>0)c=Math.floor(c/f)*f,u=Math.ceil(u/f)*f;else if(f<0)c=Math.ceil(c*f)/f,u=Math.floor(u*f)/f;else break;m=f}return e},e}function F8(){var e=uN();return e.copy=function(){return Nf(e,F8())},Ur.apply(e,arguments),Dl(e)}function V8(e){var t;function a(r){return r==null||isNaN(r=+r)?t:r}return a.invert=a,a.domain=a.range=function(r){return arguments.length?(e=Array.from(r,Ip),a):e.slice()},a.unknown=function(r){return arguments.length?(t=r,a):t},a.copy=function(){return V8(e).unknown(t)},e=arguments.length?Array.from(e,Ip):[0,1],Dl(a)}function H8(e,t){e=e.slice();var a=0,r=e.length-1,s=e[a],l=e[r],c;return l<s&&(c=a,a=r,r=c,c=s,s=l,l=c),e[a]=t.floor(s),e[r]=t.ceil(l),e}function $6(e){return Math.log(e)}function I6(e){return Math.exp(e)}function gte(e){return-Math.log(-e)}function bte(e){return-Math.exp(-e)}function vte(e){return isFinite(e)?+("1e"+e):e<0?0:e}function yte(e){return e===10?vte:e===Math.E?Math.exp:t=>Math.pow(e,t)}function jte(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function B6(e){return(t,a)=>-e(-t,a)}function hN(e){const t=e($6,I6),a=t.domain;let r=10,s,l;function c(){return s=jte(r),l=yte(r),a()[0]<0?(s=B6(s),l=B6(l),e(gte,bte)):e($6,I6),t}return t.base=function(u){return arguments.length?(r=+u,c()):r},t.domain=function(u){return arguments.length?(a(u),c()):a()},t.ticks=u=>{const m=a();let f=m[0],h=m[m.length-1];const g=h<f;g&&([f,h]=[h,f]);let b=s(f),y=s(h),j,w;const S=u==null?10:+u;let k=[];if(!(r%1)&&y-b<S){if(b=Math.floor(b),y=Math.ceil(y),f>0){for(;b<=y;++b)for(j=1;j<r;++j)if(w=b<0?j/l(-b):j*l(b),!(w<f)){if(w>h)break;k.push(w)}}else for(;b<=y;++b)for(j=r-1;j>=1;--j)if(w=b>0?j/l(-b):j*l(b),!(w<f)){if(w>h)break;k.push(w)}k.length*2<S&&(k=nw(f,h,S))}else k=nw(b,y,Math.min(y-b,S)).map(l);return g?k.reverse():k},t.tickFormat=(u,m)=>{if(u==null&&(u=10),m==null&&(m=r===10?"s":","),typeof m!="function"&&(!(r%1)&&(m=ef(m)).precision==null&&(m.trim=!0),m=fN(m)),u===1/0)return m;const f=Math.max(1,r*u/t.ticks().length);return h=>{let g=h/l(Math.round(s(h)));return g*r<r-.5&&(g*=r),g<=f?m(h):""}},t.nice=()=>a(H8(a(),{floor:u=>l(Math.floor(s(u))),ceil:u=>l(Math.ceil(s(u)))})),t}function q8(){const e=hN(Ox()).domain([1,10]);return e.copy=()=>Nf(e,q8()).base(e.base()),Ur.apply(e,arguments),e}function z6(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function U6(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function pN(e){var t=1,a=e(z6(t),U6(t));return a.constant=function(r){return arguments.length?e(z6(t=+r),U6(t)):t},Dl(a)}function K8(){var e=pN(Ox());return e.copy=function(){return Nf(e,K8()).constant(e.constant())},Ur.apply(e,arguments)}function F6(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function wte(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function Nte(e){return e<0?-e*e:e*e}function xN(e){var t=e(Ta,Ta),a=1;function r(){return a===1?e(Ta,Ta):a===.5?e(wte,Nte):e(F6(a),F6(1/a))}return t.exponent=function(s){return arguments.length?(a=+s,r()):a},Dl(t)}function gN(){var e=xN(Ox());return e.copy=function(){return Nf(e,gN()).exponent(e.exponent())},Ur.apply(e,arguments),e}function Ste(){return gN.apply(null,arguments).exponent(.5)}function V6(e){return Math.sign(e)*e*e}function _te(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function G8(){var e=uN(),t=[0,1],a=!1,r;function s(l){var c=_te(e(l));return isNaN(c)?r:a?Math.round(c):c}return s.invert=function(l){return e.invert(V6(l))},s.domain=function(l){return arguments.length?(e.domain(l),s):e.domain()},s.range=function(l){return arguments.length?(e.range((t=Array.from(l,Ip)).map(V6)),s):t.slice()},s.rangeRound=function(l){return s.range(l).round(!0)},s.round=function(l){return arguments.length?(a=!!l,s):a},s.clamp=function(l){return arguments.length?(e.clamp(l),s):e.clamp()},s.unknown=function(l){return arguments.length?(r=l,s):r},s.copy=function(){return G8(e.domain(),t).round(a).clamp(e.clamp()).unknown(r)},Ur.apply(s,arguments),Dl(s)}function Y8(){var e=[],t=[],a=[],r;function s(){var c=0,u=Math.max(1,t.length);for(a=new Array(u-1);++c<u;)a[c-1]=Tee(e,c/u);return l}function l(c){return c==null||isNaN(c=+c)?r:t[jf(a,c)]}return l.invertExtent=function(c){var u=t.indexOf(c);return u<0?[NaN,NaN]:[u>0?a[u-1]:e[0],u<a.length?a[u]:e[e.length-1]]},l.domain=function(c){if(!arguments.length)return e.slice();e=[];for(let u of c)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(jl),s()},l.range=function(c){return arguments.length?(t=Array.from(c),s()):t.slice()},l.unknown=function(c){return arguments.length?(r=c,l):r},l.quantiles=function(){return a.slice()},l.copy=function(){return Y8().domain(e).range(t).unknown(r)},Ur.apply(l,arguments)}function W8(){var e=0,t=1,a=1,r=[.5],s=[0,1],l;function c(m){return m!=null&&m<=m?s[jf(r,m,0,a)]:l}function u(){var m=-1;for(r=new Array(a);++m<a;)r[m]=((m+1)*t-(m-a)*e)/(a+1);return c}return c.domain=function(m){return arguments.length?([e,t]=m,e=+e,t=+t,u()):[e,t]},c.range=function(m){return arguments.length?(a=(s=Array.from(m)).length-1,u()):s.slice()},c.invertExtent=function(m){var f=s.indexOf(m);return f<0?[NaN,NaN]:f<1?[e,r[0]]:f>=a?[r[a-1],t]:[r[f-1],r[f]]},c.unknown=function(m){return arguments.length&&(l=m),c},c.thresholds=function(){return r.slice()},c.copy=function(){return W8().domain([e,t]).range(s).unknown(l)},Ur.apply(Dl(c),arguments)}function X8(){var e=[.5],t=[0,1],a,r=1;function s(l){return l!=null&&l<=l?t[jf(e,l,0,r)]:a}return s.domain=function(l){return arguments.length?(e=Array.from(l),r=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(l){return arguments.length?(t=Array.from(l),r=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(l){var c=t.indexOf(l);return[e[c-1],e[c]]},s.unknown=function(l){return arguments.length?(a=l,s):a},s.copy=function(){return X8().domain(e).range(t).unknown(a)},Ur.apply(s,arguments)}const Jy=new Date,e1=new Date;function Vn(e,t,a,r){function s(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return s.floor=l=>(e(l=new Date(+l)),l),s.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),s.round=l=>{const c=s(l),u=s.ceil(l);return l-c<u-l?c:u},s.offset=(l,c)=>(t(l=new Date(+l),c==null?1:Math.floor(c)),l),s.range=(l,c,u)=>{const m=[];if(l=s.ceil(l),u=u==null?1:Math.floor(u),!(l<c)||!(u>0))return m;let f;do m.push(f=new Date(+l)),t(l,u),e(l);while(f<l&&l<c);return m},s.filter=l=>Vn(c=>{if(c>=c)for(;e(c),!l(c);)c.setTime(c-1)},(c,u)=>{if(c>=c)if(u<0)for(;++u<=0;)for(;t(c,-1),!l(c););else for(;--u>=0;)for(;t(c,1),!l(c););}),a&&(s.count=(l,c)=>(Jy.setTime(+l),e1.setTime(+c),e(Jy),e(e1),Math.floor(a(Jy,e1))),s.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?s.filter(r?c=>r(c)%l===0:c=>s.count(0,c)%l===0):s)),s}const zp=Vn(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);zp.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Vn(t=>{t.setTime(Math.floor(t/e)*e)},(t,a)=>{t.setTime(+t+a*e)},(t,a)=>(a-t)/e):zp);zp.range;const si=1e3,Rr=si*60,ii=Rr*60,Si=ii*24,bN=Si*7,H6=Si*30,t1=Si*365,Eo=Vn(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*si)},(e,t)=>(t-e)/si,e=>e.getUTCSeconds());Eo.range;const vN=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getMinutes());vN.range;const yN=Vn(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Rr)},(e,t)=>(t-e)/Rr,e=>e.getUTCMinutes());yN.range;const jN=Vn(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*si-e.getMinutes()*Rr)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getHours());jN.range;const wN=Vn(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ii)},(e,t)=>(t-e)/ii,e=>e.getUTCHours());wN.range;const Sf=Vn(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Rr)/Si,e=>e.getDate()-1);Sf.range;const Mx=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>e.getUTCDate()-1);Mx.range;const Z8=Vn(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Si,e=>Math.floor(e/Si));Z8.range;function Yo(e){return Vn(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,a)=>{t.setDate(t.getDate()+a*7)},(t,a)=>(a-t-(a.getTimezoneOffset()-t.getTimezoneOffset())*Rr)/bN)}const Dx=Yo(0),Up=Yo(1),kte=Yo(2),Cte=Yo(3),_d=Yo(4),Ate=Yo(5),Tte=Yo(6);Dx.range;Up.range;kte.range;Cte.range;_d.range;Ate.range;Tte.range;function Wo(e){return Vn(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCDate(t.getUTCDate()+a*7)},(t,a)=>(a-t)/bN)}const Rx=Wo(0),Fp=Wo(1),Ete=Wo(2),Pte=Wo(3),kd=Wo(4),Ote=Wo(5),Mte=Wo(6);Rx.range;Fp.range;Ete.range;Pte.range;kd.range;Ote.range;Mte.range;const NN=Vn(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());NN.range;const SN=Vn(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());SN.range;const _i=Vn(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_i.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,a)=>{t.setFullYear(t.getFullYear()+a*e)});_i.range;const ki=Vn(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ki.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Vn(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,a)=>{t.setUTCFullYear(t.getUTCFullYear()+a*e)});ki.range;function Q8(e,t,a,r,s,l){const c=[[Eo,1,si],[Eo,5,5*si],[Eo,15,15*si],[Eo,30,30*si],[l,1,Rr],[l,5,5*Rr],[l,15,15*Rr],[l,30,30*Rr],[s,1,ii],[s,3,3*ii],[s,6,6*ii],[s,12,12*ii],[r,1,Si],[r,2,2*Si],[a,1,bN],[t,1,H6],[t,3,3*H6],[e,1,t1]];function u(f,h,g){const b=h<f;b&&([f,h]=[h,f]);const y=g&&typeof g.range=="function"?g:m(f,h,g),j=y?y.range(f,+h+1):[];return b?j.reverse():j}function m(f,h,g){const b=Math.abs(h-f)/g,y=sN(([,,S])=>S).right(c,b);if(y===c.length)return e.every(rw(f/t1,h/t1,g));if(y===0)return zp.every(Math.max(rw(f,h,g),1));const[j,w]=c[b/c[y-1][2]<c[y][2]/b?y-1:y];return j.every(w)}return[u,m]}const[Dte,Rte]=Q8(ki,SN,Rx,Z8,wN,yN),[Lte,$te]=Q8(_i,NN,Dx,Sf,jN,vN);function n1(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function a1(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Qu(e,t,a){return{y:e,m:t,d:a,H:0,M:0,S:0,L:0}}function Ite(e){var t=e.dateTime,a=e.date,r=e.time,s=e.periods,l=e.days,c=e.shortDays,u=e.months,m=e.shortMonths,f=Ju(s),h=em(s),g=Ju(l),b=em(l),y=Ju(c),j=em(c),w=Ju(u),S=em(u),k=Ju(m),_=em(m),C={a:H,A:G,b:B,B:A,c:null,d:X6,e:X6,f:lne,g:gne,G:vne,H:rne,I:sne,j:ine,L:J8,m:one,M:cne,p:L,q:R,Q:J6,s:eT,S:dne,u:une,U:mne,V:fne,w:hne,W:pne,x:null,X:null,y:xne,Y:bne,Z:yne,"%":Q6},P={a:q,A:ce,b:Z,B:W,c:null,d:Z6,e:Z6,f:Sne,g:Dne,G:Lne,H:jne,I:wne,j:Nne,L:tR,m:_ne,M:kne,p:_e,q:te,Q:J6,s:eT,S:Cne,u:Ane,U:Tne,V:Ene,w:Pne,W:One,x:null,X:null,y:Mne,Y:Rne,Z:$ne,"%":Q6},T={a:K,A:z,b:U,B:ae,c:ke,d:Y6,e:Y6,f:ene,g:G6,G:K6,H:W6,I:W6,j:Xte,L:Jte,m:Wte,M:Zte,p:F,q:Yte,Q:nne,s:ane,S:Qte,u:Vte,U:Hte,V:qte,w:Fte,W:Kte,x:se,X:O,y:G6,Y:K6,Z:Gte,"%":tne};C.x=E(a,C),C.X=E(r,C),C.c=E(t,C),P.x=E(a,P),P.X=E(r,P),P.c=E(t,P);function E(je,Ee){return function(Ae){var xe=[],Fe=-1,Be=0,ve=je.length,le,Te,ee;for(Ae instanceof Date||(Ae=new Date(+Ae));++Fe<ve;)je.charCodeAt(Fe)===37&&(xe.push(je.slice(Be,Fe)),(Te=q6[le=je.charAt(++Fe)])!=null?le=je.charAt(++Fe):Te=le==="e"?" ":"0",(ee=Ee[le])&&(le=ee(Ae,Te)),xe.push(le),Be=Fe+1);return xe.push(je.slice(Be,Fe)),xe.join("")}}function $(je,Ee){return function(Ae){var xe=Qu(1900,void 0,1),Fe=M(xe,je,Ae+="",0),Be,ve;if(Fe!=Ae.length)return null;if("Q"in xe)return new Date(xe.Q);if("s"in xe)return new Date(xe.s*1e3+("L"in xe?xe.L:0));if(Ee&&!("Z"in xe)&&(xe.Z=0),"p"in xe&&(xe.H=xe.H%12+xe.p*12),xe.m===void 0&&(xe.m="q"in xe?xe.q:0),"V"in xe){if(xe.V<1||xe.V>53)return null;"w"in xe||(xe.w=1),"Z"in xe?(Be=a1(Qu(xe.y,0,1)),ve=Be.getUTCDay(),Be=ve>4||ve===0?Fp.ceil(Be):Fp(Be),Be=Mx.offset(Be,(xe.V-1)*7),xe.y=Be.getUTCFullYear(),xe.m=Be.getUTCMonth(),xe.d=Be.getUTCDate()+(xe.w+6)%7):(Be=n1(Qu(xe.y,0,1)),ve=Be.getDay(),Be=ve>4||ve===0?Up.ceil(Be):Up(Be),Be=Sf.offset(Be,(xe.V-1)*7),xe.y=Be.getFullYear(),xe.m=Be.getMonth(),xe.d=Be.getDate()+(xe.w+6)%7)}else("W"in xe||"U"in xe)&&("w"in xe||(xe.w="u"in xe?xe.u%7:"W"in xe?1:0),ve="Z"in xe?a1(Qu(xe.y,0,1)).getUTCDay():n1(Qu(xe.y,0,1)).getDay(),xe.m=0,xe.d="W"in xe?(xe.w+6)%7+xe.W*7-(ve+5)%7:xe.w+xe.U*7-(ve+6)%7);return"Z"in xe?(xe.H+=xe.Z/100|0,xe.M+=xe.Z%100,a1(xe)):n1(xe)}}function M(je,Ee,Ae,xe){for(var Fe=0,Be=Ee.length,ve=Ae.length,le,Te;Fe<Be;){if(xe>=ve)return-1;if(le=Ee.charCodeAt(Fe++),le===37){if(le=Ee.charAt(Fe++),Te=T[le in q6?Ee.charAt(Fe++):le],!Te||(xe=Te(je,Ae,xe))<0)return-1}else if(le!=Ae.charCodeAt(xe++))return-1}return xe}function F(je,Ee,Ae){var xe=f.exec(Ee.slice(Ae));return xe?(je.p=h.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function K(je,Ee,Ae){var xe=y.exec(Ee.slice(Ae));return xe?(je.w=j.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function z(je,Ee,Ae){var xe=g.exec(Ee.slice(Ae));return xe?(je.w=b.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function U(je,Ee,Ae){var xe=k.exec(Ee.slice(Ae));return xe?(je.m=_.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function ae(je,Ee,Ae){var xe=w.exec(Ee.slice(Ae));return xe?(je.m=S.get(xe[0].toLowerCase()),Ae+xe[0].length):-1}function ke(je,Ee,Ae){return M(je,t,Ee,Ae)}function se(je,Ee,Ae){return M(je,a,Ee,Ae)}function O(je,Ee,Ae){return M(je,r,Ee,Ae)}function H(je){return c[je.getDay()]}function G(je){return l[je.getDay()]}function B(je){return m[je.getMonth()]}function A(je){return u[je.getMonth()]}function L(je){return s[+(je.getHours()>=12)]}function R(je){return 1+~~(je.getMonth()/3)}function q(je){return c[je.getUTCDay()]}function ce(je){return l[je.getUTCDay()]}function Z(je){return m[je.getUTCMonth()]}function W(je){return u[je.getUTCMonth()]}function _e(je){return s[+(je.getUTCHours()>=12)]}function te(je){return 1+~~(je.getUTCMonth()/3)}return{format:function(je){var Ee=E(je+="",C);return Ee.toString=function(){return je},Ee},parse:function(je){var Ee=$(je+="",!1);return Ee.toString=function(){return je},Ee},utcFormat:function(je){var Ee=E(je+="",P);return Ee.toString=function(){return je},Ee},utcParse:function(je){var Ee=$(je+="",!0);return Ee.toString=function(){return je},Ee}}}var q6={"-":"",_:" ",0:"0"},ta=/^\s*\d+/,Bte=/^%/,zte=/[\\^$*+?|[\]().{}]/g;function Dt(e,t,a){var r=e<0?"-":"",s=(r?-e:e)+"",l=s.length;return r+(l<a?new Array(a-l+1).join(t)+s:s)}function Ute(e){return e.replace(zte,"\\$&")}function Ju(e){return new RegExp("^(?:"+e.map(Ute).join("|")+")","i")}function em(e){return new Map(e.map((t,a)=>[t.toLowerCase(),a]))}function Fte(e,t,a){var r=ta.exec(t.slice(a,a+1));return r?(e.w=+r[0],a+r[0].length):-1}function Vte(e,t,a){var r=ta.exec(t.slice(a,a+1));return r?(e.u=+r[0],a+r[0].length):-1}function Hte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.U=+r[0],a+r[0].length):-1}function qte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.V=+r[0],a+r[0].length):-1}function Kte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.W=+r[0],a+r[0].length):-1}function K6(e,t,a){var r=ta.exec(t.slice(a,a+4));return r?(e.y=+r[0],a+r[0].length):-1}function G6(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),a+r[0].length):-1}function Gte(e,t,a){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(a,a+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),a+r[0].length):-1}function Yte(e,t,a){var r=ta.exec(t.slice(a,a+1));return r?(e.q=r[0]*3-3,a+r[0].length):-1}function Wte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.m=r[0]-1,a+r[0].length):-1}function Y6(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.d=+r[0],a+r[0].length):-1}function Xte(e,t,a){var r=ta.exec(t.slice(a,a+3));return r?(e.m=0,e.d=+r[0],a+r[0].length):-1}function W6(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.H=+r[0],a+r[0].length):-1}function Zte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.M=+r[0],a+r[0].length):-1}function Qte(e,t,a){var r=ta.exec(t.slice(a,a+2));return r?(e.S=+r[0],a+r[0].length):-1}function Jte(e,t,a){var r=ta.exec(t.slice(a,a+3));return r?(e.L=+r[0],a+r[0].length):-1}function ene(e,t,a){var r=ta.exec(t.slice(a,a+6));return r?(e.L=Math.floor(r[0]/1e3),a+r[0].length):-1}function tne(e,t,a){var r=Bte.exec(t.slice(a,a+1));return r?a+r[0].length:-1}function nne(e,t,a){var r=ta.exec(t.slice(a));return r?(e.Q=+r[0],a+r[0].length):-1}function ane(e,t,a){var r=ta.exec(t.slice(a));return r?(e.s=+r[0],a+r[0].length):-1}function X6(e,t){return Dt(e.getDate(),t,2)}function rne(e,t){return Dt(e.getHours(),t,2)}function sne(e,t){return Dt(e.getHours()%12||12,t,2)}function ine(e,t){return Dt(1+Sf.count(_i(e),e),t,3)}function J8(e,t){return Dt(e.getMilliseconds(),t,3)}function lne(e,t){return J8(e,t)+"000"}function one(e,t){return Dt(e.getMonth()+1,t,2)}function cne(e,t){return Dt(e.getMinutes(),t,2)}function dne(e,t){return Dt(e.getSeconds(),t,2)}function une(e){var t=e.getDay();return t===0?7:t}function mne(e,t){return Dt(Dx.count(_i(e)-1,e),t,2)}function eR(e){var t=e.getDay();return t>=4||t===0?_d(e):_d.ceil(e)}function fne(e,t){return e=eR(e),Dt(_d.count(_i(e),e)+(_i(e).getDay()===4),t,2)}function hne(e){return e.getDay()}function pne(e,t){return Dt(Up.count(_i(e)-1,e),t,2)}function xne(e,t){return Dt(e.getFullYear()%100,t,2)}function gne(e,t){return e=eR(e),Dt(e.getFullYear()%100,t,2)}function bne(e,t){return Dt(e.getFullYear()%1e4,t,4)}function vne(e,t){var a=e.getDay();return e=a>=4||a===0?_d(e):_d.ceil(e),Dt(e.getFullYear()%1e4,t,4)}function yne(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Dt(t/60|0,"0",2)+Dt(t%60,"0",2)}function Z6(e,t){return Dt(e.getUTCDate(),t,2)}function jne(e,t){return Dt(e.getUTCHours(),t,2)}function wne(e,t){return Dt(e.getUTCHours()%12||12,t,2)}function Nne(e,t){return Dt(1+Mx.count(ki(e),e),t,3)}function tR(e,t){return Dt(e.getUTCMilliseconds(),t,3)}function Sne(e,t){return tR(e,t)+"000"}function _ne(e,t){return Dt(e.getUTCMonth()+1,t,2)}function kne(e,t){return Dt(e.getUTCMinutes(),t,2)}function Cne(e,t){return Dt(e.getUTCSeconds(),t,2)}function Ane(e){var t=e.getUTCDay();return t===0?7:t}function Tne(e,t){return Dt(Rx.count(ki(e)-1,e),t,2)}function nR(e){var t=e.getUTCDay();return t>=4||t===0?kd(e):kd.ceil(e)}function Ene(e,t){return e=nR(e),Dt(kd.count(ki(e),e)+(ki(e).getUTCDay()===4),t,2)}function Pne(e){return e.getUTCDay()}function One(e,t){return Dt(Fp.count(ki(e)-1,e),t,2)}function Mne(e,t){return Dt(e.getUTCFullYear()%100,t,2)}function Dne(e,t){return e=nR(e),Dt(e.getUTCFullYear()%100,t,2)}function Rne(e,t){return Dt(e.getUTCFullYear()%1e4,t,4)}function Lne(e,t){var a=e.getUTCDay();return e=a>=4||a===0?kd(e):kd.ceil(e),Dt(e.getUTCFullYear()%1e4,t,4)}function $ne(){return"+0000"}function Q6(){return"%"}function J6(e){return+e}function eT(e){return Math.floor(+e/1e3)}var Oc,aR,rR;Ine({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Ine(e){return Oc=Ite(e),aR=Oc.format,Oc.parse,rR=Oc.utcFormat,Oc.utcParse,Oc}function Bne(e){return new Date(e)}function zne(e){return e instanceof Date?+e:+new Date(+e)}function _N(e,t,a,r,s,l,c,u,m,f){var h=uN(),g=h.invert,b=h.domain,y=f(".%L"),j=f(":%S"),w=f("%I:%M"),S=f("%I %p"),k=f("%a %d"),_=f("%b %d"),C=f("%B"),P=f("%Y");function T(E){return(m(E)<E?y:u(E)<E?j:c(E)<E?w:l(E)<E?S:r(E)<E?s(E)<E?k:_:a(E)<E?C:P)(E)}return h.invert=function(E){return new Date(g(E))},h.domain=function(E){return arguments.length?b(Array.from(E,zne)):b().map(Bne)},h.ticks=function(E){var $=b();return e($[0],$[$.length-1],E??10)},h.tickFormat=function(E,$){return $==null?T:f($)},h.nice=function(E){var $=b();return(!E||typeof E.range!="function")&&(E=t($[0],$[$.length-1],E??10)),E?b(H8($,E)):h},h.copy=function(){return Nf(h,_N(e,t,a,r,s,l,c,u,m,f))},h}function Une(){return Ur.apply(_N(Lte,$te,_i,NN,Dx,Sf,jN,vN,Eo,aR).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Fne(){return Ur.apply(_N(Dte,Rte,ki,SN,Rx,Mx,wN,yN,Eo,rR).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lx(){var e=0,t=1,a,r,s,l,c=Ta,u=!1,m;function f(g){return g==null||isNaN(g=+g)?m:c(s===0?.5:(g=(l(g)-a)*s,u?Math.max(0,Math.min(1,g)):g))}f.domain=function(g){return arguments.length?([e,t]=g,a=l(e=+e),r=l(t=+t),s=a===r?0:1/(r-a),f):[e,t]},f.clamp=function(g){return arguments.length?(u=!!g,f):u},f.interpolator=function(g){return arguments.length?(c=g,f):c};function h(g){return function(b){var y,j;return arguments.length?([y,j]=b,c=g(y,j),f):[c(0),c(1)]}}return f.range=h(zd),f.rangeRound=h(dN),f.unknown=function(g){return arguments.length?(m=g,f):m},function(g){return l=g,a=g(e),r=g(t),s=a===r?0:1/(r-a),f}}function Rl(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function sR(){var e=Dl(Lx()(Ta));return e.copy=function(){return Rl(e,sR())},Pi.apply(e,arguments)}function iR(){var e=hN(Lx()).domain([1,10]);return e.copy=function(){return Rl(e,iR()).base(e.base())},Pi.apply(e,arguments)}function lR(){var e=pN(Lx());return e.copy=function(){return Rl(e,lR()).constant(e.constant())},Pi.apply(e,arguments)}function kN(){var e=xN(Lx());return e.copy=function(){return Rl(e,kN()).exponent(e.exponent())},Pi.apply(e,arguments)}function Vne(){return kN.apply(null,arguments).exponent(.5)}function oR(){var e=[],t=Ta;function a(r){if(r!=null&&!isNaN(r=+r))return t((jf(e,r,1)-1)/(e.length-1))}return a.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let s of r)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(jl),a},a.interpolator=function(r){return arguments.length?(t=r,a):t},a.range=function(){return e.map((r,s)=>t(s/(e.length-1)))},a.quantiles=function(r){return Array.from({length:r+1},(s,l)=>Aee(e,l/r))},a.copy=function(){return oR(t).domain(e)},Pi.apply(a,arguments)}function $x(){var e=0,t=.5,a=1,r=1,s,l,c,u,m,f=Ta,h,g=!1,b;function y(w){return isNaN(w=+w)?b:(w=.5+((w=+h(w))-l)*(r*w<r*l?u:m),f(g?Math.max(0,Math.min(1,w)):w))}y.domain=function(w){return arguments.length?([e,t,a]=w,s=h(e=+e),l=h(t=+t),c=h(a=+a),u=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y):[e,t,a]},y.clamp=function(w){return arguments.length?(g=!!w,y):g},y.interpolator=function(w){return arguments.length?(f=w,y):f};function j(w){return function(S){var k,_,C;return arguments.length?([k,_,C]=S,f=tte(w,[k,_,C]),y):[f(0),f(.5),f(1)]}}return y.range=j(zd),y.rangeRound=j(dN),y.unknown=function(w){return arguments.length?(b=w,y):b},function(w){return h=w,s=w(e),l=w(t),c=w(a),u=s===l?0:.5/(l-s),m=l===c?0:.5/(c-l),r=l<s?-1:1,y}}function cR(){var e=Dl($x()(Ta));return e.copy=function(){return Rl(e,cR())},Pi.apply(e,arguments)}function dR(){var e=hN($x()).domain([.1,1,10]);return e.copy=function(){return Rl(e,dR()).base(e.base())},Pi.apply(e,arguments)}function uR(){var e=pN($x());return e.copy=function(){return Rl(e,uR()).constant(e.constant())},Pi.apply(e,arguments)}function CN(){var e=xN($x());return e.copy=function(){return Rl(e,CN()).exponent(e.exponent())},Pi.apply(e,arguments)}function Hne(){return CN.apply(null,arguments).exponent(.5)}const vm=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:lN,scaleDiverging:cR,scaleDivergingLog:dR,scaleDivergingPow:CN,scaleDivergingSqrt:Hne,scaleDivergingSymlog:uR,scaleIdentity:V8,scaleImplicit:sw,scaleLinear:F8,scaleLog:q8,scaleOrdinal:iN,scalePoint:Pee,scalePow:gN,scaleQuantile:Y8,scaleQuantize:W8,scaleRadial:G8,scaleSequential:sR,scaleSequentialLog:iR,scaleSequentialPow:kN,scaleSequentialQuantile:oR,scaleSequentialSqrt:Vne,scaleSequentialSymlog:lR,scaleSqrt:Ste,scaleSymlog:K8,scaleThreshold:X8,scaleTime:Une,scaleUtc:Fne,tickFormat:U8},Symbol.toStringTag,{value:"Module"}));var Ll=e=>e.chartData,AN=Ne([Ll],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),Ix=(e,t,a,r)=>r?AN(e):Ll(e);function Cd(e){if(Array.isArray(e)&&e.length===2){var[t,a]=e;if(hr(t)&&hr(a))return!0}return!1}function tT(e,t,a){return a?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function qne(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[a,r]=e,s,l;if(hr(a))s=a;else if(typeof a=="function")return;if(hr(r))l=r;else if(typeof r=="function")return;var c=[s,l];if(Cd(c))return c}}function Kne(e,t,a){if(!(!a&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,a);if(Cd(r))return tT(r,t,a)}catch{}if(Array.isArray(e)&&e.length===2){var[s,l]=e,c,u;if(s==="auto")t!=null&&(c=Math.min(...t));else if(We(s))c=s;else if(typeof s=="function")try{t!=null&&(c=s(t==null?void 0:t[0]))}catch{}else if(typeof s=="string"&&HA.test(s)){var m=HA.exec(s);if(m==null||t==null)c=void 0;else{var f=+m[1];c=t[0]-f}}else c=t==null?void 0:t[0];if(l==="auto")t!=null&&(u=Math.max(...t));else if(We(l))u=l;else if(typeof l=="function")try{t!=null&&(u=l(t==null?void 0:t[1]))}catch{}else if(typeof l=="string"&&qA.test(l)){var h=qA.exec(l);if(h==null||t==null)u=void 0;else{var g=+h[1];u=t[1]+g}}else u=t==null?void 0:t[1];var b=[c,u];if(Cd(b))return t==null?b:tT(b,t,a)}}}var Ud=1e9,Gne={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},EN,cn=!0,Br="[DecimalError] ",Io=Br+"Invalid argument: ",TN=Br+"Exponent out of range: ",Fd=Math.floor,yo=Math.pow,Yne=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,lr,Qn=1e7,tn=7,mR=9007199254740991,Vp=Fd(mR/tn),Ze={};Ze.absoluteValue=Ze.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Ze.comparedTo=Ze.cmp=function(e){var t,a,r,s,l=this;if(e=new l.constructor(e),l.s!==e.s)return l.s||-e.s;if(l.e!==e.e)return l.e>e.e^l.s<0?1:-1;for(r=l.d.length,s=e.d.length,t=0,a=r<s?r:s;t<a;++t)if(l.d[t]!==e.d[t])return l.d[t]>e.d[t]^l.s<0?1:-1;return r===s?0:r>s^l.s<0?1:-1};Ze.decimalPlaces=Ze.dp=function(){var e=this,t=e.d.length-1,a=(t-e.e)*tn;if(t=e.d[t],t)for(;t%10==0;t/=10)a--;return a<0?0:a};Ze.dividedBy=Ze.div=function(e){return ui(this,new this.constructor(e))};Ze.dividedToIntegerBy=Ze.idiv=function(e){var t=this,a=t.constructor;return Wt(ui(t,new a(e),0,1),a.precision)};Ze.equals=Ze.eq=function(e){return!this.cmp(e)};Ze.exponent=function(){return Rn(this)};Ze.greaterThan=Ze.gt=function(e){return this.cmp(e)>0};Ze.greaterThanOrEqualTo=Ze.gte=function(e){return this.cmp(e)>=0};Ze.isInteger=Ze.isint=function(){return this.e>this.d.length-2};Ze.isNegative=Ze.isneg=function(){return this.s<0};Ze.isPositive=Ze.ispos=function(){return this.s>0};Ze.isZero=function(){return this.s===0};Ze.lessThan=Ze.lt=function(e){return this.cmp(e)<0};Ze.lessThanOrEqualTo=Ze.lte=function(e){return this.cmp(e)<1};Ze.logarithm=Ze.log=function(e){var t,a=this,r=a.constructor,s=r.precision,l=s+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(lr))throw Error(Br+"NaN");if(a.s<1)throw Error(Br+(a.s?"NaN":"-Infinity"));return a.eq(lr)?new r(0):(cn=!1,t=ui(tf(a,l),tf(e,l),l),cn=!0,Wt(t,s))};Ze.minus=Ze.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?pR(t,e):fR(t,(e.s=-e.s,e))};Ze.modulo=Ze.mod=function(e){var t,a=this,r=a.constructor,s=r.precision;if(e=new r(e),!e.s)throw Error(Br+"NaN");return a.s?(cn=!1,t=ui(a,e,0,1).times(e),cn=!0,a.minus(t)):Wt(new r(a),s)};Ze.naturalExponential=Ze.exp=function(){return hR(this)};Ze.naturalLogarithm=Ze.ln=function(){return tf(this)};Ze.negated=Ze.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Ze.plus=Ze.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?fR(t,e):pR(t,(e.s=-e.s,e))};Ze.precision=Ze.sd=function(e){var t,a,r,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Io+e);if(t=Rn(s)+1,r=s.d.length-1,a=r*tn+1,r=s.d[r],r){for(;r%10==0;r/=10)a--;for(r=s.d[0];r>=10;r/=10)a++}return e&&t>a?t:a};Ze.squareRoot=Ze.sqrt=function(){var e,t,a,r,s,l,c,u=this,m=u.constructor;if(u.s<1){if(!u.s)return new m(0);throw Error(Br+"NaN")}for(e=Rn(u),cn=!1,s=Math.sqrt(+u),s==0||s==1/0?(t=Cs(u.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Fd((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new m(t)):r=new m(s.toString()),a=m.precision,s=c=a+3;;)if(l=r,r=l.plus(ui(u,l,c+2)).times(.5),Cs(l.d).slice(0,c)===(t=Cs(r.d)).slice(0,c)){if(t=t.slice(c-3,c+1),s==c&&t=="4999"){if(Wt(l,a+1,0),l.times(l).eq(u)){r=l;break}}else if(t!="9999")break;c+=4}return cn=!0,Wt(r,a)};Ze.times=Ze.mul=function(e){var t,a,r,s,l,c,u,m,f,h=this,g=h.constructor,b=h.d,y=(e=new g(e)).d;if(!h.s||!e.s)return new g(0);for(e.s*=h.s,a=h.e+e.e,m=b.length,f=y.length,m<f&&(l=b,b=y,y=l,c=m,m=f,f=c),l=[],c=m+f,r=c;r--;)l.push(0);for(r=f;--r>=0;){for(t=0,s=m+r;s>r;)u=l[s]+y[r]*b[s-r-1]+t,l[s--]=u%Qn|0,t=u/Qn|0;l[s]=(l[s]+t)%Qn|0}for(;!l[--c];)l.pop();return t?++a:l.shift(),e.d=l,e.e=a,cn?Wt(e,g.precision):e};Ze.toDecimalPlaces=Ze.todp=function(e,t){var a=this,r=a.constructor;return a=new r(a),e===void 0?a:(Ms(e,0,Ud),t===void 0?t=r.rounding:Ms(t,0,8),Wt(a,e+Rn(a)+1,t))};Ze.toExponential=function(e,t){var a,r=this,s=r.constructor;return e===void 0?a=Ho(r,!0):(Ms(e,0,Ud),t===void 0?t=s.rounding:Ms(t,0,8),r=Wt(new s(r),e+1,t),a=Ho(r,!0,e+1)),a};Ze.toFixed=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?Ho(s):(Ms(e,0,Ud),t===void 0?t=l.rounding:Ms(t,0,8),r=Wt(new l(s),e+Rn(s)+1,t),a=Ho(r.abs(),!1,e+Rn(r)+1),s.isneg()&&!s.isZero()?"-"+a:a)};Ze.toInteger=Ze.toint=function(){var e=this,t=e.constructor;return Wt(new t(e),Rn(e)+1,t.rounding)};Ze.toNumber=function(){return+this};Ze.toPower=Ze.pow=function(e){var t,a,r,s,l,c,u=this,m=u.constructor,f=12,h=+(e=new m(e));if(!e.s)return new m(lr);if(u=new m(u),!u.s){if(e.s<1)throw Error(Br+"Infinity");return u}if(u.eq(lr))return u;if(r=m.precision,e.eq(lr))return Wt(u,r);if(t=e.e,a=e.d.length-1,c=t>=a,l=u.s,c){if((a=h<0?-h:h)<=mR){for(s=new m(lr),t=Math.ceil(r/tn+4),cn=!1;a%2&&(s=s.times(u),aT(s.d,t)),a=Fd(a/2),a!==0;)u=u.times(u),aT(u.d,t);return cn=!0,e.s<0?new m(lr).div(s):Wt(s,r)}}else if(l<0)throw Error(Br+"NaN");return l=l<0&&e.d[Math.max(t,a)]&1?-1:1,u.s=1,cn=!1,s=e.times(tf(u,r+f)),cn=!0,s=hR(s),s.s=l,s};Ze.toPrecision=function(e,t){var a,r,s=this,l=s.constructor;return e===void 0?(a=Rn(s),r=Ho(s,a<=l.toExpNeg||a>=l.toExpPos)):(Ms(e,1,Ud),t===void 0?t=l.rounding:Ms(t,0,8),s=Wt(new l(s),e,t),a=Rn(s),r=Ho(s,e<=a||a<=l.toExpNeg,e)),r};Ze.toSignificantDigits=Ze.tosd=function(e,t){var a=this,r=a.constructor;return e===void 0?(e=r.precision,t=r.rounding):(Ms(e,1,Ud),t===void 0?t=r.rounding:Ms(t,0,8)),Wt(new r(a),e,t)};Ze.toString=Ze.valueOf=Ze.val=Ze.toJSON=Ze[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Rn(e),a=e.constructor;return Ho(e,t<=a.toExpNeg||t>=a.toExpPos)};function fR(e,t){var a,r,s,l,c,u,m,f,h=e.constructor,g=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),cn?Wt(t,g):t;if(m=e.d,f=t.d,c=e.e,s=t.e,m=m.slice(),l=c-s,l){for(l<0?(r=m,l=-l,u=f.length):(r=f,s=c,u=m.length),c=Math.ceil(g/tn),u=c>u?c+1:u+1,l>u&&(l=u,r.length=1),r.reverse();l--;)r.push(0);r.reverse()}for(u=m.length,l=f.length,u-l<0&&(l=u,r=f,f=m,m=r),a=0;l;)a=(m[--l]=m[l]+f[l]+a)/Qn|0,m[l]%=Qn;for(a&&(m.unshift(a),++s),u=m.length;m[--u]==0;)m.pop();return t.d=m,t.e=s,cn?Wt(t,g):t}function Ms(e,t,a){if(e!==~~e||e<t||e>a)throw Error(Io+e)}function Cs(e){var t,a,r,s=e.length-1,l="",c=e[0];if(s>0){for(l+=c,t=1;t<s;t++)r=e[t]+"",a=tn-r.length,a&&(l+=bl(a)),l+=r;c=e[t],r=c+"",a=tn-r.length,a&&(l+=bl(a))}else if(c===0)return"0";for(;c%10===0;)c/=10;return l+c}var ui=function(){function e(r,s){var l,c=0,u=r.length;for(r=r.slice();u--;)l=r[u]*s+c,r[u]=l%Qn|0,c=l/Qn|0;return c&&r.unshift(c),r}function t(r,s,l,c){var u,m;if(l!=c)m=l>c?1:-1;else for(u=m=0;u<l;u++)if(r[u]!=s[u]){m=r[u]>s[u]?1:-1;break}return m}function a(r,s,l){for(var c=0;l--;)r[l]-=c,c=r[l]<s[l]?1:0,r[l]=c*Qn+r[l]-s[l];for(;!r[0]&&r.length>1;)r.shift()}return function(r,s,l,c){var u,m,f,h,g,b,y,j,w,S,k,_,C,P,T,E,$,M,F=r.constructor,K=r.s==s.s?1:-1,z=r.d,U=s.d;if(!r.s)return new F(r);if(!s.s)throw Error(Br+"Division by zero");for(m=r.e-s.e,$=U.length,T=z.length,y=new F(K),j=y.d=[],f=0;U[f]==(z[f]||0);)++f;if(U[f]>(z[f]||0)&&--m,l==null?_=l=F.precision:c?_=l+(Rn(r)-Rn(s))+1:_=l,_<0)return new F(0);if(_=_/tn+2|0,f=0,$==1)for(h=0,U=U[0],_++;(f<T||h)&&_--;f++)C=h*Qn+(z[f]||0),j[f]=C/U|0,h=C%U|0;else{for(h=Qn/(U[0]+1)|0,h>1&&(U=e(U,h),z=e(z,h),$=U.length,T=z.length),P=$,w=z.slice(0,$),S=w.length;S<$;)w[S++]=0;M=U.slice(),M.unshift(0),E=U[0],U[1]>=Qn/2&&++E;do h=0,u=t(U,w,$,S),u<0?(k=w[0],$!=S&&(k=k*Qn+(w[1]||0)),h=k/E|0,h>1?(h>=Qn&&(h=Qn-1),g=e(U,h),b=g.length,S=w.length,u=t(g,w,b,S),u==1&&(h--,a(g,$<b?M:U,b))):(h==0&&(u=h=1),g=U.slice()),b=g.length,b<S&&g.unshift(0),a(w,g,S),u==-1&&(S=w.length,u=t(U,w,$,S),u<1&&(h++,a(w,$<S?M:U,S))),S=w.length):u===0&&(h++,w=[0]),j[f++]=h,u&&w[0]?w[S++]=z[P]||0:(w=[z[P]],S=1);while((P++<T||w[0]!==void 0)&&_--)}return j[0]||j.shift(),y.e=m,Wt(y,c?l+Rn(y)+1:l)}}();function hR(e,t){var a,r,s,l,c,u,m=0,f=0,h=e.constructor,g=h.precision;if(Rn(e)>16)throw Error(TN+Rn(e));if(!e.s)return new h(lr);for(cn=!1,u=g,c=new h(.03125);e.abs().gte(.1);)e=e.times(c),f+=5;for(r=Math.log(yo(2,f))/Math.LN10*2+5|0,u+=r,a=s=l=new h(lr),h.precision=u;;){if(s=Wt(s.times(e),u),a=a.times(++m),c=l.plus(ui(s,a,u)),Cs(c.d).slice(0,u)===Cs(l.d).slice(0,u)){for(;f--;)l=Wt(l.times(l),u);return h.precision=g,t==null?(cn=!0,Wt(l,g)):l}l=c}}function Rn(e){for(var t=e.e*tn,a=e.d[0];a>=10;a/=10)t++;return t}function r1(e,t,a){if(t>e.LN10.sd())throw cn=!0,a&&(e.precision=a),Error(Br+"LN10 precision limit exceeded");return Wt(new e(e.LN10),t)}function bl(e){for(var t="";e--;)t+="0";return t}function tf(e,t){var a,r,s,l,c,u,m,f,h,g=1,b=10,y=e,j=y.d,w=y.constructor,S=w.precision;if(y.s<1)throw Error(Br+(y.s?"NaN":"-Infinity"));if(y.eq(lr))return new w(0);if(t==null?(cn=!1,f=S):f=t,y.eq(10))return t==null&&(cn=!0),r1(w,f);if(f+=b,w.precision=f,a=Cs(j),r=a.charAt(0),l=Rn(y),Math.abs(l)<15e14){for(;r<7&&r!=1||r==1&&a.charAt(1)>3;)y=y.times(e),a=Cs(y.d),r=a.charAt(0),g++;l=Rn(y),r>1?(y=new w("0."+a),l++):y=new w(r+"."+a.slice(1))}else return m=r1(w,f+2,S).times(l+""),y=tf(new w(r+"."+a.slice(1)),f-b).plus(m),w.precision=S,t==null?(cn=!0,Wt(y,S)):y;for(u=c=y=ui(y.minus(lr),y.plus(lr),f),h=Wt(y.times(y),f),s=3;;){if(c=Wt(c.times(h),f),m=u.plus(ui(c,new w(s),f)),Cs(m.d).slice(0,f)===Cs(u.d).slice(0,f))return u=u.times(2),l!==0&&(u=u.plus(r1(w,f+2,S).times(l+""))),u=ui(u,new w(g),f),w.precision=S,t==null?(cn=!0,Wt(u,S)):u;u=m,s+=2}}function nT(e,t){var a,r,s;for((a=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(a<0&&(a=r),a+=+t.slice(r+1),t=t.substring(0,r)):a<0&&(a=t.length),r=0;t.charCodeAt(r)===48;)++r;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(r,s),t){if(s-=r,a=a-r-1,e.e=Fd(a/tn),e.d=[],r=(a+1)%tn,a<0&&(r+=tn),r<s){for(r&&e.d.push(+t.slice(0,r)),s-=tn;r<s;)e.d.push(+t.slice(r,r+=tn));t=t.slice(r),r=tn-t.length}else r-=s;for(;r--;)t+="0";if(e.d.push(+t),cn&&(e.e>Vp||e.e<-Vp))throw Error(TN+a)}else e.s=0,e.e=0,e.d=[0];return e}function Wt(e,t,a){var r,s,l,c,u,m,f,h,g=e.d;for(c=1,l=g[0];l>=10;l/=10)c++;if(r=t-c,r<0)r+=tn,s=t,f=g[h=0];else{if(h=Math.ceil((r+1)/tn),l=g.length,h>=l)return e;for(f=l=g[h],c=1;l>=10;l/=10)c++;r%=tn,s=r-tn+c}if(a!==void 0&&(l=yo(10,c-s-1),u=f/l%10|0,m=t<0||g[h+1]!==void 0||f%l,m=a<4?(u||m)&&(a==0||a==(e.s<0?3:2)):u>5||u==5&&(a==4||m||a==6&&(r>0?s>0?f/yo(10,c-s):0:g[h-1])%10&1||a==(e.s<0?8:7))),t<1||!g[0])return m?(l=Rn(e),g.length=1,t=t-l-1,g[0]=yo(10,(tn-t%tn)%tn),e.e=Fd(-t/tn)||0):(g.length=1,g[0]=e.e=e.s=0),e;if(r==0?(g.length=h,l=1,h--):(g.length=h+1,l=yo(10,tn-r),g[h]=s>0?(f/yo(10,c-s)%yo(10,s)|0)*l:0),m)for(;;)if(h==0){(g[0]+=l)==Qn&&(g[0]=1,++e.e);break}else{if(g[h]+=l,g[h]!=Qn)break;g[h--]=0,l=1}for(r=g.length;g[--r]===0;)g.pop();if(cn&&(e.e>Vp||e.e<-Vp))throw Error(TN+Rn(e));return e}function pR(e,t){var a,r,s,l,c,u,m,f,h,g,b=e.constructor,y=b.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new b(e),cn?Wt(t,y):t;if(m=e.d,g=t.d,r=t.e,f=e.e,m=m.slice(),c=f-r,c){for(h=c<0,h?(a=m,c=-c,u=g.length):(a=g,r=f,u=m.length),s=Math.max(Math.ceil(y/tn),u)+2,c>s&&(c=s,a.length=1),a.reverse(),s=c;s--;)a.push(0);a.reverse()}else{for(s=m.length,u=g.length,h=s<u,h&&(u=s),s=0;s<u;s++)if(m[s]!=g[s]){h=m[s]<g[s];break}c=0}for(h&&(a=m,m=g,g=a,t.s=-t.s),u=m.length,s=g.length-u;s>0;--s)m[u++]=0;for(s=g.length;s>c;){if(m[--s]<g[s]){for(l=s;l&&m[--l]===0;)m[l]=Qn-1;--m[l],m[s]+=Qn}m[s]-=g[s]}for(;m[--u]===0;)m.pop();for(;m[0]===0;m.shift())--r;return m[0]?(t.d=m,t.e=r,cn?Wt(t,y):t):new b(0)}function Ho(e,t,a){var r,s=Rn(e),l=Cs(e.d),c=l.length;return t?(a&&(r=a-c)>0?l=l.charAt(0)+"."+l.slice(1)+bl(r):c>1&&(l=l.charAt(0)+"."+l.slice(1)),l=l+(s<0?"e":"e+")+s):s<0?(l="0."+bl(-s-1)+l,a&&(r=a-c)>0&&(l+=bl(r))):s>=c?(l+=bl(s+1-c),a&&(r=a-s-1)>0&&(l=l+"."+bl(r))):((r=s+1)<c&&(l=l.slice(0,r)+"."+l.slice(r)),a&&(r=a-c)>0&&(s+1===c&&(l+="."),l+=bl(r))),e.s<0?"-"+l:l}function aT(e,t){if(e.length>t)return e.length=t,!0}function xR(e){var t,a,r;function s(l){var c=this;if(!(c instanceof s))return new s(l);if(c.constructor=s,l instanceof s){c.s=l.s,c.e=l.e,c.d=(l=l.d)?l.slice():l;return}if(typeof l=="number"){if(l*0!==0)throw Error(Io+l);if(l>0)c.s=1;else if(l<0)l=-l,c.s=-1;else{c.s=0,c.e=0,c.d=[0];return}if(l===~~l&&l<1e7){c.e=0,c.d=[l];return}return nT(c,l.toString())}else if(typeof l!="string")throw Error(Io+l);if(l.charCodeAt(0)===45?(l=l.slice(1),c.s=-1):c.s=1,Yne.test(l))nT(c,l);else throw Error(Io+l)}if(s.prototype=Ze,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=xR,s.config=s.set=Wne,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(a=r[t++])||(e[a]=this[a]);return s.config(e),s}function Wne(e){if(!e||typeof e!="object")throw Error(Br+"Object expected");var t,a,r,s=["precision",1,Ud,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((r=e[a=s[t]])!==void 0)if(Fd(r)===r&&r>=s[t+1]&&r<=s[t+2])this[a]=r;else throw Error(Io+a+": "+r);if((r=e[a="LN10"])!==void 0)if(r==Math.LN10)this[a]=new this(r);else throw Error(Io+a+": "+r);return this}var EN=xR(Gne);lr=new EN(1);const Ft=EN;var Xne=e=>e,gR={},bR=e=>e===gR,rT=e=>function t(){return arguments.length===0||arguments.length===1&&bR(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},vR=(e,t)=>e===1?t:rT(function(){for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];var l=r.filter(c=>c!==gR).length;return l>=e?t(...r):vR(e-l,rT(function(){for(var c=arguments.length,u=new Array(c),m=0;m<c;m++)u[m]=arguments[m];var f=r.map(h=>bR(h)?u.shift():h);return t(...f,...u)}))}),Bx=e=>vR(e.length,e),cw=(e,t)=>{for(var a=[],r=e;r<t;++r)a[r-e]=r;return a},Zne=Bx((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(a=>t[a]).map(e)),Qne=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];if(!a.length)return Xne;var s=a.reverse(),l=s[0],c=s.slice(1);return function(){return c.reduce((u,m)=>m(u),l(...arguments))}},dw=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),yR=e=>{var t=null,a=null;return function(){for(var r=arguments.length,s=new Array(r),l=0;l<r;l++)s[l]=arguments[l];return t&&s.every((c,u)=>{var m;return c===((m=t)===null||m===void 0?void 0:m[u])})||(t=s,a=e(...s)),a}};function jR(e){var t;return e===0?t=1:t=Math.floor(new Ft(e).abs().log(10).toNumber())+1,t}function wR(e,t,a){for(var r=new Ft(e),s=0,l=[];r.lt(t)&&s<1e5;)l.push(r.toNumber()),r=r.add(a),s++;return l}Bx((e,t,a)=>{var r=+e,s=+t;return r+a*(s-r)});Bx((e,t,a)=>{var r=t-+e;return r=r||1/0,(a-e)/r});Bx((e,t,a)=>{var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(a-e)/r))});var NR=e=>{var[t,a]=e,[r,s]=[t,a];return t>a&&([r,s]=[a,t]),[r,s]},SR=(e,t,a)=>{if(e.lte(0))return new Ft(0);var r=jR(e.toNumber()),s=new Ft(10).pow(r),l=e.div(s),c=r!==1?.05:.1,u=new Ft(Math.ceil(l.div(c).toNumber())).add(a).mul(c),m=u.mul(s);return t?new Ft(m.toNumber()):new Ft(Math.ceil(m.toNumber()))},Jne=(e,t,a)=>{var r=new Ft(1),s=new Ft(e);if(!s.isint()&&a){var l=Math.abs(e);l<1?(r=new Ft(10).pow(jR(e)-1),s=new Ft(Math.floor(s.div(r).toNumber())).mul(r)):l>1&&(s=new Ft(Math.floor(e)))}else e===0?s=new Ft(Math.floor((t-1)/2)):a||(s=new Ft(Math.floor(e)));var c=Math.floor((t-1)/2),u=Qne(Zne(m=>s.add(new Ft(m-c).mul(r)).toNumber()),cw);return u(0,t)},_R=function(t,a,r,s){var l=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((a-t)/(r-1)))return{step:new Ft(0),tickMin:new Ft(0),tickMax:new Ft(0)};var c=SR(new Ft(a).sub(t).div(r-1),s,l),u;t<=0&&a>=0?u=new Ft(0):(u=new Ft(t).add(a).div(2),u=u.sub(new Ft(u).mod(c)));var m=Math.ceil(u.sub(t).div(c).toNumber()),f=Math.ceil(new Ft(a).sub(u).div(c).toNumber()),h=m+f+1;return h>r?_R(t,a,r,s,l+1):(h<r&&(f=a>0?f+(r-h):f,m=a>0?m:m+(r-h)),{step:c,tickMin:u.sub(new Ft(m).mul(c)),tickMax:u.add(new Ft(f).mul(c))})};function eae(e){var[t,a]=e,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,l=Math.max(r,2),[c,u]=NR([t,a]);if(c===-1/0||u===1/0){var m=u===1/0?[c,...cw(0,r-1).map(()=>1/0)]:[...cw(0,r-1).map(()=>-1/0),u];return t>a?dw(m):m}if(c===u)return Jne(c,r,s);var{step:f,tickMin:h,tickMax:g}=_R(c,u,l,s,0),b=wR(h,g.add(new Ft(.1).mul(f)),f);return t>a?dw(b):b}function tae(e,t){var[a,r]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[l,c]=NR([a,r]);if(l===-1/0||c===1/0)return[a,r];if(l===c)return[l];var u=Math.max(t,2),m=SR(new Ft(c).sub(l).div(u-1),s,0),f=[...wR(new Ft(l),new Ft(c),m),c];return s===!1&&(f=f.map(h=>Math.round(h))),a>r?dw(f):f}var nae=yR(eae),aae=yR(tae),kR=e=>e.rootProps.maxBarSize,rae=e=>e.rootProps.barGap,CR=e=>e.rootProps.barCategoryGap,sae=e=>e.rootProps.barSize,_f=e=>e.rootProps.stackOffset,PN=e=>e.options.chartName,ON=e=>e.rootProps.syncId,AR=e=>e.rootProps.syncMethod,MN=e=>e.options.eventEmitter,ai={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},sr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},zx=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},iae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ai.angleAxisId,includeHidden:!1,name:void 0,reversed:ai.reversed,scale:ai.scale,tick:ai.tick,tickCount:void 0,ticks:void 0,type:ai.type,unit:void 0},lae={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:sr.type,unit:void 0},oae={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ai.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ai.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ai.scale,tick:ai.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},cae={allowDataOverflow:sr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:sr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:sr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:sr.scale,tick:sr.tick,tickCount:sr.tickCount,ticks:void 0,type:"category",unit:void 0},DN=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?oae:iae,RN=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?cae:lae,Ux=e=>e.polarOptions,LN=Ne([Ti,Ei,Fn],l8),TR=Ne([Ux,LN],(e,t)=>{if(e!=null)return Ea(e.innerRadius,t,0)}),ER=Ne([Ux,LN],(e,t)=>{if(e!=null)return Ea(e.outerRadius,t,t*.8)}),dae=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:a}=e;return[t,a]},PR=Ne([Ux],dae);Ne([DN,PR],zx);var OR=Ne([LN,TR,ER],(e,t,a)=>{if(!(e==null||t==null||a==null))return[t,a]});Ne([RN,OR],zx);var MR=Ne([Ct,Ux,TR,ER,Ti,Ei],(e,t,a,r,s,l)=>{if(!(e!=="centric"&&e!=="radial"||t==null||a==null||r==null)){var{cx:c,cy:u,startAngle:m,endAngle:f}=t;return{cx:Ea(c,s,s/2),cy:Ea(u,l,l/2),innerRadius:a,outerRadius:r,startAngle:m,endAngle:f,clockWise:!1}}}),un=(e,t)=>t,kf=(e,t,a)=>a;function $N(e){return e==null?void 0:e.id}var Hn=e=>{var t=Ct(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Vd=e=>e.tooltip.settings.axisId,qn=e=>{var t=Hn(e),a=Vd(e);return Cf(e,t,a)};function DR(e,t,a){var{chartData:r=[]}=t,s=a==null?void 0:a.dataKey,l=new Map;return e.forEach(c=>{var u,m=(u=c.data)!==null&&u!==void 0?u:r;if(!(m==null||m.length===0)){var f=$N(c);m.forEach((h,g)=>{var b=s==null?g:String(Yt(h,s,null)),y=Yt(h,c.dataKey,0),j;l.has(b)?j=l.get(b):j={},Object.assign(j,{[f]:y}),l.set(b,j)})}}),Array.from(l.values())}function Fx(e){return e.stackId!=null&&e.dataKey!=null}function sT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Hp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sT(Object(a),!0).forEach(function(r){uae(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function uae(e,t,a){return(t=mae(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uw=[0,"auto"],ar={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Oi=(e,t)=>{var a=e.cartesianAxis.xAxis[t];return a??ar},rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:uw,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ax},$l=(e,t)=>{var a=e.cartesianAxis.yAxis[t];return a??rr},hae={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},IN=(e,t)=>{var a=e.cartesianAxis.zAxis[t];return a??hae},An=(e,t,a)=>{switch(t){case"xAxis":return Oi(e,a);case"yAxis":return $l(e,a);case"zAxis":return IN(e,a);case"angleAxis":return DN(e,a);case"radiusAxis":return RN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},pae=(e,t,a)=>{switch(t){case"xAxis":return Oi(e,a);case"yAxis":return $l(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},Cf=(e,t,a)=>{switch(t){case"xAxis":return Oi(e,a);case"yAxis":return $l(e,a);case"angleAxis":return DN(e,a);case"radiusAxis":return RN(e,a);default:throw new Error("Unexpected axis type: ".concat(t))}},RR=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function BN(e,t){return a=>{switch(e){case"xAxis":return"xAxisId"in a&&a.xAxisId===t;case"yAxis":return"yAxisId"in a&&a.yAxisId===t;case"zAxis":return"zAxisId"in a&&a.zAxisId===t;case"angleAxis":return"angleAxisId"in a&&a.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in a&&a.radiusAxisId===t;default:return!1}}}var Vx=e=>e.graphicalItems.cartesianItems,xae=Ne([un,kf],BN),zN=(e,t,a)=>e.filter(a).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Af=Ne([Vx,An,xae],zN),LR=Ne([Af],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Fx)),$R=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),IR=Ne([Af],$R),UN=e=>e.map(t=>t.data).filter(Boolean).flat(1),gae=Ne([Af],UN),FN=(e,t)=>{var{chartData:a=[],dataStartIndex:r,dataEndIndex:s}=t;return e.length>0?e:a.slice(r,s+1)},VN=Ne([gae,Ix],FN),HN=(e,t,a)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Yt(r,t.dataKey)})):a.length>0?a.map(r=>r.dataKey).flatMap(r=>e.map(s=>({value:Yt(s,r)}))):e.map(r=>({value:r})),Hx=Ne([VN,An,Af],HN);function BR(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function Xo(e){return e.filter(t=>Os(t)||t instanceof Date).map(Number).filter(t=>ur(t)===!1)}function bae(e,t,a){return!a||typeof t!="number"||ur(t)?[]:a.length?Xo(a.flatMap(r=>{var s=Yt(e,r.dataKey),l,c;if(Array.isArray(s)?[l,c]=s:l=c=s,!(!hr(l)||!hr(c)))return[t-l,t+c]})):[]}var vae=Ne([LR,Ix,qn],DR),zR=(e,t,a)=>{var r={},s=t.reduce((l,c)=>(c.stackId==null||(l[c.stackId]==null&&(l[c.stackId]=[]),l[c.stackId].push(c)),l),r);return Object.fromEntries(Object.entries(s).map(l=>{var[c,u]=l,m=u.map($N);return[c,{stackedData:RQ(e,m,a),graphicalItems:u}]}))},mw=Ne([vae,LR,_f],zR),UR=(e,t,a)=>{var{dataStartIndex:r,dataEndIndex:s}=t;if(a!=="zAxis"){var l=zQ(e,r,s);if(!(l!=null&&l[0]===0&&l[1]===0))return l}},yae=Ne([mw,Ll,un],UR),FR=(e,t,a,r,s)=>a.length>0?e.flatMap(l=>a.flatMap(c=>{var u,m,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(g=>BR(s,g)),h=Yt(l,(m=t.dataKey)!==null&&m!==void 0?m:c.dataKey);return{value:h,errorDomain:bae(l,h,f)}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(l=>({value:Yt(l,t.dataKey),errorDomain:[]})):e.map(l=>({value:l,errorDomain:[]})),qx=e=>e.errorBars,VR=(e,t,a)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>BR(a,r));Ne([IR,qx,un],VR);var jae=Ne([VN,An,IR,qx,un],FR);function wae(e){var{value:t}=e;if(Os(t)||t instanceof Date)return t}var iT=e=>{var t=e.flatMap(r=>[r.value,r.errorDomain]).flat(1),a=Xo(t);if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Nae=(e,t,a)=>{var r=e.map(wae).filter(s=>s!=null);return a&&(t.dataKey==null||t.allowDuplicatedCategory&&aD(r))?P8(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},qN=e=>{var t;if(e==null||!("domain"in e))return uw;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var a=Xo(e.ticks);return[Math.min(...a),Math.max(...a)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:uw},qp=function(){for(var t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];var s=a.filter(Boolean);if(s.length!==0){var l=s.flat(),c=Math.min(...l),u=Math.max(...l);return[c,u]}},HR=e=>e.referenceElements.dots,Hd=(e,t,a)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===a:r.yAxisId===a),Sae=Ne([HR,un,kf],Hd),qR=e=>e.referenceElements.areas,_ae=Ne([qR,un,kf],Hd),KR=e=>e.referenceElements.lines,kae=Ne([KR,un,kf],Hd),GR=(e,t)=>{var a=Xo(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Cae=Ne(Sae,un,GR),YR=(e,t)=>{var a=Xo(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Aae=Ne([_ae,un],YR),WR=(e,t)=>{var a=Xo(e.map(r=>t==="xAxis"?r.x:r.y));if(a.length!==0)return[Math.min(...a),Math.max(...a)]},Tae=Ne(kae,un,WR),Eae=Ne(Cae,Tae,Aae,(e,t,a)=>qp(e,a,t)),XR=Ne([An],qN),KN=(e,t,a,r,s,l,c)=>{var u=qne(t,e.allowDataOverflow);if(u!=null)return u;var m=l==="vertical"&&c==="xAxis"||l==="horizontal"&&c==="yAxis",f=m?qp(a,s,iT(r)):qp(s,iT(r));return Kne(t,f,e.allowDataOverflow)},Pae=Ne([An,XR,yae,jae,Eae,Ct,un],KN),Oae=[0,1],GN=(e,t,a,r,s,l,c)=>{if(!((e==null||a==null||a.length===0)&&c===void 0)){var{dataKey:u,type:m}=e,f=Ml(t,l);return f&&u==null?P8(0,a.length):m==="category"?Nae(r,e,f):s==="expand"?Oae:c}},YN=Ne([An,Ct,VN,Hx,_f,un,Pae],GN),ZR=(e,t,a,r,s)=>{if(e!=null){var{scale:l,type:c}=e;if(l==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":c==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!a)?"point":c==="category"?"band":"linear";if(typeof l=="string"){var u="scale".concat(bf(l));return u in vm?u:"point"}}},qd=Ne([An,Ct,RR,PN,un],ZR);function Mae(e){if(e!=null){if(e in vm)return vm[e]();var t="scale".concat(bf(e));if(t in vm)return vm[t]()}}function WN(e,t,a,r){if(!(a==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(a).range(r);var s=Mae(t);if(s!=null){var l=s.domain(a).range(r);return EQ(l),l}}}var XN=(e,t,a)=>{var r=qN(t);if(!(a!=="auto"&&a!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Cd(e))return nae(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Cd(e))return aae(e,t.tickCount,t.allowDecimals)}},ZN=Ne([YN,Cf,qd],XN),QN=(e,t,a,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&Cd(t)&&Array.isArray(a)&&a.length>0){var s=t[0],l=a[0],c=t[1],u=a[a.length-1];return[Math.min(s,l),Math.max(c,u)]}return t},Dae=Ne([An,YN,ZN,un],QN),Rae=Ne(Hx,An,(e,t)=>{if(!(!t||t.type!=="number")){var a=1/0,r=Array.from(Xo(e.map(u=>u.value))).sort((u,m)=>u-m);if(r.length<2)return 1/0;var s=r[r.length-1]-r[0];if(s===0)return 1/0;for(var l=0;l<r.length-1;l++){var c=r[l+1]-r[l];a=Math.min(a,c)}return a/s}}),QR=Ne(Rae,Ct,CR,Fn,(e,t,a,r)=>r,(e,t,a,r,s)=>{if(!hr(e))return 0;var l=t==="vertical"?r.height:r.width;if(s==="gap")return e*l/2;if(s==="no-gap"){var c=Ea(a,e*l),u=e*l/2;return u-c-(u-c)/l*c}return 0}),Lae=(e,t)=>{var a=Oi(e,t);return a==null||typeof a.padding!="string"?0:QR(e,"xAxis",t,a.padding)},$ae=(e,t)=>{var a=$l(e,t);return a==null||typeof a.padding!="string"?0:QR(e,"yAxis",t,a.padding)},Iae=Ne(Oi,Lae,(e,t)=>{var a,r;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((a=s.left)!==null&&a!==void 0?a:0)+t,right:((r=s.right)!==null&&r!==void 0?r:0)+t}}),Bae=Ne($l,$ae,(e,t)=>{var a,r;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((a=s.top)!==null&&a!==void 0?a:0)+t,bottom:((r=s.bottom)!==null&&r!==void 0?r:0)+t}}),zae=Ne([Fn,Iae,Ex,Tx,(e,t,a)=>a],(e,t,a,r,s)=>{var{padding:l}=r;return s?[l.left,a.width-l.right]:[e.left+t.left,e.left+e.width-t.right]}),Uae=Ne([Fn,Ct,Bae,Ex,Tx,(e,t,a)=>a],(e,t,a,r,s,l)=>{var{padding:c}=s;return l?[r.height-c.bottom,c.top]:t==="horizontal"?[e.top+e.height-a.bottom,e.top+a.top]:[e.top+a.top,e.top+e.height-a.bottom]}),Tf=(e,t,a,r)=>{var s;switch(t){case"xAxis":return zae(e,a,r);case"yAxis":return Uae(e,a,r);case"zAxis":return(s=IN(e,a))===null||s===void 0?void 0:s.range;case"angleAxis":return PR(e);case"radiusAxis":return OR(e,a);default:return}},JR=Ne([An,Tf],zx),Kd=Ne([An,qd,Dae,JR],WN);Ne([Af,qx,un],VR);function e7(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var Kx=(e,t)=>t,Gx=(e,t,a)=>a,Fae=Ne(J2,Kx,Gx,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(e7)),Vae=Ne(eN,Kx,Gx,(e,t,a)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===a).sort(e7)),t7=(e,t)=>({width:e.width,height:t.height}),Hae=(e,t)=>{var a=typeof t.width=="number"?t.width:Ax;return{width:a,height:e.height}},n7=Ne(Fn,Oi,t7),qae=(e,t,a)=>{switch(t){case"top":return e.top;case"bottom":return a-e.bottom;default:return 0}},Kae=(e,t,a)=>{switch(t){case"left":return e.left;case"right":return a-e.right;default:return 0}},Gae=Ne(Ei,Fn,Fae,Kx,Gx,(e,t,a,r,s)=>{var l={},c;return a.forEach(u=>{var m=t7(t,u);c==null&&(c=qae(t,r,e));var f=r==="top"&&!s||r==="bottom"&&s;l[u.id]=c-Number(f)*m.height,c+=(f?-1:1)*m.height}),l}),Yae=Ne(Ti,Fn,Vae,Kx,Gx,(e,t,a,r,s)=>{var l={},c;return a.forEach(u=>{var m=Hae(t,u);c==null&&(c=Kae(t,r,e));var f=r==="left"&&!s||r==="right"&&s;l[u.id]=c-Number(f)*m.width,c+=(f?-1:1)*m.width}),l}),Wae=(e,t)=>{var a=Fn(e),r=Oi(e,t);if(r!=null){var s=Gae(e,r.orientation,r.mirror),l=s[t];return l==null?{x:a.left,y:0}:{x:a.left,y:l}}},Xae=(e,t)=>{var a=Fn(e),r=$l(e,t);if(r!=null){var s=Yae(e,r.orientation,r.mirror),l=s[t];return l==null?{x:0,y:a.top}:{x:l,y:a.top}}},a7=Ne(Fn,$l,(e,t)=>{var a=typeof t.width=="number"?t.width:Ax;return{width:a,height:e.height}}),lT=(e,t,a)=>{switch(t){case"xAxis":return n7(e,a).width;case"yAxis":return a7(e,a).height;default:return}},r7=(e,t,a,r)=>{if(a!=null){var{allowDuplicatedCategory:s,type:l,dataKey:c}=a,u=Ml(e,r),m=t.map(f=>f.value);if(c&&u&&l==="category"&&s&&aD(m))return m}},JN=Ne([Ct,Hx,An,un],r7),s7=(e,t,a,r)=>{if(!(a==null||a.dataKey==null)){var{type:s,scale:l}=a,c=Ml(e,r);if(c&&(s==="number"||l!=="auto"))return t.map(u=>u.value)}},eS=Ne([Ct,Hx,Cf,un],s7),oT=Ne([Ct,pae,qd,Kd,JN,eS,Tf,ZN,un],(e,t,a,r,s,l,c,u,m)=>{if(t==null)return null;var f=Ml(e,m);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:m,categoricalDomain:l,duplicateDomain:s,isCategorical:f,niceTicks:u,range:c,realScaleType:a,scale:r}}),Zae=(e,t,a,r,s,l,c,u,m)=>{if(!(t==null||r==null)){var f=Ml(e,m),{type:h,ticks:g,tickCount:b}=t,y=a==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,j=h==="category"&&r.bandwidth?r.bandwidth()/y:0;j=m==="angleAxis"&&l!=null&&l.length>=2?ea(l[0]-l[1])*2*j:j;var w=g||s;if(w){var S=w.map((k,_)=>{var C=c?c.indexOf(k):k;return{index:_,coordinate:r(C)+j,value:k,offset:j}});return S.filter(k=>!ur(k.coordinate))}return f&&u?u.map((k,_)=>({coordinate:r(k)+j,value:k,index:_,offset:j})):r.ticks?r.ticks(b).map(k=>({coordinate:r(k)+j,value:k,offset:j})):r.domain().map((k,_)=>({coordinate:r(k)+j,value:c?c[k]:k,index:_,offset:j}))}},i7=Ne([Ct,Cf,qd,Kd,ZN,Tf,JN,eS,un],Zae),Qae=(e,t,a,r,s,l,c)=>{if(!(t==null||a==null||r==null||r[0]===r[1])){var u=Ml(e,c),{tickCount:m}=t,f=0;return f=c==="angleAxis"&&(r==null?void 0:r.length)>=2?ea(r[0]-r[1])*2*f:f,u&&l?l.map((h,g)=>({coordinate:a(h)+f,value:h,index:g,offset:f})):a.ticks?a.ticks(m).map(h=>({coordinate:a(h)+f,value:h,offset:f})):a.domain().map((h,g)=>({coordinate:a(h)+f,value:s?s[h]:h,index:g,offset:f}))}},Tl=Ne([Ct,Cf,Kd,Tf,JN,eS,un],Qae),El=Ne(An,Kd,(e,t)=>{if(!(e==null||t==null))return Hp(Hp({},e),{},{scale:t})}),Jae=Ne([An,qd,YN,JR],WN);Ne((e,t,a)=>IN(e,a),Jae,(e,t)=>{if(!(e==null||t==null))return Hp(Hp({},e),{},{scale:t})});var ere=Ne([Ct,J2,eN],(e,t,a)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return a.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),l7=e=>e.options.defaultTooltipEventType,o7=e=>e.options.validateTooltipEventTypes;function c7(e,t,a){if(e==null)return t;var r=e?"axis":"item";return a==null?t:a.includes(r)?r:t}function tS(e,t){var a=l7(e),r=o7(e);return c7(t,a,r)}function tre(e){return et(t=>tS(t,e))}var d7=(e,t)=>{var a,r=Number(t);if(!(ur(r)||t==null))return r>=0?e==null||(a=e[r])===null||a===void 0?void 0:a.value:void 0},nre=e=>e.tooltip.settings,vl={active:!1,index:null,dataKey:void 0,coordinate:void 0},are={itemInteraction:{click:vl,hover:vl},axisInteraction:{click:vl,hover:vl},keyboardInteraction:vl,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},u7=pr({name:"tooltip",initialState:are,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var a=di(e).tooltipItemPayloads.indexOf(t.payload);a>-1&&e.tooltipItemPayloads.splice(a,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:rre,removeTooltipEntrySettings:sre,setTooltipSettingsState:ire,setActiveMouseOverItemIndex:m7,mouseLeaveItem:lre,mouseLeaveChart:f7,setActiveClickItemIndex:ore,setMouseOverAxisIndex:h7,setMouseClickAxisIndex:cre,setSyncInteraction:fw,setKeyboardInteraction:hw}=u7.actions,dre=u7.reducer;function cT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function d0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?cT(Object(a),!0).forEach(function(r){ure(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ure(e,t,a){return(t=mre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function mre(e){var t=fre(e,"string");return typeof t=="symbol"?t:t+""}function fre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hre(e,t,a){return t==="axis"?a==="click"?e.axisInteraction.click:e.axisInteraction.hover:a==="click"?e.itemInteraction.click:e.itemInteraction.hover}function pre(e){return e.index!=null}var p7=(e,t,a,r)=>{if(t==null)return vl;var s=hre(e,t,a);if(s==null)return vl;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var l=e.settings.active===!0;if(pre(s)){if(l)return d0(d0({},s),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return d0(d0({},vl),{},{coordinate:s.coordinate})},nS=(e,t)=>{var a=e==null?void 0:e.index;if(a==null)return null;var r=Number(a);if(!hr(r))return a;var s=0,l=1/0;return t.length>0&&(l=t.length-1),String(Math.max(s,Math.min(r,l)))},x7=(e,t,a,r,s,l,c,u)=>{if(!(l==null||u==null)){var m=c[0],f=m==null?void 0:u(m.positions,l);if(f!=null)return f;var h=s==null?void 0:s[Number(l)];if(h)switch(a){case"horizontal":return{x:h.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:h.coordinate}}}},g7=(e,t,a,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return a==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&r!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(l=>{var c;return((c=l.settings)===null||c===void 0?void 0:c.dataKey)===s})},Ef=e=>e.options.tooltipPayloadSearcher,Gd=e=>e.tooltip;function dT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function uT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?dT(Object(a),!0).forEach(function(r){xre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):dT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function xre(e,t,a){return(t=gre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function gre(e){var t=bre(e,"string");return typeof t=="symbol"?t:t+""}function bre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vre(e,t){return e??t}var b7=(e,t,a,r,s,l,c)=>{if(!(t==null||l==null)){var{chartData:u,computedData:m,dataStartIndex:f,dataEndIndex:h}=a,g=[];return e.reduce((b,y)=>{var j,{dataDefinedOnItem:w,settings:S}=y,k=vre(w,u),_=Array.isArray(k)?o8(k,f,h):k,C=(j=S==null?void 0:S.dataKey)!==null&&j!==void 0?j:r==null?void 0:r.dataKey,P=S==null?void 0:S.nameKey,T;if(r!=null&&r.dataKey&&Array.isArray(_)&&!Array.isArray(_[0])&&c==="axis"?T=rD(_,r.dataKey,s):T=l(_,t,m,P),Array.isArray(T))T.forEach($=>{var M=uT(uT({},S),{},{name:$.name,unit:$.unit,color:void 0,fill:void 0});b.push(KA({tooltipEntrySettings:M,dataKey:$.dataKey,payload:$.payload,value:Yt($.payload,$.dataKey),name:$.name}))});else{var E;b.push(KA({tooltipEntrySettings:S,dataKey:C,payload:T,value:Yt(T,C),name:(E=Yt(T,P))!==null&&E!==void 0?E:S==null?void 0:S.name}))}return b},g)}},aS=Ne([qn,Ct,RR,PN,Hn],ZR),yre=Ne([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),jre=Ne([Hn,Vd],BN),Pf=Ne([yre,qn,jre],zN),wre=Ne([Pf],e=>e.filter(Fx)),Nre=Ne([Pf],UN),Yd=Ne([Nre,Ll],FN),Sre=Ne([wre,Ll,qn],DR),rS=Ne([Yd,qn,Pf],HN),_re=Ne([qn],qN),kre=Ne([Pf],e=>e.filter(Fx)),Cre=Ne([Sre,kre,_f],zR),Are=Ne([Cre,Ll,Hn],UR),Tre=Ne([Pf],$R),Ere=Ne([Yd,qn,Tre,qx,Hn],FR),Pre=Ne([HR,Hn,Vd],Hd),Ore=Ne([Pre,Hn],GR),Mre=Ne([qR,Hn,Vd],Hd),Dre=Ne([Mre,Hn],YR),Rre=Ne([KR,Hn,Vd],Hd),Lre=Ne([Rre,Hn],WR),$re=Ne([Ore,Lre,Dre],qp),Ire=Ne([qn,_re,Are,Ere,$re,Ct,Hn],KN),v7=Ne([qn,Ct,Yd,rS,_f,Hn,Ire],GN),Bre=Ne([v7,qn,aS],XN),zre=Ne([qn,v7,Bre,Hn],QN),y7=e=>{var t=Hn(e),a=Vd(e),r=!1;return Tf(e,t,a,r)},j7=Ne([qn,y7],zx),w7=Ne([qn,aS,zre,j7],WN),Ure=Ne([Ct,rS,qn,Hn],r7),Fre=Ne([Ct,rS,qn,Hn],s7),Vre=(e,t,a,r,s,l,c,u)=>{if(t){var{type:m}=t,f=Ml(e,u);if(r){var h=a==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,g=m==="category"&&r.bandwidth?r.bandwidth()/h:0;return g=u==="angleAxis"&&s!=null&&(s==null?void 0:s.length)>=2?ea(s[0]-s[1])*2*g:g,f&&c?c.map((b,y)=>({coordinate:r(b)+g,value:b,index:y,offset:g})):r.domain().map((b,y)=>({coordinate:r(b)+g,value:l?l[b]:b,index:y,offset:g}))}}},Mi=Ne([Ct,qn,aS,w7,y7,Ure,Fre,Hn],Vre),sS=Ne([l7,o7,nre],(e,t,a)=>c7(a.shared,e,t)),N7=e=>e.tooltip.settings.trigger,iS=e=>e.tooltip.settings.defaultIndex,Yx=Ne([Gd,sS,N7,iS],p7),Pl=Ne([Yx,Yd],nS),S7=Ne([Mi,Pl],d7),_7=Ne([Yx],e=>{if(e)return e.dataKey}),k7=Ne([Gd,sS,N7,iS],g7),Hre=Ne([Ti,Ei,Ct,Fn,Mi,iS,k7,Ef],x7),qre=Ne([Yx,Hre],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),Kre=Ne([Yx],e=>e.active),Gre=Ne([k7,Pl,Ll,qn,S7,Ef,sS],b7),Yre=Ne([Gre],e=>{if(e!=null){var t=e.map(a=>a.payload).filter(a=>a!=null);return Array.from(new Set(t))}});function mT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function fT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mT(Object(a),!0).forEach(function(r){Wre(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Wre(e,t,a){return(t=Xre(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Xre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Qre=()=>et(qn),Jre=()=>{var e=Qre(),t=et(Mi),a=et(w7);return Wm(fT(fT({},e),{},{scale:a}),t)},ese=()=>et(PN),lS=(e,t)=>t,C7=(e,t,a)=>a,oS=(e,t,a,r)=>r,tse=Ne(Mi,e=>jx(e,t=>t.coordinate)),cS=Ne([Gd,lS,C7,oS],p7),A7=Ne([cS,Yd],nS),nse=(e,t,a)=>{if(t!=null){var r=Gd(e);return t==="axis"?a==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:a==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},T7=Ne([Gd,lS,C7,oS],g7),Kp=Ne([Ti,Ei,Ct,Fn,Mi,oS,T7,Ef],x7),ase=Ne([cS,Kp],(e,t)=>{var a;return(a=e.coordinate)!==null&&a!==void 0?a:t}),E7=Ne(Mi,A7,d7),rse=Ne([T7,A7,Ll,qn,E7,Ef,lS],b7),sse=Ne([cS],e=>({isActive:e.active,activeIndex:e.index})),ise=(e,t,a,r,s,l,c,u)=>{if(!(!e||!t||!r||!s||!l)){var m=UQ(e.chartX,e.chartY,t,a,u);if(m){var f=VQ(m,t),h=AQ(f,c,l,r,s),g=FQ(t,l,h,m);return{activeIndex:String(h),activeCoordinate:g}}}};function pw(){return pw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},pw.apply(null,arguments)}function hT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function u0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?hT(Object(a),!0).forEach(function(r){lse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):hT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function lse(e,t,a){return(t=ose(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ose(e){var t=cse(e,"string");return typeof t=="symbol"?t:t+""}function cse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dse(e){var{coordinate:t,payload:a,index:r,offset:s,tooltipAxisBandSize:l,layout:c,cursor:u,tooltipEventType:m,chartName:f}=e,h=t,g=a,b=r;if(!u||!h||f!=="ScatterChart"&&m!=="axis")return null;var y,j;if(f==="ScatterChart")y=h,j=kJ;else if(f==="BarChart")y=CJ(c,h,s,l),j=A8;else if(c==="radial"){var{cx:w,cy:S,radius:k,startAngle:_,endAngle:C}=T8(h);y={cx:w,cy:S,startAngle:_,endAngle:C,innerRadius:k,outerRadius:k},j=rN}else y={points:uee(c,h,s)},j=nN;var P=typeof u=="object"&&"className"in u?u.className:void 0,T=u0(u0(u0(u0({stroke:"#ccc",pointerEvents:"none"},s),y),on(u,!1)),{},{payload:g,payloadIndex:b,className:Nt("recharts-tooltip-cursor",P)});return x.isValidElement(u)?x.cloneElement(u,T):x.createElement(j,T)}function use(e){var t=Jre(),a=p8(),r=Px(),s=ese();return x.createElement(dse,pw({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:a,layout:r,tooltipAxisBandSize:t,chartName:s}))}var P7=x.createContext(null),mse=()=>x.useContext(P7),s1={exports:{}},pT;function fse(){return pT||(pT=1,function(e){var t=Object.prototype.hasOwnProperty,a="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(a=!1));function s(m,f,h){this.fn=m,this.context=f,this.once=h||!1}function l(m,f,h,g,b){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,g||m,b),j=a?a+f:f;return m._events[j]?m._events[j].fn?m._events[j]=[m._events[j],y]:m._events[j].push(y):(m._events[j]=y,m._eventsCount++),m}function c(m,f){--m._eventsCount===0?m._events=new r:delete m._events[f]}function u(){this._events=new r,this._eventsCount=0}u.prototype.eventNames=function(){var f=[],h,g;if(this._eventsCount===0)return f;for(g in h=this._events)t.call(h,g)&&f.push(a?g.slice(1):g);return Object.getOwnPropertySymbols?f.concat(Object.getOwnPropertySymbols(h)):f},u.prototype.listeners=function(f){var h=a?a+f:f,g=this._events[h];if(!g)return[];if(g.fn)return[g.fn];for(var b=0,y=g.length,j=new Array(y);b<y;b++)j[b]=g[b].fn;return j},u.prototype.listenerCount=function(f){var h=a?a+f:f,g=this._events[h];return g?g.fn?1:g.length:0},u.prototype.emit=function(f,h,g,b,y,j){var w=a?a+f:f;if(!this._events[w])return!1;var S=this._events[w],k=arguments.length,_,C;if(S.fn){switch(S.once&&this.removeListener(f,S.fn,void 0,!0),k){case 1:return S.fn.call(S.context),!0;case 2:return S.fn.call(S.context,h),!0;case 3:return S.fn.call(S.context,h,g),!0;case 4:return S.fn.call(S.context,h,g,b),!0;case 5:return S.fn.call(S.context,h,g,b,y),!0;case 6:return S.fn.call(S.context,h,g,b,y,j),!0}for(C=1,_=new Array(k-1);C<k;C++)_[C-1]=arguments[C];S.fn.apply(S.context,_)}else{var P=S.length,T;for(C=0;C<P;C++)switch(S[C].once&&this.removeListener(f,S[C].fn,void 0,!0),k){case 1:S[C].fn.call(S[C].context);break;case 2:S[C].fn.call(S[C].context,h);break;case 3:S[C].fn.call(S[C].context,h,g);break;case 4:S[C].fn.call(S[C].context,h,g,b);break;default:if(!_)for(T=1,_=new Array(k-1);T<k;T++)_[T-1]=arguments[T];S[C].fn.apply(S[C].context,_)}}return!0},u.prototype.on=function(f,h,g){return l(this,f,h,g,!1)},u.prototype.once=function(f,h,g){return l(this,f,h,g,!0)},u.prototype.removeListener=function(f,h,g,b){var y=a?a+f:f;if(!this._events[y])return this;if(!h)return c(this,y),this;var j=this._events[y];if(j.fn)j.fn===h&&(!b||j.once)&&(!g||j.context===g)&&c(this,y);else{for(var w=0,S=[],k=j.length;w<k;w++)(j[w].fn!==h||b&&!j[w].once||g&&j[w].context!==g)&&S.push(j[w]);S.length?this._events[y]=S.length===1?S[0]:S:c(this,y)}return this},u.prototype.removeAllListeners=function(f){var h;return f?(h=a?a+f:f,this._events[h]&&c(this,h)):(this._events=new r,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=a,u.EventEmitter=u,e.exports=u}(s1)),s1.exports}var hse=fse();const pse=ds(hse);var nf=new pse,xw="recharts.syncEvent.tooltip",xT="recharts.syncEvent.brush";function dS(e,t){if(t){var a=Number.parseInt(t,10);if(!ur(a))return e==null?void 0:e[a]}}var xse={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},O7=pr({name:"options",initialState:xse,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),gse=O7.reducer,{createEventEmitter:bse}=O7.actions;function vse(e){return e.tooltip.syncInteraction}var yse={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},M7=pr({name:"chartData",initialState:yse,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:a,endIndex:r}=t.payload;a!=null&&(e.dataStartIndex=a),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:gT,setDataStartEndIndexes:jse,setComputedData:r0e}=M7.actions,wse=M7.reducer,D7=()=>{};function Nse(){var e=et(ON),t=et(MN),a=Cn(),r=et(AR),s=et(Mi),l=Px(),c=tN(),u=et(m=>m.rootProps.className);x.useEffect(()=>{if(e==null)return D7;var m=(f,h,g)=>{if(t!==g&&e===f){if(r==="index"){a(h);return}if(s!=null){var b;if(typeof r=="function"){var y={activeTooltipIndex:h.payload.index==null?void 0:Number(h.payload.index),isTooltipActive:h.payload.active,activeIndex:h.payload.index==null?void 0:Number(h.payload.index),activeLabel:h.payload.label,activeDataKey:h.payload.dataKey,activeCoordinate:h.payload.coordinate},j=r(s,y);b=s[j]}else r==="value"&&(b=s.find(E=>String(E.value)===h.payload.label));var{coordinate:w}=h.payload;if(b==null||h.payload.active===!1||w==null||c==null){a(fw({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:S,y:k}=w,_=Math.min(S,c.x+c.width),C=Math.min(k,c.y+c.height),P={x:l==="horizontal"?b.coordinate:_,y:l==="horizontal"?C:b.coordinate},T=fw({active:h.payload.active,coordinate:P,dataKey:h.payload.dataKey,index:String(b.index),label:h.payload.label});a(T)}}};return nf.on(xw,m),()=>{nf.off(xw,m)}},[u,a,t,e,r,s,l,c])}function Sse(){var e=et(ON),t=et(MN),a=Cn();x.useEffect(()=>{if(e==null)return D7;var r=(s,l,c)=>{t!==c&&e===s&&a(jse(l))};return nf.on(xT,r),()=>{nf.off(xT,r)}},[a,t,e])}function _se(){var e=Cn();x.useEffect(()=>{e(bse())},[e]),Nse(),Sse()}function kse(e,t,a,r,s,l){var c=et(b=>nse(b,e,t)),u=et(MN),m=et(ON),f=et(AR),h=et(vse),g=h==null?void 0:h.active;x.useEffect(()=>{if(!g&&m!=null&&u!=null){var b=fw({active:l,coordinate:a,dataKey:c,index:s,label:typeof r=="number"?String(r):r});nf.emit(xw,m,b,u)}},[g,a,c,s,r,u,m,f,l])}function bT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function vT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(a),!0).forEach(function(r){Cse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):bT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Cse(e,t,a){return(t=Ase(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ase(e){var t=Tse(e,"string");return typeof t=="symbol"?t:t+""}function Tse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ese(e){return e.dataKey}function Pse(e,t){return x.isValidElement(e)?x.cloneElement(e,t):typeof e=="function"?x.createElement(e,t):x.createElement(rJ,t)}var yT=[],Ose={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!Go.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function _s(e){var t=xr(e,Ose),{active:a,allowEscapeViewBox:r,animationDuration:s,animationEasing:l,content:c,filterNull:u,isAnimationActive:m,offset:f,payloadUniqBy:h,position:g,reverseDirection:b,useTranslate3d:y,wrapperStyle:j,cursor:w,shared:S,trigger:k,defaultIndex:_,portal:C,axisId:P}=t,T=Cn(),E=typeof _=="number"?String(_):_;x.useEffect(()=>{T(ire({shared:S,trigger:k,axisId:P,active:a,defaultIndex:E}))},[T,S,k,P,a,E]);var $=tN(),M=j8(),F=tre(S),{activeIndex:K,isActive:z}=et(Z=>sse(Z,F,k,E)),U=et(Z=>rse(Z,F,k,E)),ae=et(Z=>E7(Z,F,k,E)),ke=et(Z=>ase(Z,F,k,E)),se=U,O=mse(),H=a??z,[G,B]=bZ([se,H]),A=F==="axis"?ae:void 0;kse(F,k,ke,A,K,H);var L=C??O;if(L==null)return null;var R=se??yT;H||(R=yT),u&&R.length&&(R=HX(se.filter(Z=>Z.value!=null&&(Z.hide!==!0||t.includeHidden)),h,Ese));var q=R.length>0,ce=x.createElement(uJ,{allowEscapeViewBox:r,animationDuration:s,animationEasing:l,isAnimationActive:m,active:H,coordinate:ke,hasPayload:q,offset:f,position:g,reverseDirection:b,useTranslate3d:y,viewBox:$,wrapperStyle:j,lastBoundingBox:G,innerRef:B,hasPortalFromProps:!!C},Pse(c,vT(vT({},t),{},{payload:R,label:A,active:H,coordinate:ke,accessibilityLayer:M})));return x.createElement(x.Fragment,null,UB.createPortal(ce,L),H&&x.createElement(use,{cursor:w,tooltipEventType:F,coordinate:ke,payload:se,index:K}))}var i1={},l1={},o1={},jT;function Mse(){return jT||(jT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a,r,{signal:s,edges:l}={}){let c,u=null;const m=l!=null&&l.includes("leading"),f=l==null||l.includes("trailing"),h=()=>{u!==null&&(a.apply(c,u),c=void 0,u=null)},g=()=>{f&&h(),w()};let b=null;const y=()=>{b!=null&&clearTimeout(b),b=setTimeout(()=>{b=null,g()},r)},j=()=>{b!==null&&(clearTimeout(b),b=null)},w=()=>{j(),c=void 0,u=null},S=()=>{h()},k=function(..._){if(s!=null&&s.aborted)return;c=this,u=_;const C=b==null;y(),m&&C&&h()};return k.schedule=y,k.cancel=w,k.flush=S,s==null||s.addEventListener("abort",w,{once:!0}),k}e.debounce=t}(o1)),o1}var wT;function Dse(){return wT||(wT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Mse();function a(r,s=0,l={}){typeof l!="object"&&(l={});const{leading:c=!1,trailing:u=!0,maxWait:m}=l,f=Array(2);c&&(f[0]="leading"),u&&(f[1]="trailing");let h,g=null;const b=t.debounce(function(...w){h=r.apply(this,w),g=null},s,{edges:f}),y=function(...w){return m!=null&&(g===null&&(g=Date.now()),Date.now()-g>=m)?(h=r.apply(this,w),g=Date.now(),b.cancel(),b.schedule(),h):(b.apply(this,w),h)},j=()=>(b.flush(),h);return y.cancel=b.cancel,y.flush=j,y}e.debounce=a}(l1)),l1}var NT;function Rse(){return NT||(NT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dse();function a(r,s=0,l={}){const{leading:c=!0,trailing:u=!0}=l;return t.debounce(r,s,{leading:c,maxWait:s,trailing:u})}e.throttle=a}(i1)),i1}var c1,ST;function Lse(){return ST||(ST=1,c1=Rse().throttle),c1}var $se=Lse();const Ise=ds($se);var Em=function(t,a){for(var r=arguments.length,s=new Array(r>2?r-2:0),l=2;l<r;l++)s[l-2]=arguments[l]};function _T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function d1(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?_T(Object(a),!0).forEach(function(r){Bse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Bse(e,t,a){return(t=zse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function zse(e){var t=Use(e,"string");return typeof t=="symbol"?t:t+""}function Use(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ks=x.forwardRef((e,t)=>{var{aspect:a,initialDimension:r={width:-1,height:-1},width:s="100%",height:l="100%",minWidth:c=0,minHeight:u,maxHeight:m,children:f,debounce:h=0,id:g,className:b,onResize:y,style:j={}}=e,w=x.useRef(null),S=x.useRef();S.current=y,x.useImperativeHandle(t,()=>w.current);var[k,_]=x.useState({containerWidth:r.width,containerHeight:r.height}),C=x.useCallback((T,E)=>{_($=>{var M=Math.round(T),F=Math.round(E);return $.containerWidth===M&&$.containerHeight===F?$:{containerWidth:M,containerHeight:F}})},[]);x.useEffect(()=>{var T=F=>{var K,{width:z,height:U}=F[0].contentRect;C(z,U),(K=S.current)===null||K===void 0||K.call(S,z,U)};h>0&&(T=Ise(T,h,{trailing:!0,leading:!1}));var E=new ResizeObserver(T),{width:$,height:M}=w.current.getBoundingClientRect();return C($,M),E.observe(w.current),()=>{E.disconnect()}},[C,h]);var P=x.useMemo(()=>{var{containerWidth:T,containerHeight:E}=k;if(T<0||E<0)return null;Em(Co(s)||Co(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,l),Em(!a||a>0,"The aspect(%s) must be greater than zero.",a);var $=Co(s)?T:s,M=Co(l)?E:l;return a&&a>0&&($?M=$/a:M&&($=M*a),m&&M>m&&(M=m)),Em($>0||M>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,$,M,s,l,c,u,a),x.Children.map(f,F=>x.cloneElement(F,{width:$,height:M,style:d1({width:$,height:M},F.props.style)}))},[a,f,l,m,u,c,k,s]);return x.createElement("div",{id:g?"".concat(g):void 0,className:Nt("recharts-responsive-container",b),style:d1(d1({},j),{},{width:s,height:l,minWidth:c,minHeight:u,maxHeight:m}),ref:w},x.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),li=e=>null;li.displayName="Cell";function Fse(e,t,a){return(t=Vse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vse(e){var t=Hse(e,"string");return typeof t=="symbol"?t:t+""}function Hse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class qse{constructor(t){Fse(this,"cache",new Map),this.maxSize=t}get(t){var a=this.cache.get(t);return a!==void 0&&(this.cache.delete(t),this.cache.set(t,a)),a}set(t,a){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;this.cache.delete(r)}this.cache.set(t,a)}clear(){this.cache.clear()}size(){return this.cache.size}}function kT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Kse(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?kT(Object(a),!0).forEach(function(r){Gse(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):kT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Gse(e,t,a){return(t=Yse(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Yse(e){var t=Wse(e,"string");return typeof t=="symbol"?t:t+""}function Wse(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xse={cacheSize:2e3,enableCache:!0},R7=Kse({},Xse),CT=new qse(R7.cacheSize),Zse={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AT="recharts_measurement_span";function Qse(e,t){var a=t.fontSize||"",r=t.fontFamily||"",s=t.fontWeight||"",l=t.fontStyle||"",c=t.letterSpacing||"",u=t.textTransform||"";return"".concat(e,"|").concat(a,"|").concat(r,"|").concat(s,"|").concat(l,"|").concat(c,"|").concat(u)}var TT=(e,t)=>{try{var a=document.getElementById(AT);a||(a=document.createElement("span"),a.setAttribute("id",AT),a.setAttribute("aria-hidden","true"),document.body.appendChild(a)),Object.assign(a.style,Zse,t),a.textContent="".concat(e);var r=a.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},Pm=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Go.isSsr)return{width:0,height:0};if(!R7.enableCache)return TT(t,a);var r=Qse(t,a),s=CT.get(r);if(s)return s;var l=TT(t,a);return CT.set(r,l),l},ET=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,PT=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Jse=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,eie=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,L7={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},tie=Object.keys(L7),ad="NaN";function nie(e,t){return e*L7[t]}class za{static parse(t){var a,[,r,s]=(a=eie.exec(t))!==null&&a!==void 0?a:[];return new za(parseFloat(r),s??"")}constructor(t,a){this.num=t,this.unit=a,this.num=t,this.unit=a,ur(t)&&(this.unit=""),a!==""&&!Jse.test(a)&&(this.num=NaN,this.unit=""),tie.includes(a)&&(this.num=nie(t,a),this.unit="px")}add(t){return this.unit!==t.unit?new za(NaN,""):new za(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new za(NaN,""):new za(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new za(NaN,""):new za(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new za(NaN,""):new za(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ur(this.num)}}function $7(e){if(e.includes(ad))return ad;for(var t=e;t.includes("*")||t.includes("/");){var a,[,r,s,l]=(a=ET.exec(t))!==null&&a!==void 0?a:[],c=za.parse(r??""),u=za.parse(l??""),m=s==="*"?c.multiply(u):c.divide(u);if(m.isNaN())return ad;t=t.replace(ET,m.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var f,[,h,g,b]=(f=PT.exec(t))!==null&&f!==void 0?f:[],y=za.parse(h??""),j=za.parse(b??""),w=g==="+"?y.add(j):y.subtract(j);if(w.isNaN())return ad;t=t.replace(PT,w.toString())}return t}var OT=/\(([^()]*)\)/;function aie(e){for(var t=e,a;(a=OT.exec(t))!=null;){var[,r]=a;t=t.replace(OT,$7(r))}return t}function rie(e){var t=e.replace(/\s+/g,"");return t=aie(t),t=$7(t),t}function sie(e){try{return rie(e)}catch{return ad}}function u1(e){var t=sie(e.slice(5,-1));return t===ad?"":t}var iie=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lie=["dx","dy","angle","className","breakAll"];function gw(){return gw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},gw.apply(null,arguments)}function MT(e,t){if(e==null)return{};var a,r,s=oie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function oie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var I7=/[ \f\n\r\t\v\u2028\u2029]+/,B7=e=>{var{children:t,breakAll:a,style:r}=e;try{var s=[];an(t)||(a?s=t.toString().split(""):s=t.toString().split(I7));var l=s.map(u=>({word:u,width:Pm(u,r).width})),c=a?0:Pm("",r).width;return{wordsWithComputedWidth:l,spaceWidth:c}}catch{return null}},cie=(e,t,a,r,s)=>{var{maxLines:l,children:c,style:u,breakAll:m}=e,f=We(l),h=c,g=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce((U,ae)=>{var{word:ke,width:se}=ae,O=U[U.length-1];if(O&&(r==null||s||O.width+se+a<Number(r)))O.words.push(ke),O.width+=se+a;else{var H={words:[ke],width:se};U.push(H)}return U},[])},b=g(t),y=K=>K.reduce((z,U)=>z.width>U.width?z:U);if(!f||s)return b;var j=b.length>l||y(b).width>Number(r);if(!j)return b;for(var w="",S=K=>{var z=h.slice(0,K),U=B7({breakAll:m,style:u,children:z+w}).wordsWithComputedWidth,ae=g(U),ke=ae.length>l||y(ae).width>Number(r);return[ke,ae]},k=0,_=h.length-1,C=0,P;k<=_&&C<=h.length-1;){var T=Math.floor((k+_)/2),E=T-1,[$,M]=S(E),[F]=S(T);if(!$&&!F&&(k=T+1),$&&F&&(_=T-1),!$&&F){P=M;break}C++}return P||b},DT=e=>{var t=an(e)?[]:e.toString().split(I7);return[{words:t}]},die=e=>{var{width:t,scaleToFit:a,children:r,style:s,breakAll:l,maxLines:c}=e;if((t||a)&&!Go.isSsr){var u,m,f=B7({breakAll:l,children:r,style:s});if(f){var{wordsWithComputedWidth:h,spaceWidth:g}=f;u=h,m=g}else return DT(r);return cie({breakAll:l,children:r,maxLines:c,style:s},u,m,t,a)}return DT(r)},RT="#808080",Wx=x.forwardRef((e,t)=>{var{x:a=0,y:r=0,lineHeight:s="1em",capHeight:l="0.71em",scaleToFit:c=!1,textAnchor:u="start",verticalAnchor:m="end",fill:f=RT}=e,h=MT(e,iie),g=x.useMemo(()=>die({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:c,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,c,h.style,h.width]),{dx:b,dy:y,angle:j,className:w,breakAll:S}=h,k=MT(h,lie);if(!Os(a)||!Os(r))return null;var _=a+(We(b)?b:0),C=r+(We(y)?y:0),P;switch(m){case"start":P=u1("calc(".concat(l,")"));break;case"middle":P=u1("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(l," / 2))"));break;default:P=u1("calc(".concat(g.length-1," * -").concat(s,")"));break}var T=[];if(c){var E=g[0].width,{width:$}=h;T.push("scale(".concat(We($)?$/E:1,")"))}return j&&T.push("rotate(".concat(j,", ").concat(_,", ").concat(C,")")),T.length&&(k.transform=T.join(" ")),x.createElement("text",gw({},on(k,!0),{ref:t,x:_,y:C,className:Nt("recharts-text",w),textAnchor:u,fill:f.includes("url")?RT:f}),g.map((M,F)=>{var K=M.words.join(S?"":" ");return x.createElement("tspan",{x:_,dy:F===0?P:s,key:"".concat(K,"-").concat(F)},K)}))});Wx.displayName="Text";var uie=["offset"],mie=["labelRef"];function LT(e,t){if(e==null)return{};var a,r,s=fie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function fie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function $T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function bn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?$T(Object(a),!0).forEach(function(r){hie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):$T(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function hie(e,t,a){return(t=pie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function pie(e){var t=xie(e,"string");return typeof t=="symbol"?t:t+""}function xie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ri(){return ri=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ri.apply(null,arguments)}var gie=e=>{var{value:t,formatter:a}=e,r=an(e.children)?t:e.children;return typeof a=="function"?a(r):r},uS=e=>e!=null&&typeof e=="function",bie=(e,t)=>{var a=ea(t-e),r=Math.min(Math.abs(t-e),360);return a*r},vie=(e,t,a,r)=>{var{position:s,offset:l,className:c}=e,{cx:u,cy:m,innerRadius:f,outerRadius:h,startAngle:g,endAngle:b,clockWise:y}=r,j=(f+h)/2,w=bie(g,b),S=w>=0?1:-1,k,_;s==="insideStart"?(k=g+S*l,_=y):s==="insideEnd"?(k=b-S*l,_=!y):s==="end"&&(k=b+S*l,_=y),_=w<=0?_:!_;var C=Mn(u,m,j,k),P=Mn(u,m,j,k+(_?1:-1)*359),T="M".concat(C.x,",").concat(C.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(_?0:1,`,
    `).concat(P.x,",").concat(P.y),E=an(e.id)?Km("recharts-radial-line-"):e.id;return x.createElement("text",ri({},a,{dominantBaseline:"central",className:Nt("recharts-radial-bar-label",c)}),x.createElement("defs",null,x.createElement("path",{id:E,d:T})),x.createElement("textPath",{xlinkHref:"#".concat(E)},t))},yie=(e,t,a)=>{var{cx:r,cy:s,innerRadius:l,outerRadius:c,startAngle:u,endAngle:m}=e,f=(u+m)/2;if(a==="outside"){var{x:h,y:g}=Mn(r,s,c+t,f);return{x:h,y:g,textAnchor:h>=r?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:r,y:s,textAnchor:"middle",verticalAnchor:"end"};var b=(l+c)/2,{x:y,y:j}=Mn(r,s,b,f);return{x:y,y:j,textAnchor:"middle",verticalAnchor:"middle"}},jie=(e,t)=>{var{parentViewBox:a,offset:r,position:s}=e,{x:l,y:c,width:u,height:m}=t,f=m>=0?1:-1,h=f*r,g=f>0?"end":"start",b=f>0?"start":"end",y=u>=0?1:-1,j=y*r,w=y>0?"end":"start",S=y>0?"start":"end";if(s==="top"){var k={x:l+u/2,y:c-f*r,textAnchor:"middle",verticalAnchor:g};return bn(bn({},k),a?{height:Math.max(c-a.y,0),width:u}:{})}if(s==="bottom"){var _={x:l+u/2,y:c+m+h,textAnchor:"middle",verticalAnchor:b};return bn(bn({},_),a?{height:Math.max(a.y+a.height-(c+m),0),width:u}:{})}if(s==="left"){var C={x:l-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"};return bn(bn({},C),a?{width:Math.max(C.x-a.x,0),height:m}:{})}if(s==="right"){var P={x:l+u+j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"};return bn(bn({},P),a?{width:Math.max(a.x+a.width-P.x,0),height:m}:{})}var T=a?{width:u,height:m}:{};return s==="insideLeft"?bn({x:l+j,y:c+m/2,textAnchor:S,verticalAnchor:"middle"},T):s==="insideRight"?bn({x:l+u-j,y:c+m/2,textAnchor:w,verticalAnchor:"middle"},T):s==="insideTop"?bn({x:l+u/2,y:c+h,textAnchor:"middle",verticalAnchor:b},T):s==="insideBottom"?bn({x:l+u/2,y:c+m-h,textAnchor:"middle",verticalAnchor:g},T):s==="insideTopLeft"?bn({x:l+j,y:c+h,textAnchor:S,verticalAnchor:b},T):s==="insideTopRight"?bn({x:l+u-j,y:c+h,textAnchor:w,verticalAnchor:b},T):s==="insideBottomLeft"?bn({x:l+j,y:c+m-h,textAnchor:S,verticalAnchor:g},T):s==="insideBottomRight"?bn({x:l+u-j,y:c+m-h,textAnchor:w,verticalAnchor:g},T):s&&typeof s=="object"&&(We(s.x)||Co(s.x))&&(We(s.y)||Co(s.y))?bn({x:l+Ea(s.x,u),y:c+Ea(s.y,m),textAnchor:"end",verticalAnchor:"end"},T):bn({x:l+u/2,y:c+m/2,textAnchor:"middle",verticalAnchor:"middle"},T)},wie=e=>"cx"in e&&We(e.cx);function ir(e){var{offset:t=5}=e,a=LT(e,uie),r=bn({offset:t},a),{viewBox:s,position:l,value:c,children:u,content:m,className:f="",textBreakAll:h,labelRef:g}=r,b=et(MR),y=tN(),j=l==="center"?y:b??y,w=s||j;if(!w||an(c)&&an(u)&&!x.isValidElement(m)&&typeof m!="function")return null;var S=bn(bn({},r),{},{viewBox:w});if(x.isValidElement(m)){var{labelRef:k}=S,_=LT(S,mie);return x.cloneElement(m,_)}var C;if(typeof m=="function"){if(C=x.createElement(m,S),x.isValidElement(C))return C}else C=gie(r);var P=wie(w),T=on(r,!0);if(P&&(l==="insideStart"||l==="insideEnd"||l==="end"))return vie(r,C,T,w);var E=P?yie(w,r.offset,r.position):jie(r,w);return x.createElement(Wx,ri({ref:g,className:Nt("recharts-label",f)},T,E,{breakAll:h}),C)}ir.displayName="Label";var z7=e=>{var{cx:t,cy:a,angle:r,startAngle:s,endAngle:l,r:c,radius:u,innerRadius:m,outerRadius:f,x:h,y:g,top:b,left:y,width:j,height:w,clockWise:S,labelViewBox:k}=e;if(k)return k;if(We(j)&&We(w)){if(We(h)&&We(g))return{x:h,y:g,width:j,height:w};if(We(b)&&We(y))return{x:b,y,width:j,height:w}}if(We(h)&&We(g))return{x:h,y:g,width:0,height:0};if(We(t)&&We(a))return{cx:t,cy:a,startAngle:s||r||0,endAngle:l||r||0,innerRadius:m||0,outerRadius:f||u||c||0,clockWise:S};if(e.viewBox)return e.viewBox},Nie=(e,t,a)=>{if(!e)return null;var r={viewBox:t,labelRef:a};return e===!0?x.createElement(ir,ri({key:"label-implicit"},r)):Os(e)?x.createElement(ir,ri({key:"label-implicit",value:e},r)):x.isValidElement(e)?e.type===ir?x.cloneElement(e,bn({key:"label-implicit"},r)):x.createElement(ir,ri({key:"label-implicit",content:e},r)):uS(e)?x.createElement(ir,ri({key:"label-implicit",content:e},r)):e&&typeof e=="object"?x.createElement(ir,ri({},e,{key:"label-implicit"},r)):null},Sie=function(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var{children:s,labelRef:l}=t,c=z7(t),u=vf(s,ir).map((f,h)=>x.cloneElement(f,{viewBox:a||c,key:"label-".concat(h)}));if(!r)return u;var m=Nie(t.label,a||c,l);return[m,...u]};ir.parseViewBox=z7;ir.renderCallByParent=Sie;var m1={},f1={},IT;function _ie(){return IT||(IT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return a[a.length-1]}e.last=t}(f1)),f1}var h1={},BT;function kie(){return BT||(BT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){return Array.isArray(a)?a:Array.from(a)}e.toArray=t}(h1)),h1}var zT;function Cie(){return zT||(zT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=_ie(),a=kie(),r=F2();function s(l){if(r.isArrayLike(l))return t.last(a.toArray(l))}e.last=s}(m1)),m1}var p1,UT;function Aie(){return UT||(UT=1,p1=Cie().last),p1}var Tie=Aie();const Eie=ds(Tie);var Pie=["valueAccessor"],Oie=["data","dataKey","clockWise","id","textBreakAll"];function Gp(){return Gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Gp.apply(null,arguments)}function FT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function VT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?FT(Object(a),!0).forEach(function(r){Mie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):FT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mie(e,t,a){return(t=Die(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Die(e){var t=Rie(e,"string");return typeof t=="symbol"?t:t+""}function Rie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function HT(e,t){if(e==null)return{};var a,r,s=Lie(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Lie(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var $ie=e=>Array.isArray(e.value)?Eie(e.value):e.value;function wl(e){var{valueAccessor:t=$ie}=e,a=HT(e,Pie),{data:r,dataKey:s,clockWise:l,id:c,textBreakAll:u}=a,m=HT(a,Oie);return!r||!r.length?null:x.createElement(Na,{className:"recharts-label-list"},r.map((f,h)=>{var g=an(s)?t(f,h):Yt(f&&f.payload,s),b=an(c)?{}:{id:"".concat(c,"-").concat(h)};return x.createElement(ir,Gp({},on(f,!0),m,b,{parentViewBox:f.parentViewBox,value:g,textBreakAll:u,viewBox:ir.parseViewBox(an(l)?f:VT(VT({},f),{},{clockWise:l})),key:"label-".concat(h),index:h}))}))}wl.displayName="LabelList";function Iie(e,t){return e?e===!0?x.createElement(wl,{key:"labelList-implicit",data:t}):x.isValidElement(e)||uS(e)?x.createElement(wl,{key:"labelList-implicit",data:t,content:e}):typeof e=="object"?x.createElement(wl,Gp({data:t},e,{key:"labelList-implicit"})):null:null}function Bie(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&a&&!e.label)return null;var{children:r}=e,s=vf(r,wl).map((c,u)=>x.cloneElement(c,{data:t,key:"labelList-".concat(u)}));if(!a)return s;var l=Iie(e.label,t);return[l,...s]}wl.renderCallByParent=Bie;function bw(){return bw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},bw.apply(null,arguments)}var U7=e=>{var{cx:t,cy:a,r,className:s}=e,l=Nt("recharts-dot",s);return t===+t&&a===+a&&r===+r?x.createElement("circle",bw({},Ai(e),I2(e),{className:l,cx:t,cy:a,r})):null},F7=e=>e.graphicalItems.polarItems,zie=Ne([un,kf],BN),mS=Ne([F7,An,zie],zN),Uie=Ne([mS],UN),fS=Ne([Uie,AN],FN),Fie=Ne([fS,An,mS],HN),Vie=Ne([fS,An,mS],(e,t,a)=>a.length>0?e.flatMap(r=>a.flatMap(s=>{var l,c=Yt(r,(l=t.dataKey)!==null&&l!==void 0?l:s.dataKey);return{value:c,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:Yt(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]}))),qT=()=>{},Hie=Ne([An,XR,qT,Vie,qT,Ct,un],KN),V7=Ne([An,Ct,fS,Fie,_f,un,Hie],GN),qie=Ne([V7,An,qd],XN);Ne([An,V7,qie,un],QN);var Kie={radiusAxis:{},angleAxis:{}},H7=pr({name:"polarAxis",initialState:Kie,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:s0e,removeRadiusAxis:i0e,addAngleAxis:l0e,removeAngleAxis:o0e}=H7.actions,Gie=H7.reducer;function KT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function GT(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?KT(Object(a),!0).forEach(function(r){Yie(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):KT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Yie(e,t,a){return(t=Wie(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Wie(e){var t=Xie(e,"string");return typeof t=="symbol"?t:t+""}function Xie(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Zie=(e,t)=>t,hS=Ne([F7,Zie],(e,t)=>e.filter(a=>a.type==="pie").find(a=>a.id===t)),Qie=[],pS=(e,t,a)=>(a==null?void 0:a.length)===0?Qie:a,q7=Ne([AN,hS,pS],(e,t,a)=>{var{chartData:r}=e;if(t!=null){var s;if((t==null?void 0:t.data)!=null&&t.data.length>0?s=t.data:s=r,(!s||!s.length)&&a!=null&&(s=a.map(l=>GT(GT({},t.presentationProps),l.props))),s!=null)return s}}),Jie=Ne([q7,hS,pS],(e,t,a)=>{if(!(e==null||t==null))return e.map((r,s)=>{var l,c=Yt(r,t.nameKey,t.name),u;return a!=null&&(l=a[s])!==null&&l!==void 0&&(l=l.props)!==null&&l!==void 0&&l.fill?u=a[s].props.fill:typeof r=="object"&&r!=null&&"fill"in r?u=r.fill:u=t.fill,{value:Bd(c,t.dataKey),color:u,payload:r,type:t.legendType}})}),ele=Ne([q7,hS,pS,Fn],(e,t,a,r)=>{if(!(t==null||e==null))return Gle({offset:r,pieSettings:t,displayedData:e,cells:a})}),x1={},YT;function tle(){return YT||(YT=1,function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(a){var s;if(typeof a!="object"||a==null)return!1;if(Object.getPrototypeOf(a)===null)return!0;if(Object.prototype.toString.call(a)!=="[object Object]"){const l=a[Symbol.toStringTag];return l==null||!((s=Object.getOwnPropertyDescriptor(a,Symbol.toStringTag))!=null&&s.writable)?!1:a.toString()===`[object ${l}]`}let r=a;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(a)===r}e.isPlainObject=t}(x1)),x1}var g1,WT;function nle(){return WT||(WT=1,g1=tle().isPlainObject),g1}var ale=nle();const rle=ds(ale);function Yp(){return Yp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Yp.apply(null,arguments)}var XT=(e,t,a,r,s)=>{var l=a-r,c;return c="M ".concat(e,",").concat(t),c+="L ".concat(e+a,",").concat(t),c+="L ".concat(e+a-l/2,",").concat(t+s),c+="L ".concat(e+a-l/2-r,",").concat(t+s),c+="L ".concat(e,",").concat(t," Z"),c},sle={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},ile=e=>{var t=xr(e,sle),a=x.useRef(),[r,s]=x.useState(-1);x.useEffect(()=>{if(a.current&&a.current.getTotalLength)try{var S=a.current.getTotalLength();S&&s(S)}catch{}},[]);var{x:l,y:c,upperWidth:u,lowerWidth:m,height:f,className:h}=t,{animationEasing:g,animationDuration:b,animationBegin:y,isUpdateAnimationActive:j}=t;if(l!==+l||c!==+c||u!==+u||m!==+m||f!==+f||u===0&&m===0||f===0)return null;var w=Nt("recharts-trapezoid",h);return j?x.createElement(Op,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:m,height:f,x:l,y:c},duration:b,animationEasing:g,isActive:j},S=>{var{upperWidth:k,lowerWidth:_,height:C,x:P,y:T}=S;return x.createElement(Op,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:b,easing:g},x.createElement("path",Yp({},on(t,!0),{className:w,d:XT(P,T,k,_,C),ref:a})))}):x.createElement("g",null,x.createElement("path",Yp({},on(t,!0),{className:w,d:XT(l,c,u,m,f)})))},lle=["option","shapeType","propTransformer","activeClassName","isActive"];function ole(e,t){if(e==null)return{};var a,r,s=cle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function cle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function ZT(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Wp(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?ZT(Object(a),!0).forEach(function(r){dle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ZT(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dle(e,t,a){return(t=ule(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function ule(e){var t=mle(e,"string");return typeof t=="symbol"?t:t+""}function mle(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fle(e,t){return Wp(Wp({},t),e)}function hle(e,t){return e==="symbols"}function QT(e){var{shapeType:t,elementProps:a}=e;switch(t){case"rectangle":return x.createElement(A8,a);case"trapezoid":return x.createElement(ile,a);case"sector":return x.createElement(rN,a);case"symbols":if(hle(t))return x.createElement(kD,a);break;default:return null}}function ple(e){return x.isValidElement(e)?e.props:e}function K7(e){var{option:t,shapeType:a,propTransformer:r=fle,activeClassName:s="recharts-active-shape",isActive:l}=e,c=ole(e,lle),u;if(x.isValidElement(t))u=x.cloneElement(t,Wp(Wp({},c),ple(t)));else if(typeof t=="function")u=t(c);else if(rle(t)&&typeof t!="boolean"){var m=r(t,c);u=x.createElement(QT,{shapeType:a,elementProps:m})}else{var f=c;u=x.createElement(QT,{shapeType:a,elementProps:f})}return l?x.createElement(Na,{className:s},u):u}var xS=(e,t)=>{var a=Cn();return(r,s)=>l=>{e==null||e(r,s,l),a(m7({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}},gS=e=>{var t=Cn();return(a,r)=>s=>{e==null||e(a,r,s),t(lre())}},bS=(e,t)=>{var a=Cn();return(r,s)=>l=>{e==null||e(r,s,l),a(ore({activeIndex:String(s),activeDataKey:t,activeCoordinate:r.tooltipPosition}))}};function vS(e){var{fn:t,args:a}=e,r=Cn(),s=qa();return x.useEffect(()=>{if(!s){var l=t(a);return r(rre(l)),()=>{r(sre(l))}}},[t,a,r,s]),null}var G7=()=>{};function Y7(e){var{legendPayload:t}=e,a=Cn(),r=qa();return x.useEffect(()=>r?G7:(a(v8(t)),()=>{a(y8(t))}),[a,r,t]),null}function xle(e){var{legendPayload:t}=e,a=Cn(),r=et(Ct);return x.useEffect(()=>r!=="centric"&&r!=="radial"?G7:(a(v8(t)),()=>{a(y8(t))}),[a,r,t]),null}function yS(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",a=x.useRef(Km(t)),r=x.useRef(e);return r.current!==e&&(a.current=Km(t),r.current=e),a.current}var b1,gle=()=>{var[e]=x.useState(()=>Km("uid-"));return e},ble=(b1=cI.useId)!==null&&b1!==void 0?b1:gle;function vle(e,t){var a=ble();return t||(e?"".concat(e,"-").concat(a):a)}var yle=x.createContext(void 0),jS=e=>{var{id:t,type:a,children:r}=e,s=vle("recharts-".concat(a),t);return x.createElement(yle.Provider,{value:s},r(s))},jle={cartesianItems:[],polarItems:[]},W7=pr({name:"graphicalItems",initialState:jle,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:a,next:r}=t.payload,s=di(e).cartesianItems.indexOf(a);s>-1&&(e.cartesianItems[s]=r)},removeCartesianGraphicalItem(e,t){var a=di(e).cartesianItems.indexOf(t.payload);a>-1&&e.cartesianItems.splice(a,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var a=di(e).polarItems.indexOf(t.payload);a>-1&&e.polarItems.splice(a,1)}}}),{addCartesianGraphicalItem:wle,replaceCartesianGraphicalItem:Nle,removeCartesianGraphicalItem:Sle,addPolarGraphicalItem:_le,removePolarGraphicalItem:kle}=W7.actions,Cle=W7.reducer;function X7(e){var t=Cn(),a=x.useRef(null);return x.useEffect(()=>{a.current===null?t(wle(e)):a.current!==e&&t(Nle({prev:a.current,next:e})),a.current=e},[t,e]),x.useEffect(()=>()=>{a.current&&(t(Sle(a.current)),a.current=null)},[t]),null}function Ale(e){var t=Cn();return x.useEffect(()=>(t(_le(e)),()=>{t(kle(e))}),[t,e]),null}function Tle(){}var Ele={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},JT={t:0},v1={t:1};function wS(e){var t=xr(e,Ele),{isActive:a,canBegin:r,duration:s,easing:l,begin:c,onAnimationEnd:u,onAnimationStart:m,children:f}=t,h=C8("JavascriptAnimate",t.animationManager),[g,b]=x.useState(a?JT:v1),y=x.useRef(null);return x.useEffect(()=>{a||b(v1)},[a]),x.useEffect(()=>{if(!a||!r)return Tle;var j=k8(JT,v1,S8(l),s,b,h.getTimeoutController()),w=()=>{y.current=j()};return h.start([m,c,w,s,u]),()=>{h.stop(),y.current&&y.current(),u()}},[a,r,s,l,c,m,u,h]),f(g.t)}var Ple=["onMouseEnter","onClick","onMouseLeave"],Ole=["id"],Mle=["id"];function NS(e,t){if(e==null)return{};var a,r,s=Dle(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Dle(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function eE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function jn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?eE(Object(a),!0).forEach(function(r){Rle(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):eE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Rle(e,t,a){return(t=Lle(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Lle(e){var t=$le(e,"string");return typeof t=="symbol"?t:t+""}function $le(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ci(){return Ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ci.apply(null,arguments)}function Ile(e){var t=x.useMemo(()=>vf(e.children,li),[e.children]),a=et(r=>Jie(r,e.id,t));return a==null?null:x.createElement(xle,{legendPayload:a})}function Ble(e){var{dataKey:t,nameKey:a,sectors:r,stroke:s,strokeWidth:l,fill:c,name:u,hide:m,tooltipType:f}=e;return{dataDefinedOnItem:r==null?void 0:r.map(h=>h.tooltipPayload),positions:r==null?void 0:r.map(h=>h.tooltipPosition),settings:{stroke:s,strokeWidth:l,fill:c,dataKey:t,nameKey:a,name:Bd(u,t),hide:m,type:f,color:c,unit:""}}}var zle=(e,t)=>e>t?"start":e<t?"end":"middle",Ule=(e,t,a)=>typeof t=="function"?t(e):Ea(t,a,a*.8),Fle=(e,t,a)=>{var{top:r,left:s,width:l,height:c}=t,u=l8(l,c),m=s+Ea(e.cx,l,l/2),f=r+Ea(e.cy,c,c/2),h=Ea(e.innerRadius,u,0),g=Ule(a,e.outerRadius,u),b=e.maxRadius||Math.sqrt(l*l+c*c)/2;return{cx:m,cy:f,innerRadius:h,outerRadius:g,maxRadius:b}},Vle=(e,t)=>{var a=ea(t-e),r=Math.min(Math.abs(t-e),360);return a*r},Hle=(e,t)=>{if(x.isValidElement(e))return x.cloneElement(e,t);if(typeof e=="function")return e(t);var a=Nt("recharts-pie-label-line",typeof e!="boolean"?e.className:"");return x.createElement(nN,Ci({},t,{type:"linear",className:a}))},qle=(e,t,a)=>{if(x.isValidElement(e))return x.cloneElement(e,t);var r=a;if(typeof e=="function"&&(r=e(t),x.isValidElement(r)))return r;var s=Nt("recharts-pie-label-text",typeof e!="boolean"&&typeof e!="function"?e.className:"");return x.createElement(Wx,Ci({},t,{alignmentBaseline:"middle",className:s}),r)};function Kle(e){var{sectors:t,props:a,showLabels:r}=e,{label:s,labelLine:l,dataKey:c}=a;if(!r||!s||!t)return null;var u=Ai(a),m=on(s,!1),f=on(l,!1),h=typeof s=="object"&&"offsetRadius"in s&&s.offsetRadius||20,g=t.map((b,y)=>{var j=(b.startAngle+b.endAngle)/2,w=Mn(b.cx,b.cy,b.outerRadius+h,j),S=jn(jn(jn(jn({},u),b),{},{stroke:"none"},m),{},{index:y,textAnchor:zle(w.x,b.cx)},w),k=jn(jn(jn(jn({},u),b),{},{fill:"none",stroke:b.fill},f),{},{index:y,points:[Mn(b.cx,b.cy,b.outerRadius,j),w],key:"line"});return x.createElement(Na,{key:"label-".concat(b.startAngle,"-").concat(b.endAngle,"-").concat(b.midAngle,"-").concat(y)},l&&Hle(l,k),qle(s,S,Yt(b,c)))});return x.createElement(Na,{className:"recharts-pie-labels"},g)}function Z7(e){var{sectors:t,activeShape:a,inactiveShape:r,allOtherPieProps:s,showLabels:l}=e,c=et(Pl),{onMouseEnter:u,onClick:m,onMouseLeave:f}=s,h=NS(s,Ple),g=xS(u,s.dataKey),b=gS(f),y=bS(m,s.dataKey);return t==null?null:x.createElement(x.Fragment,null,t.map((j,w)=>{if((j==null?void 0:j.startAngle)===0&&(j==null?void 0:j.endAngle)===0&&t.length!==1)return null;var S=a&&String(w)===c,k=c?r:null,_=S?a:k,C=jn(jn({},j),{},{stroke:j.stroke,tabIndex:-1,[m8]:w,[f8]:s.dataKey});return x.createElement(Na,Ci({tabIndex:-1,className:"recharts-pie-sector"},gx(h,j,w),{onMouseEnter:g(j,w),onMouseLeave:b(j,w),onClick:y(j,w),key:"sector-".concat(j==null?void 0:j.startAngle,"-").concat(j==null?void 0:j.endAngle,"-").concat(j.midAngle,"-").concat(w)}),x.createElement(K7,Ci({option:_,isActive:S,shapeType:"sector"},C)))}),x.createElement(Kle,{sectors:t,props:s,showLabels:l}))}function Gle(e){var t,{pieSettings:a,displayedData:r,cells:s,offset:l}=e,{cornerRadius:c,startAngle:u,endAngle:m,dataKey:f,nameKey:h,tooltipType:g}=a,b=Math.abs(a.minAngle),y=Vle(u,m),j=Math.abs(y),w=r.length<=1?0:(t=a.paddingAngle)!==null&&t!==void 0?t:0,S=r.filter(E=>Yt(E,f,0)!==0).length,k=(j>=360?S:S-1)*w,_=j-S*b-k,C=r.reduce((E,$)=>{var M=Yt($,f,0);return E+(We(M)?M:0)},0),P;if(C>0){var T;P=r.map((E,$)=>{var M=Yt(E,f,0),F=Yt(E,h,$),K=Fle(a,l,E),z=(We(M)?M:0)/C,U,ae=jn(jn({},E),s&&s[$]&&s[$].props);$?U=T.endAngle+ea(y)*w*(M!==0?1:0):U=u;var ke=U+ea(y)*((M!==0?b:0)+z*_),se=(U+ke)/2,O=(K.innerRadius+K.outerRadius)/2,H=[{name:F,value:M,payload:ae,dataKey:f,type:g}],G=Mn(K.cx,K.cy,O,se);return T=jn(jn(jn(jn({},a.presentationProps),{},{percent:z,cornerRadius:c,name:F,tooltipPayload:H,midAngle:se,middleRadius:O,tooltipPosition:G},ae),K),{},{value:Yt(E,f),startAngle:U,endAngle:ke,payload:ae,paddingAngle:ea(y)*w}),T})}return P}function Yle(e){var{props:t,previousSectorsRef:a}=e,{sectors:r,isAnimationActive:s,animationBegin:l,animationDuration:c,animationEasing:u,activeShape:m,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=t,b=yS(t,"recharts-pie-"),y=a.current,[j,w]=x.useState(!0),S=x.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),k=x.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return x.createElement(wS,{begin:l,duration:c,isActive:s,easing:u,onAnimationStart:k,onAnimationEnd:S,key:b},_=>{var C=[],P=r&&r[0],T=P.startAngle;return r.forEach((E,$)=>{var M=y&&y[$],F=$>0?Al(E,"paddingAngle",0):0;if(M){var K=AC(M.endAngle-M.startAngle,E.endAngle-E.startAngle),z=jn(jn({},E),{},{startAngle:T+F,endAngle:T+K(_)+F});C.push(z),T=z.endAngle}else{var{endAngle:U,startAngle:ae}=E,ke=AC(0,U-ae),se=ke(_),O=jn(jn({},E),{},{startAngle:T+F,endAngle:T+se+F});C.push(O),T=O.endAngle}}),a.current=C,x.createElement(Na,null,x.createElement(Z7,{sectors:C,activeShape:m,inactiveShape:f,allOtherPieProps:t,showLabels:!j}))})}function Wle(e){var{sectors:t,isAnimationActive:a,activeShape:r,inactiveShape:s}=e,l=x.useRef(null),c=l.current;return a&&t&&t.length&&(!c||c!==t)?x.createElement(Yle,{props:e,previousSectorsRef:l}):x.createElement(Z7,{sectors:t,activeShape:r,inactiveShape:s,allOtherPieProps:e,showLabels:!0})}function Xle(e){var{hide:t,className:a,rootTabIndex:r}=e,s=Nt("recharts-pie",a);return t?null:x.createElement(Na,{tabIndex:r,className:s},x.createElement(Wle,e))}var Zle={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!Go.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function Qle(e){var{id:t}=e,a=NS(e,Ole),r=x.useMemo(()=>vf(e.children,li),[e.children]),s=et(l=>ele(l,t,r));return x.createElement(x.Fragment,null,x.createElement(vS,{fn:Ble,args:jn(jn({},e),{},{sectors:s})}),x.createElement(Xle,Ci({},a,{sectors:s})))}function af(e){var t=xr(e,Zle),{id:a}=t,r=NS(t,Mle),s=Ai(r);return x.createElement(jS,{id:a,type:"pie"},l=>x.createElement(x.Fragment,null,x.createElement(Ale,{type:"pie",id:l,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:s}),x.createElement(Ile,Ci({},r,{id:l})),x.createElement(Qle,Ci({},r,{id:l})),r.children))}af.displayName="Pie";var Jle=Ne([Fn],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),eoe=Ne([Jle,Ti,Ei],(e,t,a)=>{if(!(!e||t==null||a==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,a-e.top-e.bottom)}}),SS=()=>et(eoe),toe=()=>et(Yre);function tE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function nE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?tE(Object(a),!0).forEach(function(r){noe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):tE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function noe(e,t,a){return(t=aoe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function aoe(e){var t=roe(e,"string");return typeof t=="symbol"?t:t+""}function roe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var soe=e=>{var{point:t,childIndex:a,mainColor:r,activeDot:s,dataKey:l}=e;if(s===!1||t.x==null||t.y==null)return null;var c=nE(nE({index:a,dataKey:l,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},on(s,!1)),I2(s)),u;return x.isValidElement(s)?u=x.cloneElement(s,c):typeof s=="function"?u=s(c):u=x.createElement(U7,c),x.createElement(Na,{className:"recharts-active-dot"},u)};function ioe(e){var{points:t,mainColor:a,activeDot:r,itemDataKey:s}=e,l=et(Pl),c=toe();if(t==null||c==null)return null;var u=t.find(m=>c.includes(m.payload));return an(u)?null:soe({point:u,childIndex:Number(l),mainColor:a,dataKey:s,activeDot:r})}var loe="Invariant failed";function ooe(e,t){throw new Error(loe)}var coe=["x","y"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},vw.apply(null,arguments)}function aE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function tm(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?aE(Object(a),!0).forEach(function(r){doe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):aE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function doe(e,t,a){return(t=uoe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function uoe(e){var t=moe(e,"string");return typeof t=="symbol"?t:t+""}function moe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function foe(e,t){if(e==null)return{};var a,r,s=hoe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function hoe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function poe(e,t){var{x:a,y:r}=e,s=foe(e,coe),l="".concat(a),c=parseInt(l,10),u="".concat(r),m=parseInt(u,10),f="".concat(t.height||s.height),h=parseInt(f,10),g="".concat(t.width||s.width),b=parseInt(g,10);return tm(tm(tm(tm(tm({},t),s),c?{x:c}:{}),m?{y:m}:{}),{},{height:h,width:b,name:t.name,radius:t.radius})}function Q7(e){return x.createElement(K7,vw({shapeType:"rectangle",propTransformer:poe,activeClassName:"recharts-active-bar"},e))}var xoe=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(r,s)=>{if(We(t))return t;var l=We(r)||an(r);return l?t(r,s):(l||ooe(),a)}},goe={},J7=pr({name:"errorBars",initialState:goe,reducers:{addErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]||(e[a]=[]),e[a].push(r)},removeErrorBar:(e,t)=>{var{itemId:a,errorBar:r}=t.payload;e[a]&&(e[a]=e[a].filter(s=>s.dataKey!==r.dataKey||s.direction!==r.direction))}}}),{addErrorBar:c0e,removeErrorBar:d0e}=J7.actions,boe=J7.reducer,voe=["children"];function yoe(e,t){if(e==null)return{};var a,r,s=joe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function joe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var woe={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Noe=x.createContext(woe);function eL(e){var{children:t}=e,a=yoe(e,voe);return x.createElement(Noe.Provider,{value:a},t)}function _S(e,t){var a,r,s=et(f=>Oi(f,e)),l=et(f=>$l(f,t)),c=(a=s==null?void 0:s.allowDataOverflow)!==null&&a!==void 0?a:ar.allowDataOverflow,u=(r=l==null?void 0:l.allowDataOverflow)!==null&&r!==void 0?r:rr.allowDataOverflow,m=c||u;return{needClip:m,needClipX:c,needClipY:u}}function tL(e){var{xAxisId:t,yAxisId:a,clipPathId:r}=e,s=SS(),{needClipX:l,needClipY:c,needClip:u}=_S(t,a);if(!u)return null;var{x:m,y:f,width:h,height:g}=s;return x.createElement("clipPath",{id:"clipPath-".concat(r)},x.createElement("rect",{x:l?m:m-h/2,y:c?f:f-g/2,width:l?h:h*2,height:c?g:g*2}))}var Soe=["onMouseEnter","onMouseLeave","onClick"],_oe=["value","background","tooltipPosition"],koe=["id"],Coe=["onMouseEnter","onClick","onMouseLeave"];function Ad(){return Ad=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Ad.apply(null,arguments)}function rE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ya(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?rE(Object(a),!0).forEach(function(r){Aoe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):rE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Aoe(e,t,a){return(t=Toe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Toe(e){var t=Eoe(e,"string");return typeof t=="symbol"?t:t+""}function Eoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xp(e,t){if(e==null)return{};var a,r,s=Poe(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Poe(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Ooe=e=>{var{dataKey:t,name:a,fill:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Bd(a,t),payload:e}]};function Moe(e){var{dataKey:t,stroke:a,strokeWidth:r,fill:s,name:l,hide:c,unit:u}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:a,strokeWidth:r,fill:s,dataKey:t,nameKey:void 0,name:Bd(l,t),hide:c,type:e.tooltipType,color:e.fill,unit:u}}}function Doe(e){var t=et(Pl),{data:a,dataKey:r,background:s,allOtherBarProps:l}=e,{onMouseEnter:c,onMouseLeave:u,onClick:m}=l,f=Xp(l,Soe),h=xS(c,r),g=gS(u),b=bS(m,r);if(!s||a==null)return null;var y=on(s,!1);return x.createElement(x.Fragment,null,a.map((j,w)=>{var{value:S,background:k,tooltipPosition:_}=j,C=Xp(j,_oe);if(!k)return null;var P=h(j,w),T=g(j,w),E=b(j,w),$=ya(ya(ya(ya(ya({option:s,isActive:String(w)===t},C),{},{fill:"#eee"},k),y),gx(f,j,w)),{},{onMouseEnter:P,onMouseLeave:T,onClick:E,dataKey:r,index:w,className:"recharts-bar-background-rectangle"});return x.createElement(Q7,Ad({key:"background-bar-".concat(w)},$))}))}function nL(e){var{data:t,props:a,showLabels:r}=e,s=Ai(a),{id:l}=s,c=Xp(s,koe),{shape:u,dataKey:m,activeBar:f}=a,h=et(Pl),g=et(_7),{onMouseEnter:b,onClick:y,onMouseLeave:j}=a,w=Xp(a,Coe),S=xS(b,m),k=gS(j),_=bS(y,m);return t?x.createElement(x.Fragment,null,t.map((C,P)=>{var T=f&&String(P)===h&&(g==null||m===g),E=T?f:u,$=ya(ya(ya({},c),C),{},{isActive:T,option:E,index:P,dataKey:m});return x.createElement(Na,Ad({className:"recharts-bar-rectangle"},gx(w,C,P),{onMouseEnter:S(C,P),onMouseLeave:k(C,P),onClick:_(C,P),key:"rectangle-".concat(C==null?void 0:C.x,"-").concat(C==null?void 0:C.y,"-").concat(C==null?void 0:C.value,"-").concat(P)}),x.createElement(Q7,$))}),r&&wl.renderCallByParent(a,t)):null}function Roe(e){var{props:t,previousRectanglesRef:a}=e,{data:r,layout:s,isAnimationActive:l,animationBegin:c,animationDuration:u,animationEasing:m,onAnimationEnd:f,onAnimationStart:h}=t,g=a.current,b=yS(t,"recharts-bar-"),[y,j]=x.useState(!1),w=x.useCallback(()=>{typeof f=="function"&&f(),j(!1)},[f]),S=x.useCallback(()=>{typeof h=="function"&&h(),j(!0)},[h]);return x.createElement(wS,{begin:c,duration:u,isActive:l,easing:m,onAnimationEnd:w,onAnimationStart:S,key:b},k=>{var _=k===1?r:r==null?void 0:r.map((C,P)=>{var T=g&&g[P];if(T)return ya(ya({},C),{},{x:ts(T.x,C.x,k),y:ts(T.y,C.y,k),width:ts(T.width,C.width,k),height:ts(T.height,C.height,k)});if(s==="horizontal"){var E=ts(0,C.height,k);return ya(ya({},C),{},{y:C.y+C.height-E,height:E})}var $=ts(0,C.width,k);return ya(ya({},C),{},{width:$})});return k>0&&(a.current=_??null),_==null?null:x.createElement(Na,null,x.createElement(nL,{props:t,data:_,showLabels:!y}))})}function Loe(e){var{data:t,isAnimationActive:a}=e,r=x.useRef(null);return a&&t&&t.length&&(r.current==null||r.current!==t)?x.createElement(Roe,{previousRectanglesRef:r,props:e}):x.createElement(nL,{props:e,data:t,showLabels:!0})}var aL=0,$oe=(e,t)=>{var a=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:a,errorVal:Yt(e,t)}};class Ioe extends x.PureComponent{render(){var{hide:t,data:a,dataKey:r,className:s,xAxisId:l,yAxisId:c,needClip:u,background:m,id:f}=this.props;if(t)return null;var h=Nt("recharts-bar",s),g=f;return x.createElement(Na,{className:h,id:f},u&&x.createElement("defs",null,x.createElement(tL,{clipPathId:g,xAxisId:l,yAxisId:c})),x.createElement(Na,{className:"recharts-bar-rectangles",clipPath:u?"url(#clipPath-".concat(g,")"):void 0},x.createElement(Doe,{data:a,dataKey:r,background:m,allOtherBarProps:this.props}),x.createElement(Loe,this.props)),this.props.children)}}var Boe={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!Go.isSsr,legendType:"rect",minPointSize:aL,xAxisId:0,yAxisId:0};function zoe(e){var{xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:h}=e,{needClip:g}=_S(t,a),b=Px(),y=qa(),j=vf(e.children,li),w=et(_=>fce(_,t,a,y,e.id,j));if(b!=="vertical"&&b!=="horizontal")return null;var S,k=w==null?void 0:w[0];return k==null||k.height==null||k.width==null?S=0:S=b==="vertical"?k.height/2:k.width/2,x.createElement(eL,{xAxisId:t,yAxisId:a,data:w,dataPointFormatter:$oe,errorBarOffset:S},x.createElement(Ioe,Ad({},e,{layout:b,needClip:g,data:w,xAxisId:t,yAxisId:a,hide:r,legendType:s,minPointSize:l,activeBar:c,animationBegin:u,animationDuration:m,animationEasing:f,isAnimationActive:h})))}function Uoe(e){var{layout:t,barSettings:{dataKey:a,minPointSize:r},pos:s,bandSize:l,xAxis:c,yAxis:u,xAxisTicks:m,yAxisTicks:f,stackedData:h,displayedData:g,offset:b,cells:y}=e,j=t==="horizontal"?u:c,w=h?j.scale.domain():null,S=$Q({numericAxis:j});return g.map((k,_)=>{var C,P,T,E,$,M;h?C=PQ(h[_],w):(C=Yt(k,a),Array.isArray(C)||(C=[S,C]));var F=xoe(r,aL)(C[1],_);if(t==="horizontal"){var K,[z,U]=[u.scale(C[0]),u.scale(C[1])];P=VA({axis:c,ticks:m,bandSize:l,offset:s.offset,entry:k,index:_}),T=(K=U??z)!==null&&K!==void 0?K:void 0,E=s.size;var ae=z-U;if($=ur(ae)?0:ae,M={x:P,y:b.top,width:E,height:b.height},Math.abs(F)>0&&Math.abs($)<Math.abs(F)){var ke=ea($||F)*(Math.abs(F)-Math.abs($));T-=ke,$+=ke}}else{var[se,O]=[c.scale(C[0]),c.scale(C[1])];if(P=se,T=VA({axis:u,ticks:f,bandSize:l,offset:s.offset,entry:k,index:_}),E=O-se,$=s.size,M={x:b.left,y:T,width:b.width,height:$},Math.abs(F)>0&&Math.abs(E)<Math.abs(F)){var H=ea(E||F)*(Math.abs(F)-Math.abs(E));E+=H}}if(P==null||T==null||E==null||$==null)return null;var G=ya(ya({},k),{},{x:P,y:T,width:E,height:$,value:h?C:C[1],payload:k,background:M,tooltipPosition:{x:P+E/2,y:T+$/2}},y&&y[_]&&y[_].props);return G}).filter(Boolean)}function Om(e){var t=xr(e,Boe),a=qa();return x.createElement(jS,{id:t.id,type:"bar"},r=>x.createElement(x.Fragment,null,x.createElement(Y7,{legendPayload:Ooe(t)}),x.createElement(vS,{fn:Moe,args:t}),x.createElement(X7,{type:"bar",id:r,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:LQ(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:a}),x.createElement(zoe,Ad({},t,{id:r}))))}Om.displayName="Bar";function sE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function m0(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?sE(Object(a),!0).forEach(function(r){Foe(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Foe(e,t,a){return(t=Voe(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Voe(e){var t=Hoe(e,"string");return typeof t=="symbol"?t:t+""}function Hoe(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var qoe=(e,t)=>t,Koe=(e,t,a)=>a,Goe=(e,t,a,r)=>r,Yoe=(e,t,a,r,s)=>s,Of=Ne([Vx,Yoe],(e,t)=>e.filter(a=>a.type==="bar").find(a=>a.id===t)),Woe=Ne([Of],e=>e==null?void 0:e.maxBarSize),Xoe=(e,t,a,r,s,l)=>l,iE=(e,t,a)=>{var r=a??e;if(!an(r))return Ea(r,t,0)},Zoe=Ne([Ct,Vx,qoe,Koe,Goe],(e,t,a,r,s)=>t.filter(l=>e==="horizontal"?l.xAxisId===a:l.yAxisId===r).filter(l=>l.isPanorama===s).filter(l=>l.hide===!1).filter(l=>l.type==="bar")),Qoe=(e,t,a,r)=>{var s=Ct(e);return s==="horizontal"?mw(e,"yAxis",a,r):mw(e,"xAxis",t,r)},Joe=(e,t,a)=>{var r=Ct(e);return r==="horizontal"?lT(e,"xAxis",t):lT(e,"yAxis",a)},ece=(e,t,a)=>{var r={},s=e.filter(Fx),l=e.filter(f=>f.stackId==null),c=s.reduce((f,h)=>(f[h.stackId]||(f[h.stackId]=[]),f[h.stackId].push(h),f),r),u=Object.entries(c).map(f=>{var[h,g]=f,b=g.map(j=>j.dataKey),y=iE(t,a,g[0].barSize);return{stackId:h,dataKeys:b,barSize:y}}),m=l.map(f=>{var h=[f.dataKey].filter(b=>b!=null),g=iE(t,a,f.barSize);return{stackId:void 0,dataKeys:h,barSize:g}});return[...u,...m]},tce=Ne([Zoe,sae,Joe],ece),nce=(e,t,a,r,s)=>{var l,c,u=Of(e,t,a,r,s);if(u!=null){var m=Ct(e),f=kR(e),{maxBarSize:h}=u,g=an(h)?f:h,b,y;return m==="horizontal"?(b=El(e,"xAxis",t,r),y=Tl(e,"xAxis",t,r)):(b=El(e,"yAxis",a,r),y=Tl(e,"yAxis",a,r)),(l=(c=Wm(b,y,!0))!==null&&c!==void 0?c:g)!==null&&l!==void 0?l:0}},rL=(e,t,a,r)=>{var s=Ct(e),l,c;return s==="horizontal"?(l=El(e,"xAxis",t,r),c=Tl(e,"xAxis",t,r)):(l=El(e,"yAxis",a,r),c=Tl(e,"yAxis",a,r)),Wm(l,c)};function ace(e,t,a,r,s){var l=r.length;if(!(l<1)){var c=Ea(e,a,0,!0),u,m=[];if(hr(r[0].barSize)){var f=!1,h=a/l,g=r.reduce((k,_)=>k+(_.barSize||0),0);g+=(l-1)*c,g>=a&&(g-=(l-1)*c,c=0),g>=a&&h>0&&(f=!0,h*=.9,g=l*h);var b=(a-g)/2>>0,y={offset:b-c,size:0};u=r.reduce((k,_)=>{var C,P={stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:y.offset+y.size+c,size:f?h:(C=_.barSize)!==null&&C!==void 0?C:0}},T=[...k,P];return y=T[T.length-1].position,T},m)}else{var j=Ea(t,a,0,!0);a-2*j-(l-1)*c<=0&&(c=0);var w=(a-2*j-(l-1)*c)/l;w>1&&(w>>=0);var S=hr(s)?Math.min(w,s):w;u=r.reduce((k,_,C)=>[...k,{stackId:_.stackId,dataKeys:_.dataKeys,position:{offset:j+(w+c)*C+(w-S)/2,size:S}}],m)}return u}}var rce=(e,t,a,r,s,l,c)=>{var u=an(c)?t:c,m=ace(a,r,s!==l?s:l,e,u);return s!==l&&m!=null&&(m=m.map(f=>m0(m0({},f),{},{position:m0(m0({},f.position),{},{offset:f.position.offset-s/2})}))),m},sce=Ne([tce,kR,rae,CR,nce,rL,Woe],rce),ice=(e,t,a,r)=>El(e,"xAxis",t,r),lce=(e,t,a,r)=>El(e,"yAxis",a,r),oce=(e,t,a,r)=>Tl(e,"xAxis",t,r),cce=(e,t,a,r)=>Tl(e,"yAxis",a,r),dce=Ne([sce,Of],(e,t)=>{if(!(e==null||t==null)){var a=e.find(r=>r.stackId===t.stackId&&t.dataKey!=null&&r.dataKeys.includes(t.dataKey));if(a!=null)return a.position}}),uce=(e,t)=>{var a=$N(t);if(!(!e||a==null||t==null)){var{stackId:r}=t;if(r!=null){var s=e[r];if(s){var{stackedData:l}=s;if(l)return l.find(c=>c.key===a)}}}},mce=Ne([Qoe,Of],uce),fce=Ne([Fn,ice,lce,oce,cce,dce,Ct,Ix,rL,mce,Of,Xoe],(e,t,a,r,s,l,c,u,m,f,h,g)=>{var{chartData:b,dataStartIndex:y,dataEndIndex:j}=u;if(!(h==null||l==null||c!=="horizontal"&&c!=="vertical"||t==null||a==null||r==null||s==null||m==null)){var{data:w}=h,S;if(w!=null&&w.length>0?S=w:S=b==null?void 0:b.slice(y,j+1),S!=null)return Uoe({layout:c,barSettings:h,pos:l,bandSize:m,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,stackedData:f,displayedData:S,offset:e,cells:g})}}),sL=e=>{var{chartData:t}=e,a=Cn(),r=qa();return x.useEffect(()=>r?()=>{}:(a(gT(t)),()=>{a(gT(void 0))}),[t,a,r]),null},lE={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},iL=pr({name:"brush",initialState:lE,reducers:{setBrushSettings(e,t){return t.payload==null?lE:t.payload}}}),{setBrushSettings:u0e}=iL.actions,hce=iL.reducer;function pce(e,t,a){return(t=xce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function xce(e){var t=gce(e,"string");return typeof t=="symbol"?t:t+""}function gce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class kS{static create(t){return new kS(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:a,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(t)+l}default:return this.scale(t)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+c}return this.scale(t)}}isInRange(t){var a=this.range(),r=a[0],s=a[a.length-1];return r<=s?t>=r&&t<=s:t>=s&&t<=r}}pce(kS,"EPS",1e-4);function bce(e){return(e%180+180)%180}var vce=function(t){var{width:a,height:r}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,l=bce(s),c=l*Math.PI/180,u=Math.atan(r/a),m=c>u&&c<Math.PI-u?r/Math.sin(c):a/Math.cos(c);return Math.abs(m)},yce={dots:[],areas:[],lines:[]},lL=pr({name:"referenceElements",initialState:yce,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var a=di(e).dots.findIndex(r=>r===t.payload);a!==-1&&e.dots.splice(a,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var a=di(e).areas.findIndex(r=>r===t.payload);a!==-1&&e.areas.splice(a,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var a=di(e).lines.findIndex(r=>r===t.payload);a!==-1&&e.lines.splice(a,1)}}}),{addDot:m0e,removeDot:f0e,addArea:h0e,removeArea:p0e,addLine:x0e,removeLine:g0e}=lL.actions,jce=lL.reducer,wce=x.createContext(void 0),Nce=e=>{var{children:t}=e,[a]=x.useState("".concat(Km("recharts"),"-clip")),r=SS();if(r==null)return null;var{x:s,y:l,width:c,height:u}=r;return x.createElement(wce.Provider,{value:a},x.createElement("defs",null,x.createElement("clipPath",{id:a},x.createElement("rect",{x:s,y:l,height:u,width:c}))),t)};function y1(e,t){for(var a in e)if({}.hasOwnProperty.call(e,a)&&(!{}.hasOwnProperty.call(t,a)||e[a]!==t[a]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function oL(e,t,a){if(t<1)return[];if(t===1&&a===void 0)return e;for(var r=[],s=0;s<e.length;s+=t)r.push(e[s]);return r}function Sce(e,t,a){var r={width:e.width+t.width,height:e.height+t.height};return vce(r,a)}function _ce(e,t,a){var r=a==="width",{x:s,y:l,width:c,height:u}=e;return t===1?{start:r?s:l,end:r?s+c:l+u}:{start:r?s+c:l+u,end:r?s:l}}function Zp(e,t,a,r,s){if(e*t<e*r||e*t>e*s)return!1;var l=a();return e*(t-e*l/2-r)>=0&&e*(t+e*l/2-s)<=0}function kce(e,t){return oL(e,t+1)}function Cce(e,t,a,r,s){for(var l=(r||[]).slice(),{start:c,end:u}=t,m=0,f=1,h=c,g=function(){var j=r==null?void 0:r[m];if(j===void 0)return{v:oL(r,f)};var w=m,S,k=()=>(S===void 0&&(S=a(j,w)),S),_=j.coordinate,C=m===0||Zp(e,_,k,h,u);C||(m=0,h=c,f+=1),C&&(h=_+e*(k()/2+s),m+=f)},b;f<=l.length;)if(b=g(),b)return b.v;return[]}function oE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function va(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?oE(Object(a),!0).forEach(function(r){Ace(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):oE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Ace(e,t,a){return(t=Tce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Tce(e){var t=Ece(e,"string");return typeof t=="symbol"?t:t+""}function Ece(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Pce(e,t,a,r,s){for(var l=(r||[]).slice(),c=l.length,{start:u}=t,{end:m}=t,f=function(b){var y=l[b],j,w=()=>(j===void 0&&(j=a(y,b)),j);if(b===c-1){var S=e*(y.coordinate+e*w()/2-m);l[b]=y=va(va({},y),{},{tickCoord:S>0?y.coordinate-S*e:y.coordinate})}else l[b]=y=va(va({},y),{},{tickCoord:y.coordinate});var k=Zp(e,y.tickCoord,w,u,m);k&&(m=y.tickCoord-e*(w()/2+s),l[b]=va(va({},y),{},{isShow:!0}))},h=c-1;h>=0;h--)f(h);return l}function Oce(e,t,a,r,s,l){var c=(r||[]).slice(),u=c.length,{start:m,end:f}=t;if(l){var h=r[u-1],g=a(h,u-1),b=e*(h.coordinate+e*g/2-f);c[u-1]=h=va(va({},h),{},{tickCoord:b>0?h.coordinate-b*e:h.coordinate});var y=Zp(e,h.tickCoord,()=>g,m,f);y&&(f=h.tickCoord-e*(g/2+s),c[u-1]=va(va({},h),{},{isShow:!0}))}for(var j=l?u-1:u,w=function(_){var C=c[_],P,T=()=>(P===void 0&&(P=a(C,_)),P);if(_===0){var E=e*(C.coordinate-e*T()/2-m);c[_]=C=va(va({},C),{},{tickCoord:E<0?C.coordinate-E*e:C.coordinate})}else c[_]=C=va(va({},C),{},{tickCoord:C.coordinate});var $=Zp(e,C.tickCoord,T,m,f);$&&(m=C.tickCoord+e*(T()/2+s),c[_]=va(va({},C),{},{isShow:!0}))},S=0;S<j;S++)w(S);return c}function CS(e,t,a){var{tick:r,ticks:s,viewBox:l,minTickGap:c,orientation:u,interval:m,tickFormatter:f,unit:h,angle:g}=e;if(!s||!s.length||!r)return[];if(We(m)||Go.isSsr){var b;return(b=kce(s,We(m)?m:0))!==null&&b!==void 0?b:[]}var y=[],j=u==="top"||u==="bottom"?"width":"height",w=h&&j==="width"?Pm(h,{fontSize:t,letterSpacing:a}):{width:0,height:0},S=(C,P)=>{var T=typeof f=="function"?f(C.value,P):C.value;return j==="width"?Sce(Pm(T,{fontSize:t,letterSpacing:a}),w,g):Pm(T,{fontSize:t,letterSpacing:a})[j]},k=s.length>=2?ea(s[1].coordinate-s[0].coordinate):1,_=_ce(l,k,j);return m==="equidistantPreserveStart"?Cce(k,_,S,s,c):(m==="preserveStart"||m==="preserveStartEnd"?y=Oce(k,_,S,s,c,m==="preserveStartEnd"):y=Pce(k,_,S,s,c),y.filter(C=>C.isShow))}var Mce=["viewBox"],Dce=["viewBox"];function rd(){return rd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},rd.apply(null,arguments)}function cE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Bn(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?cE(Object(a),!0).forEach(function(r){AS(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):cE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function dE(e,t){if(e==null)return{};var a,r,s=Rce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Rce(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function AS(e,t,a){return(t=Lce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Lce(e){var t=$ce(e,"string");return typeof t=="symbol"?t:t+""}function $ce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Il extends x.Component{constructor(t){super(t),this.tickRefs=x.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,a){var{viewBox:r}=t,s=dE(t,Mce),l=this.props,{viewBox:c}=l,u=dE(l,Dce);return!y1(r,c)||!y1(s,u)||!y1(a,this.state)}getTickLineCoord(t){var{x:a,y:r,width:s,height:l,orientation:c,tickSize:u,mirror:m,tickMargin:f}=this.props,h,g,b,y,j,w,S=m?-1:1,k=t.tickSize||u,_=We(t.tickCoord)?t.tickCoord:t.coordinate;switch(c){case"top":h=g=t.coordinate,y=r+ +!m*l,b=y-S*k,w=b-S*f,j=_;break;case"left":b=y=t.coordinate,g=a+ +!m*s,h=g-S*k,j=h-S*f,w=_;break;case"right":b=y=t.coordinate,g=a+ +m*s,h=g+S*k,j=h+S*f,w=_;break;default:h=g=t.coordinate,y=r+ +m*l,b=y+S*k,w=b+S*f,j=_;break}return{line:{x1:h,y1:b,x2:g,y2:y},tick:{x:j,y:w}}}getTickTextAnchor(){var{orientation:t,mirror:a}=this.props,r;switch(t){case"left":r=a?"start":"end";break;case"right":r=a?"end":"start";break;default:r="middle";break}return r}getTickVerticalAnchor(){var{orientation:t,mirror:a}=this.props;switch(t){case"left":case"right":return"middle";case"top":return a?"start":"end";default:return a?"end":"start"}}renderAxisLine(){var{x:t,y:a,width:r,height:s,orientation:l,mirror:c,axisLine:u}=this.props,m=Bn(Bn(Bn({},on(this.props,!1)),on(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);m=Bn(Bn({},m),{},{x1:t,y1:a+f*s,x2:t+r,y2:a+f*s})}else{var h=+(l==="left"&&!c||l==="right"&&c);m=Bn(Bn({},m),{},{x1:t+h*r,y1:a,x2:t+h*r,y2:a+s})}return x.createElement("line",rd({},m,{className:Nt("recharts-cartesian-axis-line",Al(u,"className"))}))}static renderTickItem(t,a,r){var s,l=Nt(a.className,"recharts-cartesian-axis-tick-value");if(x.isValidElement(t))s=x.cloneElement(t,Bn(Bn({},a),{},{className:l}));else if(typeof t=="function")s=t(Bn(Bn({},a),{},{className:l}));else{var c="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(c=Nt(c,t.className)),s=x.createElement(Wx,rd({},a,{className:c}),r)}return s}renderTicks(t,a){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:l,tick:c,tickFormatter:u,unit:m,padding:f}=this.props,h=CS(Bn(Bn({},this.props),{},{ticks:r}),t,a),g=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),y=Ai(this.props),j=on(c,!1),w=Bn(Bn({},y),{},{fill:"none"},on(s,!1)),S=h.map((k,_)=>{var{line:C,tick:P}=this.getTickLineCoord(k),T=Bn(Bn(Bn(Bn({textAnchor:g,verticalAnchor:b},y),{},{stroke:"none",fill:l},j),P),{},{index:_,payload:k,visibleTicksCount:h.length,tickFormatter:u,padding:f});return x.createElement(Na,rd({className:"recharts-cartesian-axis-tick",key:"tick-".concat(k.value,"-").concat(k.coordinate,"-").concat(k.tickCoord)},gx(this.props,k,_)),s&&x.createElement("line",rd({},w,C,{className:Nt("recharts-cartesian-axis-tick-line",Al(s,"className"))})),c&&Il.renderTickItem(c,T,"".concat(typeof u=="function"?u(k.value,_):k.value).concat(m||"")))});return S.length>0?x.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:a,height:r,className:s,hide:l}=this.props;if(l)return null;var{ticks:c}=this.props;return a!=null&&a<=0||r!=null&&r<=0?null:x.createElement(Na,{className:Nt("recharts-cartesian-axis",s),ref:u=>{if(u){var m=u.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(m);var f=m[0];if(f){var h=window.getComputedStyle(f).fontSize,g=window.getComputedStyle(f).letterSpacing;(h!==this.state.fontSize||g!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(f).fontSize,letterSpacing:window.getComputedStyle(f).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,c),ir.renderCallByParent(this.props))}}AS(Il,"displayName","CartesianAxis");AS(Il,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Ice=["x1","y1","x2","y2","key"],Bce=["offset"],zce=["xAxisId","yAxisId"],Uce=["xAxisId","yAxisId"];function uE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ja(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?uE(Object(a),!0).forEach(function(r){Fce(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):uE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Fce(e,t,a){return(t=Vce(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Vce(e){var t=Hce(e,"string");return typeof t=="symbol"?t:t+""}function Hce(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Po(){return Po=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Po.apply(null,arguments)}function Qp(e,t){if(e==null)return{};var a,r,s=qce(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function qce(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Kce=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:a,x:r,y:s,width:l,height:c,ry:u}=e;return x.createElement("rect",{x:r,y:s,ry:u,width:l,height:c,stroke:"none",fill:t,fillOpacity:a,className:"recharts-cartesian-grid-bg"})};function cL(e,t){var a;if(x.isValidElement(e))a=x.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var{x1:r,y1:s,x2:l,y2:c,key:u}=t,m=Qp(t,Ice),f=Ai(m),{offset:h}=f,g=Qp(f,Bce);a=x.createElement("line",Po({},g,{x1:r,y1:s,x2:l,y2:c,fill:"none",key:u}))}return a}function Gce(e){var{x:t,width:a,horizontal:r=!0,horizontalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Qp(e,zce),m=s.map((f,h)=>{var g=ja(ja({},u),{},{x1:t,y1:f,x2:t+a,y2:f,key:"line-".concat(h),index:h});return cL(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-horizontal"},m)}function Yce(e){var{y:t,height:a,vertical:r=!0,verticalPoints:s}=e;if(!r||!s||!s.length)return null;var{xAxisId:l,yAxisId:c}=e,u=Qp(e,Uce),m=s.map((f,h)=>{var g=ja(ja({},u),{},{x1:f,y1:t,x2:f,y2:t+a,key:"line-".concat(h),index:h});return cL(r,g)});return x.createElement("g",{className:"recharts-cartesian-grid-vertical"},m)}function Wce(e){var{horizontalFill:t,fillOpacity:a,x:r,y:s,width:l,height:c,horizontalPoints:u,horizontal:m=!0}=e;if(!m||!t||!t.length)return null;var f=u.map(g=>Math.round(g+s-s)).sort((g,b)=>g-b);s!==f[0]&&f.unshift(0);var h=f.map((g,b)=>{var y=!f[b+1],j=y?s+c-g:f[b+1]-g;if(j<=0)return null;var w=b%t.length;return x.createElement("rect",{key:"react-".concat(b),y:g,x:r,height:j,width:l,stroke:"none",fill:t[w],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},h)}function Xce(e){var{vertical:t=!0,verticalFill:a,fillOpacity:r,x:s,y:l,width:c,height:u,verticalPoints:m}=e;if(!t||!a||!a.length)return null;var f=m.map(g=>Math.round(g+s-s)).sort((g,b)=>g-b);s!==f[0]&&f.unshift(0);var h=f.map((g,b)=>{var y=!f[b+1],j=y?s+c-g:f[b+1]-g;if(j<=0)return null;var w=b%a.length;return x.createElement("rect",{key:"react-".concat(b),x:g,y:l,width:j,height:u,stroke:"none",fill:a[w],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return x.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},h)}var Zce=(e,t)=>{var{xAxis:a,width:r,height:s,offset:l}=e;return c8(CS(ja(ja(ja({},Il.defaultProps),a),{},{ticks:d8(a),viewBox:{x:0,y:0,width:r,height:s}})),l.left,l.left+l.width,t)},Qce=(e,t)=>{var{yAxis:a,width:r,height:s,offset:l}=e;return c8(CS(ja(ja(ja({},Il.defaultProps),a),{},{ticks:d8(a),viewBox:{x:0,y:0,width:r,height:s}})),l.top,l.top+l.height,t)},Jce={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function Nl(e){var t=x8(),a=g8(),r=p8(),s=ja(ja({},xr(e,Jce)),{},{x:We(e.x)?e.x:r.left,y:We(e.y)?e.y:r.top,width:We(e.width)?e.width:r.width,height:We(e.height)?e.height:r.height}),{xAxisId:l,yAxisId:c,x:u,y:m,width:f,height:h,syncWithTicks:g,horizontalValues:b,verticalValues:y}=s,j=qa(),w=et(F=>oT(F,"xAxis",l,j)),S=et(F=>oT(F,"yAxis",c,j));if(!We(f)||f<=0||!We(h)||h<=0||!We(u)||u!==+u||!We(m)||m!==+m)return null;var k=s.verticalCoordinatesGenerator||Zce,_=s.horizontalCoordinatesGenerator||Qce,{horizontalPoints:C,verticalPoints:P}=s;if((!C||!C.length)&&typeof _=="function"){var T=b&&b.length,E=_({yAxis:S?ja(ja({},S),{},{ticks:T?b:S.ticks}):void 0,width:t,height:a,offset:r},T?!0:g);Em(Array.isArray(E),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(C=E)}if((!P||!P.length)&&typeof k=="function"){var $=y&&y.length,M=k({xAxis:w?ja(ja({},w),{},{ticks:$?y:w.ticks}):void 0,width:t,height:a,offset:r},$?!0:g);Em(Array.isArray(M),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof M,"]")),Array.isArray(M)&&(P=M)}return x.createElement("g",{className:"recharts-cartesian-grid"},x.createElement(Kce,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),x.createElement(Wce,Po({},s,{horizontalPoints:C})),x.createElement(Xce,Po({},s,{verticalPoints:P})),x.createElement(Gce,Po({},s,{offset:r,horizontalPoints:C,xAxis:w,yAxis:S})),x.createElement(Yce,Po({},s,{offset:r,verticalPoints:P,xAxis:w,yAxis:S})))}Nl.displayName="CartesianGrid";var dL=(e,t,a,r)=>El(e,"xAxis",t,r),uL=(e,t,a,r)=>Tl(e,"xAxis",t,r),mL=(e,t,a,r)=>El(e,"yAxis",a,r),fL=(e,t,a,r)=>Tl(e,"yAxis",a,r),ede=Ne([Ct,dL,mL,uL,fL],(e,t,a,r,s)=>Ml(e,"xAxis")?Wm(t,r,!1):Wm(a,s,!1)),tde=(e,t,a,r,s)=>s;function nde(e){return e.type==="line"}var ade=Ne([Vx,tde],(e,t)=>e.filter(nde).find(a=>a.id===t)),rde=Ne([Ct,dL,mL,uL,fL,ade,ede,Ix],(e,t,a,r,s,l,c,u)=>{var{chartData:m,dataStartIndex:f,dataEndIndex:h}=u;if(!(l==null||t==null||a==null||r==null||s==null||r.length===0||s.length===0||c==null)){var{dataKey:g,data:b}=l,y;if(b!=null&&b.length>0?y=b:y=m==null?void 0:m.slice(f,h+1),y!=null)return _de({layout:e,xAxis:t,yAxis:a,xAxisTicks:r,yAxisTicks:s,dataKey:g,bandSize:c,displayedData:y})}}),sde=["id"],ide=["type","layout","connectNulls","needClip"],lde=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function mE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function ns(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?mE(Object(a),!0).forEach(function(r){ode(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):mE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function ode(e,t,a){return(t=cde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function cde(e){var t=dde(e,"string");return typeof t=="symbol"?t:t+""}function dde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function TS(e,t){if(e==null)return{};var a,r,s=ude(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function ude(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function qo(){return qo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},qo.apply(null,arguments)}var mde=e=>{var{dataKey:t,name:a,stroke:r,legendType:s,hide:l}=e;return[{inactive:l,dataKey:t,type:s,color:r,value:Bd(a,t),payload:e}]};function fde(e){var{dataKey:t,data:a,stroke:r,strokeWidth:s,fill:l,name:c,hide:u,unit:m}=e;return{dataDefinedOnItem:a,positions:void 0,settings:{stroke:r,strokeWidth:s,fill:l,dataKey:t,nameKey:void 0,name:Bd(c,t),hide:u,type:e.tooltipType,color:e.stroke,unit:m}}}var hL=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function hde(e,t){for(var a=e.length%2!==0?[...e,0]:e,r=[],s=0;s<t;++s)r=[...r,...a];return r}var pde=(e,t,a)=>{var r=a.reduce((g,b)=>g+b);if(!r)return hL(t,e);for(var s=Math.floor(e/r),l=e%r,c=t-e,u=[],m=0,f=0;m<a.length;f+=a[m],++m)if(f+a[m]>l){u=[...a.slice(0,m),l-f];break}var h=u.length%2===0?[0,c]:[c];return[...hde(a,s),...u,...h].map(g=>"".concat(g,"px")).join(", ")};function xde(e,t){var a;if(x.isValidElement(e))a=x.cloneElement(e,t);else if(typeof e=="function")a=e(t);else{var r=Nt("recharts-line-dot",typeof e!="boolean"?e.className:"");a=x.createElement(U7,qo({},t,{className:r}))}return a}function gde(e,t){return e==null?!1:t?!0:e.length===1}function bde(e){var{clipPathId:t,points:a,props:r}=e,{dot:s,dataKey:l,needClip:c}=r;if(!gde(a,s))return null;var{id:u}=r,m=TS(r,sde),f=lD(s),h=Ai(m),g=on(s,!0),b=a.map((j,w)=>{var S=ns(ns(ns({key:"dot-".concat(w),r:3},h),g),{},{index:w,cx:j.x,cy:j.y,dataKey:l,value:j.value,payload:j.payload,points:a});return xde(s,S)}),y={clipPath:c?"url(#clipPath-".concat(f?"":"dots-").concat(t,")"):void 0};return x.createElement(Na,qo({className:"recharts-line-dots",key:"dots"},y),b)}function yw(e){var{clipPathId:t,pathRef:a,points:r,strokeDasharray:s,props:l,showLabels:c}=e,{type:u,layout:m,connectNulls:f,needClip:h}=l,g=TS(l,ide),b=ns(ns({},on(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:h?"url(#clipPath-".concat(t,")"):void 0,points:r,type:u,layout:m,connectNulls:f,strokeDasharray:s??l.strokeDasharray});return x.createElement(x.Fragment,null,(r==null?void 0:r.length)>1&&x.createElement(nN,qo({},b,{pathRef:a})),x.createElement(bde,{points:r,clipPathId:t,props:l}),c&&wl.renderCallByParent(l,r))}function vde(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function yde(e){var{clipPathId:t,props:a,pathRef:r,previousPointsRef:s,longestAnimatedLengthRef:l}=e,{points:c,strokeDasharray:u,isAnimationActive:m,animationBegin:f,animationDuration:h,animationEasing:g,animateNewValues:b,width:y,height:j,onAnimationEnd:w,onAnimationStart:S}=a,k=s.current,_=yS(a,"recharts-line-"),[C,P]=x.useState(!1),T=x.useCallback(()=>{typeof w=="function"&&w(),P(!1)},[w]),E=x.useCallback(()=>{typeof S=="function"&&S(),P(!0)},[S]),$=vde(r.current),M=l.current;return x.createElement(wS,{begin:f,duration:h,isActive:m,easing:g,onAnimationEnd:T,onAnimationStart:E,key:_},F=>{var K=ts(M,$+M,F),z=Math.min(K,$),U;if(u){var ae="".concat(u).split(/[,\s]+/gim).map(O=>parseFloat(O));U=pde(z,$,ae)}else U=hL($,z);if(k){var ke=k.length/c.length,se=F===1?c:c.map((O,H)=>{var G=Math.floor(H*ke);if(k[G]){var B=k[G];return ns(ns({},O),{},{x:ts(B.x,O.x,F),y:ts(B.y,O.y,F)})}return b?ns(ns({},O),{},{x:ts(y*2,O.x,F),y:ts(j/2,O.y,F)}):ns(ns({},O),{},{x:O.x,y:O.y})});return s.current=se,x.createElement(yw,{props:a,points:se,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:U})}return F>0&&$>0&&(s.current=c,l.current=z),x.createElement(yw,{props:a,points:c,clipPathId:t,pathRef:r,showLabels:!C,strokeDasharray:U})})}function jde(e){var{clipPathId:t,props:a}=e,{points:r,isAnimationActive:s}=a,l=x.useRef(null),c=x.useRef(0),u=x.useRef(null),m=l.current;return s&&r&&r.length&&m!==r?x.createElement(yde,{props:a,clipPathId:t,previousPointsRef:l,longestAnimatedLengthRef:c,pathRef:u}):x.createElement(yw,{props:a,points:r,clipPathId:t,pathRef:u,showLabels:!0})}var wde=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Yt(e.payload,t)});class Nde extends x.Component{render(){var t,{hide:a,dot:r,points:s,className:l,xAxisId:c,yAxisId:u,top:m,left:f,width:h,height:g,id:b,needClip:y}=this.props;if(a)return null;var j=Nt("recharts-line",l),w=b,{r:S=3,strokeWidth:k=2}=(t=on(r,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},_=lD(r),C=S*2+k;return x.createElement(x.Fragment,null,x.createElement(Na,{className:j},y&&x.createElement("defs",null,x.createElement(tL,{clipPathId:w,xAxisId:c,yAxisId:u}),!_&&x.createElement("clipPath",{id:"clipPath-dots-".concat(w)},x.createElement("rect",{x:f-C/2,y:m-C/2,width:h+C,height:g+C}))),x.createElement(jde,{props:this.props,clipPathId:w}),x.createElement(eL,{xAxisId:c,yAxisId:u,data:s,dataPointFormatter:wde,errorBarOffset:0},this.props.children)),x.createElement(ioe,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var pL={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!Go.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function Sde(e){var t=xr(e,pL),{activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,connectNulls:u,dot:m,hide:f,isAnimationActive:h,label:g,legendType:b,xAxisId:y,yAxisId:j,id:w}=t,S=TS(t,lde),{needClip:k}=_S(y,j),_=SS(),C=Px(),P=qa(),T=et(K=>rde(K,y,j,P,w));if(C!=="horizontal"&&C!=="vertical"||T==null||_==null)return null;var{height:E,width:$,x:M,y:F}=_;return x.createElement(Nde,qo({},S,{id:w,connectNulls:u,dot:m,activeDot:a,animateNewValues:r,animationBegin:s,animationDuration:l,animationEasing:c,isAnimationActive:h,hide:f,label:g,legendType:b,xAxisId:y,yAxisId:j,points:T,layout:C,height:E,width:$,left:M,top:F,needClip:k}))}function _de(e){var{layout:t,xAxis:a,yAxis:r,xAxisTicks:s,yAxisTicks:l,dataKey:c,bandSize:u,displayedData:m}=e;return m.map((f,h)=>{var g=Yt(f,c);if(t==="horizontal"){var b=FA({axis:a,ticks:s,bandSize:u,entry:f,index:h}),y=an(g)?null:r.scale(g);return{x:b,y,value:g,payload:f}}var j=an(g)?null:a.scale(g),w=FA({axis:r,ticks:l,bandSize:u,entry:f,index:h});return j==null||w==null?null:{x:j,y:w,value:g,payload:f}}).filter(Boolean)}function Xx(e){var t=xr(e,pL),a=qa();return x.createElement(jS,{id:t.id,type:"line"},r=>x.createElement(x.Fragment,null,x.createElement(Y7,{legendPayload:mde(t)}),x.createElement(vS,{fn:fde,args:t}),x.createElement(X7,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:a}),x.createElement(Sde,qo({},t,{id:r}))))}Xx.displayName="Line";function fE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function hE(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?fE(Object(a),!0).forEach(function(r){kde(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):fE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function kde(e,t,a){return(t=Cde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Cde(e){var t=Ade(e,"string");return typeof t=="symbol"?t:t+""}function Ade(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Tde={xAxis:{},yAxis:{},zAxis:{}},xL=pr({name:"cartesianAxis",initialState:Tde,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:a,width:r}=t.payload;e.yAxis[a]&&(e.yAxis[a]=hE(hE({},e.yAxis[a]),{},{width:r}))}}}),{addXAxis:Ede,removeXAxis:Pde,addYAxis:Ode,removeYAxis:Mde,addZAxis:b0e,removeZAxis:v0e,updateYAxisWidth:Dde}=xL.actions,Rde=xL.reducer,Lde=["children"],$de=["dangerouslySetInnerHTML","ticks"];function gL(e,t,a){return(t=Ide(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Ide(e){var t=Bde(e,"string");return typeof t=="symbol"?t:t+""}function Bde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},jw.apply(null,arguments)}function bL(e,t){if(e==null)return{};var a,r,s=zde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function zde(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Ude(e){var t=Cn(),a=x.useMemo(()=>{var{children:l}=e,c=bL(e,Lde);return c},[e]),r=et(l=>Oi(l,a.id)),s=a===r;return x.useEffect(()=>(t(Ede(a)),()=>{t(Pde(a))}),[a,t]),s?e.children:null}var Fde=e=>{var{xAxisId:t,className:a}=e,r=et(h8),s=qa(),l="xAxis",c=et(y=>Kd(y,l,t,s)),u=et(y=>i7(y,l,t,s)),m=et(y=>n7(y,t)),f=et(y=>Wae(y,t));if(m==null||f==null)return null;var{dangerouslySetInnerHTML:h,ticks:g}=e,b=bL(e,$de);return x.createElement(Il,jw({},b,{scale:c,x:f.x,y:f.y,width:m.width,height:m.height,className:Nt("recharts-".concat(l," ").concat(l),a),viewBox:r,ticks:u}))},Vde=e=>{var t,a,r,s,l;return x.createElement(Ude,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter},x.createElement(Fde,e))};class mi extends x.Component{render(){return x.createElement(Vde,this.props)}}gL(mi,"displayName","XAxis");gL(mi,"defaultProps",{allowDataOverflow:ar.allowDataOverflow,allowDecimals:ar.allowDecimals,allowDuplicatedCategory:ar.allowDuplicatedCategory,height:ar.height,hide:!1,mirror:ar.mirror,orientation:ar.orientation,padding:ar.padding,reversed:ar.reversed,scale:ar.scale,tickCount:ar.tickCount,type:ar.type,xAxisId:0});var Hde=e=>{var{ticks:t,label:a,labelGapWithTick:r=5,tickSize:s=0,tickMargin:l=0}=e,c=0;if(t){t.forEach(h=>{if(h){var g=h.getBoundingClientRect();g.width>c&&(c=g.width)}});var u=a?a.getBoundingClientRect().width:0,m=s+l,f=c+m+u+(a?r:0);return Math.round(f)}return 0},qde=["dangerouslySetInnerHTML","ticks"];function vL(e,t,a){return(t=Kde(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Kde(e){var t=Gde(e,"string");return typeof t=="symbol"?t:t+""}function Gde(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ww(){return ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},ww.apply(null,arguments)}function Yde(e,t){if(e==null)return{};var a,r,s=Wde(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Wde(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Xde(e){var t=Cn();return x.useEffect(()=>(t(Ode(e)),()=>{t(Mde(e))}),[e,t]),null}var Zde=e=>{var t,{yAxisId:a,className:r,width:s,label:l}=e,c=x.useRef(null),u=x.useRef(null),m=et(h8),f=qa(),h=Cn(),g="yAxis",b=et(C=>Kd(C,g,a,f)),y=et(C=>a7(C,a)),j=et(C=>Xae(C,a)),w=et(C=>i7(C,g,a,f));if(x.useLayoutEffect(()=>{var C;if(!(s!=="auto"||!y||uS(l)||x.isValidElement(l))){var P=c.current,T=P==null||(C=P.tickRefs)===null||C===void 0?void 0:C.current,{tickSize:E,tickMargin:$}=P.props,M=Hde({ticks:T,label:u.current,labelGapWithTick:5,tickSize:E,tickMargin:$});Math.round(y.width)!==Math.round(M)&&h(Dde({id:a,width:M}))}},[c,c==null||(t=c.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,y==null?void 0:y.width,y,h,l,a,s]),y==null||j==null)return null;var{dangerouslySetInnerHTML:S,ticks:k}=e,_=Yde(e,qde);return x.createElement(Il,ww({},_,{ref:c,labelRef:u,scale:b,x:j.x,y:j.y,width:y.width,height:y.height,className:Nt("recharts-".concat(g," ").concat(g),r),viewBox:m,ticks:w}))},Qde=e=>{var t,a,r,s,l;return x.createElement(x.Fragment,null,x.createElement(Xde,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(a=e.includeHidden)!==null&&a!==void 0?a:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(r=e.angle)!==null&&r!==void 0?r:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(l=e.tick)!==null&&l!==void 0?l:!0,tickFormatter:e.tickFormatter}),x.createElement(Zde,e))},Jde={allowDataOverflow:rr.allowDataOverflow,allowDecimals:rr.allowDecimals,allowDuplicatedCategory:rr.allowDuplicatedCategory,hide:!1,mirror:rr.mirror,orientation:rr.orientation,padding:rr.padding,reversed:rr.reversed,scale:rr.scale,tickCount:rr.tickCount,type:rr.type,width:rr.width,yAxisId:0};class fi extends x.Component{render(){return x.createElement(Qde,this.props)}}vL(fi,"displayName","YAxis");vL(fi,"defaultProps",Jde);var j1={exports:{}},w1={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pE;function eue(){if(pE)return w1;pE=1;var e=Pd();function t(m,f){return m===f&&(m!==0||1/m===1/f)||m!==m&&f!==f}var a=typeof Object.is=="function"?Object.is:t,r=e.useSyncExternalStore,s=e.useRef,l=e.useEffect,c=e.useMemo,u=e.useDebugValue;return w1.useSyncExternalStoreWithSelector=function(m,f,h,g,b){var y=s(null);if(y.current===null){var j={hasValue:!1,value:null};y.current=j}else j=y.current;y=c(function(){function S(T){if(!k){if(k=!0,_=T,T=g(T),b!==void 0&&j.hasValue){var E=j.value;if(b(E,T))return C=E}return C=T}if(E=C,a(_,T))return E;var $=g(T);return b!==void 0&&b(E,$)?(_=T,E):(_=T,C=$)}var k=!1,_,C,P=h===void 0?null:h;return[function(){return S(f())},P===null?void 0:function(){return S(P())}]},[f,h,g,b]);var w=r(m,y[0],y[1]);return l(function(){j.hasValue=!0,j.value=w},[w]),u(w),w},w1}var xE;function tue(){return xE||(xE=1,j1.exports=eue()),j1.exports}tue();function nue(e){e()}function aue(){let e=null,t=null;return{clear(){e=null,t=null},notify(){nue(()=>{let a=e;for(;a;)a.callback(),a=a.next})},get(){const a=[];let r=e;for(;r;)a.push(r),r=r.next;return a},subscribe(a){let r=!0;const s=t={callback:a,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!r||e===null||(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var gE={notify(){},get:()=>[]};function rue(e,t){let a,r=gE,s=0,l=!1;function c(w){h();const S=r.subscribe(w);let k=!1;return()=>{k||(k=!0,S(),g())}}function u(){r.notify()}function m(){j.onStateChange&&j.onStateChange()}function f(){return l}function h(){s++,a||(a=e.subscribe(m),r=aue())}function g(){s--,a&&s===0&&(a(),a=void 0,r.clear(),r=gE)}function b(){l||(l=!0,h())}function y(){l&&(l=!1,g())}const j={addNestedSub:c,notifyNestedSubs:u,handleChangeWrapper:m,isSubscribed:f,trySubscribe:b,tryUnsubscribe:y,getListeners:()=>r};return j}var sue=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",iue=sue(),lue=()=>typeof navigator<"u"&&navigator.product==="ReactNative",oue=lue(),cue=()=>iue||oue?x.useLayoutEffect:x.useEffect,due=cue(),N1=Symbol.for("react-redux-context"),S1=typeof globalThis<"u"?globalThis:{};function uue(){if(!x.createContext)return{};const e=S1[N1]??(S1[N1]=new Map);let t=e.get(x.createContext);return t||(t=x.createContext(null),e.set(x.createContext,t)),t}var mue=uue();function fue(e){const{children:t,context:a,serverState:r,store:s}=e,l=x.useMemo(()=>{const m=rue(s);return{store:s,subscription:m,getServerState:r?()=>r:void 0}},[s,r]),c=x.useMemo(()=>s.getState(),[s]);due(()=>{const{subscription:m}=l;return m.onStateChange=m.notifyNestedSubs,m.trySubscribe(),c!==s.getState()&&m.notifyNestedSubs(),()=>{m.tryUnsubscribe(),m.onStateChange=void 0}},[l,c]);const u=a||mue;return x.createElement(u.Provider,{value:l},t)}var hue=fue,pue=(e,t)=>t,ES=Ne([pue,Ct,MR,Hn,j7,Mi,tse,Fn],ise),PS=e=>{var t=e.currentTarget.getBoundingClientRect(),a=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/a),chartY:Math.round((e.clientY-t.top)/r)}},yL=Ir("mouseClick"),jL=yf();jL.startListening({actionCreator:yL,effect:(e,t)=>{var a=e.payload,r=ES(t.getState(),PS(a));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(cre({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var Nw=Ir("mouseMove"),wL=yf();wL.startListening({actionCreator:Nw,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=tS(r,r.tooltip.settings.shared),l=ES(r,PS(a));s==="axis"&&((l==null?void 0:l.activeIndex)!=null?t.dispatch(h7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate})):t.dispatch(f7()))}});function xue(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var bE={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},NL=pr({name:"rootProps",initialState:bE,reducers:{updateOptions:(e,t)=>{var a;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(a=t.payload.barGap)!==null&&a!==void 0?a:bE.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),gue=NL.reducer,{updateOptions:bue}=NL.actions,SL=pr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:vue}=SL.actions,yue=SL.reducer,_L=Ir("keyDown"),kL=Ir("focus"),OS=yf();OS.startListening({actionCreator:_L,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip,l=e.payload;if(!(l!=="ArrowRight"&&l!=="ArrowLeft"&&l!=="Enter")){var c=Number(nS(s,Yd(a))),u=Mi(a);if(l==="Enter"){var m=Kp(a,"axis","hover",String(s.index));t.dispatch(hw({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:m}));return}var f=ere(a),h=f==="left-to-right"?1:-1,g=l==="ArrowRight"?1:-1,b=c+g*h;if(!(u==null||b>=u.length||b<0)){var y=Kp(a,"axis","hover",String(b));t.dispatch(hw({active:!0,activeIndex:b.toString(),activeDataKey:void 0,activeCoordinate:y}))}}}}});OS.startListening({actionCreator:kL,effect:(e,t)=>{var a=t.getState(),r=a.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:s}=a.tooltip;if(!s.active&&s.index==null){var l="0",c=Kp(a,"axis","hover",String(l));t.dispatch(hw({activeDataKey:void 0,active:!0,activeIndex:l,activeCoordinate:c}))}}}});var Or=Ir("externalEvent"),CL=yf();CL.startListening({actionCreator:Or,effect:(e,t)=>{if(e.payload.handler!=null){var a=t.getState(),r={activeCoordinate:qre(a),activeDataKey:_7(a),activeIndex:Pl(a),activeLabel:S7(a),activeTooltipIndex:Pl(a),isTooltipActive:Kre(a)};e.payload.handler(r,e.payload.reactEvent)}}});var jue=Ne([Gd],e=>e.tooltipItemPayloads),wue=Ne([jue,Ef,(e,t,a)=>t,(e,t,a)=>a],(e,t,a,r)=>{var s=e.find(u=>u.settings.dataKey===r);if(s!=null){var{positions:l}=s;if(l!=null){var c=t(l,a);return c}}}),AL=Ir("touchMove"),TL=yf();TL.startListening({actionCreator:AL,effect:(e,t)=>{var a=e.payload,r=t.getState(),s=tS(r,r.tooltip.settings.shared);if(s==="axis"){var l=ES(r,PS({clientX:a.touches[0].clientX,clientY:a.touches[0].clientY,currentTarget:a.currentTarget}));(l==null?void 0:l.activeIndex)!=null&&t.dispatch(h7({activeIndex:l.activeIndex,activeDataKey:void 0,activeCoordinate:l.activeCoordinate}))}else if(s==="item"){var c,u=a.touches[0],m=document.elementFromPoint(u.clientX,u.clientY);if(!m||!m.getAttribute)return;var f=m.getAttribute(m8),h=(c=m.getAttribute(f8))!==null&&c!==void 0?c:void 0,g=wue(t.getState(),f,h);t.dispatch(m7({activeDataKey:h,activeIndex:f,activeCoordinate:g}))}}});var Nue=ID({brush:hce,cartesianAxis:Rde,chartData:wse,errorBars:boe,graphicalItems:Cle,layout:pQ,legend:JQ,options:gse,polarAxis:Gie,polarOptions:yue,referenceElements:jce,rootProps:gue,tooltip:dre}),Sue=function(t){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return zZ({reducer:Nue,preloadedState:t,middleware:r=>r({serializableCheck:!1}).concat([jL.middleware,wL.middleware,OS.middleware,CL.middleware,TL.middleware]),devTools:{serialize:{replacer:xue},name:"recharts-".concat(a)}})};function EL(e){var{preloadedState:t,children:a,reduxStoreName:r}=e,s=qa(),l=x.useRef(null);if(s)return a;l.current==null&&(l.current=Sue(t,r));var c=G2;return x.createElement(hue,{context:c,store:l.current},a)}function PL(e){var{layout:t,width:a,height:r,margin:s}=e,l=Cn(),c=qa();return x.useEffect(()=>{c||(l(mQ(t)),l(fQ({width:a,height:r})),l(uQ(s)))},[l,c,t,a,r,s]),null}function OL(e){var t=Cn();return x.useEffect(()=>{t(bue(e))},[t,e]),null}var _ue=["children"];function kue(e,t){if(e==null)return{};var a,r,s=Cue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Cue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}function Jp(){return Jp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Jp.apply(null,arguments)}var Aue={width:"100%",height:"100%"},Tue=x.forwardRef((e,t)=>{var a=x8(),r=g8(),s=j8();if(!Nd(a)||!Nd(r))return null;var{children:l,otherAttributes:c,title:u,desc:m}=e,f,h;return typeof c.tabIndex=="number"?f=c.tabIndex:f=s?0:void 0,typeof c.role=="string"?h=c.role:h=s?"application":void 0,x.createElement(oD,Jp({},c,{title:u,desc:m,role:h,tabIndex:f,width:a,height:r,style:Aue,ref:t}),l)}),Eue=e=>{var{children:t}=e,a=et(Ex);if(!a)return null;var{width:r,height:s,y:l,x:c}=a;return x.createElement(oD,{width:r,height:s,x:c,y:l},t)},vE=x.forwardRef((e,t)=>{var{children:a}=e,r=kue(e,_ue),s=qa();return s?x.createElement(Eue,null,a):x.createElement(Tue,Jp({ref:t},r),a)});function Pue(){var e=Cn(),[t,a]=x.useState(null),r=et(HQ);return x.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),l=s.width/t.offsetWidth;hr(l)&&l!==r&&e(hQ(l))}},[t,e,r]),a}function yE(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),a.push.apply(a,r)}return a}function Oue(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?arguments[t]:{};t%2?yE(Object(a),!0).forEach(function(r){Mue(e,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yE(Object(a)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(a,r))})}return e}function Mue(e,t,a){return(t=Due(t))in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function Due(e){var t=Rue(e,"string");return typeof t=="symbol"?t:t+""}function Rue(e,t){if(typeof e!="object"||!e)return e;var a=e[Symbol.toPrimitive];if(a!==void 0){var r=a.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lue=x.forwardRef((e,t)=>{var{children:a,className:r,height:s,onClick:l,onContextMenu:c,onDoubleClick:u,onMouseDown:m,onMouseEnter:f,onMouseLeave:h,onMouseMove:g,onMouseUp:b,onTouchEnd:y,onTouchMove:j,onTouchStart:w,style:S,width:k}=e,_=Cn(),[C,P]=x.useState(null),[T,E]=x.useState(null);_se();var $=Pue(),M=x.useCallback(R=>{$(R),typeof t=="function"&&t(R),P(R),E(R)},[$,t,P,E]),F=x.useCallback(R=>{_(yL(R)),_(Or({handler:l,reactEvent:R}))},[_,l]),K=x.useCallback(R=>{_(Nw(R)),_(Or({handler:f,reactEvent:R}))},[_,f]),z=x.useCallback(R=>{_(f7()),_(Or({handler:h,reactEvent:R}))},[_,h]),U=x.useCallback(R=>{_(Nw(R)),_(Or({handler:g,reactEvent:R}))},[_,g]),ae=x.useCallback(()=>{_(kL())},[_]),ke=x.useCallback(R=>{_(_L(R.key))},[_]),se=x.useCallback(R=>{_(Or({handler:c,reactEvent:R}))},[_,c]),O=x.useCallback(R=>{_(Or({handler:u,reactEvent:R}))},[_,u]),H=x.useCallback(R=>{_(Or({handler:m,reactEvent:R}))},[_,m]),G=x.useCallback(R=>{_(Or({handler:b,reactEvent:R}))},[_,b]),B=x.useCallback(R=>{_(Or({handler:w,reactEvent:R}))},[_,w]),A=x.useCallback(R=>{_(AL(R)),_(Or({handler:j,reactEvent:R}))},[_,j]),L=x.useCallback(R=>{_(Or({handler:y,reactEvent:R}))},[_,y]);return x.createElement(P7.Provider,{value:C},x.createElement(LW.Provider,{value:T},x.createElement("div",{className:Nt("recharts-wrapper",r),style:Oue({position:"relative",cursor:"default",width:k,height:s},S),onClick:F,onContextMenu:se,onDoubleClick:O,onFocus:ae,onKeyDown:ke,onMouseDown:H,onMouseEnter:K,onMouseLeave:z,onMouseMove:U,onMouseUp:G,onTouchEnd:L,onTouchMove:A,onTouchStart:B,ref:M},a)))}),$ue=["children","className","width","height","style","compact","title","desc"];function Iue(e,t){if(e==null)return{};var a,r,s=Bue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Bue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var ML=x.forwardRef((e,t)=>{var{children:a,className:r,width:s,height:l,style:c,compact:u,title:m,desc:f}=e,h=Iue(e,$ue),g=Ai(h);return u?x.createElement(vE,{otherAttributes:g,title:m,desc:f},a):x.createElement(Lue,{className:r,style:c,width:s,height:l,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},x.createElement(vE,{otherAttributes:g,title:m,desc:f,ref:t},x.createElement(Nce,null,a)))}),zue=["width","height"];function Sw(){return Sw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},Sw.apply(null,arguments)}function Uue(e,t){if(e==null)return{};var a,r,s=Fue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Fue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Vue={top:5,right:5,bottom:5,left:5},Hue={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Vue,reverseStackOrder:!1,syncMethod:"index"},DL=x.forwardRef(function(t,a){var r,s=xr(t.categoricalChartProps,Hue),{width:l,height:c}=s,u=Uue(s,zue);if(!Nd(l)||!Nd(c))return null;var{chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,categoricalChartProps:b}=t,y={chartName:m,defaultTooltipEventType:f,validateTooltipEventTypes:h,tooltipPayloadSearcher:g,eventEmitter:void 0};return x.createElement(EL,{preloadedState:{options:y},reduxStoreName:(r=b.id)!==null&&r!==void 0?r:m},x.createElement(sL,{chartData:b.data}),x.createElement(PL,{width:l,height:c,layout:s.layout,margin:s.margin}),x.createElement(OL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(ML,Sw({},u,{width:l,height:c,ref:a})))}),que=["axis"],MS=x.forwardRef((e,t)=>x.createElement(DL,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:que,tooltipPayloadSearcher:dS,categoricalChartProps:e,ref:t})),Kue=["axis","item"],Q0=x.forwardRef((e,t)=>x.createElement(DL,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Kue,tooltipPayloadSearcher:dS,categoricalChartProps:e,ref:t}));function Gue(e){var t=Cn();return x.useEffect(()=>{t(vue(e))},[t,e]),null}var Yue=["width","height","layout"];function _w(){return _w=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)({}).hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},_w.apply(null,arguments)}function Wue(e,t){if(e==null)return{};var a,r,s=Xue(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(r=0;r<l.length;r++)a=l[r],t.indexOf(a)===-1&&{}.propertyIsEnumerable.call(e,a)&&(s[a]=e[a])}return s}function Xue(e,t){if(e==null)return{};var a={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;a[r]=e[r]}return a}var Zue={top:5,right:5,bottom:5,left:5},Que={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Zue,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},Jue=x.forwardRef(function(t,a){var r,s=xr(t.categoricalChartProps,Que),{width:l,height:c,layout:u}=s,m=Wue(s,Yue);if(!Nd(l)||!Nd(c))return null;var{chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:b}=t,y={chartName:f,defaultTooltipEventType:h,validateTooltipEventTypes:g,tooltipPayloadSearcher:b,eventEmitter:void 0};return x.createElement(EL,{preloadedState:{options:y},reduxStoreName:(r=s.id)!==null&&r!==void 0?r:f},x.createElement(sL,{chartData:s.data}),x.createElement(PL,{width:l,height:c,layout:u,margin:s.margin}),x.createElement(OL,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),x.createElement(Gue,{cx:s.cx,cy:s.cy,startAngle:s.startAngle,endAngle:s.endAngle,innerRadius:s.innerRadius,outerRadius:s.outerRadius}),x.createElement(ML,_w({width:l,height:c},m,{ref:a})))}),eme=["item"],tme={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},ex=x.forwardRef((e,t)=>{var a=xr(e,tme);return x.createElement(Jue,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:eme,tooltipPayloadSearcher:dS,categoricalChartProps:a,ref:t})});function nme(){const[e,t]=x.useState({leads:0,files:0,assistants:0,phone_numbers:0,knowledge_base:0}),[a,r]=x.useState(!0),[s,l]=x.useState(""),c="https://aisdr-dbt.ddns.net",{width:u}=ame(),m=(u||0)>=1024,f=!m;x.useEffect(()=>{let w=!0;return(async()=>{try{r(!0),l("");const S=localStorage.getItem("token"),k=`${c}/api/statistics`,_=await fetch(k,{method:"GET",headers:{Accept:"application/json",...S?{Authorization:`Bearer ${S}`}:{}},mode:"cors"});if(!_.ok){const P=await _.text();throw new Error(`HTTP ${_.status}${P?`  ${P}`:""}`)}const C=await _.json();if(!w)return;t({leads:Number((C==null?void 0:C.leads)??0),files:Number((C==null?void 0:C.files)??0),assistants:Number((C==null?void 0:C.assistants)??0),phone_numbers:Number((C==null?void 0:C.phone_numbers)??0),knowledge_base:Number((C==null?void 0:C.knowledge_base)??0)})}catch(S){if(!w)return;const k=S&&S.message||"Failed to load stats",_=k.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(k+_)}finally{w&&r(!1)}})(),()=>{w=!1}},[c]);const h={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4"},g=w=>{const k=Math.max(0,Number(w)||0),_=Array.from({length:12},(C,P)=>{const T=P/11,E=Math.sin(T*Math.PI)*.4,$=(Math.random()-.5)*.12,M=Math.max(0,Math.round(k*(.6+E+$)));return{label:`P${P+1}`,value:M}});return _.length&&(_[_.length-1].value=k),_},b=x.useMemo(()=>[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}],[e]),y=x.useMemo(()=>{const w=Math.max(1,e.leads+e.files+e.assistants+e.phone_numbers+e.knowledge_base);return[{name:"Leads",value:e.leads},{name:"Files",value:e.files},{name:"Assistants",value:e.assistants},{name:"Phones",value:e.phone_numbers},{name:"KB",value:e.knowledge_base}].map(S=>({...S,percent:S.value/w*100}))},[e]),j=x.useMemo(()=>[{key:"leads",label:"Leads",value:e.leads,icon:Ca,series:g(e.leads),color:h.blue},{key:"files",label:"Files",value:e.files,icon:mf,series:g(e.files),color:h.sky},{key:"assistants",label:"Assistants",value:e.assistants,icon:Fw,series:g(e.assistants),color:h.cyan},{key:"phone_numbers",label:"Phone Numbers",value:e.phone_numbers,icon:gt,series:g(e.phone_numbers),color:h.sky},{key:"knowledge_base",label:"Knowledge Base",value:e.knowledge_base,icon:id,series:g(e.knowledge_base),color:h.blue}],[e]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[s&&n.jsx("div",{className:"w-full px-4 md:px-8 pt-4 mb-6 rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s}),n.jsx(rme,{}),n.jsxs("header",{className:"w-full px-4 md:px-8 pt-10 pb-6",children:[n.jsx(pe.h1,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"User Dashboard"}),n.jsx(pe.p,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},className:"mt-1 text-sm md:text-base text-slate-600",children:"Live stats  Animated charts  Arrow labels"})]}),n.jsxs("main",{className:"w-full px-4 md:px-8 pb-16",children:[n.jsx("section",{className:"grid grid-cols-1 gap-5 md:grid-cols-2 xl:grid-cols-5",children:j.map(w=>n.jsx(ime,{...w,loading:a},w.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 gap-6 lg:grid-cols-2",children:[n.jsx(_1,{title:"Leads Trend (Synthetic)",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(ks,{children:n.jsxs(MS,{data:j[0].series,margin:{top:12,right:20,left:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowLineMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"strokeLine",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(Nl,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(mi,{dataKey:"label",tick:{fontSize:12}}),n.jsx(fi,{tick:{fontSize:12}}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsx(Xx,{type:"monotone",dataKey:"value",stroke:"url(#strokeLine)",strokeWidth:3.5,dot:!1,activeDot:{r:6},style:{filter:"url(#glowLineMain)"},isAnimationActive:!0,animationBegin:120,animationDuration:900,animationEasing:"ease"})]})})})}),n.jsx(_1,{title:"Overview by Metric",children:n.jsx("div",{className:"h-72 w-full",children:n.jsx(ks,{children:n.jsxs(Q0,{data:b,margin:{top:10,right:20,left:f?0:-10,bottom:0},children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#e6f6ff"})]})]}),n.jsx(Nl,{strokeDasharray:"3 3",strokeOpacity:.2}),n.jsx(mi,{dataKey:"name",tick:{fontSize:12},hide:f}),n.jsx(fi,{tick:{fontSize:12}}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsx(Om,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},isAnimationActive:!0,animationBegin:140,animationDuration:800,animationEasing:"ease-out"})]})})})}),n.jsx(_1,{title:"Share by Metric",className:"lg:col-span-2",children:n.jsx("div",{className:"h-80 w-full",children:n.jsx(ks,{children:n.jsx(ume,{data:y,mode:m?"desktop":"compact"})})})})]}),n.jsxs("footer",{className:"mx-auto mt-10 text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon (white/blue) dashboard."]})]})]})}function ame(){const[e,t]=x.useState({width:null,height:null});return x.useEffect(()=>{function a(){t({width:window.innerWidth,height:window.innerHeight})}return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function rme(){return n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.8},className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx(pe.div,{initial:{opacity:0,scale:.9},animate:{opacity:.6,scale:1},transition:{duration:.9,delay:.05},className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"}),n.jsx(pe.div,{"aria-hidden":!0,initial:{backgroundPosition:"0px 0px"},animate:{backgroundPosition:["0px 0px","40px 40px"]},transition:{duration:12,repeat:1/0,ease:"linear"},className:"absolute inset-0 opacity-[0.08]",style:{backgroundImage:"repeating-linear-gradient(0deg, #000, #000 1px, transparent 1px, transparent 40px), repeating-linear-gradient(90deg, #000, #000 1px, transparent 1px, transparent 40px)"}})]})}function _1({title:e,children:t,className:a=""}){return n.jsxs(pe.div,{initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},viewport:{once:!0,amount:.2},transition:{duration:.5},className:`relative rounded-3xl border border-slate-200 bg-white p-6 shadow-xl ${a}`,children:[n.jsx(sme,{}),n.jsx("h2",{className:"mb-4 text-base font-semibold text-slate-700",children:e}),t]})}function sme(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:"linear-gradient(90deg, #06b6d433, transparent)",filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function ime({label:e,value:t,icon:a,series:r,color:s,loading:l}){const c=vd(0),u=vd(0),m=hp(u,[-50,50],[8,-8]),f=hp(c,[-50,50],[-8,8]),h=x.useRef(null);return n.jsxs(pe.div,{ref:h,onMouseMove:g=>{var y;const b=(y=h.current)==null?void 0:y.getBoundingClientRect();b&&(c.set(g.clientX-b.left-b.width/2),u.set(g.clientY-b.top-b.height/2))},onMouseLeave:()=>{c.set(0),u.set(0)},style:{rotateX:m,rotateY:f},className:"group relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl transition-transform duration-300 will-change-transform hover:-translate-y-1",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${s}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-11 w-11 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6",style:{color:s}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-2xl font-black text-slate-900",children:l?n.jsx(ome,{}):n.jsx(lme,{value:t})}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:"Live"})]})]})]}),n.jsx("div",{className:"mt-3 h-20",children:l?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(ks,{children:n.jsxs(MS,{data:r,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(Nl,{strokeDasharray:"3 3",strokeOpacity:.12}),n.jsx(mi,{dataKey:"label",hide:!0}),n.jsx(fi,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsx(Xx,{type:"monotone",dataKey:"value",stroke:s,strokeWidth:2.5,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"},isAnimationActive:!0,animationBegin:120,animationDuration:700})]})})})]})]})}function lme({value:e,duration:t=800}){const[a,r]=x.useState(0);return x.useEffect(()=>{let s;const l=a,c=Number(e)||0,u=performance.now(),m=h=>1-Math.pow(1-h,3);function f(h){const g=Math.min(1,(h-u)/t);r(Math.round(l+(c-l)*m(g))),g<1&&(s=requestAnimationFrame(f))}return s=requestAnimationFrame(f),()=>cancelAnimationFrame(s)},[e]),n.jsx("span",{children:(a||0).toLocaleString()})}function ome(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function cme(e){const{cx:t,cy:a,midAngle:r,outerRadius:s,name:l,value:c,percent:u,laneSlot:m,sideRight:f,laneGap:h=24,fixedTy:g}=e,b=Math.PI/180,y=-r*b,j=s+6,w=t+Math.cos(y)*j,S=a+Math.sin(y)*j,k=s+22,_=t+Math.cos(y)*k,C=a+Math.sin(y)*k,P=!!f;let T=P?_+36:_-36,E=typeof g=="number"?g:a+m*h;const $=34,M=t+s+$,F=t-s-$;P?T=Math.max(T,M+12):T=Math.min(T,F-12);const z=(typeof m=="number"?m:0)*18,U=P?_+16:_-16,ae=C+z*.25,ke=P?T-22:T+22,se=E+z*.75,O=typeof u=="number"?Math.round(u*100):0,H=`${l}`,G=`${c}  ${O}%`,B=Math.max(136,H.length*8+G.length*4.2),A=P?0:-B,L=P?"start":"end";return n.jsxs(pe.g,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},transition:{duration:.42},whileHover:{scale:1.02,transition:{duration:.15}},pointerEvents:"none",children:[n.jsx("path",{d:`M ${w},${S} C ${U},${ae} ${ke},${se} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"6",strokeOpacity:"0.22",fill:"none",filter:"url(#neonGlow)"}),n.jsxs("path",{d:`M ${w},${S} C ${U},${ae} ${ke},${se} ${T},${E}`,stroke:"url(#neonStroke)",strokeWidth:"2.2",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",markerEnd:"url(#arrowheadGrad)",children:[n.jsx("animate",{attributeName:"stroke-dasharray",values:"0,200;40,200;0,200",dur:"3s",repeatCount:"indefinite"}),n.jsx("animate",{attributeName:"stroke-dashoffset",values:"0;-60;0",dur:"3s",repeatCount:"indefinite"})]}),n.jsxs("g",{transform:`translate(${T}, ${E})`,children:[n.jsx("rect",{x:A-6,y:-22,rx:"14",ry:"14",width:B+12,height:40,fill:"url(#pillGlow)",opacity:"0.55",filter:"url(#pillBlur)"}),n.jsx("rect",{x:A,y:-18,rx:"12",ry:"12",width:B,height:32,fill:"url(#pillGrad)",stroke:"url(#pillStroke)",strokeWidth:"1"}),n.jsx("text",{x:A+(P?14:B-14),y:-2,textAnchor:L,fill:"url(#labelTextGrad)",style:{fontSize:12.5,fontWeight:800,letterSpacing:.2},children:H}),n.jsx("text",{x:A+(P?14:B-14),y:12,textAnchor:L,className:"fill-slate-700",style:{fontSize:11.2,fontWeight:600,opacity:.85},children:G})]})]})}function dme(e){const t=Math.PI/180,{cx:a,cy:r,midAngle:s,innerRadius:l,outerRadius:c,name:u,value:m,percent:f}=e,h=l+(c-l)*.58,g=a+Math.cos(-s*t)*h,b=r+Math.sin(-s*t)*h,y=Math.round((f||0)*100);return y<7?null:n.jsxs("g",{children:[n.jsx("text",{x:g,y:b-6,textAnchor:"middle",className:"fill-slate-800",style:{fontSize:11.5,fontWeight:800},children:u}),n.jsxs("text",{x:g,y:b+10,textAnchor:"middle",className:"fill-slate-600",style:{fontSize:10.5,fontWeight:700},children:[m,"  ",y,"%"]})]})}function ume({data:e,mode:t="desktop",width:a,height:r}){const u=Math.PI/180,m=e.reduce((z,U)=>z+(Number(U.value)||0),0),f=(a||0)*.5,h=(r||0)*.5,g=t==="desktop";if(m===0)return n.jsxs(ex,{width:a,height:r,children:[n.jsx(af,{data:[{name:"No data",value:1}],dataKey:"value",cx:"50%",cy:"50%",outerRadius:110,innerRadius:70,fill:"#e5e7eb",stroke:"#cbd5e1",isAnimationActive:!0}),n.jsx("text",{x:f,y:h,textAnchor:"middle",dominantBaseline:"middle",className:"fill-slate-500",style:{fontSize:12},children:"No data"})]});const b=-90,j=270-b;let w=b;const k=e.map((z,U)=>({index:U,value:Number(z.value)||0})).filter(z=>z.value>0).map(z=>{const U=m?z.value/m*j:0,ae=w+U/2;w+=U;const ke=-ae*u,se=Math.cos(ke)>=0,O=h+Math.sin(ke)*110;return{index:z.index,ang:ke,right:se,ty0:O,mid:ae}}),_=k.filter(z=>!z.right).sort((z,U)=>z.ty0-U.ty0),C=k.filter(z=>z.right).sort((z,U)=>z.ty0-U.ty0),P=28,T=40,E=h-(110+T),$=h+(110+T),M=z=>{if(!z.length)return[];const U=z.length,ae=$-E,ke=Math.min(Math.max(P,U>1?ae/(U-1):P),36),se=new Array(U);se[0]=Math.max(z[0].ty0,E);for(let H=1;H<U;H++)se[H]=Math.max(z[H].ty0,se[H-1]+ke);const O=se[U-1]-$;if(O>0){for(let H=0;H<U;H++)se[H]-=O;if(se[0]<E){const H=E-se[0];for(let G=0;G<U;G++)se[G]+=H}}return se},F=M(_),K=M(C);return n.jsxs(ex,{width:a,height:r,children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"50%",stopColor:"#60a5fa"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("marker",{id:"arrowheadGrad",markerWidth:"12",markerHeight:"8",refX:"10",refY:"4",orient:"auto",children:[n.jsx("polygon",{points:"0 0, 12 4, 0 8",fill:"url(#neonStroke)"}),n.jsxs("filter",{id:"arrowGlow",children:[n.jsx("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0.8",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsxs("filter",{id:"neonGlow",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"4",result:"blur"}),n.jsx("feColorMatrix",{in:"blur",type:"matrix",values:"0 0 0 0 0.2  0 0 0 0 0.6  0 0 0 0 1  0 0 0 1 0"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"pillGrad",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#ffffff"}),n.jsx("stop",{offset:"100%",stopColor:"#eff6ff"})]}),n.jsxs("linearGradient",{id:"pillStroke",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#a5f3fc"}),n.jsx("stop",{offset:"100%",stopColor:"#93c5fd"})]}),n.jsxs("radialGradient",{id:"pillGlow",cx:"50%",cy:"50%",r:"60%",children:[n.jsx("stop",{offset:"0%",stopColor:"#67e8f9",stopOpacity:"0.6"}),n.jsx("stop",{offset:"100%",stopColor:"#3b82f6",stopOpacity:"0"})]}),n.jsx("filter",{id:"pillBlur",x:"-50%",y:"-50%",width:"200%",height:"200%",children:n.jsx("feGaussianBlur",{stdDeviation:"8"})}),n.jsxs("linearGradient",{id:"labelTextGrad",x1:"0",y1:"0",x2:"1",y2:"0",children:[n.jsx("stop",{offset:"0%",stopColor:"#0ea5e9"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("linearGradient",{id:"pieGradBlue",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#06b6d4"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]})]}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsx(af,{data:e,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",startAngle:-90,endAngle:270,outerRadius:110,innerRadius:70,paddingAngle:2,isAnimationActive:!0,animationBegin:140,animationDuration:900,animationEasing:"ease-out",label:g?z=>{if(!(z&&z.value>0))return null;const U=Math.PI/180,ae=Math.cos(-z.midAngle*U)>=0,se=(ae?C:_).findIndex(B=>B.index===z.index);if(se===-1)return null;const O=ae?K:F,H=O[se];if(typeof H!="number")return null;const G=se-(O.length-1)/2;return n.jsx(cme,{...z,laneSlot:G,sideRight:ae,fixedTy:H,laneGap:30})}:z=>n.jsx(dme,{...z}),labelLine:!1,children:e.map((z,U)=>n.jsx(li,{fill:U===0?"url(#pieGradBlue)":["#bfe9ff","#8ed8ff","#60cfff","#a3d8ff"][U-1]||"#bfe9ff",stroke:"#ffffff",strokeOpacity:.9},`cell-${U}`))})]})}const mme={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"};var jE={};const wE=typeof import.meta<"u"&&mme&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&jE&&jE.NEXT_PUBLIC_API_URL||"http://localhost:8000";function Mc(...e){return e.filter(Boolean).join(" ")}function NE({iso:e}){if(!e||typeof e!="string"||e.length!==2)return null;const t=[...e.toUpperCase()].map(a=>127397+a.charCodeAt(0));return n.jsx("span",{className:"mr-1","aria-hidden":!0,children:String.fromCodePoint(...t)})}function fme({open:e,onClose:t,onConfirm:a,numbers:r=[]}){if(!e)return null;const s=r.slice(0,5),l=Math.max(0,r.length-s.length);return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/40",children:n.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-lg w-full p-6 border border-gray-100",children:[n.jsx("h2",{className:"text-xl font-bold mb-3 text-gray-900",children:"Confirm Purchase"}),n.jsxs("p",{className:"mb-4 text-gray-700",children:["You are about to purchase"," ",n.jsx("span",{className:"font-semibold",children:r.length})," ","number",r.length>1?"s":"","."]}),n.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 max-h-48 overflow-auto border border-gray-100 mb-5",children:[s.map(c=>n.jsx("div",{className:"font-mono text-sm text-gray-800 py-0.5",children:c},c)),l>0&&n.jsxs("div",{className:"text-xs text-gray-500",children:["and ",l," more"]})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx("button",{onClick:t,className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-medium hover:bg-gray-200 transition",children:"Cancel"}),n.jsx("button",{onClick:()=>a(r),className:"px-4 py-2 rounded-lg bg-green-600 text-white font-semibold hover:bg-green-700 transition",children:"Yes, Buy"})]})]})})}function hme(){const[e,t]=x.useState("US"),[a,r]=x.useState([]),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(20),[b,y]=x.useState(1),[j,w]=x.useState(!1),[S,k]=x.useState([]),_=10,C=[{code:"US",name:"United States",flag:""},{code:"CA",name:"Canada",flag:""},{code:"GB",name:"United Kingdom",flag:""},{code:"AU",name:"Australia",flag:""},{code:"DE",name:"Germany",flag:""},{code:"FR",name:"France",flag:""}],P=()=>{try{return localStorage.getItem("token")}catch{return null}},T=G=>G.split(/[,\s]+/).map(B=>B.trim()).filter(Boolean),[E,$]=x.useState(()=>new Set),M=G=>E.has(G),F=G=>{$(B=>{const A=new Set(B);return A.has(G)?A.delete(G):A.add(G),A})},K=()=>$(new Set),z=x.useMemo(()=>{const G=b*_,B=G-_;return a.slice(B,G)},[a,b]),U=Math.ceil(a.length/_)||1,ae=async()=>{const G=T(m);l(!0);try{const B=P(),A=await fetch(`${wE}/api/available_phone_numbers`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({country:e,area_codes:G.length?G:null,limit:h})}),L=await A.json();if(!A.ok){const q=L&&L.detail&&(L.detail.error||L.detail)||(L==null?void 0:L.message)||"Failed to fetch phone numbers.";r([]),I.error(q);return}const R=Array.isArray(L)?L:[];r(R),y(1),K(),R.length===0&&I.info("No numbers found for your query.")}catch(B){console.error(B),r([]),I.error("Network error while fetching numbers.")}finally{l(!1)}},ke=async G=>{if(G!=null&&G.length){u(!0);try{const B=P(),A=await fetch(`${wE}/api/purchase_phone_number`,{method:"POST",headers:{"Content-Type":"application/json",...B?{Authorization:`Bearer ${B}`}:{}},body:JSON.stringify({phone_number:G})}),L=await A.json();if(!A.ok||!(L!=null&&L.success)){const R=L&&L.detail&&(L.detail.error||L.detail)||(L==null?void 0:L.message)||"Failed to purchase numbers.";I.error(R);return}r(R=>R.filter(q=>!G.includes(q.phone_number))),K(),I.success(` Purchased ${G.length} number${G.length>1?"s":""}.`)}catch(B){console.error(B),I.error("Network error while purchasing.")}finally{u(!1),w(!1),k([])}}},se=G=>{if(!G)return"";if(e==="US"||e==="CA"){const A=G.replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);if(A)return`+1 (${A[1]}) ${A[2]}-${A[3]}`}return G},O=async G=>{try{await navigator.clipboard.writeText(G),I.success("Copied!")}catch{I.error("Copy failed.")}},H=(()=>{const G=a.length===0?0:(b-1)*_+1,B=Math.min(b*_,a.length);return{start:G,end:B}})();return n.jsxs("div",{className:"min-h-screen bg-[radial-gradient(ellipse_at_top,rgba(59,130,246,0.08),transparent_55%),linear-gradient(to_bottom,white,white)]",children:[n.jsx("div",{className:"h-1 w-full bg-gradient-to-r from-blue-600 via-purple-600 to-fuchsia-500"}),n.jsx(fme,{open:j,onClose:()=>w(!1),onConfirm:G=>ke(G),numbers:S}),n.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 space-y-8",children:[n.jsx("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:n.jsxs("div",{className:"flex flex-col lg:flex-row items-start lg:items-center gap-6",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-2xl flex items-center justify-center shadow-md",children:n.jsx(gt,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900",children:"Premium Phone Numbers"}),n.jsx("p",{className:"text-gray-600 mt-1",children:"Search, select, and purchase numbers worldwide in seconds."})]})]}),n.jsx("div",{className:"grid grid-cols-3 gap-3 lg:ml-auto w-full lg:w-auto",children:[{label:"Available",value:a.length?`${a.length}+`:""},{label:"Uptime",value:"99.9%"},{label:"Support",value:"24/7"}].map((G,B)=>n.jsxs("div",{className:"rounded-xl border border-gray-200 bg-gray-50/60 px-4 py-3 text-center hover:shadow transition",children:[n.jsx("div",{className:"text-xl font-bold text-gray-900",children:G.value}),n.jsx("div",{className:"text-xs text-gray-500",children:G.label})]},B))})]})}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 p-6 sm:p-8 shadow-sm",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-5",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-600 rounded-xl flex items-center justify-center",children:n.jsx(Ha,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Find Your Perfect Number"})]}),n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(ci,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Country"]}),n.jsx("select",{value:e,onChange:G=>t(G.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500",children:C.map(G=>n.jsxs("option",{value:G.code,children:[G.flag," ",G.name]},G.code))})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(Ha,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Area Codes (comma-separated, optional)"]}),n.jsx("input",{type:"text",value:m,onChange:G=>f(G.target.value),placeholder:"e.g., 212, 415",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-green-500"})]}),n.jsxs("div",{className:"lg:col-span-1",children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[n.jsx(_l,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Results Limit"]}),n.jsxs("select",{value:h,onChange:G=>g(Number.parseInt(G.target.value)),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-purple-500",children:[n.jsx("option",{value:10,children:"10"}),n.jsx("option",{value:20,children:"20"}),n.jsx("option",{value:50,children:"50"}),n.jsx("option",{value:100,children:"100"})]})]}),n.jsx("div",{className:"lg:col-span-1 flex items-end",children:n.jsx("button",{onClick:ae,disabled:s,className:Mc("w-full px-6 py-3 rounded-xl font-semibold text-white transition shadow-sm",s?"bg-blue-400":"bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500"),children:s?n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(_n,{className:"w-5 h-5 animate-spin mr-2"}),"Searching"]}):n.jsxs("span",{className:"inline-flex items-center justify-center",children:[n.jsx(Ha,{className:"w-5 h-5 mr-2"}),"Search"]})})})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row gap-3 sm:items-center sm:justify-between",children:[n.jsx("p",{className:"text-sm text-gray-600",children:"Tip: leave area codes empty to search nationwide."}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>{const G=z.map(A=>A.phone_number),B=G.every(A=>E.has(A));$(A=>{const L=new Set(A);return B?G.forEach(R=>L.delete(R)):G.forEach(R=>L.add(R)),L})},className:"px-3 py-2 rounded-lg border text-sm hover:bg-gray-50 transition",children:z.every(G=>E.has(G.phone_number))?"Unselect Page":"Select Page"}),n.jsx("button",{onClick:()=>{if(E.size===0){I.info("Select numbers first.");return}const G=Array.from(E);k(G),w(!0)},disabled:E.size===0||c,className:Mc("px-4 py-2 rounded-lg font-semibold transition shadow-sm",E.size===0||c?"bg-green-300 text-white cursor-not-allowed":"bg-green-600 text-white hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(qh,{className:"w-4 h-4"}),"Buy Selected (",E.size,")"]})})]})]})]}),n.jsxs("section",{className:"bg-white rounded-2xl border border-gray-200 overflow-hidden shadow-sm",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-8 h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(gt,{className:"w-4 h-4 text-white"})}),n.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900",children:s?"Searching":`Available Numbers (${a.length})`})]}),n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",H.start,"  ",H.end," of"," ",a.length]})]})}),s?n.jsx("div",{className:"p-6 sm:p-8",children:n.jsx("div",{className:"space-y-3",children:Array.from({length:6}).map((G,B)=>n.jsx("div",{className:"h-16 rounded-xl bg-gray-100 animate-pulse"},B))})}):a.length===0?n.jsx("div",{className:"flex items-center justify-center py-16",children:n.jsxs("div",{className:"text-center max-w-sm",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(gt,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No numbers available"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Try different area codes or another country."}),n.jsx("button",{onClick:ae,className:"bg-blue-600 text-white px-6 py-2 rounded-lg font-semibold hover:bg-blue-700 transition",children:"Try Again"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Select"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Region"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Capabilities"}),n.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:z.map((G,B)=>{var L,R,q;const A=M(G.phone_number);return n.jsxs("tr",{className:"hover:bg-gray-50 transition",children:[n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>F(G.phone_number),className:"text-gray-700 hover:scale-105 transition","aria-label":A?"Unselect":"Select",children:A?n.jsx(z3,{className:"w-5 h-5 text-blue-600"}):n.jsx(xd,{className:"w-5 h-5"})})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:se(G.phone_number)}),n.jsx("button",{onClick:()=>O(G.phone_number),className:"p-1 rounded hover:bg-gray-100 transition",title:"Copy",children:n.jsx(da,{className:"w-4 h-4 text-gray-500"})})]})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex items-center text-sm text-gray-900",children:[n.jsx(bi,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx(NE,{iso:G.iso_country}),G.region||"N/A"]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[((L=G.capabilities)==null?void 0:L.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((R=G.capabilities)==null?void 0:R.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((q=G.capabilities)==null?void 0:q.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})}),n.jsx("td",{className:"px-6 py-4",children:n.jsx("button",{onClick:()=>{k([G.phone_number]),w(!0)},disabled:c,className:Mc("px-5 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(_n,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(qh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})})]},B)})})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-100",children:z.map((G,B)=>{var L,R,q;const A=M(G.phone_number);return n.jsxs("div",{className:"p-4 sm:p-6",children:[n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsx("button",{onClick:()=>F(G.phone_number),className:"text-gray-700 mr-3","aria-label":A?"Unselect":"Select",children:A?n.jsx(z3,{className:"w-5 h-5 text-blue-600"}):n.jsx(xd,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-50 rounded-lg flex items-center justify-center ring-1 ring-blue-100",children:n.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-gray-900",children:se(G.phone_number)}),n.jsxs("div",{className:"flex items-center mt-1 text-sm text-gray-700",children:[n.jsx(bi,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx(NE,{iso:G.iso_country}),G.region||"N/A"]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-1.5",children:[((L=G.capabilities)==null?void 0:L.SMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-green-100 text-green-700 border border-green-200",children:"SMS"}),((R=G.capabilities)==null?void 0:R.MMS)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-indigo-100 text-indigo-700 border border-indigo-200",children:"MMS"}),((q=G.capabilities)==null?void 0:q.voice)&&n.jsx("span",{className:"px-2 py-0.5 text-xs font-semibold rounded-full bg-blue-100 text-blue-700 border border-blue-200",children:"Voice"})]})]})]}),n.jsx("button",{onClick:()=>O(G.phone_number),className:"p-1 rounded hover:bg-gray-100 ml-3",title:"Copy",children:n.jsx(da,{className:"w-4 h-4 text-gray-500"})})]}),n.jsx("button",{onClick:()=>{k([G.phone_number]),w(!0)},disabled:c,className:Mc("mt-4 w-full px-4 py-2 rounded-lg font-semibold text-white transition",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:c?n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(_n,{className:"w-4 h-4 animate-spin mr-2"}),"Buying"]}):n.jsxs("span",{className:"inline-flex items-center",children:[n.jsx(qh,{className:"w-4 h-4 mr-2"}),"Buy Now"]})})]},B)})})]}),a.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-3 sm:mb-0",children:["Showing ",H.start," to ",H.end," of ",a.length," results"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:()=>y(G=>Math.max(1,G-1)),disabled:b===1,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Previous"}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,U)},(G,B)=>{let A;return U<=5||b<=3?A=B+1:b>=U-2?A=U-4+B:A=b-2+B,n.jsx("button",{onClick:()=>y(A),className:Mc("px-3 py-2 text-sm font-medium rounded-lg transition",b===A?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),children:A},A)})}),n.jsx("button",{onClick:()=>y(G=>Math.min(U,G+1)),disabled:b>=U,className:"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 disabled:opacity-50",children:"Next"})]})]})]})]}),E.size>0&&n.jsx("div",{className:"fixed bottom-4 inset-x-0 px-4 sm:px-6 lg:px-8 z-40",children:n.jsxs("div",{className:"max-w-7xl mx-auto rounded-2xl bg-white/90 backdrop-blur border border-gray-200 shadow-lg p-3 sm:p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm sm:text-base",children:[n.jsx("span",{className:"font-semibold",children:E.size})," selected"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("button",{onClick:K,className:"px-3 py-2 rounded-lg border bg-white text-gray-700 hover:bg-gray-50 transition text-sm",children:"Clear"}),n.jsx("button",{onClick:()=>{const G=Array.from(E);k(G),w(!0)},disabled:c,className:Mc("px-4 py-2 rounded-lg font-semibold text-white transition text-sm",c?"bg-green-300":"bg-green-600 hover:bg-green-700"),children:n.jsxs("span",{className:"inline-flex items-center gap-2",children:[n.jsx(qh,{className:"w-4 h-4"}),"Buy Selected"]})})]})]})})]})}function pme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}))}const xme=x.forwardRef(pme);function gme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const kw=x.forwardRef(gme);function bme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const RL=x.forwardRef(bme);function vme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const tx=x.forwardRef(vme);function yme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const ym=x.forwardRef(yme);function jme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const jm=x.forwardRef(jme);function wme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const SE=x.forwardRef(wme);function Nme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const LL=x.forwardRef(Nme);function Sme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const _me=x.forwardRef(Sme);function kme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Cw=x.forwardRef(kme);function Cme({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Aw=x.forwardRef(Cme);function Ame({title:e,titleId:t,...a},r){return x.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:r,"aria-labelledby":t},a),e?x.createElement("title",{id:t},e):null,x.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const dd=x.forwardRef(Ame),Tme="https://aisdr-dbt.ddns.net",Eme=[`${Tme}/api`];function Pme(){var Ee,Ae,xe,Fe,Be;const e=rn(),[t,a]=x.useState({name:"",email:""}),[r,s]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[f,h]=x.useState(!1),g=x.useRef(null),[b,y]=x.useState(!1),[j,w]=x.useState({old:!1,next:!1}),[S,k]=x.useState({old_password:"",new_password:""}),[_,C]=x.useState(!1),[P,T]=x.useState({sid:"",token:"",validate:!0}),[E,$]=x.useState(null),[M,F]=x.useState(!1),[K,z]=x.useState({sid:!1,token:!1}),[U,ae]=x.useState(!1),[ke,se]=x.useState(!1),[O,H]=x.useState(!1),G=()=>localStorage.getItem("token")||"",B=()=>G()?{Authorization:`Bearer ${G()}`}:{},A=()=>G()?!0:(I.error("Authentication required. Please login again."),e("/login"),!1),L=async(ve,le={},{expectJson:Te=!0}={})=>{const ee=[];for(const De of Eme)try{const Ue=await fetch(`${De}${ve}`,le);if(Ue.status===401||Ue.status===403){const rt=await Ue.text().catch(()=>"");throw new Error(rt||"Unauthorized")}if(Ue.ok)return Te?await Ue.json():Ue;if(Ue.status===404){ee.push({base:De,status:404});continue}const Ve=await Ue.json().catch(()=>({}));throw new Error((Ve==null?void 0:Ve.detail)||`Request failed (${Ue.status})`)}catch(Ue){if(ee.push({base:De,err:Ue==null?void 0:Ue.message}),(Ue==null?void 0:Ue.message)==="Unauthorized")throw Ue}const we=ee!=null&&ee.length?`Request failed on all bases: ${ee.map(De=>`${De.base}${De.status||De.err}`).join(" | ")}`:"Network error";throw new Error(we)};x.useEffect(()=>{(async()=>{var ve,le,Te;if(A())try{const ee=await L("/user-info",{headers:{...B(),Accept:"application/json"}});a({name:((ve=ee==null?void 0:ee.data)==null?void 0:ve.name)||"",email:((le=ee==null?void 0:ee.data)==null?void 0:le.email)||""});const we=(Te=ee==null?void 0:ee.data)==null?void 0:Te.profile_photo_url;if(we)c(we+(we.includes("?")?"&":"?")+"t="+Date.now());else try{const De=await L("/profile-photo?redirect=false",{headers:{...B(),Accept:"application/json"}}),Ue=De==null?void 0:De.photo_url;Ue&&c(Ue+(Ue.includes("?")?"&":"?")+"t="+Date.now())}catch{}}catch{I.error("Unable to load profile")}finally{s(!0)}})()},[]),x.useEffect(()=>{(async()=>{if(A())try{const ve=await L("/twilio/credentials",{headers:{...B(),Accept:"application/json"}});$(ve)}catch{}})()},[]);const R=async ve=>{var le;if((le=ve==null?void 0:ve.preventDefault)==null||le.call(ve),!!A()){if(!t.name.trim())return I.error("Name is required");if(!t.email.trim())return I.error("Email is required");if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t.email))return I.error("Please enter a valid email");H(!0);try{await L("/update-profile",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({name:t.name,email:t.email})}),localStorage.setItem("name",t.name),I.success("Profile updated")}catch(Te){I.error(Te.message||"Update failed")}finally{H(!1)}}},q=async ve=>{var le;if((le=ve==null?void 0:ve.preventDefault)==null||le.call(ve),!!A()){if(!S.old_password||!S.new_password)return I.error("Please fill both password fields");if(S.new_password.length<8)return I.error("New password must be at least 8 characters");C(!0);try{await L("/change-password",{method:"POST",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify(S)}),I.success("Password changed successfully"),k({old_password:"",new_password:""})}catch(Te){I.error(Te.message||"Password change failed")}finally{C(!1)}}},ce=async ve=>{var ee;if((ee=ve==null?void 0:ve.preventDefault)==null||ee.call(ve),!A())return;const le=P.sid.trim(),Te=P.token.trim();if(!le||!Te)return I.error("Please enter both Account SID and Auth Token");if(!le.startsWith("AC")||le.length<20)return I.error("Account SID should start with AC");if(Te.length<10)return I.error("Auth Token looks too short");F(!0);try{const we=await L("/twilio/credentials",{method:"PUT",headers:{"Content-Type":"application/json",...B(),Accept:"application/json"},body:JSON.stringify({account_sid:le,auth_token:Te,validate:!!P.validate})});$((we==null?void 0:we.masked)||null),T({sid:"",token:"",validate:!0}),I.success("Twilio credentials saved")}catch(we){I.error(we.message||"Failed to save Twilio credentials")}finally{F(!1)}},Z=async ve=>{if(!ve||!A())return;if(!["image/png","image/jpeg","image/webp"].includes(ve.type))return I.error("Please upload PNG, JPG or WebP");if(ve.size>5*1024*1024)return I.error("Max file size is 5MB");m(!0);try{const Te=new FormData;Te.append("file",ve);const ee=await L("/profile-photo",{method:"POST",headers:{...B()},body:Te}),we=ee==null?void 0:ee.photo_url;if(!we)throw new Error("Upload returned no URL");c(we+(we.includes("?")?"&":"?")+"t="+Date.now()),I.success("Profile photo updated")}catch(Te){I.error(Te.message||"Upload failed")}finally{m(!1)}},W=async()=>{if(A()){h(!0);try{await L("/profile-photo",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),c(null),I.success("Profile photo removed")}catch(ve){I.error(ve.message||"Delete failed")}finally{h(!1)}}},_e=ve=>{ve.preventDefault(),y(!1);const le=ve.dataTransfer.files&&ve.dataTransfer.files[0]||void 0;Z(le)},te=ve=>{ve.preventDefault(),y(!0)},je=ve=>{ve.preventDefault(),y(!1)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 via-white to-slate-50",children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/70 backdrop-blur",children:n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8",children:n.jsxs(pe.div,{className:"flex items-center gap-3 py-6",initial:{opacity:0,y:-8},animate:{opacity:1,y:0},transition:{duration:.3},children:[n.jsx("div",{className:"h-10 w-10 rounded-xl bg-blue-600 grid place-items-center shadow-md",children:n.jsx(dd,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl font-extrabold tracking-tight text-slate-900",children:"Account Settings"}),n.jsx("p",{className:"text-sm sm:text-base text-slate-600",children:"Manage your profile, security and preferences"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 py-6 sm:py-10",children:n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6",children:[n.jsx(pe.section,{className:"lg:col-span-4 lg:order-10 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("h2",{className:"text-lg font-bold text-slate-900 flex items-center gap-2",children:[n.jsx(_me,{className:"w-5 h-5 text-blue-600"}),"Profile Photo"]}),n.jsxs("div",{className:"mt-5 flex items-center gap-4",children:[n.jsxs("div",{className:"relative shrink-0",children:[n.jsx("div",{className:"rounded-full p-[6px] bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 shadow-[0_8px_24px_rgba(59,130,246,0.25)]",children:n.jsx("div",{className:"rounded-full bg-white p-1",children:n.jsx("div",{className:"rounded-full overflow-hidden w-24 h-24",children:n.jsx(It,{mode:"wait",children:l?n.jsx(pe.img,{src:l,alt:"Profile",className:"w-full h-full object-cover",onError:()=>c(null),initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2}},l):n.jsx(pe.div,{className:"w-full h-full bg-gradient-to-br from-blue-600 to-cyan-500 grid place-items-center text-white text-2xl font-bold",initial:{opacity:.2,scale:.98},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.98},transition:{duration:.2},children:((Be=(Fe=(xe=(Ae=(Ee=t.name)==null?void 0:Ee.split(" "))==null?void 0:Ae.map(ve=>ve[0]))==null?void 0:xe.join(""))==null?void 0:Fe.toUpperCase())==null?void 0:Be.slice(0,2))||"U"},"initials")})})})}),n.jsx("span",{className:"absolute -right-1 -bottom-1 h-4 w-4 rounded-full bg-emerald-400 ring-2 ring-white"})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("p",{className:"text-slate-900 font-semibold leading-tight truncate",children:t.name||"User"}),n.jsx("p",{className:"text-slate-600 text-sm break-all",children:t.email||"-"})]})]}),n.jsxs("div",{className:`mt-5 rounded-xl border-2 ${b?"border-blue-400 bg-blue-50/60":"border-dashed border-slate-300"} p-4 transition-colors`,onDrop:_e,onDragOver:te,onDragLeave:je,children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-10 w-10 rounded-lg bg-blue-600/90 grid place-items-center text-white shrink-0",children:n.jsx(xme,{className:"w-5 h-5"})}),n.jsxs("div",{className:"text-sm",children:[n.jsxs("p",{className:"font-semibold text-slate-900",children:["Drag & drop a photo here, or"," ",n.jsx("button",{type:"button",onClick:()=>{var ve;return(ve=g.current)==null?void 0:ve.click()},className:"text-blue-600 underline underline-offset-2 hover:opacity-80",children:"choose file"})]}),n.jsx("p",{className:"text-slate-600",children:"PNG, JPG, or WebP up to 5MB. Square images look best."})]})]}),n.jsx("input",{ref:g,type:"file",accept:"image/png,image/jpeg,image/webp",className:"hidden",onChange:ve=>{var le;return Z((le=ve.target.files)==null?void 0:le[0])}})]}),n.jsxs("div",{className:"mt-4 flex flex-col sm:flex-row items-stretch sm:items-center gap-3",children:[n.jsx("button",{type:"button",onClick:()=>{var ve;return(ve=g.current)==null?void 0:ve.click()},disabled:u,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-blue-600 text-white font-semibold hover:bg-blue-700 disabled:opacity-50",children:u?"Uploading...":"Upload New"}),n.jsx("button",{type:"button",onClick:W,disabled:f||!l,className:"w-full sm:w-auto px-4 py-2 rounded-lg bg-white border border-slate-300 text-slate-700 font-semibold hover:bg-slate-50 disabled:opacity-50",children:f?"Removing...":"Remove"})]})]})}),n.jsx(pe.section,{className:"lg:col-span-8 lg:order-20 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.05},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-blue-600 grid place-items-center",children:n.jsx(dd,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Profile Information"})]}),n.jsxs("form",{onSubmit:R,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(dd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:t.name,onChange:ve=>a({...t,name:ve.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm",disabled:!r||O,required:!0})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:[n.jsx(RL,{className:"w-4 h-4 inline mr-2 text-emerald-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:t.email,onChange:ve=>a({...t,email:ve.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 text-sm",disabled:!r||O,required:!0})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:!r||O,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50",children:O?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving..."]}):n.jsxs(n.Fragment,{children:[n.jsx(kw,{className:"w-4 h-4"}),"Save Changes"]})})})]})]})}),n.jsx(pe.section,{className:"lg:col-span-8 lg:order-30 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.08},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-cyan-600 grid place-items-center",children:n.jsx(SE,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Twilio Credentials"})]}),E?n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-emerald-50 text-emerald-700 border border-emerald-200",children:"Connected"}):n.jsx("span",{className:"text-xs font-semibold px-2 py-1 rounded-md bg-slate-100 text-slate-700 border border-slate-200",children:"Not Connected"})]}),E&&n.jsxs("div",{className:"mb-4 rounded-lg border border-emerald-200 bg-emerald-50 p-3 text-sm text-emerald-900 break-words",children:[n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Account SID:"})," ",E.account_sid]}),n.jsxs("div",{children:[n.jsx("span",{className:"font-semibold",children:"Auth Token:"})," ",E.auth_token]})]}),n.jsxs("form",{onSubmit:ce,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Account SID"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:K.sid?"text":"password",value:P.sid,onChange:ve=>T(le=>({...le,sid:ve.target.value})),placeholder:"ACXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>z(ve=>({...ve,sid:!ve.sid})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.sid?"Hide SID":"Show SID",children:K.sid?n.jsx(ym,{className:"w-5 h-5"}):n.jsx(jm,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Auth Token"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:K.token?"text":"password",value:P.token,onChange:ve=>T(le=>({...le,token:ve.target.value})),placeholder:"",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:border-cyan-500 text-sm",autoComplete:"off"}),n.jsx("button",{type:"button",onClick:()=>z(ve=>({...ve,token:!ve.token})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700","aria-label":K.token?"Hide Token":"Show Token",children:K.token?n.jsx(ym,{className:"w-5 h-5"}):n.jsx(jm,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"We store your credentials on your user record and only use them to manage Twilio on your behalf."})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",className:"h-4 w-4 accent-cyan-600",checked:P.validate,onChange:ve=>T(le=>({...le,validate:ve.target.checked}))}),n.jsx("span",{className:"text-sm text-slate-700",children:"Validate with Twilio before saving"})]})}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:M,className:"w-full sm:w-auto inline-flex items-center gap-2 bg-cyan-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-cyan-700 focus:outline-none focus:ring-2 focus:ring-cyan-500 focus:ring-offset-2 disabled:opacity-50",children:M?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(SE,{className:"w-4 h-4"}),"Save Twilio Credentials"]})})})]})]})}),n.jsx(pe.section,{className:"lg:col-span-4 lg:order-40 rounded-2xl border border-red-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.1},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(tx,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-xl p-4",children:[n.jsx("p",{className:"text-red-900 font-semibold mb-1",children:"Delete Account"}),n.jsx("p",{className:"text-red-700 text-sm mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsxs("button",{onClick:()=>ae(!0),className:"inline-flex items-center gap-2 px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-semibold",children:[n.jsx(Aw,{className:"w-4 h-4"}),"Delete Account"]})]})]})}),n.jsx(pe.section,{className:"lg:col-span-12 lg:order-50 rounded-2xl border border-slate-200 bg-white shadow-sm",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.25,delay:.12},children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx("div",{className:"h-9 w-9 rounded-lg bg-purple-600 grid place-items-center",children:n.jsx(LL,{className:"w-5 h-5 text-white"})}),n.jsx("h2",{className:"text-lg font-bold text-slate-900",children:"Change Password"})]}),n.jsxs("form",{onSubmit:q,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"Current Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.old?"text":"password",value:S.old_password,onChange:ve=>k({...S,old_password:ve.target.value}),placeholder:"Enter current password",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:1}),n.jsx("button",{type:"button",onClick:()=>w(ve=>({...ve,old:!ve.old})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.old?n.jsx(ym,{className:"w-5 h-5"}):n.jsx(jm,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-sm font-bold text-slate-700 mb-2",children:"New Password"}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:j.next?"text":"password",value:S.new_password,onChange:ve=>k({...S,new_password:ve.target.value}),placeholder:"Enter new password (min 8 chars)",className:"w-full px-4 py-3 pr-12 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm",disabled:_,minLength:8}),n.jsx("button",{type:"button",onClick:()=>w(ve=>({...ve,next:!ve.next})),className:"absolute right-3 top-1/2 -translate-y-1/2 text-slate-500 hover:text-slate-700",children:j.next?n.jsx(ym,{className:"w-5 h-5"}):n.jsx(jm,{className:"w-5 h-5"})})]})]}),n.jsx("div",{className:"md:col-span-2",children:n.jsx("button",{type:"submit",disabled:_,className:"inline-flex items-center gap-2 bg-purple-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 disabled:opacity-50",children:_?n.jsxs(n.Fragment,{children:[n.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",className:"opacity-25"}),n.jsx("path",{d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z",fill:"currentColor",className:"opacity-75"})]}),"Updating..."]}):n.jsxs(n.Fragment,{children:[n.jsx(Cw,{className:"w-4 h-4"}),"Update Password"]})})})]})]})})]})}),n.jsx(It,{children:U&&n.jsx(pe.div,{className:"fixed inset-0 z-50 grid place-items-center bg-black/40 backdrop-blur-sm px-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:n.jsxs(pe.div,{className:"w-full max-w-md rounded-2xl bg-white shadow-xl border border-slate-200 p-6",initial:{y:20,opacity:.9},animate:{y:0,opacity:1},exit:{y:12,opacity:0},transition:{type:"spring",stiffness:260,damping:22},children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 rounded-lg bg-red-600 grid place-items-center",children:n.jsx(tx,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-slate-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-slate-600",children:"Are you sure you want to delete your account? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[n.jsx("button",{onClick:()=>ae(!1),disabled:ke,className:"px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-800 text-white font-medium",children:"Cancel"}),n.jsx("button",{onClick:async()=>{if(A()){se(!0);try{await L("/delete-account",{method:"DELETE",headers:{...B(),Accept:"application/json"}}),I.success("Account deleted"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch(ve){I.error(ve.message||"Delete failed")}finally{se(!1),ae(!1)}}},disabled:ke,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium",children:ke?"Deleting...":"Delete Forever"})]})]})})}),n.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 lg:px-8 pb-10",children:n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})})]})}const _E="https://aisdr-dbt.ddns.net";function Ome(){var M,F;const[e,t]=x.useState([]),[a,r]=x.useState(!1),[s,l]=x.useState(1),[c,u]=x.useState({open:!1,number:null}),[m,f]=x.useState(!1),h=10,g=rn(),b=K=>Array.isArray(K)?K:K&&Array.isArray(K.purchased_numbers)?K.purchased_numbers:[],y=K=>{if(!K)return"N/A";const U=String(K).replace(/\D/g,"").match(/^1?(\d{3})(\d{3})(\d{4})$/);return U?`+1 (${U[1]}) ${U[2]}-${U[3]}`:K},j=K=>{if(!K)return"N/A";const z=new Date(K);return isNaN(z.getTime())?"N/A":z.toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},w=async()=>{r(!0);try{const K=localStorage.getItem("token");if(!K){console.error("No token found in localStorage"),t([]);return}const z=await fetch(`${_E}/api/purchased_numbers`,{headers:{Authorization:`Bearer ${K}`}});let U;try{U=await z.json()}catch{U=[]}if(!z.ok){console.error("Failed to fetch purchased numbers:",(U==null?void 0:U.message)||(U==null?void 0:U.detail)||"Unknown error"),t([]);return}t(b(U))}catch(K){console.error("Error fetching purchased numbers:",K),t([])}finally{r(!1)}},S=async()=>{var K;if((K=c.number)!=null&&K.phone_number){f(!0);try{const z=localStorage.getItem("token");if(!z)throw new Error("No token found in localStorage");const U=await fetch(`${_E}/api/remove-phone-number`,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({phone_number:c.number.phone_number})});let ae;try{ae=await U.json()}catch{ae=null}if(!U.ok||(ae==null?void 0:ae.success)===!1)throw new Error((ae==null?void 0:ae.detail)||(ae==null?void 0:ae.error)||"Failed to remove phone number");t(ke=>ke.filter(se=>se.phone_number!==c.number.phone_number)),u({open:!1,number:null})}catch(z){alert("Failed to delete number: "+z.message)}finally{f(!1)}}};x.useEffect(()=>{w()},[]);const k=Math.ceil(e.length/h)||1,_=Math.min(s*h,e.length),C=Math.max(0,_-h),P=e.slice(C,_),T=()=>s<k&&l(K=>K+1),E=()=>s>1&&l(K=>K-1),$=K=>K>=1&&K<=k&&l(K);return x.useEffect(()=>{s>k&&l(1)},[e]),n.jsxs("div",{className:"min-h-screen bg-gray-50 px-4 sm:px-6 lg:px-8",children:[c.open&&n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm transition-opacity",onClick:()=>!m&&u({open:!1,number:null})}),n.jsxs("div",{className:"relative z-10 bg-white rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx(Dn,{className:"w-6 h-6 text-red-500"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Delete Number"})]}),n.jsxs("div",{className:"mb-4 text-gray-700",children:["Are you sure you want to delete this number?",n.jsx("div",{className:"mt-2 text-gray-900 font-semibold",children:y((M=c.number)==null?void 0:M.phone_number)}),n.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["Purchased: ",j((F=c.number)==null?void 0:F.date_purchased)]})]}),n.jsxs("div",{className:"flex justify-end space-x-2",children:[n.jsx("button",{className:"px-4 py-2 rounded-lg bg-gray-100 text-gray-700 font-semibold hover:bg-gray-200 transition-colors",onClick:()=>!m&&u({open:!1,number:null}),disabled:m,children:"Cancel"}),n.jsx("button",{className:"px-4 py-2 rounded-lg bg-red-600 text-white font-semibold hover:bg-red-700 transition-colors disabled:opacity-50",onClick:S,disabled:m,children:m?"Deleting...":"Delete"})]})]})]}),n.jsxs("div",{className:"max-w-7xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between space-y-4 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-4",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center flex-shrink-0",children:n.jsx(gt,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Purchased Numbers"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1 sm:mt-2",children:"View your purchased phone numbers"})]})]}),n.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-600 text-white px-4 py-2 sm:px-6 sm:py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(gt,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-2"}),n.jsx("span",{className:"hidden sm:inline",children:"Buy Numbers"}),n.jsx("span",{className:"sm:hidden",children:"Buy"})]})})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 text-center",children:[n.jsx("div",{className:"text-3xl sm:text-4xl font-bold text-blue-600",children:e.length}),n.jsx("div",{className:"text-sm sm:text-base text-gray-600 font-medium mt-2",children:"Total Purchased Numbers"})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[n.jsx("div",{className:"bg-gray-50 px-4 sm:px-6 py-3 sm:py-4 border-b border-gray-200",children:n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-2 sm:space-y-0",children:[n.jsxs("div",{className:"flex items-center space-x-3",children:[n.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(gt,{className:"w-3 h-3 sm:w-4 sm:h-4 text-white"})}),n.jsxs("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:["Purchased Numbers (",e.length,")"]})]}),n.jsxs("div",{className:"flex items-center space-x-2 text-xs sm:text-sm text-gray-600",children:[n.jsx("div",{className:"w-2 h-2 sm:w-3 sm:h-3 bg-green-400 rounded-full"}),n.jsx("span",{className:"font-semibold",children:"Live Data"})]})]})}),a?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx(gt,{className:"w-8 h-8 sm:w-12 sm:h-12 animate-pulse text-blue-500 mx-auto mb-4"}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"Loading purchased numbers..."}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500",children:"Please wait while we fetch your data"})]})}):e.length===0?n.jsx("div",{className:"flex items-center justify-center py-12 sm:py-20",children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-6",children:n.jsx(gt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-gray-400"})}),n.jsx("p",{className:"text-lg sm:text-xl font-semibold text-gray-700 mb-2",children:"No purchased numbers found"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-500 mb-4",children:"Your purchased numbers will appear here"}),n.jsx("button",{onClick:()=>g("/user/phonecalls"),className:"bg-blue-500 text-white px-4 py-2 sm:px-6 sm:py-2 rounded-lg font-semibold hover:bg-blue-600 transition-colors text-sm sm:text-base","aria-label":"Buy Numbers",children:"Buy Numbers"})]})}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden lg:block overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{children:[n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Phone Number"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Friendly Name"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Date Purchased"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Attached Assistant"}),n.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Action"})]})}),n.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:P.map((K,z)=>n.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mr-4",children:n.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),n.jsx("div",{className:"text-lg font-bold text-gray-900",children:y(K.phone_number)})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(bi,{className:"w-4 h-4 text-gray-500 mr-2"}),n.jsx("div",{className:"text-sm font-medium text-gray-900",children:K.friendly_name||""})]})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-xs font-mono text-gray-600 bg-gray-100 px-2 py-1 rounded",children:j(K.date_purchased)})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsx("span",{className:"text-sm text-gray-700",children:K.attached_assistant??""})}),n.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:K}),children:[n.jsx(Dn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]},K.phone_number||z))})]})}),n.jsx("div",{className:"lg:hidden divide-y divide-gray-200",children:P.map((K,z)=>n.jsx("div",{className:"p-4 sm:p-6",children:n.jsxs("div",{className:"flex items-start space-x-3",children:[n.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:n.jsx(gt,{className:"w-5 h-5 text-blue-600"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"text-lg font-bold text-gray-900 mb-2",children:y(K.phone_number)}),n.jsxs("div",{className:"flex items-center mb-2",children:[n.jsx(bi,{className:"w-4 h-4 text-gray-500 mr-1"}),n.jsx("span",{className:"text-sm text-gray-600",children:K.friendly_name||""})]}),n.jsx("div",{className:"text-xs font-mono text-gray-500 bg-gray-100 px-2 py-1 rounded inline-block mb-2",children:j(K.date_purchased)}),n.jsxs("div",{className:"text-sm text-gray-700 mb-3",children:["Assistant: ",K.attached_assistant??""]}),n.jsx("div",{children:n.jsxs("button",{className:"flex items-center px-3 py-2 bg-red-50 text-red-700 rounded-lg font-semibold hover:bg-red-100 transition-colors",onClick:()=>u({open:!0,number:K}),children:[n.jsx(Dn,{className:"w-4 h-4 mr-1"}),"Delete"]})})]})]})},K.phone_number||z))})]})]}),e.length>h&&n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between px-4 sm:px-6 py-4 border-t border-gray-200 bg-gray-50",children:[n.jsxs("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",e.length===0?0:C+1," to ",_," of ",e.length," results"]}),n.jsxs("div",{className:"flex items-center space-x-2",children:[n.jsx("button",{onClick:E,disabled:s===1,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Previous page",children:"Previous"}),n.jsx("div",{className:"flex items-center space-x-1",children:(()=>{const K=[];let z=1,U=k;k>5&&(s<=3?(z=1,U=5):s>=k-2?(z=k-4,U=k):(z=s-2,U=s+2));for(let ae=z;ae<=U;ae++)K.push(n.jsx("button",{onClick:()=>$(ae),className:`px-3 py-2 text-sm font-medium rounded-lg transition-colors ${s===ae?"bg-blue-600 text-white":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"}`,"aria-current":s===ae?"page":void 0,children:ae},ae));return K})()}),n.jsx("button",{onClick:T,disabled:s>=k,className:"px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 hover:text-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors","aria-label":"Next page",children:"Next"})]})]})})]})]})}function ls(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 11 12 14 22 4"},child:[]},{tag:"path",attr:{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11"},child:[]}]})(e)}function Zx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(e)}function $L(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"15 18 9 12 15 6"},child:[]}]})(e)}function IL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"9 18 15 12 9 6"},child:[]}]})(e)}function BL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(e)}function nx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"polyline",attr:{points:"12 6 12 12 16 14"},child:[]}]})(e)}function zL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"},child:[]}]})(e)}function Mme(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"1",x2:"12",y2:"23"},child:[]},{tag:"path",attr:{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"},child:[]}]})(e)}function UL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"},child:[]},{tag:"polyline",attr:{points:"7 10 12 15 17 10"},child:[]},{tag:"line",attr:{x1:"12",y1:"15",x2:"12",y2:"3"},child:[]}]})(e)}function Qx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"},child:[]},{tag:"path",attr:{d:"M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"},child:[]}]})(e)}function Jx(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"},child:[]},{tag:"polyline",attr:{points:"14 2 14 8 20 8"},child:[]},{tag:"line",attr:{x1:"16",y1:"13",x2:"8",y2:"13"},child:[]},{tag:"line",attr:{x1:"16",y1:"17",x2:"8",y2:"17"},child:[]},{tag:"polyline",attr:{points:"10 9 9 9 8 9"},child:[]}]})(e)}function Dme(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polygon",attr:{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3"},child:[]}]})(e)}function rf(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"4",y1:"9",x2:"20",y2:"9"},child:[]},{tag:"line",attr:{x1:"4",y1:"15",x2:"20",y2:"15"},child:[]},{tag:"line",attr:{x1:"10",y1:"3",x2:"8",y2:"21"},child:[]},{tag:"line",attr:{x1:"16",y1:"3",x2:"14",y2:"21"},child:[]}]})(e)}function Sl(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"},child:[]}]})(e)}function eg(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"12",y1:"5",x2:"12",y2:"19"},child:[]},{tag:"line",attr:{x1:"5",y1:"12",x2:"19",y2:"12"},child:[]}]})(e)}function FL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"23 4 23 10 17 10"},child:[]},{tag:"polyline",attr:{points:"1 20 1 14 7 14"},child:[]},{tag:"path",attr:{d:"M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"},child:[]}]})(e)}function VL(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"11",cy:"11",r:"8"},child:[]},{tag:"line",attr:{x1:"21",y1:"21",x2:"16.65",y2:"16.65"},child:[]}]})(e)}function Rme(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"},child:[]}]})(e)}function Bo(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"3 6 5 6 21 6"},child:[]},{tag:"path",attr:{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"},child:[]},{tag:"line",attr:{x1:"10",y1:"11",x2:"10",y2:"17"},child:[]},{tag:"line",attr:{x1:"14",y1:"11",x2:"14",y2:"17"},child:[]}]})(e)}function Td(e){return Bt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"9",cy:"7",r:"4"},child:[]},{tag:"path",attr:{d:"M23 21v-2a4 4 0 0 0-3-3.87"},child:[]},{tag:"path",attr:{d:"M16 3.13a4 4 0 0 1 0 7.75"},child:[]}]})(e)}const Dc="https://aisdr-dbt.ddns.net",io={ASSISTANTS:`${Dc}/api/get-assistants`,DELETE_ASSISTANT:e=>`${Dc}/api/assistants/${e}`,START_CALL:(e,t)=>`${Dc}/api/phone-call/${encodeURIComponent(e)}/${encodeURIComponent(t)}`,WALLET:`${Dc}/api/wallet`,CAN_CALL:e=>`${Dc}/api/wallet/can-call?seconds=${Math.max(1,Number(e)||1)}`,CALL_COUNTS:`${Dc}/api/user/call-counts`};function Lme(){const e=rn(),t=x.useMemo(()=>localStorage.getItem("token"),[]),[a,r]=x.useState([]),[s,l]=x.useState(null),[c,u]=x.useState(null),[m,f]=x.useState(!0),[h,g]=x.useState(!1),[b,y]=x.useState(!0),[j,w]=x.useState(""),[S,k]=x.useState("all"),[_,C]=x.useState("all"),[P,T]=x.useState("created_at"),[E,$]=x.useState("desc"),[M,F]=x.useState(!1),[K,z]=x.useState(null),[U,ae]=x.useState([]),[ke,se]=x.useState(!1),[O,H]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[G,B]=x.useState(120),[A,L]=x.useState(null),R=x.useRef(null),[q,ce]=x.useState(1),Z=10,W=async()=>{try{g(!0);const[Q,Se,fe]=await Promise.all([fetch(io.ASSISTANTS,{headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}}),t?fetch(io.WALLET,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}}):Promise.resolve(null),t?fetch(io.CALL_COUNTS,{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}}):Promise.resolve(null)]);if(!Q.ok)throw new Error(`Assistants HTTP ${Q.status}`);const $e=await Q.json(),nt=Array.isArray($e)?$e:Array.isArray($e==null?void 0:$e.assistants)?$e.assistants:[];r(nt),Se&&(Se.ok?l(await Se.json()):l(null)),fe&&(fe.ok?u(await fe.json()):u(null))}catch(Q){console.error(Q),I.error("Failed to fetch assistants")}finally{f(!1),g(!1)}},_e=async Q=>{if(!t){L(null);return}try{const fe=await(await fetch(io.CAN_CALL(Q),{headers:{Accept:"application/json",Authorization:`Bearer ${t}`}})).json();L(fe||null)}catch{L(null)}};x.useEffect(()=>{W()},[]),x.useEffect(()=>{if(!b)return;const Q=setInterval(W,15e3);return()=>clearInterval(Q)},[b]),x.useEffect(()=>{if(ke)return clearTimeout(R.current),R.current=setTimeout(()=>_e(G),300),()=>clearTimeout(R.current)},[G,ke]);const te=x.useMemo(()=>{let Q=[...a];S!=="all"&&(Q=Q.filter(fe=>((fe==null?void 0:fe.provider)||"").toLowerCase()===S)),_!=="all"&&(Q=Q.filter(fe=>((fe==null?void 0:fe.category)||"").toLowerCase()===_));const Se=j.trim().toLowerCase();return Se&&(Q=Q.filter(fe=>[fe==null?void 0:fe.name,fe==null?void 0:fe.model,fe==null?void 0:fe.voice,fe==null?void 0:fe.category,fe==null?void 0:fe.attached_Number,fe==null?void 0:fe.vapi_assistant_id].filter(Boolean).map(String).map(nt=>nt.toLowerCase()).some(nt=>nt.includes(Se)))),Q.sort((fe,$e)=>{if(P==="created_at"){const Je=fe!=null&&fe.created_at?new Date(fe.created_at).getTime():0,Rt=$e!=null&&$e.created_at?new Date($e.created_at).getTime():0;return E==="asc"?Je-Rt:Rt-Je}const nt=((fe==null?void 0:fe[P])??"").toString().toLowerCase(),ft=(($e==null?void 0:$e[P])??"").toString().toLowerCase();return nt<ft?E==="asc"?-1:1:nt>ft?E==="asc"?1:-1:0}),Q},[a,j,S,_,P,E]),je=x.useMemo(()=>{const Q=new Set((a||[]).map(Se=>((Se==null?void 0:Se.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Q)]},[a]),Ee=x.useMemo(()=>{const Q=new Set((a||[]).map(Se=>((Se==null?void 0:Se.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(Q)]},[a]),Ae=Math.max(1,Math.ceil(te.length/Z)),xe=Math.min(q,Ae),Fe=te.slice((xe-1)*Z,xe*Z),Be=x.useMemo(()=>te.length?te.reduce((Q,Se)=>{const fe=Q!=null&&Q.created_at?new Date(Q.created_at):null,$e=Se!=null&&Se.created_at?new Date(Se.created_at):null;return!fe&&$e?Se:!$e&&fe||!fe&&!$e?Q:$e>fe?Se:Q},te[0]):null,[te]),ve=Q=>{P===Q?$(Se=>Se==="asc"?"desc":"asc"):(T(Q),$("asc"))},le=Q=>{z(Q),F(!0)},Te=async()=>{if(K)try{const Q=await fetch(io.DELETE_ASSISTANT(K),{method:"DELETE",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}});if(!Q.ok){let Se=`HTTP ${Q.status}`;try{const fe=await Q.json();fe!=null&&fe.detail&&(Se=fe.detail)}catch{}throw new Error(Se)}I.success("Assistant deleted"),ae(Se=>Se.filter(fe=>fe!==K)),W()}catch(Q){console.error(Q),I.error((Q==null?void 0:Q.message)||"Delete failed")}finally{F(!1),z(null)}},ee=Q=>{const Se=Q==null?void 0:Q.knowledge_base;if(Array.isArray(Se)&&Se.length){const fe=Se.filter($e=>typeof $e=="string"&&/^https?:\/\//i.test($e));if(fe.length){fe.forEach($e=>window.open($e,"_blank","noopener"));return}}I.info("No file URLs available for this assistant.")},we=Q=>{if(!(Q!=null&&Q.vapi_assistant_id)){I.error("Missing VAPI Assistant ID");return}H({vapi_assistant_id:Q.vapi_assistant_id,number:(Q==null?void 0:Q.attached_Number)||"",first_name:"",last_name:"",email:""}),B(120),se(!0),_e(120)},De=async Q=>{Q.preventDefault();const{vapi_assistant_id:Se,number:fe,first_name:$e,last_name:nt,email:ft}=O;if(!fe)return I.error("Enter the customer's phone number (E.164 preferred)");if(A&&A.ok===!1){const Je=((A.shortfall_cents||0)/100).toFixed(2);I.error(`Insufficient balance. Shortfall $${Je}. Top up first.`),setTimeout(()=>e("/user/PricingSection"),350);return}try{const Je=io.START_CALL(Se,fe),Rt={first_name:$e||"Caller",last_name:nt||"",email:ft||"caller@example.com",add_date:new Date().toISOString(),mobile_no:fe,custom_field_01:null,custom_field_02:null},Pt=await fetch(Je,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:t?`Bearer ${t}`:""},body:JSON.stringify(Rt)}),Re=await Pt.json().catch(()=>({}));if(!Pt.ok||(Re==null?void 0:Re.success)===!1)throw new Error((Re==null?void 0:Re.detail)||`HTTP ${Pt.status}`);I.success("Call initiated"),se(!1)}catch(Je){console.error(Je),I.error((Je==null?void 0:Je.message)||"Failed to initiate call")}},Ue=Q=>U.includes(Q),Ve=Q=>{ae(Se=>Se.includes(Q)?Se.filter(fe=>fe!==Q):[...Se,Q])},rt=()=>{const Q=Fe.map(fe=>fe.id).filter(Boolean),Se=Q.every(fe=>U.includes(fe));ae(fe=>Se?fe.filter($e=>!Q.includes($e)):Array.from(new Set([...fe,...Q])))},tt=async()=>{if(!U.length)return I.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const Q of U)await fetch(io.DELETE_ASSISTANT(Q),{method:"DELETE",headers:{Accept:"application/json",Authorization:t?`Bearer ${t}`:""}});I.success("Bulk delete complete"),ae([]),W()}catch(Q){console.error(Q),I.error("Bulk delete encountered an error")}},Ce=()=>{const Q=["Name","Model","Voice","Attached Number","Category","Created","Assistant ID"],Se=te.map(Je=>[(Je==null?void 0:Je.name)??"",(Je==null?void 0:Je.model)??"",(Je==null?void 0:Je.voice)??"",(Je==null?void 0:Je.attached_Number)??"",(Je==null?void 0:Je.category)??"",Je!=null&&Je.created_at?new Date(Je.created_at).toLocaleString():"",(Je==null?void 0:Je.vapi_assistant_id)??""]),fe=[Q,...Se].map(Je=>Je.map(Rt=>`"${String(Rt).replace(/"/g,'""')}"`).join(",")).join(`
`),$e=new Blob([fe],{type:"text/csv;charset=utf-8;"}),nt=URL.createObjectURL($e),ft=document.createElement("a");ft.href=nt,ft.download="assistants.csv",ft.click(),URL.revokeObjectURL(nt)};return m?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((Q,Se)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},Se))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((Q,Se)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((fe,$e)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},$e))})]})},Se))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1600px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(Td,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[te.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nx,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",b?"enabled":"disabled"]})]}),s&&n.jsxs("div",{className:"flex items-center gap-2 rounded-xl bg-white/15 px-3 py-1.5",children:[n.jsx(Mme,{className:"h-4 w-4"}),n.jsxs("span",{className:"font-semibold",children:["Balance $",(((s.balance_cents||0)+(s.bonus_cents||0))/100).toFixed(2)]}),n.jsx("button",{onClick:()=>e("/user/PricingSection"),className:"ml-2 rounded-lg bg-white/20 px-2 py-1 text-xs font-medium hover:bg-white/30",children:"Top up"})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>y(Q=>!Q),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${b?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${b?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:W,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(FL,{className:`h-4 w-4 transition-transform ${h?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:Ce,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(UL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/user/assistant/create"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(eg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(VL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:j,onChange:Q=>w(Q.target.value),placeholder:"Search assistants, models, voices, phone, ID",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(kE,{label:"Provider",value:S,onChange:k,options:je}),n.jsx(kE,{label:"Category",value:_,onChange:C,options:Ee})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1600px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(f0,{title:"Total Assistants",value:te.length,icon:n.jsx(Td,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(f0,{title:"Todays Calls",value:(c==null?void 0:c.today_calls)??0,icon:n.jsx(Sl,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(f0,{title:"Total Calls",value:(c==null?void 0:c.total_calls)??0,icon:n.jsx(ls,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(f0,{title:"Last Created",value:Be!=null&&Be.name?Be.name.length>12?`${Be.name.slice(0,12)}`:Be.name:"",icon:n.jsx(nx,{className:"h-6 w-6 text-cyan-600"}),subtitle:Be!=null&&Be.created_at?new Date(Be.created_at).toLocaleDateString():""})]}),U.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(ls,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[U.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:rt,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:tt,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),te.length===0?n.jsx(zme,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"flex items-center justify-between border-b border-gray-100 px-6 py-4",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsx(Rme,{className:"h-4 w-4"}),n.jsx("span",{children:"Calls require sufficient wallet balance"})]})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx($me,{className:"w-12 text-center",checked:Fe.every(Q=>U.includes(Q.id))&&Fe.length>0,onChange:rt}),n.jsx(Rc,{className:"w-[26%]",align:"center",label:"Assistant",sortKey:"name",sortDir:P==="name"?E:null,onSort:ve}),n.jsx(Rc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:P==="model"?E:null,onSort:ve}),n.jsx(Rc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:P==="voice"?E:null,onSort:ve}),n.jsx(Rc,{className:"w-[18%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:P==="attached_Number"?E:null,onSort:ve}),n.jsx(Rc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:P==="category"?E:null,onSort:ve}),n.jsx(Rc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:P==="created_at"?E:null,onSort:ve}),n.jsx("th",{className:"w-[14%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:Fe.map(Q=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ue(Q.id)?"bg-blue-50/50":""}`,children:[n.jsx(Ime,{className:"w-12 text-center",checked:Ue(Q.id),onChange:()=>Ve(Q.id)}),n.jsx("td",{className:"w-[26%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(rf,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[40ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:Q.name||""}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[n.jsxs("span",{children:[Array.isArray(Q.knowledge_base)?Q.knowledge_base.length:0," KB items"]}),(Q==null?void 0:Q.vapi_assistant_id)&&n.jsxs("button",{className:"rounded-lg px-1.5 py-0.5 text-[11px] hover:bg-gray-100",onClick:()=>Tw(Q.vapi_assistant_id),title:"Copy Assistant ID",children:["ID: ",Q.vapi_assistant_id.slice(0,8),""]})]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(ud,{variant:"secondary",children:Q.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[26ch] truncate text-center",children:n.jsx(ud,{variant:"accent",children:Q.voice||""})})}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"break-all font-mono text-sm text-gray-700",children:Q.attached_Number||""}),Q.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Tw(Q.attached_Number),children:n.jsx(zL,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:Q.category?n.jsx(ud,{variant:"primary",children:Q.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 whitespace-nowrap text-center text-sm text-gray-600",children:Q.created_at?new Date(Q.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[14%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full min-w-[240px] items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(h0,{title:"Edit Assistant",onClick:()=>e(`/user/edit-assistant/${Q.id}`),variant:"primary",children:n.jsx(Qx,{className:"h-4 w-4"})}),n.jsx(h0,{title:"View Files",onClick:()=>ee(Q),variant:"success",children:n.jsx(Jx,{className:"h-4 w-4"})}),n.jsx(h0,{title:"Start Call",onClick:()=>we(Q),variant:"secondary",children:n.jsx(Sl,{className:"h-4 w-4"})}),n.jsx(h0,{title:"Delete",onClick:()=>le(Q.id),variant:"danger",children:n.jsx(Bo,{className:"h-4 w-4"})})]})})]},Q.id??Q.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:Fe.map(Q=>n.jsx(Bme,{assistant:Q,isSelected:Ue(Q.id),onToggleSelect:()=>Ve(Q.id),onEdit:()=>e(`/user/edit-assistant/${Q.id}`),onViewFiles:()=>ee(Q),onCall:()=>we(Q),onDelete:()=>le(Q.id)},Q.id??Q.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(xe-1)*Z+1," to ",Math.min(xe*Z,te.length)," of"," ",te.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(CE,{disabled:xe<=1,onClick:()=>ce(Q=>Math.max(1,Q-1)),children:[n.jsx($L,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,Ae)},(Q,Se)=>{const fe=Se+1;return n.jsx("button",{onClick:()=>ce(fe),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${fe===xe?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:fe},fe)})}),n.jsxs(CE,{disabled:xe>=Ae,onClick:()=>ce(Q=>Math.min(Ae,Q+1)),children:["Next",n.jsx(IL,{className:"h-4 w-4"})]})]})]})]})]}),M&&n.jsx(AE,{onClose:()=>F(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(Bo,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>F(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:Te,children:"Delete Assistant"})]})]})}),ke&&n.jsxs(AE,{onClose:()=>se(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(Sl,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:De,className:"space-y-4",children:[n.jsx(nm,{label:"Customer Phone Number",value:O.number,onChange:Q=>H(Se=>({...Se,number:Q})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(nm,{label:"First Name",value:O.first_name,onChange:Q=>H(Se=>({...Se,first_name:Q})),placeholder:"John"}),n.jsx(nm,{label:"Last Name",value:O.last_name,onChange:Q=>H(Se=>({...Se,last_name:Q})),placeholder:"Doe"})]}),n.jsx(nm,{label:"Email Address",value:O.email,onChange:Q=>H(Se=>({...Se,email:Q})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsx(nm,{label:"Planned Duration (seconds)",value:G,onChange:Q=>B(Math.max(1,Number(Q||1))),placeholder:"e.g. 120",type:"number",required:!0}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((A==null?void 0:A.needed_cents)||0)/100).toFixed(2)]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",((((s==null?void 0:s.balance_cents)||0)+((s==null?void 0:s.bonus_cents)||0))/100).toFixed(2)]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[A!=null&&A.ok?n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[n.jsx(ls,{className:"h-4 w-4"})," Youre good to go"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[n.jsx(Bo,{className:"h-4 w-4"}),"Insufficient balance. Shortfall $",(((A==null?void 0:A.shortfall_cents)||0)/100).toFixed(2)]}),!(A!=null&&A.ok)&&n.jsx("button",{type:"button",onClick:()=>e("/user/PricingSection"),className:"ml-auto rounded-lg border border-blue-200 bg-white px-3 py-1.5 text-xs font-medium text-blue-700 hover:bg-blue-50",children:"Top up wallet"})]}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>se(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function f0({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function kE({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(Zx,{className:"h-4 w-4 text-white/70"})})]})}function ud({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function h0({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function Rc({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(BL,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(Zx,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function $me({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(ls,{className:"h-3 w-3"})})})})}function Ime({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(ls,{className:"h-3 w-3"})})})})}function Bme({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(ls,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(rf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]}),(e==null?void 0:e.vapi_assistant_id)&&n.jsxs("button",{onClick:()=>Tw(e.vapi_assistant_id),className:"mt-1 text-xs text-blue-600 underline",title:"Copy Assistant ID",children:["ID: ",e.vapi_assistant_id.slice(0,8),""]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(ud,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(ud,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"break-all font-mono text-sm",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(ud,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(Qx,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(Jx,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(Sl,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(Bo,{className:"h-4 w-4"}),"Delete"]})]})]})}function CE({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function AE({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function nm({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function zme(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(Td,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/user/assistant/create",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(eg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Tw(e){e&&navigator.clipboard.writeText(e).then(()=>I.success("Copied to clipboard")).catch(()=>I.info(e))}const Zo=[{showName:"Asteria",name:"asteria",voice:"aura-asteria-en",gender:"female",audioSr:"/Audios/output_Asteria.wav",provider:"deepgram"},{showName:"Luna",name:"luna",voice:"aura-luna-en",gender:"female",audioSr:"/Audios/output_Luna.wav",provider:"deepgram"},{showName:"Stella",name:"stella",voice:"aura-stella-en",gender:"female",audioSr:"/Audios/output_Stella.wav",provider:"deepgram"},{showName:"Athena",name:"athena",voice:"aura-athena-en",gender:"female",audioSr:"/Audios/output_Athena.wav",provider:"deepgram"},{showName:"Hera",name:"hera",voice:"aura-hera-en",gender:"female",audioSr:"/Audios/output_Hera.wav",provider:"deepgram"},{showName:"Orion",name:"orion",voice:"aura-orion-en",gender:"male",audioSr:"/Audios/output_Orion.wav",provider:"deepgram"},{showName:"Arcas",name:"arcas",voice:"aura-arcas-en",gender:"male",audioSr:"/Audios/output_Arcas.wav",provider:"deepgram"},{showName:"Perseus",name:"perseus",voice:"aura-perseus-en",gender:"male",audioSr:"/Audios/output_Perseus.wav",provider:"deepgram"},{showName:"Angus",name:"angus",voice:"aura-angus-en",gender:"male",audioSr:"/Audios/output_Angus.wav",provider:"deepgram"},{showName:"Orpheus",name:"orpheus",voice:"aura-orpheus-en",gender:"male",audioSr:"/Audios/output_Orpheus.wav",provider:"deepgram"},{showName:"Helios",name:"helios",voice:"aura-helios-en",gender:"male",audioSr:"/Audios/output_Helios.wav",provider:"deepgram"},{showName:"Zeus",name:"zeus",voice:"aura-zeus-en",gender:"male",audioSr:"/Audios/output_Zeus.wav",provider:"deepgram"}],Wd=[{showName:"nova",name:"nova",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/nova.mp3",provider:"openai"},{showName:"onyx",name:"onyx",voice:"gpt-4o-mini-tts",gender:"male",audioSr:"/Audios/onyx.mp3",provider:"openai"},{showName:"alloy",name:"alloy",voice:"gpt-4o-mini-tts",gender:"female",audioSr:"/Audios/alloy.mp3",provider:"openai"}];[...Zo,...Wd];Zo.filter(e=>e.gender==="female");const k1=Zo.filter(e=>e.gender==="male"),C1=Zo;Wd.filter(e=>e.gender==="female");Wd.filter(e=>e.gender==="male");const xt={danger:"#EF4444",text:"#0F172A",lightText:"#64748B",border:"#E2E8F0",background:"#F8FAFC",card:"#FFFFFF"},TE=/^\+\d{7,15}$/,EE=[{id:1,label:"Core & Transcription",Icon:Vw},{id:2,label:"Voice",Icon:Xw},{id:3,label:"Review & Save",Icon:kl}],Ume=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Fme=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Vme(){const{assistantId:e}=lf(),t=rn(),a="https://aisdr-dbt.ddns.net",[r,s]=x.useState(1),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[f,h]=x.useState(!1),g=x.useRef(null),[b,y]=x.useState(!1),[j,w]=x.useState([]),[S,k]=x.useState(!1),[_,C]=x.useState(""),[P,T]=x.useState("all"),[E,$]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],voice_provider:"deepgram",voice_model:"",voice:"",speed:.8,stability:.5,similarityBoost:.75,draft:!1,assistant_toggle:!0}),[M,F]=x.useState({}),K=x.useMemo(()=>{const A=E.voice_provider==="openai"?Wd:Zo;return(P==="all"?A:A.filter(R=>R.gender===P)).slice().sort((R,q)=>((R==null?void 0:R.showName)||"").localeCompare((q==null?void 0:q.showName)||""))},[E.voice_provider,P]);x.useEffect(()=>{if(!E.voice)return;const A=K.find(L=>(L==null?void 0:L.name)===E.voice);A!=null&&A.voice&&($(L=>({...L,voice_model:A.voice})),F(L=>({...L,voice_model:""})))},[E.voice,K]),x.useEffect(()=>{if(!E.voice)return y(!1);K.some(L=>L.name===E.voice)||y(!1)},[K,E.voice]);const z=async()=>{k(!0),C("");try{const A=localStorage.getItem("token"),L=await fetch(`${a}/api/purchased_numbers`,{headers:{Accept:"application/json",...A?{Authorization:`Bearer ${A}`}:{}}});if(!L.ok)throw new Error(`HTTP ${L.status}`);const R=await L.json(),ce=(Array.isArray(R)?R:(R==null?void 0:R.purchased_numbers)||[]).filter(Boolean).map(Z=>({phone_number:(Z==null?void 0:Z.phone_number)||"",friendly_name:(Z==null?void 0:Z.friendly_name)||"",attached_assistant:(Z==null?void 0:Z.attached_assistant)??null})).filter(Z=>Z.phone_number);w(ce)}catch(A){console.error(A),C("Failed to load your purchased numbers"),w([])}finally{k(!1)}};x.useEffect(()=>{(async()=>{try{const L=localStorage.getItem("token");if(!L){I.error("No authentication token found. Please log in."),t("/login");return}const R=await fetch(`${a}/api/get-assistants`,{headers:{Authorization:`Bearer ${L}`,Accept:"application/json"}});if(!R.ok)throw new Error(`HTTP ${R.status}`);const q=await R.json(),ce=Number(e),Z=q.find(je=>Number(je.id)===ce);if(!Z)throw new Error("Assistant not found");const W=Z.voice_provider==="openai"||Z.voice_provider==="deepgram"?Z.voice_provider:"deepgram",_e={name:Z.name||"",provider:Z.provider||"openai",model:Z.model||"gpt-4o-mini",temperature:Z.temperature??.7,maxTokens:Z.max_tokens??Z.maxTokens??250,systemPrompt:Z.system_prompt||Z.systemPrompt||"",first_message:Z.first_message||"",transcribe_provider:Z.transcribe_provider||"google",transcribe_language:Z.transcribe_language||"English",transcribe_model:Z.transcribe_model||"gemini-2.0-flash",forwardingPhoneNumber:Z.forwardingPhoneNumber||"",attached_Number:Z.attached_Number||"",category:Z.category||"",knowledgeBase:Z.knowledge_base||Z.knowledgeBase||[],leadsfile:Z.leadsfile||[],languages:Z.languages||[],endCallPhrases:Z.endCallPhrases||[],voice_provider:W,voice_model:Z.voice_model||"",voice:Z.voice||"",speed:Z.speed??.8,stability:Z.stability??.5,similarityBoost:Z.similarityBoost??.75,draft:!!Z.draft,assistant_toggle:!!(Z.assistant_toggle??!0)};$(je=>({...je,..._e}));const te=_e.voice&&_e.voice_model&&(_e.voice_provider==="deepgram"||_e.voice_provider==="openai");y(!!te),z(),c(!1)}catch(L){console.error("Error loading assistant:",L),I.error((L==null?void 0:L.message)||"Failed to load assistant"),t("/")}})()},[e]);const U=A=>{const{id:L,value:R,type:q,checked:ce}=A.target,Z=q==="checkbox"?ce:R;$(W=>({...W,[L]:Z})),F(W=>({...W,[L]:""}))},ae=A=>{try{g.current&&(g.current.pause(),g.current=null);const L=new Audio(A);g.current=L,h(!0),L.play().catch(()=>{I.error("Failed to play voice preview"),h(!1),g.current=null}),L.onended=()=>{h(!1),g.current=null}}catch{I.error("Failed to play voice preview"),h(!1)}},ke=()=>{g.current&&(g.current.pause(),g.current=null,h(!1))},se=A=>{if(A!==r){if(A===3&&(!E.voice||!b)){F(L=>({...L,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}ke(),s(A)}},O=()=>{if(r===1)return s(2);if(r===2){if(!E.voice){F(A=>({...A,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!b){F(A=>({...A,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}return s(3)}},H=A=>{ke();const L=A.target.value;$(R=>({...R,voice_provider:L,voice:"",voice_model:""})),y(!1),F(R=>({...R,voice:"",voice_model:""}))},G=()=>{const A=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],L={};let R=!0;return A.forEach(q=>{const ce=E[q];(ce==null||ce===""||Number.isNaN(ce))&&(L[q]="Required",R=!1)}),(E.temperature<0||E.temperature>2)&&(L.temperature="Temperature must be between 0 and 2",R=!1),Number(E.maxTokens)<1&&(L.maxTokens="maxTokens must be a positive integer",R=!1),E.forwardingPhoneNumber&&!TE.test(E.forwardingPhoneNumber)&&(L.forwardingPhoneNumber="Must be E.164 (+123...)",R=!1),E.attached_Number&&!TE.test(E.attached_Number)&&(L.attached_Number="Invalid number format",R=!1),F(L),R||((Z=>Z.some(W=>L[W]))(["name","systemPrompt","first_message","forwardingPhoneNumber","attached_Number","category"])?s(1):s(2)),R},B=async A=>{if(A.preventDefault(),!u){if(r!==3){I.error("Please complete the steps first.");return}if(!G()){I.error("Fix the highlighted fields.");return}m(!0),ke();try{const L=localStorage.getItem("token");if(!L)throw new Error("No authentication token found. Please log in.");const R={name:E.name,provider:E.provider,first_message:E.first_message||null,model:E.model,systemPrompt:E.systemPrompt||null,knowledgeBase:E.knowledgeBase,leadsfile:E.leadsfile,temperature:Number(E.temperature),maxTokens:Number(E.maxTokens),transcribe_provider:E.transcribe_provider,transcribe_language:E.transcribe_language,transcribe_model:E.transcribe_model,languages:E.languages,forwardingPhoneNumber:E.forwardingPhoneNumber||null,endCallPhrases:E.endCallPhrases,voice_provider:E.voice_provider,voice:E.voice,voice_model:E.voice_model,attached_Number:E.attached_Number||null,draft:!!E.draft,assistant_toggle:!!E.assistant_toggle,category:E.category||null,speed:Number(E.speed),stability:Number(E.stability),similarityBoost:Number(E.similarityBoost)},q=await fetch(`${a}/api/update_assistant/${e}`,{method:"PUT",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:`Bearer ${L}`},body:JSON.stringify(R)});if(!q.ok){let ce=`HTTP ${q.status}`;try{const Z=await q.json();Z!=null&&Z.detail&&(ce=Z.detail)}catch{const Z=await q.text();Z&&(ce=`${ce}  ${Z}`)}throw new Error(ce)}I.success("Assistant updated successfully!"),t("/user/callassistent")}catch(L){console.error("Update error",L),I.error((L==null?void 0:L.message)||"Failed to update assistant")}finally{m(!1)}}};return l?n.jsx("div",{className:"min-h-screen grid place-items-center",style:{background:xt.background},children:n.jsxs("div",{className:"flex items-center gap-3 text-lg",style:{color:xt.text},children:[n.jsx(_n,{className:"h-6 w-6 animate-spin"}),"Loading assistant"]})}):n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:xt.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(99,102,241,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(16,185,129,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(59,130,246,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-10px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:xt.border,backgroundColor:xt.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-indigo-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-emerald-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold",style:{color:xt.text},children:[n.jsx(kl,{className:"h-7 w-7 text-indigo-600"})," Edit Assistant"]}),n.jsx("p",{className:"mt-2 text-sm",style:{color:xt.lightText},children:"Minimal UI  Voice required  Create-aligned defaults"})]})]})}),n.jsx(Hme,{currentStep:r,onChange:se}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:xt.card,borderColor:xt.border},children:n.jsxs("form",{onSubmit:B,noValidate:!0,children:[n.jsxs(It,{mode:"wait",children:[r===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(p0,{id:"name",label:"Assistant Name",value:E.name,onChange:U,error:M.name,placeholder:"SupportBot"}),n.jsx(p0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:E.forwardingPhoneNumber,onChange:U,error:M.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Mm,{children:"Attach Purchased Number (optional)"}),n.jsxs("button",{type:"button",onClick:z,className:"inline-flex items-center gap-2 rounded-lg border px-3 py-1 text-sm font-medium hover:bg-slate-50",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},disabled:S,title:"Refresh list",children:[n.jsx(Ge,{className:S?"h-4 w-4 animate-spin":"h-4 w-4"}),S?"Loading":"Refresh"]})]}),n.jsxs("select",{id:"attached_Number",value:E.attached_Number,onChange:U,disabled:S,className:"w-full rounded-xl border p-3 outline-none transition disabled:opacity-60 focus:border-indigo-500",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},children:[n.jsx("option",{value:"",children:j.length?"Do not change":"No purchased numbers found"}),j.map(A=>n.jsx("option",{value:A.phone_number,children:A.friendly_name?`${A.friendly_name}  ${A.phone_number}`:A.phone_number},A.phone_number))]}),_&&n.jsx(wo,{children:_}),M.attached_Number&&n.jsx(wo,{children:M.attached_Number})]}),n.jsx(p0,{id:"category",label:"Category (optional)",value:E.category,onChange:U}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Mm,{children:"System Prompt"}),n.jsx(ME,{id:"systemPrompt",value:E.systemPrompt,onChange:U,placeholder:"Write your system prompt",rows:4}),M.systemPrompt&&n.jsx(wo,{children:M.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Mm,{children:"First Message"}),n.jsx(ME,{id:"first_message",value:E.first_message,onChange:U,placeholder:"Hello! ",rows:3}),M.first_message&&n.jsx(wo,{children:M.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(DE,{id:"draft",label:"Save as Draft",checked:E.draft,onChange:U}),n.jsx(DE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:E.assistant_toggle,onChange:U})]})]},"step1"),r===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(OE,{id:"voice_provider",label:"Voice Provider",value:E.voice_provider,onChange:H,options:Ume,error:M.voice_provider}),n.jsx(OE,{id:"genderFilter",label:"Gender",value:P,onChange:A=>{ke(),T(A.target.value)},options:Fme}),n.jsx(p0,{id:"voice_model",label:"Voice Model",value:E.voice_model,onChange:()=>{},error:M.voice_model,placeholder:E.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!b&&n.jsxs("p",{className:"text-sm",style:{color:xt.lightText},children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm",style:{color:xt.lightText},children:["Showing ",n.jsx("span",{className:"font-medium",children:K.length})," voices"]})}),n.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:K.map(A=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:E.voice===A.name?"#93c5fd":xt.border,backgroundColor:E.voice===A.name?"#eff6ff":xt.card},onClick:()=>{$(L=>({...L,voice:A.name,voice_model:A.voice,voice_provider:A.provider||E.voice_provider})),y(!0),F(L=>({...L,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${E.voice===A.name?"border-indigo-500 bg-indigo-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold",style:{color:xt.text},children:A.showName||A.name}),n.jsxs("div",{className:"text-sm capitalize",style:{color:xt.lightText},children:[A.gender||"unknown","  ",A.provider]}),n.jsx("div",{className:"mt-1 text-xs",style:{color:xt.lightText},children:A.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(qme,{isActive:f&&E.voice===A.name,onPlay:()=>ae(A.audioSr||""),onStop:ke})})]})]},`${A.provider}-${A.name}`))}),M.voice&&n.jsx(wo,{children:M.voice})]},"step2"),r===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:xt.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold",style:{color:xt.text},children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(lo,{label:"Name",value:E.name||""}),n.jsx(lo,{label:"Model",value:`${E.provider}  ${E.model}`}),n.jsx(lo,{label:"Voice Provider",value:E.voice_provider}),n.jsx(lo,{label:"Voice",value:E.voice||""}),n.jsx(lo,{label:"Voice Model",value:E.voice_model||""}),n.jsx(lo,{label:"Forwarding Number",value:E.forwardingPhoneNumber||""}),n.jsx(lo,{label:"Attach Number",value:E.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(A1,{onClick:()=>s(2),children:"Edit Voice"}),n.jsx(A1,{onClick:()=>s(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[r>1?n.jsx(A1,{onClick:()=>se(r-1),children:"Back"}):n.jsx("span",{}),r<3?n.jsxs(PE,{onClick:O,children:["Next ",n.jsx(wn,{className:"ml-1 h-4 w-4"})]}):n.jsx(PE,{type:"submit",disabled:u,children:u?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Updating"]}):"Update Assistant"})]})]})})]})]})}function Hme({currentStep:e,onChange:t}){const a=EE;return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:a.map(({id:r,label:s,Icon:l})=>{const c=e===r;return n.jsxs(pe.button,{onClick:()=>t(r),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${c?"border-indigo-500/40 bg-indigo-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${c?"bg-indigo-100":"bg-slate-100"}`,children:n.jsx(l,{className:`h-5 w-5 ${c?"text-indigo-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${c?"text-slate-900":"text-slate-700"}`,children:s}),n.jsx("div",{className:`text-xs ${c?"text-indigo-600":"text-slate-500"}`,children:c?"Active":"Click to open"})]})]},r)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-4xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-indigo-600 to-emerald-500",style:{width:`${e/EE.length*100}%`}})})]})}function PE({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-indigo-200 transition ${r?"bg-indigo-400/60":"bg-gradient-to-r from-indigo-600 to-indigo-500 hover:from-indigo-700 hover:to-indigo-600"}`,children:e})}function A1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border px-4 py-2 font-semibold hover:bg-slate-50",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},children:e})}function Mm({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold",style:{color:xt.text},children:e})}function wo({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm",style:{color:xt.danger},children:e})}function p0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Mm,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,className:`w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500 ${c?"bg-slate-50":""}`,style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card}}),s&&n.jsx(wo,{children:s})]})}function OE({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Mm,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card},children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(wo,{children:l})]})}function ME({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border p-3 outline-none transition focus:border-indigo-500",style:{borderColor:xt.border,color:xt.text,backgroundColor:xt.card}})}function DE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2",style:{color:xt.text},children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-indigo-600"}),n.jsx("span",{children:t})]})}function lo({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:xt.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function qme({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-indigo-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-rose-200 transition hover:brightness-110 bg-gradient-to-br from-rose-500 to-red-500",title:"Stop",children:n.jsx(xd,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full text-white shadow-lg shadow-indigo-200 transition hover:brightness-110 bg-gradient-to-br from-indigo-600 to-blue-500",title:"Play preview",children:n.jsx(Rd,{className:"h-5 w-5"})})})}const ws={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},Kme=`
You are a professional and friendly assistant. Always speak in a natural, conversational way that feels human, polite, and approachable. Your goal is to sound like a helpful representative who is confident and enthusiastic . Keep your replies brief and natural, as if you were speaking in real conversation, without sounding robotic or scripted.

Stay focused only on the system prompt you are give and be the agent just for that prompt . If someone asks about something unrelated, politely guide them back by saying something like, I can only answer questions related to our company, could you please ask me something in that area? Always remain polite and respectful when doing so. If the customer wants to end the call, acknowledge them warmly and end it immediately.

You must only communicate in English. If someone speaks in another language, respond politely by saying, I can only communicate in English, lets continue in English please. Throughout every interaction, keep your answers short, clear, and professional, Donot make pause or delay after the first message . Reply as fast as you can while still sounding human, friendly, and approachable.
`.trim(),RE=/^\+\d{7,15}$/,LE=[{id:1,key:"core",label:"Core & Transcription",Icon:Vw},{id:2,key:"voice",label:"Voice",Icon:Xw},{id:3,key:"review",label:"Review & Create",Icon:kl}],Gme=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],Yme=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Wme(){const e=rn(),[t,a]=x.useState(1),[r,s]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,f]=x.useState(!1),[h,g]=x.useState("all"),[b,y]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.6,maxTokens:200,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[P,T]=x.useState(""),E=x.useMemo(()=>{const O=b.voice_provider==="openai"?Wd:Zo;return(h==="all"?O:O.filter(G=>G.gender===h)).slice().sort((G,B)=>((G==null?void 0:G.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);x.useEffect(()=>{if(!b.voice)return;const O=E.find(H=>(H==null?void 0:H.name)===b.voice);O!=null&&O.voice&&(y(H=>({...H,voice_model:O.voice})),w(H=>({...H,voice_model:""})))},[b.voice,E]);const $="https://aisdr-dbt.ddns.net",M=O=>{const{id:H,value:G,type:B,checked:A}=O.target,L=B==="checkbox"?A:G;y(R=>({...R,[H]:L})),w(R=>({...R,[H]:""}))},F=O=>{try{u.current&&(u.current.pause(),u.current=null);const H=new Audio(O||"");u.current=H,c(!0),H.play().catch(()=>{I.error("Failed to play voice preview"),c(!1),u.current=null}),H.onended=()=>{c(!1),u.current=null}}catch{I.error("Failed to play voice preview"),c(!1)}},K=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},z=O=>{if(O!==t){if(O===3&&(!b.voice||!m)){w(H=>({...H,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}K(),a(O)}},U=()=>{if(t===1)return a(2);if(t===2){if(!b.voice){w(O=>({...O,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!m){w(O=>({...O,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}a(3)}},ae=async()=>{C(!0),T("");try{const O=localStorage.getItem("token"),H=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...O?{Authorization:`Bearer ${O}`}:{}}});if(!H.ok)throw new Error(`HTTP ${H.status}`);const G=await H.json(),A=(Array.isArray(G)?G:(G==null?void 0:G.purchased_numbers)||[]).filter(Boolean).map(L=>({phone_number:(L==null?void 0:L.phone_number)||"",friendly_name:(L==null?void 0:L.friendly_name)||"",attached_assistant:(L==null?void 0:L.attached_assistant)??null})).filter(L=>L.phone_number);k(A)}catch(O){console.error(O),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ae()},[]);const ke=()=>{const O=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],H={};let G=!0;if(O.forEach(B=>{const A=b[B];(A==null||A===""||Number.isNaN(A))&&(H[B]="Required",G=!1)}),(b.temperature<0||b.temperature>2)&&(H.temperature="Temperature must be between 0 and 2",G=!1),b.maxTokens<1&&(H.maxTokens="maxTokens must be a positive integer",G=!1),b.forwardingPhoneNumber&&!RE.test(b.forwardingPhoneNumber)&&(H.forwardingPhoneNumber="Must be E.164 (+123...)",G=!1),b.attached_Number&&!RE.test(b.attached_Number)&&(H.attached_Number="Invalid number format",G=!1),w(H),!G){const B=R=>R.some(q=>H[q]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],L=["voice_provider","voice_model","voice"];B(A)?a(1):B(L)&&a(2)}return G},se=async O=>{if(O.preventDefault(),!r){if(t!==3){I.error("Please complete the steps first.");return}if(ke()){s(!0),K();try{const H=localStorage.getItem("token"),G=`${$}/api/assistants`,B=[Kme,(b.systemPrompt||"").trim()].filter(Boolean).join(`

`),A={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:B,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},L=await fetch(G,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}},body:JSON.stringify(A)});if(!L.ok){let R=`HTTP ${L.status}`;try{const q=await L.json();q!=null&&q.detail&&(R=q.detail)}catch{const q=await L.text();q&&(R=`${R}  ${q}`)}throw new Error(R)}I.success("Assistant created successfully!"),e("/user/callassistent")}catch(H){I.error((H==null?void 0:H.message)||"Failed to create assistant")}finally{s(!1)}}}};return x.useEffect(()=>{f(!1),y(O=>({...O,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:ws.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:ws.border,backgroundColor:ws.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(kl,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(Xme,{currentStep:t,onChange:z}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:ws.card,borderColor:ws.border},children:n.jsxs("form",{onSubmit:se,noValidate:!0,children:[n.jsxs(It,{mode:"wait",children:[t===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(x0,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),n.jsx(x0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Dm,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:ae,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(O=>n.jsx("option",{value:O.phone_number,className:"bg-white",children:O.friendly_name?`${O.friendly_name}  ${O.phone_number}`:O.phone_number},O.phone_number))]}),P&&n.jsx(No,{children:P}),j.attached_Number&&n.jsx(No,{children:j.attached_Number})]}),n.jsx(x0,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Dm,{children:"System Prompt"}),n.jsx(BE,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Add any custom instructions for your Carsaz agent",rows:4}),j.systemPrompt&&n.jsx(No,{children:j.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Dm,{children:"First Message"}),n.jsx(BE,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! Thanks for calling Carsazhow can I help you today?",rows:3}),j.first_message&&n.jsx(No,{children:j.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(zE,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),n.jsx(zE,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),t===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(IE,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:O=>{K();const H=O.target.value;y(G=>({...G,voice_provider:H,voice:"",voice_model:""})),f(!1),w(G=>({...G,voice:"",voice_model:""}))},options:Gme,error:j.voice_provider}),n.jsx(IE,{id:"genderFilter",label:"Gender",value:h,onChange:O=>{K(),g(O.target.value),f(!1)},options:Yme}),n.jsx(x0,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:ws.border},children:"No voices match this filter."}),E.map(O=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===O.name?"#93c5fd":ws.border,backgroundColor:b.voice===O.name?"#eff6ff":ws.card},onClick:()=>{y(H=>({...H,voice:O.name,voice_model:O.voice,voice_provider:O.provider||b.voice_provider})),f(!0),w(H=>({...H,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===O.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:O.showName||O.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[O.gender||"unknown","  ",O.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:O.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Zme,{isActive:l&&b.voice===O.name,onPlay:()=>F(O.audioSr||""),onStop:K})})]})]},`${O.provider}-${O.name}`))]}),j.voice&&n.jsx(No,{children:j.voice})]},"step2"),t===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:ws.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(oo,{label:"Name",value:b.name||""}),n.jsx(oo,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(oo,{label:"Voice Provider",value:b.voice_provider}),n.jsx(oo,{label:"Voice",value:b.voice||""}),n.jsx(oo,{label:"Voice Model",value:b.voice_model||""}),n.jsx(oo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(oo,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(T1,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(T1,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(T1,{onClick:()=>z(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs($E,{onClick:U,children:["Next ",n.jsx(wn,{className:"ml-1 h-4 w-4"})]}):n.jsx($E,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Xme({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:LE.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(pe.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/LE.length*100}%`}})})]})}function $E({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function T1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Dm({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function No({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function x0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:u=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Dm,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx(No,{children:s})]})}function IE({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Dm,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(No,{children:l})]})}function BE({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function zE({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function oo({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:ws.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Zme({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm",style:{backgroundColor:"#3B82F6",animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(xd,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Rd,{className:"h-5 w-5"})})})}const am="https://aisdr-dbt.ddns.net",Lc={FILES:`${am}/api/files`,FILE:e=>`${am}/api/files/${e}`,SYNC:{HUBSPOT:`${am}/api/crm/ingest/hubspot`,GHL:`${am}/api/crm/ingest/ghl`,MONDAY:`${am}/api/crm/ingest/monday`}},Qme="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function HL(...e){return e.filter(Boolean).join(" ")}function Ba({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function UE({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Ba,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function g0({label:e,value:t,tone:a="blue"}){const r=a==="blue"?"ring-blue-200/60":"ring-cyan-200/60",s=a==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${s} text-white shadow-inner ring-1 ${r}`,children:n.jsx(xm,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function b0({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function v0({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function FE({id:e}){const[t,a]=x.useState(!1);return n.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(String(e||"")),a(!0),setTimeout(()=>a(!1),1e3)}catch{}},className:"inline-flex items-center gap-1 rounded-full border border-slate-200 bg-slate-50 px-2 py-0.5 text-[11px] font-medium text-slate-600 hover:bg-slate-100 max-w-full",title:"Copy alphanumeric id",children:[t?n.jsx(ip,{className:"h-3.5 w-3.5"}):n.jsx(da,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"truncate max-w-[9rem]",children:e})]})}function Jme(){const e=rn(),[t,a]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(""),[u,m]=x.useState(""),[f,h]=x.useState("created_at"),[g,b]=x.useState("desc"),[y,j]=x.useState(!1),[w,S]=x.useState("New List"),[k,_]=x.useState(null),[C,P]=x.useState(!1),[T,E]=x.useState(!1),$=x.useRef(null),[M,F]=x.useState({open:!1,id:null,name:""}),[K,z]=x.useState(!1),U=x.useCallback(async()=>{const W=localStorage.getItem("token");if(!W){a([]),c("No auth token found."),I.error("No authentication token found.");return}try{s(!0),c("");const _e=await fetch(Lc.FILES,{headers:{Authorization:`Bearer ${W}`,Accept:"application/json"}});if(!_e.ok)throw new Error(`HTTP ${_e.status}`);const te=await _e.json();a(Array.isArray(te)?te:[])}catch(_e){c((_e==null?void 0:_e.message)||"Failed to load lists"),I.error((_e==null?void 0:_e.message)||"Failed to load lists")}finally{s(!1)}},[]);x.useEffect(()=>{U()},[U]);const ae=x.useMemo(()=>{const W=u.trim().toLowerCase();return[...W?t.filter(je=>[je.name,je.alphanumeric_id,je.created_at].filter(Boolean).some(Ee=>String(Ee).toLowerCase().includes(W))):t].sort((je,Ee)=>{let Ae=je[f],xe=Ee[f];return f==="created_at"&&(Ae=new Date(je.created_at).getTime(),xe=new Date(Ee.created_at).getTime()),Ae<xe?g==="asc"?-1:1:Ae>xe?g==="asc"?1:-1:0})},[t,u,f,g]),ke=t.length,se=t.reduce((W,_e)=>W+(Number(_e.leads_count)||0),0),O=t[0]||null,H=W=>{f===W?b(_e=>_e==="asc"?"desc":"asc"):(h(W),b("desc"))},G=W=>e(`/user/lead/${W.id}`);async function B(W){const _e=localStorage.getItem("token");if(!_e)return I.error("No authentication token found.");try{const te=await fetch(Lc.FILE(W),{method:"DELETE",headers:{Authorization:`Bearer ${_e}`,Accept:"application/json"}});if(!te.ok)throw new Error(`HTTP ${te.status}`);I.success(" List deleted"),F({open:!1,id:null,name:""}),a(je=>je.filter(Ee=>Ee.id!==W))}catch(te){I.error((te==null?void 0:te.message)||"Delete failed")}}async function A(){const W=localStorage.getItem("token");if(!W)return I.error("No authentication token found.");if(!k)return I.info("Choose a CSV file");if(!w.trim())return I.info("Enter a name");P(!0);try{const _e=new FormData;_e.append("file",k),_e.append("name",w.trim());const te=await fetch(Lc.FILES,{method:"POST",headers:{Authorization:`Bearer ${W}`},body:_e});if(!te.ok){const je=await te.text();throw new Error(je||`HTTP ${te.status}`)}I.success(" List created"),j(!1),_(null),S("New List"),U()}catch(_e){I.error((_e==null?void 0:_e.message)||"Upload failed")}finally{P(!1)}}async function L(){const W=localStorage.getItem("token");if(!W)return I.error("No authentication token found.");const _e=async je=>{const Ee=await fetch(je,{method:"POST",headers:{Authorization:`Bearer ${W}`,Accept:"application/json"}});let Ae={};try{Ae=await Ee.json()}catch{}if(!Ee.ok){const xe=(Ae==null?void 0:Ae.detail)||(Ae==null?void 0:Ae.error)||(Ae==null?void 0:Ae.message)||`HTTP ${Ee.status}`;throw new Error(xe)}return Ae},te=[{name:"HubSpot",url:Lc.SYNC.HUBSPOT},{name:"GHL",url:Lc.SYNC.GHL},{name:"monday.com",url:Lc.SYNC.MONDAY}];try{z(!0);const je=await Promise.allSettled(te.map(Be=>_e(Be.url)));let Ee=0,Ae=0,xe=0,Fe=0;je.forEach((Be,ve)=>{var Te,ee,we;const le=te[ve].name;if(Be.status==="fulfilled"){Fe++;const De=Array.isArray((Te=Be.value)==null?void 0:Te.details)?Be.value.details[0]:((ee=Be.value)==null?void 0:ee.details)||{};Ee+=Number((De==null?void 0:De.created_leads)||0),Ae+=Number((De==null?void 0:De.updated_leads)||0),xe+=Number((De==null?void 0:De.fetched_contacts)||0),I.success(`${le}:  ${(De==null?void 0:De.created_leads)||0} new, ${(De==null?void 0:De.updated_leads)||0} updated`,{autoClose:2500})}else{const De=String(((we=Be.reason)==null?void 0:we.message)||Be.reason||"error");I.info(`${le}: ${De.includes("Not connected")?"Not connected":` ${De}`}`,{autoClose:3e3})}}),I.success(`Sync complete: ${Fe}/${te.length} OK  fetched ${xe}, created ${Ee}, updated ${Ae}.`),setTimeout(U,1200)}catch(je){I.error((je==null?void 0:je.message)||"Sync failed")}finally{z(!1)}}function R(W){W.preventDefault(),E(!0)}function q(W){W.preventDefault(),E(!1)}function ce(W){var te;W.preventDefault(),E(!1);const _e=(te=W.dataTransfer.files)==null?void 0:te[0];if(_e){if(!Z(_e))return I.info("Please drop a .csv file");_(_e)}}function Z(W){const _e=/\.csv$/i.test(W.name),te=W.type==="text/csv"||W.type==="application/vnd.ms-excel"||W.type==="";return _e||te}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(xm,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Qme}`,children:"Lists"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create and manage your CSV lists. Sync leads from connected CRMs (HubSpot, GHL, monday.com)."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Ba,{onClick:()=>j(!0),variant:"primary",children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"})," New List"]}),n.jsx(Ba,{onClick:U,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsx(Ba,{onClick:L,disabled:K,className:"border-emerald-300 text-emerald-700 hover:bg-emerald-50",children:K?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Syncing"]}):n.jsx(n.Fragment,{children:"SYNC LEADS"})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(g0,{label:"Total Lists",value:ke}),n.jsx(g0,{label:"Total Leads",value:se,tone:"cyan"}),n.jsx(g0,{label:"Last Created",value:O&&O.name||""}),n.jsx(g0,{label:"Newest Date",value:O?y0(O.created_at):"",tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:u,onChange:W=>m(W.target.value),placeholder:"Search by name, ID, date",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsx("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0 text-xs font-medium",children:"Sort"})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(E1,{label:"Name",active:f==="name",dir:g,onClick:()=>H("name")}),n.jsx(E1,{label:"Leads",active:f==="leads_count",dir:g,onClick:()=>H("leads_count")}),n.jsx(E1,{label:"Created",active:f==="created_at",dir:g,onClick:()=>H("created_at")})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900",children:["All Lists (",ae.length,")"]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"})," Live"]})]}),r?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading lists"})]}):l?n.jsx("div",{className:"grid place-content-center py-16 px-4 text-center text-sm text-red-600",children:l}):ae.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(xm,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try searching or upload a CSV"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Ba,{onClick:()=>j(!0),variant:"primary",children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"})," New List"]})})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block w-full",children:n.jsxs("table",{className:"w-full table-fixed",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(b0,{children:"Name"}),n.jsx(b0,{children:"Leads"}),n.jsx(b0,{children:"Created"}),n.jsx(b0,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ae.map(W=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsxs(v0,{children:[n.jsxs("div",{className:"text-sm font-bold text-slate-900 flex items-center gap-2 min-w-0",children:[n.jsx("span",{className:"truncate max-w-[22rem]",children:W.name}),n.jsx(FE,{id:W.alphanumeric_id})]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["#",W.id]})]}),n.jsx(v0,{children:n.jsx("span",{className:"text-sm font-semibold text-slate-800",children:W.leads_count??0})}),n.jsx(v0,{children:n.jsx("span",{className:"text-sm text-slate-800",children:y0(W.created_at)})}),n.jsx(v0,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(Ba,{onClick:()=>G(W),size:"sm",title:"View",children:n.jsx(Un,{className:"h-4 w-4"})}),n.jsx(Ba,{onClick:()=>F({open:!0,id:W.id,name:W.name}),variant:"danger",size:"sm",title:"Delete",children:n.jsx(Dn,{className:"h-4 w-4"})})]})})]},W.id))})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ae.map(W=>n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white shadow-sm p-4",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",title:W.name,children:W.name}),n.jsxs("div",{className:"mt-1 flex items-center gap-2 text-xs text-slate-600",children:[n.jsx(FE,{id:W.alphanumeric_id}),n.jsxs("span",{className:"text-[11px] text-slate-500",children:["ID #",W.id]})]}),n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Leads"}),n.jsx("div",{className:"font-semibold text-slate-900",children:W.leads_count??0})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created"}),n.jsx("div",{className:"font-semibold text-slate-900 truncate",title:y0(W.created_at),children:y0(W.created_at)})]})]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(Ba,{onClick:()=>G(W),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"})," View"]}),n.jsxs(Ba,{onClick:()=>F({open:!0,id:W.id,name:W.name}),variant:"danger",size:"sm",className:"grow sm:grow-0",children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"})," Delete"]})]})]},W.id))})})]})]})]}),n.jsx(It,{children:y&&n.jsx(UE,{onClose:()=>j(!1),title:"Create New List",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"List name"}),n.jsx("input",{value:w,onChange:W=>S(W.target.value),placeholder:"e.g., July Prospects",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{onDragOver:R,onDragLeave:q,onDrop:ce,className:HL("relative grid place-items-center rounded-2xl border-2 border-dashed px-4 py-10 transition",T?"border-blue-500 bg-blue-50/60":"border-slate-300 bg-slate-50/60 hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex flex-col items-center text-center",children:[n.jsx("div",{className:"mb-2 rounded-xl bg-white p-3 shadow",children:n.jsx(xm,{className:"h-6 w-6 text-slate-700"})}),n.jsx("p",{className:"text-sm text-slate-700",children:"Drag & drop your CSV here, or"}),n.jsxs(Ba,{type:"button",onClick:()=>{var W;return(W=$.current)==null?void 0:W.click()},variant:"primary",className:"mt-2",children:[n.jsx(wU,{className:"h-4 w-4 mr-2"})," Browse Files"]}),n.jsx("input",{ref:$,type:"file",accept:".csv,text/csv",onChange:W=>{var te;const _e=((te=W.target.files)==null?void 0:te[0])||null;if(!_e)return _(null);if(!Z(_e)){I.info("Please choose a .csv file"),W.target.value="";return}_(_e)},className:"hidden"}),n.jsx("p",{className:"mt-2 text-xs text-slate-500",children:"Only .csv files are supported."})]}),k&&n.jsxs("div",{className:"absolute left-4 bottom-4 flex items-center gap-2 rounded-full bg-white/90 px-3 py-1.5 text-xs font-medium text-slate-700 shadow",children:[n.jsx(xm,{className:"h-4 w-4"}),n.jsx("span",{className:"truncate max-w-[14rem]",children:k.name}),n.jsxs("span",{className:"opacity-70",children:[" ",efe(k.size)]}),n.jsx("button",{onClick:()=>_(null),className:"ml-1 rounded-full p-1 hover:bg-slate-100",title:"Remove file",children:n.jsx(Oa,{className:"h-3.5 w-3.5"})})]})]}),n.jsxs("div",{className:"flex items-center justify-end gap-2 pt-2",children:[n.jsx(Ba,{onClick:()=>j(!1),variant:"subtle",children:"Cancel"}),n.jsx(Ba,{onClick:A,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Uploading"]}):n.jsxs(n.Fragment,{children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})}),n.jsx(It,{children:M.open&&n.jsxs(UE,{onClose:()=>F({open:!1,id:null,name:""}),title:"Delete List?",children:[n.jsxs("p",{className:"text-slate-700 mb-4",children:["This will permanently remove ",n.jsx("b",{className:"text-slate-900 break-words",children:M.name})," and all its leads."]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Ba,{onClick:()=>F({open:!1,id:null,name:""}),variant:"subtle",children:"Cancel"}),n.jsxs(Ba,{onClick:()=>B(M.id),variant:"danger",children:[n.jsx(Dn,{className:"h-4 w-4 mr-2"})," Delete"]})]})]})})]})}function y0(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function efe(e){if(!Number.isFinite(e))return"0 B";const t=["B","KB","MB","GB"];let a=0;for(;e>=1024&&a<t.length-1;)e/=1024,a++;return`${e.toFixed(e>=10||a===0?0:1)} ${t[a]}`}function E1({label:e,active:t,dir:a,onClick:r}){const s=a==="asc"?eO:JP;return n.jsxs("button",{onClick:r,className:HL("inline-flex items-center gap-1 rounded-xl border px-3 py-2",t?"border-blue-300 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700 hover:bg-slate-50"),children:[e," ",t&&n.jsx(s,{className:"h-4 w-4"})]})}const ll="https://aisdr-dbt.ddns.net",tfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function nfe(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function afe(){const e=rn(),{id:t}=lf(),a=Number(t),[r,s]=x.useState([]),[l,c]=x.useState([]),[u,m]=x.useState([]),[f,h]=x.useState(!0),[g,b]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState(""),k=nfe(w,250),[_,C]=x.useState(""),[P,T]=x.useState("add_date"),[E,$]=x.useState("desc"),[M,F]=x.useState(1),[K,z]=x.useState(10),[U,ae]=x.useState(!1),[ke,se]=x.useState(!1),[O,H]=x.useState(!1),[G,B]=x.useState(!1),[A,L]=x.useState(null),[R,q]=x.useState(null),[ce,Z]=x.useState(!1),[W,_e]=x.useState(!1),[te,je]=x.useState(!1),[Ee,Ae]=x.useState(null),xe=x.useRef(localStorage.getItem("token")||null),[Fe,Be]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[ve,le]=x.useState({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),[Te,ee]=x.useState({vapi_assistant_id:"",assistant_id:"",number:"",first_name:"",last_name:"",email:"",lead_id:null}),we=x.useCallback(async()=>{const Y=xe.current;if(!Y){h(!1),j("No auth token found"),I.error("No authentication token found.");return}try{h(!0),j("");const ne=await fetch(`${ll}/api/leads${a?`?file_id=${a}`:""}`,{headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const oe=await ne.json();s(Array.isArray(oe)?oe:[])}catch(ne){j((ne==null?void 0:ne.message)||"Failed to load leads"),I.error((ne==null?void 0:ne.message)||"Failed to load leads")}finally{h(!1)}},[a]),De=x.useCallback(async()=>{const Y=xe.current;if(!Y||!a){c([]);return}try{const ne=await fetch(`${ll}/api/files/${a}/dynamic-columns`,{headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const oe=await ne.json();c(Array.isArray(oe==null?void 0:oe.columns)?oe.columns:[])}catch(ne){c([]),console.warn("Dynamic columns fetch failed:",ne)}},[a]),Ue=x.useCallback(async()=>{const Y=xe.current;try{const ne=await fetch(`${ll}/api/get-assistants`,{headers:{Authorization:Y?`Bearer ${Y}`:"",Accept:"application/json"}});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);const oe=await ne.json(),lt=(Array.isArray(oe)?oe:Array.isArray(oe==null?void 0:oe.assistants)?oe.assistants:[]).filter(yt=>yt==null?void 0:yt.vapi_assistant_id);m(lt)}catch(ne){console.error(ne),I.error("Failed to load assistants"),m([])}},[]);x.useEffect(()=>{we(),De(),Ue()},[t]);const Ve=x.useMemo(()=>{const Y=new Set;return r.forEach(ne=>(ne==null?void 0:ne.state)&&Y.add(ne.state)),Array.from(Y).sort((ne,oe)=>ne.localeCompare(oe))},[r]),rt=x.useMemo(()=>{const Y=k.trim().toLowerCase();return r.filter(oe=>{var lt,yt;return _&&(oe.state||"")!==_?!1:Y?[oe.first_name,oe.last_name,oe.email,oe.mobile,oe.salesforce_id,(lt=oe==null?void 0:oe.other_data)==null?void 0:lt.Custom_0,(yt=oe==null?void 0:oe.other_data)==null?void 0:yt.Custom_1].concat(Object.values((oe==null?void 0:oe.other_data)||{})).filter(Boolean).map(dt=>String(dt).toLowerCase()).some(dt=>dt.includes(Y)):!0})},[r,k,_]),tt=x.useMemo(()=>{const Y=[...rt],ne=E==="asc"?1:-1;return Y.sort((oe,Xe)=>{const lt=`${oe.first_name||""} ${oe.last_name||""}`.trim(),yt=`${Xe.first_name||""} ${Xe.last_name||""}`.trim();let dt,Ot;switch(P){case"name":dt=lt.toLowerCase(),Ot=yt.toLowerCase();break;case"email":dt=(oe.email||"").toLowerCase(),Ot=(Xe.email||"").toLowerCase();break;case"mobile":dt=(oe.mobile||"").toLowerCase(),Ot=(Xe.mobile||"").toLowerCase();break;case"add_date":default:dt=new Date(oe.add_date||0).getTime(),Ot=new Date(Xe.add_date||0).getTime()}return dt<Ot?-1*ne:dt>Ot?1*ne:0}),Y},[rt,P,E]),Ce=tt.length,Q=Math.max(1,Math.ceil(Ce/K));x.useEffect(()=>{M>Q&&F(Q)},[M,Q]);const Se=(M-1)*K,fe=tt.slice(Se,Se+K),$e=r[r.length-1]||null,nt=Y=>{var ne,oe;L(Y.id),le({first_name:Y.first_name||"",last_name:Y.last_name||"",email:Y.email||"",mobile:Y.mobile||"",salesforce_id:Y.salesforce_id||"",custom0:((ne=Y==null?void 0:Y.other_data)==null?void 0:ne.Custom_0)||"",custom1:((oe=Y==null?void 0:Y.other_data)==null?void 0:oe.Custom_1)||"",add_date:Y.add_date||new Date().toISOString()}),H(!0)},ft=async()=>{const Y=xe.current;if(!(!Y||!A))try{B(!0);const ne={first_name:ve.first_name.trim(),last_name:ve.last_name.trim(),email:ve.email.trim(),mobile:ve.mobile.trim(),salesforce_id:ve.salesforce_id.trim(),add_date:ve.add_date,other_data:{Custom_0:ve.custom0||"",Custom_1:ve.custom1||""}},oe=await fetch(`${ll}/api/leads/${A}`,{method:"PUT",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(ne)}),Xe=await oe.json();if(!oe.ok||(Xe==null?void 0:Xe.success)===!1)throw new Error((Xe==null?void 0:Xe.detail)||`HTTP ${oe.status}`);I.success((Xe==null?void 0:Xe.detail)||"Lead updated"),H(!1),L(null),we()}catch(ne){I.error((ne==null?void 0:ne.message)||"Update failed")}finally{B(!1)}},Je=async()=>{const Y=xe.current;if(!Y)return I.error("Missing token");if(!Fe.first_name||!Fe.last_name||!Fe.email||!Fe.mobile)return I.info("Please fill first, last, email and mobile.");try{se(!0);const ne={first_name:Fe.first_name.trim(),last_name:Fe.last_name.trim(),email:Fe.email.trim(),add_date:Fe.add_date,mobile:Fe.mobile.trim(),file_id:a||null,salesforce_id:Fe.salesforce_id.trim(),other_data:{Custom_0:Fe.custom0||"",Custom_1:Fe.custom1||""}},oe=await fetch(`${ll}/api/add_manually_lead`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify(ne)});if(!oe.ok)throw new Error(`HTTP ${oe.status}`);await oe.json(),I.success("Lead added"),ae(!1),Be({first_name:"",last_name:"",email:"",mobile:"",salesforce_id:"",custom0:"",custom1:"",add_date:new Date().toISOString()}),we()}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to add lead")}finally{se(!1)}},Rt=async()=>{const Y=xe.current;if(!(!Y||!R))try{const ne=await fetch(`${ll}/api/leads`,{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json"},body:JSON.stringify({ids:[R]})});if(!ne.ok)throw new Error(`HTTP ${ne.status}`);await ne.json(),I.success("Lead deleted"),q(null),te&&je(!1),we()}catch(ne){I.error((ne==null?void 0:ne.message)||"Delete failed")}},Pt=async()=>{const Y=xe.current;if(!Y)return I.error("Missing token");try{b(!0);const ne=await fetch(`${ll}/api/crm/ingest/hubspot`,{method:"POST",headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}}),oe=await ne.json().catch(()=>({}));if(!ne.ok||(oe==null?void 0:oe.success)===!1)throw new Error((oe==null?void 0:oe.detail)||`HTTP ${ne.status}`);I.success(`Synced HubSpot: ${(oe==null?void 0:oe.created)||0} created, ${(oe==null?void 0:oe.updated)||0} updated`),we()}catch(ne){I.error((ne==null?void 0:ne.message)||"HubSpot sync failed")}finally{b(!1)}},Re=Y=>{if(!Y)return"";const ne=String(Y).trim();return ne.startsWith("+")?"+"+ne.slice(1).replace(/\D+/g,""):ne.replace(/\D+/g,"")},qe=Y=>{var Xe,lt,yt,dt,Ot,Lt,Ma,mn,At,Xt;const oe=[Y==null?void 0:Y.mobile,Y==null?void 0:Y.phone,(Xe=Y==null?void 0:Y.other_data)==null?void 0:Xe.phone,(lt=Y==null?void 0:Y.other_data)==null?void 0:lt.Phone,(yt=Y==null?void 0:Y.other_data)==null?void 0:yt.mobile,(dt=Y==null?void 0:Y.other_data)==null?void 0:dt.Mobile,(Ot=Y==null?void 0:Y.other_data)==null?void 0:Ot.telephone,(Lt=Y==null?void 0:Y.other_data)==null?void 0:Lt.Telephone,(Ma=Y==null?void 0:Y.other_data)==null?void 0:Ma.cell,(mn=Y==null?void 0:Y.other_data)==null?void 0:mn.Cell,(At=Y==null?void 0:Y.other_data)==null?void 0:At.Custom_0,(Xt=Y==null?void 0:Y.other_data)==null?void 0:Xt.Custom_1].filter(Boolean).find(Boolean);return Re(oe||"")},bt=Y=>{const ne=qe(Y);ne||I.info("No phone number on this lead  you can still enter one to call.");const oe=localStorage.getItem("lastAssistantId")||"",Xe=u.find(lt=>String(lt.id)===String(oe)&&(lt==null?void 0:lt.vapi_assistant_id))||u.find(lt=>lt==null?void 0:lt.vapi_assistant_id)||null;ee({vapi_assistant_id:(Xe==null?void 0:Xe.vapi_assistant_id)||"",assistant_id:(Xe==null?void 0:Xe.id)||"",number:ne,first_name:Y.first_name||"",last_name:Y.last_name||"",email:Y.email||"",lead_id:Y.id}),Z(!0)},ua=async Y=>{if(Y.preventDefault(),W)return;const ne=xe.current,{vapi_assistant_id:oe,number:Xe,first_name:lt,last_name:yt,email:dt}=Te;if(!oe)return I.error("Select an assistant first");if(!Xe)return I.error("Enter a phone number");const Ot=Re(Xe);if(!Ot)return I.error("Invalid phone number");try{_e(!0);const Lt=`${ll}/api/phone-call/${encodeURIComponent(oe)}/${encodeURIComponent(Ot)}`,Ma={first_name:lt||"Caller",last_name:yt||"",email:dt||"caller@example.com",add_date:new Date().toISOString(),mobile_no:Ot,custom_field_01:null,custom_field_02:null},mn=await fetch(Lt,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:ne?`Bearer ${ne}`:""},body:JSON.stringify(Ma)}),At=await mn.json().catch(()=>({}));if(!mn.ok||(At==null?void 0:At.success)===!1)throw new Error((At==null?void 0:At.detail)||`HTTP ${mn.status}`);Te.assistant_id&&localStorage.setItem("lastAssistantId",String(Te.assistant_id)),I.success("Call initiated"),Z(!1)}catch(Lt){I.error((Lt==null?void 0:Lt.message)||"Failed to initiate call")}finally{_e(!1)}},me=()=>{if(tt.length===0)return I.info("Nothing to export.");const Y=["id","first_name","last_name","email","mobile","salesforce_id","state","add_date"],ne=Array.from(new Set(["Custom_0","Custom_1",...l])),oe=[...Y,...ne],Xe=tt.map(Lt=>{const Ma=[Lt.id??"",ol(Lt.first_name),ol(Lt.last_name),ol(Lt.email),ol(Lt.mobile),ol(Lt.salesforce_id),ol(Lt.state),ol(Lt.add_date)],mn=ne.map(At=>{var Xt;return ol((Xt=Lt==null?void 0:Lt.other_data)==null?void 0:Xt[At])});return[...Ma,...mn]}),lt=[oe,...Xe].map(Lt=>Lt.join(",")).join(`
`),yt=new Blob([lt],{type:"text/csv;charset=utf-8;"}),dt=URL.createObjectURL(yt),Ot=document.createElement("a");Ot.href=dt,Ot.download=`leads_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(Ot),Ot.click(),document.body.removeChild(Ot),URL.revokeObjectURL(dt)};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Un,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${tfe}`,children:"Leads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["File: ",n.jsx("b",{children:a||""})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Qt,{onClick:()=>ae(!0),variant:"primary",children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"})," New Lead"]}),n.jsx(Qt,{onClick:Pt,disabled:g,children:g?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"}),"Syncing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Sync HubSpot"]})}),n.jsx(Qt,{onClick:()=>e("/user/upload-csv"),children:"Upload CSV"}),n.jsxs(Qt,{onClick:me,children:[n.jsx(Im,{className:"mr-2 h-4 w-4"}),"Export"]}),n.jsxs(Qt,{onClick:we,children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(P1,{label:"Total Leads",value:Ce}),n.jsx(P1,{label:"Selected File",value:a||""}),n.jsx(P1,{label:"Last Created",value:$e&&`${$e.first_name||""} ${$e.last_name||""}`.trim()||"",sub:$e!=null&&$e.add_date?VE($e.add_date):$e?"Just now":"No leads yet"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:w,onChange:Y=>{S(Y.target.value),F(1)},placeholder:"Search name, email, phone, Salesforce ID",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(_l,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:_,onChange:Y=>{C(Y.target.value),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All states"}),Ve.map(Y=>n.jsx("option",{value:Y,children:Y},Y))]}),n.jsx("select",{value:`${P}:${E}`,onChange:Y=>{const[ne,oe]=Y.target.value.split(":");T(ne),$(oe)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[["add_date","desc","Newest"],["add_date","asc","Oldest"],["name","asc","Name AZ"],["name","desc","Name ZA"],["email","asc","Email AZ"],["email","desc","Email ZA"]].map(([Y,ne,oe])=>n.jsx("option",{value:`${Y}:${ne}`,children:oe},`${Y}:${ne}`))}),n.jsx("select",{value:K,onChange:Y=>{z(Number(Y.target.value)),F(1)},className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Y=>n.jsxs("option",{value:Y,children:[Y," / page"]},Y))})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(Un,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Leads (",tt.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),f?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading leads"})]}):tt.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Un,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or add a new lead"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(j0,{children:"Name"}),n.jsx(j0,{children:"Email"}),n.jsx(j0,{children:"Phone"}),n.jsx(j0,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:fe.map(Y=>{const ne=`${Y.first_name||""} ${Y.last_name||""}`.trim()||"",oe=Y.mobile||qe(Y)||"";return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(w0,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:ne}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",Y.id,"  ",Y.salesforce_id||"No Ext ID"]})]})}),n.jsx(w0,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-words",children:Y.email||""})}),n.jsx(w0,{children:n.jsx("div",{className:"text-xs font-medium text-slate-700 break-all",children:oe})}),n.jsx(w0,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Qt,{onClick:()=>bt(Y),size:"sm",children:[n.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(Qt,{onClick:()=>nt(Y),size:"sm",children:[n.jsx(Nm,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Qt,{onClick:()=>{Ae(Y),je(!0)},size:"sm",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"}),"More"]})]})})]},Y.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:fe.map((Y,ne)=>{const oe=`${Y.first_name||""} ${Y.last_name||""}`.trim()||"",Xe=Y.mobile||qe(Y)||"";return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[ne===0&&n.jsx(rfe,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:oe}),n.jsx("div",{className:"mt-1 text-sm text-slate-600 break-words",children:Y.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:Xe})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Qt,{onClick:()=>bt(Y),size:"sm",className:"grow sm:grow-0",children:[n.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(Qt,{onClick:()=>nt(Y),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Nm,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Qt,{onClick:()=>{Ae(Y),je(!0)},size:"sm",className:"grow sm:grow-0",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"}),"More"]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",Y.id,"  ",Y.salesforce_id||"No Ext ID"]})]},Y.id)})})}),tt.length>K&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Se+1}),"",n.jsx("b",{children:Math.min(Se+K,tt.length)})," of ",n.jsx("b",{children:tt.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Qt,{onClick:()=>F(Y=>Math.max(1,Y-1)),disabled:M===1,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,Q)},(Y,ne)=>{let oe;if(Q<=5||M<=3?oe=ne+1:M>=Q-2?oe=Q-4+ne:oe=M-2+ne,oe<1||oe>Q)return null;const Xe=M===oe;return n.jsx("button",{onClick:()=>F(oe),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Xe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:oe},oe)})}),n.jsxs(Qt,{onClick:()=>F(Y=>Math.min(Q,Y+1)),disabled:M>=Q,children:["Next",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(It,{children:U&&n.jsxs(N0,{onClose:()=>ae(!1),title:"Create Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Pn,{label:"First name",children:n.jsx("input",{value:Fe.first_name,onChange:Y=>Be(ne=>({...ne,first_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Last name",children:n.jsx("input",{value:Fe.last_name,onChange:Y=>Be(ne=>({...ne,last_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Email",children:n.jsx("input",{type:"email",value:Fe.email,onChange:Y=>Be(ne=>({...ne,email:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Mobile (digits only)",children:n.jsx("input",{value:Fe.mobile,onChange:Y=>Be(ne=>({...ne,mobile:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"External ID",children:n.jsx("input",{value:Fe.salesforce_id,onChange:Y=>Be(ne=>({...ne,salesforce_id:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Add date (ISO)",children:n.jsx("input",{value:Fe.add_date,onChange:Y=>Be(ne=>({...ne,add_date:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"2025-08-13T10:00:00.000Z"})}),n.jsx(Pn,{label:"Custom_0",children:n.jsx("input",{value:Fe.custom0,onChange:Y=>Be(ne=>({...ne,custom0:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Custom_1",children:n.jsx("input",{value:Fe.custom1,onChange:Y=>Be(ne=>({...ne,custom1:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(Qt,{onClick:()=>ae(!1),variant:"subtle",children:"Cancel"}),n.jsx(Qt,{onClick:Je,disabled:ke||!Fe.first_name||!Fe.last_name||!Fe.email||!Fe.mobile,variant:"primary",children:ke?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):n.jsxs(n.Fragment,{children:[n.jsx(kn,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(It,{children:O&&n.jsxs(N0,{onClose:()=>H(!1),title:"Edit Lead",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Pn,{label:"First name",children:n.jsx("input",{value:ve.first_name,onChange:Y=>le(ne=>({...ne,first_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Last name",children:n.jsx("input",{value:ve.last_name,onChange:Y=>le(ne=>({...ne,last_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Email",children:n.jsx("input",{type:"email",value:ve.email,onChange:Y=>le(ne=>({...ne,email:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Mobile (digits only)",children:n.jsx("input",{value:ve.mobile,onChange:Y=>le(ne=>({...ne,mobile:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"External ID",children:n.jsx("input",{value:ve.salesforce_id,onChange:Y=>le(ne=>({...ne,salesforce_id:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Add date (ISO)",children:n.jsx("input",{value:ve.add_date,onChange:Y=>le(ne=>({...ne,add_date:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Custom_0",children:n.jsx("input",{value:ve.custom0,onChange:Y=>le(ne=>({...ne,custom0:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Custom_1",children:n.jsx("input",{value:ve.custom1,onChange:Y=>le(ne=>({...ne,custom1:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(Qt,{onClick:()=>H(!1),variant:"subtle",children:"Cancel"}),n.jsx(Qt,{onClick:ft,disabled:G,variant:"primary",children:G?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(It,{children:ce&&n.jsx(N0,{onClose:()=>Z(!1),title:"Start Phone Call",children:n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsxs("select",{value:Te.assistant_id,onChange:Y=>{const ne=u.find(oe=>String(oe.id)===String(Y.target.value));ee(oe=>({...oe,assistant_id:Y.target.value,vapi_assistant_id:(ne==null?void 0:ne.vapi_assistant_id)||""}))},className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none focus:border-blue-500",children:[n.jsx("option",{value:"",children:"Select assistant"}),u.map(Y=>n.jsx("option",{value:Y.id,children:Y.name||`Assistant ${Y.id}`},Y.id))]})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Pn,{label:"Phone Number",children:n.jsx("input",{value:Te.number,onChange:Y=>ee(ne=>({...ne,number:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+1 (555) 123-4567"})}),n.jsx(Pn,{label:"Email",children:n.jsx("input",{type:"email",value:Te.email,onChange:Y=>ee(ne=>({...ne,email:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"First name",children:n.jsx("input",{value:Te.first_name,onChange:Y=>ee(ne=>({...ne,first_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(Pn,{label:"Last name",children:n.jsx("input",{value:Te.last_name,onChange:Y=>ee(ne=>({...ne,last_name:Y.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"flex justify-end gap-2",children:[n.jsx(Qt,{onClick:()=>Z(!1),variant:"subtle",children:"Cancel"}),n.jsx(Qt,{onClick:ua,disabled:W,variant:"primary",children:W?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Calling"]}):n.jsxs(n.Fragment,{children:[n.jsx(gt,{className:"h-4 w-4 mr-1"}),"Start Call"]})})]})]})})}),n.jsx(It,{children:R&&n.jsxs(N0,{onClose:()=>q(null),title:"Delete Lead?",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"rounded-xl bg-rose-50 p-2 text-rose-600",children:n.jsx(zF,{className:"h-5 w-5"})}),n.jsx("div",{className:"text-slate-800",children:"This will permanently delete this lead. This action cannot be undone."})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(Qt,{onClick:()=>q(null),variant:"subtle",children:"Cancel"}),n.jsxs(Qt,{onClick:Rt,variant:"danger",children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})}),n.jsx(It,{children:te&&Ee&&n.jsx(sfe,{onClose:()=>je(!1),title:"Lead Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:`${Ee.first_name||""} ${Ee.last_name||""}`.trim()||""}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:Ee.email||""}),n.jsx("div",{className:"text-xs text-slate-500 break-all",children:Ee.mobile||qe(Ee)||""}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID #",Ee.id,"  ",Ee.salesforce_id||"No Ext ID"]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(O1,{label:"State",value:Ee.state||""}),n.jsx(O1,{label:"Timezone",value:Ee.timezone||""}),n.jsx(O1,{label:"Added",value:VE(Ee.add_date)||""})]}),n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Basic Fields"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx($c,{label:"First name",value:Ee.first_name||""}),n.jsx($c,{label:"Last name",value:Ee.last_name||""}),n.jsx($c,{label:"Email",value:Ee.email||""}),n.jsx($c,{label:"Mobile",value:Ee.mobile||qe(Ee)||""}),n.jsx($c,{label:"External ID",value:Ee.salesforce_id||""})]})]}),l&&l.length>0&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:"Extra Fields"}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:l.map(Y=>{var ne;return n.jsx($c,{label:Y,value:((ne=Ee==null?void 0:Ee.other_data)==null?void 0:ne[Y])??""},Y)})})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs(Qt,{onClick:()=>bt(Ee),children:[n.jsx(gt,{className:"h-4 w-4 mr-1"}),"Call"]}),n.jsxs(Qt,{onClick:()=>nt(Ee),children:[n.jsx(Nm,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Qt,{onClick:()=>q(Ee.id),variant:"danger",children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"}),"Delete"]})]})]})})})]})}function Qt({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function P1({label:e,value:t,sub:a}){return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t}),a&&n.jsx("div",{className:"text-sm text-slate-500 mt-1",children:a})]})]})}function rfe(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function j0({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function w0({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Pn({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function O1({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900 break-all",children:t})]})}function $c({label:e,value:t}){return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:"text-sm font-semibold text-slate-800 break-words",children:String(t??"")})]})}function N0({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Qt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function sfe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Qt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}function VE(e){try{const t=new Date(e);return isNaN(t.getTime())?String(e||""):t.toLocaleString()}catch{return String(e||"")}}function ol(e){if(e==null)return"";const t=String(e);return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t}const ife=()=>{const[e,t]=x.useState(null),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(!0),[h,g]=x.useState(0),[b,y]=x.useState(""),j=x.useRef(null),{id:w}=lf(),S=5*1024*1024,k="https://aisdr-dbt.ddns.net",_=()=>localStorage.getItem("token"),C=K=>{K&&K.type==="text/csv"?K.size>S?M("File size exceeds 5MB limit.",!1):t(K):M("Please upload a valid CSV file.",!1)},P=K=>{const z=K.target.files[0];C(z)},T=()=>j.current.click(),E=()=>{const K=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,z=new Blob([K],{type:"text/csv"}),U=window.URL.createObjectURL(z),ae=document.createElement("a");ae.href=U,ae.download="sample_users.csv",ae.click(),window.URL.revokeObjectURL(U)},$=async()=>{if(!e)return M("No file selected.",!1);if(!b.trim())return M("Please provide a list name.",!1);const K=_();if(!K)return M("Please log in first.",!1);const z=new FormData;z.append("file",e),z.append("name",b);try{r(!0),g(50);const U=await fetch(`${k}/api/files`,{method:"POST",headers:{Authorization:`Bearer ${K}`},body:z});if(g(100),U.ok)M("CSV file uploaded successfully!",!0),t(null),y(""),j.current&&(j.current.value="");else{const ae=await U.json();throw new Error(ae.detail||`HTTP ${U.status}`)}}catch(U){console.error(U),M("Upload failed. Please try again.",!1)}finally{r(!1),g(0)}},M=(K,z)=>{u(K),f(z),l(!0)},F=K=>K<1024?`${K} B`:K<1024*1024?`${(K/1024).toFixed(2)} KB`:`${(K/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-white flex flex-col items-center justify-center p-6",children:[n.jsx("div",{className:"w-full max-w-3xl bg-white p-10 rounded-2xl shadow-lg border border-gray-200 transition-all hover:shadow-xl",children:n.jsxs("div",{className:"text-center",children:[n.jsx(eD,{className:"mx-auto text-5xl text-blue-400 mb-6 animate-pulse"}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-3",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag & drop a CSV file or click to select. Max size: 5MB."}),n.jsx("input",{type:"text",placeholder:"Enter list name",value:b,onChange:K=>y(K.target.value),className:"w-full mb-4 p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-400 outline-none"}),n.jsxs("div",{className:"flex flex-wrap justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:P,ref:j,className:"hidden"}),n.jsx("button",{onClick:T,className:"bg-blue-500 text-white px-6 py-3 rounded-xl shadow hover:bg-blue-600 transition",children:"Choose File"}),n.jsxs("button",{onClick:E,className:"bg-white text-blue-600 border border-blue-300 px-6 py-3 rounded-xl shadow-sm hover:bg-blue-50 transition flex items-center gap-2",children:[n.jsx(QM,{})," Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-blue-50 p-4 rounded-xl border border-blue-200 text-left",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",F(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:$,disabled:a||!e,className:`w-full bg-blue-500 text-white px-6 py-4 rounded-xl shadow-lg flex items-center justify-center gap-2 transition 
            ${a||!e?"opacity-50 cursor-not-allowed":"hover:bg-blue-600"}`,children:a?"Uploading...":"Upload CSV"}),a&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all",style:{width:`${h}%`}})})]}),s&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50 p-4",children:n.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-2xl max-w-md w-full border border-gray-200",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[m?n.jsx(ZM,{className:"text-green-500 text-2xl"}):n.jsx(JM,{className:"text-red-500 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:c}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>l(!1),className:"bg-blue-500 text-white px-6 py-2 rounded-xl hover:bg-blue-600 transition",children:"Okay"})})]})})]})},M1={},J0="https://aisdr-dbt.ddns.net",ep=(M1==null?void 0:M1.VITE_API_PREFIX)||"/api",Ja=`${J0}${ep}/campaigns/campaigns`,er={LIST:Ja,CREATE:Ja,DETAIL:e=>`${Ja}/${e}`,STATS:e=>`${Ja}/${e}/stats`,SCHEDULE:e=>`${Ja}/${e}/schedule`,RETRY:e=>`${Ja}/${e}/retry-policy`,PAUSE:e=>`${Ja}/${e}/pause`,RESUME:e=>`${Ja}/${e}/resume`,STOP:e=>`${Ja}/${e}/stop`,RUN_NOW:e=>`${Ja}/${e}/run-now`,ICS:e=>`${Ja}/${e}/calendar.ics`,DELETE:e=>`${Ja}/${e}`,REFRESH_LEADS:e=>`${Ja}/${e}/refresh-leads`},D1={FILES:`${J0}${ep}/files`,ASSISTANTS:`${J0}${ep}/get-assistants`,LEADS:e=>`${J0}${ep}/leads${e?`?file_id=${e}`:""}`};function cs(...e){return e.filter(Boolean).join(" ")}const tp=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function lfe(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function R1(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}function ofe(e){try{const t=new Date(e);return isNaN(t.getTime())?"":t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}catch{return""}}function S0(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0"),l=String(t.getHours()).padStart(2,"0"),c=String(t.getMinutes()).padStart(2,"0");return`${a}-${r}-${s}T${l}:${c}`}function _0(e){if(!e)return null;const t=new Date(e);return isNaN(t.getTime())?null:t.toISOString()}function cfe(e){if(!e)return"";const t=new Date(e).getTime();if(Number.isNaN(t))return"";const a=Math.max(0,t-Date.now()),r=Math.floor(a/1e3),s=Math.floor(r/60),l=r%60;return s>0?`${s}m ${l}s`:`${l}s`}const Er={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},L1={show:{transition:{staggerChildren:.05}}},HE={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}},qE={hidden:{opacity:0,y:20,scale:.95},show:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:300,damping:30,duration:.4}},exit:{opacity:0,y:20,scale:.95,transition:{duration:.2}}},dfe={hidden:{opacity:0,scale:.8,y:50},show:{opacity:1,scale:1,y:0,transition:{type:"spring",stiffness:300,damping:25,duration:.5}},exit:{opacity:0,scale:.8,y:50,transition:{duration:.3}}},ufe={hidden:{opacity:0,x:20},show:{opacity:1,x:0,transition:{duration:.3,ease:"easeOut"}},exit:{opacity:0,x:-20,transition:{duration:.2}}};function Jr({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200",orange:"bg-orange-100 text-orange-700 ring-orange-200",purple:"bg-purple-100 text-purple-700 ring-purple-200",amber:"bg-amber-100 text-amber-700 ring-amber-200",indigo:"bg-indigo-100 text-indigo-700 ring-indigo-200"};return n.jsx(pe.span,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.2},className:cs("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function $1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function k0({status:e}){const t=String(e||"").toLowerCase();return t==="scheduled"?n.jsx(Jr,{tone:"blue",children:"Scheduled"}):t==="running"?n.jsx(Jr,{tone:"green",children:"Running"}):t==="paused"?n.jsx(Jr,{tone:"orange",children:"Paused"}):t==="stopped"?n.jsx(Jr,{tone:"red",children:"Stopped"}):t==="completed"?n.jsx(Jr,{tone:"purple",children:"Completed"}):t==="draft"?n.jsx(Jr,{tone:"slate",children:"Draft"}):n.jsx(Jr,{tone:"slate",children:tp(e)})}const qL=[{value:"UTC",label:"UTC"},{value:"America/New_York",label:"America/New_York"},{value:"America/Chicago",label:"America/Chicago"},{value:"America/Denver",label:"America/Denver"},{value:"America/Los_Angeles",label:"America/Los_Angeles"},{value:"America/Phoenix",label:"America/Phoenix"},{value:"Europe/London",label:"Europe/London"},{value:"Europe/Berlin",label:"Europe/Berlin"},{value:"Europe/Paris",label:"Europe/Paris"},{value:"Asia/Karachi",label:"Asia/Karachi"},{value:"Asia/Kolkata",label:"Asia/Kolkata"},{value:"Asia/Singapore",label:"Asia/Singapore"},{value:"Asia/Tokyo",label:"Asia/Tokyo"},{value:"Asia/Dubai",label:"Asia/Dubai"},{value:"Australia/Sydney",label:"Australia/Sydney"}];function KL(e,t){const a=Number(e)||0,r=Number(t)||0;if(r<=0)return 0;const s=Math.round(a/r*100);return Math.min(100,Math.max(0,s))}function GL({active:e=!1}){return e?n.jsxs("span",{className:"relative inline-flex h-2.5 w-2.5",children:[n.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-60"}),n.jsx("span",{className:"relative inline-flex rounded-full h-2.5 w-2.5 bg-emerald-500"})]}):null}function KE({done:e,total:t,status:a}){const r=KL(e,t),s=["scheduled","running"].includes(String(a||"").toLowerCase());return n.jsxs("div",{className:"flex items-center gap-2 min-w-[140px]",children:[n.jsx("div",{className:"relative h-2 w-36 rounded-full bg-slate-200 overflow-hidden",children:n.jsx(pe.div,{className:cs("h-full bg-gradient-to-r from-blue-500 to-cyan-500",s&&"shadow-[0_0_0_2px_rgba(59,130,246,0.15)]"),initial:{width:0},animate:{width:`${r}%`},transition:{type:"spring",stiffness:160,damping:20}})}),n.jsxs("div",{className:"text-xs font-medium text-slate-700 tabular-nums",children:[Number(e)||0,"/",Number(t)||0]}),n.jsx(GL,{active:s})]})}function mfe({totals:e}){const t=(e==null?void 0:e.total)||0,a=(e==null?void 0:e.done)||0,r=(e==null?void 0:e.calling)||0,s=(e==null?void 0:e.retry)||0,l=(e==null?void 0:e.pending)||0,c=u=>t>0?`${u/t*100}%`:"0%";return n.jsxs("div",{className:"w-full",children:[n.jsxs("div",{className:"h-3 w-full rounded-full bg-slate-200 overflow-hidden ring-1 ring-white/60 relative",children:[n.jsx(pe.div,{className:"h-full bg-emerald-500 absolute left-0 top-0",style:{width:c(a)},initial:{width:0},animate:{width:c(a)}}),n.jsx(pe.div,{className:"h-full bg-indigo-500 absolute left-0 top-0",style:{width:c(a+r)},initial:{width:0},animate:{width:c(a+r)}}),n.jsx(pe.div,{className:"h-full bg-amber-500 absolute left-0 top-0",style:{width:c(a+r+s)},initial:{width:0},animate:{width:c(a+r+s)}})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-xs text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-emerald-500"}),"Done ",a]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-indigo-500"}),"Calling ",r]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-amber-500"}),"Retry ",s]}),n.jsxs("span",{className:"inline-flex items-center gap-1",children:[n.jsx("span",{className:"h-2 w-2 rounded bg-slate-400"}),"Pending ",l]}),n.jsxs("span",{className:"ml-auto font-semibold tabular-nums",children:[KL(a,t),"%"]})]})]})}function GE(){var lt,yt,dt,Ot,Lt,Ma,mn,At,Xt,Fr,Rs,Bl,zl,Di,Vr,Ls,X,de,ze,it;const e=x.useRef(localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState([]),[f,h]=x.useState([]),[g,b]=x.useState([]),[y,j]=x.useState(!1),[w,S]=x.useState(""),k=lfe(w,250),[_,C]=x.useState("created_at"),[P,T]=x.useState("desc"),[E,$]=x.useState(1),[M,F]=x.useState(10),[K,z]=x.useState(!1),[U,ae]=x.useState(1),[ke,se]=x.useState(!1),[O,H]=x.useState({name:"",file_id:"",assistant_id:"",selection_mode:"ALL",include_lead_ids:[],exclude_lead_ids:[],timezone:"America/Los_Angeles",days_of_week:[0,1,2,3,4],daily_start:"09:00",daily_end:"18:00",start_at:"",end_at:"",calls_per_minute:10,parallel_calls:2,retry_on_busy:!0,busy_retry_delay_minutes:15,max_attempts:3,description:""}),[G,B]=x.useState(""),[A,L]=x.useState(!1),[R,q]=x.useState(null),[ce,Z]=x.useState(!1),[W,_e]=x.useState(null),[te,je]=x.useState(null);x.useEffect(()=>{if(!A||!(R!=null&&R.id))return;fe(R.id),$e(R.id);const re=setInterval(()=>{fe(R.id),$e(R.id),xe()},4e3);return()=>clearInterval(re)},[A,R==null?void 0:R.id]),x.useEffect(()=>{if(!e.current){s(!1),I.error("No auth token found. Please log in.");return}Ee()},[]);async function Ee(){s(!0);try{await Promise.all([xe(),Fe(),Be()])}finally{s(!1)}}async function Ae(re,Pe={}){if(!e.current)throw I.error("No auth token found. Please log in."),new Error("No token");return await fetch(re,{...Pe,headers:{...Pe.headers||{},Authorization:`Bearer ${e.current}`}})}async function xe(){try{const re=await Ae(er.LIST);if(!re.ok)throw new Error(`HTTP ${re.status}`);const Pe=await re.json();a(Array.isArray(Pe)?Pe:[])}catch(re){console.error(re),I.error("Failed to fetch campaigns"),a([])}}async function Fe(){try{const re=await Ae(D1.FILES);if(!re.ok)throw new Error(`HTTP ${re.status}`);const Pe=await re.json();m(Array.isArray(Pe)?Pe:(Pe==null?void 0:Pe.items)||[])}catch(re){console.warn("Files fetch failed:",re.message),m([])}}async function Be(){try{const re=await Ae(D1.ASSISTANTS);if(!re.ok)throw new Error(`HTTP ${re.status}`);const Pe=await re.json(),He=(Array.isArray(Pe)&&Pe||(Pe==null?void 0:Pe.items)||(Pe==null?void 0:Pe.assistants)||(Pe==null?void 0:Pe.data)||[]).filter(Ke=>Ke&&Ke.id!==void 0&&Ke.id!==null);h(He)}catch(re){console.warn("Assistants fetch failed:",re.message),h([])}}async function ve(re){if(!re){b([]);return}try{j(!0);const Pe=await Ae(D1.LEADS(re));if(!Pe.ok)throw new Error(`HTTP ${Pe.status}`);const Ye=await Pe.json(),He=Array.isArray(Ye)?Ye:(Ye==null?void 0:Ye.leads)||(Ye==null?void 0:Ye.items)||[];b(He)}catch(Pe){console.warn("Leads fetch failed:",Pe.message),b([])}finally{j(!1)}}async function le(){c(!0);try{await xe()}finally{c(!1)}}const Te=x.useMemo(()=>{const re=k.trim().toLowerCase(),Pe=t.filter(He=>re?[(He.name||"").toLowerCase(),(He.status||"").toLowerCase(),String(He.id||""),String(He.file_id||""),String(He.assistant_id||"")].some(jt=>jt.includes(re)):!0),Ye=P==="asc"?1:-1;return Pe.sort((He,Ke)=>{let jt,Ln;switch(_){case"name":jt=(He.name||"").toLowerCase(),Ln=(Ke.name||"").toLowerCase();break;case"status":jt=(He.status||"").toLowerCase(),Ln=(Ke.status||"").toLowerCase();break;case"calls_per_minute":jt=He.calls_per_minute||0,Ln=Ke.calls_per_minute||0;break;case"created_at":default:jt=new Date(He.created_at||0).getTime(),Ln=new Date(Ke.created_at||0).getTime()}return jt<Ln?-1*Ye:jt>Ln?1*Ye:0}),Pe},[t,k,_,P]),ee=Te.length,we=Math.max(1,Math.ceil(ee/M));x.useEffect(()=>{E>we&&$(we)},[E,we]);const De=(E-1)*M,Ue=De+M,Ve=Te.slice(De,Ue),rt=x.useMemo(()=>{const re=Te.length,Pe=Te.filter(He=>(He.status||"").toLowerCase()==="running").length,Ye=Te.filter(He=>(He.status||"").toLowerCase()==="paused").length;return{total:re,running:Pe,paused:Ye}},[Te]);function tt(re){const{name:Pe,value:Ye,type:He,checked:Ke}=re.target;H(jt=>{const Ln={...jt,[Pe]:He==="checkbox"?Ke:Ye};if(Pe==="file_id"){const Ri=Number(Ye)||"";Ri?ve(Ri):b([]),Ln.include_lead_ids=[],Ln.exclude_lead_ids=[]}return Pe==="selection_mode"&&(Ln.include_lead_ids=[],Ln.exclude_lead_ids=[]),Ln})}function Ce(re){H(Pe=>{const He=Pe.days_of_week.includes(re)?Pe.days_of_week.filter(Ke=>Ke!==re):[...Pe.days_of_week,re];return He.sort((Ke,jt)=>Ke-jt),{...Pe,days_of_week:He}})}async function Q(){var Pe,Ye;if(!O.name||!O.file_id||!O.assistant_id){I.error("Name, File and Assistant are required.");return}if(O.selection_mode!=="ALL"&&O.file_id&&g.length===0){I.error("No leads available for the selected file.");return}const re={name:String(O.name).trim(),file_id:Number(O.file_id),assistant_id:Number(O.assistant_id),selection_mode:O.selection_mode,include_lead_ids:O.selection_mode==="ONLY"&&((Pe=O.include_lead_ids)!=null&&Pe.length)?O.include_lead_ids:null,exclude_lead_ids:O.selection_mode==="SKIP"&&((Ye=O.exclude_lead_ids)!=null&&Ye.length)?O.exclude_lead_ids:null,timezone:O.timezone||"America/Los_Angeles",days_of_week:O.days_of_week,daily_start:O.daily_start||"09:00",daily_end:O.daily_end||"18:00",start_at:_0(O.start_at),end_at:_0(O.end_at),calls_per_minute:Number(O.calls_per_minute)||10,parallel_calls:Number(O.parallel_calls)||2,retry_on_busy:!!O.retry_on_busy,busy_retry_delay_minutes:Number(O.busy_retry_delay_minutes)||15,max_attempts:Number(O.max_attempts)||3};try{se(!0);const He=await Ae(er.CREATE,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Ke=await He.json().catch(()=>({}));if(!He.ok||(Ke==null?void 0:Ke.success)===!1)throw new Error((Ke==null?void 0:Ke.detail)||`HTTP ${He.status}`);I.success((Ke==null?void 0:Ke.detail)||"Campaign created."),z(!1),ae(1),H(jt=>({...jt,name:"",include_lead_ids:[],exclude_lead_ids:[]})),await xe()}catch(He){console.error(He),I.error((He==null?void 0:He.message)||"Create failed")}finally{se(!1)}}async function Se(re){q(re),L(!0),await Promise.all([fe(re.id),$e(re.id)])}async function fe(re){if(re)try{Z(!0);const Pe=await Ae(er.DETAIL(re));if(!Pe.ok)throw new Error(`HTTP ${Pe.status}`);const Ye=await Pe.json();_e(Ye)}catch(Pe){console.error(Pe),I.error("Failed to load campaign details"),_e(null)}finally{Z(!1)}}async function $e(re){if(re)try{const Pe=await Ae(er.STATS(re));if(!Pe.ok)throw new Error(`HTTP ${Pe.status}`);const Ye=await Pe.json();je(Ye)}catch(Pe){console.error(Pe)}}async function nt(re,Pe,Ye){try{const He=await Ae(re(Pe),{method:"POST"}),Ke=await He.json().catch(()=>({}));if(!He.ok||(Ke==null?void 0:Ke.success)===!1)throw new Error((Ke==null?void 0:Ke.detail)||`HTTP ${He.status}`);I.success((Ke==null?void 0:Ke.detail)||Ye),await xe(),R&&R.id===Pe&&(await fe(Pe),await $e(Pe))}catch(He){console.error(He),I.error((He==null?void 0:He.message)||"Action failed")}}const ft=re=>nt(er.PAUSE,re,"Paused"),Je=re=>nt(er.RESUME,re,"Resumed"),Rt=re=>nt(er.STOP,re,"Stopped"),Pt=re=>nt(er.REFRESH_LEADS,re,"Leads synced");async function Re(re){if(confirm("Delete this campaign and its progress rows?"))try{const Pe=await Ae(er.DELETE(re),{method:"DELETE"}),Ye=await Pe.json().catch(()=>({}));if(!Pe.ok||(Ye==null?void 0:Ye.success)===!1)throw new Error((Ye==null?void 0:Ye.detail)||`HTTP ${Pe.status}`);I.success((Ye==null?void 0:Ye.detail)||"Deleted"),L(!1),q(null),await xe()}catch(Pe){console.error(Pe),I.error((Pe==null?void 0:Pe.message)||"Delete failed")}}async function qe(re,Pe){try{const Ye=await Ae(er.RUN_NOW(re),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batch_size:Number(Pe)||5})}),He=await Ye.json().catch(()=>({}));if(!Ye.ok||(He==null?void 0:He.success)===!1)throw new Error((He==null?void 0:He.detail)||`HTTP ${Ye.status}`);I.success((He==null?void 0:He.detail)||"Triggered."),await $e(re)}catch(Ye){console.error(Ye),I.error((Ye==null?void 0:Ye.message)||"Run-now failed")}}async function bt(re,Pe){var He;const Ye={timezone:Pe.timezone||void 0,days_of_week:(He=Pe.days_of_week)!=null&&He.length?Pe.days_of_week:void 0,daily_start:Pe.daily_start||void 0,daily_end:Pe.daily_end||void 0,start_at:_0(Pe.start_at),end_at:_0(Pe.end_at)};try{const Ke=await Ae(er.SCHEDULE(re),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)}),jt=await Ke.json().catch(()=>({}));if(!Ke.ok||(jt==null?void 0:jt.success)===!1)throw new Error((jt==null?void 0:jt.detail)||`HTTP ${Ke.status}`);I.success((jt==null?void 0:jt.detail)||"Schedule updated"),await xe(),await fe(re),await $e(re)}catch(Ke){console.error(Ke),I.error((Ke==null?void 0:Ke.message)||"Update failed")}}async function ua(re,Pe){const Ye={retry_on_busy:!!Pe.retry_on_busy,busy_retry_delay_minutes:Number(Pe.busy_retry_delay_minutes)||15,max_attempts:Number(Pe.max_attempts)||3};try{const He=await Ae(er.RETRY(re),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ye)}),Ke=await He.json().catch(()=>({}));if(!He.ok||(Ke==null?void 0:Ke.success)===!1)throw new Error((Ke==null?void 0:Ke.detail)||`HTTP ${He.status}`);I.success((Ke==null?void 0:Ke.detail)||"Retry policy updated"),await fe(re),await $e(re)}catch(He){console.error(He),I.error((He==null?void 0:He.message)||"Update failed")}}async function me(re,Pe="campaign"){try{const Ye=await Ae(er.ICS(re));if(!Ye.ok)throw new Error(`HTTP ${Ye.status}`);const He=await Ye.blob(),Ke=URL.createObjectURL(He),jt=document.createElement("a");jt.href=Ke,jt.download=`${Pe||"campaign"}.ics`,document.body.appendChild(jt),jt.click(),jt.remove(),URL.revokeObjectURL(Ke)}catch(Ye){console.error(Ye),I.error("ICS download failed")}}const Y=()=>{z(!0),ae(1)},ne=()=>{z(!1),ae(1),H(re=>({...re,name:"",include_lead_ids:[],exclude_lead_ids:[]}))},oe=()=>{ae(re=>Math.min(6,re+1))},Xe=()=>{ae(re=>Math.max(1,re-1))};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsxs("main",{className:"mx-auto max-w-7xl px-3 sm:px-4 lg:px-6 py-4 sm:py-6 lg:py-8",children:[n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Er,className:"mb-6 sm:mb-8 flex flex-col gap-3 sm:gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-slate-900",children:"Campaigns"}),n.jsx("p",{className:"mt-1 text-sm sm:text-base text-slate-600",children:"Manage your calling campaigns and schedules."})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[n.jsx(cl,{onClick:le,disabled:l,icon:l?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(Ge,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Refresh"})}),n.jsxs(yl,{onClick:Y,icon:n.jsx(Lr,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Create Campaign"}),n.jsx("span",{className:"sm:hidden",children:"Create"})]})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:qE,className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-1 lg:col-span-2",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:w,onChange:re=>{S(re.target.value),$(1)},placeholder:"Search name, status, IDs",className:"w-full rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 pl-9 sm:pl-10 pr-3 py-2 sm:py-2.5 text-sm sm:text-base text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search campaigns"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:ee})]}),n.jsx("select",{value:M,onChange:re=>{F(Number(re.target.value)),$(1)},className:"rounded-xl sm:rounded-2xl border border-slate-200/70 bg-white/80 px-2 sm:px-3 py-1.5 sm:py-2 text-xs sm:text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[10,20,40,80].map(re=>n.jsxs("option",{value:re,children:[re," / page"]},re))})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:L1,className:"mt-4 sm:mt-6 grid grid-cols-1 gap-3 sm:gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[n.jsx(pe.div,{variants:Er,children:n.jsx($1,{label:"Total Campaigns",value:rt.total,Icon:Ca,tone:"blue"})}),n.jsx(pe.div,{variants:Er,children:n.jsx($1,{label:"Running",value:rt.running,Icon:kn,tone:"cyan"})}),n.jsx(pe.div,{variants:Er,className:"sm:col-span-2 lg:col-span-1",children:n.jsx($1,{label:"Paused",value:rt.paused,Icon:cr,tone:"blue"})})]}),n.jsx(pe.div,{initial:"hidden",animate:"show",variants:qE,className:"mt-4 sm:mt-6 overflow-x-auto rounded-2xl sm:rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("div",{className:"min-w-full",children:[n.jsx("div",{className:"block sm:hidden",children:r?n.jsx("div",{className:"p-4 space-y-3",children:Array.from({length:3}).map((re,Pe)=>n.jsx("div",{className:"animate-pulse bg-slate-100 rounded-xl p-4 h-24"},Pe))}):n.jsx("div",{className:"divide-y divide-slate-200",children:Ve.map((re,Pe)=>{var Ke,jt;const Ye=((Ke=re.counts)==null?void 0:Ke.total)||0,He=((jt=re.counts)==null?void 0:jt.completed_or_failed)||0;return n.jsxs(pe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:Pe*.05},className:"p-4 hover:bg-slate-50/50 transition-colors cursor-pointer",onClick:()=>Se(re),children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-slate-900 truncate",children:tp(re.name)}),n.jsxs("p",{className:"text-xs text-slate-500",children:["ID: ",re.id]})]}),n.jsx(k0,{status:re.status})]}),n.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-600 mb-2",children:[n.jsx("span",{children:R1(re.created_at)}),n.jsxs("span",{children:[Ye," leads"]})]}),n.jsx(KE,{done:He,total:Ye,status:re.status})]},re.id)})})}),n.jsxs("table",{className:"hidden sm:table min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/50 backdrop-blur",children:n.jsxs("tr",{children:[n.jsx(z1,{sortKey:"name",sortBy:_,sortDir:P,onSort:re=>B1(re,C,T),children:"Name"}),n.jsx(z1,{sortKey:"status",sortBy:_,sortDir:P,onSort:re=>B1(re,C,T),children:"Status"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"File"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Assistant"}),n.jsx(z1,{sortKey:"calls_per_minute",sortBy:_,sortDir:P,onSort:re=>B1(re,C,T),children:"Pacing"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Created"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Leads"}),n.jsx("th",{className:"px-5 py-3 font-semibold",children:"Progress"}),n.jsx("th",{})]})}),n.jsx("tbody",{children:r?n.jsx(gfe,{rows:M,cols:9}):Ve.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:9,className:"px-5 py-4 text-center text-sm text-slate-500",children:"No campaigns found."})}):Ve.map(re=>{var He,Ke;const Pe=((He=re.counts)==null?void 0:He.total)||0,Ye=((Ke=re.counts)==null?void 0:Ke.completed_or_failed)||0;return n.jsxs("tr",{className:"group/row hover:bg-slate-50/50 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:n.jsx("button",{onClick:()=>Se(re),className:"group/cell flex items-center gap-2 text-left",children:tp(re.name)})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(k0,{status:re.status})}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:re.file_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:re.assistant_id}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:re.calls_per_minute}),n.jsx("td",{className:"px-5 py-3 text-slate-600",children:R1(re.created_at)}),n.jsx("td",{className:"px-5 py-3 text-slate-700",children:Pe}),n.jsx("td",{className:"px-5 py-3",children:n.jsx(KE,{done:Ye,total:Pe,status:re.status})}),n.jsx("td",{className:"px-5 py-3 text-right",children:n.jsxs("div",{className:"invisible group-hover/row:visible flex items-center justify-end gap-2",children:[n.jsx(cl,{onClick:()=>me(re.id,re==null?void 0:re.name),icon:n.jsx(Im,{className:"h-4 w-4"}),children:"ICS"}),n.jsx(cl,{onClick:()=>Se(re),icon:n.jsx(Un,{className:"h-4 w-4"}),children:"Details"})]})})]},re.id)})})]})]})}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Er,className:"mt-4 sm:mt-6 flex flex-col sm:flex-row items-center justify-between gap-3 sm:gap-4",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 order-2 sm:order-1",children:["Showing ",ee===0?0:(E-1)*M+1,"",Math.min(E*M,ee)," of ",ee]}),n.jsxs("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:[n.jsxs(ax,{disabled:E<=1,onClick:()=>$(E-1),children:[n.jsx(Pa,{className:"h-3 w-3 sm:h-4 sm:w-4"}),n.jsx("span",{className:"hidden sm:inline",children:"Previous"})]}),n.jsxs("span",{className:"px-2 sm:px-3 py-1 text-xs sm:text-sm font-medium text-slate-700",children:[E," of ",we]}),n.jsxs(ax,{disabled:E>=we,onClick:()=>$(E+1),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next"}),n.jsx(wn,{className:"h-3 w-3 sm:h-4 sm:w-4"})]})]})]})]}),n.jsx(It,{children:K&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:HE,initial:"hidden",animate:"show",exit:"exit",onClick:ne}),n.jsx(pe.div,{className:"fixed inset-0 z-50 flex items-center justify-center p-3 sm:p-4 lg:p-6",variants:dfe,initial:"hidden",animate:"show",exit:"exit",children:n.jsxs("div",{className:"w-full max-w-xs sm:max-w-md lg:max-w-2xl xl:max-w-4xl max-h-[90vh] bg-white rounded-2xl sm:rounded-3xl shadow-2xl border border-slate-200 flex flex-col overflow-hidden",children:[n.jsxs("div",{className:"sticky top-0 bg-white/95 backdrop-blur border-b border-slate-200 p-4 sm:p-6 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"h-8 w-8 sm:h-10 sm:w-10 rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 flex items-center justify-center",children:n.jsx(Lr,{className:"h-4 w-4 sm:h-5 sm:w-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-lg sm:text-xl font-bold text-slate-900",children:"Create Campaign"}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Step ",U," of 6"]})]})]}),n.jsx("button",{onClick:ne,className:"h-8 w-8 sm:h-9 sm:w-9 rounded-xl border border-slate-200 hover:bg-slate-50 flex items-center justify-center transition-colors","aria-label":"Close",children:n.jsx(Oa,{className:"h-4 w-4 sm:h-5 sm:w-5"})})]}),n.jsxs("div",{className:"px-4 sm:px-6 py-2 sm:py-3 bg-slate-50/50",children:[n.jsx("div",{className:"flex items-center gap-1 sm:gap-2",children:[1,2,3,4,5,6].map(re=>n.jsx(pe.div,{className:cs("flex-1 h-1.5 sm:h-2 rounded-full transition-colors duration-300",re<=U?"bg-gradient-to-r from-blue-500 to-cyan-500":"bg-slate-200"),initial:{scaleX:0},animate:{scaleX:re<=U?1:0},transition:{duration:.3,delay:re*.05}},re))}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-slate-500",children:[n.jsx("span",{className:"hidden sm:inline",children:"Details"}),n.jsx("span",{className:"hidden sm:inline",children:"Files"}),n.jsx("span",{className:"hidden sm:inline",children:"Leads"}),n.jsx("span",{className:"hidden sm:inline",children:"Schedule"}),n.jsx("span",{className:"hidden sm:inline",children:"Pacing"}),n.jsx("span",{className:"hidden sm:inline",children:"Review"})]})]}),n.jsx("div",{className:"flex-1 overflow-y-auto",children:n.jsx(It,{mode:"wait",children:n.jsxs(pe.div,{variants:ufe,initial:"hidden",animate:"show",exit:"exit",className:"p-4 sm:p-6 lg:p-8",children:[U===1&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Campaign Details"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the basic information for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Campaign Name"}),n.jsx("input",{value:O.name,onChange:tt,name:"name",placeholder:"Enter campaign name",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Assistant"}),n.jsxs("select",{value:O.assistant_id,onChange:tt,name:"assistant_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select assistant"}),f.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Description (optional)"}),n.jsx("textarea",{value:O.description,onChange:tt,name:"description",placeholder:"Describe your campaign...",rows:3,className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition resize-none"})]})]}),U===2&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select File"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose the file containing the leads for your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"File"}),n.jsxs("select",{value:O.file_id,onChange:tt,name:"file_id",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"",children:"Select file"}),u.map(re=>n.jsx("option",{value:re.id,children:re.name},re.id))]})]})]}),U===3&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Select Leads"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Choose which leads to include in your campaign."})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Selection Mode"}),n.jsxs("select",{value:O.selection_mode,onChange:tt,name:"selection_mode",className:"w-full rounded-xl border border-slate-200 px-3 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition",children:[n.jsx("option",{value:"ALL",children:"All Leads"}),n.jsx("option",{value:"ONLY",children:"Only These Leads"}),n.jsx("option",{value:"SKIP",children:"Skip These Leads"})]})]}),O.selection_mode!=="ALL"&&n.jsxs("div",{className:"space-y-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 sm:h-5 sm:w-5 text-slate-400"}),n.jsx("input",{value:G,onChange:re=>B(re.target.value),placeholder:"Search leads",className:"w-full rounded-xl border border-slate-200 px-9 py-2.5 text-sm focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300 outline-none transition"})]}),y?n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white p-6 text-center text-sm text-slate-600",children:[n.jsx(_n,{className:"h-5 w-5 animate-spin mx-auto mb-3"})," Loading leads"]}):n.jsx(xfe,{leads:g,mode:O.selection_mode,search:G,selectedIds:O.selection_mode==="ONLY"?O.include_lead_ids:O.exclude_lead_ids,onChange:re=>{O.selection_mode==="ONLY"?H(Pe=>({...Pe,include_lead_ids:re})):H(Pe=>({...Pe,exclude_lead_ids:re}))}})]})]}),U===4&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Schedule"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the schedule for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:O.timezone,onChange:tt,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:qL.map(re=>n.jsx("option",{value:re.value,children:re.label},re.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(re=>n.jsx("button",{type:"button",onClick:()=>Ce(re),className:cs("px-3 py-1.5 rounded-xl border text-sm",O.days_of_week.includes(re)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][re]},re))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{label:"Daily start",name:"daily_start",value:O.daily_start,onChange:tt,placeholder:"HH:MM"}),n.jsx(Ua,{label:"Daily end",name:"daily_end",value:O.daily_end,onChange:tt,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:O.start_at,onChange:tt}),n.jsx(Ua,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:O.end_at,onChange:tt})]})]})]}),U===5&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Pacing"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Set up the pacing for your campaign."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsx(Ua,{label:"Calls per minute",name:"calls_per_minute",value:O.calls_per_minute,onChange:tt}),n.jsx(Ua,{label:"Parallel calls",name:"parallel_calls",value:O.parallel_calls,onChange:tt}),n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!O.retry_on_busy,onChange:tt}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(Ua,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:O.busy_retry_delay_minutes,onChange:tt}),n.jsx(Ua,{label:"Max attempts",name:"max_attempts",value:O.max_attempts,onChange:tt})]})]}),U===6&&n.jsxs("div",{className:"space-y-4 sm:space-y-6",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"text-base sm:text-lg font-semibold text-slate-900 mb-2",children:"Review"}),n.jsx("p",{className:"text-sm text-slate-600",children:"Review your campaign details before creating."})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Name"}),n.jsx("div",{className:"text-sm text-slate-600",children:O.name||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"File"}),n.jsx("div",{className:"text-sm text-slate-600",children:((lt=u.find(re=>String(re.id)===String(O.file_id)))==null?void 0:lt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Assistant"}),n.jsx("div",{className:"text-sm text-slate-600",children:((yt=f.find(re=>String(re.id)===String(O.assistant_id)))==null?void 0:yt.name)||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Schedule"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[I1(O.days_of_week),"  ",O.daily_start,"",O.daily_end," (",O.timezone,")"]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-semibold text-slate-700",children:"Pacing"}),n.jsxs("div",{className:"text-sm text-slate-600",children:[O.calls_per_minute," CPM  ",O.parallel_calls," parallel"]})]})]})]})]},U)})}),n.jsxs("div",{className:"sticky bottom-0 bg-white/95 backdrop-blur border-t border-slate-200 p-4 sm:p-6 flex flex-col sm:flex-row items-stretch sm:items-center justify-between gap-3",children:[n.jsx("div",{className:"flex items-center gap-2 order-2 sm:order-1",children:U>1&&n.jsxs(cl,{onClick:Xe,icon:n.jsx(Pa,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Previous"}),n.jsx("span",{className:"sm:hidden",children:"Back"})]})}),n.jsx("div",{className:"flex items-center gap-2 order-1 sm:order-2",children:U<6?n.jsxs(yl,{onClick:oe,icon:n.jsx(wn,{className:"h-4 w-4"}),children:[n.jsx("span",{className:"hidden sm:inline",children:"Next Step"}),n.jsx("span",{className:"sm:hidden",children:"Next"})]}):n.jsx(yl,{onClick:Q,disabled:ke,icon:ke?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):n.jsx(ip,{className:"h-4 w-4"}),children:ke?"Creating...":"Create Campaign"})})]})]})})]})}),n.jsx(It,{children:A&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:HE,initial:"hidden",animate:"show",exit:"exit",onClick:()=>L(!1)}),n.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[90vw] md:w-[620px] lg:w-[880px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Campaign details",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-3 sm:p-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2 sm:gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 min-w-0 flex-1",children:[n.jsx("button",{onClick:()=>L(!1),className:"grid h-8 w-8 sm:h-9 sm:w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50 flex-shrink-0","aria-label":"Close",children:n.jsx(Oa,{className:"h-4 w-4 sm:h-5 sm:w-5"})}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("h3",{className:"text-base sm:text-lg font-bold leading-tight truncate",children:["Campaign #",R==null?void 0:R.id]}),n.jsx("p",{className:"text-xs text-slate-600 truncate",children:tp(R==null?void 0:R.name)})]})]}),n.jsx("div",{className:"flex items-center gap-2 flex-shrink-0",children:n.jsx(cl,{onClick:()=>me(R.id,R==null?void 0:R.name),icon:n.jsx(Im,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"ICS"})})})]}),n.jsxs("div",{className:"mt-3 rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-3 lg:gap-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(k0,{status:(te==null?void 0:te.status)||(W==null?void 0:W.status)||(R==null?void 0:R.status)}),n.jsx(GL,{active:!!(te!=null&&te.active_now)}),te!=null&&te.active_now?n.jsx(Jr,{tone:"green",children:"Active now"}):n.jsx(Jr,{tone:"amber",children:"Idle"})]}),n.jsxs("div",{className:"flex-1 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 text-xs sm:text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vU,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Local:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:R1((dt=te==null?void 0:te.now)==null?void 0:dt.local)||""})]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Window: "}),n.jsxs("span",{className:"font-medium text-slate-800",children:[I1(((Ot=te==null?void 0:te.window)==null?void 0:Ot.days_of_week)??(W==null?void 0:W.days_of_week)??(R==null?void 0:R.days_of_week))," "," ",((Lt=te==null?void 0:te.window)==null?void 0:Lt.daily_start)||(W==null?void 0:W.daily_start)||(R==null?void 0:R.daily_start)||"09:00","",((Ma=te==null?void 0:te.window)==null?void 0:Ma.daily_end)||(W==null?void 0:W.daily_end)||(R==null?void 0:R.daily_end)||"18:00"," ","(",(te==null?void 0:te.timezone)||(W==null?void 0:W.timezone)||(R==null?void 0:R.timezone)||"Local",")"]})]}),n.jsxs("div",{className:"truncate",children:[n.jsx("span",{className:"text-slate-500",children:"Next tick:"})," ",n.jsx("span",{className:"font-medium text-slate-800",children:te!=null&&te.next_tick_at?`${ofe(te.next_tick_at)}  in ${cfe(te.next_tick_at)}`:""})]})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(mfe,{totals:(te==null?void 0:te.totals)||(W==null?void 0:W.totals)})})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-3 sm:p-6",children:[n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:L1,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:[n.jsxs(pe.div,{variants:Er,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Status"}),n.jsx(k0,{status:(te==null?void 0:te.status)||(W==null?void 0:W.status)||(R==null?void 0:R.status)})]}),n.jsxs(pe.div,{variants:Er,className:"rounded-xl sm:rounded-2xl border border-slate-200 bg-white p-3 sm:p-4",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Window"}),n.jsxs("div",{className:"text-sm text-slate-800",children:[n.jsx("div",{className:"truncate",children:I1(((mn=te==null?void 0:te.window)==null?void 0:mn.days_of_week)??(W==null?void 0:W.days_of_week)??(R==null?void 0:R.days_of_week))}),n.jsx("div",{className:"text-xs sm:text-sm",children:(((At=te==null?void 0:te.window)==null?void 0:At.daily_start)||(W==null?void 0:W.daily_start)||(R==null?void 0:R.daily_start)||"09:00")+""+(((Xt=te==null?void 0:te.window)==null?void 0:Xt.daily_end)||(W==null?void 0:W.daily_end)||(R==null?void 0:R.daily_end)||"18:00")}),n.jsx("div",{className:"text-xs text-slate-500 truncate",children:(te==null?void 0:te.timezone)||(W==null?void 0:W.timezone)||(R==null?void 0:R.timezone)||"Local"})]})]}),n.jsxs(pe.div,{variants:Er,className:"rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 sm:col-span-2 lg:col-span-1",children:[n.jsx("div",{className:"text-xs uppercase tracking-wide text-slate-500 mb-1",children:"Counts"}),n.jsxs("div",{className:"text-sm text-slate-800 grid grid-cols-2 gap-y-1",children:[n.jsxs("div",{children:["Total: ",((Fr=te==null?void 0:te.totals)==null?void 0:Fr.total)??((Rs=W==null?void 0:W.totals)==null?void 0:Rs.total)??((Bl=R==null?void 0:R.counts)==null?void 0:Bl.total)??""]}),n.jsxs("div",{children:["Done: ",((zl=te==null?void 0:te.totals)==null?void 0:zl.done)??((Di=W==null?void 0:W.totals)==null?void 0:Di.done)??((Vr=R==null?void 0:R.counts)==null?void 0:Vr.completed_or_failed)??""]}),n.jsxs("div",{children:["Calling: ",((Ls=te==null?void 0:te.totals)==null?void 0:Ls.calling)??""]}),n.jsxs("div",{children:["Retry: ",((X=te==null?void 0:te.totals)==null?void 0:X.retry)??""]})]})]})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:Er,className:"mt-4 flex flex-wrap items-center gap-2",children:[String((te==null?void 0:te.status)||(W==null?void 0:W.status)||(R==null?void 0:R.status)).toLowerCase()==="paused"?n.jsx(yl,{onClick:()=>Je(R.id),icon:n.jsx(Rd,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Resume"})}):n.jsx(yl,{onClick:()=>ft(R.id),icon:n.jsx(pF,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Pause"})}),n.jsx(cl,{onClick:()=>Rt(R.id),icon:n.jsx(xd,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Stop"})}),n.jsx(cl,{onClick:()=>Pt(R.id),icon:n.jsx(Ge,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Sync Leads"})}),n.jsx(cl,{onClick:()=>Re(R.id),icon:n.jsx(Dn,{className:"h-4 w-4"}),children:n.jsx("span",{className:"hidden sm:inline",children:"Delete"})})]}),n.jsxs(pe.div,{initial:"hidden",animate:"show",variants:L1,className:"mt-6 grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-6",children:[n.jsx(pe.div,{variants:Er,children:n.jsx(hfe,{details:te!=null&&te.window?{...W,...te,days_of_week:(de=te.window)==null?void 0:de.days_of_week,daily_start:(ze=te.window)==null?void 0:ze.daily_start,daily_end:(it=te.window)==null?void 0:it.daily_end,timezone:te.timezone}:W,onSubmit:re=>bt(R.id,re),loading:ce})}),n.jsx(pe.div,{variants:Er,children:n.jsx(pfe,{details:W,onSubmit:re=>ua(R.id,re),loading:ce})})]}),n.jsx(pe.div,{initial:"hidden",animate:"show",variants:Er,children:n.jsx(ffe,{onRun:re=>qe(R.id,re)})})]})]})]})})]})}function ffe({onRun:e}){const[t,a]=x.useState(5);return n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[n.jsxs("div",{className:"font-semibold text-slate-800 flex items-center gap-2",children:[n.jsx(Gw,{className:"h-4 w-4"})," Run Now"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"number",min:1,className:"w-24 rounded-xl border border-slate-200 px-3 py-2 text-sm",value:t,onChange:r=>a(Number(r.target.value)||5)}),n.jsx(yl,{onClick:()=>e(t),icon:n.jsx(Rd,{className:"h-4 w-4"}),children:"Trigger"})]})]}),n.jsx("p",{className:"text-sm text-slate-600 mt-2",children:"Immediately place a small batch of calls (ignores schedule window)."})]})}function hfe({details:e,onSubmit:t,loading:a}){const[r,s]=x.useState({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:S0(e==null?void 0:e.start_at),end_at:S0(e==null?void 0:e.end_at)});x.useEffect(()=>{s({timezone:(e==null?void 0:e.timezone)||"America/Los_Angeles",days_of_week:(e==null?void 0:e.days_of_week)||[0,1,2,3,4],daily_start:(e==null?void 0:e.daily_start)||"09:00",daily_end:(e==null?void 0:e.daily_end)||"18:00",start_at:S0(e==null?void 0:e.start_at),end_at:S0(e==null?void 0:e.end_at)})},[e]);function l(u){const{name:m,value:f}=u.target;s(h=>({...h,[m]:f}))}function c(u){s(m=>{const h=m.days_of_week.includes(u)?m.days_of_week.filter(g=>g!==u):[...m.days_of_week,u];return h.sort((g,b)=>g-b),{...m,days_of_week:h}})}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(Yw,{className:"h-4 w-4"})," Schedule"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:"Timezone (IANA)"}),n.jsx("select",{name:"timezone",value:r.timezone,onChange:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40",children:qL.map(u=>n.jsx("option",{value:u.value,children:u.label},u.value))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm text-slate-700 mb-2",children:"Days of week"}),n.jsx("div",{className:"flex flex-wrap gap-2",children:[0,1,2,3,4,5,6].map(u=>n.jsx("button",{type:"button",onClick:()=>c(u),className:cs("px-3 py-1.5 rounded-xl border text-sm",r.days_of_week.includes(u)?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-700"),children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][u]},u))})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{label:"Daily start",name:"daily_start",value:r.daily_start,onChange:l,placeholder:"HH:MM"}),n.jsx(Ua,{label:"Daily end",name:"daily_end",value:r.daily_end,onChange:l,placeholder:"HH:MM"})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsx(Ua,{label:"Start at (optional)",name:"start_at",type:"datetime-local",value:r.start_at,onChange:l}),n.jsx(Ua,{label:"End at (optional)",name:"end_at",type:"datetime-local",value:r.end_at,onChange:l})]}),n.jsx("div",{className:"flex justify-end",children:n.jsx(yl,{onClick:()=>t(r),disabled:a,children:"Save Schedule"})})]})]})}function pfe({details:e,onSubmit:t,loading:a}){const[r,s]=x.useState({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3});x.useEffect(()=>{s({retry_on_busy:(e==null?void 0:e.retry_on_busy)??!0,busy_retry_delay_minutes:(e==null?void 0:e.busy_retry_delay_minutes)??15,max_attempts:(e==null?void 0:e.max_attempts)??3})},[e]);function l(c){const{name:u,value:m,type:f,checked:h}=c.target;s(g=>({...g,[u]:f==="checkbox"?h:m}))}return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4",children:[n.jsxs("div",{className:"font-semibold text-slate-800 mb-3 flex items-center gap-2",children:[n.jsx(Gw,{className:"h-4 w-4"})," Retry Policy"]}),n.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[n.jsxs("label",{className:"inline-flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",name:"retry_on_busy",checked:!!r.retry_on_busy,onChange:l}),n.jsx("span",{className:"text-sm text-slate-800",children:"Retry on busy / no-answer"})]}),n.jsx(Ua,{label:"Busy retry delay (min)",name:"busy_retry_delay_minutes",value:r.busy_retry_delay_minutes,onChange:l}),n.jsx(Ua,{label:"Max attempts",name:"max_attempts",value:r.max_attempts,onChange:l}),n.jsx("div",{className:"flex justify-end",children:n.jsx(yl,{onClick:()=>t(r),disabled:a,children:"Save Retry Policy"})})]})]})}function xfe({leads:e,mode:t,search:a,selectedIds:r,onChange:s}){const[l,c]=x.useState(1),u=12,m=x.useMemo(()=>{const j=(a||"").toLowerCase().trim();return j?e.filter(w=>`${w.first_name||""} ${w.last_name||""}`.toLowerCase().includes(j)||(w.email||"").toLowerCase().includes(j)||(w.mobile||"").toLowerCase().includes(j)):e},[e,a]),f=Math.max(1,Math.ceil(m.length/u));x.useEffect(()=>{l>f&&c(f)},[l,f]);const h=(l-1)*u,g=h+u,b=m.slice(h,g);function y(j){const w=r.includes(j);s(w?r.filter(S=>S!==j):[...r,j])}return n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-white",children:[n.jsx("div",{className:"max-h-72 overflow-y-auto divide-y divide-slate-100",children:b.length===0?n.jsx("div",{className:"p-4 text-sm text-slate-600",children:"No leads match your search."}):b.map(j=>{const w=`${j.first_name||""} ${j.last_name||""}`.trim()||"Unknown";return n.jsxs("label",{className:"flex items-center gap-3 p-3 hover:bg-slate-50 cursor-pointer",children:[n.jsx("input",{type:"checkbox",checked:r.includes(j.id),onChange:()=>y(j.id)}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-medium text-slate-900 text-sm",children:w}),n.jsx("div",{className:"text-xs text-slate-600 break-all",children:(j.email||"")+"  "+(j.mobile||"")})]}),j.dnc?n.jsx(Jr,{tone:"red",children:"DNC"}):n.jsx(Jr,{tone:"green",children:"OK"})]},j.id)})}),m.length>u&&n.jsxs("div",{className:"flex items-center justify-between p-2",children:[n.jsxs("span",{className:"text-xs text-slate-600",children:["Showing ",Math.min(g,m.length)," of ",m.length]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(ax,{disabled:l<=1,onClick:()=>c(j=>Math.max(1,j-1)),children:[n.jsx(Pa,{className:"h-3.5 w-3.5"})," Prev"]}),n.jsxs("span",{className:"text-xs text-slate-700",children:[l,"/",f]}),n.jsxs(ax,{disabled:l>=f,onClick:()=>c(j=>Math.min(f,j+1)),children:["Next ",n.jsx(wn,{className:"h-3.5 w-3.5"})]})]})]}),n.jsxs("div",{className:"p-3 border-t border-slate-200 text-xs text-slate-700",children:["Mode: ",n.jsx("strong",{children:t}),"  Selected: ",n.jsx("strong",{children:r.length})]})]})}function I1(e){const t=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],a=new Set(Array.isArray(e)?e:[]);return a.size===5&&[0,1,2,3,4].every(r=>a.has(r))?"MonFri":a.size===7?"Every day":Array.from(a).sort((r,s)=>r-s).map(r=>t[r]||"?").join(", ")}function B1(e,t,a){t(r=>r===e?(a(s=>s==="asc"?"desc":"asc"),r):(a(e==="created_at"?"desc":"asc"),e))}function yl({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(pe.button,{whileHover:a?void 0:{scale:1.02},whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:cs("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-semibold text-white transition-all duration-200","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)] hover:shadow-[0_12px_32px_-12px_rgba(37,99,235,0.65)]","disabled:opacity-60 disabled:cursor-not-allowed disabled:hover:scale-100"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function cl({children:e,onClick:t,icon:a,type:r="button",disabled:s}){return n.jsxs(pe.button,{whileHover:s?void 0:{scale:1.02},whileTap:s?void 0:{scale:.98},type:r,onClick:t,disabled:s,className:cs("inline-flex items-center gap-2 rounded-xl sm:rounded-2xl border border-slate-200 bg-white px-3 sm:px-3.5 py-2 sm:py-2.5 text-sm font-medium text-slate-800 ring-1 ring-white/70 transition-all duration-200 hover:bg-slate-50 hover:shadow-sm",s&&"opacity-60 cursor-not-allowed"),children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function ax({children:e,disabled:t,onClick:a}){return n.jsx(pe.button,{whileHover:t?void 0:{scale:1.02},whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:cs("inline-flex items-center gap-1 sm:gap-2 rounded-xl sm:rounded-2xl border px-2.5 sm:px-3.5 py-1.5 sm:py-2 text-xs sm:text-sm transition-all duration-200",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50 hover:shadow-sm"),children:e})}function z1({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:cs("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:cs("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function gfe({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Ua({label:e,name:t,value:a,onChange:r,type:s="text",placeholder:l,className:c}){return n.jsxs("label",{className:cs("block",c),children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a??"",onChange:r,placeholder:l,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}const U1={};var md={};const bs=typeof import.meta<"u"&&"https://aisdr-dbt.ddns.net"||typeof process<"u"&&(md==null?void 0:md.NEXT_PUBLIC_API_URL)||"http://localhost:8000",vs=typeof import.meta<"u"&&(U1==null?void 0:U1.VITE_API_PREFIX)||typeof process<"u"&&(md==null?void 0:md.NEXT_PUBLIC_API_PREFIX)||"/api",C0=typeof window<"u"?window.location.origin:"",bfe="/integrations",F1=["hubspot","ghl","monday"],ys={PROVIDERS:`${bs}${vs}/crm/providers`,ACCOUNTS:`${bs}${vs}/crm/accounts`,CONNECT:e=>`${bs}${vs}/crm/connect/${e}`,DISCONNECT:e=>`${bs}${vs}/crm/disconnect/${e}`,ENSURE_FRESH:e=>`${bs}${vs}/crm/ensure-fresh/${e}`,CONTACTS:e=>`${bs}${vs}/crm/${e}/contacts`,MONDAY_LIST_BOARDS:`${bs}${vs}/crm/monday/boards`,MONDAY_GET_BOARD:`${bs}${vs}/crm/monday/board`,MONDAY_SET_BOARD:`${bs}${vs}/crm/monday/board`,MONDAY_CLEAR_BOARD:`${bs}${vs}/crm/monday/board`},vfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function Ew(...e){return e.filter(Boolean).join(" ")}function yfe(e){if(e)return e.properties&&typeof e.properties=="object"?e.properties.company||e.properties.company_name||e.properties.companyname:e.company||e.organization||e.companyName||e.account||void 0}function _a({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function jfe({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function wfe({rows:e=6,cols:t=5}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-4 py-4",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function Nfe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(_a,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Pw({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"2"}),n.jsx("circle",{cx:"12",cy:"12",r:"3.6",fill:"#2563eb"})]})}function Sfe({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"4",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M7 12h10",stroke:"#0ea5e9",strokeWidth:"2"}),n.jsx("path",{d:"M12 7v10",stroke:"#0ea5e9",strokeWidth:"2"})]})}function _fe({size:e=24}){return n.jsxs("svg",{viewBox:"0 0 24 24",width:e,height:e,fill:"none",children:[n.jsx("circle",{cx:"8.5",cy:"12",r:"3.3",fill:"#f43f5e"}),n.jsx("circle",{cx:"14.5",cy:"12",r:"3.3",fill:"#f59e0b"}),n.jsx("circle",{cx:"12",cy:"12",r:"9.5",stroke:"#2563eb",strokeWidth:"1.5",opacity:"0.25"})]})}const Ic={hubspot:{label:"HubSpot",Mark:Pw},ghl:{label:"GHL",Mark:Sfe},monday:{label:"monday.com",Mark:_fe}};function A0({label:e,value:t,Icon:a,tone:r="blue",valueClassName:s=""}){const l=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",c=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl pointer-events-none",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:`flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${c} text-white shadow-inner ring-1 ${l} shrink-0`,children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:Ew("text-base sm:text-xl font-extrabold text-slate-900 truncate","min-w-0 max-w-full break-words",s),title:typeof t=="string"?t:void 0,children:t})]})]})]})}function YE({name:e="",size:t=38}){const a=(e||"?").split(" ").filter(Boolean).map(r=>r[0]).join("").slice(0,2).toUpperCase();return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold shrink-0",style:{width:t,height:t},children:n.jsx("span",{style:{fontSize:t<40?12:13},children:a||"?"})})}function kfe(){var Ve,rt,tt;const e=x.useRef(typeof window<"u"&&window.localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState([]),[l,c]=x.useState(!0),[u,m]=x.useState(!1),[f,h]=x.useState("hubspot"),[g,b]=x.useState(25),[y,j]=x.useState([]),[w,S]=x.useState(null),[k,_]=x.useState({}),[C,P]=x.useState(""),[T,E]=x.useState(!1),[$,M]=x.useState(!1),[F,K]=x.useState(!1),[z,U]=x.useState([]),[ae,ke]=x.useState(""),[se,O]=x.useState(null),[H,G]=x.useState(null),[B,A]=x.useState(null),L=x.useMemo(()=>{const Ce={};for(const Q of r)Ce[Q.crm]=Q;return Ce},[r]),R=!!L[f],q=L[f],ce=!!L.monday,Z=ce&&B&&typeof B.board_id<"u"&&B.board_id!==null,W=x.useCallback(async(Ce,Q={})=>{if(!e.current)throw new Error("No token");const Se={Accept:"application/json",...Q.headers||{},Authorization:`Bearer ${e.current}`};return Q.body&&!Se["Content-Type"]&&(Se["Content-Type"]="application/json"),await fetch(Ce,{...Q,headers:Se})},[]),_e=x.useCallback(async()=>{try{const Q=await(await W(ys.PROVIDERS)).json(),fe=(Array.isArray(Q)?Q:[]).filter($e=>F1.includes($e==null?void 0:$e.name));a(fe),!fe.find($e=>$e.name===f)&&fe[0]&&h(fe[0].name)}catch(Ce){console.error(Ce),a([]),I.error("Failed to fetch providers")}},[W,f]),te=x.useCallback(async()=>{var Ce;try{const Se=await(await W(ys.ACCOUNTS)).json(),fe=Array.isArray(Se)?Se:[];s(fe.filter(nt=>F1.includes(nt==null?void 0:nt.crm)));const $e=fe.find(nt=>nt.crm==="monday");if((Ce=$e==null?void 0:$e.metadata)!=null&&Ce.monday){const nt=$e.metadata.monday;nt.board_id?(A({board_id:nt.board_id,board_name:nt.board_name}),O(nt.board_id),G(nt.board_name||null)):A({board_id:null,board_name:null})}else $e||A(null)}catch(Q){console.error(Q),s([]),I.error("Failed to fetch accounts")}},[W]);async function je(){var Ce;if(ce)try{const Se=await(await W(ys.MONDAY_GET_BOARD)).json(),fe=(Se==null?void 0:Se.selected)??null,$e=((Ce=Se==null?void 0:Se.meta)==null?void 0:Ce.board_name)??null;A(fe?{board_id:fe,board_name:$e}:{board_id:null,board_name:null}),fe&&(O(fe),G($e))}catch(Q){console.error("Fetch selected board failed",Q)}}x.useEffect(()=>{(async()=>{if(!e.current){I.error("No auth token found. Please log in."),c(!1);return}try{await Promise.all([_e(),te()])}finally{c(!1)}})()},[_e,te]),x.useEffect(()=>{const Ce=new URLSearchParams(window.location.search),Q=Ce.get("status"),Se=Ce.get("crm");if(Q&&window.opener){try{window.opener.postMessage({type:"crm-oauth",status:Q,crm:Se},C0)}catch{}window.close()}},[]),x.useEffect(()=>{function Ce(Q){var fe;if(Q.origin!==C0)return;const Se=Q.data||{};if(Se.type==="crm-oauth"){const $e=Se.crm||f;Se.status==="success"?(I.success(`${(((fe=Ic[$e])==null?void 0:fe.label)||$e).toUpperCase()} connected`),$e==="monday"?te().then(je):te()):(I.error(`OAuth error: ${Se.status||"unknown"}`),te()),m(!1)}}return window.addEventListener("message",Ce),()=>window.removeEventListener("message",Ce)},[te,f]),x.useEffect(()=>{f==="monday"&&ce&&je()},[f,ce]);async function Ee(Ce){try{m(!0);const Q={redirect_to:`${C0}${bfe}`},Se=await W(ys.CONNECT(Ce),{method:"POST",body:JSON.stringify(Q)}),fe=await Se.json();if(!Se.ok||!(fe!=null&&fe.auth_url))throw new Error((fe==null?void 0:fe.detail)||"Failed to start OAuth");const $e=fe.auth_url,nt=680,ft=760,Je=window.screenX+Math.max(0,(window.outerWidth-nt)/2),Rt=window.screenY+Math.max(0,(window.outerHeight-ft)/2),Pt=window.open($e,"crm-oauth",`width=${nt},height=${ft},left=${Je},top=${Rt}`);if(!Pt){window.location.href=$e;return}const Re=Date.now(),qe=setInterval(async()=>{(Pt.closed||Date.now()-Re>12e4)&&(clearInterval(qe),await te(),m(!1))},2e3)}catch(Q){console.error(Q),I.error((Q==null?void 0:Q.message)||"OAuth failed to start"),m(!1)}}async function Ae(Ce){try{const Q=await W(ys.ENSURE_FRESH(Ce),{method:"POST"}),Se=await Q.json().catch(()=>({}));if(!Q.ok||(Se==null?void 0:Se.success)===!1)throw new Error((Se==null?void 0:Se.detail)||`HTTP ${Q.status}`);I.success("Token refreshed"),await te()}catch(Q){console.error(Q),I.error((Q==null?void 0:Q.message)||"Refresh failed")}}async function xe(Ce){var Q;if(confirm(`Disconnect ${((Q=Ic[Ce])==null?void 0:Q.label)||Ce}?`))try{const Se=await W(ys.DISCONNECT(Ce),{method:"DELETE"}),fe=await Se.json().catch(()=>({}));if(!Se.ok||(fe==null?void 0:fe.success)===!1)throw new Error((fe==null?void 0:fe.detail)||`HTTP ${Se.status}`);I.success((fe==null?void 0:fe.message)||"Disconnected"),await te(),Ce==="monday"&&(A(null),U([]),O(null),G(null)),Ce===f&&(j([]),S(null),_({}))}catch(Se){console.error(Se),I.error((Se==null?void 0:Se.message)||"Disconnect failed")}}async function Fe(){if(!ce){I.info("Connect monday.com first");return}M(!0),await Be(ae)}async function Be(Ce){try{K(!0);const Q=Ce?`?search=${encodeURIComponent(Ce)}`:"",fe=await(await W(`${ys.MONDAY_LIST_BOARDS}${Q}`)).json(),$e=Array.isArray(fe==null?void 0:fe.items)?fe.items:[];U($e);const nt=(fe==null?void 0:fe.selected_board_id)||(fe==null?void 0:fe.selected)||null;if(nt){O(nt);const ft=$e.find(Je=>String(Je.id)===String(nt));G((ft==null?void 0:ft.name)||null)}}catch(Q){console.error(Q),I.error("Failed to load boards")}finally{K(!1)}}async function ve(){var Ce,Q;if(!se){I.info("Please select a board");return}try{const Se={board_id:Number(se),board_name:H||void 0},fe=await W(ys.MONDAY_SET_BOARD,{method:"POST",body:JSON.stringify(Se)}),$e=await fe.json();if(!fe.ok||($e==null?void 0:$e.success)===!1)throw new Error(($e==null?void 0:$e.detail)||`HTTP ${fe.status}`);A({board_id:((Ce=$e.selected)==null?void 0:Ce.board_id)??Number(se),board_name:((Q=$e.selected)==null?void 0:Q.board_name)??H??null}),I.success("Board selected"),M(!1),await te(),f==="monday"&&await Te(!0)}catch(Se){console.error(Se),I.error((Se==null?void 0:Se.message)||"Failed to save board")}}async function le(){try{const Ce=await W(ys.MONDAY_CLEAR_BOARD,{method:"DELETE"}),Q=await Ce.json();if(!Ce.ok||(Q==null?void 0:Q.success)===!1)throw new Error((Q==null?void 0:Q.detail)||`HTTP ${Ce.status}`);A({board_id:null,board_name:null}),O(null),G(null),I.success("Board cleared"),j([]),S(null),_({})}catch(Ce){console.error(Ce),I.error((Ce==null?void 0:Ce.message)||"Failed to clear board")}}async function Te(Ce=!1){var Q,Se;if(!R){I.info(`Connect ${((Q=Ic[f])==null?void 0:Q.label)||f} first`);return}try{E(!0);const fe=new URLSearchParams({limit:String(g||25)});let $e=`${ys.CONTACTS(f)}?${fe.toString()}`;!Ce&&w&&($e+=`&cursor=${encodeURIComponent(w)}`);const nt=await W($e),ft=await nt.json();if(f==="monday"&&nt.status===409&&((Se=ft==null?void 0:ft.detail)!=null&&Se.needs_board_selection)){I.info("Please choose your Monday board"),M(!0),await Be(ae),E(!1);return}if(!nt.ok)throw new Error((ft==null?void 0:ft.detail)||`HTTP ${nt.status}`);const Je=((ft==null?void 0:ft.items)||[]).map(Pt=>({...Pt,company:Pt.company||yfe(Pt.raw)})),Rt=(ft==null?void 0:ft.next_cursor)||null;j(Pt=>Ce?Je:[...Pt,...Je]),S(Rt),_((ft==null?void 0:ft.raw_paging)||{})}catch(fe){console.error(fe);const $e=String((fe==null?void 0:fe.message)||"");$e.includes("Invalid paging token")?(I.error("Invalid/expired cursor; starting over."),S(null)):I.error($e||"Fetch failed")}finally{E(!1)}}const ee=x.useMemo(()=>{const Ce=C.trim().toLowerCase();return Ce?y.filter(Q=>{const Se=(Q.name||"").toLowerCase(),fe=(Q.email||"").toLowerCase(),$e=(Q.phone||"").toLowerCase(),nt=(Q.company||"").toLowerCase();return Se.includes(Ce)||fe.includes(Ce)||$e.includes(Ce)||nt.includes(Ce)}):y},[y,C]),we=((Ve=Ic[f])==null?void 0:Ve.Mark)||Pw,De=((rt=Ic[f])==null?void 0:rt.label)||f,Ue=f==="monday"&&R&&!Z;return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-80 w-80 sm:h-96 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-5 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(we,{size:24})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight leading-tight truncate",children:n.jsxs("span",{className:`bg-clip-text text-transparent ${vfe}`,children:["CRM Integrations  ",De]})}),n.jsx("p",{className:"text-[11px] sm:text-xs md:text-sm text-slate-600",children:"Connect your CRM and browse Contacts directly in your app."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[R?n.jsxs(n.Fragment,{children:[n.jsxs(_a,{onClick:()=>Ae(f),size:"sm",children:[n.jsx(pd,{className:"mr-2 h-4 w-4"}),"Ensure Fresh"]}),f==="monday"&&n.jsxs(_a,{onClick:Fe,size:"sm",variant:"subtle",children:[n.jsx(xv,{className:"mr-2 h-4 w-4"}),Z?"Change Board":"Choose Board"]}),n.jsxs(_a,{onClick:()=>xe(f),variant:"danger",size:"sm",children:[n.jsx(mV,{className:"mr-2 h-4 w-4"}),"Disconnect"]})]}):n.jsx(_a,{onClick:()=>Ee(f),variant:"primary",disabled:u,size:"sm",children:u?n.jsxs(n.Fragment,{children:[n.jsx(_n,{className:"mr-2 h-4 w-4 animate-spin"}),"Connecting"]}):n.jsxs(n.Fragment,{children:[n.jsx(As,{className:"mr-2 h-4 w-4"}),"Connect"]})}),n.jsxs(_a,{onClick:()=>{_e(),te()},size:"sm",children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"}),"Refresh"]})]})]}),n.jsx("div",{className:"relative z-10 mt-4 flex flex-wrap gap-2",children:t.filter(Ce=>F1.includes(Ce.name)).map(Ce=>{var fe;const Q=((fe=Ic[Ce.name])==null?void 0:fe.Mark)||Pw,Se=!!L[Ce.name];return n.jsxs("button",{onClick:()=>{h(Ce.name),j([]),S(null),_({})},className:Ew("flex items-center gap-2 rounded-xl border px-3 py-1.5 text-xs font-semibold focus:outline-none","transition-colors",Ce.name===f?"bg-blue-50 border-blue-200 text-blue-700":"bg-white border-slate-200 text-slate-700 hover:bg-slate-50"),title:Ce.name,children:[n.jsx(Q,{size:16}),n.jsx("span",{className:"capitalize",children:Ce.name}),Se?n.jsx("span",{className:"ml-1 text-emerald-600",children:""}):n.jsx("span",{className:"ml-1 text-slate-300",children:""})]},Ce.name)})}),!R&&(((tt=t.find(Ce=>Ce.name===f))==null?void 0:tt.type)||"oauth")==="oauth"&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 text-[11px] sm:text-[12px] text-slate-500",children:[n.jsx(or,{className:"h-4 w-4 mt-0.5 text-slate-400 shrink-0"}),n.jsxs("span",{className:"min-w-0",children:["Ensure backend env ",n.jsx("code",{children:"ALLOWED_REDIRECT_ORIGINS"})," includes"," ",n.jsx("code",{className:"break-all",children:C0}),"."]})]}),Ue&&n.jsxs("div",{className:"relative z-10 mt-3 flex items-start gap-2 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2",children:[n.jsx(xv,{className:"h-4 w-4 text-amber-600 mt-0.5"}),n.jsxs("div",{className:"text-[12px] sm:text-sm text-amber-800",children:["Select a Monday board to view your leads.",n.jsx(_a,{onClick:Fe,size:"sm",className:"ml-2",variant:"outline",children:"Choose Board"})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-3 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(A0,{label:"Connection",value:R?"Connected":"Not connected",Icon:R?kn:cr,tone:R?"blue":"cyan"}),n.jsx(A0,{label:"Contacts Loaded",value:y.length,Icon:Ca,tone:"cyan"}),n.jsx(A0,{label:"Next Cursor",value:w?String(w).slice(0,10)+"":"",Icon:id,tone:"blue"}),n.jsx(A0,{label:f==="monday"?"Monday Board":"Account",value:f==="monday"?(B==null?void 0:B.board_name)||(Z?`#${B.board_id}`:"Not selected"):(q==null?void 0:q.external_account_name)||"",Icon:f==="monday"?xv:vi,tone:"cyan",valueClassName:"truncate break-all max-w-[14ch] sm:max-w-[24ch] md:max-w-[28ch] xl:max-w-[32ch]"})]}),n.jsxs("div",{className:"mt-5 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between px-3 sm:px-5 py-3 border-b border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:C,onChange:Ce=>P(Ce.target.value),placeholder:"Search by name, email, phone, company",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(id,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Data"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx("select",{value:g,onChange:Ce=>b(Number(Ce.target.value)||25),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[10,25,50,100].map(Ce=>n.jsxs("option",{value:Ce,children:[Ce," / page"]},Ce))}),n.jsxs(_a,{onClick:()=>Te(!0),disabled:!R||f==="monday"&&!Z,variant:"primary",size:"sm",children:[n.jsx(qw,{className:"mr-2 h-4 w-4"}),"Fetch"]}),n.jsxs(_a,{onClick:()=>Te(!1),disabled:!R||!w,size:"sm",children:[n.jsx(wn,{className:"mr-2 h-4 w-4"}),"Load more"]})]})]}),T?n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(js,{children:"Name"}),n.jsx(js,{children:"Email"}),n.jsx(js,{children:"Phone"}),n.jsx(js,{children:"Company"}),n.jsx(js,{children:"ID"})]})}),n.jsx("tbody",{children:n.jsx(wfe,{rows:6,cols:5})})]})})}):ee.length===0?n.jsxs("div",{className:"grid place-content-center py-14 px-4",children:[n.jsx("div",{className:"grid h-16 w-16 place-content-center rounded-full bg-slate-100 mb-3",children:n.jsx(id,{className:"h-8 w-8 text-slate-400"})}),n.jsx("div",{className:"text-sm sm:text-base font-semibold text-slate-700",children:"No data"}),n.jsxs("div",{className:"text-xs sm:text-sm text-slate-500",children:["Click ",n.jsx("b",{children:"Fetch"})," to load contacts."]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(js,{children:"Name"}),n.jsx(js,{children:"Email"}),n.jsx(js,{children:"Phone"}),n.jsx(js,{children:"Company"}),n.jsx(js,{children:"ID"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ee.map(Ce=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(rm,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(YE,{name:Ce.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:Ce.name||""}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID ",Ce.id]})]})]})}),n.jsx(rm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(wa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:Ce.email||""})]})}),n.jsx(rm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700",children:[n.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:Ce.phone||""})]})}),n.jsx(rm,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(E3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium truncate max-w-[240px]",children:Ce.company||""})]})}),n.jsx(rm,{children:n.jsx("code",{className:"text-[11px] text-slate-500 break-all",children:Ce.id})})]},`${Ce.id}-${Ce.email||Ce.name||"row"}`))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ee.map((Ce,Q)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Q===0&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(YE,{name:Ce.name,size:44}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:Ce.name||""}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-[12px] sm:text-sm text-slate-600 min-w-0",children:[n.jsx(wa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:Ce.email||""})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-3 text-slate-700",children:[n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px]",children:[n.jsx(gt,{className:"h-3.5 w-3.5 text-slate-500"}),Ce.phone||""]}),n.jsxs("span",{className:"inline-flex items-center gap-1 text-[11px] min-w-0",children:[n.jsx(E3,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate max-w-[160px] sm:max-w-[200px]",children:Ce.company||""})]})]})]})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID ",Ce.id]})]},`${Ce.id}-${Ce.email||Ce.name||"card"}`))})})]}),n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-3 sm:px-5 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-xs sm:text-sm text-slate-600 min-w-0",children:["Next cursor:"," ",n.jsx("b",{className:"font-mono break-all",children:String(w||"")})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(_a,{onClick:()=>Te(!0),disabled:!R||f==="monday"&&!Z,size:"sm",children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsxs(_a,{onClick:()=>Te(!1),disabled:!R||!w,variant:"primary",size:"sm",children:["Load more ",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]}),Object.keys(k||{}).length>0&&n.jsx("div",{className:"hidden sm:block px-4 sm:px-6 py-4",children:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-3 shadow-sm",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Provider paging (raw)"}),n.jsx("div",{className:"max-w-full overflow-x-auto",children:n.jsx("pre",{className:"text-[11px] text-slate-600 min-w-0",children:JSON.stringify(k,null,2)})})]})})]})]}),n.jsx(It,{children:$&&n.jsx(Nfe,{title:"Select your Monday Board",onClose:()=>M(!1),children:n.jsxs("div",{className:"flex flex-col gap-3",children:[n.jsxs("div",{className:"text-[12px] text-slate-600",children:["Pick a board to use as your ",n.jsx("b",{children:"Leads"})," source. Youll only see items you own (via People/Owner column) or created, based on backend config."]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("div",{className:"relative flex-1",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:ae,onChange:Ce=>ke(Ce.target.value),placeholder:"Search boards by name",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",onKeyDown:Ce=>{Ce.key==="Enter"&&Be(ae)}})]}),n.jsxs(_a,{onClick:()=>Be(ae),size:"sm",children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Search"]})]}),n.jsx("div",{className:"rounded-2xl border border-slate-200",children:n.jsx("div",{className:"max-h-[46vh] overflow-y-auto p-2",children:F?n.jsxs("div",{className:"flex items-center justify-center py-8 text-slate-500",children:[n.jsx(_n,{className:"h-5 w-5 animate-spin mr-2"}),"Loading boards"]}):z.length===0?n.jsx("div",{className:"text-center py-8 text-slate-500 text-sm",children:"No boards found."}):n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:z.map(Ce=>{const Q=String(se)===String(Ce.id);return n.jsxs("button",{onClick:()=>{O(Ce.id),G(Ce.name||null)},className:Ew("text-left rounded-xl border px-3 py-2 transition-colors",Q?"border-blue-300 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"),children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:Ce.name||`Board ${Ce.id}`}),Q&&n.jsx(jfe,{className:"bg-blue-600 text-white",children:"Selected"})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["ID: ",n.jsx("code",{className:"font-mono",children:Ce.id})]})]},Ce.id)})})})}),n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2",children:[n.jsxs("div",{className:"text-[12px] text-slate-500",children:["Current:"," ",n.jsx("b",{children:B!=null&&B.board_name?B.board_name:B!=null&&B.board_id?`#${B.board_id}`:"None"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(_a,{onClick:()=>M(!1),size:"sm",children:"Cancel"}),n.jsx(_a,{onClick:le,size:"sm",variant:"subtle",children:"Clear"}),n.jsx(_a,{onClick:ve,size:"sm",variant:"primary",children:"Save"})]})]})]})})})]})}function js({children:e}){return n.jsx("th",{className:"px-4 py-3 text-left text-[11px] sm:text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function rm({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}const T0="https://aisdr-dbt.ddns.net",V1={LIST:`${T0}/api/appointments`,CREATE:`${T0}/api/appointments/tool/schedule`,DETAIL:e=>`${T0}/api/appointments/${e}`,UPDATE:e=>`${T0}/api/appointments/${e}`},Cfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function es({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function WE({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function Bc({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function zc({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function dl({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function YL({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(es,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}const sd=e=>{switch(String(e||"").toLowerCase()){case"scheduled":return{badge:"border-amber-200 bg-amber-50 text-amber-700",icon:dj};case"completed":return{badge:"border-emerald-200 bg-emerald-50 text-emerald-700",icon:kn};case"cancelled":case"canceled":return{badge:"border-red-200 bg-red-50 text-red-700",icon:cr};default:return{badge:"border-slate-200 bg-slate-50 text-slate-700",icon:dj}}};function Ow(e){try{const t=new Date(e);return Number.isNaN(t.getTime())?e:new Intl.DateTimeFormat(void 0,{year:"numeric",month:"short",day:"2-digit",hour:"2-digit",minute:"2-digit"}).format(t)}catch{return e}}function Afe(e){const t=String(e||"").trim().toLowerCase();if(!t)return"";if(t==="noon")return"12:00";if(t==="midnight")return"00:00";const a=t.match(/(\d{1,2})(?::(\d{1,2}))?\s*(am|pm)/i);if(a){let s=parseInt(a[1]);const l=parseInt(a[2]||"0"),c=(a[3]||"").toLowerCase();return c==="pm"&&s<12&&(s+=12),c==="am"&&s===12&&(s=0),`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}const r=t.match(/^(\d{1,2})(?::(\d{1,2}))?$/);if(r){let s=parseInt(r[1]);const l=parseInt(r[2]||"0");if(s<=24&&l<=59)return`${String(s).padStart(2,"0")}:${String(l).padStart(2,"0")}`}return t}function Tfe(e){const t=String(e||"").trim();if(!t)return"";const a=t.startsWith("+")?"+":"",r=t.replace(/\D+/g,"");return a+r}function Efe(){const[e,t]=x.useState([]),[a,r]=x.useState(!1),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState("all"),[h,g]=x.useState(""),[b,y]=x.useState(""),[j,w]=x.useState(1),S=10,[k,_]=x.useState(!1),[C,P]=x.useState(!1),[T,E]=x.useState({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),[$,M]=x.useState(null),F=typeof window<"u"?localStorage.getItem("token"):null,K=x.useCallback(async()=>{try{r(!0),l("");const B=await fetch(V1.LIST,{headers:{Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},mode:"cors"});if(!B.ok)throw new Error(`HTTP ${B.status}`);const A=await B.json(),R=(Array.isArray(A)?A:(A==null?void 0:A.appointments)||[]).map(q=>({id:q.id,title:q.title,notes:q.notes,location:q.location,phone:q.phone,timezone:q.timezone,start_at:q.start_at,end_at:q.end_at,duration_minutes:q.duration_minutes,status:q.status,created_at:q.created_at,updated_at:q.updated_at}));R.sort((q,ce)=>new Date(ce.start_at)-new Date(q.start_at)),t(R)}catch(B){l((B==null?void 0:B.message)||"Failed to load appointments"),I.error((B==null?void 0:B.message)||"Failed to load appointments")}finally{r(!1)}},[F]);x.useEffect(()=>{K()},[K]);const z=x.useMemo(()=>{let B=[...e];if(c.trim()){const A=c.trim().toLowerCase();B=B.filter(L=>[L.title,L.location,L.phone,L.notes].map(R=>String(R||"").toLowerCase()).some(R=>R.includes(A)))}if(m!=="all"&&(B=B.filter(A=>String(A.status).toLowerCase()===m)),h){const A=new Date(`${h}T00:00:00`);B=B.filter(L=>new Date(L.start_at)>=A)}if(b){const A=new Date(`${b}T23:59:59`);B=B.filter(L=>new Date(L.start_at)<=A)}return B},[e,c,m,h,b]),U=Math.max(1,Math.ceil(z.length/S)),ae=j*S,ke=ae-S,se=z.slice(ke,ae);x.useEffect(()=>w(1),[c,m,h,b]);const O=x.useMemo(()=>{const B=e.length,A=e.filter(q=>q.status==="scheduled").length,L=e.filter(q=>q.status==="completed").length,R=e.filter(q=>String(q.status).toLowerCase().startsWith("cancel")).length;return{total:B,scheduled:A,completed:L,cancelled:R}},[e]);async function H(B,A){try{M(B);const L=await fetch(V1.UPDATE(B),{method:"PATCH",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify({status:A})});if(!L.ok){const R=await L.text();throw new Error(`HTTP ${L.status}${R?`  ${R}`:""}`)}I.success(`Status set to ${A}`),t(R=>R.map(q=>q.id===B?{...q,status:A}:q))}catch(L){I.error((L==null?void 0:L.message)||"Failed to update status")}finally{M(null)}}async function G(){const B={title:String(T.title||"").trim(),date:String(T.date||"").trim(),time:Afe(T.time),timezone:String(T.timezone||"Asia/Karachi").trim(),durationMinutes:Math.max(1,parseInt(T.durationMinutes||30)),phone:Tfe(T.phone),location:String(T.location||"").trim(),notes:String(T.notes||"").trim()};if(!B.title)return I.error("Title is required");if(!B.date)return I.error("Date is required");if(!B.time||!/^\d{2}:\d{2}$/.test(B.time))return I.error("Time looks invalid");if(!B.location)return I.error("Location is required");if(!B.phone||B.phone.replace(/\D/g,"").length<11)return I.error("Phone looks invalid");try{P(!0);const A=await fetch(V1.CREATE,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json",...F?{Authorization:`Bearer ${F}`}:{}},body:JSON.stringify(B)});if(!A.ok){const R=await A.text();throw new Error(`HTTP ${A.status}${R?`  ${R}`:""}`)}const L=await A.json();I.success(" Appointment created"),_(!1),E({title:"",date:"",time:"",timezone:Intl.DateTimeFormat().resolvedOptions().timeZone||"Asia/Karachi",durationMinutes:30,phone:"",location:"",notes:""}),t(R=>[{id:L.id||crypto.randomUUID(),title:L.title||B.title,notes:L.notes||B.notes,location:L.location||B.location,phone:L.phone||B.phone,timezone:L.timezone||B.timezone,start_at:L.start_at||`${B.date}T${B.time}`,end_at:L.end_at||`${B.date}T${B.time}`,duration_minutes:L.duration_minutes||B.durationMinutes,status:L.status||"scheduled",created_at:L.created_at||new Date().toISOString(),updated_at:L.updated_at||new Date().toISOString()},...R])}catch(A){I.error((A==null?void 0:A.message)||"Failed to create appointment")}finally{P(!1)}}return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(ss,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Cfe}`,children:"Appointments"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create, track, and update appointment statuses."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(es,{onClick:()=>_(!0),variant:"primary",children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"})," New Appointment"]}),n.jsx(es,{onClick:K,children:a?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(E0,{label:"Total",value:O.total,Icon:ss,tone:"blue"}),n.jsx(E0,{label:"Scheduled",value:O.scheduled,Icon:dj,tone:"cyan"}),n.jsx(E0,{label:"Completed",value:O.completed,Icon:kn,tone:"blue"}),n.jsx(E0,{label:"Cancelled",value:O.cancelled,Icon:cr,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:c,onChange:B=>u(B.target.value),placeholder:"Search title, phone, location, notes",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(_l,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:m,onChange:B=>f(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"scheduled",children:"Scheduled"}),n.jsx("option",{value:"completed",children:"Completed"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsx("input",{type:"date",value:h,onChange:B=>g(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx("span",{className:"text-slate-500 text-sm",children:"to"}),n.jsx("input",{type:"date",value:b,onChange:B=>y(B.target.value),className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),(c||m!=="all"||h||b)&&n.jsx(es,{onClick:()=>{u(""),f("all"),g(""),y("")},className:"text-slate-700",children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(ss,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Appointments (",z.length,")"]})]}),a&&n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin"}),"Loading"]})]}),s?n.jsx("div",{className:"p-6 text-sm text-red-600",children:s}):z.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(ss,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No appointments"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try changing filters or create a new one"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(Bc,{children:"Title"}),n.jsx(Bc,{children:"When"}),n.jsx(Bc,{children:"Location"}),n.jsx(Bc,{children:"Phone"}),n.jsx(Bc,{children:"Status"}),n.jsx(Bc,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:se.map(B=>{const A=sd(B.status),L=A.icon;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(zc,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]})}),n.jsx(zc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(xi,{className:"h-4 w-4 text-slate-500"})," ",Ow(B.start_at)]})}),n.jsx(zc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(bi,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]})}),n.jsx(zc,{children:n.jsxs("div",{className:"text-sm text-slate-800 flex items-center gap-1",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})}),n.jsx(zc,{children:n.jsxs(WE,{className:`border ${A.badge}`,children:[n.jsx(L,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})}),n.jsx(zc,{children:n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(XE,{current:B.status,onChange:R=>H(B.id,R),busy:$===B.id}),n.jsx(ZE,{a:B})]})})]},B.id)})})]})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:se.map(B=>{const A=sd(B.status),L=A.icon;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:B.title}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(xi,{className:"h-4 w-4 text-slate-500"})," ",Ow(B.start_at)]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(bi,{className:"h-4 w-4 text-slate-500"})," ",B.location||""]}),n.jsxs("div",{className:"mt-1 text-sm text-slate-700 flex items-center gap-1",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",B.phone]})]}),n.jsxs(WE,{className:`border ${A.badge} shrink-0`,children:[n.jsx(L,{className:"mr-1 h-3.5 w-3.5"})," ",String(B.status).charAt(0).toUpperCase()+String(B.status).slice(1)]})]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(XE,{current:B.status,onChange:R=>H(B.id,R),busy:$===B.id}),n.jsx(ZE,{a:B})]}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 break-all",children:["ID #",B.id]})]},B.id)})})}),z.length>S&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:ke+1}),"",n.jsx("b",{children:Math.min(ae,z.length)})," of ",n.jsx("b",{children:z.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(es,{onClick:()=>w(B=>Math.max(1,B-1)),disabled:j===1,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,U)},(B,A)=>{let L;if(U<=5||j<=3?L=A+1:j>=U-2?L=U-4+A:L=j-2+A,L<1||L>U)return null;const R=j===L;return n.jsx("button",{onClick:()=>w(L),className:`px-3 py-2 text-sm font-semibold rounded-xl ${R?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:L},L)})}),n.jsxs(es,{onClick:()=>w(B=>Math.min(U,B+1)),disabled:j>=U,children:["Next ",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(It,{children:k&&n.jsxs(YL,{onClose:()=>_(!1),title:"New Appointment",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(dl,{label:"Title",children:n.jsx("input",{value:T.title,onChange:B=>E(A=>({...A,title:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Consultation"})}),n.jsx(dl,{label:"Phone",children:n.jsx("input",{value:T.phone,onChange:B=>E(A=>({...A,phone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+923001234567"})}),n.jsx(dl,{label:"Date",children:n.jsx("input",{type:"date",value:T.date,onChange:B=>E(A=>({...A,date:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(dl,{label:"Time",children:n.jsx("input",{value:T.time,onChange:B=>E(A=>({...A,time:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"15:30 or 3:30 PM"})}),n.jsx(dl,{label:"Location",children:n.jsx("input",{value:T.location,onChange:B=>E(A=>({...A,location:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Clinic, Main St."})}),n.jsx(dl,{label:"Timezone",children:n.jsx("input",{value:T.timezone,onChange:B=>E(A=>({...A,timezone:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Asia/Karachi"})}),n.jsx(dl,{label:"Duration (minutes)",children:n.jsx("input",{type:"number",min:1,max:1440,value:T.durationMinutes,onChange:B=>E(A=>({...A,durationMinutes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(dl,{label:"Notes",children:n.jsx("textarea",{value:T.notes,onChange:B=>E(A=>({...A,notes:B.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Any extra details",rows:3})})]}),n.jsxs("div",{className:"mt-6 flex justify-end gap-2",children:[n.jsx(es,{onClick:()=>_(!1),variant:"subtle",children:"Cancel"}),n.jsx(es,{onClick:G,disabled:C,variant:"primary",children:C?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"})," Create"]})})]})]})})]})}function E0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function XE({current:e,onChange:t,busy:a}){const[r,s]=x.useState(!1),l=[{k:"scheduled",label:"Mark Scheduled",tone:sd("scheduled")},{k:"completed",label:"Mark Completed",tone:sd("completed")},{k:"cancelled",label:"Mark Cancelled",tone:sd("cancelled")}],u=sd(e).icon;return n.jsxs("div",{className:"relative",children:[n.jsxs(es,{onClick:()=>s(m=>!m),size:"sm",className:"min-w-[150px] justify-between",children:[n.jsxs("span",{className:"flex items-center gap-2 text-slate-800",children:[n.jsx(u,{className:"h-4 w-4"})," ",String(e).charAt(0).toUpperCase()+String(e).slice(1)]}),a?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(wn,{className:"h-4 w-4 opacity-60"})]}),n.jsx(It,{children:r&&n.jsx(pe.div,{initial:{opacity:0,y:6},animate:{opacity:1,y:0},exit:{opacity:0,y:6},className:"absolute z-20 mt-2 w-56 rounded-xl border border-slate-200 bg-white shadow-xl",children:l.map(m=>n.jsxs("button",{onClick:()=>{s(!1),m.k!==e&&t(m.k)},className:"w-full flex items-center justify-between px-3 py-2 text-sm hover:bg-slate-50",children:[n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(m.tone.icon,{className:"h-4 w-4"})," ",m.label]}),String(e)===m.k&&n.jsx(kn,{className:"h-4 w-4 text-emerald-500"})]},m.k))})})]})}function ZE({a:e}){const[t,a]=x.useState(!1);return n.jsxs(n.Fragment,{children:[n.jsxs(es,{onClick:()=>a(!0),size:"sm",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"})," Details"]}),n.jsx(It,{children:t&&n.jsxs(YL,{title:"Appointment Details",onClose:()=>a(!1),children:[n.jsxs("div",{className:"space-y-3 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Title:"})," ",e.title]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xi,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"When:"})," ",Ow(e.start_at)]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(bi,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Location:"})," ",e.location||""]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Phone:"})," ",e.phone]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xi,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Duration:"})," ",e.duration_minutes," min"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(aV,{className:"h-4 w-4 text-slate-500"})," ",n.jsx("span",{className:"font-semibold",children:"Notes:"})," ",e.notes||""]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["ID #",e.id]})]}),n.jsx("div",{className:"mt-5 text-right",children:n.jsx(es,{onClick:()=>a(!1),variant:"primary",children:"Close"})})]})})]})}const Zs="https://aisdr-dbt.ddns.net",Qs={FORM_COPY_TOKEN:`${Zs}/api/form/copy-token`,FORM_COPY_WEBHOOK:`${Zs}/api/form/copy-webhook-url`,FORM_COPY_SCRIPT:`${Zs}/api/form/copy-script`,FORM_COPY_WP:`${Zs}/api/form/copy-wordpress-plugin`,INTAKE_SCAN:`${Zs}/api/intake/scan`,INTAKE_SUBMISSIONS:`${Zs}/api/intake/submissions`,INTAKE_SUBMISSION_DETAIL:e=>`${Zs}/api/intake/submissions/${encodeURIComponent(e)}`,INTAKE_PROGRESS:`${Zs}/api/intake/progress`,INTAKE_ANALYTICS:`${Zs}/api/intake/analytics`},Pfe="http://commondatastorage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4";async function Js(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch(r){throw new Error(`Invalid JSON: ${(r==null?void 0:r.message)||""}`)}try{return JSON.parse(a)}catch{throw new Error(`Expected JSON but got '${t||"unknown"}'. Body: ${a.slice(0,300)}`)}}function ul(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function sa({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function Uc({label:e,hint:t,children:a}){return n.jsxs("div",{className:"min-w-0",children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),a,t?n.jsx("div",{className:"mt-1 text-[11px] text-slate-500",children:t}):null]})}function Ns({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function co({code:e="",lang:t="text",filename:a="",className:r="",maxHeight:s="max-h-[420px]"}){const l=x.useMemo(()=>e.split(`
`),[e]);return n.jsxs("div",{className:["w-full","bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-950","border border-slate-200 dark:border-slate-800","rounded-xl",r].join(" "),children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 dark:bg-slate-900/70 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 font-mono truncate",children:a||(t?`snippet.${t}`:"snippet.txt")})]}),n.jsxs("div",{className:["relative border-t border-slate-200 dark:border-slate-800","font-mono text-[11px] sm:text-xs md:text-sm","overflow-auto code-scroll","leading-relaxed","px-3 py-2",s].join(" "),style:{scrollbarWidth:"thin"},children:[n.jsx("div",{className:"md:absolute md:inset-y-0 md:left-0 md:w-8 md:border-r md:border-slate-200 md:dark:border-slate-800 md:flex md:flex-col md:items-end md:pt-2 md:px-1 hidden select-none",children:l.map((c,u)=>n.jsx("div",{className:"text-[10px] text-slate-500 dark:text-slate-400 leading-relaxed",children:u+1},u))}),n.jsx("pre",{className:"m-0 p-0 md:pl-10 whitespace-pre min-w-full",children:n.jsx("code",{className:"text-slate-800 dark:text-slate-100",children:e})})]}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 dark:border-slate-800 text-[10px] sm:text-xs text-slate-600 dark:text-slate-400 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t||"text"}),n.jsxs("span",{children:["Ln ",l.length]})]})]})}function Ofe({url:e}){return n.jsxs(Ns,{className:"mt-4",children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsx("h3",{className:"text-sm font-bold text-slate-900",children:"Tutorial"}),n.jsxs("a",{href:e,target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open video in a new tab",children:[n.jsx(lp,{className:"h-3.5 w-3.5"}),"Open in new tab"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 overflow-hidden bg-slate-100",children:n.jsx("div",{className:"relative w-full",style:{paddingTop:"56.25%"},children:n.jsx("video",{controls:!0,playsInline:!0,preload:"metadata",className:"absolute inset-0 h-full w-full object-cover",src:e})})}),n.jsx("p",{className:"mt-2 text-[11px] text-slate-500",children:"Watch inline or open in a new tab. The player scales to the available space and never overflows its card."})]})}function Mfe({value:e=0,label:t="",className:a=""}){const r=Math.max(0,Math.min(100,Number(e)||0));return n.jsxs("div",{className:`w-full ${a}`,children:[n.jsxs("div",{className:"flex items-center justify-between text-[11px] mb-1",children:[n.jsx("span",{className:"text-slate-600",children:t}),n.jsxs("span",{className:"font-semibold text-slate-700",children:[r.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2.5 w-full rounded-full bg-slate-200 overflow-hidden",children:n.jsx("div",{className:"h-full bg-gradient-to-r from-emerald-500 to-blue-600 rounded-full transition-all",style:{width:`${r}%`}})})]})}function P0({label:e,value:t,tone:a="slate"}){const r={slate:"bg-slate-100 text-slate-800 border-slate-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-800 border-amber-200"};return n.jsxs("span",{className:`inline-flex items-center gap-1 px-2.5 py-1 rounded-lg border text-xs ${r[a]}`,children:[n.jsx("span",{className:"font-semibold",children:t??0}),n.jsx("span",{className:"opacity-80",children:e})]})}function Dfe({dataObj:e}){const t=Object.keys(e||{}).sort(),a=t.map(s=>{var l;return((l=e[s])==null?void 0:l.total)||0}),r=Math.max(1,...a);return n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsx("div",{className:"flex items-end gap-1 h-28",children:t.map(s=>{var u;const l=((u=e[s])==null?void 0:u.total)||0,c=l/r*100;return n.jsxs("div",{className:"flex flex-col items-center w-6",children:[n.jsx("div",{className:"w-4 rounded-t-md bg-blue-500/80",style:{height:`${c}%`},title:`${s}: ${l}`}),n.jsx("div",{className:"text-[9px] text-slate-500 mt-1 truncate w-full text-center",children:s.slice(5)})]},s)})})})}const QE=e=>e?e.slice(0,1).toUpperCase()+e.slice(1).toLowerCase():"",Rfe=e=>{switch(e){case"booked":return"bg-emerald-50 text-emerald-800 border-emerald-200";case"cancelled":return"bg-red-50 text-red-800 border-red-200";default:return"bg-amber-50 text-amber-800 border-amber-200"}};function Lfe(){const[e,t]=x.useState(!1),[a,r]=x.useState(""),[s,l]=x.useState(""),[c,u]=x.useState(""),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState("John"),[j,w]=x.useState("Doe"),[S,k]=x.useState("john@example.com"),[_,C]=x.useState("+15551234567"),[P,T]=x.useState(()=>new Date().toISOString().slice(0,10)),[E,$]=x.useState("14:30"),[M,F]=x.useState(!1),[K,z]=x.useState(null),[U,ae]=x.useState(!1),[ke,se]=x.useState(null),[O,H]=x.useState({total:0,booked:0,cancelled:0,unbooked:0,completion_rate:0}),[G,B]=x.useState(!1),[A,L]=x.useState({}),[R,q]=x.useState(!1),[ce,Z]=x.useState(!1),[W,_e]=x.useState([]),[te,je]=x.useState(0),[Ee,Ae]=x.useState(""),[xe,Fe]=x.useState(0),Be=10,[ve,le]=x.useState(null),[Te,ee]=x.useState(!1),we=x.useMemo(()=>a?h?a.length<=12?"":`${a.slice(0,6)}${a.slice(-4)}`:a:"",[a,h]),De=x.useCallback(()=>{const Re=localStorage.getItem("token");if(!Re)throw I.error("No authentication token found."),new Error("Missing auth token");return{Authorization:`Bearer ${Re}`,Accept:"application/json"}},[]),Ue=x.useCallback(async()=>{t(!0);try{{const Re=await fetch(Qs.FORM_COPY_TOKEN,{headers:De(),mode:"cors"}),qe=await Js(Re);if(!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||"Failed to fetch token");r(qe.token||"")}{const Re=await fetch(Qs.FORM_COPY_WEBHOOK,{headers:De(),mode:"cors"}),qe=await Js(Re);if(!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||"Failed to fetch webhook URL");l(qe.webhook_url||"")}{const Re=await fetch(Qs.FORM_COPY_SCRIPT,{headers:De(),mode:"cors"}),qe=await Js(Re);if(!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||"Failed to fetch script");u(qe.script||"")}{const Re=await fetch(Qs.FORM_COPY_WP,{headers:De(),mode:"cors"}),qe=await Js(Re);if(!(qe!=null&&qe.success))throw new Error((qe==null?void 0:qe.detail)||"Failed to fetch plugin");f(qe.wordpress_plugin||"")}}catch(Re){I.error((Re==null?void 0:Re.message)||"Failed to load")}finally{t(!1)}},[De]),Ve=x.useCallback(async()=>{B(!0);try{const Re=await fetch(Qs.INTAKE_PROGRESS,{headers:De(),mode:"cors"}),qe=await Js(Re);qe!=null&&qe.ok&&H(qe.progress||{})}catch(Re){I.error((Re==null?void 0:Re.message)||"Failed to load progress")}finally{B(!1)}},[De]),rt=x.useCallback(async()=>{q(!0);try{const Re=await fetch(Qs.INTAKE_ANALYTICS,{headers:De(),mode:"cors"}),qe=await Js(Re);qe!=null&&qe.ok&&L(qe.analytics||{})}catch(Re){I.error((Re==null?void 0:Re.message)||"Failed to load analytics")}finally{q(!1)}},[De]),tt=x.useCallback(async()=>{Z(!0);try{const Re=new URL(Qs.INTAKE_SUBMISSIONS);Ee&&Re.searchParams.set("status",Ee),Re.searchParams.set("limit",String(Be)),Re.searchParams.set("offset",String(xe*Be));const qe=await fetch(Re.toString(),{headers:De(),mode:"cors"}),bt=await Js(qe);bt!=null&&bt.ok&&(_e(bt.items||[]),je(bt.total||0))}catch(Re){I.error((Re==null?void 0:Re.message)||"Failed to load submissions")}finally{Z(!1)}},[De,Ee,xe]),Ce=x.useCallback(async Re=>{ee(!0);try{const qe=await fetch(Qs.INTAKE_SUBMISSION_DETAIL(Re),{headers:De(),mode:"cors"}),bt=await Js(qe);bt!=null&&bt.ok&&le(bt.submission||null)}catch(qe){I.error((qe==null?void 0:qe.message)||"Failed to load detail")}finally{ee(!1)}},[De]);x.useEffect(()=>{Ue().catch(()=>{})},[Ue]),x.useEffect(()=>{Ve().catch(()=>{}),rt().catch(()=>{})},[Ve,rt]),x.useEffect(()=>{tt().catch(()=>{})},[tt]);const Q=x.useMemo(()=>({form:{first_name:b,last_name:j,email:S,phone:_,date:P,time:E},meta:{source:"FormConnection-Test",sent_at:new Date().toISOString()}}),[b,j,S,_,P,E]),Se=async()=>{if(!s)return I.error("Webhook URL not loaded yet.");F(!0),z(null);try{const Re=await fetch(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Q)}),qe=await Re.text();let bt;try{bt=JSON.parse(qe)}catch{bt={raw:qe}}z(bt),Re.ok?I.success(" Test submitted to webhook"):I.error(`Webhook responded with HTTP ${Re.status}`)}catch(Re){I.error((Re==null?void 0:Re.message)||"Test submit failed")}finally{F(!1)}},fe=async()=>{ae(!0),se(null);try{const Re=await fetch(Qs.INTAKE_SCAN,{method:"POST",headers:{...De(),"Content-Type":"application/json"}}),qe=await Js(Re);se(qe),I.success(" Intake scan kicked off");let bt=0;const ua=setInterval(async()=>{bt+=1,await Ve(),bt>=6&&clearInterval(ua)},2e3);tt().catch(()=>{})}catch(Re){I.error((Re==null?void 0:Re.message)||"Scan failed")}finally{ae(!1)}},$e=x.useMemo(()=>`curl -X POST \\
  -H "Content-Type: application/json" \\
  -d "${JSON.stringify(Q,null,2).replace(/"/g,'\\"')}" \\
  "${s||"https://your-api.example.com/api/form/webhook?token=YOUR_TOKEN"}"`,[Q,s]),nt=x.useMemo(()=>{const Re={form_response:{answers:[{type:"text",text:`${b}`},{type:"text",text:`${j}`},{type:"email",email:`${S}`},{type:"phone_number",phone_number:`${_}`},{type:"date",date:`${P}`}]}};return JSON.stringify(Re,null,2)},[b,j,S,_,P]),ft="<?php // not loaded ?>",Je=Math.ceil(te/Be),Rt=xe>0,Pt=xe+1<Je;return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(Ns,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(pd,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Custom Form Connection"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Connect forms to your unified webhook. Well parse, normalize and store as Appointments."})]})]}),n.jsx(sa,{onClick:Ue,disabled:e,children:e?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2"})," Refresh"]})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-3",children:[n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx($fe,{}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Your Webhook Token"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Tenant-scoped auth for /api/form/webhook"})]})]}),n.jsxs("div",{className:"flex items-center gap-2 self-start",children:[n.jsxs(sa,{size:"sm",variant:"subtle",className:"border-amber-200 text-amber-700 hover:bg-amber-50",onClick:()=>g(Re=>!Re),children:[h?n.jsx(Un,{className:"h-4 w-4 mr-1"}):n.jsx(hd,{className:"h-4 w-4 mr-1"}),h?"Show":"Hide"]}),n.jsxs(sa,{size:"sm",onClick:()=>ul(a,"Token copied!"),disabled:!a,children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:we||""}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500",children:"Keep this secret. Anyone with the URL containing your token can submit data to your account."})]}),n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Webhook URL"}),n.jsx("div",{className:"text-xs text-slate-500",children:"Drop into any platform that can POST"})]})]}),n.jsxs(sa,{size:"sm",onClick:()=>ul(s,"Webhook URL copied!"),disabled:!s,children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 font-mono text-xs break-all",children:s||""}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Accepts ",n.jsx("b",{children:"JSON"}),", ",n.jsx("b",{children:"x-www-form-urlencoded"})," and"," ",n.jsx("b",{children:"multipart/form-data"}),". Files are ignored."]})]}),n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Gw,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Start"})]}),n.jsxs("p",{className:"mt-3 text-sm text-slate-700",children:["Paste this snippet before ",n.jsx("code",{className:"font-mono",children:"</body>"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs(sa,{size:"sm",onClick:()=>ul(c,"Script copied!"),disabled:!c,children:[n.jsx(SU,{className:"h-4 w-4 mr-1"})," Copy Script"]}),n.jsxs(sa,{size:"sm",onClick:()=>ul(m,"Plugin code copied!"),disabled:!m,children:[n.jsx(NF,{className:"h-4 w-4 mr-1"})," WP Plugin"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 xl:grid-cols-2",children:[n.jsxs("div",{className:"flex flex-col",children:[n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(jV,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send a Test Submission"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(Uc,{label:"First name",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(wa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:b,onChange:Re=>y(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"John"})]})}),n.jsx(Uc,{label:"Last name",children:n.jsx("input",{value:j,onChange:Re=>w(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Doe"})}),n.jsx(Uc,{label:"Email",children:n.jsx("input",{type:"email",value:S,onChange:Re=>k(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(Uc,{label:"Phone",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{value:_,onChange:Re=>C(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"+15551234567"})]})}),n.jsx(Uc,{label:"Date",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ss,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"date",value:P,onChange:Re=>T(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})}),n.jsx(Uc,{label:"Time",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(xi,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("input",{type:"time",value:E,onChange:Re=>$(Re.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})]})})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap items-center gap-2",children:[n.jsx(sa,{onClick:Se,variant:"primary",disabled:M||!s,children:M?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," ","Sending"]}):n.jsxs(n.Fragment,{children:[n.jsx(K0,{className:"h-4 w-4 mr-2"})," Send Test"]})}),K?n.jsxs("span",{className:"inline-flex items-center gap-1 text-xs text-emerald-700",children:[n.jsx(kn,{className:"h-4 w-4"}),"Response captured"]}):null]}),K?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last response"}),n.jsx(co,{code:JSON.stringify(K,null,2),lang:"json",filename:"response.json",maxHeight:"max-h-[360px]"})]}):null,n.jsxs("div",{className:"mt-4 rounded-xl border border-amber-200 bg-amber-50 px-3 py-2 text-xs text-amber-800 flex gap-2",children:[n.jsx(Ww,{className:"h-4 w-4 shrink-0 mt-[1px]"}),n.jsx("div",{className:"leading-relaxed",children:"Tests are processed by your AI structurer in the background (via the background task and/or periodic scanner) and will create/merge an Appointment automatically once parsed."})]})]}),n.jsx(Ofe,{url:Pfe})]}),n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(eV,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Examples"})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"cURL"}),n.jsxs(sa,{size:"sm",onClick:()=>ul($e,"cURL copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(co,{code:$e,lang:"bash",filename:"embed.sh",maxHeight:"max-h-[280px]"})}),n.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-800",children:"Typeform Payload"}),n.jsxs(sa,{size:"sm",onClick:()=>ul(nt,"JSON copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-2",children:n.jsx(co,{code:nt,lang:"json",filename:"typeform.json",maxHeight:"max-h-[320px]"})})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1 gap-4",children:n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(NV,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Intake Tools"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sa,{variant:"primary",size:"sm",onClick:fe,disabled:U,title:"POST /api/intake/scan",children:U?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"}),"Scanning"]}):n.jsxs(n.Fragment,{children:[n.jsx(cj,{className:"h-4 w-4 mr-1"}),"Scan Now"]})}),n.jsxs(sa,{size:"sm",onClick:()=>{Ve(),tt(),rt()},title:"Refresh intake data",children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sp,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Processing Progress"})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Mfe,{value:(O==null?void 0:O.completion_rate)||0,label:"Completion rate"})}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsx(P0,{label:"Total",value:O==null?void 0:O.total}),n.jsx(P0,{label:"Booked",value:O==null?void 0:O.booked,tone:"emerald"}),n.jsx(P0,{label:"Unbooked",value:O==null?void 0:O.unbooked,tone:"amber"}),n.jsx(P0,{label:"Cancelled",value:O==null?void 0:O.cancelled,tone:"red"})]}),G?n.jsxs("div",{className:"mt-2 text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(Ge,{className:"h-3.5 w-3.5 animate-spin"}),"Updating"]}):null]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3 lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sp,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Daily Submissions"})]}),R?n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(Ge,{className:"h-3.5 w-3.5 animate-spin"}),"Loading"]}):n.jsxs("span",{className:"text-[11px] text-slate-500 flex items-center gap-1",children:[n.jsx(cx,{className:"h-3.5 w-3.5"}),"Totals per day"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(Dfe,{dataObj:A})})]})]}),n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Submissions"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:Ee,onChange:Re=>{Fe(0),Ae(Re.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"All statuses"}),n.jsx("option",{value:"booked",children:"Booked"}),n.jsx("option",{value:"unbooked",children:"Unbooked"}),n.jsx("option",{value:"cancelled",children:"Cancelled"})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[te," total"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"ID"}),n.jsx("th",{className:"py-2 pr-3",children:"Created"}),n.jsx("th",{className:"py-2 pr-3",children:"Name"}),n.jsx("th",{className:"py-2 pr-3",children:"Email"}),n.jsx("th",{className:"py-2 pr-3",children:"Status"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:ce?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"Loading"})}):W.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:6,children:"No submissions yet."})}):W.map(Re=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsx("td",{className:"py-2 pr-3 font-mono text-xs",children:Re.id}),n.jsx("td",{className:"py-2 pr-3",children:Re.created_at?new Date(Re.created_at).toLocaleString():""}),n.jsx("td",{className:"py-2 pr-3",children:(Re.first_name||"-")+" "+(Re.last_name||"")}),n.jsx("td",{className:"py-2 pr-3",children:Re.email||"-"}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx("span",{className:`px-2 py-0.5 rounded-md text-xs border ${Rfe(Re.status)}`,children:QE(Re.status||"")||""})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx(sa,{size:"sm",onClick:()=>Ce(Re.id),children:"View"})})]},Re.id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",Je?xe+1:0," of ",Je]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(sa,{size:"sm",onClick:()=>Fe(Re=>Math.max(0,Re-1)),disabled:!Rt,title:"Previous page",children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(sa,{size:"sm",onClick:()=>Fe(Re=>Pt?Re+1:Re),disabled:!Pt,title:"Next page",children:["Next",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]}),ve?n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3 bg-slate-50",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"text-sm font-semibold text-slate-900",children:["Submission #",ve.id]}),n.jsx(sa,{size:"sm",onClick:()=>le(null),children:"Close"})]}),Te?n.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"Loading"}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"mt-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-2 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Name"}),n.jsx("div",{className:"font-medium",children:(ve.first_name||"-")+" "+(ve.last_name||"")})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Email"}),n.jsx("div",{className:"font-medium",children:ve.email||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Phone"}),n.jsx("div",{className:"font-medium",children:ve.phone||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Status"}),n.jsx("div",{className:"font-medium",children:QE(ve.status)})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Created At"}),n.jsx("div",{className:"font-medium",children:ve.created_at?new Date(ve.created_at).toLocaleString():""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Meta / Source"}),n.jsx("div",{className:"font-medium",children:(ve==null?void 0:ve.source)||""})]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(co,{code:JSON.stringify(ve,null,2),lang:"json",filename:"submission.json",maxHeight:"max-h-[300px]"})})]})]}):null]}),ke?n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-700 mb-1",children:"Last scan response"}),n.jsx(co,{code:JSON.stringify(ke,null,2),lang:"json",filename:"scan.json",maxHeight:"max-h-[280px]"})]}):null]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 gap-4 lg:grid-cols-2",children:[n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nO,{className:"h-5 w-5 text-blue-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Embed Script"})]}),n.jsxs(sa,{size:"sm",onClick:()=>ul(c,"Script copied!"),disabled:!c,children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(co,{code:c||"<script>/* not loaded */<\/script>",lang:"html",filename:"embed.html",maxHeight:"max-h-[420px]"})})]}),n.jsxs(Ns,{children:[n.jsxs("div",{className:"flex items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-5 w-5 text-cyan-600 shrink-0"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"WordPress Plugin"})]}),n.jsxs(sa,{size:"sm",onClick:()=>ul(m,"Plugin code copied!"),disabled:!m,children:[n.jsx(da,{className:"h-4 w-4 mr-1"})," Copy"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(co,{code:m||ft,lang:"php",filename:"plugin.php",maxHeight:"max-h-[420px]"})})]})]})]})]})}function $fe(){return n.jsx("span",{className:"inline-grid h-9 w-9 place-content-center rounded-xl bg-blue-600 text-white","aria-hidden":"true",children:""})}const Ife={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"},Bfe=Ife&&"https://aisdr-dbt.ddns.net"||"http://localhost:8000",wm=typeof window<"u"?window.location.origin:"http://localhost:8000",Fc=`${Bfe}/api/facebook`,zn={CONNECT:`${Fc}/facebook/connect`,PAGES:`${Fc}/facebook/pages`,LINK:`${Fc}/facebook/pages/link`,SUBSCRIBE:`${Fc}/facebook/pages/subscribe`,DELETION:`${Fc}/facebook/deletion`,DELETION_STATUS:`${wm}/facebook/deletion-status`,DELETION_MANUAL:`${Fc}/facebook/deletion/manual`,WEBHOOK:`${wm}/facebook/webhook`,OAUTH_CALLBACK:`${wm}/facebook/oauth/callback`,PRIVACY_POLICY:`${wm}/privacypolicy`};async function sm(e){const t=e.headers.get("content-type")||"",a=await e.text();if(!e.ok){const r=(a==null?void 0:a.slice(0,300))||"(empty)";throw new Error(`HTTP ${e.status}  ${r}`)}if(!a)return{};if(/application\/json/i.test(t))try{return JSON.parse(a)}catch{throw new Error("Invalid JSON from server")}try{return JSON.parse(a)}catch{return{raw:a}}}function Vc(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function zfe(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw I.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}function Hc({children:e,className:t=""}){return n.jsx("div",{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,children:e})}function Wn({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function H1({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function q1({code:e="",lang:t="text",filename:a="snippet.txt",maxHeight:r="max-h-[300px]"}){const s=x.useMemo(()=>String(e).split(`
`),[e]);return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"px-3 py-2 flex items-center justify-between bg-slate-100 rounded-t-xl",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-red-500/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-amber-400/90"}),n.jsx("span",{className:"h-2.5 w-2.5 rounded-full bg-emerald-400/90"})]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-600 font-mono truncate",children:a})]}),n.jsx("div",{className:`relative border-t border-slate-200 font-mono text-[11px] sm:text-xs overflow-auto code-scroll leading-relaxed px-3 py-2 ${r}`,style:{scrollbarWidth:"thin"},children:n.jsx("pre",{className:"m-0 p-0 whitespace-pre-wrap",children:n.jsx("code",{className:"text-slate-800",children:e})})}),n.jsxs("div",{className:"px-3 py-1.5 border-t border-slate-200 text-[10px] sm:text-xs text-slate-600 flex justify-between rounded-b-xl",children:[n.jsx("span",{children:"UTF-8"}),n.jsx("span",{className:"capitalize",children:t}),n.jsxs("span",{children:["Ln ",s.length]})]})]})}function Ufe(){const e=zfe(),[t,a]=x.useState(!1),[r,s]=x.useState(!1),[l,c]=x.useState(null),[u,m]=x.useState(!1),[f,h]=x.useState([]),[g,b]=x.useState("all"),[y,j]=x.useState(0),w=10,[S,k]=x.useState(""),[_,C]=x.useState(!1),P=x.useMemo(()=>{const O=f.length,H=f.filter(B=>B.connected).length,G=f.filter(B=>B.subscribed).length;return{total:O,linked:H,subscribed:G}},[f]),T=x.useMemo(()=>{switch(g){case"linked":return f.filter(O=>O.connected);case"unlinked":return f.filter(O=>!O.connected);case"subscribed":return f.filter(O=>O.subscribed);case"unsubscribed":return f.filter(O=>!O.subscribed);default:return f}},[f,g]),E=Math.ceil(T.length/w),$=y>0,M=y+1<E,F=T.slice(y*w,y*w+w),K=x.useCallback(async()=>{s(!0);try{const O=await fetch(zn.PAGES,{headers:e(),mode:"cors"}),H=await sm(O);m(!0),h(Array.isArray(H==null?void 0:H.pages)?H.pages:[])}catch{m(!1),h([])}finally{s(!1)}},[e]),z=x.useCallback(async()=>{a(!0);try{const O=await fetch(zn.CONNECT,{headers:e(),mode:"cors"}),H=await sm(O);c(H),H!=null&&H.auth_url?(window.open(H.auth_url,"_blank","noopener,noreferrer"),I.success("Opening Facebook Login in a new tab")):I.error("No auth_url from server")}catch(O){I.error((O==null?void 0:O.message)||"Failed to start OAuth")}finally{a(!1)}},[e]),U=x.useCallback(async O=>{try{const H=await fetch(zn.LINK,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:O}),mode:"cors"});await sm(H),I.success("Page linked"),K()}catch(H){I.error((H==null?void 0:H.message)||"Link failed")}},[e,K]),ae=x.useCallback(async O=>{try{const H=await fetch(zn.SUBSCRIBE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({page_id:O}),mode:"cors"});await sm(H),I.success("Subscribed to leadgen webhooks"),K()}catch(H){I.error((H==null?void 0:H.message)||"Subscribe failed")}},[e,K]),ke=x.useCallback(async()=>{if(!S.trim()){I.error("Enter a Facebook user_id first");return}C(!0);try{const O=await fetch(zn.DELETION_MANUAL,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({fb_user_id:S.trim()}),mode:"cors"}),H=await sm(O);I.success(`Deleted ${(H==null?void 0:H.deleted_records)??0} records`),H!=null&&H.status_url&&window.open(H.status_url,"_blank","noopener,noreferrer")}catch(O){I.error((O==null?void 0:O.message)||"Manual deletion failed")}finally{C(!1)}},[e,S]);x.useEffect(()=>{K().catch(()=>{})},[K]);const se=(l==null?void 0:l.redirect_uri)||`${zn.OAUTH_CALLBACK}`;return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2},className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx(pe.div,{initial:{opacity:.08,scale:.95},animate:{opacity:.14,scale:1},transition:{duration:1.2,delay:.15},className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(Hc,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(R3,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Facebook Lead Ads"})}),n.jsxs("p",{className:"text-xs sm:text-sm text-slate-600",children:["Connect a Page, subscribe to ",n.jsx("code",{className:"font-mono",children:"leadgen"})," webhooks, and stream leads into your CRM for AI follow-up."]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Wn,{onClick:K,disabled:r,children:r?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Refresh"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]})}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${u?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(Kw,{className:`h-3.5 w-3.5 ${u?"text-emerald-600":"text-amber-600"}`}),u?"Connected":"Not connected"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 sm:grid-cols-3 gap-4",children:[n.jsx(H1,{icon:aO,label:"Total Pages",value:P.total,tone:"slate"}),n.jsx(H1,{icon:qw,label:"Linked Pages",value:P.linked,tone:"blue"}),n.jsx(H1,{icon:Lz,label:"Webhook Subscribed",value:P.subscribed,tone:"emerald"})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Hc,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(pd,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 1  Connect Facebook"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Click connect to start OAuth. Approve Page permissions. The login opens in a new tab; once finished, come back and click ",n.jsx("b",{children:"Refresh"}),"."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-2",children:[n.jsx(Wn,{variant:"primary",onClick:z,disabled:t,children:t?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Opening"]}):n.jsxs(n.Fragment,{children:[n.jsx(R3,{className:"h-4 w-4 mr-2"}),"Connect Facebook"]})}),l!=null&&l.auth_url?n.jsxs(Wn,{size:"sm",onClick:()=>Vc(l.auth_url,"Auth URL copied!"),title:"Copy the exact OAuth URL",children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy Auth URL"]}):null,n.jsxs(Wn,{size:"sm",onClick:K,disabled:r,title:"Check connection now",children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"I finished login  Refresh"]})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Valid Redirect URI"}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:se}),n.jsxs("div",{className:"mt-2 flex gap-2",children:[n.jsxs(Wn,{size:"sm",onClick:()=>Vc(se,"Redirect URI copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy"]}),n.jsxs("a",{href:"https://developers.facebook.com/apps/",target:"_blank",rel:"noreferrer",className:"text-xs inline-flex items-center gap-1 px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",title:"Open Facebook Developers  App  Facebook Login  Settings",children:[n.jsx(lp,{className:"h-3.5 w-3.5"}),"Open FB Devs"]})]}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Add this under ",n.jsx("b",{children:"Facebook Login  Settings  Valid OAuth Redirect URIs"}),"."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook Callback (server)"}),n.jsxs("div",{className:"text-[11px] text-slate-600",children:["In your app dashboard add product ",n.jsx("b",{children:"Webhooks (Page)"})," and set callback to:"]}),n.jsx("div",{className:"mt-1 font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:zn.WEBHOOK}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-600",children:["Verify token = your ",n.jsx("code",{className:"font-mono",children:"META_APP_VERIFY_TOKEN"}),"."]})]})]})]}),n.jsxs(Hc,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Zc,{className:"h-5 w-5 text-emerald-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Quick Checks"})]}),n.jsxs("ul",{className:"mt-3 space-y-2 text-xs text-slate-700",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(gi,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Facebook Login product is enabled (Web)."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(ci,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"Site URL set to ",n.jsx("code",{className:"font-mono",children:wm}),"."]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx(uU,{className:"h-3.5 w-3.5 mt-0.5 text-slate-500"}),"If Cant load URL, add the redirect URI exactly in Facebook Login settings."]})]})]})]}),n.jsx("div",{className:"mt-5 grid grid-cols-1",children:n.jsxs(Hc,{children:[n.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 2  Link a Page  Step 3  Subscribe"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:g,onChange:O=>{j(0),b(O.target.value)},className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Show: All"}),n.jsx("option",{value:"linked",children:"Linked"}),n.jsx("option",{value:"unlinked",children:"Unlinked"}),n.jsx("option",{value:"subscribed",children:"Subscribed"}),n.jsx("option",{value:"unsubscribed",children:"Unsubscribed"})]}),n.jsxs(Wn,{size:"sm",onClick:K,disabled:r,children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Page"}),n.jsx("th",{className:"py-2 pr-3",children:"Linked"}),n.jsx("th",{className:"py-2 pr-3",children:"Subscribed"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):F.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:u?"No pages found for this account.":"Not connected. Click 'Connect Facebook' above and then refresh."})}):F.map(O=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:O.name||O.page_id}),n.jsx("div",{className:"text-[11px] text-slate-500",children:O.page_id})]}),n.jsx("td",{className:"py-2 pr-3",children:O.connected?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-blue-50 text-blue-800 border-blue-200",children:"Linked"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-slate-50 text-slate-800 border-slate-200",children:"Not linked"})}),n.jsx("td",{className:"py-2 pr-3",children:O.subscribed?n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-emerald-50 text-emerald-800 border-emerald-200",children:"Subscribed"}):n.jsx("span",{className:"px-2 py-0.5 rounded-md text-xs border bg-amber-50 text-amber-800 border-amber-200",children:"Not subscribed"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[O.connected?n.jsxs(Wn,{size:"sm",variant:"subtle",disabled:!0,children:["Linked ",n.jsx(kn,{className:"h-4 w-4 ml-1 text-emerald-600"})]}):n.jsx(Wn,{size:"sm",onClick:()=>U(O.page_id),children:"Link"}),O.subscribed?n.jsxs(Wn,{size:"sm",variant:"success",disabled:!0,children:["Subscribed ",n.jsx(kn,{className:"h-4 w-4 ml-1"})]}):n.jsx(Wn,{size:"sm",variant:"primary",onClick:()=>ae(O.page_id),children:"Subscribe"})]})})]},O.page_id))})]})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between text-xs",children:[n.jsxs("div",{className:"text-slate-500",children:["Page ",E?y+1:0," of ",E||0]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Wn,{size:"sm",onClick:()=>j(O=>Math.max(0,O-1)),disabled:!$,title:"Previous page",children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(Wn,{size:"sm",onClick:()=>j(O=>M?O+1:O),disabled:!M,title:"Next page",children:["Next",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 xl:grid-cols-3 gap-4",children:[n.jsxs(Hc,{className:"xl:col-span-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sV,{className:"h-5 w-5 text-cyan-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Step 4  Send a Test Lead"})]}),n.jsxs("p",{className:"mt-2 text-sm text-slate-700",children:["Use the ",n.jsx("b",{children:"Lead Ads Testing Tool"})," to send a test submission for your linked & subscribed Page. Our webhook will fetch the full lead with ",n.jsx("code",{className:"font-mono",children:"leadgen_id"})," and create/merge a CRM lead."]}),n.jsxs("div",{className:"mt-3 flex flex-wrap gap-2",children:[n.jsxs("a",{href:"https://developers.facebook.com/tools/lead-ads-testing",target:"_blank",rel:"noreferrer",className:"inline-flex items-center gap-1 text-xs px-2.5 py-1.5 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(lp,{className:"h-3.5 w-3.5"}),"Open Lead Ads Testing Tool"]}),n.jsx(Wn,{size:"sm",onClick:()=>I.info("Create a test lead for the Page you linked; then come back and check your Leads table."),children:"How it works"})]}),n.jsxs("div",{className:"mt-4 text-xs text-slate-600",children:["Every FB lead is tagged with"," ",n.jsx("code",{className:"font-mono",children:'additional_details.source = "facebook_lead_ads"'}),"."]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 mb-2",children:"Debug: Quick Connect Call"}),n.jsx(q1,{filename:"connect.sh",lang:"bash",code:`curl -s -H "Authorization: Bearer <YOUR_TOKEN>" \\
  "${zn.CONNECT}" | jq .`,maxHeight:"max-h-[220px]"})]})]}),n.jsxs(Hc,{className:"xl:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(vi,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Compliance & App Setup"})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(mf,{className:"h-3.5 w-3.5"})," Privacy Policy URL"]}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:zn.PRIVACY_POLICY}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(Wn,{size:"sm",onClick:()=>Vc(zn.PRIVACY_POLICY,"Privacy Policy URL copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy"]})})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(Dn,{className:"h-3.5 w-3.5"})," Data Deletion Callback URL"]}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:zn.DELETION}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(Wn,{size:"sm",onClick:()=>Vc(zn.DELETION,"Deletion Callback URL copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy"]})}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Meta will ",n.jsx("b",{children:"POST"})," a ",n.jsx("code",{children:"signed_request"})," to this URL when users request deletion."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 mb-1 flex items-center gap-1",children:[n.jsx(cx,{className:"h-3.5 w-3.5"})," Deletion Status URL"]}),n.jsxs("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:[zn.DELETION_STATUS,"?code=EXAMPLE_CODE"]}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(Wn,{size:"sm",onClick:()=>Vc(`${zn.DELETION_STATUS}?code=EXAMPLE_CODE`,"Status URL copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy"]})}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["We return this URL + ",n.jsx("code",{children:"confirmation_code"})," in the deletion callback response."]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Webhook (Page  leadgen)"}),n.jsx("div",{className:"font-mono text-xs break-all bg-slate-50 border border-slate-200 rounded-lg px-2 py-1.5",children:zn.WEBHOOK}),n.jsx("div",{className:"mt-2 flex gap-2",children:n.jsxs(Wn,{size:"sm",onClick:()=>Vc(zn.WEBHOOK,"Webhook URL copied!"),children:[n.jsx(da,{className:"h-4 w-4 mr-1"}),"Copy"]})})]})]}),n.jsxs("div",{className:"grid md:grid-cols-2 gap-3 mt-4",children:[n.jsx(q1,{filename:"deletion.manual.sh",lang:"bash",code:`curl -X POST \\
  -H "Authorization: Bearer <YOUR_TOKEN>" \\
  -H "Content-Type: application/json" \\
  -d '{"fb_user_id":"<FB_USER_ID>"}' \\
  "${zn.DELETION_MANUAL}" | jq .`}),n.jsx(q1,{filename:"deletion.status.txt",lang:"text",code:`After Meta calls ${zn.DELETION} with a signed_request,
we return JSON like:

{
  "url": "${zn.DELETION_STATUS}?code=fbdel_<id>_<hash>",
  "confirmation_code": "fbdel_<id>_<hash>"
}

Open that URL to show the human-readable status page.`})]}),n.jsxs("div",{className:"mt-4 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"text-sm font-bold text-slate-900 mb-2 flex items-center gap-2",children:[n.jsx(Dn,{className:"h-4 w-4 text-red-600"}),"Manual Deletion (Support)"]}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[n.jsx("input",{type:"text",placeholder:"Enter Facebook user_id",value:S,onChange:O=>k(O.target.value),className:"w-full rounded-lg border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"}),n.jsx(Wn,{variant:"danger",onClick:ke,disabled:_,children:_?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 mr-2"}),"Delete Now"]})})]}),n.jsxs("p",{className:"mt-2 text-[11px] text-slate-500",children:["Calls ",n.jsx("code",{className:"font-mono",children:"POST /facebook/deletion/manual"}),", then opens the returned status URL."]})]})]})]})]})]})}const Ffe={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"https://aisdr-dbt.ddns.net"},ia=Ffe&&"https://aisdr-dbt.ddns.net"||"http://localhost:8000",ba={ASSISTANTS:`${ia}/api/text-assistants`,CREATE_ASSISTANT:`${ia}/api/text-assistants`,TOGGLE_ASSISTANT_URL:(e,t)=>`${ia}/api/toggle-text-assistant/${e}?assistant_toggle=${t}`,ATTACH_ASSISTANT:`${ia}/api/text/attach-assistant`,NUMBERS:`${ia}/api/purchased_numbers`,SEND_SINGLE:`${ia}/api/send-text-message`,MESSAGE_SCHEDULED:`${ia}/api/text/message-scheduled`,MESSAGE_UNSCHEDULED:`${ia}/api/text/message-unscheduled`,MESSAGES:`${ia}/api/text/messages`,THREADS:`${ia}/api/text/threads`,JOBS:`${ia}/api/text/message-jobs`,JOB:e=>`${ia}/api/text/message-job/${e}`,PROGRESS_SSE:(e,t,a)=>{const r=`${ia}/api/text/message-progress-sse?job_id=${encodeURIComponent(e)}`;return t?`${r}&sse=${encodeURIComponent(t)}`:a?`${r}&token=${encodeURIComponent(a)}`:r},DEBUG_SCHEDULED:`${ia}/api/text/debug/scheduled-selection`,DAEMON_STATE:e=>`${ia}/api/text/daemon/state?kind=${encodeURIComponent(e)}`,DAEMON_CONFIG:`${ia}/api/text/daemon/config`,DAEMON_SSE:(e,t,a)=>{const r=`${ia}/api/text/daemon-progress-sse?kind=${encodeURIComponent(e)}`;return t?`${r}&sse=${encodeURIComponent(t)}`:a?`${r}&token=${encodeURIComponent(a)}`:r}};function Vfe(){return x.useCallback(()=>{const e=localStorage.getItem("token");if(!e)throw I.error("No auth token found in localStorage."),new Error("Missing auth token");return{Authorization:`Bearer ${e}`,Accept:"application/json"}},[])}async function tr(e){const t=e.headers.get("content-type")||"",a=await e.text(),r=/application\/json/i.test(t);let s=null;if(r&&a)try{s=JSON.parse(a)}catch{}if(e.ok)return s??(a?{raw:a}:{});let l=`HTTP ${e.status}`;if(s!=null&&s.detail)if(typeof s.detail=="string")l+=`  ${s.detail}`;else if(s.detail.twilio_error){const u=s.detail.twilio_error||{};l+=`  ${u.message||"Twilio error"}`,u.code&&(l+=` (code ${u.code})`)}else l+=`  ${JSON.stringify(s.detail).slice(0,240)}`;else a&&(l+=`  ${a.slice(0,240)}`);const c=new Error(l);throw c.payload=s,c}function K1(e,t="Copied!"){try{navigator.clipboard.writeText(String(e??"")),I.success(t)}catch{I.error("Copy failed")}}function qc(e){if(!e)return"";try{return new Date(e).toLocaleString()}catch{return String(e)}}const Hfe=/^\+\d{8,15}$/;function Wr({children:e,className:t=""}){return n.jsx(pe.div,{className:`rounded-2xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl ${t}`,initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e})}function gn({children:e,className:t="",variant:a="outline",size:r="md",type:s="button",onClick:l,disabled:c=!1,title:u}){const m="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",f={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},h={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",success:"bg-emerald-600 text-white hover:bg-emerald-700 border border-emerald-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"},g=`${m} ${f[r]||f.md} ${h[a]||h.outline} ${t}`;return n.jsx("button",{type:s,className:g,onClick:l,disabled:c,title:u,children:e})}function ml({icon:e,label:t,value:a,tone:r="slate"}){const s={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsxs("div",{className:`rounded-xl border px-3 py-2 flex items-center gap-2 ${s[r]}`,children:[e?n.jsx(e,{className:"h-4 w-4 opacity-80"}):null,n.jsxs("div",{className:"text-xs",children:[n.jsx("div",{className:"font-semibold",children:a}),n.jsx("div",{className:"opacity-80",children:t})]})]})}function hn({value:e,onChange:t,placeholder:a,className:r="",type:s="text"}){return n.jsx("input",{value:e,onChange:l=>t==null?void 0:t(l.target.value),placeholder:a,type:s,className:`w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400 ${r}`})}function JE({value:e,onChange:t,placeholder:a,rows:r=5}){return n.jsx("textarea",{value:e,onChange:s=>t==null?void 0:t(s.target.value),placeholder:a,rows:r,className:"w-full rounded-lg border border-slate-300 px-2.5 py-2 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400"})}function Pr({children:e,tone:t="slate"}){const a={slate:"bg-slate-50 text-slate-800 border-slate-200",blue:"bg-blue-50 text-blue-800 border-blue-200",emerald:"bg-emerald-50 text-emerald-800 border-emerald-200",red:"bg-red-50 text-red-800 border-red-200",amber:"bg-amber-50 text-amber-900 border-amber-200"};return n.jsx("span",{className:`px-2 py-0.5 rounded-md text-[11px] border ${a[t]}`,children:e})}function qfe({total:e=0,sent:t=0,failed:a=0}){const r=t+a,s=e?Math.min(100,Math.round(r/e*100)):0;return n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 p-2",children:[n.jsx("div",{className:"h-2 w-full rounded bg-slate-100 overflow-hidden",children:n.jsx("div",{className:"h-2 rounded bg-blue-600 transition-all",style:{width:`${s}%`}})}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:[t," sent  ",a," failed  ",e," total"]})]})}function Kfe(e,t,a){const[r,s]=x.useState(null),l=x.useRef(null);return x.useEffect(()=>{if(!e)return;const c=localStorage.getItem("token")||"",u=ba.PROGRESS_SSE(e,t,c),m=new EventSource(u,{withCredentials:!1});l.current=m,m.onmessage=h=>{try{const g=JSON.parse(h.data);s(g)}catch{}};const f=()=>{m.close(),a==null||a()};return m.addEventListener("done",f),m.onerror=()=>{},()=>m.close()},[e,t,a]),r}function eP(e,t){const[a,r]=x.useState(null);return x.useEffect(()=>{if(!e||!t)return;const s=localStorage.getItem("token")||"",l=ba.DAEMON_SSE(e,t,s),c=new EventSource(l,{withCredentials:!1});return c.onmessage=u=>{try{const m=JSON.parse(u.data);r(m)}catch{}},c.onerror=()=>{},()=>c.close()},[e,t]),a}function Gfe(){var Bl,zl,Di,Vr,Ls;const e=Vfe(),[t,a]=x.useState([]),[r,s]=x.useState(!1),[l,c]=x.useState(!1),[u,m]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",voice_provider:"",voice:"",system_prompt:"You are a helpful SMS assistant. Keep replies short and useful.",language:"",forwardingPhoneNumber:"",assistant_toggle:!0}),[f,h]=x.useState([]),[g,b]=x.useState(!1),[y,j]=x.useState(""),[w,S]=x.useState(""),[k,_]=x.useState(!1),[C,P]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,include_unowned:!0,repeat_backoff_hours:7}),[T,E]=x.useState({assistant_id:"",from_number:"",limit:"",background:!0,showAdvanced:!1,messages_per_recipient:1,retry_count:0,retry_delay_seconds:60,per_message_delay_seconds:0,unscheduled_backoff_hours:7}),[$,M]=x.useState(""),[F,K]=x.useState(""),z=Kfe($,F,()=>bt()),[U,ae]=x.useState({to_number:"",from_number:"",body:""}),[ke,se]=x.useState(!1),[O,H]=x.useState([]),[G,B]=x.useState(!1),[A,L]=x.useState(""),[R,q]=x.useState(!1),[ce,Z]=x.useState([]),[W,_e]=x.useState(0),[te,je]=x.useState({peer_number:"",success:"all",to_like:"",from_like:"",start:"",end:"",assistant_id:""}),[Ee,Ae]=x.useState(0),xe=50,[Fe,Be]=x.useState([]),[ve,le]=x.useState(!1),[Te,ee]=x.useState(!1),[we,De]=x.useState(null),[Ue,Ve]=x.useState(!1),[rt,tt]=x.useState(null),[Ce,Q]=x.useState(null),[Se,fe]=x.useState({scheduled:!1,unscheduled:!1}),$e=eP("scheduled",(rt==null?void 0:rt.sse_token)||""),nt=eP("unscheduled",(Ce==null?void 0:Ce.sse_token)||""),ft=x.useMemo(()=>{const X=t.length||0,de=t.filter(re=>re.assistant_toggle).length,ze=f.length||0,it=f.filter(re=>re.attached_assistant).length;return{totalAssistants:X,enabled:de,totalNumbers:ze,withAssistant:it}},[t,f]),Je=f.length>0,Rt=x.useCallback(async()=>{s(!0);try{const X=await fetch(ba.ASSISTANTS,{headers:e(),mode:"cors"}),de=await tr(X),ze=Array.isArray(de)?de:[];a(ze.map(it=>({...it,system_prompt:it.system_prompt??it.systemPrompt??""})))}catch(X){I.error((X==null?void 0:X.message)||"Failed to load assistants"),a([])}finally{s(!1)}},[e]),Pt=x.useCallback(async()=>{b(!0);try{const X=await fetch(ba.NUMBERS,{headers:e(),mode:"cors"}),de=await tr(X),ze=Array.isArray(de==null?void 0:de.items)?de.items:Array.isArray(de)?de:[];h(ze.map(it=>({phone_number:it.phone_number||it.number||(it==null?void 0:it.phone)||"",attached_assistant:it.attached_assistant??it.assistant_id??null})))}catch{h([])}finally{b(!1)}},[e]),Re=x.useCallback(async()=>{B(!0);try{const X=await fetch(ba.THREADS,{headers:e(),mode:"cors"}),de=await tr(X);H(Array.isArray(de==null?void 0:de.items)?de.items:[])}catch(X){I.error((X==null?void 0:X.message)||"Failed to load threads"),H([])}finally{B(!1)}},[e]),qe=x.useCallback(async()=>{q(!0);try{const X=new URLSearchParams;X.set("limit",String(xe)),X.set("offset",String(Ee*xe)),te.peer_number&&X.set("peer_number",te.peer_number),te.to_like&&X.set("to_like",te.to_like),te.from_like&&X.set("from_like",te.from_like),te.start&&X.set("start",te.start),te.end&&X.set("end",te.end),te.assistant_id&&X.set("assistant_id",te.assistant_id),te.success==="true"&&X.set("success","true"),te.success==="false"&&X.set("success","false");const de=await fetch(`${ba.MESSAGES}?${X.toString()}`,{headers:e(),mode:"cors"}),ze=await tr(de);Z(Array.isArray(ze==null?void 0:ze.items)?ze.items:[]),_e(Number((ze==null?void 0:ze.total)||0))}catch(X){I.error((X==null?void 0:X.message)||"Failed to load messages"),Z([]),_e(0)}finally{q(!1)}},[e,Ee,te]),bt=x.useCallback(async()=>{le(!0);try{const X=await fetch(ba.JOBS,{headers:e(),mode:"cors"}),de=await tr(X);Be(Array.isArray(de==null?void 0:de.items)?de.items:[])}catch{Be([])}finally{le(!1)}},[e]),ua=x.useCallback(async X=>{try{const de=await fetch(ba.DAEMON_STATE(X),{headers:e(),mode:"cors"}),ze=await tr(de);X==="scheduled"?tt(ze):Q(ze)}catch(de){I.error((de==null?void 0:de.message)||`Failed to load ${X} daemon state`)}},[e]),me=x.useCallback(async(X,de)=>{fe(ze=>({...ze,[X]:!0}));try{const ze=await fetch(ba.DAEMON_CONFIG,{method:"PUT",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({kind:X,...de}),mode:"cors"}),it=await tr(ze);X==="scheduled"?tt((it==null?void 0:it.state)||it):Q((it==null?void 0:it.state)||it),I.success(`${X} daemon updated`)}catch(ze){I.error((ze==null?void 0:ze.message)||`Failed to update ${X} daemon`)}finally{fe(ze=>({...ze,[X]:!1}))}},[e]),Y=x.useCallback(async(X,de)=>{Ve(!0);try{const ze=new URLSearchParams;ze.set("include_unowned",String(!!X)),de!=null&&de!==""&&ze.set("repeat_backoff_hours",String(de));const it=await fetch(`${ba.DEBUG_SCHEDULED}?${ze.toString()}`,{headers:e(),mode:"cors"}),re=await tr(it);De(re),ee(!0)}catch(ze){I.error((ze==null?void 0:ze.message)||"Debug fetch failed")}finally{Ve(!1)}},[e]),ne=x.useCallback(async()=>{try{if(!u.name.trim())return I.error("Assistant name is required");const X=await fetch(ba.CREATE_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({name:u.name,provider:u.provider,model:u.model,voice_provider:u.voice_provider||null,voice:u.voice||null,system_prompt:u.system_prompt,language:u.language||null,forwardingPhoneNumber:u.forwardingPhoneNumber||null,assistant_toggle:!!u.assistant_toggle}),mode:"cors"});await tr(X),I.success("Assistant created"),c(!1),Rt()}catch(X){I.error((X==null?void 0:X.message)||"Create failed")}},[e,u,Rt]),oe=x.useCallback(async(X,de)=>{try{const ze=await fetch(ba.TOGGLE_ASSISTANT_URL(X,de),{method:"PUT",headers:{...e()},mode:"cors"});await tr(ze),I.success(`Assistant ${de?"enabled":"disabled"}`),Rt()}catch(ze){I.error((ze==null?void 0:ze.message)||"Toggle failed")}},[e,Rt]),Xe=x.useCallback(async()=>{if(!y)return I.error("Select a number");try{const X={phone_number:y,assistant_id:w?Number(w):null,kind:null},de=await fetch(ba.ATTACH_ASSISTANT,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(X),mode:"cors"});await tr(de),I.success("Attachment updated"),Pt()}catch(X){I.error((X==null?void 0:X.message)||"Attach failed")}},[e,y,w,Pt]),lt=x.useCallback(async X=>{_(!0);try{const de=X==="scheduled"?C:T,ze=X==="scheduled"?ba.MESSAGE_SCHEDULED:ba.MESSAGE_UNSCHEDULED,it={assistant_id:de.assistant_id?Number(de.assistant_id):null,from_number:de.from_number||null,limit:de.limit?Number(de.limit):null,background:!0,messages_per_recipient:Number(de.messages_per_recipient||1),retry_count:Number(de.retry_count||0),retry_delay_seconds:Number(de.retry_delay_seconds||60),per_message_delay_seconds:Number(de.per_message_delay_seconds||0)};X==="scheduled"?(it.include_unowned=!!de.include_unowned,de.repeat_backoff_hours!==""&&de.repeat_backoff_hours!==null&&de.repeat_backoff_hours!==void 0&&(it.repeat_backoff_hours=Number(de.repeat_backoff_hours))):de.unscheduled_backoff_hours!==""&&de.unscheduled_backoff_hours!==null&&de.unscheduled_backoff_hours!==void 0&&(it.unscheduled_backoff_hours=Number(de.unscheduled_backoff_hours));const re=await fetch(ze,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify(it),mode:"cors"}),Pe=await tr(re);Pe!=null&&Pe.job_id?(M(Pe.job_id),K(Pe.sse_token||""),I.success(`Started ${X} job`),bt()):(Pe!=null&&Pe.detail?I.info(Pe.detail):I.info("No appointments matched filters"),Y(C.include_unowned,C.repeat_backoff_hours).catch(()=>{}))}catch(de){I.error((de==null?void 0:de.message)||"Bulk start failed")}finally{_(!1)}},[e,C,T,bt,Y]),yt=x.useCallback(async()=>{var X,de;if(!U.to_number||!U.body)return I.error("Missing 'to' or 'body'");if(!Hfe.test(U.to_number))return I.error("Enter To number in E.164 format, e.g. +14155551234");se(!0);try{const ze=await fetch(ba.SEND_SINGLE,{method:"POST",headers:{...e(),"Content-Type":"application/json"},body:JSON.stringify({to_number:U.to_number,body:U.body,from_number:U.from_number||null}),mode:"cors"});await tr(ze),I.success("Sent"),ae(it=>({...it,body:""})),Re(),A&&A===U.to_number&&qe()}catch(ze){const it=(de=(X=ze==null?void 0:ze.payload)==null?void 0:X.detail)==null?void 0:de.twilio_error;if(it){const re=it.more_info?`  see docs: ${it.more_info}`:"";I.error(`Twilio ${it.code||""}: ${it.message||"Error"}${re}`)}else I.error((ze==null?void 0:ze.message)||"Send failed")}finally{se(!1)}},[e,U,A,Re,qe]);x.useEffect(()=>{Rt().catch(()=>{}),Pt().catch(()=>{}),Re().catch(()=>{}),bt().catch(()=>{}),ua("scheduled").catch(()=>{}),ua("unscheduled").catch(()=>{})},[Rt,Pt,Re,bt,ua]),x.useEffect(()=>{qe().catch(()=>{})},[qe]),x.useEffect(()=>{A&&(je(X=>({...X,peer_number:A})),Ae(0))},[A]),x.useEffect(()=>{var X;if(f.length===1){const de=((X=f[0])==null?void 0:X.phone_number)||"";j(ze=>ze||de),P(ze=>({...ze,from_number:ze.from_number||de})),E(ze=>({...ze,from_number:ze.from_number||de})),ae(ze=>({...ze,from_number:ze.from_number||de}))}},[f]),x.useEffect(()=>{var X;if(t.length===1){const de=((X=t[0])==null?void 0:X.id)??"";S(ze=>ze||String(de)),P(ze=>({...ze,assistant_id:ze.assistant_id||String(de)})),E(ze=>({...ze,assistant_id:ze.assistant_id||String(de)}))}},[t]);const dt=Math.ceil(W/xe),Ot=Ee>0,Lt=Ee+1<dt,Ma=x.useMemo(()=>[{id:"",name:"Auto-pick (recommended)"},...t],[t]),mn=x.useMemo(()=>[{phone_number:"",label:"Auto-pick"},...f.map(X=>({...X,label:X.phone_number}))],[f]),At=n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Tip: To force different bots per flow, include"," ",n.jsx("code",{className:"font-mono",children:"[scheduled]"})," or"," ",n.jsx("code",{className:"font-mono",children:"[unscheduled]"})," in the assistant name, or attach a specific assistant to a number."]}),Xt=({params:X,setParams:de,mode:ze})=>{const it=ze==="scheduled";return n.jsxs(n.Fragment,{children:[n.jsxs("button",{onClick:()=>de(re=>({...re,showAdvanced:!re.showAdvanced})),className:"mt-2 inline-flex items-center gap-1 text-xs px-2 py-1 rounded-lg border border-slate-300 hover:bg-slate-50 text-slate-700",children:[n.jsx(GF,{className:"h-3.5 w-3.5"}),"Advanced"]}),X.showAdvanced?n.jsxs("div",{className:"mt-3 space-y-3",children:[n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Messages / recipient"}),n.jsx(hn,{type:"number",value:X.messages_per_recipient,onChange:re=>de(Pe=>({...Pe,messages_per_recipient:Number(re||1)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry count"}),n.jsx(hn,{type:"number",value:X.retry_count,onChange:re=>de(Pe=>({...Pe,retry_count:Number(re||0)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Retry delay (s)"}),n.jsx(hn,{type:"number",value:X.retry_delay_seconds,onChange:re=>de(Pe=>({...Pe,retry_delay_seconds:Number(re||60)}))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Per-msg gap (s)"}),n.jsx(hn,{type:"number",value:X.per_message_delay_seconds,onChange:re=>de(Pe=>({...Pe,per_message_delay_seconds:Number(re||0)}))})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:[it?n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(Kh,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),n.jsx(hn,{type:"number",value:X.repeat_backoff_hours,onChange:re=>de(Pe=>({...Pe,repeat_backoff_hours:Number(re||0)}))})]}):n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(Kh,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),n.jsx(hn,{type:"number",value:X.unscheduled_backoff_hours,onChange:re=>de(Pe=>({...Pe,unscheduled_backoff_hours:Number(re||0)}))})]}),n.jsx("div",{className:"rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600 lg:col-span-2",children:it?"Scheduled = eligible by default; backoff prevents re-texting the same phone within N hours (default 7).":"Optional backoff protects against re-texting the same phone too soon (default 7h)."})]}),it?n.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-3",children:n.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[n.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[n.jsx(_l,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),n.jsx(gn,{size:"sm",variant:X.include_unowned?"primary":"subtle",onClick:()=>de(re=>({...re,include_unowned:!re.include_unowned})),children:X.include_unowned?n.jsxs(n.Fragment,{children:[n.jsx(bv,{className:"h-4 w-4 mr-1"})," On"]}):n.jsxs(n.Fragment,{children:[n.jsx(gv,{className:"h-4 w-4 mr-1"})," Off"]})})]})}):null]}):null]})},Fr=({st:X})=>{const de=X!=null&&X.enabled?(X==null?void 0:X.status)==="running"?"bg-blue-500":(X==null?void 0:X.status)==="error"?"bg-red-500":"bg-emerald-500":"bg-slate-300";return n.jsx("span",{className:`inline-block h-2.5 w-2.5 rounded-full ${de}`})},Rs=({kind:X,state:de,sseState:ze,onPatch:it,busy:re})=>{const Pe=X==="scheduled",[Ye,He]=x.useState(!!(de!=null&&de.enabled)),[Ke,jt]=x.useState((de==null?void 0:de.tick_interval_seconds)??120),[Ln,Ri]=x.useState(!!(de!=null&&de.include_unowned)),[Mf,Ul]=x.useState((de==null?void 0:de.repeat_backoff_hours)??7),[Fl,gr]=x.useState((de==null?void 0:de.unscheduled_backoff_hours)??7);x.useEffect(()=>{He(!!(de!=null&&de.enabled)),jt((de==null?void 0:de.tick_interval_seconds)??120),Ri(!!(de!=null&&de.include_unowned)),Ul((de==null?void 0:de.repeat_backoff_hours)??7),gr((de==null?void 0:de.unscheduled_backoff_hours)??7)},[de]);const ma={...de||{},...ze||{}},Li=()=>{const fa={enabled:Ye,tick_interval_seconds:Number(Ke||120)};Pe?(fa.include_unowned=!!Ln,fa.repeat_backoff_hours=Number(Mf||0)):fa.unscheduled_backoff_hours=Number(Fl||0),it(X,fa)},Xd=()=>it(X,{enabled:!Ye});return n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T3,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:Pe?"Scheduled Daemon":"Unscheduled Daemon"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Fr,{st:ma}),n.jsx(Pr,{tone:ma.enabled?"emerald":"amber",children:ma.enabled?"enabled":"paused"})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Tick interval (s)"}),n.jsx(hn,{type:"number",value:Ke,onChange:fa=>jt(Number(fa||0))})]}),Pe?n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(Kh,{className:"h-3.5 w-3.5"}),"Repeat backoff hours"]}),n.jsx(hn,{type:"number",value:Mf,onChange:fa=>Ul(Number(fa||0))})]}),n.jsxs("label",{className:"flex items-center justify-between border border-slate-200 rounded-lg px-2.5 py-1.5",children:[n.jsxs("div",{className:"text-[11px] text-slate-700 flex items-center gap-1",children:[n.jsx(_l,{className:"h-3.5 w-3.5 text-slate-500"}),"Include unowned"]}),n.jsx(gn,{size:"sm",variant:Ln?"primary":"subtle",onClick:()=>Ri(fa=>!fa),children:Ln?n.jsxs(n.Fragment,{children:[n.jsx(bv,{className:"h-4 w-4 mr-1"})," On"]}):n.jsxs(n.Fragment,{children:[n.jsx(gv,{className:"h-4 w-4 mr-1"})," Off"]})})]})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{children:[n.jsxs("div",{className:"text-[11px] text-slate-600 mb-1 flex items-center gap-1",children:[n.jsx(Kh,{className:"h-3.5 w-3.5"}),"Unscheduled backoff hours"]}),n.jsx(hn,{type:"number",value:Fl,onChange:fa=>gr(Number(fa||0))})]}),n.jsx("div",{className:"sm:col-span-2 rounded-lg border border-slate-200 p-2 text-[11px] text-slate-600",children:"Protects against re-texting the same phone too soon."})]})]}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-600",children:["Status: ",n.jsx("b",{children:ma.status||""}),"  Last tick:"," ",ma.last_tick_at?qc(ma.last_tick_at):"","  Last queue:"," ",ma.last_queue_size??0,ma.last_error?n.jsxs(n.Fragment,{children:[" "," ",n.jsxs("span",{className:"text-red-600",children:["Error: ",ma.last_error]})]}):null]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gn,{size:"sm",variant:Ye?"subtle":"primary",onClick:Xd,disabled:re,children:Ye?n.jsxs(n.Fragment,{children:[n.jsx(oU,{className:"h-4 w-4 mr-1"})," Pause"]}):n.jsxs(n.Fragment,{children:[n.jsx(Rd,{className:"h-4 w-4 mr-1"})," Resume"]})}),n.jsxs(gn,{size:"sm",variant:"primary",onClick:Li,disabled:re,children:[re?n.jsx(_n,{className:"h-4 w-4 mr-1 animate-spin"}):null,"Apply"]})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-4 gap-2",children:[n.jsx(ml,{icon:K0,label:"Last sent",value:ma.last_sent??0,tone:"blue"}),n.jsx(ml,{icon:or,label:"Last failed",value:ma.last_failed??0,tone:"amber"}),n.jsx(ml,{icon:sp,label:"Total sent",value:ma.total_sent??0,tone:"emerald"}),n.jsx(ml,{icon:fv,label:"Total failed",value:ma.total_failed??0,tone:"red"})]}),de!=null&&de.sse_token?n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 flex items-center gap-2",children:["Live updates via SSE "," ",n.jsx(gn,{size:"sm",onClick:()=>K1(de.sse_token,"SSE token copied"),children:"Copy SSE Token"})]}):null]})};return n.jsxs("div",{className:"min-h-screen bg-slate-50",children:[n.jsx("style",{children:`
        .code-scroll::-webkit-scrollbar { height: 4px; width: 4px; }
        .code-scroll::-webkit-scrollbar-track { background: transparent; }
        .code-scroll::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.25); border-radius: 9999px; }
        .code-scroll:hover::-webkit-scrollbar-thumb { background: rgba(100,116,139,0.45); }
        .code-scroll { -ms-overflow-style: none; scrollbar-width: thin; }
      `}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx(pe.div,{className:"absolute -top-28 -left-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-cyan-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1}}),n.jsx(pe.div,{className:"absolute -bottom-28 -right-28 h-72 w-72 md:h-96 md:w-96 rounded-full bg-blue-300/40 blur-3xl",initial:{opacity:0},animate:{opacity:.5},transition:{duration:1.2}})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-8 py-6 sm:py-8",children:[n.jsxs(Wr,{className:"relative overflow-hidden p-4 sm:p-5",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-center md:justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx("div",{className:"grid h-10 w-10 sm:h-12 sm:w-12 place-content-center rounded-xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Fw,{className:"h-6 w-6 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"Text Assistant"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create assistants, attach to numbers, bulk-message appointments, handle inbound SMS with AI  and now manage always-on texting daemons."})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gn,{onClick:()=>{Rt(),Pt(),Re(),bt(),ua("scheduled"),ua("unscheduled")},children:[n.jsx(Ge,{className:"h-4 w-4 mr-2"}),"Refresh"]}),n.jsxs("span",{className:`inline-flex items-center gap-1 rounded-lg border px-2.5 py-1 text-xs ${Je?"bg-emerald-50 text-emerald-700 border-emerald-200":"bg-amber-50 text-amber-800 border-amber-200"}`,children:[n.jsx(Kw,{className:`h-3.5 w-3.5 ${Je?"text-emerald-600":"text-amber-600"}`}),Je?"Numbers Active":"No Numbers"]})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-2 sm:grid-cols-5 gap-4",children:[n.jsx(ml,{icon:aO,label:"Assistants",value:ft.totalAssistants,tone:"slate"}),n.jsx(ml,{icon:qw,label:"Enabled",value:ft.enabled,tone:"blue"}),n.jsx(ml,{icon:gt,label:"Numbers",value:ft.totalNumbers,tone:"emerald"}),n.jsx(ml,{icon:As,label:"Attached",value:ft.withAssistant,tone:"amber"}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-xs text-slate-600 flex items-center gap-2",children:[n.jsx(cx,{className:"h-4 w-4"}),"Set ",n.jsx("code",{className:"font-mono",children:"PUBLIC_BASE_URL"})," so Twilio can reach",n.jsx("code",{className:"font-mono ml-1",children:"/api/text/sms-status"}),"."]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Wr,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Yw,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Assistants"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(gn,{size:"sm",onClick:()=>c(X=>!X),children:[n.jsx(Lr,{className:"h-4 w-4 mr-1"}),"New"]})})]}),n.jsx("div",{className:"mt-1",children:At}),l&&n.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 p-3",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(hn,{placeholder:"Name (e.g., Assistant [scheduled])",value:u.name,onChange:X=>m(de=>({...de,name:X}))}),n.jsx(hn,{placeholder:"Provider (openai)",value:u.provider,onChange:X=>m(de=>({...de,provider:X}))}),n.jsx(hn,{placeholder:"Model (gpt-4o-mini)",value:u.model,onChange:X=>m(de=>({...de,model:X}))}),n.jsx(hn,{placeholder:"Language (optional)",value:u.language,onChange:X=>m(de=>({...de,language:X}))}),n.jsx(hn,{placeholder:"Voice Provider (optional)",value:u.voice_provider,onChange:X=>m(de=>({...de,voice_provider:X}))}),n.jsx(hn,{placeholder:"Voice (optional)",value:u.voice,onChange:X=>m(de=>({...de,voice:X}))})]}),n.jsx("div",{className:"mt-3",children:n.jsx(JE,{value:u.system_prompt,onChange:X=>m(de=>({...de,system_prompt:X})),placeholder:"System prompt for the assistant...",rows:5})}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("label",{className:"text-xs text-slate-700",children:[n.jsx("input",{type:"checkbox",className:"mr-2",checked:u.assistant_toggle,onChange:X=>m(de=>({...de,assistant_toggle:X.target.checked}))}),"Enabled on create"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gn,{size:"sm",onClick:ne,children:[n.jsx(Lr,{className:"h-4 w-4 mr-1"}),"Create"]}),n.jsx(gn,{size:"sm",variant:"subtle",onClick:()=>c(!1),children:"Cancel"})]})]})]}),n.jsx("div",{className:"mt-3 overflow-x-auto",children:n.jsxs("table",{className:"min-w-full text-sm",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-left text-xs text-slate-500",children:[n.jsx("th",{className:"py-2 pr-3",children:"Assistant"}),n.jsx("th",{className:"py-2 pr-3",children:"Model"}),n.jsx("th",{className:"py-2 pr-3",children:"Enabled"}),n.jsx("th",{className:"py-2 pr-3",children:"Actions"})]})}),n.jsx("tbody",{children:r?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"Loading"})}):t.length===0?n.jsx("tr",{children:n.jsx("td",{className:"py-3 text-slate-500",colSpan:4,children:"No assistants yet. Create one above."})}):t.map(X=>n.jsxs("tr",{className:"border-t border-slate-100 hover:bg-slate-50",children:[n.jsxs("td",{className:"py-2 pr-3",children:[n.jsx("div",{className:"font-medium",children:X.name}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:(X.system_prompt||"").slice(0,120)})]}),n.jsx("td",{className:"py-2 pr-3",children:n.jsx(Pr,{tone:"slate",children:X.model})}),n.jsx("td",{className:"py-2 pr-3",children:X.assistant_toggle?n.jsx(Pr,{tone:"emerald",children:"Enabled"}):n.jsx(Pr,{tone:"amber",children:"Disabled"})}),n.jsx("td",{className:"py-2 pr-3",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(gn,{size:"sm",variant:X.assistant_toggle?"subtle":"primary",onClick:()=>oe(X.id,!X.assistant_toggle),children:X.assistant_toggle?n.jsxs(n.Fragment,{children:[n.jsx(gv,{className:"h-4 w-4 mr-1"}),"Disable"]}):n.jsxs(n.Fragment,{children:[n.jsx(bv,{className:"h-4 w-4 mr-1"}),"Enable"]})}),n.jsxs(gn,{size:"sm",onClick:()=>{K1(X.system_prompt||"","System prompt copied!")},children:[n.jsx(pU,{className:"h-4 w-4 mr-1"}),"Copy Prompt"]})]})})]},X.id))})]})})]}),n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(As,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Attach Assistant to Number"})]}),n.jsxs("div",{className:"mt-3 space-y-2",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Purchased Number"}),n.jsxs("select",{value:y,onChange:X=>j(X.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Select number"}),f.map(X=>n.jsx("option",{value:X.phone_number,children:X.phone_number},X.phone_number))]})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsxs("select",{value:w,onChange:X=>S(X.target.value),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"No attachment (clear)"}),t.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Incoming SMS to this number will use the attached assistant."}),n.jsx(gn,{size:"sm",onClick:Xe,disabled:g||r,children:"Save"})]})]}),n.jsxs("div",{className:"mt-4",children:[n.jsx("div",{className:"text-xs font-semibold text-slate-800 mb-1",children:"Numbers"}),g?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):f.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No numbers found."}):n.jsx("ul",{className:"space-y-1",children:f.map(X=>{const de=t.find(ze=>ze.id===X.attached_assistant);return n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsx("div",{className:"font-mono",children:X.phone_number}),n.jsx("div",{className:"flex items-center gap-2",children:de?n.jsx(Pr,{tone:"blue",children:de.name}):n.jsx(Pr,{children:"No assistant"})})]},X.phone_number)})})]})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsx(Rs,{kind:"scheduled",state:rt,sseState:$e,onPatch:me,busy:Se.scheduled}),n.jsx(Rs,{kind:"unscheduled",state:Ce,sseState:nt,onPatch:me,busy:Se.unscheduled})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-4",children:[n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(qz,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Scheduled Appointments (one-off)"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:C.assistant_id,onChange:X=>P(de=>({...de,assistant_id:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Ma.map(X=>n.jsx("option",{value:X.id??"",children:X.name},X.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:C.from_number,onChange:X=>P(de=>({...de,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:mn.map(X=>n.jsx("option",{value:X.phone_number??"",children:X.label},X.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(hn,{type:"number",placeholder:"e.g. 50",value:C.limit,onChange:X=>P(de=>({...de,limit:X}))})]})]}),n.jsx(Xt,{params:C,setParams:P,mode:"scheduled"}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Sends all scheduled appointments, skipping numbers messaged successfully within the last"," ",n.jsx("b",{children:C.repeat_backoff_hours})," hours."]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gn,{variant:"subtle",onClick:()=>Y(C.include_unowned,C.repeat_backoff_hours),disabled:Ue,title:"See why nothing matches",children:[n.jsx(fv,{className:"h-4 w-4 mr-1"}),"Debug"]}),n.jsxs(gn,{variant:"primary",onClick:()=>lt("scheduled"),disabled:k,children:[k?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(cj,{className:"h-4 w-4 mr-2"}),"Start"]})]})]}),Te&&n.jsxs("div",{className:"mt-3 rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-700 flex items-center gap-2",children:[n.jsx(fv,{className:"h-4 w-4"}),"Scheduled Selection (debug)"]}),we?n.jsxs("div",{className:"mt-2 text-xs text-slate-700 space-y-1",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Eligible:"})," ",(Bl=we==null?void 0:we.info)==null?void 0:Bl.eligible," /"," ",(zl=we==null?void 0:we.info)==null?void 0:zl.total]}),n.jsxs("div",{children:[n.jsx("b",{children:"Include unowned:"})," ",String((Di=we==null?void 0:we.info)==null?void 0:Di.include_unowned)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Repeat backoff hours:"})," ",String((Vr=we==null?void 0:we.info)==null?void 0:Vr.repeat_backoff_hours)]}),n.jsxs("div",{className:"text-slate-500",children:[n.jsx("b",{children:"Rule:"})," ",((Ls=we==null?void 0:we.info)==null?void 0:Ls.rule)||"-"]}),Array.isArray(we==null?void 0:we.samples)&&we.samples.length>0?n.jsx("div",{className:"mt-2 max-h-44 overflow-auto code-scroll",children:n.jsxs("table",{className:"w-full text-[11px]",children:[n.jsx("thead",{children:n.jsxs("tr",{className:"text-slate-500",children:[n.jsx("th",{className:"text-left pr-2",children:"Appt"}),n.jsx("th",{className:"text-left pr-2",children:"Phone"}),n.jsx("th",{className:"text-left pr-2",children:"TZ"}),n.jsx("th",{className:"text-left pr-2",children:"Start"}),n.jsx("th",{className:"text-left pr-2",children:"Now"}),n.jsx("th",{className:"text-left pr-2",children:"Backoff OK"}),n.jsx("th",{className:"text-left",children:"Eligible"})]})}),n.jsx("tbody",{children:we.samples.map(X=>n.jsxs("tr",{className:"border-t border-slate-200",children:[n.jsx("td",{className:"pr-2",children:X.id}),n.jsx("td",{className:"pr-2",children:X.phone}),n.jsx("td",{className:"pr-2",children:X.tz||"-"}),n.jsx("td",{className:"pr-2",children:qc(X.start_at)}),n.jsx("td",{className:"pr-2",children:qc(X.now)}),n.jsx("td",{className:"pr-2",children:String(X.backoff_ok)}),n.jsx("td",{children:String(X.eligible)})]},X.id))})]})}):null]}):n.jsx("div",{className:"mt-2 text-xs text-slate-500",children:"No data yet."})]})]}),n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(fF,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Message Unscheduled Appointments (one-off)"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Assistant"}),n.jsx("select",{value:T.assistant_id,onChange:X=>E(de=>({...de,assistant_id:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:Ma.map(X=>n.jsx("option",{value:X.id??"",children:X.name},X.id??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"From Number"}),n.jsx("select",{value:T.from_number,onChange:X=>E(de=>({...de,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:mn.map(X=>n.jsx("option",{value:X.phone_number??"",children:X.label},X.phone_number??"auto"))})]}),n.jsxs("div",{children:[n.jsx("div",{className:"text-[11px] text-slate-600 mb-1",children:"Limit"}),n.jsx(hn,{type:"number",placeholder:"e.g. 50",value:T.limit,onChange:X=>E(de=>({...de,limit:X}))})]})]}),n.jsx(Xt,{params:T,setParams:E,mode:"unscheduled"}),n.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[n.jsx("div",{className:"text-[11px] text-slate-500",children:"Optional backoff protects against re-texting the same phone too soon."}),n.jsxs(gn,{variant:"primary",onClick:()=>lt("unscheduled"),disabled:k,children:[k?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(cj,{className:"h-4 w-4 mr-2"}),"Start"]})]})]})]}),$?n.jsx("div",{className:"mt-4",children:n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(T3,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Live Progress"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(Pr,{tone:"blue",children:["Job #",String($).slice(0,8)]}),F?n.jsx(gn,{size:"sm",onClick:()=>K1(F,"SSE token copied"),children:"Copy SSE Token"}):null]})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx(qfe,{total:(z==null?void 0:z.total)||0,sent:(z==null?void 0:z.sent)||0,failed:(z==null?void 0:z.failed)||0}),n.jsxs("div",{className:"mt-2 text-[11px] text-slate-600",children:["Status: ",n.jsx("b",{children:(z==null?void 0:z.status)||"connecting"}),"  From:"," ",n.jsx("span",{className:"font-mono",children:(z==null?void 0:z.from_number)||"-"})]})]})]})}):null,n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Wr,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(K0,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Send Single SMS"})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(hn,{placeholder:"To number (+1)",value:U.to_number,onChange:X=>ae(de=>({...de,to_number:X}))}),n.jsxs("select",{value:U.from_number,onChange:X=>ae(de=>({...de,from_number:X.target.value})),className:"w-full rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Auto-pick"}),f.map(X=>n.jsx("option",{value:X.phone_number,children:X.phone_number},X.phone_number))]}),n.jsx("div",{className:"flex items-center",children:n.jsxs(gn,{variant:"primary",onClick:yt,disabled:ke,className:"w-full",children:[ke?n.jsx(_n,{className:"h-4 w-4 mr-2 animate-spin"}):n.jsx(K0,{className:"h-4 w-4 mr-2"}),"Send"]})})]}),n.jsxs("div",{className:"mt-3",children:[n.jsx("div",{className:"flex items-center justify-between",children:n.jsx(JE,{value:U.body,onChange:X=>{X.length>1e3||ae(de=>({...de,body:X}))},placeholder:"Write your message here",rows:4})}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(or,{className:"h-3.5 w-3.5"}),"Keep it concise. Your backend truncates to 1000 chars.",n.jsxs("span",{className:"ml-auto",children:[U.body.length,"/1000"]})]})]})]}),n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(sp,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Recent Jobs"})]}),n.jsx("div",{className:"mt-3",children:ve?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):Fe.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No jobs yet."}):n.jsx("ul",{className:"space-y-2",children:Fe.slice(0,6).map(X=>n.jsxs("li",{className:"text-xs flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"font-mono",children:["#",String(X.id).slice(0,8)]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:qc(X.created_at)})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pr,{tone:X.status==="completed"?"emerald":"blue",children:X.status}),n.jsx(gn,{size:"sm",onClick:()=>{M(X.id),K(""),I.info("Streaming progress")},children:"View"})]})]},X.id))})})]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-3 gap-4",children:[n.jsxs(Wr,{children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(QU,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Threads"})]}),n.jsxs(gn,{size:"sm",onClick:Re,disabled:G,children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})]}),n.jsx("div",{className:"mt-3",children:n.jsx(hn,{placeholder:"Search by number",value:te.peer_number,onChange:X=>je(de=>({...de,peer_number:X}))})}),n.jsx("div",{className:"mt-3 max-h-[360px] overflow-auto",children:G?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):O.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No threads yet."}):n.jsx("ul",{className:"space-y-1",children:O.filter(X=>{var de;return!te.peer_number||((de=X.peer_number)==null?void 0:de.includes(te.peer_number))}).map(X=>n.jsx("li",{children:n.jsxs("button",{onClick:()=>L(X.peer_number),className:`w-full text-left rounded-lg border px-2 py-1.5 text-xs transition-colors ${A===X.peer_number?"bg-blue-50 border-blue-200 text-blue-800":"bg-white border-slate-200 hover:bg-slate-50"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("span",{className:"font-mono",children:X.peer_number}),n.jsx(Pr,{tone:X.last_direction==="inbound"?"amber":"slate",children:X.last_direction})]}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:X.last_body}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:[qc(X.last_message_at),"  ",X.count," msgs"]})]})},X.peer_number))})})]}),n.jsxs(Wr,{className:"lg:col-span-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(uj,{className:"h-5 w-5 text-blue-600"}),n.jsx("div",{className:"text-sm font-bold text-slate-900",children:"Messages"})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsxs(gn,{size:"sm",onClick:()=>{Ae(0),qe()},disabled:R,children:[n.jsx(Ge,{className:"h-4 w-4 mr-1"}),"Refresh"]})})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 sm:grid-cols-6 gap-2",children:[n.jsx(hn,{placeholder:"To like",value:te.to_like,onChange:X=>je(de=>({...de,to_like:X}))}),n.jsx(hn,{placeholder:"From like",value:te.from_like,onChange:X=>je(de=>({...de,from_like:X}))}),n.jsx(hn,{type:"datetime-local",value:te.start,onChange:X=>je(de=>({...de,start:X}))}),n.jsx(hn,{type:"datetime-local",value:te.end,onChange:X=>je(de=>({...de,end:X}))}),n.jsxs("select",{value:te.success,onChange:X=>je(de=>({...de,success:X.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"Success: All"}),n.jsx("option",{value:"true",children:"Success"}),n.jsx("option",{value:"false",children:"Failed"})]}),n.jsxs("select",{value:te.assistant_id,onChange:X=>je(de=>({...de,assistant_id:X.target.value})),className:"rounded-lg border border-slate-300 px-2.5 py-1.5 text-xs focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"",children:"Assistant: All"}),t.map(X=>n.jsx("option",{value:X.id,children:X.name},X.id))]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Showing ",ce.length," of ",W]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(gn,{size:"sm",onClick:()=>Ae(X=>Math.max(0,X-1)),disabled:!Ot||R,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsxs(gn,{size:"sm",onClick:()=>Ae(X=>Lt?X+1:X),disabled:!Lt||R,children:["Next",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]}),n.jsx("div",{className:"mt-3 max-h-[420px] overflow-auto",children:R?n.jsx("div",{className:"text-xs text-slate-500",children:"Loading"}):ce.length===0?n.jsx("div",{className:"text-xs text-slate-500",children:"No messages for current filters."}):n.jsx("ul",{className:"space-y-2",children:ce.map(X=>n.jsxs("li",{className:`rounded-lg border px-3 py-2 text-xs ${X.direction==="inbound"?"bg-amber-50 border-amber-200":"bg-slate-50 border-slate-200"}`,children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Pr,{tone:X.direction==="inbound"?"amber":"slate",children:X.direction}),X.success?n.jsx(Pr,{tone:"emerald",children:"ok"}):n.jsx(Pr,{tone:"red",children:X.error||"fail"})]}),n.jsx("div",{className:"text-[11px] text-slate-500",children:qc(X.created_at)})]}),n.jsxs("div",{className:"mt-1 font-mono text-[11px] text-slate-600",children:[X.from_number,"  ",X.to_number]}),n.jsx("div",{className:"mt-1 text-slate-800",children:X.body}),X.appointment_id?n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Appointment: ",X.appointment_id]}):null]},X.id))})})]})]}),n.jsxs("div",{className:"mt-5 text-[11px] text-slate-500 flex items-center gap-2",children:[n.jsx(Oz,{className:"h-3.5 w-3.5"}),"Delivery status updates via"," ",n.jsx("code",{className:"font-mono",children:"/api/text/sms-status"}),". Ensure your server is publicly reachable for Twilio callbacks."]})]})]})}const ei="https://aisdr-dbt.ddns.net",fl={CONFIG:`${ei}/api/config`,PRICING:`${ei}/api/pricing`,WALLET:`${ei}/api/wallet`,WALLET_TX:`${ei}/api/wallet/transactions`,CAN_CALL:e=>`${ei}/api/wallet/can-call?seconds=${e}`,CHECKOUT:`${ei}/api/topup/checkout`,PORTAL:`${ei}/api/portal`,TEST_CREDIT:`${ei}/api/test/credit`,TEST_DEBIT:`${ei}/api/test/debit`},Yfe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function hl({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function O0({icon:e,label:t,value:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(e,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:t}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:a})]})]})]})}function uo({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function Ed(e=""){return(e||"").replace(/\D/g,"")}function Wfe(e){const t=Ed(e);if(!t)return"UNKNOWN";if(t.startsWith("4"))return"VISA";Number(t.slice(0,6));const a=Number(t.slice(0,2)),r=Number(t.slice(0,4));return a>=51&&a<=55||r>=2221&&r<=2720?"MASTERCARD":t.startsWith("34")||t.startsWith("37")?"AMEX":t.startsWith("6011")||t.startsWith("65")||Xfe(t,"644","649")?"DISCOVER":"UNKNOWN"}function Xfe(e,t,a){const r=Number((e||"").slice(0,3));return r>=Number(t)&&r<=Number(a)}function WL(e,t){const a=Ed(e).slice(0,t==="AMEX"?15:16);return t==="AMEX"?a.replace(/(\d{4})(\d{0,6})(\d{0,5})/,(r,s,l,c)=>[s,l,c].filter(Boolean).join(" ")).trim():a.replace(/(.{4})/g,"$1 ").trim()}function Zfe(e){const t=Ed(e).slice(0,4);return t.length<=2?t:t.slice(0,2)+"/"+t.slice(2)}function Qfe(e,t){const a=t==="AMEX"?15:16,r=Ed(e).padEnd(a,"");return t==="AMEX"?r.replace(/(\d{4})(\d{6})(\d{5})/,(l,c,u,m)=>[c,u,m].join(" ")):r.replace(/(.{4})/g,"$1 ").trim()}function Mw(e){return e==="AMEX"?4:3}function Dw({brand:e="UNKNOWN",className:t=""}){return e==="VISA"?n.jsx("div",{className:`flex items-center gap-1 ${t}`,"aria-label":"VISA",children:n.jsx("span",{className:"text-[10px] font-black tracking-widest",children:"VISA"})}):e==="MASTERCARD"?n.jsxs("div",{className:`relative h-5 w-8 ${t}`,"aria-label":"Mastercard",children:[n.jsx("div",{className:"absolute left-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-amber-500 mix-blend-multiply"}),n.jsx("div",{className:"absolute right-1 top-1/2 -translate-y-1/2 h-4 w-4 rounded-full bg-red-600 mix-blend-multiply"})]}):e==="AMEX"?n.jsxs("div",{className:`px-1.5 py-0.5 text-[9px] font-black rounded bg-cyan-500 text-white ${t}`,"aria-label":"American Express",children:["AMERICAN",n.jsx("br",{}),"EXPRESS"]}):e==="DISCOVER"?n.jsxs("div",{className:`flex items-center gap-1 ${t}`,"aria-label":"Discover",children:[n.jsx("div",{className:"h-3 w-3 rounded-full bg-orange-500"}),n.jsx("span",{className:"text-[10px] font-black",children:"DISCOVER"})]}):n.jsx("div",{className:`text-[10px] font-bold opacity-70 ${t}`,"aria-label":"Card",children:"CARD"})}function tP(){return n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"absolute -inset-1 rounded-3xl bg-gradient-to-r from-cyan-400 to-blue-500 blur opacity-25"}),n.jsx("div",{className:"absolute inset-0 rounded-3xl opacity-70",style:{background:"radial-gradient(80% 120% at 0% 0%, rgba(14,165,233,0.35), transparent), radial-gradient(100% 120% at 100% 100%, rgba(37,99,235,0.35), #0f172a)"}}),n.jsxs("svg",{className:"absolute inset-0 rounded-3xl opacity-15",xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",children:[n.jsx("defs",{children:n.jsx("pattern",{id:"dots",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:n.jsx("circle",{cx:"1",cy:"1",r:"1",fill:"white"})})}),n.jsx("rect",{width:"100%",height:"100%",fill:"url(#dots)"})]}),n.jsx("div",{className:"absolute -left-1/2 top-0 h-full w-[60%] rotate-12 rounded-3xl opacity-15",style:{background:"linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.6) 40%, transparent 100%)",filter:"blur(8px)"}})]})}function Jfe({name:e,number:t,expiry:a,cvc:r,brand:s,showBack:l=!1,onToggleSide:c}){const u=x.useRef(null),[m,f]=x.useState({x:0,y:0});function h(k){const _=u.current;if(!_)return;const C=_.getBoundingClientRect(),P=(k.clientX-C.left)/C.width,T=(k.clientY-C.top)/C.height,E=(P-.5)*16,$=(.5-T)*10;f({x:$,y:E})}function g(){f({x:0,y:0})}const b=WL(t,s),y=Qfe(b,s),j=e||"JANE DOE",w=a||"MM/YY",S=(r||"").padEnd(Mw(s),"");return n.jsx("div",{className:"w-full max-w-sm mx-auto select-none",children:n.jsxs("div",{ref:u,onMouseMove:h,onMouseLeave:g,className:"relative [perspective:1200px]",children:[n.jsxs(pe.div,{className:"relative h-56 sm:h-64 rounded-3xl shadow-2xl cursor-pointer",style:{transformStyle:"preserve-3d"},animate:{rotateY:l?180:0,rotateX:m.x,rotateZ:0,translateZ:0},transition:{type:"spring",stiffness:140,damping:18},onClick:c,"aria-label":"Credit card",children:[n.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{backfaceVisibility:"hidden"},children:[n.jsx(tP,{}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-[10px] uppercase tracking-widest opacity-85",children:"Debit"}),n.jsx(Dw,{brand:s})]}),n.jsxs("div",{className:"mt-6 flex items-center gap-2",children:[n.jsxs("svg",{className:"h-8 w-10 text-white/80",viewBox:"0 0 48 36",fill:"none",children:[n.jsx("rect",{x:"1",y:"1",width:"46",height:"34",rx:"6",className:"fill-white/30"}),n.jsx("path",{d:"M8 18h32M16 1v10M32 1v10M16 35V25M32 35V25",stroke:"white",strokeOpacity:".6"})]}),n.jsx(RF,{className:"h-5 w-5 opacity-70"})]}),n.jsx(pe.div,{initial:{opacity:.6},animate:{opacity:1},className:"mt-4 text-lg sm:text-xl font-mono tracking-widest",children:y},y),n.jsxs("div",{className:"mt-auto grid grid-cols-2 text-xs",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"opacity-75 uppercase",children:"Card Holder"}),n.jsx("div",{className:"font-semibold tracking-wide truncate",children:j})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"opacity-75 uppercase",children:"Expires"}),n.jsx("div",{className:"font-semibold tracking-wide",children:w})]})]})]})]}),n.jsxs("div",{className:"absolute inset-0 rounded-3xl text-white p-5 sm:p-6",style:{transform:"rotateY(180deg)",backfaceVisibility:"hidden"},children:[n.jsx(tP,{}),n.jsxs("div",{className:"relative z-10 h-full flex flex-col",children:[n.jsx("div",{className:"h-10 w-full rounded-md bg-black/70 mt-1"}),n.jsxs("div",{className:"mt-6",children:[n.jsx("div",{className:"text-[11px] uppercase opacity-80",children:"Authorized Signature"}),n.jsxs("div",{className:"mt-1 flex items-center gap-2",children:[n.jsx("div",{className:"h-8 flex-1 bg-white/90 rounded-md"}),n.jsx("div",{className:"h-8 w-16 bg-white/90 rounded-md text-slate-900 grid place-content-center font-mono text-sm",children:S})]})]}),n.jsxs("div",{className:"mt-auto flex items-center justify-between text-[11px] opacity-80",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(gi,{className:"h-3.5 w-3.5"}),n.jsx("span",{children:"Securely processed by Stripe"})]}),n.jsx(Dw,{brand:s})]})]})]})]}),n.jsxs("div",{className:"mt-2 flex items-center justify-between text-[11px] text-slate-600",children:[n.jsxs("div",{className:"inline-flex items-center gap-1",children:[n.jsx(EF,{className:"h-3.5 w-3.5"}),"Click card or focus CVV to flip"]}),n.jsxs("div",{className:"inline-flex items-center gap-1",children:[n.jsx(kV,{className:"h-3.5 w-3.5"}),"Visual demo only"]})]})]})})}function ehe(){var L;const[e,t]=x.useState({publishable_key:"",mode:"test"}),[a,r]=x.useState({balance_cents:0,bonus_cents:0,currency:"USD",per_minute_cents:10}),[s,l]=x.useState([]),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(185),[b,y]=x.useState(null),[j,w]=x.useState(25),[S,k]=x.useState("Jane Doe"),[_,C]=x.useState("4242424242424242"),[P,T]=x.useState("12/34"),[E,$]=x.useState(""),[M,F]=x.useState(!1),K=x.useMemo(()=>Wfe(_),[_]),z=x.useMemo(()=>localStorage.getItem("token"),[]),U=async()=>{if(!z){I.error("No auth token found");return}try{u(!0);const[R,q,ce]=await Promise.all([fetch(fl.CONFIG),fetch(fl.WALLET,{headers:{Authorization:`Bearer ${z}`}}),fetch(fl.WALLET_TX+"?limit=10",{headers:{Authorization:`Bearer ${z}`}})]),Z=await R.json(),W=await q.json(),_e=await ce.json();t(Z||{}),r(W||a),l(Array.isArray(_e)?_e:[]),await ae(h)}catch(R){I.error((R==null?void 0:R.message)||"Failed to load pricing/wallet")}finally{u(!1)}};x.useEffect(()=>{U()},[]);const ae=async R=>{if(z)try{const ce=await(await fetch(fl.CAN_CALL(Math.max(1,Number(R)||1)),{headers:{Authorization:`Bearer ${z}`}})).json();y(ce)}catch{y(null)}},ke=async R=>{if(!z)return I.error("No auth token");try{f(!0);const q=await fetch(fl.CHECKOUT,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({amount_usd:R})}),ce=await q.json();if(!q.ok)throw new Error((ce==null?void 0:ce.detail)||(ce==null?void 0:ce.message)||`HTTP ${q.status}`);if(ce!=null&&ce.url)window.location.assign(ce.url);else if(ce!=null&&ce.id)window.open(`https://checkout.stripe.com/c/pay/${ce.id}`,"_self");else throw new Error("Invalid checkout response")}catch(q){I.error((q==null?void 0:q.message)||"Failed to create checkout")}finally{f(!1)}},se=async()=>{if(!z)return I.error("No auth token");try{const R=await fetch(fl.PORTAL,{method:"POST",headers:{Authorization:`Bearer ${z}`,Accept:"application/json"}}),q=await R.json();if(!R.ok)throw new Error((q==null?void 0:q.detail)||(q==null?void 0:q.message)||`HTTP ${R.status}`);q!=null&&q.url&&window.open(q.url,"_blank")}catch(R){String((R==null?void 0:R.message)||"").includes("not been created")?I.info("Stripe  Test  Settings  Billing  Portal  Save."):I.error((R==null?void 0:R.message)||"Portal error")}},O=async R=>{if(z)try{const q=await fetch(fl.TEST_CREDIT,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({amount_cents:R})}),ce=await q.json();if(!q.ok)throw new Error((ce==null?void 0:ce.detail)||`HTTP ${q.status}`);I.success(`Credited $${(R/100).toFixed(2)}`),await U()}catch(q){I.error((q==null?void 0:q.message)||"Test credit failed")}},H=async R=>{if(z)try{const q=await fetch(fl.TEST_DEBIT,{method:"POST",headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"},body:JSON.stringify({duration_seconds:R})}),ce=await q.json();if(!q.ok)throw new Error((ce==null?void 0:ce.detail)||`HTTP ${q.status}`);I.success(`Debited ${((ce==null?void 0:ce.debited_cents)??0)/100}$`),await U()}catch(q){String((q==null?void 0:q.message)||"").includes("Insufficient balance")?I.warn("Balance kam hai  top up first"):I.error((q==null?void 0:q.message)||"Test debit failed")}},G=R=>{const q=Ed(R),ce=K==="AMEX"?15:16;C(q.slice(0,ce))},B=R=>T(Zfe(R)),A=R=>$(Ed(R).slice(0,Mw(K)));return n.jsx("div",{className:"min-h-screen bg-slate-50",children:n.jsxs("div",{className:"mx-auto max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(vv,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${Yfe}`,children:"Pricing & Wallet"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Top up balance and manage your payment methods. Calls are billed per started minute."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsx(hl,{onClick:U,disabled:c,children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})}),n.jsxs(hl,{onClick:se,variant:"outline",children:[n.jsx(pd,{className:"mr-2 h-4 w-4"})," Manage Cards"]})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(O0,{icon:vv,label:"Balance",value:`$${((a.balance_cents||0)/100).toFixed(2)}`,tone:"blue"}),n.jsx(O0,{icon:kU,label:"Bonus",value:`$${((a.bonus_cents||0)/100).toFixed(2)}`,tone:"cyan"}),n.jsx(O0,{icon:P3,label:"Rate",value:`$${(a.per_minute_cents/100).toFixed(2)}/min`,tone:"blue"}),n.jsx(O0,{icon:kl,label:"Mode",value:((L=e.mode)==null?void 0:L.toUpperCase())||"TEST",tone:"cyan"})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 xl:grid-cols-3 gap-5",children:[n.jsxs("div",{className:"xl:col-span-2 space-y-5",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(tO,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Top up your wallet"})]}),n.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[n.jsx(gi,{className:"h-3.5 w-3.5"}),"Secure by Stripe"]})]}),n.jsxs("div",{className:"mt-5 grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsx(Jfe,{name:S,number:_,expiry:P,cvc:E,brand:K,showBack:M,onToggleSide:()=>F(R=>!R)}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("div",{className:"grid grid-cols-4 gap-2",children:[5,10,25,50].map(R=>n.jsxs(hl,{onClick:()=>ke(R),className:"w-full",variant:"outline",children:["$",R]},R))}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsx(uo,{label:"Name on card (visual)",children:n.jsx("input",{value:S,onChange:R=>k(R.target.value.slice(0,24)),placeholder:"e.g. Jane Doe",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(uo,{label:"Brand (auto-detected)",children:n.jsxs("div",{className:"w-full rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm flex items-center justify-between",children:[n.jsx("span",{className:"font-semibold",children:K}),n.jsx(Dw,{brand:K})]})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(uo,{label:"Card number (visual)",children:n.jsx("input",{value:WL(_,K),onChange:R=>G(R.target.value),placeholder:K==="AMEX"?"3782 822463 10005":"4242 4242 4242 4242",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(uo,{label:"Expiry (visual)",children:n.jsx("input",{value:P,onChange:R=>B(R.target.value),placeholder:"MM/YY",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx(uo,{label:"CVV (visual)",children:n.jsx("input",{value:E,onChange:R=>A(R.target.value),onFocus:()=>F(!0),onBlur:()=>F(!1),placeholder:Mw(K)===4?"4 digits":"3 digits",inputMode:"numeric",className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm font-mono focus:outline-none focus:ring-2 focus:ring-blue-400"})})]}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(uo,{label:"Custom amount (USD)",children:n.jsx("input",{type:"number",min:1,value:j,onChange:R=>w(Math.max(1,Number(R.target.value||1))),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsx("div",{className:"sm:col-span-2 flex items-end",children:n.jsx(hl,{onClick:()=>ke(j),variant:"primary",className:"w-full",disabled:m,children:m?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 mr-2 animate-spin"}),"Opening secure checkout"]}):n.jsxs(n.Fragment,{children:["Continue to secure checkout ",n.jsx(uf,{className:"h-4 w-4 ml-2"})]})})})]}),n.jsxs("div",{className:"text-[11px] text-slate-500",children:["Test card: ",n.jsx("code",{className:"px-1.5 py-0.5 rounded bg-slate-100 border border-slate-200",children:"4242 4242 4242 4242"}),"  any future date  any CVC  any ZIP"]})]})]})]}),n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-cyan-600 text-white shrink-0",children:n.jsx(P3,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Can I place this call?"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 sm:grid-cols-3 gap-3",children:[n.jsx(uo,{label:"Planned duration (seconds)",children:n.jsx("input",{type:"number",min:1,value:h,onChange:async R=>{const q=Math.max(1,Number(R.target.value||1));g(q),await ae(q)},className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400"})}),n.jsxs("div",{className:"sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Estimated charge"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((b==null?void 0:b.needed_cents)||0)/100).toFixed(2)]})]}),n.jsxs("div",{className:"rounded-xl border border-slate-200 bg-slate-50 p-3",children:[n.jsx("div",{className:"text-xs text-slate-500",children:"Your balance"}),n.jsxs("div",{className:"text-lg font-extrabold text-slate-900",children:["$",(((a.balance_cents||0)+(a.bonus_cents||0))/100).toFixed(2)]})]})]})]}),n.jsx("div",{className:"mt-4 flex items-center gap-2",children:b!=null&&b.ok?n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-emerald-700",children:[n.jsx(kn,{className:"h-4 w-4"})," Youre good to go"]}):n.jsxs("span",{className:"inline-flex items-center gap-1 text-sm text-red-700",children:[n.jsx(cr,{className:"h-4 w-4"})," Balance kam hai (insufficient). Shortfall $",(((b==null?void 0:b.shortfall_cents)||0)/100).toFixed(2)]})})]})]}),n.jsxs("div",{className:"space-y-5",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-slate-900 text-white shrink-0",children:n.jsx(vv,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Recent activity"})]}),n.jsx("div",{className:"mt-3 divide-y divide-slate-100",children:s.length===0?n.jsx("div",{className:"text-sm text-slate-500 py-6",children:"No transactions yet."}):s.map(R=>n.jsxs("div",{className:"py-3 flex items-center justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 truncate",children:R.kind||R.description||"Transaction"}),n.jsx("div",{className:"text-[11px] text-slate-500 truncate",children:R.description||R.currency})]}),n.jsxs("div",{className:`shrink-0 text-sm font-bold ${R.amount_cents>=0?"text-emerald-600":"text-red-600"}`,children:[R.amount_cents>=0?"+":"","$",Math.abs(R.amount_cents/100).toFixed(2)]})]},R.id||`${R.created_at}-${R.amount_cents}`))}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500",children:["Billing handled by Stripe. Need help?"," ",n.jsxs("a",{className:"underline",href:"https://stripe.com/docs/testing",target:"_blank",rel:"noreferrer",children:["Testing docs ",n.jsx(lp,{className:"inline h-3 w-3"})]})]})]}),e.mode==="test"&&n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 shadow-xl",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-emerald-600 text-white shrink-0",children:n.jsx(kl,{className:"h-4 w-4"})}),n.jsx("h2",{className:"text-base font-bold text-slate-900 truncate",children:"Developer shortcuts (TEST)"})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-2 gap-2",children:[n.jsx(hl,{onClick:()=>O(500),variant:"subtle",children:"Seed $5"}),n.jsx(hl,{onClick:()=>O(1e3),variant:"subtle",children:"Seed $10"}),n.jsx(hl,{onClick:()=>H(185),variant:"outline",children:"Debit 185s"}),n.jsx(hl,{onClick:()=>H(61),variant:"outline",children:"Debit 61s"})]})]})]})]})]})})}function the(...e){return e.filter(Boolean).join(" ")}const nP="https://aisdr-dbt.ddns.net";function nhe({onClick:e}){const t=a=>{(a.key==="Enter"||a.key===" ")&&(a.preventDefault(),e==null||e())};return n.jsxs("button",{type:"button",onClick:e,onKeyDown:t,title:"Toggle menu","aria-label":"Toggle menu",className:"group relative h-12 w-12 sm:h-12 sm:w-12 rounded-2xl focus:outline-none focus:ring-2 focus:ring-cyan-400",children:[n.jsx("div",{className:"absolute inset-0 rounded-2xl border border-white/15 bg-white/10 backdrop-blur-[2px]"}),n.jsxs(pe.svg,{viewBox:"0 0 48 48",className:"relative z-10 h-full w-full p-2",initial:{opacity:.9},animate:{opacity:1},transition:{duration:.6},role:"img","aria-label":"Lead generation funnel",children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#3B82F6"}),n.jsx("stop",{offset:"100%",stopColor:"#06B6D4"})]}),n.jsxs("filter",{id:"glow",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"coloredBlur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"coloredBlur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx(pe.path,{d:"M6 8h36l-14 15v7l-8 10v-17L6 8z",fill:"none",stroke:"url(#neonStroke)",strokeWidth:"2.8",strokeLinecap:"round",strokeLinejoin:"round",filter:"url(#glow)",initial:{pathLength:0,pathOffset:1},animate:{pathLength:1,pathOffset:0},transition:{duration:2.2,repeat:1/0,repeatType:"mirror",ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"23",cy:"20",r:"1.6",fill:"#22D3EE",initial:{y:-8,opacity:.6},animate:{y:12,opacity:[.6,1,.6]},transition:{duration:1.6,repeat:1/0,ease:"easeInOut"}}),n.jsx(pe.circle,{cx:"28",cy:"22",r:"1.3",fill:"#60A5FA",initial:{y:-10,opacity:.6},animate:{y:14,opacity:[.6,1,.6]},transition:{duration:1.9,repeat:1/0,ease:"easeInOut",delay:.25}})]})]})}function ahe({className:e="",onMenuToggle:t,profilePath:a="/admin/settings"}){const[r,s]=x.useState(""),[l,c]=x.useState(null),[u,m]=x.useState(!1),f=rn();x.useEffect(()=>{s(localStorage.getItem("name")||"User")},[]),x.useEffect(()=>{const y=localStorage.getItem("token"),j=new AbortController;async function w(){try{const S=await fetch(`${nP}/api/profile-photo`,{headers:y?{Authorization:`Bearer ${y}`}:{},signal:j.signal,mode:"cors"});if(!S.ok){m(!0);return}const k=await S.json();let _=k==null?void 0:k.photo_url;if(_){/^https?:\/\//i.test(_)||(_=`${nP}${_.startsWith("/")?"":"/"}${_}`);const C=(_.includes("?")?"&":"?")+"t="+Date.now();c(_+C),m(!1)}else m(!0)}catch{m(!0)}}return w(),()=>j.abort()},[]);const h=y=>y.split(" ").map(j=>j.charAt(0)).join("").toUpperCase().slice(0,2),g=({size:y=40})=>{const j=y;return n.jsxs("button",{type:"button",onClick:()=>f(a),className:"group relative rounded-full p-1 bg-gradient-to-br from-blue-600 via-cyan-500 to-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-300","aria-label":"Edit profile",children:[n.jsx("div",{className:"rounded-full bg-white p-0.5",children:l&&!u?n.jsx("img",{src:l,alt:"Profile photo",width:j,height:j,className:"rounded-full object-cover",style:{width:j,height:j},onLoad:()=>m(!1),onError:()=>m(!0)}):n.jsx("div",{className:"rounded-full bg-gradient-to-br from-blue-600 to-cyan-500 text-white grid place-content-center font-bold",style:{width:j,height:j,fontSize:j<36?10:12},children:h(r)})}),n.jsx("span",{className:"absolute -right-0.5 -bottom-0.5 h-3 w-3 rounded-full bg-emerald-400 ring-2 ring-white"}),n.jsx("span",{className:`\r
            pointer-events-none absolute left-1/2 -translate-x-1/2 top-full mt-2\r
            whitespace-nowrap rounded-lg border border-slate-200 bg-white/95 px-2.5 py-1\r
            text-xs font-medium text-slate-700 shadow-lg opacity-0 translate-y-1\r
            group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-150\r
          `,children:"Edit profile"})]})},b=()=>{window.dispatchEvent(new CustomEvent("app:toggle-sidebar")),typeof t=="function"&&t()};return n.jsxs("header",{className:the("sticky top-0 z-30 border-b border-slate-200/70 bg-white/80 backdrop-blur-md shadow-sm",e),style:{left:0,right:0,height:"96px"},children:[n.jsx("div",{className:"px-3 sm:px-4 lg:px-6 xl:px-8 h-full",children:n.jsxs("div",{className:"flex items-center justify-between h-full",children:[n.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 min-w-0 flex-1",children:[n.jsx(nhe,{onClick:b}),n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"hidden lg:block",children:[n.jsx("h1",{className:"font-extrabold tracking-tight text-2xl text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",children:"AI SDR - DBT"})}),n.jsxs("div",{className:"relative",children:[n.jsx("p",{className:"text-xs font-medium text-slate-500 pr-6",children:"Control center for users, leads & calls"}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-24 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-20,opacity:.4},animate:{x:40,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]}),n.jsxs("div",{className:"hidden sm:block lg:hidden",children:[n.jsx("h1",{className:"font-bold text-lg text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx("p",{className:"text-xs text-slate-500 font-medium truncate",children:"Insights & controls"})]}),n.jsxs("div",{className:"sm:hidden relative",children:[n.jsx("h1",{className:"font-bold text-base text-slate-900 select-none truncate",children:n.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:"AI SDR - DBT"})}),n.jsx(pe.div,{className:"absolute -bottom-1 left-0 h-[2px] w-16 bg-gradient-to-r from-blue-500 via-cyan-400 to-transparent rounded-full",initial:{x:-16,opacity:.4},animate:{x:36,opacity:[.4,.9,.4]},transition:{duration:2.4,repeat:1/0,ease:"easeInOut"}})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 lg:gap-4 flex-shrink-0",children:[n.jsxs(pe.div,{className:"hidden lg:flex items-center gap-3 rounded-2xl border border-slate-200 bg-white/90 px-4 py-2 shadow-sm",initial:{y:-8,opacity:0},animate:{y:0,opacity:1},transition:{duration:.35},children:[n.jsx("div",{className:"relative",children:n.jsx(g,{size:40})}),n.jsxs("div",{className:"flex flex-col min-w-0",children:[n.jsx("p",{className:"text-sm font-semibold text-slate-900 leading-tight truncate",children:"Welcome!"}),n.jsx("p",{className:"text-xs text-slate-600 font-medium truncate",children:r})]})]}),n.jsxs("div",{className:"hidden sm:flex lg:hidden items-center gap-2 rounded-xl border border-slate-200 bg-white/90 px-3 py-2 shadow-sm",children:[n.jsx(g,{size:32}),n.jsx("span",{className:"text-sm font-semibold text-slate-900 truncate max-w-[90px]",children:r})]}),n.jsx("div",{className:"sm:hidden",children:n.jsx(g,{size:36})}),n.jsxs(pe.button,{onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},"aria-label":"Sign out",whileTap:{scale:.96},className:"group relative flex items-center gap-2 rounded-2xl border border-red-200 bg-red-50 text-red-700 font-semibold hover:bg-red-100 hover:border-red-300 hover:text-red-800 focus:outline-none focus:ring-2 focus:ring-red-400 focus:ring-offset-2 transition-all shadow-sm px-3 py-2 lg:px-4 lg:py-2.5 text-xs sm:text-sm min-h-[40px]",children:[n.jsx(op,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"hidden lg:inline",children:"Sign out"}),n.jsx("span",{className:"hidden sm:inline lg:hidden",children:"Out"})]})]})]})}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-px bg-gradient-to-r from-transparent via-slate-300 to-transparent"})]})}function rhe({compact:e=!1}){const t=x.useMemo(()=>[{text:"Make Calls",Icon:gt,from:"#3B82F6",to:"#06B6D4"},{text:"Buy Numbers",Icon:ss,from:"#2563EB",to:"#22D3EE"},{text:"Build Assistants",Icon:D2,from:"#06B6D4",to:"#3B82F6"},{text:"Generate Leads",Icon:Ca,from:"#3B82F6",to:"#60A5FA"},{text:"Schedule Meetings",Icon:ss,from:"#22D3EE",to:"#2563EB"}],[]),[a,r]=x.useState(0),[s,l]=x.useState(""),[c,u]=x.useState(!1);x.useEffect(()=>{const g=t[a].text,b=40,y=28,j=1100;let w;return!c&&s.length<g.length?w=setTimeout(()=>l(g.slice(0,s.length+1)),b):!c&&s.length===g.length?w=setTimeout(()=>u(!0),j):c&&s.length>0?w=setTimeout(()=>l(g.slice(0,s.length-1)),y):c&&s.length===0&&(u(!1),r(S=>(S+1)%t.length)),()=>clearTimeout(w)},[s,c,a,t]);const{Icon:m,from:f,to:h}=t[a];return n.jsxs("div",{className:`relative flex items-center ${e?"justify-center p-3 sm:p-4":"p-4 sm:p-6"}`,children:[n.jsxs("div",{className:"relative mr-0 sm:mr-3",children:[n.jsx(pe.div,{className:`grid place-content-center rounded-2xl ${e?"h-9 w-9":"h-10 w-10"}`,style:{background:`linear-gradient(135deg, ${f}, ${h})`,boxShadow:`0 0 24px 6px ${h}44`},animate:{scale:[1,1.06,1],rotate:[0,1.5,0]},transition:{duration:1.8,repeat:1/0,ease:"easeInOut"},children:n.jsx(m,{className:`${e?"h-4 w-4":"h-5 w-5"} text-white`})}),n.jsx(pe.div,{className:"absolute inset-0 rounded-2xl -z-10 blur-md",style:{background:`radial-gradient(60% 60% at 50% 50%, ${h}33, transparent)`},animate:{opacity:[.5,.9,.5]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},"aria-hidden":!0})]}),!e&&n.jsxs("div",{className:"min-w-0 flex-1",children:[n.jsxs("div",{className:"text-base sm:text-lg font-extrabold tracking-tight truncate",children:[n.jsx("span",{className:"bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(90deg, ${f}, ${h})`},children:s}),n.jsx(pe.span,{className:"inline-block w-[2px] h-[1.1em] align-[-0.15em] ml-1 bg-slate-800",animate:{opacity:[0,1,0]},transition:{duration:.8,repeat:1/0}})]}),n.jsx("p",{className:"text-[11px] sm:text-xs text-slate-500 font-medium truncate",children:"Neon-typed actions that guide your workflow"})]})]})}function she(){const[e,t]=x.useState(!1),[a,r]=x.useState(!1),[s,l]=x.useState(!1),c=Ds(),u=rn();x.useEffect(()=>{const h=()=>{const g=window.innerWidth;l(g<768),t(g<1024)};return h(),window.addEventListener("resize",h),()=>window.removeEventListener("resize",h)},[]),x.useEffect(()=>{r(!1)},[c.pathname]),x.useEffect(()=>{const h=()=>{s?r(g=>!g):t(g=>!g)};return window.addEventListener("app:toggle-sidebar",h),()=>window.removeEventListener("app:toggle-sidebar",h)},[s]);const m=[{id:"dashboard",label:"Dashboard",icon:Hw,href:"/admin/dashboard",color:"text-blue-600"},{id:"users",label:"Users",icon:Ca,href:"/admin/Users",color:"text-blue-600"},{id:"phoneNumbers",label:"Call Details",icon:gt,href:"/admin/PhoneCalls",color:"text-orange-600"},{id:"leads",label:"Leads",icon:Ca,href:"/admin/lead",color:"text-purple-600"},{id:"Phone Numbers",label:"Phone Numbers",icon:Ca,href:"/admin/callhistory",color:"text-purple-600"}],f=()=>n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"border-b border-slate-200 bg-white/80 backdrop-blur-md",children:n.jsx(rhe,{compact:e&&!s})}),n.jsx("nav",{className:"flex-1 p-2 sm:p-4 space-y-1 sm:space-y-2 overflow-y-auto",children:m.map(h=>{const g=h.icon,b=c.pathname===h.href;return n.jsxs("button",{type:"button",onClick:()=>u(h.href),className:`group relative w-full text-left flex items-center rounded-lg sm:rounded-xl transition-all duration-200 touch-manipulation ${b?"bg-blue-50/70 text-blue-700 border border-blue-200 shadow-sm":"text-slate-700 hover:bg-slate-50 hover:text-slate-900"} ${e&&!s?"justify-center p-2 sm:p-3":"p-3 sm:p-3"} ${s?"min-h-[52px]":"min-h-[44px]"}`,title:e&&!s?h.label:"",children:[b&&!e&&n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"}),n.jsx(g,{className:`flex-shrink-0 transition-all duration-200 ${e&&!s?"w-6 h-6":"w-5 h-5"} ${b?h.color:"text-slate-500 group-hover:text-slate-700"} ${b?"scale-110":"group-hover:scale-105"}`}),(!e||s)&&n.jsx("span",{className:"ml-3 font-semibold transition-all duration-200 truncate text-sm sm:text-base",children:h.label}),b&&(!e||s)&&n.jsx("div",{className:"ml-auto flex-shrink-0",children:n.jsx("div",{className:"w-2 h-2 bg-blue-600 rounded-full animate-pulse shadow-[0_0_10px_rgba(59,130,246,0.6)]"})})]},h.id)})}),!s&&n.jsx("div",{className:"p-2 sm:p-4 border-t border-slate-200 bg-slate-50/80 backdrop-blur-md",children:n.jsx("button",{onClick:()=>t(h=>!h),className:`group flex items-center w-full text-slate-600 hover:text-blue-600 hover:bg-blue-50 rounded-lg sm:rounded-xl transition-all duration-200 border border-transparent hover:border-blue-200 touch-manipulation ${e?"justify-center p-2 sm:p-3":"p-3"} min-h-[44px]`,title:e?"Expand sidebar":"Collapse sidebar",children:e?n.jsx(wn,{className:"w-5 h-5 transition-transform group-hover:scale-110"}):n.jsxs(n.Fragment,{children:[n.jsx(Pa,{className:"w-5 h-5 transition-transform group-hover:scale-110"}),n.jsx("span",{className:"ml-3 font-semibold text-sm sm:text-base",children:"Collapse"})]})})})]});return n.jsxs(n.Fragment,{children:[!s&&n.jsx("aside",{className:`sticky top-0 h-screen bg-white border-r border-slate-200 shadow-sm transition-[width] duration-300 flex-shrink-0 ${e?"w-16 sm:w-20":"w-64 sm:w-72"}`,style:{zIndex:30},children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(f,{})})}),s&&n.jsxs("div",{className:"md:hidden",children:[a&&n.jsx("div",{className:"fixed inset-0 z-20 bg-black/30 backdrop-blur-sm",onClick:()=>r(!1),"aria-hidden":"true"}),n.jsx("aside",{className:`fixed left-0 top-0 h-full w-72 bg-white border-r border-slate-200 shadow-2xl z-40 transform transition-transform duration-300 ease-in-out ${a?"translate-x-0":"-translate-x-full"}`,role:"dialog","aria-modal":"true","aria-label":"Navigation menu",children:n.jsx("div",{className:"flex flex-col h-full",children:n.jsx(f,{})})})]})]})}function ihe(){return n.jsxs("div",{className:"min-h-screen flex bg-slate-50 font-sans",children:[n.jsx(she,{}),n.jsxs("div",{className:"flex flex-1 flex-col",children:[n.jsx(ahe,{className:"h-16 border-b"}),n.jsx("main",{className:"flex-1 p-6",children:n.jsx($P,{})})]})]})}const G1={},jo="https://aisdr-dbt.ddns.net",lhe=(G1==null?void 0:G1.VITE_AFTER_IMPERSONATE_PATH)||"/",pl={USERS:`${jo}/api/admin/users`,USER:e=>`${jo}/api/admin/users/${e}`,USER_DETAILS:e=>`${jo}/api/admin/users/${e}/details`,USER_PHOTO_DELETE:e=>`${jo}/api/admin/users/${e}/profile-photo`,RESET_PASSWORD:e=>`${jo}/api/admin/users/${e}/reset-password`,IMPERSONATE_LOGIN_AS:`${jo}/api/admin/impersonate/login-as`},ohe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",M0=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${jo}${t}`},Y1=e=>e==="admin"?"bg-red-100 text-red-700 border-red-200":"bg-blue-100 text-blue-700 border-blue-200";function im({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function che(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Tt({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function dhe(){var bt,ua;const[e,t]=x.useState([]),[a,r]=x.useState({total:0,admins:0,verified:0,withPhoto:0}),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(""),[b,y]=x.useState("all"),[j,w]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,P]=x.useState(!1),[T,E]=x.useState(null),[$,M]=x.useState(!1),[F,K]=x.useState(null),[z,U]=x.useState(!1),[ae,ke]=x.useState(!1),[se,O]=x.useState(null),[H,G]=x.useState(!1),[B,A]=x.useState(!1),[L,R]=x.useState(null),[q,ce]=x.useState({name:"",email:"",role:"user",setPasswordManually:!1,password:""}),[Z,W]=x.useState(null),[_e,te]=x.useState(!1),[je,Ee]=x.useState(null),[Ae,xe]=x.useState(!1),[Fe,Be]=x.useState(""),[ve,le]=x.useState(null),[Te,ee]=x.useState(null),[we,De]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),Ue=x.useCallback(async()=>{if(we){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const me=localStorage.getItem("token");if(!me){t([]),r({total:0,admins:0,verified:0,withPhoto:0}),u("No auth token found."),I.error("No authentication token found.");return}try{l(!0),u("");const Y=await fetch(pl.USERS,{headers:{Authorization:`Bearer ${me}`,Accept:"application/json"},mode:"cors"});if(!Y.ok){const dt=await Y.text();throw new Error(`HTTP ${Y.status}${dt?`  ${dt}`:""}`)}const ne=await Y.json();if(!(ne!=null&&ne.success)||!Array.isArray(ne==null?void 0:ne.users))throw new Error("Unexpected response shape.");const oe=(ne.users||[]).map(dt=>({id:dt.id,name:dt.name||"",email:dt.email||"",email_verified:!!dt.email_verified,role:dt.role||"user",profile_photo_url:M0(dt.profile_photo_url||dt.profile_photo)}));oe.sort((dt,Ot)=>dt.name.localeCompare(Ot.name)),t(oe);const Xe=oe.filter(dt=>dt.role==="admin").length,lt=oe.filter(dt=>dt.email_verified).length,yt=oe.filter(dt=>!!dt.profile_photo_url).length;r({total:ne.total_users??oe.length,admins:Xe,verified:lt,withPhoto:yt})}catch(Y){u((Y==null?void 0:Y.message)||"Failed to load users"),I.error((Y==null?void 0:Y.message)||"Failed to load users")}finally{l(!1)}},[we]);x.useEffect(()=>{Ue()},[Ue]);const Ve=x.useMemo(()=>{let me=[...e];if(h.trim()){const Y=h.trim().toLowerCase();me=me.filter(ne=>String(ne.name||"").toLowerCase().includes(Y)||String(ne.email||"").toLowerCase().includes(Y))}return b!=="all"&&(me=me.filter(Y=>Y.role===b)),j!=="all"&&(me=me.filter(Y=>j==="verified"?Y.email_verified:!Y.email_verified)),me},[e,h,b,j]),rt=Math.max(1,Math.ceil(Ve.length/_)),tt=S*_,Ce=tt-_,Q=Ve.slice(Ce,tt);x.useEffect(()=>{k(1)},[h,b,j]);const Se=me=>{E({id:me.id,name:me.name,email:me.email,role:me.role}),P(!0)},fe=async()=>{if(!T)return;const me=localStorage.getItem("token");if(!me)return I.error("No authentication token found.");const Y={name:String(T.name||"").trim(),email:String(T.email||"").trim(),role:T.role==="admin"?"admin":"user"};try{M(!0);const ne=await fetch(pl.USER(T.id),{method:"PUT",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Y)}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);I.success(" User updated"),P(!1),E(null),t(Xe=>Xe.map(lt=>{var yt;return lt.id===((yt=oe.updated_user)==null?void 0:yt.id)?{...lt,name:oe.updated_user.name,email:oe.updated_user.email,role:oe.updated_user.role,profile_photo_url:M0(oe.updated_user.profile_photo_url||oe.updated_user.profile_photo)}:lt})),Ue()}catch(ne){I.error((ne==null?void 0:ne.message)||"Update failed")}finally{M(!1)}},$e=me=>K(me),nt=async()=>{const me=F;if(!me)return;const Y=localStorage.getItem("token");if(!Y)return I.error("No authentication token found.");try{f(me);const ne=await fetch(pl.USER(me),{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);I.success(" User deleted"),t(Xe=>Xe.filter(lt=>lt.id!==me)),r(Xe=>({...Xe,total:Math.max(0,Xe.total-1)})),K(null)}catch(ne){I.error((ne==null?void 0:ne.message)||"Delete failed")}finally{f(null)}},ft=async me=>{const Y=localStorage.getItem("token");if(!Y){I.error("No authentication token found.");return}try{U(!0),ke(!0),O(null);const ne=await fetch(pl.USER_DETAILS(me.id),{headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);O(oe.details)}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to load details")}finally{ke(!1)}},Je=async me=>{const Y=localStorage.getItem("token");if(!Y)return I.error("No authentication token found.");try{le(me);const ne=await fetch(pl.USER_PHOTO_DELETE(me),{method:"DELETE",headers:{Authorization:`Bearer ${Y}`,Accept:"application/json"}}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);I.success(" Profile photo removed"),t(Xe=>Xe.map(lt=>lt.id===me?{...lt,profile_photo_url:null}:lt)),r(Xe=>({...Xe,withPhoto:Math.max(0,Xe.withPhoto-1)}))}catch(ne){I.error((ne==null?void 0:ne.message)||"Failed to remove photo")}finally{le(null)}},Rt=async()=>{const me=localStorage.getItem("token");if(!me)return I.error("No authentication token found.");const Y={name:q.name.trim(),email:q.email.trim(),role:q.role,password:q.setPasswordManually?(q.password||"").trim():null};if(!Y.name||!Y.email)return I.error("Name and email are required.");if(q.setPasswordManually&&Y.password.length<6)return I.error("Password must be at least 6 characters.");try{A(!0);const ne=await fetch(pl.USERS,{method:"POST",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Y)}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);const Xe=oe.created_user,lt={id:Xe.id,name:Xe.name,email:Xe.email,role:Xe.role||"user",email_verified:!!Xe.email_verified,profile_photo_url:M0(Xe.profile_photo_url||Xe.profile_photo)};t(yt=>[lt,...yt].sort((dt,Ot)=>dt.name.localeCompare(Ot.name))),r(yt=>({...yt,total:yt.total+1,admins:yt.admins+(lt.role==="admin"?1:0),verified:yt.verified+(lt.email_verified?1:0),withPhoto:yt.withPhoto+(lt.profile_photo_url?1:0)})),oe.initial_password?R(oe.initial_password):I.success(" User created"),G(!1),ce({name:"",email:"",role:"user",setPasswordManually:!1,password:""})}catch(ne){I.error((ne==null?void 0:ne.message)||"Create failed")}finally{A(!1)}},Pt=async()=>{if(!Z)return;const me=localStorage.getItem("token");if(!me)return I.error("No authentication token found.");const Y=Ae&&Fe?{new_password:Fe}:{new_password:null};try{te(!0);const ne=await fetch(pl.RESET_PASSWORD(Z),{method:"POST",headers:{Authorization:`Bearer ${me}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(Y)}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);oe.new_password?Ee(oe.new_password):(I.success(" Password updated"),W(null),Be(""),xe(!1))}catch(ne){I.error((ne==null?void 0:ne.message)||"Reset failed")}finally{te(!1)}},Re=async me=>{const Y=localStorage.getItem("token");if(!Y)return I.error("No authentication token found.");try{ee(me.id);const ne=await fetch(pl.IMPERSONATE_LOGIN_AS,{method:"POST",headers:{Authorization:`Bearer ${Y}`,"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({user_id:me.id,reason:"Admin impersonation from Users panel"})}),oe=await ne.json();if(!ne.ok||!(oe!=null&&oe.success))throw new Error((oe==null?void 0:oe.detail)||(oe==null?void 0:oe.message)||`HTTP ${ne.status}`);const{token:Xe,acting_as:lt,impersonated_by:yt}=oe;localStorage.setItem("admin_token_backup",Y),localStorage.setItem("token",Xe),localStorage.setItem("impersonation_info",JSON.stringify({acting_as:lt,impersonated_by:yt,started_at:Date.now()})),I.success(` Now impersonating ${(lt==null?void 0:lt.email)||"user"}`),window.location.assign(lhe)}catch(ne){I.error((ne==null?void 0:ne.message)||"Impersonation failed")}finally{ee(null)}},qe=()=>{const me=localStorage.getItem("admin_token_backup");if(!me){I.error("No admin backup token found.");return}localStorage.setItem("token",me),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),De(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[we&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(Hh,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(bt=we.acting_as)==null?void 0:bt.email})]})]}),n.jsxs(Tt,{onClick:qe,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(op,{className:"mr-2 h-4 w-4"}),"Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(Ca,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${ohe}`,children:"User Management"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"Create users, manage roles, inspect assets, and impersonate users."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(Tt,{onClick:()=>G(!0),disabled:!!we,variant:"primary",children:[n.jsx(Lr,{className:"mr-2 h-4 w-4"}),"Add User"]}),n.jsx(Tt,{onClick:Ue,disabled:s||!!we,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(D0,{label:"Total Users",value:a.total,Icon:Ca,tone:"blue"}),n.jsx(D0,{label:"Admins",value:a.admins,Icon:hv,tone:"cyan"}),n.jsx(D0,{label:"Verified",value:a.verified,Icon:kn,tone:"blue"}),n.jsx(D0,{label:"With Photo",value:a.withPhoto,Icon:XU,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:me=>g(me.target.value),placeholder:"Search by name or email",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!we})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(_l,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:me=>y(me.target.value),disabled:!!we,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All roles"}),n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]}),n.jsxs("select",{value:j,onChange:me=>w(me.target.value),disabled:!!we,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"verified",children:"Verified"}),n.jsx("option",{value:"unverified",children:"Unverified"})]}),(h||b!=="all"||j!=="all")&&n.jsx(Tt,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!we,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(Ca,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Users (",Ve.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),we?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(Hh,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Tt,{onClick:qe,variant:"primary",children:[n.jsx(op,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading users"})]}):Ve.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(Ca,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(lm,{children:"User"}),n.jsx(lm,{children:"Email"}),n.jsx(lm,{children:"Role"}),n.jsx(lm,{children:"Status"}),n.jsx(lm,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:Q.map(me=>n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(om,{children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(W1,{url:me.profile_photo_url,name:me.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:me.name}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["ID #",me.id]})]})]})}),n.jsx(om,{children:n.jsxs("div",{className:"flex items-center gap-2 text-slate-700 min-w-0",children:[n.jsx(wa,{className:"h-3.5 w-3.5 text-slate-500 shrink-0"}),n.jsx("span",{className:"text-xs font-medium break-words",children:me.email})]})}),n.jsx(om,{children:n.jsx(im,{className:`border ${Y1(me.role)}`,children:me.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(hv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(vi,{className:"mr-1 h-3.5 w-3.5"})," User"]})})}),n.jsx(om,{children:me.email_verified?n.jsxs(im,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(kn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(im,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})}),n.jsx(om,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(Tt,{onClick:()=>ft(me),variant:"outline",size:"sm",title:"View details",children:n.jsx(Un,{className:"h-4 w-4"})}),n.jsx(Tt,{onClick:()=>Se(me),variant:"outline",size:"sm",title:"Edit",children:n.jsx(Nm,{className:"h-4 w-4"})}),n.jsx(Tt,{onClick:()=>W(me.id),variant:"subtle",size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50",title:"Reset password",children:n.jsx(Zc,{className:"h-4 w-4"})}),n.jsx(Tt,{onClick:()=>Re(me),disabled:Te===me.id,variant:"subtle",size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50",title:"Login as this user",children:Te===me.id?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(Hh,{className:"h-4 w-4"})}),n.jsx(Tt,{onClick:()=>$e(me.id),variant:"danger",size:"sm",title:"Delete",children:m===me.id?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4"})}),me.profile_photo_url?n.jsx(Tt,{onClick:()=>Je(me.id),disabled:ve===me.id,variant:"subtle",size:"sm",className:"border-amber-200 text-amber-700 hover:bg-amber-50",title:"Remove profile photo",children:ve===me.id?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx($3,{className:"h-4 w-4"})}):null]})})]},me.id))})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:Q.map((me,Y)=>n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[Y===0&&n.jsx(che,{}),n.jsxs("div",{className:"flex items-start gap-3 min-w-0",children:[n.jsx(W1,{size:48,url:me.profile_photo_url,name:me.name}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 truncate",children:me.name}),n.jsxs("div",{className:"mt-0.5 flex items-center gap-1 text-sm text-slate-600 min-w-0",children:[n.jsx(wa,{className:"h-4 w-4 text-slate-500 shrink-0"}),n.jsx("span",{className:"truncate break-words",children:me.email})]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border ${Y1(me.role)} text-[11px] font-semibold`,children:me.role==="admin"?n.jsxs(n.Fragment,{children:[n.jsx(hv,{className:"mr-1 h-3.5 w-3.5"})," Admin"]}):n.jsxs(n.Fragment,{children:[n.jsx(vi,{className:"mr-1 h-3.5 w-3.5"})," User"]})}),me.email_verified?n.jsxs(im,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(kn,{className:"mr-1 h-3.5 w-3.5"}),"Verified"]}):n.jsxs(im,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Unverified"]})]})]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Tt,{onClick:()=>ft(me),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"}),"View"]}),n.jsxs(Tt,{onClick:()=>Se(me),size:"sm",className:"grow sm:grow-0",children:[n.jsx(Nm,{className:"h-4 w-4 mr-1"}),"Edit"]}),n.jsxs(Tt,{onClick:()=>W(me.id),size:"sm",className:"border-emerald-200 text-emerald-700 hover:bg-emerald-50 grow sm:grow-0",children:[n.jsx(Zc,{className:"h-4 w-4 mr-1"}),"Reset"]}),n.jsx(Tt,{onClick:()=>Re(me),disabled:Te===me.id,size:"sm",className:"border-indigo-200 text-indigo-700 hover:bg-indigo-50 grow sm:grow-0",title:"Login as this user",children:Te===me.id?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Acting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Hh,{className:"h-4 w-4 mr-1"})," Login as"]})}),n.jsx(Tt,{onClick:()=>$e(me.id),variant:"danger",size:"sm",className:"grow sm:grow-0",children:m===me.id?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"})," Delete"]})}),me.profile_photo_url&&n.jsx(Tt,{onClick:()=>Je(me.id),disabled:ve===me.id,className:"w-full border-amber-200 text-amber-700 hover:bg-amber-50",children:ve===me.id?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Removing photo"]}):n.jsxs(n.Fragment,{children:[n.jsx($3,{className:"h-4 w-4 mr-2"}),"Remove photo"]})})]}),n.jsxs("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:["ID #",me.id]})]},me.id))})}),Ve.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:Ce+1}),"",n.jsx("b",{children:Math.min(tt,Ve.length)})," of"," ",n.jsx("b",{children:Ve.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Tt,{onClick:()=>k(me=>Math.max(1,me-1)),disabled:S===1,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"}),"Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,rt)},(me,Y)=>{let ne;if(rt<=5||S<=3?ne=Y+1:S>=rt-2?ne=rt-4+Y:ne=S-2+Y,ne<1||ne>rt)return null;const oe=S===ne;return n.jsx("button",{onClick:()=>k(ne),className:`px-3 py-2 text-sm font-semibold rounded-xl ${oe?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:ne},ne)})}),n.jsxs(Tt,{onClick:()=>k(me=>Math.min(rt,me+1)),disabled:S>=rt,children:["Next ",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(It,{children:H&&n.jsxs(um,{onClose:()=>G(!1),title:"Add User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Kc,{label:"Name",children:n.jsx("input",{value:q.name,onChange:me=>ce(Y=>({...Y,name:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter full name"})}),n.jsx(Kc,{label:"Email",children:n.jsx("input",{type:"email",value:q.email,onChange:me=>ce(Y=>({...Y,email:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"name@example.com"})}),n.jsx(Kc,{label:"Role",children:n.jsxs("select",{value:q.role,onChange:me=>ce(Y=>({...Y,role:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})}),n.jsxs("div",{className:"rounded-xl border border-slate-200 p-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:q.setPasswordManually,onChange:me=>ce(Y=>({...Y,setPasswordManually:me.target.checked,password:me.target.checked?Y.password:""}))}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),q.setPasswordManually&&n.jsx("div",{className:"mt-3",children:n.jsx("input",{type:"text",value:q.password,onChange:me=>ce(Y=>({...Y,password:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter initial password"})})]})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Tt,{onClick:()=>G(!1),variant:"subtle",children:"Cancel"}),n.jsx(Tt,{onClick:Rt,disabled:B||!q.name.trim()||!q.email.trim()||q.setPasswordManually&&q.password.trim().length<6,variant:"primary",children:B?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Creating"]}):n.jsxs(n.Fragment,{children:[n.jsx(Lr,{className:"h-4 w-4 mr-2"}),"Create"]})})]})]})}),n.jsx(It,{children:L&&n.jsxs(um,{onClose:()=>R(null),title:"Initial Password",children:[n.jsx("div",{className:"text-sm text-slate-700",children:"This user was created with an auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(Zc,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:L}),n.jsxs(Tt,{onClick:()=>{navigator.clipboard.writeText(L),I.success("Copied!")},className:"ml-auto",children:[n.jsx(da,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(Tt,{onClick:()=>R(null),variant:"primary",children:"Got it"})})]})}),n.jsx(It,{children:C&&T&&n.jsxs(um,{onClose:()=>P(!1),title:"Edit User",children:[n.jsxs("div",{className:"space-y-4",children:[n.jsx(Kc,{label:"Name",children:n.jsx("input",{value:T.name,onChange:me=>E(Y=>({...Y,name:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter name"})}),n.jsx(Kc,{label:"Email",children:n.jsx("input",{type:"email",value:T.email,onChange:me=>E(Y=>({...Y,email:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter email"})}),n.jsx(Kc,{label:"Role",children:n.jsxs("select",{value:T.role,onChange:me=>E(Y=>({...Y,role:me.target.value})),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"user",children:"User"}),n.jsx("option",{value:"admin",children:"Admin"})]})})]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Tt,{onClick:()=>P(!1),variant:"subtle",children:"Cancel"}),n.jsx(Tt,{onClick:fe,disabled:$||!T.name||!T.email,variant:"primary",children:$?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Saving"]}):"Save"})]})]})}),n.jsx(It,{children:F&&n.jsxs(um,{onClose:()=>K(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete"," ",n.jsx("b",{className:"break-words",children:((ua=e.find(me=>me.id===F))==null?void 0:ua.name)||"this user"}),"? This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Tt,{onClick:()=>K(null),variant:"subtle",children:"Cancel"}),n.jsx(Tt,{onClick:nt,disabled:m===F,variant:"danger",children:m===F?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Deleting"]}):"Delete"})]})]})}),n.jsx(It,{children:Z&&n.jsx(um,{onClose:()=>{W(null),Ee(null),xe(!1),Be("")},title:"Reset Password",children:je?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"text-sm text-slate-700",children:"Auto-generated password. Copy it now and share securely."}),n.jsxs("div",{className:"mt-3 flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(Zc,{className:"h-4 w-4 text-slate-600"}),n.jsx("code",{className:"font-mono text-slate-900 break-all",children:je}),n.jsxs(Tt,{onClick:()=>{navigator.clipboard.writeText(je),I.success("Copied!")},className:"ml-auto",children:[n.jsx(da,{className:"h-4 w-4 mr-2"}),"Copy"]})]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(Tt,{onClick:()=>{W(null),Ee(null)},variant:"primary",children:"Done"})})]}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"space-y-3",children:[n.jsxs("label",{className:"flex items-center gap-2 text-sm",children:[n.jsx("input",{type:"checkbox",checked:Ae,onChange:me=>xe(me.target.checked)}),n.jsx("span",{children:"Set password manually (otherwise itll auto-generate)"})]}),Ae&&n.jsx("input",{type:"text",value:Fe,onChange:me=>Be(me.target.value),className:"w-full rounded-xl border border-slate-300 px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",placeholder:"Enter new password"})]}),n.jsxs("div",{className:"mt-5 flex flex-wrap justify-end gap-2",children:[n.jsx(Tt,{onClick:()=>{W(null),xe(!1),Be("")},variant:"subtle",children:"Cancel"}),n.jsx(Tt,{onClick:Pt,disabled:_e||Ae&&Fe.trim().length<6,variant:"primary",children:_e?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"}),"Updating"]}):"Reset"})]})]})})}),n.jsx(It,{children:z&&n.jsx(uhe,{onClose:()=>U(!1),title:"User Details",children:ae?n.jsxs("div",{className:"grid place-content-center h-48",children:[n.jsx(Ge,{className:"h-8 w-8 animate-spin text-blue-500 mx-auto mb-2"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading details"})]}):se?n.jsxs("div",{className:"space-y-6",children:[n.jsx("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:n.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[n.jsx(W1,{url:M0(se.user.profile_photo_url||se.user.profile_photo),name:se.user.name,size:48}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-bold text-slate-900 truncate",children:se.user.name}),n.jsx("div",{className:"text-sm text-slate-600 break-words",children:se.user.email}),n.jsx("div",{className:"mt-1",children:n.jsx("span",{className:`inline-flex px-2 py-1 rounded-full border text-xs font-semibold ${Y1(se.user.role)}`,children:se.user.role})})]})]})}),n.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[n.jsx(cm,{label:"Phone Numbers",value:se.counts.purchased_numbers}),n.jsx(cm,{label:"Assistants",value:se.counts.assistants}),n.jsx(cm,{label:"Call Logs",value:se.counts.call_logs}),n.jsx(cm,{label:"Documents",value:se.counts.documents}),n.jsx(cm,{label:"Leads",value:se.counts.leads})]}),n.jsx(dm,{title:"Phone Numbers",items:(se.purchased_numbers||[]).map(me=>({k:me.id,primary:me.phone_number,secondary:me.iso_country||me.region||"",badge:me.friendly_name}))}),n.jsx(dm,{title:"Assistants",items:(se.assistants||[]).map(me=>({k:me.id,primary:me.name||me.vapi_assistant_id,secondary:me.provider||me.model||"",badge:me.category}))}),n.jsx(dm,{title:"Documents",items:(se.documents||[]).map(me=>({k:me.id,primary:me.file_name,secondary:me.vapi_file_id}))}),n.jsx(dm,{title:"Leads",items:(se.leads||[]).map(me=>({k:me.id,primary:`${me.first_name||""} ${me.last_name||""}`.trim()||me.email,secondary:(me.email||me.mobile||"").toString(),badge:me.state||me.timezone}))}),n.jsx(dm,{title:"Call Logs",items:(se.call_logs||[]).map(me=>({k:me.id,primary:me.customer_name||me.customer_number||me.call_id,secondary:`${me.status||""}  ${me.call_duration||0}s`}))})]}):n.jsx("div",{className:"text-sm text-slate-600",children:"No details."})})})]})}function D0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function W1({url:e,name:t,size:a=38}){const[r,s]=x.useState(!1),l=(t||"?").split(" ").map(u=>u.charAt(0)).join("").toUpperCase().slice(0,2),c=r||!e;return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:a,height:a},children:c?n.jsx("span",{style:{fontSize:a<40?12:13},children:l}):n.jsx("img",{src:e,alt:t,width:a,height:a,className:"h-full w-full object-cover max-w-full",onError:()=>s(!0)})})}function lm({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function om({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Kc({label:e,children:t}){return n.jsxs("div",{children:[n.jsx("label",{className:"block text-xs font-semibold text-slate-700 mb-1.5",children:e}),t]})}function cm({label:e,value:t}){return n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-xs text-slate-500",children:e}),n.jsx("div",{className:"text-lg font-extrabold text-slate-900",children:t})]})}function dm({title:e,items:t}){const a=(t||[]).slice(0,5);return a.length===0?null:n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"mb-3 text-sm font-semibold text-slate-900",children:e}),n.jsx("div",{className:"space-y-2",children:a.map(r=>n.jsxs("div",{className:"flex items-center justify-between rounded-xl border border-slate-200 bg-slate-50 px-3 py-2 text-sm",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"font-semibold text-slate-800 truncate",children:r.primary}),n.jsx("div",{className:"text-xs text-slate-500 break-words",children:r.secondary})]}),r.badge&&n.jsx("span",{className:"ml-3 shrink-0 rounded-full border border-slate-300 bg-white px-2 py-0.5 text-[10px] font-semibold text-slate-700",children:r.badge})]},r.k))})]})}function um({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Tt,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function uhe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Tt,{onClick:t,variant:"ghost",className:"rounded-lg p-1.5","aria-label":"Close",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const mm="https://aisdr-dbt.ddns.net",mhe=[`${mm}/api/admin/basic-admin-stats`,`${mm}/basic-admin-stats`,`${mm}/api/basic-admin-stats`,`${mm}/statistics`,`${mm}/api/statistics`],ga={blue:"#2563eb",sky:"#0ea5e9",cyan:"#06b6d4",light:"#e6f6ff"},np="3 3";function fhe(){const[e,t]=x.useState({width:0,height:0});return x.useEffect(()=>{const a=()=>t({width:window.innerWidth,height:window.innerHeight});return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),e}function XL(e){const t=Number(e||0);return t>=1e6?(t/1e6).toFixed(1).replace(/\.0$/,"")+"M":t>=1e3?(t/1e3).toFixed(1).replace(/\.0$/,"")+"k":t.toLocaleString()}function aP(e={},t="name",a="value"){return Object.entries(e||{}).map(([r,s])=>({[t]:String(r),[a]:Number(s||0)}))}function mo(e){const a=Math.max(0,Number(e)||0),r=Array.from({length:12},(s,l)=>{const c=l/11,u=Math.sin(c*Math.PI)*.45,m=(Math.random()-.5)*.14,f=Math.max(0,Math.round(a*(.55+u+m)));return{label:`P${l+1}`,value:f}});return r.length&&(r[r.length-1].value=a),r}async function hhe(){var a;const e=localStorage.getItem("token")||localStorage.getItem("auth_token");let t;for(const r of mhe)try{const s=await fetch(r,{headers:{Accept:"application/json",...e?{Authorization:`Bearer ${e}`}:{}},mode:"cors"});if(!s.ok){t=new Error(`HTTP ${s.status}`);continue}const l=await s.json();if(l!=null&&l.success&&((a=l==null?void 0:l.stats)!=null&&a.totals)||l)return l}catch(s){t=s}throw t||new Error("Failed to fetch stats")}function phe({value:e,className:t}){const a=vd(0),[r,s]=x.useState(0);return x.useEffect(()=>{const l=vY(a,Number(e||0),{duration:.5,ease:"easeOut"}),c=a.on("change",u=>s(Math.round(u)));return()=>{l.stop(),c()}},[e]),n.jsx("span",{className:t,children:XL(r)})}function xhe({points:e,width:t,height:a}){if(!e||!e[0])return null;const r=e[0].x;return n.jsxs("g",{children:[n.jsxs("defs",{children:[n.jsxs("linearGradient",{id:"neonStroke",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:"#22d3ee"}),n.jsx("stop",{offset:"100%",stopColor:"#2563eb"})]}),n.jsxs("filter",{id:"neonGlowLine",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})]}),n.jsx("line",{x1:r,x2:r,y1:0,y2:a,stroke:"url(#neonStroke)",strokeWidth:2,opacity:.85,filter:"url(#neonGlowLine)"})]})}function X1(e){const{x:t,y:a,width:r,height:s}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowRect",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx("rect",{x:t,y:a,width:r,height:s,fill:"rgba(34,211,238,0.18)",stroke:"rgba(37,99,235,0.6)",strokeWidth:1,rx:8,filter:"url(#neonGlowRect)"})]})}function rP(e){const{cx:t,cy:a,innerRadius:r,outerRadius:s,startAngle:l,endAngle:c,fill:u}=e;return n.jsxs("g",{children:[n.jsx("defs",{children:n.jsxs("filter",{id:"neonGlowPie",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"3.5",result:"b"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"b"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(rN,{cx:t,cy:a,innerRadius:r,outerRadius:s+6,startAngle:l,endAngle:c,fill:u,stroke:"#ffffff",strokeWidth:2,filter:"url(#neonGlowPie)"})]})}function Gc({title:e,right:t,children:a,className:r=""}){return n.jsxs("div",{className:`relative rounded-3xl border border-slate-200 bg-white p-5 sm:p-6 shadow-xl overflow-hidden ${r}`,children:[n.jsx(ghe,{}),n.jsxs("div",{className:"mb-4 flex items-center justify-between gap-4",children:[n.jsx("h2",{className:"text-sm sm:text-base font-semibold text-slate-700",children:e}),t]}),a]})}function ghe(){return n.jsxs("div",{className:"pointer-events-none absolute inset-0 rounded-3xl",children:[n.jsx("div",{className:"absolute inset-0 rounded-3xl",style:{background:`linear-gradient(90deg, ${ga.cyan}33, transparent)`,filter:"blur(22px)",opacity:.6}}),n.jsx("div",{className:"absolute inset-0 rounded-3xl ring-1 ring-white/60"})]})}function bhe({label:e,value:t,icon:a,color:r,series:s,badge:l="Live",loading:c}){const u=vd(0),m=vd(0),f=hp(m,[-60,60],[10,-10]),h=hp(u,[-60,60],[-10,10]),g=x.useRef(null);return n.jsxs(pe.div,{ref:g,onMouseMove:b=>{var j;const y=(j=g.current)==null?void 0:j.getBoundingClientRect();y&&(u.set(b.clientX-y.left-y.width/2),m.set(b.clientY-y.top-y.height/2))},onMouseLeave:()=>{u.set(0),m.set(0)},style:{rotateX:f,rotateY:h},className:"relative rounded-3xl border border-slate-200 bg-white p-4 sm:p-5 shadow-xl transition-transform duration-300",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:`linear-gradient(135deg, ${r}66, #ffffff00)`}}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"flex h-10 w-10 sm:h-12 sm:w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-white to-slate-50 shadow-inner ring-1 ring-slate-200",children:n.jsx(a,{className:"h-6 w-6 sm:h-7 sm:w-7",style:{color:r}})}),n.jsxs("div",{children:[n.jsx("p",{className:"text-[10px] sm:text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsxs("div",{className:"flex items-baseline gap-2",children:[n.jsx("h3",{className:"text-xl sm:text-2xl font-black text-slate-900",children:c?n.jsx(vhe,{}):n.jsx(phe,{value:t})}),l&&n.jsx("span",{className:"hidden xs:inline-flex rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[9px] sm:text-[10px] font-semibold text-white shadow-sm",children:l})]})]})]}),n.jsx("div",{className:"mt-3 h-[110px] xs:h-[130px] sm:h-[140px] md:h-[160px]",children:c?n.jsx("div",{className:"h-full w-full animate-pulse rounded-xl bg-slate-100"}):n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(MS,{data:s,margin:{top:2,right:8,left:-10,bottom:0},children:[n.jsx("defs",{children:n.jsxs("filter",{id:"glowMini",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]})}),n.jsx(Nl,{strokeDasharray:np,strokeOpacity:.12}),n.jsx(mi,{dataKey:"label",hide:!0}),n.jsx(fi,{hide:!0,domain:[0,"dataMax+"]}),n.jsx(_s,{contentStyle:{borderRadius:12},cursor:n.jsx(xhe,{})}),n.jsx(Xx,{type:"monotone",dataKey:"value",stroke:r,strokeWidth:2.2,dot:!1,activeDot:{r:4},style:{filter:"url(#glowMini)"}})]})})})]})]})}function vhe(){return n.jsx("span",{className:"inline-block h-6 w-10 animate-pulse rounded bg-slate-200 align-middle"})}function yhe(){const{width:e}=fhe(),t=e<768,[a,r]=x.useState(!0),[s,l]=x.useState(""),[c,u]=x.useState(null),[m,f]=x.useState(null),[h,g]=x.useState(null),[b,y]=x.useState({users:0,leads:0,files:0,knowledge_base_documents:0,assistants:0,phone_numbers:0,call_logs:0}),[j,w]=x.useState({}),[S,k]=x.useState({attached_to_assistant:0,unattached:0}),[_,C]=x.useState({transferred:0,not_transferred:0,by_status:{}}),P=async()=>{try{r(!0),l("");const z=await hhe(),U=(z==null?void 0:z.stats)||z||{},ae=(U==null?void 0:U.totals)||{};y({users:Number(ae.users||0),leads:Number(ae.leads||0),files:Number(ae.files||0),knowledge_base_documents:Number(ae.knowledge_base_documents||0),assistants:Number(ae.assistants||0),phone_numbers:Number(ae.phone_numbers||0),call_logs:Number(ae.call_logs||0)}),w((U==null?void 0:U.users_by_role)||{}),k((U==null?void 0:U.phone_numbers)||{attached_to_assistant:0,unattached:0}),C((U==null?void 0:U.call_logs)||{transferred:0,not_transferred:0,by_status:{}}),u((z==null?void 0:z.generated_at)||new Date().toISOString())}catch(z){const U=(z==null?void 0:z.message)||"Failed to load stats",ae=U.includes("CORS")?"  Check FastAPI CORSMiddleware allow_origins/allow_credentials.":"";l(U+ae)}finally{r(!1)}};x.useEffect(()=>{P()},[]);const T=x.useMemo(()=>[{key:"users",label:"Users",value:b.users,icon:Ca,color:ga.blue,series:mo(b.users)},{key:"leads",label:"Leads",value:b.leads,icon:vi,color:ga.cyan,series:mo(b.leads)},{key:"files",label:"Files",value:b.files,icon:mf,color:ga.sky,series:mo(b.files)},{key:"assistants",label:"Assistants",value:b.assistants,icon:Fw,color:ga.cyan,series:mo(b.assistants)},{key:"phone_numbers",label:"Phone Numbers",value:b.phone_numbers,icon:gt,color:ga.sky,series:mo(b.phone_numbers)},{key:"knowledge_base_documents",label:"KB Docs",value:b.knowledge_base_documents,icon:id,color:ga.blue,series:mo(b.knowledge_base_documents)},{key:"call_logs",label:"Call Logs",value:b.call_logs,icon:cp,color:ga.cyan,series:mo(b.call_logs)}],[b]),E=x.useMemo(()=>aP(j,"name","value"),[j]),$=x.useMemo(()=>[{name:"Attached",value:Number(S.attached_to_assistant||0)},{name:"Unattached",value:Number(S.unattached||0)}],[S]),M=x.useMemo(()=>[{name:"Transferred",value:Number(_.transferred||0)},{name:"Not Transferred",value:Number(_.not_transferred||0)}],[_]),F=x.useMemo(()=>aP(_.by_status||{},"status","count"),[_]),K=x.useMemo(()=>[{name:"Users",value:b.users},{name:"Leads",value:b.leads},{name:"Files",value:b.files},{name:"Assistants",value:b.assistants},{name:"Phones",value:b.phone_numbers},{name:"KB",value:b.knowledge_base_documents},{name:"Calls",value:b.call_logs}],[b]);return n.jsxs("div",{className:"min-h-[100dvh] w-full bg-white text-slate-900",children:[n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-72 sm:h-96 w-72 sm:w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),s&&n.jsx("div",{className:"w-full px-3 sm:px-4 pt-4 mb-6",children:n.jsx("div",{className:"rounded-2xl border border-red-200 bg-red-50 p-4 text-sm text-red-700 shadow",children:s})}),n.jsx("header",{className:"w-full px-3 sm:px-4 pt-8 pb-6",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl md:text-4xl font-black tracking-tight bg-gradient-to-r from-slate-900 to-blue-700 bg-clip-text text-transparent",children:"Admin Dashboard"}),n.jsx("p",{className:"mt-1 text-xs sm:text-sm md:text-base text-slate-600",children:"Neon-lite analytics  blue / cyan palette."})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("button",{onClick:P,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3 py-2 text-sm font-medium text-slate-700 shadow-sm hover:bg-slate-50",children:[n.jsx(Ge,{className:"h-4 w-4"}),"Refresh"]}),n.jsx("div",{className:"text-[10px] sm:text-xs text-slate-500",children:c?`Updated: ${new Date(c).toLocaleString()}`:""})]})]})}),n.jsxs("main",{className:"w-full px-3 sm:px-4 pb-12",children:[n.jsx("section",{className:"grid grid-cols-1 xs:grid-cols-2 md:grid-cols-3 2xl:grid-cols-4 gap-4 sm:gap-5",children:T.map(z=>n.jsx(bhe,{label:z.label,value:z.value,icon:z.icon,color:z.color,series:z.series,loading:a},z.key))}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-2 gap-5 xl:gap-6",children:[n.jsx(Gc,{title:"Overview by Metric",right:n.jsx(fm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(Q0,{data:K,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsxs("defs",{children:[n.jsxs("filter",{id:"glowBarMain",x:"-50%",y:"-50%",width:"200%",height:"200%",children:[n.jsx("feGaussianBlur",{stdDeviation:"2.5",result:"blur"}),n.jsxs("feMerge",{children:[n.jsx("feMergeNode",{in:"blur"}),n.jsx("feMergeNode",{in:"SourceGraphic"})]})]}),n.jsxs("linearGradient",{id:"fillBars",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ga.sky}),n.jsx("stop",{offset:"100%",stopColor:ga.light})]})]}),n.jsx(Nl,{strokeDasharray:np,strokeOpacity:.2}),n.jsx(mi,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(fi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:z=>z>=1e3?`${Math.round(z/1e3)}k`:z}),n.jsx(_s,{contentStyle:{borderRadius:12},cursor:n.jsx(X1,{})}),n.jsx(Om,{dataKey:"value",fill:"url(#fillBars)",radius:[10,10,6,6],style:{filter:"url(#glowBarMain)"},maxBarSize:t?38:60})]})})})}),n.jsx(Gc,{title:"Users by Role",right:n.jsx(fm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] xl:h-[360px] w-full",children:n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(Q0,{data:E,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"roleFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ga.blue}),n.jsx("stop",{offset:"100%",stopColor:"#eaf2ff"})]})}),n.jsx(Nl,{strokeDasharray:np,strokeOpacity:.2}),n.jsx(mi,{dataKey:"name",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(fi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:z=>z>=1e3?`${Math.round(z/1e3)}k`:z}),n.jsx(_s,{contentStyle:{borderRadius:12},cursor:n.jsx(X1,{})}),n.jsx(Om,{dataKey:"value",fill:"url(#roleFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsxs("section",{className:"mt-8 grid grid-cols-1 xl:grid-cols-3 gap-5 xl:gap-6",children:[n.jsx(Gc,{title:"Phone Numbers  Attached vs Unattached",right:n.jsx(fm,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(ex,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradPhones",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ga.cyan}),n.jsx("stop",{offset:"100%",stopColor:ga.blue})]})}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsxs(af,{data:$,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:m,onMouseEnter:(z,U)=>f(U),onMouseLeave:()=>f(null),activeShape:rP,label:t?({name:z,percent:U})=>U>=.18?z:"":!1,labelLine:!1,children:[n.jsx(li,{fill:"url(#pieGradPhones)"}),n.jsx(li,{fill:"#bfe9ff"})]})]})})})}),n.jsx(Gc,{title:"Calls  Transferred vs Not",right:n.jsx(fm,{text:"Donut"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(ex,{children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"pieGradCalls",x1:"0",y1:"0",x2:"1",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ga.sky}),n.jsx("stop",{offset:"100%",stopColor:ga.blue})]})}),n.jsx(_s,{contentStyle:{borderRadius:12}}),n.jsxs(af,{data:M,dataKey:"value",nameKey:"name",cx:"50%",cy:"50%",outerRadius:t?90:110,innerRadius:t?58:70,paddingAngle:2,stroke:"#ffffff",strokeWidth:2,activeIndex:h,onMouseEnter:(z,U)=>g(U),onMouseLeave:()=>g(null),activeShape:rP,label:t?({name:z,percent:U})=>U>=.18?z:"":!1,labelLine:!1,children:[n.jsx(li,{fill:"url(#pieGradCalls)"}),n.jsx(li,{fill:"#d7eeff"})]})]})})})}),n.jsx(Gc,{title:"Call Logs  by Status",right:n.jsx(fm,{text:"Bars"}),children:n.jsx("div",{className:"h-[240px] sm:h-[300px] md:h-[340px] w-full",children:n.jsx(ks,{width:"100%",height:"100%",children:n.jsxs(Q0,{data:F,margin:{top:10,right:t?8:20,left:t?0:-10,bottom:4},barCategoryGap:t?30:20,children:[n.jsx("defs",{children:n.jsxs("linearGradient",{id:"statusFill",x1:"0",y1:"0",x2:"0",y2:"1",children:[n.jsx("stop",{offset:"0%",stopColor:ga.cyan}),n.jsx("stop",{offset:"100%",stopColor:"#ecfbff"})]})}),n.jsx(Nl,{strokeDasharray:np,strokeOpacity:.2}),n.jsx(mi,{dataKey:"status",tick:{fontSize:t?10:12},interval:t?0:"preserveEnd",tickMargin:8,height:t?28:36}),n.jsx(fi,{tick:{fontSize:t?10:12},width:t?28:40,tickFormatter:z=>z>=1e3?`${Math.round(z/1e3)}k`:z}),n.jsx(_s,{contentStyle:{borderRadius:12},cursor:n.jsx(X1,{})}),n.jsx(Om,{dataKey:"count",fill:"url(#statusFill)",radius:[10,10,6,6],maxBarSize:t?38:60})]})})})})]}),n.jsx("section",{className:"mt-8",children:n.jsx(Gc,{title:"Status Breakdown (Compact List)",children:a?n.jsx("div",{className:"h-24 w-full animate-pulse rounded-xl bg-slate-100"}):n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:[F.length===0&&n.jsx("div",{className:"text-sm text-slate-500",children:"No call status data."}),F.map(z=>n.jsxs("div",{className:"flex items-center justify-between rounded-2xl border border-slate-200 bg-white px-4 py-3 shadow-sm",children:[n.jsx("span",{className:"text-sm font-medium text-slate-700 truncate pr-3",children:z.status}),n.jsx("span",{className:"rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-0.5 text-[10px] font-semibold text-white shadow-sm",children:XL(z.count)})]},z.status))]})})}),n.jsxs("footer",{className:"mt-10 mb-2 w-full text-center text-xs text-slate-500",children:[" ",new Date().getFullYear(),"  Minimal neon dashboard."]})]})]})}function fm({text:e}){return n.jsx("span",{className:"inline-flex items-center rounded-full bg-gradient-to-r from-cyan-500 to-blue-600 px-2.5 py-1 text-[10px] font-semibold text-white shadow-sm",children:e})}function jhe(){const e=rn(),[t,a]=x.useState(!1),[r,s]=x.useState(!1),[l,c]=x.useState(["","","",""]),[u,m]=x.useState({name:"",email:"",password:""}),[f,h]=x.useState(!1),[g,b]=x.useState({profile:!1,update:!1,delete:!1,otp:!1}),y=x.useRef([]),j=x.useRef(null),w=async()=>{var $,M;b(F=>({...F,profile:!0}));try{const F=localStorage.getItem("token");if(!F){I.error("Authentication required. Please login again."),e("/login");return}const K=await fetch("http://localhost:8000/api/search-user",{headers:{Authorization:`Bearer ${F}`}});if(!K.ok){const U=await K.json();throw new Error(U.detail||"Failed to fetch user data")}const z=await K.json();m({name:(($=z.users)==null?void 0:$.name)||"",email:((M=z.users)==null?void 0:M.email)||"",password:""})}catch(F){I.error(F.message),F.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"))}finally{b(F=>({...F,profile:!1}))}};x.useEffect(()=>{w()},[]);const S=()=>u.name.trim()?u.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(u.email)?u.password&&u.password.length<8?(I.error("Password must be at least 8 characters long"),!1):!0:(I.error("Please enter a valid email address"),!1):(I.error("Email is required"),!1):(I.error("Name is required"),!1),k=async $=>{if($.preventDefault(),!!S()){b(M=>({...M,update:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F={name:u.name,email:u.email,...u.password&&{password:u.password}},K=await fetch("http://localhost:8000/api/update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify(F)});if(!K.ok){const U=await K.json();throw new Error(U.detail||"Failed to update profile")}const z=await K.json();z!=null&&z.otp_needed?(s(!0),setTimeout(()=>{var U;return(U=y.current[0])==null?void 0:U.focus()},0),I.info("Verification code sent to your email")):(localStorage.setItem("name",F.name),I.success("Profile updated successfully"),m(U=>({...U,password:""})))}catch(M){I.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,update:!1}))}}},_=async $=>{if($.preventDefault(),l.some(M=>!M)){I.error("Please enter the complete verification code");return}b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/update-email",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email,code:l.join(""),name:u.name,...u.password&&{password:u.password}})});if(!F.ok){const K=await F.json();throw new Error(K.detail||"Verification failed")}I.success("Account verified successfully"),s(!1),c(["","","",""]),localStorage.setItem("name",u.name),localStorage.setItem("email",u.email),m(K=>({...K,password:""}))}catch(M){I.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}},C=async()=>{b($=>({...$,delete:!0}));try{const $=localStorage.getItem("token");if(!$)throw new Error("Authentication required. Please login again.");const M=await fetch("http://localhost:8000/api/delete-account",{method:"DELETE",headers:{Authorization:`Bearer ${$}`}});if(!M.ok){const F=await M.json();throw new Error(F.detail||"Failed to delete account")}I.success("Account deleted successfully"),localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login")}catch($){I.error($.message),$.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b($=>({...$,delete:!1}))}},P=($,M)=>{var F;if(/^\d?$/.test(M)){const K=[...l];K[$]=M,c(K),M&&$<3&&((F=y.current[$+1])==null||F.focus())}},T=($,M)=>{var F;M.key==="Backspace"&&!l[$]&&$>0&&((F=y.current[$-1])==null||F.focus())},E=async()=>{var $;b(M=>({...M,otp:!0}));try{const M=localStorage.getItem("token");if(!M)throw new Error("Authentication required. Please login again.");const F=await fetch("http://localhost:8000/api/resend-otp-update-profile",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${M}`},body:JSON.stringify({email:u.email})});if(!F.ok){const K=await F.json();throw new Error(K.detail||"Failed to resend OTP")}c(["","","",""]),($=y.current[0])==null||$.focus(),I.success("OTP resent successfully")}catch(M){I.error(M.message),M.message.includes("Authentication")&&(localStorage.removeItem("token"),localStorage.removeItem("role"),e("/login"))}finally{b(M=>({...M,otp:!1}))}};return n.jsx("div",{className:"min-h-screen bg-gray-50 flex",children:n.jsxs("div",{className:"flex-1 px-4 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"max-w-4xl mx-auto py-6 sm:py-8 lg:py-12 space-y-6 sm:space-y-8",children:[(g.profile||g.update||g.delete||g.otp)&&n.jsx("div",{className:"flex justify-center items-center mb-4",children:n.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]})}),r?n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(Cw,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Email Verification"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[n.jsxs("div",{className:"flex items-center mb-3",children:[n.jsx(Cw,{className:"w-5 h-5 text-blue-600 mr-2"}),n.jsx("h3",{className:"font-semibold text-blue-900",children:"Verification Required"})]}),n.jsxs("p",{className:"text-sm text-blue-700 mb-4",children:["We've sent a 4-digit verification code to"," ",n.jsx("strong",{children:u.email}),". Please enter it below."]}),n.jsxs("form",{onSubmit:_,children:[n.jsx("div",{className:"flex justify-center gap-3 mb-4",children:l.map(($,M)=>n.jsx("input",{type:"text",maxLength:"1",value:$,onChange:F=>P(M,F.target.value),onKeyDown:F=>T(M,F),ref:F=>y.current[M]=F,className:"w-12 h-12 sm:w-14 sm:h-14 text-center text-xl font-bold text-gray-900 bg-white border-2 border-blue-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all",placeholder:"0",disabled:g.otp},M))}),n.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[n.jsx("button",{type:"submit",disabled:l.some($=>!$)||g.otp,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.otp?n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Verifying..."]}):n.jsxs("div",{className:"flex items-center justify-center",children:[n.jsx(kw,{className:"w-4 h-4 mr-2"}),"Verify OTP"]})}),n.jsx("button",{type:"button",onClick:E,disabled:g.otp,className:"bg-gray-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Resend OTP"})]})]})]})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:n.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[n.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(dd,{className:"w-6 h-6 sm:w-8 sm:h-8 text-white"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold text-gray-900",children:"Account Settings"}),n.jsx("p",{className:"text-base sm:text-lg text-gray-600 mt-1",children:"Manage your account information and preferences"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-600 rounded-lg flex items-center justify-center",children:n.jsx(dd,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"Profile Information"})]}),n.jsxs("form",{ref:j,onSubmit:k,children:[n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(dd,{className:"w-4 h-4 inline mr-2 text-blue-500"}),"Full Name"]}),n.jsx("input",{type:"text",value:u.name,onChange:$=>m({...u,name:$.target.value}),placeholder:"Enter your full name",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(RL,{className:"w-4 h-4 inline mr-2 text-green-500"}),"Email Address"]}),n.jsx("input",{type:"email",value:u.email,onChange:$=>m({...u,email:$.target.value}),placeholder:"Enter your email address",className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500 text-sm sm:text-base",disabled:g.profile||g.update,required:!0})]}),n.jsxs("div",{className:"lg:col-span-2",children:[n.jsxs("label",{className:"block text-sm font-bold text-gray-700 mb-3",children:[n.jsx(LL,{className:"w-4 h-4 inline mr-2 text-purple-500"}),"Password (optional)"]}),n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:t?"text":"password",value:u.password,onChange:$=>m({...u,password:$.target.value}),placeholder:"Enter new password",className:"w-full px-4 py-3 pr-12 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 text-sm sm:text-base",disabled:g.profile||g.update,minLength:8}),n.jsx("button",{type:"button",onClick:()=>a(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",disabled:g.profile||g.update,children:t?n.jsx(ym,{className:"w-5 h-5"}):n.jsx(jm,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:u.password?"Password must be at least 8 characters":"Leave blank to keep current password"})]})]}),n.jsx("div",{className:"mt-6",children:n.jsx("button",{type:"submit",disabled:g.profile||g.update,className:"bg-blue-600 text-white px-6 py-3 rounded-lg font-bold hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:g.update?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Saving..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(kw,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})})]})]}),n.jsxs("div",{className:"bg-white rounded-lg border border-red-200 p-4 sm:p-6 lg:p-8",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[n.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(tx,{className:"w-4 h-4 sm:w-5 sm:h-5 text-white"})}),n.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-red-900",children:"Danger Zone"})]}),n.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:[n.jsx("h3",{className:"font-semibold text-red-900 mb-2",children:"Delete Account"}),n.jsx("p",{className:"text-sm text-red-700 mb-4",children:"Once you delete your account, there is no going back. Please be certain."}),n.jsx("button",{onClick:()=>h(!0),disabled:g.profile||g.update,className:"bg-red-600 text-white px-4 py-2 rounded-lg font-semibold hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:n.jsxs("div",{className:"flex items-center",children:[n.jsx(Aw,{className:"w-4 h-4 mr-2"}),"Delete Account"]})})]})]})]}),f&&n.jsx("div",{className:"fixed inset-0 flex items-center justify-center z-50  bg-opacity-50 backdrop-blur-sm",children:n.jsxs("div",{className:"bg-white rounded-lg shadow-xl p-6 max-w-md w-full mx-4",children:[n.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-red-600 rounded-lg flex items-center justify-center",children:n.jsx(tx,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Confirm Delete"})]}),n.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to delete your account? This action cannot be undone and all your data will be permanently removed."}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>h(!1),disabled:g.delete,className:"px-4 py-2 rounded-lg bg-gray-600 hover:bg-gray-700 text-white font-medium transition-colors",children:"Cancel"}),n.jsx("button",{onClick:()=>{h(!1),C()},disabled:g.delete,className:"px-4 py-2 rounded-lg bg-red-600 hover:bg-red-700 text-white font-medium transition-colors",children:g.delete?n.jsxs("div",{className:"flex items-center",children:[n.jsxs("svg",{className:"animate-spin h-4 w-4 mr-2",fill:"none",viewBox:"0 0 24 24",children:[n.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),n.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8v4a4 4 0 00-4 4H4z"})]}),"Deleting..."]}):n.jsxs("div",{className:"flex items-center",children:[n.jsx(Aw,{className:"w-4 h-4 mr-2"}),"Delete Forever"]})})]})]})})]}),n.jsxs("div",{className:"mt-8 relative overflow-hidden rounded-2xl border border-slate-200 bg-white shadow-sm",children:[n.jsx("div",{className:"absolute -inset-x-20 -top-14 h-28 bg-gradient-to-r from-blue-600/10 via-cyan-500/10 to-blue-600/10 blur-2xl"}),n.jsxs("div",{className:"relative p-5 sm:p-6 flex flex-col sm:flex-row items-center justify-between gap-3",children:[n.jsx("p",{className:"text-sm text-slate-600 text-center sm:text-left",children:"By using this app you agree to our Terms of Service and Privacy Policy"}),n.jsxs("div",{className:"flex items-center gap-4 text-sm font-semibold",children:[n.jsx("a",{href:"/terms",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Terms of Service"}),n.jsx("span",{className:"hidden sm:inline text-slate-300",children:""}),n.jsx("a",{href:"/privacy-policy",className:"text-blue-600 hover:text-blue-700 hover:underline transition-colors",children:"Privacy Policy"})]})]})]})]})})}const ap="https://aisdr-dbt.ddns.net",Z1={CALL_LOGS:`${ap}/api/admin/call-logs`,VAPI_CALL_LOGS:`${ap}/api/admin/vapi-call-logs`,CALL_LOG:e=>`${ap}/api/admin/call-logs/${e}`},whe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600",sP=e=>{if(!e)return null;if(/^https?:\/\//i.test(e))return e;const t=e.startsWith("/")?e:`/${e}`;return`${ap}${t}`},en=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t},hm=e=>{if(!e)return"Unknown";try{const t=new Date(e);return Number.isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}},R0=e=>{if(e==null||Number.isNaN(Number(e)))return"Unknown";const t=Number(e),a=Math.floor(t/60),r=Math.floor(t%60);return`${a}m ${r}s`},Yc=e=>String(e??"").toLowerCase();function iP(e=[],t=[]){const a=[],r=new Map;for(const s of e){const l={_key:s.call_id?`local:${s.call_id}`:`local-id:${s.id}`,source:"local",id:s.id,call_id:s.call_id||null,started_at:s.call_started_at||null,ended_at:s.call_ended_at||null,duration:s.call_duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.call_ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:s.user||null,assistant_id:null,phone_number_id:null,summary:null,transcript:null,analysis:null,recording_url:null,created_at:null,updated_at:null};a.push(l),l.call_id&&r.set(l.call_id,l)}for(const s of t){const l=s.call_id&&r.get(s.call_id),c={_key:s.call_id?`vapi:${s.call_id}`:`vapi-id:${s.id}`,source:"vapi",id:s.id,call_id:s.call_id||null,started_at:s.started_at||s.created_at||null,ended_at:s.ended_at||null,duration:s.duration??null,cost:s.cost??null,status:s.status||"",ended_reason:s.ended_reason||"",transferred:!!s.is_transferred,criteria_satisfied:s.criteria_satisfied,customer_name:s.customer_name||"",customer_number:s.customer_number||"",user:null,assistant_id:s.assistant_id||null,phone_number_id:s.phone_number_id||null,summary:s.summary||null,transcript:s.transcript||null,analysis:s.analysis||null,recording_url:s.recording_url||null,created_at:s.created_at||null,updated_at:s.updated_at||null};l?(l.assistant_id=l.assistant_id||c.assistant_id,l.phone_number_id=l.phone_number_id||c.phone_number_id,l.summary=c.summary??l.summary,l.transcript=c.transcript??l.transcript,l.analysis=c.analysis??l.analysis,l.recording_url=c.recording_url??l.recording_url,l.created_at=c.created_at??l.created_at,l.updated_at=c.updated_at??l.updated_at,l.source="both"):(a.push(c),c.call_id&&r.set(c.call_id,c))}return a.sort((s,l)=>new Date(l.started_at||0)-new Date(s.started_at||0)),a}function lP(e,t){const a=new Blob([t],{type:"text/plain;charset=utf-8"}),r=URL.createObjectURL(a),s=document.createElement("a");s.href=r,s.download=e,s.click(),URL.revokeObjectURL(r)}function Nhe(e){var s,l,c;const t=["id","call_id","source","customer_name","customer_number","started_at","ended_at","duration","cost","status","ended_reason","transferred","criteria_satisfied","assistant_id","phone_number_id","user_id","user_name","user_email"],a=u=>{const m=u==null?"":String(u);return/[",\n]/.test(m)?`"${m.replaceAll('"','""')}"`:m},r=[t.join(",")];for(const u of e)r.push([u.id??"",u.call_id??"",u.source??"",u.customer_name??"",u.customer_number??"",u.started_at??"",u.ended_at??"",u.duration??"",u.cost??"",u.status??"",u.ended_reason??"",u.transferred??"",u.criteria_satisfied??"",u.assistant_id??"",u.phone_number_id??"",((s=u.user)==null?void 0:s.id)??"",((l=u.user)==null?void 0:l.name)??"",((c=u.user)==null?void 0:c.email)??""].map(a).join(","));return r.join(`
`)}function She(){var Te;const[e,t]=x.useState([]),[a,r]=x.useState([]),[s,l]=x.useState([]),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState(""),[j,w]=x.useState("all"),[S,k]=x.useState("all"),[_,C]=x.useState(""),[P,T]=x.useState(""),[E,$]=x.useState("started_at"),[M,F]=x.useState("desc"),[K,z]=x.useState(1),U=10,[ae,ke]=x.useState(!1),[se,O]=x.useState(null),[H,G]=x.useState(null),[B,A]=x.useState(null),[L,R]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),q=x.useCallback(async()=>{if(L){f("You're in impersonation mode. Exit impersonation to use admin tools."),t([]),r([]),l([]);return}const ee=localStorage.getItem("token");if(!ee){f("No auth token found."),I.error("No authentication token found."),t([]),r([]),l([]);return}try{u(!0),f("");const we={Authorization:`Bearer ${ee}`,Accept:"application/json"},[De,Ue]=await Promise.all([fetch(Z1.CALL_LOGS,{headers:we,mode:"cors"}),h?fetch(Z1.VAPI_CALL_LOGS,{headers:we,mode:"cors"}):Promise.resolve(null)]);if(!(De!=null&&De.ok)){const Ce=await De.text();throw new Error(`Call logs HTTP ${De.status}${Ce?`  ${Ce}`:""}`)}const Ve=await De.json(),rt=Array.isArray(Ve==null?void 0:Ve.call_logs)?Ve.call_logs:[];let tt=[];if(h&&Ue){if(!Ue.ok){const Q=await Ue.text();throw new Error(`VAPI call logs HTTP ${Ue.status}${Q?`  ${Q}`:""}`)}const Ce=await Ue.json();tt=Array.isArray(Ce==null?void 0:Ce.call_logs)?Ce.call_logs:[]}t(rt),r(tt),l(iP(rt,tt))}catch(we){f((we==null?void 0:we.message)||"Failed to load call logs"),I.error((we==null?void 0:we.message)||"Failed to load call logs")}finally{u(!1)}},[h,L]);x.useEffect(()=>{q()},[q]),x.useEffect(()=>{l(iP(e,h?a:[]))},[e,a,h]);const ce=x.useMemo(()=>{const ee=new Set(s.map(we=>(we.status||"").toLowerCase()).filter(Boolean));return["all",...Array.from(ee)]},[s]),Z=x.useMemo(()=>{let ee=[...s];if(b.trim()){const we=b.trim().toLowerCase();ee=ee.filter(De=>{var Ue,Ve;return Yc(De.customer_name).includes(we)||Yc(De.customer_number).includes(we)||Yc(De.call_id).includes(we)||Yc((Ue=De.user)==null?void 0:Ue.email).includes(we)||Yc((Ve=De.user)==null?void 0:Ve.name).includes(we)})}if(j!=="all"&&(ee=ee.filter(we=>Yc(we.status)===j)),S!=="all"){const we=S==="yes";ee=ee.filter(De=>!!De.transferred===we)}if(_){const we=new Date(_).getTime();ee=ee.filter(De=>new Date(De.started_at||0).getTime()>=we)}if(P){const we=new Date(P).getTime();ee=ee.filter(De=>new Date(De.started_at||0).getTime()<=we)}return ee.sort((we,De)=>{const Ue=M==="asc"?1:-1,Ve=we[E],rt=De[E];return E.includes("date")||E.includes("started")?Ue*(new Date(Ve||0)-new Date(rt||0)):Ue*((Ve??0)-(rt??0))}),ee},[s,b,j,S,_,P,E,M]),W=Math.max(1,Math.ceil(Z.length/U)),_e=K*U,te=_e-U,je=Z.slice(te,_e);x.useEffect(()=>{z(1)},[b,j,S,_,P,E,M]);const Ee=x.useMemo(()=>{const ee=Z.length,we=Z.filter(rt=>rt.transferred).length,De=ee-we,Ue=Z.reduce((rt,tt)=>rt+(Number.isFinite(Number(tt.duration))?Number(tt.duration):0),0),Ve=Z.reduce((rt,tt)=>rt+(Number.isFinite(Number(tt.cost))?Number(tt.cost):0),0);return{total:ee,transferred:we,notTransferred:De,totalDuration:Ue,totalCost:Ve}},[Z]),Ae=ee=>{O(ee),ke(!0)},xe=ee=>G((ee==null?void 0:ee.id)||null),Fe=async()=>{const ee=H;if(!ee)return;const we=localStorage.getItem("token");if(!we)return I.error("No authentication token found.");try{A(ee);const De=await fetch(Z1.CALL_LOG(ee),{method:"DELETE",headers:{Authorization:`Bearer ${we}`,Accept:"application/json"}}),Ue=await De.json();if(!De.ok||!(Ue!=null&&Ue.success))throw new Error((Ue==null?void 0:Ue.detail)||(Ue==null?void 0:Ue.message)||`HTTP ${De.status}`);I.success(" Call log deleted"),G(null),t(Ve=>Ve.filter(rt=>rt.id!==ee))}catch(De){I.error((De==null?void 0:De.message)||"Delete failed")}finally{A(null)}},Be=()=>{const ee=Nhe(Z),we=new Date().toISOString().replace(/[:.]/g,"-");lP(`call-history-${we}.csv`,ee)},ve=()=>{y(""),w("all"),k("all"),C(""),T(""),$("started_at"),F("desc")},le=()=>{const ee=localStorage.getItem("admin_token_backup");if(!ee){I.error("No admin backup token found.");return}localStorage.setItem("token",ee),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),R(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[L&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(pv,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:en((Te=L.acting_as)==null?void 0:Te.email)})]})]}),n.jsx(Ia,{onClick:le,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:"Exit"})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(cp,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${whe}`,children:"Call History"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View, filter, export, and manage call logs from local DB and VAPI."})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("div",{className:"text-xs sm:text-sm flex items-center gap-2 rounded-xl border border-slate-200 bg-slate-50 px-3 py-2",children:[n.jsx(Kw,{className:"h-4 w-4"}),n.jsxs("label",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",checked:h,onChange:ee=>g(ee.target.checked),disabled:!!L,"aria-label":"Include VAPI logs"}),"Include VAPI logs"]})]}),n.jsxs(Ia,{onClick:Be,disabled:Z.length===0||!!L,"aria-label":"Export CSV",children:[n.jsx(Im,{className:"mr-2 h-4 w-4"})," Export CSV"]}),n.jsx(Ia,{onClick:q,disabled:c||!!L,"aria-label":"Refresh",children:c?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})]})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(Q1,{label:"Total Calls",value:Ee.total,Icon:pv,tone:"blue"}),n.jsx(Q1,{label:"Transferred",value:Ee.transferred,Icon:kn,tone:"cyan"}),n.jsx(Q1,{label:"Not Transferred",value:Ee.notTransferred,Icon:cr,tone:"blue"}),n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br from-cyan-500 to-blue-600 text-white shadow-inner ring-1 ring-cyan-200/60",children:n.jsx(D3,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:"Total Duration / Cost"}),n.jsxs("div",{className:"text-sm font-black text-slate-900",children:[R0(Ee.totalDuration),"  $",Ee.totalCost.toFixed(2)]})]})]})})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-12 md:items-end",children:[n.jsxs("div",{className:"md:col-span-4",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Search"}),n.jsxs("div",{className:"relative",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:b,onChange:ee=>y(ee.target.value),placeholder:"Name, number, call id, user",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!L,"aria-label":"Search calls"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Status"}),n.jsx("select",{value:j,onChange:ee=>w(ee.target.value),disabled:!!L,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by status",children:ce.map(ee=>n.jsx("option",{value:ee,children:ee==="all"?"All statuses":ee},ee))})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Transferred"}),n.jsxs("select",{value:S,onChange:ee=>k(ee.target.value),disabled:!!L,className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Filter by transfer",children:[n.jsx("option",{value:"all",children:"All"}),n.jsx("option",{value:"yes",children:"Yes"}),n.jsx("option",{value:"no",children:"No"})]})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"From"}),n.jsx("input",{type:"datetime-local",value:_,onChange:ee=>C(ee.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"From date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"To"}),n.jsx("input",{type:"datetime-local",value:P,onChange:ee=>T(ee.target.value),className:"w-full rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"To date"})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx("label",{className:"text-xs font-semibold text-slate-600 mb-1 block",children:"Sort"}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs("select",{value:E,onChange:ee=>$(ee.target.value),className:"flex-1 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort by",children:[n.jsx("option",{value:"started_at",children:"Start time"}),n.jsx("option",{value:"duration",children:"Duration"}),n.jsx("option",{value:"cost",children:"Cost"})]}),n.jsxs("select",{value:M,onChange:ee=>F(ee.target.value),className:"w-28 rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Sort order",children:[n.jsx("option",{value:"desc",children:"Desc"}),n.jsx("option",{value:"asc",children:"Asc"})]})]})]}),n.jsx("div",{className:"md:col-span-12 flex justify-end",children:(b||j!=="all"||S!=="all"||_||P||E!=="started_at"||M!=="desc")&&n.jsxs(Ia,{onClick:ve,className:"text-slate-700","aria-label":"Clear filters",children:[n.jsx(_l,{className:"h-4 w-4 mr-2"})," Clear Filters"]})})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(cp,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Calls (",Z.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),L?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(pv,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsx(Ia,{onClick:le,variant:"primary",children:"Exit Impersonation"})})]}):c?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading calls"})]}):Z.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full overflow-x-auto",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(ti,{children:"Caller"}),n.jsx(ti,{children:"User"}),n.jsx(ti,{children:"Start"}),n.jsx(ti,{children:"Duration"}),n.jsx(ti,{children:"Status"}),n.jsx(ti,{children:"Transferred"}),n.jsx(ti,{children:"Cost"}),n.jsx(ti,{children:"Source"}),n.jsx(ti,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:je.map(ee=>{const we=ee.cost===null||ee.cost===void 0||Number.isNaN(Number(ee.cost))?"Unknown":Number(ee.cost).toFixed(2);return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(ni,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 truncate",children:en(ee.customer_name)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all flex items-center gap-1",children:[n.jsx(gt,{className:"h-3.5 w-3.5"})," ",en(ee.customer_number)]}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all",children:["CID: ",en(ee.call_id)]})]})}),n.jsx(ni,{children:ee.user?n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-xs font-semibold text-slate-800 truncate flex items-center gap-1",children:[n.jsx(Oo,{className:"h-3.5 w-3.5"})," ",en(ee.user.name)]}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:en(ee.user.email)})]}):n.jsx("span",{className:"text-xs text-slate-500",children:"Unknown"})}),n.jsxs(ni,{children:[n.jsx("div",{className:"text-xs text-slate-800",children:hm(ee.started_at)}),n.jsx("div",{className:"text-[11px] text-slate-500",children:hm(ee.ended_at)})]}),n.jsx(ni,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(xi,{className:"h-3.5 w-3.5"})," ",R0(ee.duration)]})}),n.jsxs(ni,{children:[n.jsx(xl,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:en(ee.status)}),n.jsxs("div",{className:"text-[11px] text-slate-500 mt-1",children:["Reason: ",en(ee.ended_reason)]})]}),n.jsx(ni,{children:ee.transferred?n.jsxs(xl,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:[n.jsx(kn,{className:"mr-1 h-3.5 w-3.5"})," Yes"]}):n.jsxs(xl,{className:"border bg-red-100 text-red-700 border-red-200",children:[n.jsx(cr,{className:"mr-1 h-3.5 w-3.5"})," No"]})}),n.jsx(ni,{children:n.jsxs("div",{className:"inline-flex items-center gap-1 text-xs font-semibold text-slate-800",children:[n.jsx(D3,{className:"h-3.5 w-3.5"})," ",we]})}),n.jsx(ni,{children:n.jsx(xl,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:en(ee.source)})}),n.jsx(ni,{children:n.jsxs("div",{className:"flex flex-wrap gap-2 text-slate-700",children:[n.jsx(Ia,{onClick:()=>Ae(ee),variant:"outline",size:"sm",title:"View details","aria-label":"View details",children:n.jsx(Un,{className:"h-4 w-4"})}),ee.source!=="vapi"&&n.jsx(Ia,{onClick:()=>xe(ee),variant:"danger",size:"sm",title:"Delete","aria-label":"Delete",children:B===ee.id?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4"})})]})})]},ee._key)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:je.map((ee,we)=>{const De=ee.cost===null||ee.cost===void 0||Number.isNaN(Number(ee.cost))?"Unknown":Number(ee.cost).toFixed(2);return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[we===0&&n.jsx(_he,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"text-base font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",en(ee.customer_name)]}),n.jsx("div",{className:"mt-0.5 text-sm text-slate-600 break-all",children:en(ee.customer_number)}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500 break-all",children:["CID: ",en(ee.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:hm(ee.started_at)}),n.jsxs("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:[n.jsx(xi,{className:"h-3.5 w-3.5 mr-1"})," ",R0(ee.duration)]}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-blue-100 text-blue-700 text-[11px] font-semibold",children:en(ee.status)}),n.jsx("span",{className:"inline-flex px-2 py-1 rounded-full border bg-slate-100 text-slate-700 text-[11px] font-semibold",children:en(ee.source)})]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Reason: ",en(ee.ended_reason)]}),n.jsxs("div",{className:"mt-1 text-[11px] text-slate-500",children:["Cost: ",De]})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[n.jsxs(Ia,{onClick:()=>Ae(ee),size:"sm",className:"grow sm:grow-0","aria-label":"View",children:[n.jsx(Un,{className:"h-4 w-4 mr-1"})," View"]}),ee.source!=="vapi"&&n.jsx(Ia,{onClick:()=>xe(ee),variant:"danger",size:"sm",className:"grow sm:grow-0","aria-label":"Delete",children:B===ee.id?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"})," Delete"]})})]})]},ee._key)})})}),Z.length>U&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:te+1}),"",n.jsx("b",{children:Math.min(_e,Z.length)})," of ",n.jsx("b",{children:Z.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Ia,{onClick:()=>z(ee=>Math.max(1,ee-1)),disabled:K===1,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,W)},(ee,we)=>{let De;if(W<=5||K<=3?De=we+1:K>=W-2?De=W-4+we:De=K-2+we,De<1||De>W)return null;const Ue=K===De;return n.jsx("button",{onClick:()=>z(De),className:`px-3 py-2 text-sm font-semibold rounded-xl ${Ue?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,"aria-label":`Page ${De}`,children:De},De)})}),n.jsxs(Ia,{onClick:()=>z(ee=>Math.min(W,ee+1)),disabled:K>=W,children:["Next ",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(It,{children:H&&n.jsxs(khe,{onClose:()=>G(null),title:"Confirm Delete",children:[n.jsx("div",{className:"text-slate-800",children:"Are you sure you want to delete this call log? This action cannot be undone."}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Ia,{onClick:()=>G(null),variant:"subtle",children:"Cancel"}),n.jsx(Ia,{onClick:Fe,disabled:B===H,variant:"danger",children:B===H?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})}),n.jsx(It,{children:ae&&se&&n.jsx(Che,{onClose:()=>ke(!1),title:"Call Details",children:n.jsxs("div",{className:"space-y-6",children:[n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 min-w-0",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsxs("div",{className:"font-bold text-slate-900 truncate flex items-center gap-2",children:[n.jsx(gt,{className:"h-4 w-4 text-slate-500"})," ",en(se.customer_name)]}),n.jsx("div",{className:"text-sm text-slate-600 break-all",children:en(se.customer_number)}),n.jsxs("div",{className:"text-[11px] text-slate-500 break-all mt-1",children:["Call ID: ",en(se.call_id)]}),n.jsxs("div",{className:"mt-2 flex flex-wrap gap-2 items-center",children:[n.jsx(xl,{className:"border bg-slate-100 text-slate-700 border-slate-200",children:en(se.source)}),n.jsx(xl,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:en(se.status)}),se.transferred?n.jsx(xl,{className:"border bg-emerald-100 text-emerald-700 border-emerald-200",children:"Transferred"}):n.jsx(xl,{className:"border bg-red-100 text-red-700 border-red-200",children:"Not transferred"})]})]}),n.jsxs("div",{className:"text-right text-sm text-slate-700",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Start:"})," ",hm(se.started_at)]}),n.jsxs("div",{children:[n.jsx("b",{children:"End:"})," ",hm(se.ended_at)]}),n.jsxs("div",{className:"mt-1",children:[n.jsx("b",{children:"Duration:"})," ",R0(se.duration)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Cost:"})," ",se.cost===null||se.cost===void 0||Number.isNaN(Number(se.cost))?"Unknown":`$${Number(se.cost).toFixed(2)}`]})]})]}),se.user?n.jsxs("div",{className:"mt-3 text-xs text-slate-600",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Oo,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," ",en(se.user.name)]}),n.jsx("div",{className:"ml-5 break-all",children:en(se.user.email)})]}):n.jsx("div",{className:"mt-3 text-xs text-slate-600",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Oo,{className:"h-3.5 w-3.5"}),n.jsx("span",{className:"font-semibold",children:"User:"})," Unknown"]})}),(se.assistant_id||se.phone_number_id)&&n.jsxs("div",{className:"mt-2 grid grid-cols-2 gap-2 text-xs text-slate-600",children:[n.jsxs("div",{children:[n.jsx("b",{children:"Assistant ID:"})," ",en(se.assistant_id)]}),n.jsxs("div",{children:[n.jsx("b",{children:"Phone Number ID:"})," ",en(se.phone_number_id)]})]}),n.jsxs("div",{className:"mt-2 text-xs text-slate-600",children:[n.jsx("b",{children:"End Reason:"})," ",en(se.ended_reason)]})]}),se.recording_url&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Recording"}),n.jsx("audio",{controls:!0,className:"w-full",children:n.jsx("source",{src:sP(se.recording_url)||se.recording_url})}),n.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:n.jsxs("a",{href:sP(se.recording_url)||se.recording_url,target:"_blank",rel:"noreferrer",className:"text-blue-600 text-xs inline-flex items-center gap-1",children:[n.jsx(As,{className:"h-3.5 w-3.5"})," Open recording URL"]})})]}),se.summary&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Summary"}),n.jsx("div",{className:"text-sm text-slate-700 whitespace-pre-wrap",children:se.summary})]}),se.transcript&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900",children:"Transcript"}),n.jsxs(Ia,{onClick:()=>lP(`transcript-${se.call_id||se.id}.txt`,se.transcript),size:"sm",children:[n.jsx(Im,{className:"h-4 w-4 mr-2"})," Save .txt"]})]}),n.jsx("div",{className:"mt-2 text-sm text-slate-700 whitespace-pre-wrap max-h-72 overflow-auto",children:se.transcript})]}),se.analysis&&n.jsxs("div",{className:"rounded-2xl border border-slate-200 bg-white p-4 shadow-sm",children:[n.jsx("div",{className:"text-sm font-semibold text-slate-900 mb-2",children:"Analysis"}),n.jsx("pre",{className:"text-xs bg-slate-50 border border-slate-200 rounded-xl p-3 overflow-auto max-h-64",children:typeof se.analysis=="string"?se.analysis:JSON.stringify(se.analysis,null,2)})]})]})})})]})}function Q1({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function xl({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function _he(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function Ia({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function ti({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function ni({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function khe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Che({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t}),n.jsxs(pe.aside,{className:"absolute right-0 top-0 h-full w-full sm:max-w-md md:max-w-lg bg-white border-l border-slate-200 shadow-2xl flex flex-col",initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:220,damping:28},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx("button",{onClick:t,className:"rounded-lg p-1.5 text-slate-600 hover:bg-slate-100","aria-label":"Close",children:""})]}),n.jsx("div",{className:"p-4 sm:p-5 overflow-y-auto",children:e})]})]})}const Ss={border:"#E2E8F0",background:"#F8FAFC",card:"#ffffffff"},oP=/^\+\d{7,15}$/,cP=[{id:1,key:"core",label:"Core & Transcription",Icon:Vw},{id:2,key:"voice",label:"Voice",Icon:Xw},{id:3,key:"review",label:"Review & Create",Icon:kl}],Ahe=[{label:"Deepgram (Aura)",value:"deepgram"},{label:"OpenAI (TTS)",value:"openai"}],The=[{label:"All voices",value:"all"},{label:"Female",value:"female"},{label:"Male",value:"male"}];function Ehe(){const e=rn(),[t,a]=x.useState(1),[r,s]=x.useState(!1),[l,c]=x.useState(!1),u=x.useRef(null),[m,f]=x.useState(!1),[h,g]=x.useState("all"),[b,y]=x.useState({name:"",provider:"openai",model:"gpt-4o-mini",temperature:.7,maxTokens:250,systemPrompt:"",first_message:"",transcribe_provider:"google",transcribe_language:"English",transcribe_model:"gemini-2.0-flash",forwardingPhoneNumber:"",attached_Number:"",category:"",draft:!1,assistant_toggle:!0,knowledgeBase:[],leadsfile:[],languages:[],endCallPhrases:[],speed:.8,stability:.5,similarityBoost:.75,voice_provider:"deepgram",voice_model:"",voice:""}),[j,w]=x.useState({}),[S,k]=x.useState([]),[_,C]=x.useState(!1),[P,T]=x.useState(""),E=x.useMemo(()=>{const O=b.voice_provider==="openai"?Wd:Zo;return(h==="all"?O:O.filter(G=>G.gender===h)).slice().sort((G,B)=>((G==null?void 0:G.showName)||"").localeCompare((B==null?void 0:B.showName)||""))},[b.voice_provider,h]);x.useEffect(()=>{if(!b.voice)return;const O=E.find(H=>(H==null?void 0:H.name)===b.voice);O!=null&&O.voice&&(y(H=>({...H,voice_model:O.voice})),w(H=>({...H,voice_model:""})))},[b.voice,E]);const $="https://aisdr-dbt.ddns.net",M=O=>{const{id:H,value:G,type:B,checked:A}=O.target,L=B==="checkbox"?A:G;y(R=>({...R,[H]:L})),w(R=>({...R,[H]:""}))},F=O=>{try{u.current&&(u.current.pause(),u.current=null);const H=new Audio(O);u.current=H,c(!0),H.play().catch(()=>{I.error("Failed to play voice preview"),c(!1),u.current=null}),H.onended=()=>{c(!1),u.current=null}}catch{I.error("Failed to play voice preview"),c(!1)}},K=()=>{u.current&&(u.current.pause(),u.current=null,c(!1))},z=O=>{if(O!==t){if(O===3&&(!b.voice||!m)){w(H=>({...H,voice:"Select a voice and press Next to continue"})),I.error("Please select a voice and press Next to continue.");return}K(),a(O)}},U=()=>{if(t===1){a(2);return}if(t===2){if(!b.voice){w(O=>({...O,voice:"Please select a voice"})),I.error("Select a voice to continue.");return}if(!m){w(O=>({...O,voice:"Click a voice card to confirm your choice"})),I.info("Click a voice card to confirm your choice.");return}a(3)}},ae=async()=>{C(!0),T("");try{const O=localStorage.getItem("token"),H=await fetch(`${$}/api/purchased_numbers`,{headers:{Accept:"application/json",...O?{Authorization:`Bearer ${O}`}:{}}});if(!H.ok)throw new Error(`HTTP ${H.status}`);const G=await H.json(),A=(Array.isArray(G)?G:(G==null?void 0:G.purchased_numbers)||[]).filter(Boolean).map(L=>({phone_number:(L==null?void 0:L.phone_number)||"",friendly_name:(L==null?void 0:L.friendly_name)||"",attached_assistant:(L==null?void 0:L.attached_assistant)??null})).filter(L=>L.phone_number);k(A)}catch(O){console.error(O),T("Failed to load your purchased numbers"),k([])}finally{C(!1)}};x.useEffect(()=>{ae()},[]);const ke=()=>{const O=["name","provider","model","temperature","maxTokens","transcribe_provider","transcribe_language","transcribe_model","voice_provider","voice_model","voice"],H={};let G=!0;if(O.forEach(B=>{const A=b[B];(A==null||A===""||Number.isNaN(A))&&(H[B]="Required",G=!1)}),(b.temperature<0||b.temperature>2)&&(H.temperature="Temperature must be between 0 and 2",G=!1),b.maxTokens<1&&(H.maxTokens="maxTokens must be a positive integer",G=!1),b.forwardingPhoneNumber&&!oP.test(b.forwardingPhoneNumber)&&(H.forwardingPhoneNumber="Must be E.164 (+123...)",G=!1),b.attached_Number&&!oP.test(b.attached_Number)&&(H.attached_Number="Invalid number format",G=!1),w(H),!G){const B=R=>R.some(q=>H[q]),A=["name","provider","model","temperature","maxTokens","systemPrompt","first_message","transcribe_provider","transcribe_language","transcribe_model","forwardingPhoneNumber","attached_Number","category"],L=["voice_provider","voice_model","voice"];B(A)?a(1):B(L)&&a(2)}return G},se=async O=>{if(O.preventDefault(),!r){if(t!==3){I.error("Please complete the steps first.");return}if(ke()){s(!0),K();try{const H=localStorage.getItem("token"),G=`${$}/api/assistants`,B={name:b.name,provider:b.provider,first_message:b.first_message||null,model:b.model,systemPrompt:b.systemPrompt||null,knowledgeBase:b.knowledgeBase,leadsfile:b.leadsfile,temperature:Number(b.temperature),maxTokens:Number(b.maxTokens),transcribe_provider:b.transcribe_provider,transcribe_language:b.transcribe_language,transcribe_model:b.transcribe_model,languages:b.languages,forwardingPhoneNumber:b.forwardingPhoneNumber||null,endCallPhrases:b.endCallPhrases,voice_provider:b.voice_provider,voice:b.voice,voice_model:b.voice_model,attached_Number:b.attached_Number||null,draft:!!b.draft,assistant_toggle:!!b.assistant_toggle,category:b.category||null,speed:Number(b.speed),stability:Number(b.stability),similarityBoost:Number(b.similarityBoost)},A=await fetch(G,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",...H?{Authorization:`Bearer ${H}`}:{}},body:JSON.stringify(B)});if(!A.ok){let L=`HTTP ${A.status}`;try{const R=await A.json();R!=null&&R.detail&&(L=R.detail)}catch{const R=await A.text();R&&(L=`${L}  ${R}`)}throw new Error(L)}I.success("Assistant created successfully!"),e("/user/callassistent")}catch(H){I.error((H==null?void 0:H.message)||"Failed to create assistant")}finally{s(!1)}}}};return x.useEffect(()=>{f(!1),y(O=>({...O,voice:"",voice_model:""}))},[b.voice_provider]),n.jsxs("div",{className:"min-h-screen overflow-x-hidden",style:{background:Ss.background},children:[n.jsx("div",{className:"pointer-events-none fixed inset-0 -z-10",children:n.jsx("div",{className:"animate-[gradient_16s_ease_infinite] absolute inset-0 opacity-60",style:{background:"radial-gradient(60% 60% at 20% 20%, rgba(59,130,246,0.15) 0%, transparent 60%), radial-gradient(50% 50% at 80% 20%, rgba(14,165,233,0.12) 0%, transparent 60%), radial-gradient(50% 50% at 50% 80%, rgba(99,102,241,0.12) 0%, transparent 60%)"}})}),n.jsx("style",{children:`
        @keyframes gradient { 0%{transform:translateY(0)} 50%{transform:translateY(-12px)} 100%{transform:translateY(0)} }
        @keyframes eqbar { 0%{height:20%} 50%{height:90%} 100%{height:20%} }
      `}),n.jsxs("div",{className:"mx-auto w-full max-w-[2000px] px-4 sm:px-6 lg:px-8 xl:px-10 2xl:px-12 py-8 lg:py-12",children:[n.jsx(pe.div,{initial:{opacity:0,y:16},animate:{opacity:1,y:0},transition:{duration:.5},className:"mb-8 rounded-2xl border shadow-sm backdrop-blur-xl",style:{borderColor:Ss.border,backgroundColor:Ss.card},children:n.jsxs("div",{className:"relative overflow-hidden rounded-2xl",children:[n.jsx("div",{className:"absolute right-0 top-0 h-24 w-24 translate-x-8 -translate-y-8 rounded-full bg-blue-300/30 blur-2xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 h-24 w-24 -translate-x-8 translate-y-8 rounded-full bg-sky-300/30 blur-2xl"}),n.jsxs("div",{className:"relative p-6 text-center",children:[n.jsxs("h1",{className:"flex items-center justify-center gap-3 text-3xl font-bold text-slate-900",children:[n.jsx(kl,{className:"h-7 w-7 text-blue-600"})," Create New Assistant"]}),n.jsx("p",{className:"mt-2 text-sm text-slate-600",children:"Polished UX  Animated  Modern"})]})]})}),n.jsx(Phe,{currentStep:t,onChange:z}),n.jsx(pe.div,{initial:{opacity:0,y:12},animate:{opacity:1,y:0},transition:{duration:.4},className:"rounded-2xl border p-6 shadow-lg backdrop-blur-xl",style:{backgroundColor:Ss.card,borderColor:Ss.border},children:n.jsxs("form",{onSubmit:se,noValidate:!0,children:[n.jsxs(It,{mode:"wait",children:[t===1&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[n.jsx(L0,{id:"name",label:"Assistant Name",value:b.name,onChange:M,error:j.name,placeholder:"SupportBot"}),n.jsx(L0,{id:"forwardingPhoneNumber",label:"Forwarding Phone Number (optional, E.164)",value:b.forwardingPhoneNumber,onChange:M,error:j.forwardingPhoneNumber,placeholder:"+12345678901"}),n.jsxs("div",{className:"mb-2",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx(Rm,{children:"Attach Purchased Number (optional)"}),n.jsx("button",{type:"button",onClick:ae,className:"rounded-lg border border-slate-300 bg-white px-3 py-1 text-sm font-medium text-slate-700 hover:bg-slate-50 disabled:opacity-60",disabled:_,title:"Refresh",children:_?"Loading...":"Refresh"})]}),n.jsxs("select",{id:"attached_Number",value:b.attached_Number,onChange:M,disabled:_||!S.length,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition disabled:cursor-not-allowed disabled:opacity-60 focus:border-blue-500",children:[n.jsx("option",{value:"",className:"bg-white",children:_?"Loading numbers...":S.length?"Do not attach":"No purchased numbers found"}),S.map(O=>n.jsx("option",{value:O.phone_number,className:"bg-white",children:O.friendly_name?`${O.friendly_name}  ${O.phone_number}`:O.phone_number},O.phone_number))]}),P&&n.jsx(So,{children:P}),j.attached_Number&&n.jsx(So,{children:j.attached_Number})]}),n.jsx(L0,{id:"category",label:"Category (optional)",value:b.category,onChange:M}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Rm,{children:"System Prompt"}),n.jsx(mP,{id:"systemPrompt",value:b.systemPrompt,onChange:M,placeholder:"Write your system prompt",rows:4}),j.systemPrompt&&n.jsx(So,{children:j.systemPrompt})]}),n.jsxs("div",{className:"md:col-span-2",children:[n.jsx(Rm,{children:"First Message"}),n.jsx(mP,{id:"first_message",value:b.first_message,onChange:M,placeholder:"Hello! ",rows:3}),j.first_message&&n.jsx(So,{children:j.first_message})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-4 md:col-span-2",children:[n.jsx(fP,{id:"draft",label:"Save as Draft",checked:b.draft,onChange:M}),n.jsx(fP,{id:"assistant_toggle",label:"Enable Assistant Immediately",checked:b.assistant_toggle,onChange:M})]})]},"step1"),t===2&&n.jsxs(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:[n.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-3",children:[n.jsx(uP,{id:"voice_provider",label:"Voice Provider",value:b.voice_provider,onChange:O=>{K();const H=O.target.value;y(G=>({...G,voice_provider:H,voice:"",voice_model:""})),f(!1),w(G=>({...G,voice:"",voice_model:""}))},options:Ahe,error:j.voice_provider}),n.jsx(uP,{id:"genderFilter",label:"Gender",value:h,onChange:O=>{K(),g(O.target.value),f(!1)},options:The}),n.jsx(L0,{id:"voice_model",label:"Voice Model",value:b.voice_model,onChange:()=>{},error:j.voice_model,placeholder:b.voice_provider==="deepgram"?"aura-*-en":"gpt-4o-mini-tts",readOnly:!0})]}),!m&&n.jsxs("p",{className:"text-sm text-slate-600",children:["Tip: ",n.jsx("span",{className:"font-medium",children:"Click a voice card"})," to confirm your choice, then press"," ",n.jsx("span",{className:"font-medium",children:"Next"}),"."]}),n.jsx("div",{className:"flex items-center justify-between",children:n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("span",{className:"font-medium",children:E.length})," voices"]})}),n.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5",children:[E.length===0&&n.jsx("div",{className:"col-span-full rounded-xl border p-6 text-center text-slate-600",style:{borderColor:Ss.border},children:"No voices match this filter."}),E.map(O=>n.jsxs(pe.div,{whileHover:{scale:1.02},className:"relative cursor-pointer rounded-xl border p-5 shadow-sm backdrop-blur-md transition-all",style:{borderColor:b.voice===O.name?"#93c5fd":Ss.border,backgroundColor:b.voice===O.name?"#eff6ff":Ss.card},onClick:()=>{y(H=>({...H,voice:O.name,voice_model:O.voice,voice_provider:O.provider||b.voice_provider})),f(!0),w(H=>({...H,voice:"",voice_model:""}))},children:[n.jsx("div",{className:"absolute left-3 top-3",children:n.jsx("div",{className:`flex h-5 w-5 items-center justify-center rounded-full border-2 ${b.voice===O.name?"border-blue-500 bg-blue-500":"border-slate-400 bg-transparent"}`})}),n.jsxs("div",{className:"ml-8 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-lg font-semibold text-slate-900",children:O.showName||O.name}),n.jsxs("div",{className:"text-sm text-slate-600 capitalize",children:[O.gender||"unknown","  ",O.provider]}),n.jsx("div",{className:"mt-1 text-xs text-slate-500",children:O.voice})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(Ohe,{isActive:l&&b.voice===O.name,onPlay:()=>F(O.audioSr||""),onStop:K})})]})]},`${O.provider}-${O.name}`))]}),j.voice&&n.jsx(So,{children:j.voice})]},"step2"),t===3&&n.jsx(pe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},exit:{opacity:0,y:-8},transition:{duration:.25},className:"space-y-6",children:n.jsxs("div",{className:"rounded-xl border p-5",style:{borderColor:Ss.border},children:[n.jsx("h3",{className:"mb-3 text-lg font-semibold text-slate-900",children:"Review"}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(fo,{label:"Name",value:b.name||""}),n.jsx(fo,{label:"Model",value:`${b.provider}  ${b.model}`}),n.jsx(fo,{label:"Voice Provider",value:b.voice_provider}),n.jsx(fo,{label:"Voice",value:b.voice||""}),n.jsx(fo,{label:"Voice Model",value:b.voice_model||""}),n.jsx(fo,{label:"Forwarding Number",value:b.forwardingPhoneNumber||""}),n.jsx(fo,{label:"Attach Number",value:b.attached_Number||""})]}),n.jsxs("div",{className:"mt-4 flex flex-wrap gap-3",children:[n.jsx(J1,{onClick:()=>a(2),children:"Edit Voice"}),n.jsx(J1,{onClick:()=>a(1),children:"Edit Core"})]})]})},"step3")]}),n.jsxs("div",{className:"mt-8 flex items-center justify-between",children:[t>1?n.jsx(J1,{onClick:()=>z(t-1),children:"Back"}):n.jsx("span",{}),t<3?n.jsxs(dP,{onClick:U,children:["Next ",n.jsx(wn,{className:"ml-1 h-4 w-4"})]}):n.jsx(dP,{type:"submit",disabled:r,children:r?n.jsxs("span",{className:"flex items-center gap-2",children:[n.jsx(_n,{className:"h-4 w-4 animate-spin"})," Creating"]}):"Create Assistant"})]})]})})]})]})}function Phe({currentStep:e,onChange:t}){return n.jsxs("div",{className:"mb-6",children:[n.jsx("div",{className:"flex flex-wrap items-center justify-center gap-4",children:cP.map(({id:a,label:r,Icon:s})=>{const l=e===a;return n.jsxs(pe.button,{onClick:()=>t(a),whileHover:{y:-2},whileTap:{scale:.98},className:`group relative flex items-center gap-3 rounded-xl border px-4 py-3 ${l?"border-blue-500/40 bg-blue-50":"border-slate-200 bg-white hover:bg-slate-50"}`,children:[n.jsx("div",{className:`grid h-10 w-10 place-items-center rounded-lg ${l?"bg-blue-100":"bg-slate-100"}`,children:n.jsx(s,{className:`h-5 w-5 ${l?"text-blue-600":"text-slate-600"}`})}),n.jsxs("div",{className:"text-left",children:[n.jsx("div",{className:`text-sm font-semibold ${l?"text-slate-900":"text-slate-700"}`,children:r}),n.jsx("div",{className:`text-xs ${l?"text-blue-600":"text-slate-500"}`,children:l?"Active":"Click to open"})]})]},a)})}),n.jsx("div",{className:"mx-auto mt-4 h-1 w-full max-w-5xl rounded-full bg-slate-200",children:n.jsx("div",{className:"h-1 rounded-full bg-gradient-to-r from-blue-600 to-cyan-500",style:{width:`${e/cP.length*100}%`}})})]})}function dP({children:e,onClick:t,type:a="button",disabled:r}){return n.jsx("button",{type:a,onClick:t,disabled:r,className:`inline-flex items-center justify-center rounded-xl px-5 py-2.5 font-semibold text-white shadow-lg shadow-blue-200 transition ${r?"bg-blue-400/60":"bg-gradient-to-r from-blue-600 to-blue-500 hover:from-blue-700 hover:to-blue-600"}`,children:e})}function J1({children:e,onClick:t}){return n.jsx("button",{type:"button",onClick:t,className:"rounded-xl border border-slate-300 bg-white px-4 py-2 font-semibold text-slate-700 hover:bg-slate-50",children:e})}function Rm({children:e}){return n.jsx("label",{className:"mb-2 block text-sm font-semibold text-slate-700",children:e})}function So({children:e}){return n.jsx("p",{className:"mt-2 flex items-center gap-1 text-sm text-red-600",children:e})}function L0({id:e,label:t,value:a,onChange:r,error:s,placeholder:l,readOnly:c=!1,disabled:u=!1}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Rm,{children:t}),n.jsx("input",{id:e,type:"text",value:a,onChange:r,placeholder:l,readOnly:c,disabled:u,className:`w-full rounded-xl border bg-white p-3 text-slate-900 placeholder-slate-400 outline-none ring-0 transition focus:border-blue-500 ${u?"opacity-60":"border-slate-300"} ${c?"bg-slate-50":""}`}),s&&n.jsx(So,{children:s})]})}function uP({id:e,label:t,value:a,onChange:r,options:s,error:l}){return n.jsxs("div",{className:"mb-2",children:[n.jsx(Rm,{children:t}),n.jsx("select",{id:e,value:a,onChange:r,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 outline-none transition focus:border-blue-500",children:s.map(c=>n.jsx("option",{value:c.value,className:"bg-white",children:c.label},c.value))}),l&&n.jsx(So,{children:l})]})}function mP({id:e,value:t,onChange:a,placeholder:r,rows:s=4}){return n.jsx("textarea",{id:e,value:t,onChange:a,placeholder:r,rows:s,className:"w-full rounded-xl border border-slate-300 bg-white p-3 text-slate-900 placeholder-slate-400 outline-none transition focus:border-blue-500"})}function fP({id:e,label:t,checked:a,onChange:r}){return n.jsxs("label",{className:"flex cursor-pointer items-center gap-2 text-slate-800",children:[n.jsx("input",{id:e,type:"checkbox",checked:a,onChange:r,className:"accent-blue-600"}),n.jsx("span",{children:t})]})}function fo({label:e,value:t}){return n.jsxs("div",{className:"rounded-lg border bg-white p-3 text-sm",style:{borderColor:Ss.border},children:[n.jsx("div",{className:"text-slate-500",children:e}),n.jsx("div",{className:"mt-0.5 font-medium text-slate-900",children:t})]})}function Ohe({isActive:e,onPlay:t,onStop:a}){return n.jsx("div",{className:"flex items-center gap-2",children:e?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"flex h-10 items-end gap-1",children:[0,150,300].map((r,s)=>n.jsx("div",{className:"w-1.5 rounded-sm bg-blue-500",style:{animation:`eqbar 0.9s ${r}ms ease-in-out infinite`}},s))}),n.jsx("button",{type:"button",onClick:a,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-rose-500 to-red-500 text-white shadow-lg shadow-rose-200 transition hover:brightness-110",title:"Stop",children:n.jsx(xd,{className:"h-5 w-5"})})]}):n.jsx("button",{type:"button",onClick:t,className:"grid h-11 w-11 place-items-center rounded-full bg-gradient-to-br from-blue-600 to-sky-500 text-white shadow-lg shadow-blue-200 transition hover:brightness-110",title:"Play preview",children:n.jsx(Rd,{className:"h-5 w-5"})})})}const st={primary:"#4F46E5",secondary:"#10B981",danger:"#EF4444",text:"#374151",lightText:"#6B7280",border:"#E5E7EB",background:"#F9FAFB",card:"#FFFFFF",hover:"#F9FAFB",radioSelected:"#1F2937",radioBorder:"#374151"},Mhe=()=>{const{assistantId:e}=lf(),t=rn(),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(1),[m,f]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:null,existing_file_urls:[],voice:"",voiceSet:"all"}),[h,g]=x.useState({name:"",phone:"",system_prompt:"",first_message:"",files:"",voice:""}),[b,y]=x.useState(!0),j=x.useRef(null),w=[...k1,...C1].sort((M,F)=>M.showName.localeCompare(F.showName));x.useEffect(()=>{(async()=>{const F=localStorage.getItem("token");if(!F){I.error("No authentication token found. Please log in."),t("/login");return}try{const K=await fetch("http://localhost:8000/api/admin/getassistant",{method:"GET",headers:{Authorization:`Bearer ${F}`,"Content-Type":"application/json"}});if(!K.ok){if(K.status===403)throw new Error("Access denied: Invalid or insufficient permissions");if(K.status===401)throw new Error("Unauthorized: Please log in again");{const ae=await K.text();throw new Error(`HTTP error! Status: ${K.status}`)}}const U=(await K.json()).assistants.find(ae=>ae.assistant_id===e);if(!U)throw new Error("Assistant not found");f({name:U.name||"",phone:U.phone||"",system_prompt:U.system_prompt||"",first_message:U.first_message||"",files:null,existing_file_urls:U.file_urls||[],voice:U.voice||"",voiceSet:"all"}),y(!1)}catch(K){console.error("Error fetching assistant:",K.message),I.error(K.message),t("/")}})()},[e,t]),x.useEffect(()=>{var M;if(c===2&&!m.voice){const F=w.filter(K=>m.voiceSet==="voiceset1"?k1.includes(K):m.voiceSet==="voiceset2"?C1.includes(K):!0);F.length>0&&((M=F[0])!=null&&M.name)&&(f(K=>({...K,voice:F[0].name})),g(K=>({...K,voice:""})))}},[m.voiceSet,c]);const S=M=>{const{id:F,value:K}=M.target;f(z=>({...z,[F]:K})),g(z=>({...z,[F]:""}))},k=M=>{f(F=>({...F,files:M.target.files})),g(F=>({...F,files:""}))},_=()=>{const M={...h};let F=!0;const K=/^\+\d{10,15}$/,z=["text/plain","application/pdf","text/csv"],U=5*1024*1024;if(m.name.trim()||(M.name="Please enter an assistant name",F=!1),m.phone?K.test(m.phone)||(M.phone="Phone number must be in international format (e.g., +1234567890)",F=!1):(M.phone="Please select a phone number",F=!1),m.system_prompt.trim()||(M.system_prompt="Please enter a system prompt",F=!1),m.first_message.trim()||(M.first_message="Please enter a first message",F=!1),m.files&&m.files.length>0)for(let ae=0;ae<m.files.length;ae++){if(!z.includes(m.files[ae].type)){M.files="Only .txt, .pdf, and .csv files are allowed",F=!1;break}if(m.files[ae].size>U){M.files="Each file must be under 5MB",F=!1;break}}return g(M),F},C=()=>{const M={...h};let F=!0;return m.voice||(M.voice="Please select a voice",F=!1),g(M),F},P=M=>{j.current&&(j.current.pause(),j.current=null,l(!1));const F=new Audio(M);j.current=F,l(!0),F.play().catch(K=>{console.error("Error playing audio:",K),I.error("Failed to play voice preview"),l(!1)}),F.onended=()=>{l(!1),j.current=null}},T=()=>{j.current&&(j.current.pause(),j.current=null,l(!1))},E=M=>{M!==c&&(u(M),T())},$=async M=>{if(M.preventDefault(),a)return;const F=_(),K=C();if(!F){u(1);return}if(!K){u(2);return}r(!0),T();try{const z=new FormData;if(z.append("assistantName",m.name),z.append("phone",m.phone),z.append("systemPrompt",m.system_prompt),z.append("firstMessage",m.first_message),z.append("voice",m.voice),m.files)for(let ke=0;ke<m.files.length;ke++)z.append("files",m.files[ke]);m.existing_file_urls.length>0&&z.append("file_urls",JSON.stringify(m.existing_file_urls));const U=localStorage.getItem("token");if(!U)throw new Error("No authentication token found. Please log in.");const ae=await fetch(`http://localhost:8000/api/admin/update/assistant/${e}`,{method:"PUT",headers:{Authorization:`Bearer ${U}`},body:z});if(!ae.ok){const ke=await ae.text();throw new Error(`HTTP error! Status: ${ae.status}`)}I.success("Assistant updated successfully!"),t("/admin/assistants")}catch(z){console.error("Error updating assistant:",z.message),I.error(z.message)}finally{r(!1)}};return b?n.jsx("div",{className:"min-h-screen flex justify-center items-center",style:{backgroundColor:st.background},children:n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2",style:{borderColor:st.primary}})}):n.jsx("div",{className:"min-h-screen",style:{backgroundColor:st.background},children:n.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[n.jsx("div",{className:"mb-8 bg-white rounded-xl shadow-sm border py-4 px-6 text-center",style:{borderColor:st.border},children:n.jsx("h1",{className:"text-3xl font-bold",style:{color:st.text},children:"Edit Assistant"})}),n.jsxs("div",{className:"mb-6 flex justify-center gap-4",children:[n.jsx("button",{type:"button",onClick:()=>E(1),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===1?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 1: Assistant Details"}),n.jsx("button",{type:"button",onClick:()=>E(2),className:`px-4 py-2 rounded-lg font-semibold cursor-pointer transition-colors ${c===2?"bg-indigo-600 text-white":"bg-gray-200 hover:bg-gray-300"}`,children:"Step 2: Voice Selection"})]}),n.jsx("div",{className:"rounded-xl shadow-md border p-8 transition-transform hover:scale-[1.01]",style:{backgroundColor:st.card,borderColor:st.border},children:n.jsxs("form",{onSubmit:$,noValidate:!0,children:[c===1&&n.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"name",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Assistant Name"]}),n.jsx("input",{type:"text",id:"name",value:m.name,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card},placeholder:"Enter assistant name (e.g., SupportBot)"}),h.name&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.name]})]}),n.jsxs("div",{className:"mb-6",children:[n.jsxs("label",{htmlFor:"phone",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"})}),"Phone Number"]}),n.jsxs("select",{id:"phone",value:m.phone,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card},children:[n.jsx("option",{value:"",children:"Select a phone number"}),n.jsx("option",{value:"+1234567890",children:"+1234567890 (Demo)"}),n.jsx("option",{value:"+1987654321",children:"+1987654321"}),n.jsx("option",{value:"+1123456789",children:"+1123456789"})]}),h.phone&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.phone]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"system_prompt",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"System Prompt"]}),n.jsx("textarea",{id:"system_prompt",value:m.system_prompt,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card},placeholder:"Enter system prompt",rows:"5"}),h.system_prompt&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.system_prompt]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"first_message",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5v-4h.01M19 16h-4v-4h.01M12 16V8"})}),"First Message"]}),n.jsx("textarea",{id:"first_message",value:m.first_message,onChange:S,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card},placeholder:"Enter the assistant's first message",rows:"3"}),h.first_message&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.first_message]})]}),n.jsxs("div",{className:"mb-6 md:col-span-2",children:[n.jsxs("label",{htmlFor:"files",className:"flex items-center gap-2 text-lg font-semibold mb-2",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Add New Files (Optional)"]}),n.jsx("input",{type:"file",id:"files",multiple:!0,accept:".txt,.pdf,.csv",onChange:k,className:"w-full p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card}}),h.files&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.files]}),n.jsx("p",{className:"text-sm mt-2",style:{color:st.lightText},children:"Supported formats: .txt, .pdf, .csv (max 5MB per file)"}),m.existing_file_urls.length>0&&n.jsxs("div",{className:"mt-4",children:[n.jsx("p",{className:"font-medium",style:{color:st.text},children:"Existing Files:"}),n.jsx("ul",{className:"list-disc pl-5",children:m.existing_file_urls.map((M,F)=>n.jsx("li",{children:n.jsx("a",{href:M,target:"_blank",rel:"noopener noreferrer",className:"text-sm",style:{color:st.primary},children:M})},F))})]})]})]}),c===2&&n.jsxs("div",{children:[n.jsxs("label",{htmlFor:"voice",className:"flex items-center gap-2 text-lg font-semibold mb-4",style:{color:st.text},children:[n.jsx("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"})}),"Voice Selection"]}),n.jsx("div",{className:"mb-6",children:n.jsxs("select",{id:"voiceSet",value:m.voiceSet,onChange:M=>{f(F=>({...F,voiceSet:M.target.value,voice:""})),g(F=>({...F,voice:""})),T()},className:"w-full md:w-64 p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:border-transparent",style:{borderColor:st.border,color:st.text,backgroundColor:st.card},children:[n.jsx("option",{value:"all",children:"All Voices"}),n.jsx("option",{value:"voiceset1",children:"Voice Set 1"}),n.jsx("option",{value:"voiceset2",children:"Voice Set 2"})]})}),n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:w.filter(M=>m.voiceSet==="voiceset1"?k1.includes(M):m.voiceSet==="voiceset2"?C1.includes(M):!0).map(M=>M&&M.name?n.jsxs("div",{className:`relative p-6 rounded-xl border cursor-pointer transition-all duration-300 shadow-sm hover:shadow-md ${m.voice===M.name?"border-gray-800 bg-gray-50":"border-gray-300 hover:bg-gray-100"}`,style:{borderColor:m.voice===M.name?st.radioBorder:st.border,backgroundColor:m.voice===M.name?st.hover:st.card},onClick:()=>{console.log("Selected voice:",M),f(F=>({...F,voice:M.name})),g(F=>({...F,voice:""}))},children:[n.jsx("div",{className:"absolute top-3 left-3",children:n.jsx("div",{className:`w-5 h-5 rounded-full border-2 flex items-center justify-center transition-all ${m.voice===M.name?"border-gray-800 bg-gray-800":"border-gray-400"}`,style:{borderColor:m.voice===M.name?st.radioBorder:st.border,backgroundColor:m.voice===M.name?st.radioSelected:"transparent"},children:m.voice===M.name&&n.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-white"})})}),n.jsxs("div",{className:"ml-8 flex justify-between items-center",children:[n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-lg",style:{color:st.text},children:M.showName||"Unnamed Voice"}),n.jsx("p",{className:"text-sm",style:{color:st.lightText},children:M.gender||"Unknown"})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),P(M.audioSr||"")},disabled:s&&m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-emerald-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:st.secondary,color:"white"},title:s&&m.voice!==M.name?"Audio playing":"Play voice preview",children:s&&m.voice===M.name?n.jsx("svg",{className:"w-5 h-5 animate-spin",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 12a8 8 0 1116 0 8 8 0 01-16 0z"})}):n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M14.752 11.168l-3.197-2.2A1 1 0 0010 9.8v4.4a1 1 0 001.555.832l3.197-2.2a1 1 0 000-1.664z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]})}),n.jsx("button",{type:"button",onClick:F=>{F.stopPropagation(),T()},disabled:!s||m.voice!==M.name,className:"p-2.5 rounded-full transition-colors hover:bg-red-600 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:st.danger,color:"white"},title:"Stop voice preview",children:n.jsxs("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}),n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 9h6v6H9z"})]})})]})]})]},M.name):null)}),h.voice&&n.jsxs("p",{className:"text-sm mt-2 flex items-center gap-1",style:{color:st.danger},children:[n.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",strokeWidth:"2",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),h.voice]})]}),n.jsxs("div",{className:"flex justify-between mt-6",children:[c===2&&n.jsx("button",{type:"button",onClick:()=>E(1),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-gray-300",style:{backgroundColor:st.border,color:st.text},children:"Back"}),c===1&&n.jsx("button",{type:"button",onClick:()=>E(2),className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 ml-auto",style:{backgroundColor:st.primary,color:"white"},children:"Next"}),c===2&&n.jsx("button",{type:"submit",disabled:a,className:"px-4 py-2 rounded-lg font-semibold transition-colors hover:bg-indigo-700 disabled:opacity-70 disabled:cursor-not-allowed",style:{backgroundColor:st.primary,color:"white"},children:a?"Updating...":"Update Assistant"})]})]})})]})})},$0="https://aisdr-dbt.ddns.net";function Dhe(){const e=rn(),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(!0),[f,h]=x.useState(""),[g,b]=x.useState("all"),[y,j]=x.useState("all"),[w,S]=x.useState("created_at"),[k,_]=x.useState("desc"),[C,P]=x.useState(!1),[T,E]=x.useState(null),[$,M]=x.useState([]),[F,K]=x.useState(!1),[z,U]=x.useState({vapi_assistant_id:"",number:"",first_name:"",last_name:"",email:""}),[ae,ke]=x.useState(1),se=10,O=x.useMemo(()=>localStorage.getItem("token"),[]),H=async()=>{try{c(!0);const le=await fetch(`${$0}/api/get-assistants`,{headers:{Accept:"application/json",Authorization:O?`Bearer ${O}`:""}});if(!le.ok)throw new Error(`HTTP ${le.status}`);const Te=await le.json(),ee=Array.isArray(Te)?Te:Array.isArray(Te==null?void 0:Te.assistants)?Te.assistants:[];a(ee)}catch(le){console.error(le),I.error("Failed to fetch assistants")}finally{s(!1),c(!1)}};x.useEffect(()=>{H()},[]),x.useEffect(()=>{if(!u)return;const le=setInterval(H,15e3);return()=>clearInterval(le)},[u]);const G=x.useMemo(()=>{let le=[...t];g!=="all"&&(le=le.filter(ee=>((ee==null?void 0:ee.provider)||"").toLowerCase()===g)),y!=="all"&&(le=le.filter(ee=>((ee==null?void 0:ee.category)||"").toLowerCase()===y));const Te=f.trim().toLowerCase();return Te&&(le=le.filter(ee=>[ee==null?void 0:ee.name,ee==null?void 0:ee.model,ee==null?void 0:ee.voice,ee==null?void 0:ee.category,ee==null?void 0:ee.attached_Number].filter(Boolean).map(String).map(De=>De.toLowerCase()).some(De=>De.includes(Te)))),le.sort((ee,we)=>{if(w==="created_at"){const Ve=ee!=null&&ee.created_at?new Date(ee.created_at).getTime():0,rt=we!=null&&we.created_at?new Date(we.created_at).getTime():0;return k==="asc"?Ve-rt:rt-Ve}const De=((ee==null?void 0:ee[w])??"").toString().toLowerCase(),Ue=((we==null?void 0:we[w])??"").toString().toLowerCase();return De<Ue?k==="asc"?-1:1:De>Ue?k==="asc"?1:-1:0}),le},[t,f,g,y,w,k]),B=x.useMemo(()=>{const le=new Set((t||[]).map(Te=>((Te==null?void 0:Te.provider)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(le)]},[t]),A=x.useMemo(()=>{const le=new Set((t||[]).map(Te=>((Te==null?void 0:Te.category)||"").toLowerCase()).filter(Boolean));return["all",...Array.from(le)]},[t]),L=Math.max(1,Math.ceil(G.length/se)),R=Math.min(ae,L),q=G.slice((R-1)*se,R*se),ce=x.useMemo(()=>G.length?G.reduce((le,Te)=>{const ee=le!=null&&le.created_at?new Date(le.created_at):null,we=Te!=null&&Te.created_at?new Date(Te.created_at):null;return!ee&&we?Te:!we&&ee||!ee&&!we?le:we>ee?Te:le},G[0]):null,[G]),Z=le=>{w===le?_(Te=>Te==="asc"?"desc":"asc"):(S(le),_("asc"))},W=le=>{E(le),P(!0)},_e=async()=>{if(T)try{const le=await fetch(`${$0}/api/assistants/${T}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:O?`Bearer ${O}`:""}});if(!le.ok){let Te=`HTTP ${le.status}`;try{const ee=await le.json();ee!=null&&ee.detail&&(Te=ee.detail)}catch{}throw new Error(Te)}I.success("Assistant deleted"),M(Te=>Te.filter(ee=>ee!==T)),H()}catch(le){console.error(le),I.error((le==null?void 0:le.message)||"Delete failed")}finally{P(!1),E(null)}},te=le=>{const Te=le==null?void 0:le.knowledge_base;if(Array.isArray(Te)&&Te.length){const ee=Te.filter(we=>typeof we=="string"&&/^https?:\/\//i.test(we));if(ee.length){ee.forEach(we=>window.open(we,"_blank","noopener"));return}}I.info("No file URLs available for this assistant.")},je=le=>{if(!(le!=null&&le.vapi_assistant_id)){I.error("Missing VAPI Assistant ID");return}U({vapi_assistant_id:le.vapi_assistant_id,number:"",first_name:"",last_name:"",email:""}),K(!0)},Ee=async le=>{le.preventDefault();const{vapi_assistant_id:Te,number:ee,first_name:we,last_name:De,email:Ue}=z;if(!ee)return I.error("Enter the customer's phone number (E.164 preferred)");try{const Ve=`${$0}/api/phone-call/${encodeURIComponent(Te)}/${encodeURIComponent(ee)}`,rt={first_name:we||"Caller",last_name:De||"",email:Ue||"caller@example.com",add_date:new Date().toISOString(),mobile_no:ee,custom_field_01:null,custom_field_02:null},tt=await fetch(Ve,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json",Authorization:O?`Bearer ${O}`:""},body:JSON.stringify(rt)}),Ce=await tt.json().catch(()=>({}));if(!tt.ok||(Ce==null?void 0:Ce.success)===!1)throw new Error((Ce==null?void 0:Ce.detail)||`HTTP ${tt.status}`);I.success("Call initiated"),K(!1)}catch(Ve){console.error(Ve),I.error((Ve==null?void 0:Ve.message)||"Failed to initiate call")}},Ae=le=>$.includes(le),xe=le=>{M(Te=>Te.includes(le)?Te.filter(ee=>ee!==le):[...Te,le])},Fe=()=>{const le=q.map(ee=>ee.id).filter(Boolean),Te=le.every(ee=>$.includes(ee));M(ee=>Te?ee.filter(we=>!le.includes(we)):Array.from(new Set([...ee,...le])))},Be=async()=>{if(!$.length)return I.info("No rows selected");if(window.confirm("Delete selected assistants? This cannot be undone."))try{for(const le of $)await fetch(`${$0}/api/assistants/${le}`,{method:"DELETE",headers:{Accept:"application/json",Authorization:O?`Bearer ${O}`:""}});I.success("Bulk delete complete"),M([]),H()}catch(le){console.error(le),I.error("Bulk delete encountered an error")}},ve=()=>{const le=["Name","Model","Voice","Attached Number","Category","Created"],Te=G.map(Ve=>[(Ve==null?void 0:Ve.name)??"",(Ve==null?void 0:Ve.model)??"",(Ve==null?void 0:Ve.voice)??"",(Ve==null?void 0:Ve.attached_Number)??"",(Ve==null?void 0:Ve.category)??"",Ve!=null&&Ve.created_at?new Date(Ve.created_at).toLocaleString():""]),ee=[le,...Te].map(Ve=>Ve.map(rt=>`"${String(rt).replace(/"/g,'""')}"`).join(",")).join(`
`),we=new Blob([ee],{type:"text/csv;charset=utf-8;"}),De=URL.createObjectURL(we),Ue=document.createElement("a");Ue.href=De,Ue.download="assistants.csv",Ue.click(),URL.revokeObjectURL(De)};return r?n.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:n.jsx("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:n.jsxs("div",{className:"animate-pulse",children:[n.jsxs("div",{className:"mb-8 rounded-3xl bg-gradient-to-r from-blue-100 to-cyan-100 p-8",children:[n.jsx("div",{className:"mb-4 h-8 w-64 rounded-lg bg-white/60"}),n.jsx("div",{className:"h-4 w-96 rounded-lg bg-white/40"})]}),n.jsx("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[...Array(4)].map((le,Te)=>n.jsxs("div",{className:"rounded-2xl border border-gray-100 bg-white p-6 shadow-sm",children:[n.jsx("div",{className:"mb-3 h-4 w-24 rounded bg-gray-200"}),n.jsx("div",{className:"h-8 w-16 rounded bg-gray-300"})]},Te))}),n.jsxs("div",{className:"overflow-hidden rounded-2xl border border-gray-100 bg-white shadow-sm",children:[n.jsx("div",{className:"border-b border-gray-100 p-6",children:n.jsx("div",{className:"h-6 w-32 rounded bg-gray-200"})}),[...Array(5)].map((le,Te)=>n.jsx("div",{className:"border-b border-gray-50 p-6 last:border-b-0",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"h-12 w-12 rounded-xl bg-gray-200"}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"mb-2 h-4 w-48 rounded bg-gray-200"}),n.jsx("div",{className:"h-3 w-32 rounded bg-gray-100"})]}),n.jsx("div",{className:"flex gap-2",children:[...Array(4)].map((ee,we)=>n.jsx("div",{className:"h-8 w-8 rounded-lg bg-gray-100"},we))})]})},Te))]})]})})}):n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-cyan-50",children:[n.jsxs("div",{className:"relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-600 via-blue-700 to-cyan-600"}),n.jsx("div",{className:"absolute inset-0 opacity-20",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fillRule='evenodd'%3E%3Cg fill='%23ffffff' fillOpacity='0.05'%3E%3Ccircle cx='30' cy='30' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E")`}}),n.jsxs("div",{className:"relative mx-auto w-full max-w-[1400px] px-6 py-12",children:[n.jsxs("div",{className:"flex flex-col gap-8 lg:flex-row lg:items-center lg:justify-between",children:[n.jsxs("div",{className:"text-white",children:[n.jsxs("div",{className:"mb-4 flex items-center gap-3",children:[n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-2xl bg-white/20 backdrop-blur-sm",children:n.jsx(Td,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-4xl font-bold tracking-tight",children:"AI Assistants"}),n.jsx("p",{className:"mt-1 text-lg text-blue-100",children:"Manage your intelligent voice assistants"})]})]}),n.jsxs("div",{className:"flex items-center gap-6 text-sm text-blue-100",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-green-400"}),n.jsxs("span",{children:[G.length," Active"]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(nx,{className:"h-4 w-4"}),n.jsxs("span",{children:["Auto-refresh ",u?"enabled":"disabled"]})]})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[n.jsxs("button",{onClick:()=>m(le=>!le),className:`group flex items-center gap-2 rounded-xl px-4 py-2.5 text-sm font-medium backdrop-blur-sm transition-all duration-200 ${u?"bg-white/20 text-white hover:bg-white/30":"bg-white/10 text-blue-100 hover:bg-white/20"}`,children:[n.jsx("div",{className:`h-2 w-2 rounded-full ${u?"bg-green-400":"bg-gray-400"}`}),"Auto Refresh"]}),n.jsxs("button",{onClick:H,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(FL,{className:`h-4 w-4 transition-transform ${l?"animate-spin":"group-hover:rotate-180"}`}),"Refresh"]}),n.jsxs("button",{onClick:ve,className:"group flex items-center gap-2 rounded-xl bg-white/10 px-4 py-2.5 text-sm font-medium text-white backdrop-blur-sm transition-all duration-200 hover:bg-white/20",children:[n.jsx(UL,{className:"h-4 w-4 transition-transform group-hover:translate-y-0.5"}),"Export"]}),n.jsxs("button",{onClick:()=>e("/admin/addassistands"),className:"group flex items-center gap-2 rounded-xl bg-white px-4 py-2.5 text-sm font-semibold text-blue-700 shadow-lg transition-all duration-200 hover:scale-105 hover:bg-blue-50 hover:shadow-xl",children:[n.jsx(eg,{className:"h-4 w-4 transition-transform group-hover:rotate-90"}),"Create Assistant"]})]})]}),n.jsxs("div",{className:"mt-8 grid grid-cols-1 gap-4",children:[n.jsxs("div",{className:"relative",children:[n.jsx(VL,{className:"pointer-events-none absolute left-4 top-1/2 h-5 w-5 -translate-y-1/2 text-white/70"}),n.jsx("input",{value:f,onChange:le=>h(le.target.value),placeholder:"Search assistants, models, voices...",className:"w-full rounded-xl bg-white/10 py-3 pl-12 pr-4 text-white placeholder-white/70 backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40"})]}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[n.jsx(hP,{label:"Provider",value:g,onChange:b,options:B,icon:n.jsx(Dme,{className:"h-4 w-4"})}),n.jsx(hP,{label:"Category",value:y,onChange:j,options:A,icon:n.jsx(rf,{className:"h-4 w-4"})})]})]})]})]}),n.jsxs("div",{className:"mx-auto w-full max-w-[1400px] px-4 py-8 sm:px-6 lg:px-8",children:[n.jsxs("div",{className:"mb-8 grid grid-cols-1 gap-6 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(I0,{title:"Total Assistants",value:G.length,icon:n.jsx(Td,{className:"h-6 w-6 text-blue-600"}),trend:"+12%",trendUp:!0}),n.jsx(I0,{title:"Active Calls",value:"24",icon:n.jsx(Sl,{className:"h-6 w-6 text-green-600"}),trend:"+5%",trendUp:!0}),n.jsx(I0,{title:"Success Rate",value:"94.2%",icon:n.jsx(ls,{className:"h-6 w-6 text-emerald-600"}),trend:"+2.1%",trendUp:!0}),n.jsx(I0,{title:"Last Created",value:ce!=null&&ce.name?ce.name.length>12?`${ce.name.slice(0,12)}`:ce.name:"",icon:n.jsx(nx,{className:"h-6 w-6 text-cyan-600"}),subtitle:ce!=null&&ce.created_at?new Date(ce.created_at).toLocaleDateString():""})]}),$.length>0&&n.jsx("div",{className:"mb-6 rounded-2xl border border-blue-200 bg-blue-50/50 p-4 backdrop-blur-sm",children:n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-10 w-10 items-center justify-center rounded-xl bg-blue-100",children:n.jsx(ls,{className:"h-5 w-5 text-blue-600"})}),n.jsxs("div",{children:[n.jsxs("p",{className:"font-semibold text-blue-900",children:[$.length," assistants selected"]}),n.jsx("p",{className:"text-sm text-blue-700",children:"Choose an action to perform on selected items"})]})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:Fe,className:"rounded-xl border border-blue-200 bg-white px-4 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-50",children:"Toggle Page"}),n.jsx("button",{onClick:Be,className:"rounded-xl bg-red-600 px-4 py-2 text-sm font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",children:"Delete Selected"})]})]})}),G.length===0?n.jsx(Ihe,{}):n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:"hidden rounded-2xl border border-gray-200 bg-white shadow-sm xl:block",children:[n.jsxs("div",{className:"border-b border-gray-100 px-6 py-4",children:[n.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Assistants Overview"}),n.jsx("p",{className:"text-sm text-gray-600",children:"Manage and monitor your AI assistants"})]}),n.jsxs("table",{className:"w-full table-auto divide-y divide-gray-100",children:[n.jsx("thead",{className:"bg-gray-50/60",children:n.jsxs("tr",{children:[n.jsx(Rhe,{className:"w-12 text-center",checked:q.every(le=>$.includes(le.id))&&q.length>0,onChange:Fe}),n.jsx(Wc,{className:"w-[24%]",align:"center",label:"Assistant",sortKey:"name",sortDir:w==="name"?k:null,onSort:Z}),n.jsx(Wc,{className:"w-[12%]",align:"center",label:"Model",sortKey:"model",sortDir:w==="model"?k:null,onSort:Z}),n.jsx(Wc,{className:"w-[12%]",align:"center",label:"Voice",sortKey:"voice",sortDir:w==="voice"?k:null,onSort:Z}),n.jsx(Wc,{className:"w-[16%]",align:"center",label:"Phone Number",sortKey:"attached_Number",sortDir:w==="attached_Number"?k:null,onSort:Z}),n.jsx(Wc,{className:"w-[10%]",align:"center",label:"Category",sortKey:"category",sortDir:w==="category"?k:null,onSort:Z}),n.jsx(Wc,{className:"w-[8%]",align:"center",label:"Created",sortKey:"created_at",sortDir:w==="created_at"?k:null,onSort:Z}),n.jsx("th",{className:"w-[18%] px-6 py-4 text-center text-sm font-semibold text-gray-700",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-50 bg-white align-middle",children:q.map(le=>n.jsxs("tr",{className:`group transition-colors duration-150 hover:bg-blue-50/30 ${Ae(le.id)?"bg-blue-50/50":""}`,children:[n.jsx(Lhe,{className:"w-12 text-center",checked:Ae(le.id),onChange:()=>xe(le.id)}),n.jsx("td",{className:"w-[24%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"flex h-12 w-12 shrink-0 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white shadow-sm",children:n.jsx(rf,{className:"h-5 w-5"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"max-w-[32ch] truncate font-semibold text-gray-900 transition-colors group-hover:text-blue-700",children:le.name||""}),n.jsxs("div",{className:"text-sm text-gray-500",children:[Array.isArray(le.knowledge_base)?le.knowledge_base.length:0," KB items"]})]})]})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(fd,{variant:"secondary",children:le.model||""})})}),n.jsx("td",{className:"w-[12%] px-6 py-4",children:n.jsx("div",{className:"mx-auto max-w-[22ch] truncate text-center",children:n.jsx(fd,{variant:"accent",children:le.voice||""})})}),n.jsx("td",{className:"w-[16%] px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-center gap-2",children:[n.jsx("span",{className:"font-mono text-sm text-gray-700 break-all",children:le.attached_Number||""}),le.attached_Number&&n.jsx("button",{className:"rounded-lg p-1.5 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",title:"Copy number",onClick:()=>Bhe(le.attached_Number),children:n.jsx(zL,{className:"h-4 w-4"})})]})}),n.jsx("td",{className:"w-[10%] px-6 py-4",children:n.jsx("div",{className:"text-center",children:le.category?n.jsx(fd,{variant:"primary",children:le.category}):n.jsx("span",{className:"text-gray-400",children:""})})}),n.jsx("td",{className:"w-[8%] px-6 py-4 text-center text-sm text-gray-600 whitespace-nowrap",children:le.created_at?new Date(le.created_at).toLocaleDateString():""}),n.jsx("td",{className:"w-[18%] px-6 py-4",children:n.jsxs("div",{className:"mx-auto flex w-full items-center justify-center gap-2 whitespace-nowrap",children:[n.jsx(B0,{title:"Edit Assistant",onClick:()=>e(`/admin/edit-assistants/${le.id}`),variant:"primary",children:n.jsx(Qx,{className:"h-4 w-4"})}),n.jsx(B0,{title:"View Files",onClick:()=>te(le),variant:"success",children:n.jsx(Jx,{className:"h-4 w-4"})}),n.jsx(B0,{title:"Start Call",onClick:()=>je(le),variant:"secondary",children:n.jsx(Sl,{className:"h-4 w-4"})}),n.jsx(B0,{title:"Delete",onClick:()=>W(le.id),variant:"danger",children:n.jsx(Bo,{className:"h-4 w-4"})})]})})]},le.id??le.name))})]})]}),n.jsx("div",{className:"space-y-4 xl:hidden",children:q.map(le=>n.jsx($he,{assistant:le,isSelected:Ae(le.id),onToggleSelect:()=>xe(le.id),onEdit:()=>e(`/admin/edit-assistants/${le.id}`),onViewFiles:()=>te(le),onCall:()=>je(le),onDelete:()=>W(le.id)},le.id??le.name))}),n.jsxs("div",{className:"mt-8 flex flex-wrap items-center justify-between gap-3",children:[n.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",(R-1)*se+1," to ",Math.min(R*se,G.length)," of"," ",G.length," assistants"]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsxs(pP,{disabled:R<=1,onClick:()=>ke(le=>Math.max(1,le-1)),children:[n.jsx($L,{className:"h-4 w-4"}),"Previous"]}),n.jsx("div",{className:"flex items-center gap-1",children:Array.from({length:Math.min(5,L)},(le,Te)=>{const ee=Te+1;return n.jsx("button",{onClick:()=>ke(ee),className:`h-10 w-10 rounded-xl text-sm font-medium transition-all ${ee===R?"bg-blue-600 text-white shadow-lg":"text-gray-600 hover:bg-gray-100"}`,children:ee},ee)})}),n.jsxs(pP,{disabled:R>=L,onClick:()=>ke(le=>Math.min(L,le+1)),children:["Next",n.jsx(IL,{className:"h-4 w-4"})]})]})]})]})]}),C&&n.jsx(xP,{onClose:()=>P(!1),children:n.jsxs("div",{className:"text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-red-100",children:n.jsx(Bo,{className:"h-8 w-8 text-red-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Delete Assistant"}),n.jsx("p",{className:"mb-6 text-gray-600",children:"Are you sure you want to delete this assistant? This action cannot be undone."}),n.jsxs("div",{className:"flex justify-center gap-3",children:[n.jsx("button",{className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",onClick:()=>P(!1),children:"Cancel"}),n.jsx("button",{className:"rounded-xl bg-red-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-red-700 hover:shadow-lg",onClick:_e,children:"Delete Assistant"})]})]})}),F&&n.jsxs(xP,{onClose:()=>K(!1),children:[n.jsxs("div",{className:"mb-6 text-center",children:[n.jsx("div",{className:"mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full bg-blue-100",children:n.jsx(Sl,{className:"h-8 w-8 text-blue-600"})}),n.jsx("h2",{className:"mb-2 text-xl font-semibold text-gray-900",children:"Start Phone Call"}),n.jsx("p",{className:"text-gray-600",children:"Initiate a call with your AI assistant"})]}),n.jsxs("form",{onSubmit:Ee,className:"space-y-4",children:[n.jsx(z0,{label:"Customer Phone Number",value:z.number,onChange:le=>U(Te=>({...Te,number:le})),placeholder:"+1 (555) 123-4567",required:!0}),n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[n.jsx(z0,{label:"First Name",value:z.first_name,onChange:le=>U(Te=>({...Te,first_name:le})),placeholder:"John"}),n.jsx(z0,{label:"Last Name",value:z.last_name,onChange:le=>U(Te=>({...Te,last_name:le})),placeholder:"Doe"})]}),n.jsx(z0,{label:"Email Address",value:z.email,onChange:le=>U(Te=>({...Te,email:le})),placeholder:"john@example.com",type:"email"}),n.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:()=>K(!1),className:"rounded-xl border border-gray-300 bg-white px-6 py-2.5 font-medium text-gray-700 transition-colors hover:bg-gray-50",children:"Cancel"}),n.jsx("button",{type:"submit",className:"rounded-xl bg-blue-600 px-6 py-2.5 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:"Start Call"})]})]})]})]})}function I0({title:e,value:t,icon:a,trend:r,trendUp:s,subtitle:l}){return n.jsxs("div",{className:"group relative overflow-hidden rounded-2xl border border-gray-200 bg-white p-6 shadow-sm transition-all duration-300 hover:scale-[1.02] hover:shadow-lg",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-blue-50/50 to-transparent opacity-0 transition-opacity group-hover:opacity-100"}),n.jsxs("div",{className:"relative",children:[n.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[n.jsx("div",{className:"text-sm font-medium text-gray-600",children:e}),a]}),n.jsx("div",{className:"mb-1 text-2xl font-bold text-gray-900",children:t}),l&&n.jsx("div",{className:"text-sm text-gray-500",children:l}),r&&n.jsxs("div",{className:`text-sm font-medium ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})]})}function hP({label:e,value:t,onChange:a,options:r}){return n.jsxs("div",{className:"relative",children:[n.jsx("select",{value:t,onChange:s=>a(s.target.value),className:"w-full appearance-none rounded-xl bg-white/10 py-3 pl-4 pr-10 text-white backdrop-blur-sm outline-none ring-1 ring-white/20 transition-all duration-200 focus:bg-white/20 focus:ring-2 focus:ring-white/40",children:r.map(s=>n.jsx("option",{value:s,className:"bg-gray-800 text-white",children:s==="all"?`All ${e}s`:s},s))}),n.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-3",children:n.jsx(Zx,{className:"h-4 w-4 text-white/70"})})]})}function fd({children:e,variant:t="default"}){const a={default:"bg-gray-100 text-gray-800",primary:"bg-blue-100 text-blue-800",secondary:"bg-cyan-100 text-cyan-800",success:"bg-green-100 text-green-800",accent:"bg-purple-100 text-purple-800"};return n.jsx("span",{className:`inline-flex items-center rounded-lg px-2.5 py-1 text-xs font-medium ${a[t]}`,children:e})}function B0({title:e,onClick:t,children:a,variant:r="default"}){const s={default:"text-gray-600 hover:bg-gray-100 hover:text-gray-800",primary:"text-blue-600 hover:bg-blue-100 hover:text-blue-800",secondary:"text-cyan-600 hover:bg-cyan-100 hover:text-cyan-800",success:"text-green-600 hover:bg-green-100 hover:text-green-800",danger:"text-red-600 hover:bg-red-100 hover:text-red-800"};return n.jsx("button",{title:e,onClick:t,className:`rounded-xl p-2.5 transition-all duration-200 ${s[r]}`,children:a})}function Wc({label:e,sortKey:t,sortDir:a,onSort:r,className:s="",align:l="left"}){const c=l==="center"?"text-center":"text-left";return n.jsx("th",{className:`px-6 py-4 ${c} ${s}`,children:n.jsxs("button",{onClick:()=>r(t),className:`group flex w-full items-center gap-2 ${l==="center"?"justify-center":"justify-start"} text-sm font-semibold text-gray-700 transition-colors hover:text-blue-600`,children:[e,n.jsxs("div",{className:"flex flex-col",children:[n.jsx(BL,{className:`h-3 w-3 transition-colors ${a==="asc"?"text-blue-600":"text-gray-400"}`}),n.jsx(Zx,{className:`-mt-1 h-3 w-3 transition-colors ${a==="desc"?"text-blue-600":"text-gray-400"}`})]})]})})}function Rhe({checked:e,onChange:t,className:a=""}){return n.jsx("th",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(ls,{className:"h-3 w-3"})})})})}function Lhe({checked:e,onChange:t,className:a=""}){return n.jsx("td",{className:`px-6 py-4 ${a}`,children:n.jsx("div",{className:"flex items-center justify-center",children:n.jsx("button",{onClick:t,className:`flex h-5 w-5 items-center justify-center rounded-md border-2 transition-all ${e?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:e&&n.jsx(ls,{className:"h-3 w-3"})})})})}function $he({assistant:e,isSelected:t,onToggleSelect:a,onEdit:r,onViewFiles:s,onCall:l,onDelete:c}){return n.jsxs("div",{className:`rounded-2xl border bg-white p-6 shadow-sm transition-all duration-200 hover:shadow-md ${t?"border-blue-200 bg-blue-50/30":"border-gray-200"}`,children:[n.jsxs("div",{className:"mb-4 flex items-start justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("button",{onClick:a,className:`flex h-6 w-6 items-center justify-center rounded-lg border-2 transition-all ${t?"border-blue-600 bg-blue-600 text-white":"border-gray-300 hover:border-blue-400"}`,children:t&&n.jsx(ls,{className:"h-4 w-4"})}),n.jsx("div",{className:"flex h-12 w-12 items-center justify-center rounded-xl bg-gradient-to-br from-blue-500 to-cyan-500 text-white",children:n.jsx(rf,{className:"h-6 w-6"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900",children:e.name||""}),n.jsxs("p",{className:"text-sm text-gray-500",children:[Array.isArray(e.knowledge_base)?e.knowledge_base.length:0," KB items"]})]})]}),n.jsx("div",{className:"text-xs text-gray-500",children:e.created_at?new Date(e.created_at).toLocaleDateString():""})]}),n.jsxs("div",{className:"mb-4 grid grid-cols-2 gap-4 text-sm",children:[n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Model"}),n.jsx(fd,{variant:"secondary",children:e.model||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Voice"}),n.jsx(fd,{variant:"accent",children:e.voice||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Phone"}),n.jsx("div",{className:"font-mono text-sm break-all",children:e.attached_Number||""})]}),n.jsxs("div",{children:[n.jsx("div",{className:"mb-1 text-gray-500",children:"Category"}),e.category?n.jsx(fd,{variant:"primary",children:e.category}):n.jsx("span",{className:"text-gray-400",children:""})]})]}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsxs("button",{onClick:r,className:"flex items-center gap-2 rounded-xl bg-blue-50 px-3 py-2 text-sm font-medium text-blue-700 transition-colors hover:bg-blue-100",children:[n.jsx(Qx,{className:"h-4 w-4"}),"Edit"]}),n.jsxs("button",{onClick:s,className:"flex items-center gap-2 rounded-xl bg-green-50 px-3 py-2 text-sm font-medium text-green-700 transition-colors hover:bg-green-100",children:[n.jsx(Jx,{className:"h-4 w-4"}),"Files"]}),n.jsxs("button",{onClick:l,className:"flex items-center gap-2 rounded-xl bg-cyan-50 px-3 py-2 text-sm font-medium text-cyan-700 transition-colors hover:bg-cyan-100",children:[n.jsx(Sl,{className:"h-4 w-4"}),"Call"]}),n.jsxs("button",{onClick:c,className:"flex items-center gap-2 rounded-xl bg-red-50 px-3 py-2 text-sm font-medium text-red-700 transition-colors hover:bg-red-100",children:[n.jsx(Bo,{className:"h-4 w-4"}),"Delete"]})]})]})}function pP({disabled:e,onClick:t,children:a}){return n.jsx("button",{disabled:e,onClick:t,className:`flex items-center gap-2 rounded-xl border px-4 py-2 text-sm font-medium transition-all ${e?"cursor-not-allowed border-gray-200 text-gray-400":"border-gray-300 text-gray-700 hover:border-gray-400 hover:bg-gray-50"}`,children:a})}function xP({children:e,onClose:t}){return n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm",onClick:t}),n.jsxs("div",{className:"relative w-full max-w-md rounded-2xl border border-gray-200 bg-white p-6 shadow-2xl",children:[n.jsx("button",{onClick:t,className:"absolute right-4 top-4 rounded-xl p-2 text-gray-400 transition-colors hover:bg-gray-100 hover:text-gray-600",children:n.jsx("svg",{className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),e]})]})}function z0({label:e,value:t,onChange:a,placeholder:r,required:s,type:l="text"}){return n.jsxs("div",{children:[n.jsxs("label",{className:"mb-2 block text-sm font-medium text-gray-700",children:[e," ",s&&n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:l,value:t,onChange:c=>a(c.target.value),placeholder:r,required:s,className:"w-full rounded-xl border border-gray-300 px-4 py-3 text-gray-900 placeholder-gray-500 transition-all focus:border-blue-500 focus:outline-none focus:ring-2 focus:ring-blue-500/20"})]})}function Ihe(){return n.jsxs("div",{className:"rounded-2xl border border-gray-200 bg-white p-12 text-center shadow-sm",children:[n.jsx("div",{className:"mx-auto mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-blue-100 to-cyan-100",children:n.jsx(Td,{className:"h-10 w-10 text-blue-600"})}),n.jsx("h3",{className:"mb-2 text-xl font-semibold text-gray-900",children:"No assistants found"}),n.jsx("p",{className:"mx-auto mb-6 max-w-sm text-gray-600",children:"Get started by creating your first AI assistant to handle customer interactions."}),n.jsxs("a",{href:"/admin/addassistands",className:"inline-flex items-center gap-2 rounded-xl bg-blue-600 px-6 py-3 font-medium text-white transition-all hover:bg-blue-700 hover:shadow-lg",children:[n.jsx(eg,{className:"h-5 w-5"}),"Create Your First Assistant"]})]})}function Bhe(e){e&&navigator.clipboard.writeText(e).then(()=>I.success("Copied to clipboard")).catch(()=>I.info(e))}const gP="https://aisdr-dbt.ddns.net",bP={PHONE_NUMBERS:`${gP}/api/admin/phone-numbers`,PHONE_NUMBER:e=>`${gP}/api/admin/phone-numbers/${e}`},zhe="bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600";function vP(e){if(e==null||isNaN(Number(e)))return"";try{return new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}).format(Number(e))}catch{return`$${Number(e).toFixed(2)}`}}function Zr({children:e,className:t="",variant:a="outline",size:r="md",...s}){const l="inline-flex items-center justify-center rounded-xl font-semibold focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-400 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",c={sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-sm px-4 py-2.5"},u={primary:"bg-blue-600 text-white hover:bg-blue-700 border border-blue-600 shadow-sm",danger:"bg-red-600 text-white hover:bg-red-700 border border-red-600 shadow-sm",outline:"bg-white text-slate-800 hover:bg-slate-50 border border-slate-300 shadow-sm",subtle:"bg-slate-100 text-slate-800 hover:bg-slate-200 border border-slate-200",ghost:"bg-transparent text-slate-700 hover:bg-slate-100 border border-transparent"};return n.jsx("button",{...s,className:`${l} ${c[r]} ${u[a]} ${t}`,children:e})}function U0({children:e,className:t=""}){return n.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-1 text-xs font-semibold ${t}`,children:e})}function ho({children:e}){return n.jsx("th",{className:"px-4 py-4 text-left text-xs font-bold uppercase tracking-wider text-slate-700",children:e})}function po({children:e}){return n.jsx("td",{className:"px-4 py-4 align-middle",children:e})}function Uhe(){return n.jsx("span",{className:"pointer-events-none absolute left-0 top-1/2 -translate-y-1/2 h-7 w-1 rounded-r-full bg-gradient-to-b from-blue-500 to-cyan-400 shadow-[0_0_12px_rgba(59,130,246,0.5)]"})}function F0({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":"ring-cyan-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":"from-cyan-500 to-blue-600";return n.jsxs(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:[n.jsx("div",{className:"absolute -inset-0.5 rounded-3xl opacity-20 blur-2xl",style:{background:"linear-gradient(135deg, #06b6d466, #ffffff00)"}}),n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})]})}function Fhe({name:e="?",size:t=38,url:a=null}){const r=(e||"?").split(" ").map(s=>s.charAt(0)).join("").toUpperCase().slice(0,2);return n.jsx("div",{className:"overflow-hidden rounded-xl ring-1 ring-slate-200 bg-slate-100 grid place-content-center text-slate-700 font-bold",style:{width:t,height:t},title:e,children:n.jsx("span",{style:{fontSize:t<40?12:13},children:r})})}function Vhe({children:e,onClose:t,title:a}){return n.jsxs(pe.div,{className:"fixed inset-0 z-50 grid place-items-center p-3 sm:p-4",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},role:"dialog","aria-modal":"true",children:[n.jsx("div",{className:"absolute inset-0 bg-black/40 backdrop-blur-sm",onClick:t,"aria-hidden":"true"}),n.jsxs(pe.div,{className:"relative z-10 w-full max-w-lg sm:max-w-xl rounded-2xl border border-slate-200 bg-white shadow-2xl",initial:{y:20,scale:.98,opacity:0},animate:{y:0,scale:1,opacity:1},exit:{y:10,scale:.98,opacity:0},transition:{type:"spring",stiffness:240,damping:22},children:[n.jsxs("div",{className:"flex items-center justify-between px-4 sm:px-5 py-3 border-b border-slate-200",children:[n.jsx("div",{className:"text-base sm:text-lg font-bold text-slate-900",children:a}),n.jsx(Zr,{onClick:t,variant:"ghost","aria-label":"Close",className:"rounded-lg p-1.5",children:n.jsx(Oa,{className:"h-5 w-5"})})]}),n.jsx("div",{className:"px-4 sm:px-5 py-4 max-h-[75vh] overflow-y-auto",children:e})]})]})}function Hhe(){var H,G;const[e,t]=x.useState([]),[a,r]=x.useState({total:0,attached:0,unattached:0,countries:0}),[s,l]=x.useState(!1),[c,u]=x.useState(""),[m,f]=x.useState(null),[h,g]=x.useState(""),[b,y]=x.useState("all"),[j,w]=x.useState("all"),[S,k]=x.useState(1),_=10,[C,P]=x.useState(()=>{try{return JSON.parse(localStorage.getItem("impersonation_info")||"null")}catch{return null}}),[T,E]=x.useState(null),$=x.useCallback(async()=>{if(C){t([]),r({total:0,attached:0,unattached:0,countries:0}),u("You're in impersonation mode. Exit impersonation to use admin tools.");return}const B=localStorage.getItem("token");if(!B){t([]),r({total:0,attached:0,unattached:0,countries:0}),u("No auth token found."),I.error("No authentication token found.");return}try{l(!0),u("");const A=await fetch(bP.PHONE_NUMBERS,{headers:{Authorization:`Bearer ${B}`,Accept:"application/json"},mode:"cors"});if(!A.ok){const _e=await A.text();throw new Error(`HTTP ${A.status}${_e?`  ${_e}`:""}`)}const L=await A.json();if(!(L!=null&&L.success)||!Array.isArray(L==null?void 0:L.phone_numbers))throw new Error("Unexpected response shape.");const R=(L.phone_numbers||[]).map(_e=>({id:_e.id,phone_number:_e.phone_number,friendly_name:_e.friendly_name||"",region:_e.region||"",postal_code:_e.postal_code||"",iso_country:(_e.iso_country||"").toUpperCase(),last_month_payment:_e.last_month_payment,created_at:_e.created_at,updated_at:_e.updated_at,attached_assistant:_e.attached_assistant,vapi_phone_uuid:_e.vapi_phone_uuid||null,owner:_e.user||null}));R.sort((_e,te)=>new Date(te.updated_at||te.created_at||0)-new Date(_e.updated_at||_e.created_at||0)),t(R);const q=R.filter(_e=>_e.attached_assistant!==null&&_e.attached_assistant!==void 0).length,ce=L.total_phone_numbers??R.length,Z=Math.max(0,ce-q),W=new Set(R.map(_e=>_e.iso_country||"")).size;r({total:ce,attached:q,unattached:Z,countries:W})}catch(A){u((A==null?void 0:A.message)||"Failed to load phone numbers"),I.error((A==null?void 0:A.message)||"Failed to load phone numbers")}finally{l(!1)}},[C]);x.useEffect(()=>{$()},[$]);const M=x.useMemo(()=>{const B=new Set(e.map(A=>A.iso_country).filter(Boolean));return["all",...Array.from(B).sort()]},[e]),F=x.useMemo(()=>{let B=[...e];if(h.trim()){const A=h.trim().toLowerCase();B=B.filter(L=>{var R,q;return String(L.phone_number||"").toLowerCase().includes(A)||String(L.friendly_name||"").toLowerCase().includes(A)||String(L.region||"").toLowerCase().includes(A)||String(L.postal_code||"").toLowerCase().includes(A)||String(((R=L.owner)==null?void 0:R.name)||"").toLowerCase().includes(A)||String(((q=L.owner)==null?void 0:q.email)||"").toLowerCase().includes(A)})}return b!=="all"&&(B=B.filter(A=>b==="attached"?A.attached_assistant:!A.attached_assistant)),j!=="all"&&(B=B.filter(A=>(A.iso_country||"").toUpperCase()===j)),B},[e,h,b,j]),K=Math.max(1,Math.ceil(F.length/_)),z=S*_,U=z-_,ae=F.slice(U,z);x.useEffect(()=>{k(1)},[h,b,j]);const ke=B=>E(B),se=async()=>{const B=T;if(!B)return;const A=localStorage.getItem("token");if(!A)return I.error("No authentication token found.");const L=e.find(R=>R.id===B);if(L!=null&&L.attached_assistant)return I.error("This number is attached to an assistant. Detach it first from the Assistants page.");try{f(B);const R=await fetch(bP.PHONE_NUMBER(B),{method:"DELETE",headers:{Authorization:`Bearer ${A}`,Accept:"application/json"}}),q=await R.json();if(!R.ok||!(q!=null&&q.success))throw new Error((q==null?void 0:q.detail)||(q==null?void 0:q.message)||`HTTP ${R.status}`);I.success(" Phone number deleted"),t(ce=>ce.filter(Z=>Z.id!==B)),r(ce=>({...ce,total:Math.max(0,ce.total-1),unattached:Math.max(0,ce.unattached-1)})),E(null)}catch(R){I.error((R==null?void 0:R.message)||"Delete failed")}finally{f(null)}},O=()=>{const B=localStorage.getItem("admin_token_backup");if(!B){I.error("No admin backup token found.");return}localStorage.setItem("token",B),localStorage.removeItem("admin_token_backup"),localStorage.removeItem("impersonation_info"),P(null),I.success(" Exited impersonation"),window.location.reload()};return n.jsxs("div",{className:"min-h-screen bg-slate-50 overflow-x-hidden",children:[C&&n.jsx("div",{className:"sticky top-0 z-50 border-b border-amber-200 bg-amber-50 px-3 sm:px-4 py-2 text-amber-800",children:n.jsxs("div",{className:"mx-auto flex max-w-screen-2xl items-center justify-between gap-2",children:[n.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm min-w-0",children:[n.jsx(As,{className:"h-4 w-4 shrink-0"}),n.jsx("span",{className:"font-semibold shrink-0",children:"Impersonation active:"}),n.jsxs("span",{className:"truncate",children:["Acting as ",n.jsx("b",{className:"break-all",children:(H=C.acting_as)==null?void 0:H.email})]})]}),n.jsxs(Zr,{onClick:O,variant:"outline",className:"text-amber-800 border-amber-300 hover:bg-amber-100",size:"sm",children:[n.jsx(Oa,{className:"mr-2 h-4 w-4"})," Exit"]})]})}),n.jsxs("div",{className:"pointer-events-none fixed inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-28 -left-28 h-96 w-96 rounded-full bg-cyan-300/40 blur-3xl"}),n.jsx("div",{className:"absolute -bottom-28 -right-28 h-96 w-96 rounded-full bg-blue-300/40 blur-3xl"})]}),n.jsxs("div",{className:"mx-auto w-full max-w-screen-2xl px-3 sm:px-6 lg:px-10 py-6 sm:py-8 lg:py-10",children:[n.jsxs("div",{className:"rounded-3xl border border-slate-200 bg-white p-4 sm:p-6 lg:p-7 shadow-xl relative overflow-hidden",children:[n.jsx(pe.div,{className:"absolute inset-0 opacity-20",style:{background:"radial-gradient(60% 60% at 0% 0%, rgba(14,165,233,0.25), transparent), radial-gradient(60% 60% at 100% 100%, rgba(37,99,235,0.25), transparent)"},initial:{opacity:.1},animate:{opacity:.2},transition:{duration:1.2},"aria-hidden":!0}),n.jsxs("div",{className:"relative z-10 flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4 min-w-0",children:[n.jsx("div",{className:"grid h-12 w-12 sm:h-14 sm:w-14 place-content-center rounded-2xl bg-gradient-to-br from-white to-slate-50 ring-1 ring-slate-200 shadow-inner shrink-0",children:n.jsx(gt,{className:"h-6 w-6 sm:h-7 sm:w-7 text-blue-600"})}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("h1",{className:"text-xl sm:text-3xl lg:text-4xl font-extrabold tracking-tight truncate",children:n.jsx("span",{className:`bg-clip-text text-transparent ${zhe}`,children:"Phone Numbers"})}),n.jsx("p",{className:"text-xs sm:text-sm text-slate-600",children:"View and manage purchased phone numbers. Delete numbers that are not attached to an assistant."})]})]}),n.jsx("div",{className:"flex flex-wrap items-center gap-2",children:n.jsx(Zr,{onClick:$,disabled:s||!!C,children:s?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4 animate-spin"})," Refreshing"]}):n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"mr-2 h-4 w-4"})," Refresh"]})})})]})]}),n.jsxs("div",{className:"mt-6 grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-4",children:[n.jsx(F0,{label:"Total Numbers",value:a.total,Icon:gt,tone:"blue"}),n.jsx(F0,{label:"Attached",value:a.attached,Icon:As,tone:"cyan"}),n.jsx(F0,{label:"Unattached",value:a.unattached,Icon:cr,tone:"blue"}),n.jsx(F0,{label:"Countries",value:a.countries,Icon:ci,tone:"cyan"})]}),n.jsx("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white p-3 sm:p-4 lg:p-5 shadow-xl",children:n.jsxs("div",{className:"flex flex-col gap-3 md:flex-row md:items-center md:justify-between",children:[n.jsxs("div",{className:"flex flex-1 items-center gap-2 min-w-0",children:[n.jsxs("div",{className:"relative flex-1 min-w-0",children:[n.jsx(Ha,{className:"pointer-events-none absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-slate-400"}),n.jsx("input",{value:h,onChange:B=>g(B.target.value),placeholder:"Search number, name, region, or owner",className:"w-full rounded-xl border border-slate-200 bg-white pl-9 pr-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",disabled:!!C})]}),n.jsxs("div",{className:"hidden md:flex items-center gap-2 text-slate-500 shrink-0",children:[n.jsx(_l,{className:"h-4 w-4"}),n.jsx("span",{className:"text-xs font-medium",children:"Filters"})]})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs("select",{value:b,onChange:B=>y(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:[n.jsx("option",{value:"all",children:"All statuses"}),n.jsx("option",{value:"attached",children:"Attached"}),n.jsx("option",{value:"unattached",children:"Unattached"})]}),n.jsx("select",{value:j,onChange:B=>w(B.target.value),disabled:!!C,className:"rounded-xl border border-slate-200 bg-white px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-400",children:M.map(B=>n.jsx("option",{value:B,children:B==="all"?"All countries":B},B))}),(h||b!=="all"||j!=="all")&&n.jsx(Zr,{onClick:()=>{g(""),y("all"),w("all")},className:"text-slate-700",disabled:!!C,children:"Clear"})]})]})}),n.jsxs("div",{className:"mt-6 rounded-3xl border border-slate-200 bg-white shadow-xl overflow-hidden",children:[n.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 border-b border-slate-200 bg-slate-50 px-4 sm:px-6 py-3",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx("div",{className:"grid h-8 w-8 place-content-center rounded-xl bg-blue-600 text-white shrink-0",children:n.jsx(gt,{className:"h-4 w-4"})}),n.jsxs("h2",{className:"text-sm sm:text-base font-bold text-slate-900 truncate",children:["All Phone Numbers (",F.length,")"]})]}),n.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[n.jsx("div",{className:"h-2 w-2 rounded-full bg-emerald-400 animate-pulse"}),"Live"]})]}),C?n.jsxs("div",{className:"grid place-content-center py-16 px-4 text-center",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-amber-100 mb-4 mx-auto",children:n.jsx(As,{className:"h-9 w-9 text-amber-500"})}),n.jsx("div",{className:"text-base sm:text-lg font-semibold text-slate-700",children:"Exit impersonation to access admin data"}),n.jsx("div",{className:"mt-3",children:n.jsxs(Zr,{onClick:O,variant:"primary",children:[n.jsx(Oa,{className:"h-4 w-4 mr-2"})," Exit Impersonation"]})})]}):s?n.jsxs("div",{className:"grid place-content-center py-16",children:[n.jsx(Ge,{className:"h-10 w-10 animate-spin text-blue-500 mx-auto mb-3"}),n.jsx("div",{className:"text-sm text-slate-600",children:"Loading phone numbers"})]}):F.length===0?n.jsxs("div",{className:"grid place-content-center py-16 px-4",children:[n.jsx("div",{className:"grid h-20 w-20 place-content-center rounded-full bg-slate-100 mb-4",children:n.jsx(gt,{className:"h-9 w-9 text-slate-400"})}),n.jsx("div",{className:"text-lg font-semibold text-slate-700",children:"No results"}),n.jsx("div",{className:"text-sm text-slate-500",children:"Try clearing filters or search"})]}):n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"hidden xl:block",children:n.jsx("div",{className:"w-full",children:n.jsxs("table",{className:"w-full",children:[n.jsx("thead",{className:"bg-slate-50 border-b border-slate-200",children:n.jsxs("tr",{children:[n.jsx(ho,{children:"Number"}),n.jsx(ho,{children:"Owner"}),n.jsx(ho,{children:"Region"}),n.jsx(ho,{children:"Country"}),n.jsx(ho,{children:"Status"}),n.jsx(ho,{children:"Last Month"}),n.jsx(ho,{children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:ae.map(B=>{const A=!!B.attached_assistant;return n.jsxs("tr",{className:"hover:bg-slate-50/60 transition-colors",children:[n.jsx(po,{children:n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-sm font-bold text-slate-900 break-all",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name})]})}),n.jsx(po,{children:B.owner?n.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-slate-700",children:[n.jsx(Fhe,{name:B.owner.name,size:34}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-xs font-semibold truncate",children:B.owner.name}),n.jsxs("div",{className:"flex items-center gap-1 text-[11px] text-slate-500 min-w-0",children:[n.jsx(wa,{className:"h-3.5 w-3.5 text-slate-400 shrink-0"}),n.jsx("span",{className:"truncate break-all",children:B.owner.email})]})]})]}):n.jsx("div",{className:"text-xs text-slate-500",children:""})}),n.jsx(po,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(bi,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-all",children:B.region})]})}),n.jsx(po,{children:n.jsxs("div",{className:"flex items-center gap-1 text-slate-700",children:[n.jsx(ci,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]})}),n.jsx(po,{children:A?n.jsxs(U0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(kn,{className:"mr-1 h-3.5 w-3.5"}),"Attached"]}):n.jsxs(U0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(cr,{className:"mr-1 h-3.5 w-3.5"}),"Unattached"]})}),n.jsx(po,{children:n.jsx("div",{className:"text-xs font-semibold text-slate-800",children:vP(B.last_month_payment)})}),n.jsx(po,{children:n.jsx("div",{className:"flex flex-wrap gap-2",children:n.jsx(Zr,{onClick:()=>ke(B.id),variant:"danger",size:"sm",disabled:A,title:A?"Detach from assistant before deleting":"Delete number",children:m===B.id?n.jsx(Ge,{className:"h-4 w-4 animate-spin"}):n.jsx(Dn,{className:"h-4 w-4"})})})})]},B.id)})})]})})}),n.jsx("div",{className:"xl:hidden p-3 sm:p-4",children:n.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:ae.map((B,A)=>{var R,q;const L=!!B.attached_assistant;return n.jsxs("div",{className:"relative rounded-2xl border border-slate-200 bg-white shadow-sm p-4 sm:p-5 overflow-hidden",children:[A===0&&n.jsx(Uhe,{}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-base font-bold text-slate-900 break-words",children:B.phone_number}),n.jsx("div",{className:"text-[11px] text-slate-500 break-all",children:B.friendly_name}),n.jsxs("div",{className:"mt-3 grid grid-cols-2 gap-2 text-sm",children:[n.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[n.jsx(sO,{className:"h-4 w-4 text-slate-500"}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"truncate font-semibold",children:((R=B.owner)==null?void 0:R.name)||""}),((q=B.owner)==null?void 0:q.email)&&n.jsx("div",{className:"text-xs text-slate-500 truncate",children:B.owner.email})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ci,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium",children:B.iso_country||""})]}),n.jsxs("div",{className:"flex items-center gap-2 col-span-2",children:[n.jsx(bi,{className:"h-4 w-4 text-slate-500"}),n.jsx("span",{className:"text-xs font-medium break-words",children:B.region})]}),n.jsx("div",{className:"col-span-2",children:L?n.jsxs(U0,{className:"border bg-blue-100 text-blue-700 border-blue-200",children:[n.jsx(kn,{className:"mr-1 h-3.5 w-3.5"})," Attached"]}):n.jsxs(U0,{className:"border bg-amber-100 text-amber-700 border-amber-200",children:[n.jsx(cr,{className:"mr-1 h-3.5 w-3.5"})," Unattached"]})})]}),n.jsx("div",{className:"mt-4 flex flex-wrap gap-2",children:n.jsx(Zr,{onClick:()=>ke(B.id),variant:"danger",size:"sm",className:"grow sm:grow-0",disabled:L,children:m===B.id?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-1"})," Deleting"]}):n.jsxs(n.Fragment,{children:[n.jsx(Dn,{className:"h-4 w-4 mr-1"})," Delete"]})})}),n.jsx("div",{className:"mt-3 text-[11px] text-slate-500 break-all",children:vP(B.last_month_payment)})]})]},B.id)})})}),F.length>_&&n.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-3 px-4 sm:px-6 py-3 border-t border-slate-200 bg-slate-50",children:[n.jsxs("div",{className:"text-sm text-slate-600",children:["Showing ",n.jsx("b",{children:U+1}),"",n.jsx("b",{children:Math.min(z,F.length)})," of ",n.jsx("b",{children:F.length})]}),n.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[n.jsxs(Zr,{onClick:()=>k(B=>Math.max(1,B-1)),disabled:S===1,children:[n.jsx(Pa,{className:"h-4 w-4 mr-1"})," Prev"]}),n.jsx("div",{className:"flex items-center gap-1 flex-wrap",children:Array.from({length:Math.min(5,K)},(B,A)=>{let L;if(K<=5||S<=3?L=A+1:S>=K-2?L=K-4+A:L=S-2+A,L<1||L>K)return null;const R=S===L;return n.jsx("button",{onClick:()=>k(L),className:`px-3 py-2 text-sm font-semibold rounded-xl ${R?"bg-blue-600 text-white":"bg-white text-slate-800 border border-slate-300 hover:bg-slate-50"}`,children:L},L)})}),n.jsxs(Zr,{onClick:()=>k(B=>Math.min(K,B+1)),disabled:S>=K,children:["Next ",n.jsx(wn,{className:"h-4 w-4 ml-1"})]})]})]})]})]})]}),n.jsx(It,{children:T&&n.jsxs(Vhe,{onClose:()=>E(null),title:"Confirm Delete",children:[n.jsxs("div",{className:"text-slate-800",children:["Are you sure you want to delete phone number"," ",n.jsx("b",{className:"break-words",children:((G=e.find(B=>B.id===T))==null?void 0:G.phone_number)||"this number"}),"?"," ","This action cannot be undone."]}),n.jsxs("div",{className:"mt-6 flex flex-wrap justify-end gap-2",children:[n.jsx(Zr,{onClick:()=>E(null),variant:"subtle",children:"Cancel"}),n.jsx(Zr,{onClick:se,disabled:m===T,variant:"danger",children:m===T?n.jsxs(n.Fragment,{children:[n.jsx(Ge,{className:"h-4 w-4 animate-spin mr-2"})," Deleting"]}):"Delete"})]})]})})]})}const qhe=()=>{const[e,t]=x.useState([]),[a,r]=x.useState({name:"",id:null}),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(!1),[h,g]=x.useState(null),b=rn();x.useEffect(()=>{y()},[]);const y=async()=>{try{const T=await fetch("http://localhost:8000/api/admin/get/use_leadid",{method:"GET",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}});if(!T.ok)throw new Error("Failed to fetch leads");const E=await T.json();t(E)}catch(T){console.error("Error fetching leads:",T)}},j=async()=>{try{if(!(await fetch("http://localhost:8000/api/admin/use_leadid",{method:"POST",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to create lead");r({name:"",id:null}),l(!1),u(!1),y()}catch(T){console.error("Error creating lead:",T)}},w=T=>{r({name:T.name,id:T.id}),l(!0),u(!0)},S=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${a.id}`,{method:"PUT",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"},body:JSON.stringify({name:a.name})})).ok)throw new Error("Failed to update lead");r({name:"",id:null}),l(!1),u(!1),y()}catch(T){console.error("Error updating lead:",T)}},k=async()=>{try{if(!(await fetch(`http://localhost:8000/api/admin/use_leadid/${h}`,{method:"DELETE",headers:{Authorization:`Bearer ${localStorage.getItem("token")}`,"Content-Type":"application/json"}})).ok)throw new Error("Failed to delete lead");f(!1),g(null),y()}catch(T){console.error("Error deleting lead:",T)}},_=T=>{b(`/admin/lead/${T}`)},C=e.length,P=e.length>0?e[e.length-1]:null;return n.jsx("div",{className:"min-h-screen bg-gray-100 p-4 sm:p-6 md:p-8 lg:px-[150px] lg:py-10 xl:px-[150px] xl:py-12",children:n.jsxs("div",{className:"max-w-7xl mx-auto",children:[n.jsx("div",{className:"mb-6",children:n.jsx("h1",{className:"text-xl sm:text-2xl md:text-3xl font-bold text-gray-900",children:"List Dashboard"})}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6",children:[n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Total List"}),n.jsx("p",{className:"text-2xl sm:text-3xl md:text-4xl font-bold text-gray-900",children:C})]}),n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-md hover:shadow-lg transition duration-300",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-2",children:"Last Created"}),n.jsx("p",{className:"text-sm sm:text-base md:text-lg text-gray-700 truncate",children:P?`${P.name} (${P.created_at})`:"No leads yet"})]})]}),n.jsx("div",{className:"flex justify-end mb-6",children:n.jsxs("button",{onClick:()=>{l(!s),u(!1),r({name:"",id:null})},className:"bg-blue-600 text-white px-4 sm:px-5 py-2 rounded-lg hover:bg-blue-700 transition duration-300 flex items-center gap-2 shadow-md text-sm sm:text-base",children:[s?"Cancel":"Create List",n.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:n.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:s?"M6 18L18 6M6 6l12 12":"M12 4v16m8-8H4"})})]})}),s&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-md",children:[n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700 mb-4",children:c?"Edit Lead":"Create Lead"}),n.jsxs("div",{className:"flex flex-col gap-4",children:[n.jsx("input",{type:"text",placeholder:"Lead Name",value:a.name,onChange:T=>r({...a,name:T.target.value}),className:"border border-gray-300 p-3 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600 transition duration-200 w-full text-sm sm:text-base","aria-label":"Lead Name"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>l(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:c?S:j,className:"bg-blue-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-blue-700 transition duration-200 text-sm sm:text-base",children:c?"Update":"Submit"})]})]})]})}),m&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center z-50 px-4",children:n.jsxs("div",{className:"bg-white p-4 sm:p-6 rounded-lg shadow-xl w-full max-w-xs sm:max-w-sm",children:[n.jsx("h2",{className:"text-base sm:text-lg font-semibold text-gray-900 mb-4",children:"Confirm Delete"}),n.jsx("p",{className:"text-sm sm:text-base text-gray-700 mb-6",children:"Are you sure you want to delete this lead?"}),n.jsxs("div",{className:"flex justify-end gap-3",children:[n.jsx("button",{onClick:()=>f(!1),className:"text-gray-600 hover:text-gray-800 px-3 sm:px-4 py-2 rounded-lg transition duration-200 text-sm sm:text-base",children:"Cancel"}),n.jsx("button",{onClick:k,className:"bg-red-600 text-white px-3 sm:px-4 py-2 rounded-lg hover:bg-red-700 transition duration-200 text-sm sm:text-base",children:"Confirm"})]})]})}),n.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-x-auto",children:[n.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-200",children:n.jsx("h2",{className:"text-base sm:text-lg md:text-xl font-semibold text-blue-700",children:"Lists"})}),n.jsxs("table",{className:"w-full text-sm sm:text-base",children:[n.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:n.jsxs("tr",{className:"hidden sm:table-row",children:[n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[25%]",children:"ID"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Name"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[30%]",children:"Created At"}),n.jsx("th",{className:"p-4 sm:p-6 text-left font-semibold text-gray-700 w-[15%]",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-gray-200",children:e.map(T=>n.jsxs("tr",{className:"hover:bg-gray-50 transition duration-200 block sm:table-row",children:[n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"ID: "}),T.id]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Name: "}),T.name]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell text-gray-600",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Created At: "}),T.created_at]}),n.jsxs("td",{className:"p-4 sm:p-6 block sm:table-cell",children:[n.jsx("span",{className:"sm:hidden font-semibold",children:"Actions: "}),n.jsxs("div",{className:"flex gap-2 sm:gap-3",children:[n.jsx("button",{onClick:()=>_(T.id),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"View lead",children:n.jsx(mW,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>w(T),className:"text-blue-600 hover:text-blue-800 transition duration-200 p-2","aria-label":"Edit lead",children:n.jsx(uW,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),n.jsx("button",{onClick:()=>{g(T.id),f(!0)},className:"text-red-600 hover:text-red-700 transition duration-200 p-2","aria-label":"Delete lead",children:n.jsx(hW,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]})]},T.id))})]})]})]})})},yP="https://aisdr-dbt.ddns.net",jP={LIST:`${yP}/api/admin/leadss`,UPDATE:e=>`${yP}/api/admin/leads/${e}`};function Ko(...e){return e.filter(Boolean).join(" ")}const nr=e=>{if(e==null)return"Unknown";const t=String(e).trim();return t===""||t.toLowerCase()==="null"||t.toLowerCase()==="undefined"?"Unknown":t};function Khe(e,t=250){const[a,r]=x.useState(e);return x.useEffect(()=>{const s=setTimeout(()=>r(e),t);return()=>clearTimeout(s)},[e,t]),a}function Ghe(e){if(!e)return"";const t=new Date(e);if(isNaN(t.getTime()))return"";const a=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),s=String(t.getDate()).padStart(2,"0");return`${a}-${r}-${s}`}function wP(e){try{const t=new Date(e);return isNaN(t.getTime())?"Unknown":t.toLocaleString()}catch{return"Unknown"}}const Yhe={hidden:{opacity:0,y:8},show:{opacity:1,y:0,transition:{duration:.24,ease:"easeOut"}}},NP={show:{transition:{staggerChildren:.05}}},Whe={hidden:{opacity:0,scale:.98,y:12},show:{opacity:1,scale:1,y:0,transition:{duration:.25}},exit:{opacity:0,scale:.98,y:12,transition:{duration:.18}}},Xhe={hidden:{opacity:0},show:{opacity:1,transition:{duration:.18}},exit:{opacity:0,transition:{duration:.12}}};function Xc({children:e,tone:t="slate"}){const a={slate:"bg-slate-100 text-slate-700 ring-slate-200",green:"bg-emerald-100 text-emerald-700 ring-emerald-200",red:"bg-rose-100 text-rose-700 ring-rose-200",blue:"bg-blue-100 text-blue-700 ring-blue-200"};return n.jsx("span",{className:Ko("inline-flex items-center rounded-full px-2.5 py-1 text-xs ring-1",a[t]||a.slate),children:e})}function ej({label:e,value:t,Icon:a,tone:r="blue"}){const s=r==="blue"?"ring-blue-200/60":r==="cyan"?"ring-cyan-200/60":"ring-slate-200/60",l=r==="blue"?"from-blue-600 to-cyan-500":r==="cyan"?"from-cyan-500 to-blue-600":"from-slate-500 to-slate-700";return n.jsx(pe.div,{initial:{y:8,opacity:0},animate:{y:0,opacity:1},className:"relative rounded-3xl border border-slate-200 bg-white p-5 shadow-xl",children:n.jsxs("div",{className:"relative z-10 flex items-center gap-3",children:[n.jsx("div",{className:`flex h-12 w-12 items-center justify-center rounded-2xl bg-gradient-to-br ${l} text-white shadow-inner ring-1 ${s}`,children:n.jsx(a,{className:"h-7 w-7"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-xs uppercase tracking-wider text-slate-500",children:e}),n.jsx("div",{className:"text-2xl font-black text-slate-900",children:t})]})]})})}function Zhe(){const e=x.useRef(localStorage.getItem("token")||null),[t,a]=x.useState([]),[r,s]=x.useState(!0),[l,c]=x.useState(!1),[u,m]=x.useState(""),f=Khe(u,250),[h,g]=x.useState("add_date"),[b,y]=x.useState("desc"),[j,w]=x.useState(1),[S,k]=x.useState(12),[_,C]=x.useState(!1),[P,T]=x.useState(!1),[E,$]=x.useState(null),[M,F]=x.useState({first_name:"",last_name:"",email:"",add_date:"",salesforce_id:"",mobile:"",state:""});async function K(){if(!e.current){s(!1),I.error("No auth token found. Please log in.");return}try{s(!0);const q=await fetch(jP.LIST,{headers:{Authorization:`Bearer ${e.current}`}});if(!q.ok)throw new Error(`HTTP ${q.status}`);const ce=await q.json(),Z=Array.isArray(ce)?ce:Array.isArray(ce==null?void 0:ce.leads)?ce.leads:[];a(Z)}catch(q){console.error(q),I.error("Failed to fetch leads"),a([])}finally{s(!1)}}x.useEffect(()=>{K()},[]);async function z(){c(!0),await K(),c(!1)}const U=x.useMemo(()=>{const q=f.trim().toLowerCase();let ce=t.filter(W=>q?[`${W.first_name||""} ${W.last_name||""}`.toLowerCase(),(W.email||"").toLowerCase(),(W.mobile||"").toLowerCase(),(W.salesforce_id||"").toLowerCase(),(W.state||"").toLowerCase()].some(je=>je.includes(q)):!0);const Z=b==="asc"?1:-1;return ce.sort((W,_e)=>{const te=`${W.first_name||""} ${W.last_name||""}`.trim().toLowerCase(),je=`${_e.first_name||""} ${_e.last_name||""}`.trim().toLowerCase();let Ee,Ae;switch(h){case"name":Ee=te,Ae=je;break;case"email":Ee=(W.email||"").toLowerCase(),Ae=(_e.email||"").toLowerCase();break;case"mobile":Ee=(W.mobile||"").toLowerCase(),Ae=(_e.mobile||"").toLowerCase();break;case"state":Ee=(W.state||"").toLowerCase(),Ae=(_e.state||"").toLowerCase();break;case"add_date":default:Ee=new Date(W.add_date||0).getTime(),Ae=new Date(_e.add_date||0).getTime()}return Ee<Ae?-1*Z:Ee>Ae?1*Z:0}),ce},[t,f,h,b]),ae=U.length,ke=Math.max(1,Math.ceil(ae/S));x.useEffect(()=>{j>ke&&w(ke)},[j,ke]);const se=(j-1)*S,O=se+S,H=U.slice(se,O),G=x.useMemo(()=>{const q=U.filter(Z=>!Z.dnc).length,ce=U.filter(Z=>!!Z.dnc).length;return{total:U.length,callable:q,dnc:ce}},[U]);function B(q){$(q),F({first_name:q.first_name||"",last_name:q.last_name||"",email:q.email||"",add_date:Ghe(q.add_date),salesforce_id:q.salesforce_id||"",mobile:q.mobile||"",state:q.state||""}),C(!0)}function A(q){const{name:ce,value:Z}=q.target;F(W=>({...W,[ce]:Z}))}async function L(){if(!E)return;if(!e.current){I.error("No auth token found.");return}const q={first_name:M.first_name||"",last_name:M.last_name||"",email:M.email||"",add_date:M.add_date||"",salesforce_id:M.salesforce_id||null,mobile:M.mobile||"",state:M.state||null};try{T(!0);const ce=await fetch(jP.UPDATE(E.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${e.current}`},body:JSON.stringify(q)}),Z=await ce.json().catch(()=>({}));if(!ce.ok||(Z==null?void 0:Z.success)===!1)throw new Error((Z==null?void 0:Z.detail)||`HTTP ${ce.status}`);const W=(Z==null?void 0:Z.updated_lead)||{...E,...q};a(_e=>_e.map(te=>te.id===E.id?{...te,...W}:te)),I.success("Lead updated"),C(!1),$(null)}catch(ce){console.error(ce),I.error((ce==null?void 0:ce.message)||"Update failed")}finally{T(!1)}}function R(q){g(ce=>ce===q?(y(Z=>Z==="asc"?"desc":"asc"),ce):(y(q==="add_date"?"desc":"asc"),q)),w(1)}return n.jsxs("div",{className:"min-h-screen w-full text-slate-900 bg-gradient-to-b from-slate-50 via-white to-slate-50 relative",children:[n.jsxs("div",{className:"pointer-events-none absolute inset-0 -z-10 overflow-hidden",children:[n.jsx("div",{className:"absolute -top-24 -left-24 h-72 w-72 rounded-full bg-blue-400/15 blur-3xl"}),n.jsx("div",{className:"absolute top-1/3 -right-20 h-72 w-72 rounded-full bg-cyan-400/20 blur-3xl animate-pulse"}),n.jsx("div",{className:"absolute bottom-0 left-1/3 h-72 w-72 rounded-full bg-indigo-400/10 blur-3xl"})]}),n.jsx("header",{className:"relative z-0 border-b border-slate-200/70 bg-white/60 backdrop-blur after:absolute after:inset-x-0 after:-bottom-[1px] after:h-[2px] after:bg-gradient-to-r after:from-transparent after:via-cyan-400/70 after:to-transparent",children:n.jsxs("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-5",children:[n.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-black tracking-tight",children:n.jsx("span",{className:"bg-gradient-to-r from-blue-600 via-cyan-500 to-blue-600 bg-clip-text text-transparent",children:"Leads"})}),n.jsx("p",{className:"text-sm text-slate-600",children:"View, search, and edit leads."})]}),n.jsx("div",{className:"flex items-center gap-2",children:n.jsx(SP,{onClick:z,icon:n.jsx(Ge,{className:Ko("h-4 w-4",l&&"animate-spin")}),children:"Refresh"})})]}),n.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3 sm:grid-cols-3",children:[n.jsxs("div",{className:"relative sm:col-span-2",children:[n.jsx(Ha,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),n.jsx("input",{value:u,onChange:q=>{m(q.target.value),w(1)},placeholder:"Search name, email, mobile, Salesforce ID, state",className:"w-full rounded-2xl border border-slate-200/70 bg-white/80 pl-10 pr-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/60 transition focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300","aria-label":"Search leads"})]}),n.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3",children:[n.jsxs("div",{className:"text-sm text-slate-600 hidden sm:block",children:["Total: ",n.jsx("span",{className:"font-semibold text-slate-900",children:ae})]}),n.jsx("select",{value:S,onChange:q=>{k(Number(q.target.value)),w(1)},className:"rounded-2xl border border-slate-200/70 bg-white/80 px-3 py-2 text-sm outline-none ring-1 ring-white/60 focus:ring-2 focus:ring-cyan-400/40","aria-label":"Rows per page",children:[12,24,48,96].map(q=>n.jsxs("option",{value:q,children:[q," / page"]},q))})]})]})]})}),n.jsx("div",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 py-6",children:n.jsxs("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 xl:grid-cols-3",children:[n.jsx(ej,{label:"Total Leads",value:G.total,Icon:Ca,tone:"blue"}),n.jsx(ej,{label:"Callable",value:G.callable,Icon:kn,tone:"cyan"}),n.jsx(ej,{label:"DNC",value:G.dnc,Icon:cr,tone:"blue"})]})}),n.jsxs("main",{className:"mx-auto max-w-[1400px] px-4 sm:px-6 lg:px-8 pb-6",children:[n.jsx(pe.div,{initial:"hidden",animate:"show",variants:NP,className:"hidden lg:block overflow-x-auto rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/50",children:n.jsxs("table",{className:"min-w-full text-left",children:[n.jsx("thead",{className:"bg-slate-50/80 text-slate-600 text-sm",children:n.jsxs("tr",{className:"[&>th]:px-5 [&>th]:py-3",children:[n.jsx(pm,{sortKey:"add_date",sortBy:h,sortDir:b,onSort:R,children:"Added"}),n.jsx(pm,{sortKey:"name",sortBy:h,sortDir:b,onSort:R,children:"Name"}),n.jsx(pm,{sortKey:"email",sortBy:h,sortDir:b,onSort:R,children:"Email"}),n.jsx(pm,{sortKey:"mobile",sortBy:h,sortDir:b,onSort:R,children:"Mobile"}),n.jsx(pm,{sortKey:"state",sortBy:h,sortDir:b,onSort:R,children:"State"}),n.jsx("th",{className:"px-5 py-3",children:"SFDC"}),n.jsx("th",{className:"px-5 py-3",children:"Status"}),n.jsx("th",{className:"px-5 py-3 text-right",children:"Actions"})]})}),n.jsx("tbody",{className:"divide-y divide-slate-100",children:r?n.jsx(kP,{rows:8,cols:8}):H.length===0?n.jsx("tr",{children:n.jsx("td",{colSpan:8,className:"px-5 py-12 text-center text-slate-600",children:"No leads found. Try searching something else."})}):H.map(q=>{const ce=`${nr(q.first_name)} ${q.last_name?nr(q.last_name):""}`.trim();return n.jsxs(pe.tr,{variants:Yhe,className:"hover:bg-slate-50/70 transition-colors",children:[n.jsx("td",{className:"px-5 py-3 text-sm text-slate-600 whitespace-nowrap",children:q.add_date?n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(Gz,{className:"h-4 w-4 text-slate-400"}),wP(q.add_date)]}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 font-medium text-slate-900",children:ce}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(wa,{className:"h-4 w-4 text-slate-400"}),nr(q.email)]})}),n.jsx("td",{className:"px-5 py-3 text-slate-800 break-all",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(B3,{className:"h-4 w-4 text-slate-400"}),nr(q.mobile)]})}),n.jsx("td",{className:"px-5 py-3",children:q.state?n.jsx(Xc,{tone:"blue",children:nr(q.state)}):"Unknown"}),n.jsx("td",{className:"px-5 py-3 text-slate-800",children:n.jsxs("span",{className:"inline-flex items-center gap-1.5",children:[n.jsx(L3,{className:"h-4 w-4 text-slate-400"}),nr(q.salesforce_id)]})}),n.jsx("td",{className:"px-5 py-3",children:q.dnc?n.jsx(Xc,{tone:"red",children:"DNC"}):n.jsx(Xc,{tone:"green",children:"Callable"})}),n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"flex items-center justify-end",children:n.jsx(tj,{onClick:()=>B(q),icon:n.jsx(I3,{className:"h-4 w-4"}),children:"Edit"})})})]},q.id)})})]})}),n.jsx("div",{className:"lg:hidden",children:r?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-4",children:n.jsx(kP,{rows:6,cols:1})}):H.length===0?n.jsx("div",{className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur shadow p-8 text-center text-slate-600",children:"No leads found. Try searching something else."}):n.jsx(pe.div,{initial:"hidden",animate:"show",variants:NP,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:H.map(q=>{const ce=`${nr(q.first_name)} ${q.last_name?nr(q.last_name):""}`.trim();return n.jsxs(pe.article,{variants:Whe,className:"rounded-3xl border border-slate-200/70 bg-white/70 backdrop-blur ring-1 ring-white/60 shadow hover:shadow-lg transition-shadow p-4",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3",children:[n.jsxs("div",{className:"min-w-0",children:[n.jsx("h3",{className:"text-base font-semibold text-slate-900 break-words",children:ce}),n.jsx("p",{className:"text-xs text-slate-600 mt-0.5",children:q.add_date?wP(q.add_date):"Unknown"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[q.state?n.jsx(Xc,{tone:"blue",children:nr(q.state)}):null,q.dnc?n.jsx(Xc,{tone:"red",children:"DNC"}):n.jsx(Xc,{tone:"green",children:"Callable"})]})]}),n.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-2",children:[n.jsx(V0,{icon:n.jsx(wa,{className:"h-4 w-4"}),label:"Email",value:nr(q.email),copySafe:!0}),n.jsx(V0,{icon:n.jsx(B3,{className:"h-4 w-4"}),label:"Mobile",value:nr(q.mobile),copySafe:!0}),n.jsx(V0,{icon:n.jsx(L3,{className:"h-4 w-4"}),label:"SFDC",value:nr(q.salesforce_id)}),q.timezone?n.jsx(V0,{icon:n.jsx(vi,{className:"h-4 w-4"}),label:"Timezone",value:nr(q.timezone)}):null]}),n.jsx("div",{className:"mt-4 flex justify-end",children:n.jsx(tj,{onClick:()=>B(q),icon:n.jsx(I3,{className:"h-4 w-4"}),children:"Edit"})})]},q.id)})})}),!r&&ae>0&&n.jsxs("div",{className:"mt-6 flex flex-col items-center justify-between gap-3 sm:flex-row text-slate-700",children:[n.jsxs("div",{className:"text-sm",children:["Showing ",n.jsx("span",{className:"font-semibold text-slate-900",children:Math.min(O,ae)})," of ",ae]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[n.jsxs(_P,{disabled:j<=1,onClick:()=>w(q=>Math.max(1,q-1)),children:[n.jsx(Pa,{className:"h-4 w-4"})," Prev"]}),n.jsxs("div",{className:"text-sm",children:["Page ",n.jsx("span",{className:"font-semibold text-slate-900",children:j})," / ",ke]}),n.jsxs(_P,{disabled:j>=ke,onClick:()=>w(q=>Math.min(ke,q+1)),children:["Next ",n.jsx(wn,{className:"h-4 w-4"})]})]})]})]}),n.jsx(It,{children:_&&n.jsxs(n.Fragment,{children:[n.jsx(pe.div,{className:"fixed inset-0 z-40 bg-black/40 backdrop-blur-sm",variants:Xhe,initial:"hidden",animate:"show",exit:"exit",onClick:()=>C(!1)}),n.jsxs(pe.section,{className:"fixed inset-y-0 right-0 z-50 w-full sm:w-[560px] md:w-[720px] bg-white shadow-2xl border-l border-slate-200 flex flex-col",initial:{x:"100%"},animate:{x:0,transition:{type:"spring",stiffness:260,damping:28}},exit:{x:"100%",transition:{duration:.2}},"aria-label":"Edit lead",children:[n.jsxs("div",{className:"sticky top-0 bg-white/90 backdrop-blur border-b border-slate-200 p-4 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("button",{onClick:()=>C(!1),className:"grid h-9 w-9 place-items-center rounded-xl border border-slate-200 hover:bg-slate-50","aria-label":"Close",children:n.jsx(Oa,{className:"h-5 w-5"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-lg font-bold leading-tight",children:"Edit Lead"}),n.jsxs("p",{className:"text-xs text-slate-600",children:["Changes are saved to ",n.jsxs("span",{className:"font-medium",children:["#",E==null?void 0:E.id]})]})]})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(SP,{onClick:()=>C(!1),children:"Cancel"}),n.jsx(tj,{onClick:L,disabled:P,icon:P?n.jsx(_n,{className:"h-4 w-4 animate-spin"}):void 0,children:P?"Saving":"Save"})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-6",children:[n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[n.jsx(xo,{label:"First name",name:"first_name",value:M.first_name,onChange:A}),n.jsx(xo,{label:"Last name",name:"last_name",value:M.last_name,onChange:A}),n.jsx(xo,{label:"Email",name:"email",value:M.email,onChange:A,type:"email"}),n.jsx(xo,{label:"Mobile",name:"mobile",value:M.mobile,onChange:A}),n.jsx(xo,{label:"Salesforce ID",name:"salesforce_id",value:M.salesforce_id,onChange:A}),n.jsx(xo,{label:"Add date",name:"add_date",value:M.add_date,onChange:A,type:"date"}),n.jsx(xo,{label:"State",name:"state",value:M.state,onChange:A})]}),n.jsxs("div",{className:"mt-6 rounded-2xl border border-slate-200 bg-slate-50/60 p-4 text-sm text-slate-700",children:[n.jsx("div",{className:"font-semibold mb-2",children:"Quick Summary"}),n.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Name:"})," ",M.first_name||"Unknown"," ",M.last_name||""]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Email:"})," ",M.email||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"Mobile:"})," ",M.mobile||"Unknown"]}),n.jsxs("div",{children:[n.jsx("span",{className:"text-slate-500",children:"State:"})," ",M.state||"Unknown"]})]})]})]})]})]})})]})}function tj({children:e,onClick:t,disabled:a,icon:r,type:s="button"}){return n.jsxs(pe.button,{whileTap:a?void 0:{scale:.98},type:s,onClick:t,disabled:a,className:Ko("inline-flex items-center gap-2 rounded-2xl px-3.5 py-2 font-semibold text-white transition","bg-gradient-to-r from-blue-600 to-cyan-600 hover:from-blue-500 hover:to-cyan-500 active:from-blue-700 active:to-cyan-700","shadow-[0_8px_24px_-12px_rgba(37,99,235,0.55)]","disabled:opacity-60 disabled:cursor-not-allowed"),children:[r,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function SP({children:e,onClick:t,icon:a,type:r="button"}){return n.jsxs(pe.button,{whileTap:{scale:.98},type:r,onClick:t,className:"inline-flex items-center gap-2 rounded-2xl border border-slate-200 bg-white px-3.5 py-2 font-medium text-slate-800 ring-1 ring-white/70 transition hover:bg-slate-50",children:[a,n.jsx("span",{className:"whitespace-nowrap",children:e})]})}function _P({children:e,disabled:t,onClick:a}){return n.jsx(pe.button,{whileTap:t?void 0:{scale:.98},disabled:t,onClick:a,className:Ko("inline-flex items-center gap-2 rounded-2xl border px-3.5 py-2 text-sm transition",t?"cursor-not-allowed border-slate-200 text-slate-400 bg-white":"border-slate-300 bg-white text-slate-800 hover:bg-slate-50"),children:e})}function pm({children:e,sortKey:t,sortBy:a,sortDir:r,onSort:s}){const l=a===t;return n.jsx("th",{className:Ko("px-5 py-3 font-semibold select-none cursor-pointer",l&&"text-slate-900"),onClick:()=>s(t),title:"Sort",children:n.jsxs("span",{className:"inline-flex items-center gap-1",children:[e,n.jsx("span",{className:Ko("text-xs",l?"opacity-100":"opacity-20"),children:l?r==="asc"?"":"":""})]})})}function kP({rows:e=6,cols:t=6}){return n.jsx(n.Fragment,{children:Array.from({length:e}).map((a,r)=>n.jsx("tr",{className:"animate-pulse",children:Array.from({length:t}).map((s,l)=>n.jsx("td",{className:"px-5 py-3",children:n.jsx("div",{className:"h-4 w-28 rounded bg-slate-100"})},l))},r))})}function xo({label:e,name:t,value:a,onChange:r,type:s="text"}){return n.jsxs("label",{className:"block",children:[n.jsx("span",{className:"mb-1 block text-sm font-semibold text-slate-700",children:e}),n.jsx("input",{type:s,name:t,value:a,onChange:r,className:"w-full rounded-2xl border border-slate-200 bg-white px-3 py-2.5 text-slate-900 placeholder-slate-400 outline-none ring-1 ring-white/70 focus:ring-2 focus:ring-cyan-400/40 focus:border-cyan-300"})]})}function V0({label:e,value:t,copySafe:a=!1,icon:r}){return n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"mt-0.5 text-slate-400",children:r}),n.jsxs("div",{className:"min-w-0",children:[n.jsx("div",{className:"text-[11px] uppercase tracking-wide text-slate-500",children:e}),n.jsx("div",{className:Ko("text-sm text-slate-800",a?"break-all":"break-words"),children:t})]})]})}const Qhe=()=>{const[e,t]=x.useState(null),[a,r]=x.useState(!1),[s,l]=x.useState(!1),[c,u]=x.useState(!1),[m,f]=x.useState(""),[h,g]=x.useState(!0),[b,y]=x.useState(0),j=x.useRef(null),w=x.useRef(null),{id:S}=lf(),k=5*1024*1024,_=()=>localStorage.getItem("token")||null;x.useEffect(()=>{const U=ae=>{c&&(ae.key==="Enter"||ae.key==="Escape")&&u(!1)};return window.addEventListener("keydown",U),()=>window.removeEventListener("keydown",U)},[c]);const C=U=>{U.preventDefault(),U.stopPropagation(),r(!0)},P=U=>{U.preventDefault(),U.stopPropagation(),r(!1)},T=U=>{U.preventDefault(),U.stopPropagation()},E=U=>{U.preventDefault(),U.stopPropagation(),r(!1);const ae=U.dataTransfer.files[0];ae&&ae.type==="text/csv"?ae.size>k?(f("File size exceeds 5MB limit."),g(!1),u(!0)):t(ae):(f("Please upload a valid CSV file."),g(!1),u(!0))},$=U=>{const ae=U.target.files[0];ae&&ae.type==="text/csv"?ae.size>k?(f("File size exceeds 5MB limit."),g(!1),u(!0)):t(ae):(f("Please upload a valid CSV file."),g(!1),u(!0))},M=()=>{j.current.click()},F=()=>{const U=`name,email,mobileno,custom_field_1,custom_field_2,leadsid
John Doe,john.doe@example.com,1234567890,Value1,Extra1,2
Jane Smith,jane.smith@example.com,0987654321,Value2,Extra2,2
Bob Johnson,bob.johnson@example.com,5555555555,Value3,Extra3,2`,ae=new Blob([U],{type:"text/csv"}),ke=window.URL.createObjectURL(ae),se=document.createElement("a");se.href=ke,se.download="sample_users.csv",document.body.appendChild(se),se.click(),document.body.removeChild(se),window.URL.revokeObjectURL(ke)},K=async()=>{if(!e){f("No file selected. Please choose a CSV file."),g(!1),u(!0);return}const U=_();if(!U){console.error("No auth token found. Please log in."),f("Please log in to continue."),g(!1),u(!0);return}const ae=new FormData;ae.append("file",e);try{l(!0),y(0);const ke=await fetch("http://localhost:8000/api/admin/user/upload-csv",{method:"POST",headers:{Authorization:`Bearer ${U}`},body:ae});if(y(100),ke.ok){const se=await ke.json();console.log("File uploaded successfully:",se),f("CSV file uploaded successfully!"),g(!0),u(!0),t(null),j.current&&(j.current.value="")}else{let se=`HTTP error! status: ${ke.status}`;try{const O=await ke.json();O&&O.error&&(se=O.error)}catch{}throw new Error(se)}}catch(ke){console.error("Error uploading file:",ke),f("Failed to upload CSV file. Please try again."),g(!1),u(!0)}finally{l(!1),y(0)}},z=U=>U<1024?`${U} B`:U<1024*1024?`${(U/1024).toFixed(2)} KB`:`${(U/(1024*1024)).toFixed(2)} MB`;return n.jsxs("div",{className:"min-h-screen bg-gray-100 flex flex-col items-center justify-center p-6 animate-fade-in",children:[n.jsx("div",{className:`w-full max-w-3xl bg-white p-10 rounded-xl shadow-lg border-2 ${a?"border-blue-400":"border-gray-200"} transition-colors duration-200`,onDragEnter:C,onDragOver:T,onDragLeave:P,onDrop:E,children:n.jsxs("div",{className:"text-center",children:[n.jsx(eD,{className:`mx-auto text-5xl ${a?"text-blue-400":"text-gray-300"} animate-pulse mb-6`}),n.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:"Upload Your CSV File"}),n.jsx("p",{className:"text-gray-500 mb-6",children:"Drag and drop a CSV file here or click to select. Maximum file size: 5MB."}),n.jsxs("div",{className:"flex justify-center gap-4",children:[n.jsx("input",{type:"file",accept:".csv",onChange:$,ref:j,className:"hidden"}),n.jsx("button",{onClick:M,className:"bg-blue-400 text-white px-8 py-3 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm",children:"Choose File"}),n.jsxs("button",{onClick:F,className:"bg-gray-600 text-white px-8 py-3 rounded-lg hover:bg-gray-700 transition-colors duration-200 shadow-sm flex items-center gap-2",children:[n.jsx(QM,{}),"Download Sample CSV"]})]}),e&&n.jsxs("div",{className:"mt-6 text-gray-600 bg-gray-50 p-4 rounded-lg",children:[n.jsxs("p",{children:[n.jsx("strong",{children:"File:"})," ",e.name]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Size:"})," ",z(e.size)]}),n.jsxs("p",{children:[n.jsx("strong",{children:"Last Modified:"})," ",new Date(e.lastModified).toLocaleDateString()]})]})]})}),n.jsxs("div",{className:"w-full max-w-3xl mt-8",children:[n.jsx("button",{onClick:K,disabled:s||!e,className:`w-full bg-blue-400 text-white px-6 py-4 rounded-lg hover:bg-blue-500 transition-colors duration-200 shadow-sm flex items-center justify-center gap-2 ${s||!e?"opacity-50 cursor-not-allowed":""}`,children:s?"Uploading...":"Upload CSV"}),s&&n.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mt-2",children:n.jsx("div",{className:"bg-blue-400 h-2 rounded-full transition-all duration-300",style:{width:`${b}%`}})})]}),c&&n.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-40 backdrop-blur-sm flex items-center justify-center zoutdated-50 transition-opacity duration-200",children:n.jsxs("div",{ref:w,className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full animate-fade-in",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h?n.jsx(ZM,{className:"text-green-400 text-2xl"}):n.jsx(JM,{className:"text-red-400 text-2xl"}),n.jsx("h3",{className:"text-lg font-semibold text-gray-700",children:"Upload Status"})]}),n.jsx("p",{className:"text-gray-500 mb-6",children:m}),n.jsx("div",{className:"flex justify-end",children:n.jsx("button",{onClick:()=>u(!1),className:"bg-black text-white px-6 py-2 rounded-lg hover:bg-gray-800 transition-colors duration-200",children:"Confirm"})})]})})]})};function Xn({children:e}){const t=rn(),[a,r]=x.useState(!1),[s,l]=x.useState(!0);return x.useEffect(()=>{const c=localStorage.getItem("token"),u=localStorage.getItem("role");if(!c||!u){I.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}u==="user"?r(!0):u==="admin"?(I.error("You are not authorized to access this page."),t("/admin",{replace:!0})):(I.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0})),l(!1)},[t]),s?n.jsx("div",{children:"Loading..."}):a?e:null}function Xr({children:e}){const t=rn(),[a,r]=x.useState(!1);return x.useEffect(()=>{try{const s=localStorage.getItem("token"),l=localStorage.getItem("role");if(!s||!l){I.error("Authentication required. Please log in."),localStorage.removeItem("token"),localStorage.removeItem("role"),t("/login",{replace:!0});return}l==="admin"?r(!0):l==="user"?(I.error("You are not authorized to access this page."),t("/user",{replace:!0})):(I.error("Unknown user role. Please log in again."),localStorage.clear(),t("/login",{replace:!0}))}catch{I.error("An unexpected error occurred. Please log in again."),localStorage.clear(),t("/login",{replace:!0})}},[t]),a?e:null}function Jhe(){return n.jsxs(n.Fragment,{children:[n.jsx(PB,{children:n.jsxs(oB,{children:[n.jsx(pt,{path:"/",element:n.jsx(iB,{to:"/signup"})}),n.jsx(pt,{path:"/signup",element:n.jsx(CV,{})}),n.jsx(pt,{path:"/login",element:n.jsx(NY,{})}),n.jsx(pt,{path:"/otp",element:n.jsx(wY,{})}),n.jsx(pt,{path:"/forget_password",element:n.jsx(_Y,{})}),n.jsx(pt,{path:"/profile",element:n.jsx(ZY,{})}),n.jsx(pt,{path:"/privacy-policy",element:n.jsx(eW,{})}),n.jsx(pt,{path:"/terms",element:n.jsx(tW,{})}),n.jsxs(pt,{path:"/user",element:n.jsx(gW,{}),children:[n.jsx(pt,{path:"dashboard",element:n.jsx(Xn,{children:n.jsx(nme,{})})}),n.jsx(pt,{path:"Appointments",element:n.jsx(Xn,{children:n.jsx(Efe,{})})}),n.jsx(pt,{path:"PricingSection",element:n.jsx(Xn,{children:n.jsx(ehe,{})})}),n.jsx(pt,{path:"CustomForms",element:n.jsx(Xn,{children:n.jsx(Lfe,{})})}),n.jsx(pt,{path:"FacebookForms",element:n.jsx(Xn,{children:n.jsx(Ufe,{})})}),n.jsx(pt,{path:"TextAssistants",element:n.jsx(Xn,{children:n.jsx(Gfe,{})})}),n.jsx(pt,{path:"PhoneCalls",element:n.jsx(Xn,{children:n.jsx(hme,{})})}),n.jsx(pt,{path:"callhistory",element:n.jsx(Xn,{children:n.jsx(Ome,{})})}),n.jsx(pt,{path:"settings",element:n.jsx(Xn,{children:n.jsx(Pme,{})})}),n.jsx(pt,{path:"CRM",element:n.jsx(Xn,{children:n.jsx(kfe,{})})}),n.jsx(pt,{path:"callassistent",element:n.jsx(Xn,{children:n.jsx(Lme,{})})}),n.jsx(pt,{path:"edit-assistant/:assistantId",element:n.jsx(Xn,{children:n.jsx(Vme,{})})}),n.jsx(pt,{path:"assistant/create",element:n.jsx(Xn,{children:n.jsx(Wme,{})})}),n.jsx(pt,{path:"leads",element:n.jsx(Xn,{children:n.jsx(Jme,{})})}),n.jsx(pt,{path:"lead/:id",element:n.jsx(Xn,{children:n.jsx(afe,{})})}),n.jsx(pt,{path:"upload-csv",element:n.jsx(Xn,{children:n.jsx(ife,{})})}),n.jsx(pt,{path:"campaigns",element:n.jsx(Xn,{children:n.jsx(GE,{})})}),n.jsx(pt,{path:"campain",element:n.jsx(Xn,{children:n.jsx(GE,{})})})]}),n.jsxs(pt,{path:"/admin",element:n.jsx(ihe,{}),children:[n.jsx(pt,{path:"dashboard",element:n.jsx(Xr,{children:n.jsx(yhe,{})})}),n.jsx(pt,{path:"Users",element:n.jsx(Xr,{children:n.jsx(dhe,{})})}),n.jsx(pt,{path:"PhoneCalls",element:n.jsx(Xr,{children:n.jsx(She,{})})}),n.jsx(pt,{path:"settings",element:n.jsx(Xr,{children:n.jsx(jhe,{})})}),n.jsx(pt,{path:"addassistands",element:n.jsx(Xr,{children:n.jsx(Ehe,{})})}),n.jsx(pt,{path:"edit-assistants/:assistantId",element:n.jsx(Xr,{children:n.jsx(Mhe,{})})}),n.jsx(pt,{path:"assistants",element:n.jsx(Xr,{children:n.jsx(Dhe,{})})}),n.jsx(pt,{path:"callhistory",element:n.jsx(Xr,{children:n.jsx(Hhe,{})})}),n.jsx(pt,{path:"lead/:id",element:n.jsx(Xr,{children:n.jsx(qhe,{})})}),n.jsx(pt,{path:"lead",element:n.jsx(Xr,{children:n.jsx(Zhe,{})})}),n.jsx(pt,{path:"upload-csv",element:n.jsx(Xr,{children:n.jsx(Qhe,{})})})]}),n.jsx(pt,{path:"*",element:n.jsx(AV,{})})]})}),n.jsx(wz,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})}pI.createRoot(document.getElementById("root")).render(n.jsx(x.StrictMode,{children:n.jsx(Jhe,{})}));
